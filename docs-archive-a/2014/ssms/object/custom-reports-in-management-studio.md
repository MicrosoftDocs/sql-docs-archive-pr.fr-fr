---
title: Rapports personnalisés dans Management Studio | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ssms
ms.topic: conceptual
f1_keywords:
- sql12.swb.summary.new.custom.report.f1
helpviewer_keywords:
- SQL Server Management Studio [SQL Server], custom reports
ms.assetid: 1ba3f758-f39b-4f5f-91ca-516cedc78979
author: stevestein
ms.author: sstein
ms.openlocfilehash: bc93157100738610c8576f0af40e75613c3cff62
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87599763"
---
# <a name="custom-reports-in-management-studio"></a><span data-ttu-id="57e5d-102">Rapports personnalisés dans Management Studio</span><span class="sxs-lookup"><span data-stu-id="57e5d-102">Custom Reports in Management Studio</span></span>
  <span data-ttu-id="57e5d-103">Dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], un grand nombre de nœuds de l’Explorateur d’objets proposent un ensemble de rapports standard créés par [!INCLUDE[msCoName](../../includes/msconame-md.md)].</span><span class="sxs-lookup"><span data-stu-id="57e5d-103">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], many Object Explorer nodes display a set of standard reports that are created by [!INCLUDE[msCoName](../../includes/msconame-md.md)].</span></span> <span data-ttu-id="57e5d-104">Ces rapports fournissent généralement les informations serveur demandées.</span><span class="sxs-lookup"><span data-stu-id="57e5d-104">These reports summarize typically requested server information.</span></span> <span data-ttu-id="57e5d-105">À partir de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2, les administrateurs peuvent exécuter des rapports personnalisés qui ont été créés dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] à partir de [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="57e5d-105">Starting with [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2, administrators can run custom reports that were created in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] from [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  
## <a name="implementation"></a><span data-ttu-id="57e5d-106">Implémentation</span><span class="sxs-lookup"><span data-stu-id="57e5d-106">Implementation</span></span>  
 <span data-ttu-id="57e5d-107">Les rapports personnalisés sont stockés sous la forme de fichiers de définition de rapport (.rdl) et créés à l'aide du langage RDL (Report Definition Language).</span><span class="sxs-lookup"><span data-stu-id="57e5d-107">Custom reports are stored as report definition (.rdl) files and are created by using Report Definition Language (RDL).</span></span> <span data-ttu-id="57e5d-108">Le langage RDL dévoile les informations d'extraction de données et de disposition d'un rapport au format XML.</span><span class="sxs-lookup"><span data-stu-id="57e5d-108">RDL contains data retrieval and layout information for a report in an XML format.</span></span> <span data-ttu-id="57e5d-109">Le langage RDL est un schéma ouvert</span><span class="sxs-lookup"><span data-stu-id="57e5d-109">RDL is an open schema.</span></span> <span data-ttu-id="57e5d-110">Les développeurs peuvent l'étendre au moyen d'attributs et d'éléments supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="57e5d-110">Developers can extend RDL with additional attributes and elements.</span></span> <span data-ttu-id="57e5d-111">Les rapports peuvent exécuter toutes les instructions [!INCLUDE[tsql](../../includes/tsql-md.md)] valides au sein du rapport.</span><span class="sxs-lookup"><span data-stu-id="57e5d-111">Reports can execute any valid [!INCLUDE[tsql](../../includes/tsql-md.md)] statement within the report.</span></span>  
  
 <span data-ttu-id="57e5d-112">Si l'Explorateur d'objets est connecté à un serveur, les rapports personnalisés ont la possibilité d'exécuter le contexte de la sélection en cours de l'Explorateur d'objets si les rapports font référence à des paramètres de rapport du nœud concerné.</span><span class="sxs-lookup"><span data-stu-id="57e5d-112">If Object Explorer is connected to a server, custom reports can execute in the context of the current Object Explorer selection if the reports reference report parameters of that node.</span></span> <span data-ttu-id="57e5d-113">Un rapport peut ainsi exploiter le contexte actuel (par exemple, la base de données actuelle) ou bien un contexte cohérent, notamment en spécifiant la base de données désignée comme faisant partie de l'instruction [!INCLUDE[tsql](../../includes/tsql-md.md)] figurant dans le rapport personnalisé.</span><span class="sxs-lookup"><span data-stu-id="57e5d-113">This enables a report to use the current context, such as the current database; or a consistent context, such as specifying a designated database as part of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement that is contained in the custom report.</span></span>  
  
## <a name="running-a-custom-report"></a><span data-ttu-id="57e5d-114">Exécution d'un rapport personnalisé</span><span class="sxs-lookup"><span data-stu-id="57e5d-114">Running a Custom Report</span></span>  
 <span data-ttu-id="57e5d-115">Vous pouvez exécuter un rapport personnalisé [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="57e5d-115">You can run a custom report in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] in the following ways:</span></span>  
  
-   <span data-ttu-id="57e5d-116">Cliquez avec le bouton droit dans l’Explorateur d’objets, pointez sur **Rapports** et cliquez avec le bouton gauche sur **Rapports personnalisés**.</span><span class="sxs-lookup"><span data-stu-id="57e5d-116">Right-click a node in Object Explorer, point to **Reports** and left-click **Custom Reports**.</span></span> <span data-ttu-id="57e5d-117">Dans la boîte de dialogue **Ouvrir le fichier** , recherchez un dossier contenant des fichiers .rdl, puis ouvrez le fichier de rapport approprié.</span><span class="sxs-lookup"><span data-stu-id="57e5d-117">In the **Open File** dialog box, locate a folder that contains .rdl files, and then open the appropriate report file.</span></span>  
  
-   <span data-ttu-id="57e5d-118">Cliquez avec le bouton droit sur un nœud dans l’Explorateur d’objets, pointez successivement sur **Rapports**et sur **Rapports personnalisés**, puis sélectionnez un rapport personnalisé dans la liste des fichiers récemment utilisés.</span><span class="sxs-lookup"><span data-stu-id="57e5d-118">Right-click a node in Object Explorer, point to **Reports**, point to **Custom Reports**, and then select a custom report from the most recently used file list.</span></span>  
  
## <a name="limitations"></a><span data-ttu-id="57e5d-119">Limites</span><span class="sxs-lookup"><span data-stu-id="57e5d-119">Limitations</span></span>  
 <span data-ttu-id="57e5d-120">Lorsque vous travaillez avec des rapports personnalisés, tenez compte des contraintes suivantes :</span><span class="sxs-lookup"><span data-stu-id="57e5d-120">When you work with custom reports, consider the following limitations:</span></span>  
  
-   <span data-ttu-id="57e5d-121">Pour éviter toute exécution imprévisible d'un code malveillant, vous ne pouvez pas configurer [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] en vue d'exécuter automatiquement un rapport, même si la configuration du système de fichiers autorise l'association de fichiers .rdl avec [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="57e5d-121">To prevent the unintended execution of malicious code, [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] cannot be configured to automatically run a report, even if the file system is configured to associate .rdl files with [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span> <span data-ttu-id="57e5d-122">Les rapports ne peuvent être ni exécutés par programme [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] , ni exécutés à partir de la ligne de commande via [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="57e5d-122">Reports cannot be programmatically executed in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] and cannot run from the command line through [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  
-   <span data-ttu-id="57e5d-123">Vous pouvez exécuter des rapports personnalisés dans un contexte qui ne produit pas les valeurs attendues.</span><span class="sxs-lookup"><span data-stu-id="57e5d-123">You can run custom reports in a context that does not produce the expected values.</span></span> <span data-ttu-id="57e5d-124">Par exemple, il vous est possible d'exécuter un rapport sur la réplication dans le contexte d'une base de données non impliquée dans la réplication ou bien d'exécuter un rapport en tant qu'utilisateur ne bénéficiant pas des autorisations d'accès aux informations requises pour la création d'un rapport exact.</span><span class="sxs-lookup"><span data-stu-id="57e5d-124">For example, you can run a report about replication in the context of a database that is not involved in replication, or run a report as a user who does not have permission to access information that is required to generate an accurate report.</span></span> <span data-ttu-id="57e5d-125">L'auteur du rapport personnalisé est responsable de la validité de la structure du rapport et de son contexte.</span><span class="sxs-lookup"><span data-stu-id="57e5d-125">The creator of the custom report is responsible for the validity of the report structure and its context.</span></span>  
  
-   <span data-ttu-id="57e5d-126">Vous ne pouvez pas ajouter un rapport personnalisé à la liste des rapports standard.</span><span class="sxs-lookup"><span data-stu-id="57e5d-126">You cannot add a custom report to the list of standard reports.</span></span>  
  
-   <span data-ttu-id="57e5d-127">Le code traité par le rapport peut affecter les performances du serveur.</span><span class="sxs-lookup"><span data-stu-id="57e5d-127">The code processed by the report might affect server performance.</span></span>  
  
-   <span data-ttu-id="57e5d-128">Les rapports personnalisés ne prennent pas en charge de sous-rapports.</span><span class="sxs-lookup"><span data-stu-id="57e5d-128">Custom reports will not support subreports.</span></span>  
  
-   <span data-ttu-id="57e5d-129">Le texte de la commande de chaque requête au sein du rapport ne doit pas être défini par le biais d'une expression.</span><span class="sxs-lookup"><span data-stu-id="57e5d-129">The command text for each query within the report must not be defined through an expression.</span></span>  
  
-   <span data-ttu-id="57e5d-130">Tous les paramètres de requête employés dans une commande (requête) peuvent uniquement faire référence à un paramètre de rapport unique et ne peuvent utiliser des opérateurs d'expression.</span><span class="sxs-lookup"><span data-stu-id="57e5d-130">Any query parameter that is used in a command (query) can only reference a single report parameter and cannot use any expression operators.</span></span>  
  
-   <span data-ttu-id="57e5d-131">Seuls les types de commande de texte et de procédure stockée sont pris en charge dans les commandes (requêtes) des rapports.</span><span class="sxs-lookup"><span data-stu-id="57e5d-131">Only Text and Stored Procedure command types are supported for report commands (queries).</span></span>  
  
-   <span data-ttu-id="57e5d-132">La structure des rapports ne permet aucun échappement des paramètres des requêtes.</span><span class="sxs-lookup"><span data-stu-id="57e5d-132">The report framework does not provide any parameter escaping for the queries.</span></span> <span data-ttu-id="57e5d-133">Les auteurs des requêtes doivent s'assurer que leurs requêtes sont exemptes d'attaques par injection SQL.</span><span class="sxs-lookup"><span data-stu-id="57e5d-133">Query authors must make sure that their queries are free from SQL injection attacks.</span></span>  
  
## <a name="managing-custom-reports"></a><span data-ttu-id="57e5d-134">Gestion des rapports personnalisés</span><span class="sxs-lookup"><span data-stu-id="57e5d-134">Managing Custom Reports</span></span>  
 <span data-ttu-id="57e5d-135">Nous recommandons aux utilisateurs qui possèdent un grand nombre de rapports personnalisés de les organiser à l'aide de dossiers de système de fichiers dotés des autorisations du système de fichiers NTFS appropriées.</span><span class="sxs-lookup"><span data-stu-id="57e5d-135">We recommend that users who have many custom reports organize them by using file system folders that have appropriate NTFS file system permissions.</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="57e5d-136">Autorisations</span><span class="sxs-lookup"><span data-stu-id="57e5d-136">Permissions</span></span>  
 <span data-ttu-id="57e5d-137">Les rapports personnalisés sont exécutés avec les autorisations de l'utilisateur actuel.</span><span class="sxs-lookup"><span data-stu-id="57e5d-137">Custom reports run by using the permissions of the current user.</span></span> <span data-ttu-id="57e5d-138">Pour empêcher tout utilisateur malveillant de modifier les requêtes exécutées par le rapport, les autorisations définies dans le dossier de système de fichiers contenant les fichiers de rapports doivent l'être avec un accès restreint.</span><span class="sxs-lookup"><span data-stu-id="57e5d-138">To prevent a malicious user from changing the queries run by the report, permissions on the file system folder that contains the report files should be set to restrict access.</span></span>  
  
 <span data-ttu-id="57e5d-139">L'utilisateur tout comme le compte utilisé par le service [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] doivent bénéficier d'un accès en lecture au dossier de système de fichiers contenant les fichiers de rapports.</span><span class="sxs-lookup"><span data-stu-id="57e5d-139">Both the user and the account that is used by the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service require read access to the file system folder that contains the report files.</span></span>  
  
 <span data-ttu-id="57e5d-140">Toutes les commandes [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] valides peuvent être incorporées dans un rapport mais ne seront pas exécutées.</span><span class="sxs-lookup"><span data-stu-id="57e5d-140">Any valid [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] command can be embedded in a report, but the command will not be executed.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="57e5d-141">Toute instruction [!INCLUDE[tsql](../../includes/tsql-md.md)] valide peut être incorporée dans un rapport et exécutée depuis ce rapport.</span><span class="sxs-lookup"><span data-stu-id="57e5d-141">Any valid [!INCLUDE[tsql](../../includes/tsql-md.md)] statement can be embedded in and executed from a report.</span></span> <span data-ttu-id="57e5d-142">L'exécution d'un rapport avec un compte d'utilisateur doté de privilèges élevés permet d'exécuter sans aucune difficulté toutes ces instructions incorporées.</span><span class="sxs-lookup"><span data-stu-id="57e5d-142">Running a report under a high-privileged user account makes it possible for any of these embedded instructions to execute without challenge.</span></span>  
  

  
## <a name="see-also"></a><span data-ttu-id="57e5d-143">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="57e5d-143">See Also</span></span>  
 <span data-ttu-id="57e5d-144">[Ajouter un rapport personnalisé à Management Studio](add-a-custom-report-to-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="57e5d-144">[Add a Custom Report to Management Studio](add-a-custom-report-to-management-studio.md) </span></span>  
 <span data-ttu-id="57e5d-145">[Annuler la suppression des avertissements d’exécution de rapports personnalisés](unsuppress-run-custom-report-warnings.md) </span><span class="sxs-lookup"><span data-stu-id="57e5d-145">[Unsuppress Run Custom Report Warnings](unsuppress-run-custom-report-warnings.md) </span></span>  
 [<span data-ttu-id="57e5d-146">Utiliser des rapports personnalisés avec les propriétés de nœud de l’Explorateur d’objets</span><span class="sxs-lookup"><span data-stu-id="57e5d-146">Use Custom Reports with Object Explorer Node Properties</span></span>](use-custom-reports-with-object-explorer-node-properties.md)  
  
  
