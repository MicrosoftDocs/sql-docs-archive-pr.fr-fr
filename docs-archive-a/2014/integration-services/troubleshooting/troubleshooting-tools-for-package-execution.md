---
title: Outils de dépannage pour l’exécution des packages | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- SQL Server Integration Services packages, troubleshooting
- SSIS packages, troubleshooting
- Integration Services, troubleshooting
- errors [Integration Services], troubleshooting
- packages [Integration Services], troubleshooting
ms.assetid: f18d6ff6-e881-444c-a399-730b52130e7c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: cbb19cddd202ac58cbea5622b4965449c15ba325
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87602196"
---
# <a name="troubleshooting-tools-for-package-execution"></a><span data-ttu-id="cde77-102">Outils de dépannage pour l'exécution des packages</span><span class="sxs-lookup"><span data-stu-id="cde77-102">Troubleshooting Tools for Package Execution</span></span>
  [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="cde77-103">intègre des fonctionnalités et des outils que vous pouvez utiliser pour résoudre des problèmes liés aux packages que vous exécutez après les avoir menés à terme et les avoir déployés.</span><span class="sxs-lookup"><span data-stu-id="cde77-103">includes features and tools that you can use to troubleshoot packages when you execute them after they have been completed and deployed.</span></span>  
  
 <span data-ttu-id="cde77-104">Au moment de la conception, [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] fournit des points d'arrêt permettant d'arrêter l'exécution des packages, une fenêtre Progression et des visionneuses de données à l'aide desquelles vous pouvez observer les données qui traversent le flux de données.</span><span class="sxs-lookup"><span data-stu-id="cde77-104">At design time, [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] provides breakpoints to pause package execution, the Progress window, and data viewers to watch your data as it passes through the data flow.</span></span> <span data-ttu-id="cde77-105">Néanmoins, ces fonctionnalités ne sont pas disponibles lorsque vous exécutez des packages que vous avez déployés.</span><span class="sxs-lookup"><span data-stu-id="cde77-105">However, these features are not available when you are running packages that have been deployed.</span></span> <span data-ttu-id="cde77-106">Les principales techniques de dépannage des packages déployés sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="cde77-106">The main techniques for troubleshooting deployed packages are as follows:</span></span>  
  
-   <span data-ttu-id="cde77-107">Détection et traitement des erreurs liées aux packages par le biais de gestionnaires d'événements.</span><span class="sxs-lookup"><span data-stu-id="cde77-107">Catch and handle package errors by using event handlers.</span></span>  
  
-   <span data-ttu-id="cde77-108">Capture de données incorrectes à l'aide de sorties d'erreur.</span><span class="sxs-lookup"><span data-stu-id="cde77-108">Capture bad data by using error outputs.</span></span>  
  
-   <span data-ttu-id="cde77-109">Suivi des étapes d'exécution des packages à l'aide de la fonction de journalisation.</span><span class="sxs-lookup"><span data-stu-id="cde77-109">Track the steps of package execution by using logging.</span></span>  
  
 <span data-ttu-id="cde77-110">Vous pouvez également suivre les conseils et les techniques suivantes pour éviter tout problème lors de l'exécution des packages :</span><span class="sxs-lookup"><span data-stu-id="cde77-110">You can also use the following tips and techniques to avoid problems with running packages</span></span>  
  
-   <span data-ttu-id="cde77-111">**Renforcez l'intégrité des données à l'aide de transactions**.</span><span class="sxs-lookup"><span data-stu-id="cde77-111">**Help to ensure data integrity by using transactions**.</span></span> <span data-ttu-id="cde77-112">Pour plus d’informations, consultez [Transactions Integration Services](../integration-services-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-112">For more information, see [Integration Services Transactions](../integration-services-transactions.md).</span></span>  
  
-   <span data-ttu-id="cde77-113">**Utilisez des points de contrôle pour redémarrer les packages à compter du point de défaillance**.</span><span class="sxs-lookup"><span data-stu-id="cde77-113">**Restart packages from the point of failure by using checkpoints**.</span></span> <span data-ttu-id="cde77-114">Pour plus d'informations, consultez [Redémarrer des packages à l'aide de points de contrôle](../packages/restart-packages-by-using-checkpoints.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-114">For more information, see [Restart Packages by Using Checkpoints](../packages/restart-packages-by-using-checkpoints.md).</span></span>  
  
## <a name="catch-and-handle-package-errors-by-using-event-handlers"></a><span data-ttu-id="cde77-115">Détecter et traiter les erreurs liées aux packages par le biais de gestionnaires d'événements</span><span class="sxs-lookup"><span data-stu-id="cde77-115">Catch and Handle Package Errors by Using Event Handlers</span></span>  
 <span data-ttu-id="cde77-116">Vous pouvez répondre aux nombreux événements engagés par le package et les objets de ce dernier par le biais de gestionnaires d'événements.</span><span class="sxs-lookup"><span data-stu-id="cde77-116">You can respond to the many events that are raised by the package and the objects in the package by using event handlers.</span></span>  
  
-   <span data-ttu-id="cde77-117">**Créez un gestionnaire d'événements pour l'événement OnError**.</span><span class="sxs-lookup"><span data-stu-id="cde77-117">**Create an event handler for the OnError event**.</span></span> <span data-ttu-id="cde77-118">Dans le gestionnaire d'événements, vous pouvez recourir à une tâche Envoyer un message pour signaler l'échec à un administrateur, utiliser une tâche de script et une logique personnalisée pour recueillir des informations système à des fins de dépannage, ou bien nettoyer les ressources temporaires ou des résultats incomplets.</span><span class="sxs-lookup"><span data-stu-id="cde77-118">In the event handler, you can use a Send Mail task to notify an administrator of the failure, use a Script task and custom logic to obtain system information for troubleshooting, or clean up temporary resources or incomplete output.</span></span> <span data-ttu-id="cde77-119">Pour plus d’informations, consultez [Gestionnaires d’événements Integration Services &#40;SSIS&#41;](../integration-services-ssis-event-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-119">For more information, see [Integration Services &#40;SSIS&#41; Event Handlers](../integration-services-ssis-event-handlers.md).</span></span>  
  
## <a name="troubleshoot-bad-data-by-using-error-outputs"></a><span data-ttu-id="cde77-120">Résoudre les problèmes liés à des données incorrectes à l'aide de sorties d'erreur</span><span class="sxs-lookup"><span data-stu-id="cde77-120">Troubleshoot Bad Data by Using Error Outputs</span></span>  
 <span data-ttu-id="cde77-121">Vous pouvez exploiter la sortie d'erreur disponible dans nombre de composants de flux de données pour orienter les lignes contenant des erreurs vers une destination distincte en vue d'une analyse ultérieure.</span><span class="sxs-lookup"><span data-stu-id="cde77-121">You can use the error output available on many data flow components to direct rows that contain errors to a separate destination for later analysis.</span></span>  
  
-   <span data-ttu-id="cde77-122">**Capturez les données incorrectes à l'aide de sorties d'erreur**.</span><span class="sxs-lookup"><span data-stu-id="cde77-122">**Capture bad data by using error outputs**.</span></span> <span data-ttu-id="cde77-123">Transmettez les lignes qui contiennent des erreurs à une destination distincte, telle qu'une table d'erreurs ou un fichier texte.</span><span class="sxs-lookup"><span data-stu-id="cde77-123">Send rows that contain errors to a separate destination such as an error table or a text file.</span></span> <span data-ttu-id="cde77-124">La sortie d'erreur ajoute automatiquement deux colonnes numériques renfermant le numéro de l'erreur responsable du rejet de la ligne, ainsi que l'ID de la colonne dans laquelle l'erreur est survenue.</span><span class="sxs-lookup"><span data-stu-id="cde77-124">The error output automatically adds two numeric columns that contain the number of the error that caused the row to be rejected, and the ID of the column in which the error occurred.</span></span> <span data-ttu-id="cde77-125">Pour plus d’informations, consultez [Gestion des erreurs dans les données](../data-flow/error-handling-in-data.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-125">For more information, see [Error Handling in Data](../data-flow/error-handling-in-data.md).</span></span>  
  
-   <span data-ttu-id="cde77-126">**Dotez les sorties d'erreur d'informations conviviales**.</span><span class="sxs-lookup"><span data-stu-id="cde77-126">**Add friendly information to the error outputs**.</span></span> <span data-ttu-id="cde77-127">Vous pouvez faciliter le travail d'analyse de la sortie d'erreur en ajoutant des informations descriptives, en plus des deux identificateurs numériques fournis par la sortie d'erreur.</span><span class="sxs-lookup"><span data-stu-id="cde77-127">You can make it easier to analyze the error output by adding descriptive information in addition to the two numeric identifiers that are supplied by the error output.</span></span>  
  
     <span data-ttu-id="cde77-128">**Ajoutez la description de l’erreur**.</span><span class="sxs-lookup"><span data-stu-id="cde77-128">**Add the description of the error**.</span></span> <span data-ttu-id="cde77-129">Vous pouvez aisément rechercher une description de l'erreur à l'aide d'un composant Script.</span><span class="sxs-lookup"><span data-stu-id="cde77-129">It is easy to look up the error description by using a Script component.</span></span> <span data-ttu-id="cde77-130">Pour plus d’informations, consultez [amélioration d’une sortie d’erreur pour le composant script](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-130">For more information, see [Enhancing an Error Output for the Script Component](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span></span>  
  
     <span data-ttu-id="cde77-131">**Ajoutez le nom de la colonne d’erreur**.</span><span class="sxs-lookup"><span data-stu-id="cde77-131">**Add the name of the error column**.</span></span> <span data-ttu-id="cde77-132">La recherche du nom de colonne correspondant à l'ID de colonne enregistré dans la sortie d'erreur n'est pas facile dans le composant Script et exige d'autres étapes.</span><span class="sxs-lookup"><span data-stu-id="cde77-132">Looking up the column name that corresponds to the column ID saved by the error output cannot easily be done in the Script component and requires additional steps.</span></span> <span data-ttu-id="cde77-133">Chaque ID de colonne au sein d'un flux de données est unique dans la tâche de flux de données concernée et demeure dans le package au moment de la conception.</span><span class="sxs-lookup"><span data-stu-id="cde77-133">Each column ID in a data flow is unique within that Data Flow task, and is persisted in the package at design time.</span></span> <span data-ttu-id="cde77-134">L'approche suivante est une solution qui suggère l'ajout du nom de la colonne à la sortie d'erreur.</span><span class="sxs-lookup"><span data-stu-id="cde77-134">The following approach is one suggestion for adding the column name to the error output.</span></span> 
  
    1.  <span data-ttu-id="cde77-135">**Créez une table de recherche de noms de colonnes**.</span><span class="sxs-lookup"><span data-stu-id="cde77-135">**Create a lookup table of column names**.</span></span> <span data-ttu-id="cde77-136">Créez une application qui utilise l'API [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] pour intervenir de manière itérative dans chaque package enregistré, chaque flux de données au sein du package, chaque objet au sein du flux de données, puis chaque entrée ou sortie dans l'objet du flux de données.</span><span class="sxs-lookup"><span data-stu-id="cde77-136">Create a separate application that uses the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] API to iterate over each saved package, each data flow in the package, each object in the data flow, and each input and output in the data flow object.</span></span> <span data-ttu-id="cde77-137">L'application doit conserver l'ID de colonne et le nom de chaque colonne dans une table de recherche, ainsi que l'ID de la tâche de flux de données parent et celui du package.</span><span class="sxs-lookup"><span data-stu-id="cde77-137">The application should persist the column ID and name of each column to a lookup table, along with the ID of the parent Data Flow task and the ID of the package.</span></span>  
  
    2.  <span data-ttu-id="cde77-138">**Ajoutez le nom de colonne à la sortie**.</span><span class="sxs-lookup"><span data-stu-id="cde77-138">**Add the column name to the output**.</span></span> <span data-ttu-id="cde77-139">Ajoutez une transformation de recherche à la sortie d'erreur chargée de rechercher le nom de colonne dans la table de recherche créée à l'étape précédente.</span><span class="sxs-lookup"><span data-stu-id="cde77-139">Add a Lookup transformation to the error output that looks up the column name in the lookup table created in the preceding step.</span></span> <span data-ttu-id="cde77-140">La recherche peut se servir de l'ID de colonne dans la sortie d'erreur, de l'ID du package (disponible dans la variable système System::PackageID) et de l'ID de la tâche de flux de données (disponible dans la variable système System::TaskID).</span><span class="sxs-lookup"><span data-stu-id="cde77-140">The lookup can use the column ID in the error output, the package ID (available in the system variable System::PackageID), and the ID of the Data Flow task (available in the system variable System::TaskID).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-operations-reports"></a><span data-ttu-id="cde77-141">Résoudre les problèmes liés à l'exécution des packages à l'aide de rapports d'opérations</span><span class="sxs-lookup"><span data-stu-id="cde77-141">Troubleshoot Package Execution by Using Operations Reports</span></span>  
 <span data-ttu-id="cde77-142">Des rapports d'opérations standard sont disponibles dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] pour vous aider à contrôler les packages [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] déployés dans le catalogue [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cde77-142">Standard operations reports are available in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to help you monitor [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] packages that have been deployed to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] catalog.</span></span> <span data-ttu-id="cde77-143">Ces rapports de package vous aident à consulter l'état et l'historique du package et, si nécessaire, à identifier la cause des erreurs.</span><span class="sxs-lookup"><span data-stu-id="cde77-143">These package reports help you to view package status and history, and, if necessary, identify the cause of failures.</span></span>  
  
 <span data-ttu-id="cde77-144">Pour plus d’informations, voir [Rapports de dépannage pour l’exécution des packages](troubleshooting-reports-for-package-execution.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-144">For more information, see [Troubleshooting Reports for Package Execution](troubleshooting-reports-for-package-execution.md).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-ssisdb-views"></a><span data-ttu-id="cde77-145">Résoudre les problèmes liés à l'exécution des packages à l'aide de vues SSISDB</span><span class="sxs-lookup"><span data-stu-id="cde77-145">Troubleshoot Package Execution by Using SSISDB Views</span></span>  
 <span data-ttu-id="cde77-146">Vous pouvez interroger plusieurs vues de base de données SSISDB pour contrôler les informations relatives à l'exécution des packages et à d'autres opérations.</span><span class="sxs-lookup"><span data-stu-id="cde77-146">A number of SSISDB database views are available that you can query to monitor package execution and other operations information.</span></span> <span data-ttu-id="cde77-147">Pour plus d’informations, consultez [surveillance des exécutions de packages et d’autres opérations](../performance/monitor-running-packages-and-other-operations.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-147">For more information, see [Monitoring for Package Executions and Other Operations](../performance/monitor-running-packages-and-other-operations.md).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-logging"></a><span data-ttu-id="cde77-148">Résoudre les problèmes liés à l'exécution des packages à l'aide de la journalisation</span><span class="sxs-lookup"><span data-stu-id="cde77-148">Troubleshoot Package Execution by Using Logging</span></span>  
 <span data-ttu-id="cde77-149">Vous pouvez contrôler la plupart des opérations réalisées dans vos packages en cours d'exécution en activant la fonction de journalisation.</span><span class="sxs-lookup"><span data-stu-id="cde77-149">You can track much of what occurs in your running packages by enabling logging.</span></span> <span data-ttu-id="cde77-150">Les modules fournisseur d'informations permettent de capturer des informations sur des événements spécifiques à des fins d'analyse ultérieure, puis d'enregistrer ces informations dans une table de base de données, un fichier plat, un fichier XML ou un autre format de sortie pris en charge.</span><span class="sxs-lookup"><span data-stu-id="cde77-150">Log providers capture information about the specified events for later analysis, and save that information in a database table, a flat file, an XML file, or another supported output format.</span></span>  
  
-   <span data-ttu-id="cde77-151">**Activez la journalisation**.</span><span class="sxs-lookup"><span data-stu-id="cde77-151">**Enable logging**.</span></span> <span data-ttu-id="cde77-152">Vous pouvez affiner la sortie de journalisation en choisissant uniquement les événements et les éléments d'information que vous souhaitez capturer.</span><span class="sxs-lookup"><span data-stu-id="cde77-152">You can refine the logging output by selecting only the events and only the items of information that you want to capture.</span></span> <span data-ttu-id="cde77-153">Pour plus d’informations, consultez [Journalisation d’Integration Services &#40;SSIS&#41;](../performance/integration-services-ssis-logging.md) et [Journalisation d’Integration Services &#40;SSIS&#41;](../performance/integration-services-ssis-logging.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-153">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md).</span></span>  
  
-   <span data-ttu-id="cde77-154">**Sélectionnez l'événement Diagnostic du package pour résoudre les problèmes inhérents au fournisseur.**</span><span class="sxs-lookup"><span data-stu-id="cde77-154">**Select the package's Diagnostic event to troubleshoot provider issues.**</span></span> <span data-ttu-id="cde77-155">Il existe des messages de journalisation qui vous permettent de résoudre les problèmes d'interaction d'un package avec des sources de données externes.</span><span class="sxs-lookup"><span data-stu-id="cde77-155">There are logging messages that help you troubleshoot a package's interaction with external data sources.</span></span> <span data-ttu-id="cde77-156">Pour plus d’informations, voir [Outils de dépannage de la connectivité des packages](troubleshooting-tools-for-package-connectivity.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-156">For more information, see [Troubleshooting Tools Package Connectivity](troubleshooting-tools-for-package-connectivity.md).</span></span>  
  
-   <span data-ttu-id="cde77-157">**Améliorez la sortie de journalisation par défaut**.</span><span class="sxs-lookup"><span data-stu-id="cde77-157">**Enhance the default logging output**.</span></span> <span data-ttu-id="cde77-158">La journalisation ajoute généralement des lignes à la destination de journalisation à chaque exécution d'un package.</span><span class="sxs-lookup"><span data-stu-id="cde77-158">Logging typically appends rows to the logging destination each time that a package is run.</span></span> <span data-ttu-id="cde77-159">Bien que chaque ligne de la sortie de journalisation identifie le package par son nom et son identificateur unique, ainsi que l'exécution du package par un ExecutionID unique, une grande partie de la sortie de journalisation au sein d'une seule liste peut s'avérer difficile à analyser.</span><span class="sxs-lookup"><span data-stu-id="cde77-159">Although each row of logging output identifies the package by its name and unique identifier, and also identifies the execution of the package by a unique ExecutionID, the large quantity of logging output in a single list can become difficult to analyze.</span></span>  
  
     <span data-ttu-id="cde77-160">L'approche suivante est une suggestion possible pour améliorer la sortie de journalisation par défaut et la rendre plus facile pour la génération de rapports :</span><span class="sxs-lookup"><span data-stu-id="cde77-160">The following approach is one suggestion for enhancing the default logging output and making it easier to generate reports:</span></span>  
  
    1.  <span data-ttu-id="cde77-161">**Créez une table parent chargée de consigner chaque exécution d'un package**.</span><span class="sxs-lookup"><span data-stu-id="cde77-161">**Create a parent table that logs each execution of a package**.</span></span> <span data-ttu-id="cde77-162">Cette table parent dispose d'une seule ligne pour chaque exécution d'un package et utilise l'ExecutionID pour établir un lien avec les enregistrements enfants de la table de journalisation [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cde77-162">This parent table has only a single row for each execution of a package, and uses the ExecutionID to link to the child records in the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] logging table.</span></span> <span data-ttu-id="cde77-163">Vous pouvez exécuter une tâche d'exécution SQL au début de chaque package pour créer cette nouvelle ligne et enregistrer l'heure de début.</span><span class="sxs-lookup"><span data-stu-id="cde77-163">You can use an Execute SQL task at the beginning of each package to create this new row and to record the start time.</span></span> <span data-ttu-id="cde77-164">Vous pouvez ensuite utiliser une autre tâche d'exécution SQL à la fin du package pour mettre à jour la ligne avec l'heure de fin, la durée et l'état.</span><span class="sxs-lookup"><span data-stu-id="cde77-164">Then you can use another Execute SQL task at the end of the package to update the row with the end time, duration, and status.</span></span>  
  
    2.  <span data-ttu-id="cde77-165">**Ajoutez des informations d'audit au flux de données**.</span><span class="sxs-lookup"><span data-stu-id="cde77-165">**Add auditing information to the data flow**.</span></span> <span data-ttu-id="cde77-166">Vous pouvez utiliser la transformation d'audit pour ajouter aux lignes du flux de données des informations sur l'exécution de package ayant entraîné la création ou la modification de chaque ligne.</span><span class="sxs-lookup"><span data-stu-id="cde77-166">You can use the Audit transformation to add information to rows in the data flow about the package execution that created or modified each row.</span></span> <span data-ttu-id="cde77-167">La transformation d'audit met neuf éléments d'information à disposition, notamment les variables PackageName et ExecutionInstanceGUID.</span><span class="sxs-lookup"><span data-stu-id="cde77-167">The Audit transformation makes nine pieces of information available, including the PackageName and ExecutionInstanceGUID.</span></span> <span data-ttu-id="cde77-168">Pour plus d’informations, voir [Transformation d’Audit](../data-flow/transformations/audit-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-168">For more information, see [Audit Transformation](../data-flow/transformations/audit-transformation.md).</span></span> <span data-ttu-id="cde77-169">Si vous disposez d'informations personnalisées que vous aimeriez inclure dans chaque ligne à des fins d'audit, vous pouvez les ajouter aux lignes dans le flux de données à l'aide d'une transformation de colonne dérivée.</span><span class="sxs-lookup"><span data-stu-id="cde77-169">If you have custom information that you would also like to include in each row for auditing purposes, you can add this information to rows in the data flow by using a Derived Column transformation.</span></span> <span data-ttu-id="cde77-170">Pour plus d'informations, consultez [Transformation de colonne dérivée](../data-flow/transformations/derived-column-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-170">For more information, see [Derived Column Transformation](../data-flow/transformations/derived-column-transformation.md).</span></span>  
  
    3.  <span data-ttu-id="cde77-171">**Si possible, capturez les données sur le nombre de lignes**.</span><span class="sxs-lookup"><span data-stu-id="cde77-171">**Consider capturing row count data**.</span></span> <span data-ttu-id="cde77-172">Si possible, créez une table séparée pour les informations concernant le nombre de lignes dans laquelle chaque instance d'exécution de package est identifiée par son ExecutionID.</span><span class="sxs-lookup"><span data-stu-id="cde77-172">Consider creating a separate table for row count information, where each instance of package execution is identified by its ExecutionID.</span></span> <span data-ttu-id="cde77-173">Utilisez la transformation de calcul du nombre de lignes pour enregistrer le nombre de lignes dans une série de variables à des étapes critiques du flux de données.</span><span class="sxs-lookup"><span data-stu-id="cde77-173">Use the Row Count transformation to save the row count into a series of variables at critical points in the data flow.</span></span> <span data-ttu-id="cde77-174">À la fin du flux de données, utilisez une tâche d'exécution SQL pour insérer la série de valeurs dans une ligne de la table en vue d'une analyse et d'un rapport ultérieurs.</span><span class="sxs-lookup"><span data-stu-id="cde77-174">After the data flow ends, use an Execute SQL task to insert the series of values into a row in the table for later analysis and reporting.</span></span>  
  
     <span data-ttu-id="cde77-175">Pour plus d'informations sur cette approche, consultez la section « ETL Auditing and Logging » dans le livre blanc [!INCLUDE[msCoName](../../includes/msconame-md.md)][Project REAL: Business Intelligence ETL Design Practices](https://www.microsoft.com/download/details.aspx?id=14582) (en anglais).</span><span class="sxs-lookup"><span data-stu-id="cde77-175">For more information about this approach, see the section, "ETL Auditing and Logging," in the [!INCLUDE[msCoName](../../includes/msconame-md.md)] white paper, [Project REAL: Business Intelligence ETL Design Practices](https://www.microsoft.com/download/details.aspx?id=14582).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-debug-dump-files"></a><span data-ttu-id="cde77-176">Résoudre les problèmes liés à l'exécution des packages à l'aide de fichiers de vidage du débogage</span><span class="sxs-lookup"><span data-stu-id="cde77-176">Troubleshoot Package Execution by Using Debug Dump Files</span></span>  
 <span data-ttu-id="cde77-177">Dans [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], vous pouvez créer des fichiers de vidage du débogage qui fourniront des informations sur l'exécution d'un package.</span><span class="sxs-lookup"><span data-stu-id="cde77-177">In [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], you can create debug dump files that provide information about the execution of a package.</span></span> <span data-ttu-id="cde77-178">Pour plus d’informations, voir [Generating Dump Files for Package Execution](generating-dump-files-for-package-execution.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-178">For more information, see [Generating Dump Files for Package Execution](generating-dump-files-for-package-execution.md).</span></span>  
  
## <a name="troubleshoot-run-time-validation-issues"></a><span data-ttu-id="cde77-179">Résoudre les problèmes de validation au moment de l'exécution</span><span class="sxs-lookup"><span data-stu-id="cde77-179">Troubleshoot Run-time Validation Issues</span></span>  
 <span data-ttu-id="cde77-180">Il est possible, parfois, que vous ne parveniez pas à vous connecter à vos sources de données ou que des parties de votre package ne puissent pas être validées jusqu'à ce que les précédentes tâches du package aient été exécutées.</span><span class="sxs-lookup"><span data-stu-id="cde77-180">Sometimes you might not be able to connect to your data sources, or portions of your package cannot be validated, until prior tasks in the package have executed.</span></span> [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="cde77-181">vous permettent d'éviter des erreurs de validation susceptibles de survenir dans ces conditions :</span><span class="sxs-lookup"><span data-stu-id="cde77-181">includes the following features to help you avoid the validation errors that would otherwise result from these conditions:</span></span>  
  
-   <span data-ttu-id="cde77-182">**Configurez la propriété DelayValidation dans les éléments de package non valides lors du chargement du package**.</span><span class="sxs-lookup"><span data-stu-id="cde77-182">**Configure the DelayValidation property on package elements that are not valid when the package is loaded**.</span></span> <span data-ttu-id="cde77-183">Pour éviter des erreurs de validation lors du chargement du package, vous pouvez affecter à `DelayValidation` la valeur `True` dans des éléments de package dont la configuration n'est pas valide.</span><span class="sxs-lookup"><span data-stu-id="cde77-183">You can set `DelayValidation` to `True` on package elements whose configuration is not valid, to prevent validation errors when the package is loaded.</span></span> <span data-ttu-id="cde77-184">Par exemple, vous pouvez disposer d'une tâche Flux de données qui utilise une table de destination qui n'existe pas jusqu'à ce qu'une tâche d'exécution SQL crée la table au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="cde77-184">For example, you may have a Data Flow task that uses a destination table that does not exist until an Execute SQL task creates the table at run time.</span></span> <span data-ttu-id="cde77-185">La propriété `DelayValidation` peut être activée au niveau du package ou au niveau des tâches individuelles et des conteneurs inclus dans le package.</span><span class="sxs-lookup"><span data-stu-id="cde77-185">The `DelayValidation` property can be enabled at the package level, or at the level of the individual tasks and containers that the package includes.</span></span>  
  
     <span data-ttu-id="cde77-186">La propriété `DelayValidation` peut être définie sur une tâche Flux de données mais pas sur des composants de flux de données individuels.</span><span class="sxs-lookup"><span data-stu-id="cde77-186">The `DelayValidation` property can be set on a Data Flow task, but not on individual data flow components.</span></span> <span data-ttu-id="cde77-187">Vous pouvez obtenir un résultat similaire en affectant à la propriété <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> des composants de flux de données individuels la valeur `false`.</span><span class="sxs-lookup"><span data-stu-id="cde77-187">You can achieve a similar effect by setting the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> property of individual data flow components to `false`.</span></span> <span data-ttu-id="cde77-188">Néanmoins, si cette propriété affiche la valeur `false`, le composant n'a pas connaissance des modifications apportées aux métadonnées des sources de données externes.</span><span class="sxs-lookup"><span data-stu-id="cde77-188">However, when the value of this property is `false`, the component is not aware of changes to the metadata of external data sources.</span></span> <span data-ttu-id="cde77-189">Lorsque la valeur `true` est définie, la propriété <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> peut permettre d'éviter des problèmes de blocage provoqués par un verrouillage dans la base de données, surtout lorsque le package utilise des transactions.</span><span class="sxs-lookup"><span data-stu-id="cde77-189">When set to `true`, the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> property can help to avoid blocking issues caused by locking in the database, especially when the package is using transactions.</span></span>  
  
## <a name="troubleshoot-run-time-permissions-issues"></a><span data-ttu-id="cde77-190">Résoudre les problèmes d'autorisations au moment de l'exécution</span><span class="sxs-lookup"><span data-stu-id="cde77-190">Troubleshoot Run-time Permissions Issues</span></span>  
 <span data-ttu-id="cde77-191">Si vous rencontrez des erreurs lorsque vous tentez d'exécuter des packages déployés à l'aide de l'Agent [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , il est possible que les comptes employés par ce dernier ne disposent pas des autorisations nécessaires.</span><span class="sxs-lookup"><span data-stu-id="cde77-191">If you encounter errors when trying to run deployed packages by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, the accounts used by Agent might not have the required permissions.</span></span> <span data-ttu-id="cde77-192">Pour plus d'informations sur la résolution des problèmes liés aux packages que vous exécutez à partir des travaux de l'Agent [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , consultez [Un package SSIS n'est pas exécuté lorsque vous appelez le package SSIS à partir d'une étape de travail de SQL Server Agent](https://support.microsoft.com/kb/918760).</span><span class="sxs-lookup"><span data-stu-id="cde77-192">For information on how to troubleshoot packages that are run from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs, see [An SSIS package does not run when you call the SSIS package from a SQL Server Agent job step](https://support.microsoft.com/kb/918760).</span></span> <span data-ttu-id="cde77-193">Pour plus d’informations sur l’exécution de packages à partir des travaux de l’Agent [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , consultez [Travaux de l’Agent SQL Server pour les packages](../packages/sql-server-agent-jobs-for-packages.md).</span><span class="sxs-lookup"><span data-stu-id="cde77-193">For more information on how to run packages from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs, see [SQL Server Agent Jobs for Packages](../packages/sql-server-agent-jobs-for-packages.md).</span></span>  
  
 <span data-ttu-id="cde77-194">Pour se connecter à des sources de données Excel ou Access, l'Agent [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] requiert un compte doté de l'autorisation de lire, écrire, créer et supprimer des fichiers temporaires dans le dossier spécifié par les variables d'environnement TEMP et TMP.</span><span class="sxs-lookup"><span data-stu-id="cde77-194">To connect to Excel or Access data sources, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent requires an account that has permission to read, write, create, and delete temporary files in the folder that is specified by the TEMP and TMP environment variables.</span></span>  
  
## <a name="troubleshoot-64-bit-issues"></a><span data-ttu-id="cde77-195">Résoudre les problèmes liés à la version 64 bits</span><span class="sxs-lookup"><span data-stu-id="cde77-195">Troubleshoot 64-bit Issues</span></span>  
  
-   <span data-ttu-id="cde77-196">**Certains fournisseurs de données ne sont pas disponibles sur la plateforme 64 bits**.</span><span class="sxs-lookup"><span data-stu-id="cde77-196">**Some data providers are not available on the 64-bit platform**.</span></span> <span data-ttu-id="cde77-197">C’est notamment le cas du fournisseur [!INCLUDE[msCoName](../../includes/msconame-md.md)] Jet OLE DB, qui est nécessaire pour se connecter à des sources de données Excel ou Access : il n’est pas disponible dans une version 64 bits.</span><span class="sxs-lookup"><span data-stu-id="cde77-197">In particular, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Jet OLE DB Provider that is required to connect to Excel or Access data sources is not available in a 64-bit version.</span></span>  
  
## <a name="troubleshoot-errors-without-a-description"></a><span data-ttu-id="cde77-198">Résoudre les erreurs sans description</span><span class="sxs-lookup"><span data-stu-id="cde77-198">Troubleshoot Errors without a Description</span></span>  
 <span data-ttu-id="cde77-199">Si vous rencontrez une erreur [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] sans description qui l'accompagne, vous pouvez localiser cette dernière dans le [Guide de référence des erreurs et des messages propres à Integration Services](../integration-services-error-and-message-reference.md) en recherchant l'erreur d'après son numéro.</span><span class="sxs-lookup"><span data-stu-id="cde77-199">If you encounter an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] error that does not have an accompanying description, you can locate the description in [Integration Services Error and Message Reference](../integration-services-error-and-message-reference.md) by looking up the error by its number.</span></span> <span data-ttu-id="cde77-200">La liste ne comporte actuellement aucune information de dépannage.</span><span class="sxs-lookup"><span data-stu-id="cde77-200">The list does not include troubleshooting information at this time.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="cde77-201">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="cde77-201">Related Tasks</span></span>  
 [<span data-ttu-id="cde77-202">Configurer une sortie d'erreur dans un composant de flux de données</span><span class="sxs-lookup"><span data-stu-id="cde77-202">Configure an Error Output in a Data Flow Component</span></span>](../configure-an-error-output-in-a-data-flow-component.md)  
  
  
