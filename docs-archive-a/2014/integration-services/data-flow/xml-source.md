---
title: Source XML | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.xmlsource.f1
helpviewer_keywords:
- sources [Integration Services], XML
- XML source [Integration Services]
- XML Source Editor
ms.assetid: 68c27ea5-e93d-4e26-bfb2-d967ca0a5282
author: chugugrace
ms.author: chugu
ms.openlocfilehash: d13a1bf01729932eaa6b232ac7839d2e3001f5fe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87613025"
---
# <a name="xml-source"></a><span data-ttu-id="af647-102">Source XML</span><span class="sxs-lookup"><span data-stu-id="af647-102">XML Source</span></span>
  <span data-ttu-id="af647-103">La source XML lit un fichier de données XML et remplit les colonnes de la sortie source avec les données.</span><span class="sxs-lookup"><span data-stu-id="af647-103">The XML source reads an XML data file and populates the columns in the source output with the data.</span></span>  
  
 <span data-ttu-id="af647-104">Les données des fichiers XML sont fréquemment organisées de façon hiérarchique.</span><span class="sxs-lookup"><span data-stu-id="af647-104">The data in XML files frequently includes hierarchical relationships.</span></span> <span data-ttu-id="af647-105">Par exemple, un fichier de données XML peut représenter des catalogues et des éléments dans des catalogues.</span><span class="sxs-lookup"><span data-stu-id="af647-105">For example, an XML data file can represent catalogs and items in catalogs.</span></span> <span data-ttu-id="af647-106">Avant que les données puissent entrer dans le flux de données, la relation des éléments du fichier de données XML doit être déterminée et une sortie doit être générée pour chaque élément du fichier.</span><span class="sxs-lookup"><span data-stu-id="af647-106">Before the data can enter the data flow, the relationship of the elements in XML data file must be determined, and an output must be generated for each element in the file.</span></span>  
  
## <a name="schemas"></a><span data-ttu-id="af647-107">Schémas</span><span class="sxs-lookup"><span data-stu-id="af647-107">Schemas</span></span>  
 <span data-ttu-id="af647-108">La source XML utilise un schéma pour interpréter les données XML.</span><span class="sxs-lookup"><span data-stu-id="af647-108">The XML source uses a schema to interpret the XML data.</span></span> <span data-ttu-id="af647-109">La source XML prend en charge l'utilisation d'un fichier XSD (XML Schema Definition) ou de schémas inclus pour convertir les données XML dans un format tabulaire.</span><span class="sxs-lookup"><span data-stu-id="af647-109">The XML source supports use of a XML Schema Definition (XSD) file or inline schemas to translate the XML data into a tabular format.</span></span> <span data-ttu-id="af647-110">Si vous configurez la source XML à l’aide de la boîte de dialogue **Éditeur de source XML** , l’interface utilisateur peut générer un fichier XSD à partir du fichier de données XML spécifié.</span><span class="sxs-lookup"><span data-stu-id="af647-110">If you configure the XML source by using the **XML Source Editor** dialog box, the user interface can generate an XSD from the specified XML data file.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="af647-111">Les DTD ne sont pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="af647-111">DTDs are not supported.</span></span>  
  
 <span data-ttu-id="af647-112">Les schémas ne peuvent prendre en charge qu'un seul espace de noms ; ils ne prennent pas en charge les collections de schémas.</span><span class="sxs-lookup"><span data-stu-id="af647-112">The schemas can support a single namespace only; they do not support schema collections.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="af647-113">La source XML ne valide pas les données du fichier XML par rapport au fichier XSD.</span><span class="sxs-lookup"><span data-stu-id="af647-113">The XML source does not validate the data in the XML file against the XSD.</span></span>  
  
## <a name="xml-source-editor"></a><span data-ttu-id="af647-114">Éditeur de source XML</span><span class="sxs-lookup"><span data-stu-id="af647-114">XML Source Editor</span></span>  
 <span data-ttu-id="af647-115">Les données des fichiers XML sont fréquemment organisées de façon hiérarchique.</span><span class="sxs-lookup"><span data-stu-id="af647-115">The data in the XML files frequently includes hierarchical relationships.</span></span> <span data-ttu-id="af647-116">La boîte de dialogue **Éditeur de source XML** utilise le schéma spécifié pour générer les sorties de la source XML.</span><span class="sxs-lookup"><span data-stu-id="af647-116">The **XML Source Editor** dialog box uses the specified schema to generate the XML source outputs.</span></span> <span data-ttu-id="af647-117">Vous pouvez spécifier un fichier XSD, utiliser un schéma inclus ou générer un fichier XSD à partir du fichier de données XML spécifié.</span><span class="sxs-lookup"><span data-stu-id="af647-117">You can specify an XSD file, use an inline schema, or generate an XSD from the specified XML data file.</span></span> <span data-ttu-id="af647-118">Le schéma doit être disponible au moment de la conception.</span><span class="sxs-lookup"><span data-stu-id="af647-118">The schema must be available at design time.</span></span>  
  
 <span data-ttu-id="af647-119">La source XML génère des structures tabulaires à partir des données XML en créant une sortie pour chaque élément contenant d'autres éléments dans les fichiers XML.</span><span class="sxs-lookup"><span data-stu-id="af647-119">The XML source generates tabular structures from the XML data by creating an output for every element that contains other elements in the XML files.</span></span> <span data-ttu-id="af647-120">Par exemple, si les données XML représentent des catalogues et des éléments dans des catalogues, la source XML crée une sortie pour les catalogues et une sortie pour chaque type d'élément contenu dans ces catalogues.</span><span class="sxs-lookup"><span data-stu-id="af647-120">For example, if the XML data represents catalogs and items in catalogs, the XML source creates an output for catalogs and an output for each type of item that the catalogs contain.</span></span> <span data-ttu-id="af647-121">La sortie de chaque élément contient des colonnes de sortie pour les attributs de cet élément.</span><span class="sxs-lookup"><span data-stu-id="af647-121">The output of each item will contain output columns for the attributes of that item.</span></span>  
  
 <span data-ttu-id="af647-122">Pour fournir des informations sur les relations hiérarchiques des données dans les sorties, la source XML ajoute dans celles-ci une colonne qui identifie l'élément parent de chaque élément enfant.</span><span class="sxs-lookup"><span data-stu-id="af647-122">To provide information about the hierarchical relationship of the data in the outputs, the XML source adds a column in the outputs that identifies the parent element for each child element.</span></span> <span data-ttu-id="af647-123">Dans l'exemple des catalogues contenant différents types d'éléments, à chaque élément correspond une valeur de colonne qui identifie le catalogue auquel il appartient.</span><span class="sxs-lookup"><span data-stu-id="af647-123">Using the example of catalogs with different types of items, each item would have a column value that identifies the catalog to which it belongs.</span></span>  
  
 <span data-ttu-id="af647-124">La source XML crée une sortie pour chaque élément, mais vous n'êtes pas obligé d'utiliser toutes les sorties.</span><span class="sxs-lookup"><span data-stu-id="af647-124">The XML source creates an output for every element, but it is not required that you use all the outputs.</span></span> <span data-ttu-id="af647-125">Vous pouvez supprimer toute sortie que vous ne souhaitez pas utiliser ou simplement ne pas la connecter à un composant en aval.</span><span class="sxs-lookup"><span data-stu-id="af647-125">You can delete any output that you do not want to use, or just not connect it to a downstream component.</span></span>  
  
 <span data-ttu-id="af647-126">La source XML génère également les noms de sortie, afin que ceux-ci ne soient pas ambigus.</span><span class="sxs-lookup"><span data-stu-id="af647-126">The XML source also generates the output names, to ensure that the names are unambiguous.</span></span> <span data-ttu-id="af647-127">Ces noms peuvent être longs et ne pas identifier les sorties de façon très utilisable pour vous.</span><span class="sxs-lookup"><span data-stu-id="af647-127">These names may be long and may not identify the outputs in a way that is useful to you.</span></span> <span data-ttu-id="af647-128">Vous pouvez renommer les sorties, sous réserve que leurs noms demeurent uniques.</span><span class="sxs-lookup"><span data-stu-id="af647-128">You can rename the outputs, as long as their names remain unique.</span></span> <span data-ttu-id="af647-129">Vous pouvez également modifier le type de données et la longueur des colonnes de sortie.</span><span class="sxs-lookup"><span data-stu-id="af647-129">You can also modify the data type and the length of output columns.</span></span>  
  
 <span data-ttu-id="af647-130">Pour chaque sortie, la source XML ajoute une sortie d'erreur.</span><span class="sxs-lookup"><span data-stu-id="af647-130">For every output, the XML source adds an error output.</span></span> <span data-ttu-id="af647-131">Par défaut, les colonnes situées dans les sorties d'erreur ont le type de données chaîne Unicode (DT_WSTR) et une longueur de 255 caractères ; toutefois, vous pouvez reconfigurer leur type de données et leur longueur.</span><span class="sxs-lookup"><span data-stu-id="af647-131">By default the columns in error outputs have Unicode string data type (DT_WSTR) with a length of 255, but you can configure the columns in the error outputs by modifying their data type and length.</span></span>  
  
 <span data-ttu-id="af647-132">Si le fichier de données XML contient des éléments qui ne figurent pas dans le fichier XSD, ces éléments sont ignorés et aucune sortie correspondante n'est générée.</span><span class="sxs-lookup"><span data-stu-id="af647-132">If the XML data file contains elements that are not in the XSD, these elements are ignored and no output is generated for them.</span></span> <span data-ttu-id="af647-133">Par contre, s'il manque dans le fichier de données XML des éléments représentés dans le fichier XSD, la sortie contient des colonnes comportant des valeurs NULL.</span><span class="sxs-lookup"><span data-stu-id="af647-133">On the other hand, if the XML data file is missing elements that are represented in the XSD, the output will contain columns with null values.</span></span>  
  
 <span data-ttu-id="af647-134">Quand les données sont extraites du fichier de données XML, elles sont converties en un type de données [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="af647-134">When the data is extracted from the XML data file, it is converted to an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type.</span></span> <span data-ttu-id="af647-135">Toutefois, la source XML ne peut pas convertir les données XML en types de données DT_TIME2 ou DT_DBTIMESTAMP2, car elle ne prend pas en charge ces types de données.</span><span class="sxs-lookup"><span data-stu-id="af647-135">However, the XML source cannot convert the XML data to the DT_TIME2 or DT_DBTIMESTAMP2 data types because the source does not support these data types.</span></span> <span data-ttu-id="af647-136">Pour plus d’informations, consultez [Types de données Integration Services](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="af647-136">For more information, see [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
 <span data-ttu-id="af647-137">Le fichier XSD ou le schéma inclus peuvent spécifier le type de données des éléments mais, s’ils ne le font pas, la boîte de dialogue **Éditeur de source XML** affecte le type de données chaîne Unicode (DT_WSTR) à la colonne de sortie qui contient l’élément et définit pour celle-ci une longueur de 255 caractères.</span><span class="sxs-lookup"><span data-stu-id="af647-137">The XSD or inline schema may specify the data type for elements, but if it does not, the **XML Source Editor** dialog box assigns the Unicode string data type (DT_WSTR) to the column in the output that contains the element, and sets the column length to 255 characters.</span></span>  
  
 <span data-ttu-id="af647-138">Si le schéma spécifie la longueur maximale d'un élément, la longueur de la colonne de sortie prend cette valeur.</span><span class="sxs-lookup"><span data-stu-id="af647-138">If the schema specifies the maximum length of an element, the length of output column is set to this value.</span></span> <span data-ttu-id="af647-139">Si la longueur maximale est supérieure à la longueur prise en charge par le type de données [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] dans lequel l’élément est converti, les données sont tronquées à la longueur maximale du type de données.</span><span class="sxs-lookup"><span data-stu-id="af647-139">If the maximum length is greater than the length supported by the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type to which the element is converted, then the data is truncated to the maximum length of the data type.</span></span> <span data-ttu-id="af647-140">Par exemple, si une chaîne a une longueur de 5000, elle est tronquée au 4000e caractère car la longueur maximale du type de données DT_WSTR est de 4000 caractères ; de même, les données de type octet sont tronquées au 8000e caractère, car la longueur maximale du type de données DT_BYTES est de 4000 caractères.</span><span class="sxs-lookup"><span data-stu-id="af647-140">For example, if a string has a length of 5000, it is truncated to 4000 characters because the maximum length of the DT_WSTR data type is 4000 characters; likewise, byte data is truncated to 8000 characters, the maximum length of the DT_BYTES data type.</span></span> <span data-ttu-id="af647-141">Si le schéma ne spécifie aucune longueur maximale, la longueur par défaut des colonnes, indépendamment de leur type de données, est de 255.</span><span class="sxs-lookup"><span data-stu-id="af647-141">If the schema specifies no maximum length, the default length of columns with either data type is set to 255.</span></span> <span data-ttu-id="af647-142">La troncation des données dans la source XML est gérée de la même manière que dans les autres composants de flux de données.</span><span class="sxs-lookup"><span data-stu-id="af647-142">Data truncation in the XML source is handled the same way as truncation in other data flow components.</span></span> <span data-ttu-id="af647-143">Pour plus d’informations, consultez [Gestion des erreurs dans les données](error-handling-in-data.md).</span><span class="sxs-lookup"><span data-stu-id="af647-143">For more information, see [Error Handling in Data](error-handling-in-data.md).</span></span>  
  
 <span data-ttu-id="af647-144">Vous pouvez modifier le type de données et la longueur de la colonne.</span><span class="sxs-lookup"><span data-stu-id="af647-144">You can modify the data type and the column length.</span></span> <span data-ttu-id="af647-145">Pour plus d’informations, consultez [Types de données Integration Services](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="af647-145">For more information, see [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
## <a name="configuration-of-the-xml-source"></a><span data-ttu-id="af647-146">Configuration de la source XML</span><span class="sxs-lookup"><span data-stu-id="af647-146">Configuration of the XML Source</span></span>  
 <span data-ttu-id="af647-147">La source XML prend en charge trois modes différents d'accès aux données.</span><span class="sxs-lookup"><span data-stu-id="af647-147">The XML source supports three different data access modes.</span></span> <span data-ttu-id="af647-148">Vous pouvez spécifier l'emplacement du fichier de données XML, la variable qui contient cet emplacement ou celle qui contient les données XML.</span><span class="sxs-lookup"><span data-stu-id="af647-148">You can specify the file location of the XML data file, the variable that contains the file location, or the variable that contains the XML data.</span></span>  
  
 <span data-ttu-id="af647-149">La source XML inclut les propriétés personnalisées `XMLData` et `XMLSchemaDefinition`, qui peuvent être mises à jour par des expressions de propriété lors du chargement du package.</span><span class="sxs-lookup"><span data-stu-id="af647-149">The XML source includes the `XMLData` and `XMLSchemaDefinition` custom properties that can be updated by property expressions when the package is loaded.</span></span> <span data-ttu-id="af647-150">Pour plus d’informations, consultez [Expressions Integration Services &#40;SSIS&#41;](../expressions/integration-services-ssis-expressions.md), [Expressions de propriété dans des packages](../expressions/use-property-expressions-in-packages.md) et [Propriétés personnalisées des sources XML](xml-source-custom-properties.md).</span><span class="sxs-lookup"><span data-stu-id="af647-150">For more information, see [Integration Services &#40;SSIS&#41; Expressions](../expressions/integration-services-ssis-expressions.md), [Use Property Expressions in Packages](../expressions/use-property-expressions-in-packages.md), and [XML Source Custom Properties](xml-source-custom-properties.md).</span></span>  
  
 <span data-ttu-id="af647-151">La source XML prend en charge plusieurs sorties standard et plusieurs sorties d'erreur.</span><span class="sxs-lookup"><span data-stu-id="af647-151">The XML source supports multiple regular outputs and multiple error outputs.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="af647-152">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] inclut la boîte de dialogue **Éditeur de source XML**pour configurer la source XML.</span><span class="sxs-lookup"><span data-stu-id="af647-152">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] includes the **XML Source Edito**r dialog box for configuring the XML source.</span></span> <span data-ttu-id="af647-153">Cette boîte de dialogue est disponible dans le concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="af647-153">This dialog box is available in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer.</span></span>  
  
 <span data-ttu-id="af647-154">Vous pouvez définir les propriétés par le biais du concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] ou par programmation.</span><span class="sxs-lookup"><span data-stu-id="af647-154">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="af647-155">Pour plus d’informations sur les propriétés définissables dans la boîte de dialogue **Éditeur de source XML** , cliquez sur l’une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="af647-155">For more information about the properties that you can set in the **XML Source Editor** dialog box, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="af647-156">Éditeur de source XML &#40;page Gestionnaire de connexions&#41;</span><span class="sxs-lookup"><span data-stu-id="af647-156">XML Source Editor &#40;Connection Manager Page&#41;</span></span>](../xml-source-editor-connection-manager-page.md)  
  
-   [<span data-ttu-id="af647-157">Éditeur de source XML &#40;page Colonnes&#41;</span><span class="sxs-lookup"><span data-stu-id="af647-157">XML Source Editor &#40;Columns Page&#41;</span></span>](../xml-source-editor-columns-page.md)  
  
-   [<span data-ttu-id="af647-158">Éditeur de source XML &#40;page Sortie d’erreur&#41;</span><span class="sxs-lookup"><span data-stu-id="af647-158">XML Source Editor &#40;Error Output Page&#41;</span></span>](../xml-source-editor-error-output-page.md)  
  
 <span data-ttu-id="af647-159">La boîte de dialogue **Éditeur avancé** reflète les propriétés qui peuvent être définies par programmation.</span><span class="sxs-lookup"><span data-stu-id="af647-159">The **Advanced Editor** dialog box reflects the properties that can be set programmatically.</span></span> <span data-ttu-id="af647-160">Pour plus d'informations sur les propriétés définissables dans la boîte de dialogue **Éditeur avancé** ou par programmation, cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="af647-160">For more information about the properties that you can set in the **Advanced Editor** dialog box or programmatically, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="af647-161">Propriétés communes</span><span class="sxs-lookup"><span data-stu-id="af647-161">Common Properties</span></span>](../common-properties.md)  
  
-   [<span data-ttu-id="af647-162">Propriétés personnalisées des sources XML</span><span class="sxs-lookup"><span data-stu-id="af647-162">XML Source Custom Properties</span></span>](xml-source-custom-properties.md)  
  
 <span data-ttu-id="af647-163">Pour plus d’informations sur la définition des propriétés, cliquez sur l’une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="af647-163">For more information about how to set the properties, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="af647-164">Définir les propriétés d’un composant de flux de données</span><span class="sxs-lookup"><span data-stu-id="af647-164">Set the Properties of a Data Flow Component</span></span>](set-the-properties-of-a-data-flow-component.md)  
  
## <a name="related-tasks"></a><span data-ttu-id="af647-165">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="af647-165">Related Tasks</span></span>  
 [<span data-ttu-id="af647-166">Extraire des données à l'aide de la source XML</span><span class="sxs-lookup"><span data-stu-id="af647-166">Extract Data by Using the XML Source</span></span>](xml-source.md)  
  
## <a name="related-content"></a><span data-ttu-id="af647-167">Contenu associé</span><span class="sxs-lookup"><span data-stu-id="af647-167">Related Content</span></span>  
 <span data-ttu-id="af647-168">Article technique, [utilisant un fichier XML pour configurer un package SSIS](https://www.sqlshack.com/using-xml-file-configure-ssis-package/).</span><span class="sxs-lookup"><span data-stu-id="af647-168">Technical article, [Using an XML file to configure an SSIS package](https://www.sqlshack.com/using-xml-file-configure-ssis-package/).</span></span>  
  
  
