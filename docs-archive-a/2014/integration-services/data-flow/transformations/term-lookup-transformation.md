---
title: Recherche de terme, transformation | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.termlookuptrans.f1
helpviewer_keywords:
- extracting data [Integration Services]
- match extracted terms [Integration Services]
- text extraction [Integration Services]
- term extractions [Integration Services]
- lookups [Integration Services]
- counting extracted items
- Term Lookup transformation
ms.assetid: 3c0fa2f8-cb6a-4371-b184-7447be001de1
author: chugugrace
ms.author: chugu
ms.openlocfilehash: a679f9e191b2b1ec54d982a715085fe5b6bddfc5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87706599"
---
# <a name="term-lookup-transformation"></a><span data-ttu-id="fe844-102">transformation de recherche de terme</span><span class="sxs-lookup"><span data-stu-id="fe844-102">Term Lookup Transformation</span></span>
  <span data-ttu-id="fe844-103">La transformation de recherche de terme met en correspondance des termes extraits de texte d'une colonne d'entrée de transformation avec les termes d'une table de référence.</span><span class="sxs-lookup"><span data-stu-id="fe844-103">The Term Lookup transformation matches terms extracted from text in a transformation input column with terms in a reference table.</span></span> <span data-ttu-id="fe844-104">Elle compte ensuite le nombre de fois où un terme de la table de recherche apparaît dans le dataset d'entrée, puis écrit ce nombre et le terme de la table de référence dans les colonnes de la sortie de la transformation.</span><span class="sxs-lookup"><span data-stu-id="fe844-104">It then counts the number of times a term in the lookup table occurs in the input data set, and writes the count together with the term from the reference table to columns in the transformation output.</span></span> <span data-ttu-id="fe844-105">Cette transformation est utile pour créer une liste personnalisée de termes reposant sur le texte d'entrée et complétée de statistiques de fréquence.</span><span class="sxs-lookup"><span data-stu-id="fe844-105">This transformation is useful for creating a custom word list based on the input text, complete with word frequency statistics.</span></span>  
  
 <span data-ttu-id="fe844-106">Avant d'effectuer une recherche, la transformation de recherche de terme extrait des mots du texte dans une colonne d'entrée à l'aide de la même méthode que la transformation d'extraction de terme :</span><span class="sxs-lookup"><span data-stu-id="fe844-106">Before the Term Lookup transformation performs a lookup, it extracts words from the text in an input column using the same method as the Term Extraction transformation:</span></span>  
  
-   <span data-ttu-id="fe844-107">Le texte est divisé en phrases.</span><span class="sxs-lookup"><span data-stu-id="fe844-107">Text is broken into sentences.</span></span>  
  
-   <span data-ttu-id="fe844-108">Les phrases sont divisées en mots.</span><span class="sxs-lookup"><span data-stu-id="fe844-108">Sentences are broken into words.</span></span>  
  
-   <span data-ttu-id="fe844-109">Les mots sont normalisés.</span><span class="sxs-lookup"><span data-stu-id="fe844-109">Words are normalized.</span></span>  
  
 <span data-ttu-id="fe844-110">Il est possible de configurer la transformation de recherche de terme de manière à effectuer une mise en correspondance respectant la casse.</span><span class="sxs-lookup"><span data-stu-id="fe844-110">To further customize which terms to match, the Term Lookup transformation can be configured to perform a case-sensitive match.</span></span>  
  
## <a name="matches"></a><span data-ttu-id="fe844-111">Correspondances</span><span class="sxs-lookup"><span data-stu-id="fe844-111">Matches</span></span>  
 <span data-ttu-id="fe844-112">La recherche de terme effectue une recherche et renvoie une valeur en suivant les règles ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="fe844-112">The Term Lookup performs a lookup and returns a value using the following rules:</span></span>  
  
-   <span data-ttu-id="fe844-113">Si la transformation est configurée pour effectuer des mises en correspondance respectant la casse, les termes ne correspondant pas à la casse sont ignorés.</span><span class="sxs-lookup"><span data-stu-id="fe844-113">If the transformation is configured to perform case-sensitive matches, matches that fail a case-sensitive comparison are discarded.</span></span> <span data-ttu-id="fe844-114">Par exemple, *étudiant* et *ÉTUDIANT* sont considérés comme des termes distincts.</span><span class="sxs-lookup"><span data-stu-id="fe844-114">For example, *student* and *STUDENT* are treated as separate words.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fe844-115">Un mot dont la première lettre est une minuscule peut être mis en correspondance avec un mot dont la première lettre est une majuscule en début de phrase.</span><span class="sxs-lookup"><span data-stu-id="fe844-115">A non-capitalized word can be matched with a word that is capitalized at the beginning of a sentence.</span></span> <span data-ttu-id="fe844-116">Par exemple, *étudiant* et *Étudiant* sont mis en correspondance si *Étudiant* est le premier mot de la phrase.</span><span class="sxs-lookup"><span data-stu-id="fe844-116">For example, the match between *student* and *Student* succeeds when *Student* is the first word in a sentence.</span></span>  
  
-   <span data-ttu-id="fe844-117">Si une forme plurielle du nom ou de la phrase nominale existe dans la table de référence, la recherche met en correspondance uniquement la forme plurielle du nom ou de la phrase nominale.</span><span class="sxs-lookup"><span data-stu-id="fe844-117">If a plural form of the noun or noun phrase exists in the reference table, the lookup matches only the plural form of the noun or noun phrase.</span></span> <span data-ttu-id="fe844-118">Par exemple, les instances de *étudiants* et de *étudiant*sont comptabilisées de façon distincte.</span><span class="sxs-lookup"><span data-stu-id="fe844-118">For example, all instances of *students* would be counted separately from the instances of *student*.</span></span>  
  
-   <span data-ttu-id="fe844-119">Si seule la forme singulier du mot se trouve dans la table de référence, les formes singulier et pluriel du mot ou de la phrase sont mises en correspondance avec la forme singulier.</span><span class="sxs-lookup"><span data-stu-id="fe844-119">If only the singular form of the word is found in the reference table, both the singular and the plural forms of the word or phrase are matched to the singular form.</span></span> <span data-ttu-id="fe844-120">Par exemple, si la table de recherche contient *étudiant*et que la transformation trouve les mots *étudiant* et *étudiants*, ces deux mots seront comptabilisées comme des correspondances du terme *étudiant*.</span><span class="sxs-lookup"><span data-stu-id="fe844-120">For example, if the lookup table contains *student*, and the transformation finds the words *student* and *students*, both words would be counted as a match for the lookup term *student*.</span></span>  
  
-   <span data-ttu-id="fe844-121">Si le texte de la colonne d'entrée est une phrase nominale contenant des lemmes, seul le dernier mot de la phrase nominale est affecté par la normalisation.</span><span class="sxs-lookup"><span data-stu-id="fe844-121">If the text in the input column is a lemmatized noun phrase, only the last word in the noun phrase is affected by normalization.</span></span> <span data-ttu-id="fe844-122">Par exemple, la version avec lemmes de *visites avec les médecins* est *visite avec les médecins*.</span><span class="sxs-lookup"><span data-stu-id="fe844-122">For example, the lemmatized version of *doctors appointments* is *doctors appointment*.</span></span>  
  
 <span data-ttu-id="fe844-123">Quand un élément de recherche contient des termes débordant du cadre de référence, autrement dit si un sous-terme est trouvé dans plusieurs enregistrements de référence, la transformation de recherche de terme ne retourne qu’un seul résultat de recherche.</span><span class="sxs-lookup"><span data-stu-id="fe844-123">When a lookup item contains terms that overlap in the reference set-that is, a sub-term is found in more than one reference record-the Term Lookup transformation returns only one lookup result.</span></span> <span data-ttu-id="fe844-124">L'exemple suivant illustre le résultat trouvé lorsqu'un élément de recherche présente un sous-terme de chevauchement.</span><span class="sxs-lookup"><span data-stu-id="fe844-124">The following example shows the result when a lookup item contains an overlapping sub-term.</span></span> <span data-ttu-id="fe844-125">Dans cet exemple, le sous-terme est *Windows*, que l’on retrouve dans deux termes de référence.</span><span class="sxs-lookup"><span data-stu-id="fe844-125">The overlapping sub-term in this case is *Windows*, which is found within two reference terms.</span></span> <span data-ttu-id="fe844-126">Toutefois, la transformation ne retourne pas deux résultats, mais un seul terme de référence uniquement, *Windows*.</span><span class="sxs-lookup"><span data-stu-id="fe844-126">However, the transformation does not return two results, but returns only a single reference term, *Windows*.</span></span> <span data-ttu-id="fe844-127">Le second terme de référence, *Windows 7 Professionnel*, n’est pas retourné.</span><span class="sxs-lookup"><span data-stu-id="fe844-127">The second reference term, *Windows 7 Professional*, is not returned.</span></span>  
  
|<span data-ttu-id="fe844-128">Élément</span><span class="sxs-lookup"><span data-stu-id="fe844-128">Item</span></span>|<span data-ttu-id="fe844-129">Valeur</span><span class="sxs-lookup"><span data-stu-id="fe844-129">Value</span></span>|  
|----------|-----------|  
|<span data-ttu-id="fe844-130">Terme entré</span><span class="sxs-lookup"><span data-stu-id="fe844-130">Input term</span></span>|<span data-ttu-id="fe844-131">Windows 7 Professionnel</span><span class="sxs-lookup"><span data-stu-id="fe844-131">Windows 7 Professional</span></span>|  
|<span data-ttu-id="fe844-132">Termes de référence</span><span class="sxs-lookup"><span data-stu-id="fe844-132">Reference terms</span></span>|<span data-ttu-id="fe844-133">Windows, Windows 7 Professionnel</span><span class="sxs-lookup"><span data-stu-id="fe844-133">Windows, Windows 7 Professional</span></span>|  
|<span data-ttu-id="fe844-134">Output</span><span class="sxs-lookup"><span data-stu-id="fe844-134">Output</span></span>|<span data-ttu-id="fe844-135">Windows</span><span class="sxs-lookup"><span data-stu-id="fe844-135">Windows</span></span>|  
  
 <span data-ttu-id="fe844-136">La transformation de recherche de terme peut mettre en correspondance des noms et des phrases nominales contenant des caractères spéciaux. Les données de la table de référence peuvent inclure ces caractères.</span><span class="sxs-lookup"><span data-stu-id="fe844-136">The Term Lookup transformation can match nouns and noun phrases that contain special characters, and the data in the reference table may include these characters.</span></span> <span data-ttu-id="fe844-137">Les caractères spéciaux sont les suivants : %, @, &, $, #, \*, :, ;, ., **,** , !, ?, \<, >, +, =, ^, ~, |, \\, /, (, ), [, ], {, }, " et '.</span><span class="sxs-lookup"><span data-stu-id="fe844-137">The special characters are as follows: %, @, &, $, #, \*, :, ;, ., **,** , !, ?, \<, >, +, =, ^, ~, |, \\, /, (, ), [, ], {, }, ", and '.</span></span>  
  
## <a name="data-types"></a><span data-ttu-id="fe844-138">Types de données</span><span class="sxs-lookup"><span data-stu-id="fe844-138">Data Types</span></span>  
 <span data-ttu-id="fe844-139">La transformation de recherche de terme ne peut utiliser qu'une colonne contenant le type de données DT_WSTR ou DT_NTEXT.</span><span class="sxs-lookup"><span data-stu-id="fe844-139">The Term Lookup transformation can only use a column that has either the DT_WSTR or the DT_NTEXT data type.</span></span> <span data-ttu-id="fe844-140">Si une colonne contient du texte, mais pas l'un de ces types de données, la transformation de conversion de données peut ajouter une colonne avec le type de données DT_WSTR ou DT_NTEXT au flux de données, puis copier les valeurs de la colonne dans cette nouvelle colonne.</span><span class="sxs-lookup"><span data-stu-id="fe844-140">If a column contains text, but does not have one of these data types, the Data Conversion transformation can add a column with the DT_WSTR or DT_NTEXT data type to the data flow and copy the column values to the new column.</span></span> <span data-ttu-id="fe844-141">La sortie de la transformation de conversion de données peut ensuite être utilisée comme entrée de la transformation de recherche de terme.</span><span class="sxs-lookup"><span data-stu-id="fe844-141">The output from the Data Conversion transformation can then be used as the input to the Term Lookup transformation.</span></span> <span data-ttu-id="fe844-142">Pour plus d’informations, voir [Data Conversion Transformation](data-conversion-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="fe844-142">For more information, see [Data Conversion Transformation](data-conversion-transformation.md).</span></span>  
  
## <a name="configuration-the-term-lookup-transformation"></a><span data-ttu-id="fe844-143">Configuration de la transformation de recherche de terme</span><span class="sxs-lookup"><span data-stu-id="fe844-143">Configuration the Term Lookup Transformation</span></span>  
 <span data-ttu-id="fe844-144">Les colonnes d’entrée de la transformation de recherche de terme incluent la propriété InputColumnType, qui indique l’utilisation de la colonne.</span><span class="sxs-lookup"><span data-stu-id="fe844-144">The Term Lookup transformation input columns includes the InputColumnType property, which indicates the use of the column.</span></span> <span data-ttu-id="fe844-145">InputColumnType peut contenir les valeurs ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="fe844-145">InputColumnType can contain the following values:</span></span>  
  
-   <span data-ttu-id="fe844-146">La valeur 0 indique que la colonne est transmise à la sortie uniquement et n'est pas utilisée dans la recherche.</span><span class="sxs-lookup"><span data-stu-id="fe844-146">The value 0 indicates the column is passed through to the output only and is not used in the lookup.</span></span>  
  
-   <span data-ttu-id="fe844-147">La valeur 1 indique que la colonne est utilisée dans la recherche uniquement.</span><span class="sxs-lookup"><span data-stu-id="fe844-147">The value 1 indicates the column is used in the lookup only.</span></span>  
  
-   <span data-ttu-id="fe844-148">La valeur 2 indique que la colonne est transmise à la sortie et est utilisée dans la recherche.</span><span class="sxs-lookup"><span data-stu-id="fe844-148">The value 2 indicates the column is passed through to the output, and is also used in the lookup.</span></span>  
  
 <span data-ttu-id="fe844-149">Les colonnes de sortie de la transformation, dont la propriété InputColumnType a la valeur 0 ou 2, sont accompagnées de la propriété CustomLineageID, qui contient l’identificateur de lignage affecté à la colonne par un composant amont du flux de données.</span><span class="sxs-lookup"><span data-stu-id="fe844-149">Transformation output columns whose InputColumnType property is set to 0 or 2 include the CustomLineageID property for a column, which contains the lineage identifier assigned to the column by an upstream data flow component.</span></span>  
  
 <span data-ttu-id="fe844-150">La transformation de recherche de terme ajoute deux colonnes à la sortie de la transformation, dont les noms par défaut sont `Term` et `Frequency`.</span><span class="sxs-lookup"><span data-stu-id="fe844-150">The Term Lookup transformation adds two columns to the transformation output, named by default `Term` and `Frequency`.</span></span> <span data-ttu-id="fe844-151">`Term` contient un terme issu de la table de recherche et `Frequency` contient le nombre d'occurrences du terme de la table de référence dans le jeu de données d'entrée.</span><span class="sxs-lookup"><span data-stu-id="fe844-151">`Term` contains a term from the lookup table and `Frequency` contains the number of times the term in the reference table occurs in the input data set.</span></span> <span data-ttu-id="fe844-152">Ces colonnes n’incluent pas la propriété CustomLineageID.</span><span class="sxs-lookup"><span data-stu-id="fe844-152">These columns do not include the CustomLineageID property.</span></span>  
  
 <span data-ttu-id="fe844-153">La table de recherche doit être une table d'une base de données [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou Access.</span><span class="sxs-lookup"><span data-stu-id="fe844-153">The lookup table must be a table in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] or an Access database.</span></span> <span data-ttu-id="fe844-154">Si la sortie de la transformation d'extraction de terme est enregistrée dans une table, cette table peut être utilisée comme table de référence (sachant que les autres tables peuvent également être utilisées).</span><span class="sxs-lookup"><span data-stu-id="fe844-154">If the output of the Term Extraction transformation is saved to a table, this table can be used as the reference table, but other tables can also be used.</span></span> <span data-ttu-id="fe844-155">Pour pouvoir utiliser la transformation de recherche de terme sur le texte de fichiers plats, de classeurs Excel ou d’autres sources, vous devez les importer dans une base de données [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou Access.</span><span class="sxs-lookup"><span data-stu-id="fe844-155">Text in flat files, Excel workbooks or other sources must be imported to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database or an Access database before you can use the Term Lookup transformation.</span></span>  
  
 <span data-ttu-id="fe844-156">La transformation de recherche de terme utilise une connexion OLE DB distincte pour se connecter à la table de référence.</span><span class="sxs-lookup"><span data-stu-id="fe844-156">The Term Lookup transformation uses a separate OLE DB connection to connect to the reference table.</span></span> <span data-ttu-id="fe844-157">Pour plus d’informations, consultez [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="fe844-157">For more information, see [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span></span>  
  
 <span data-ttu-id="fe844-158">La transformation de recherche de terme fonctionne en mode de mise en cache globale préalable.</span><span class="sxs-lookup"><span data-stu-id="fe844-158">The Term Lookup transformation works in a fully precached mode.</span></span> <span data-ttu-id="fe844-159">Au moment de l'exécution, elle lit les termes de la table de référence et les stocke dans sa mémoire privée avant de traiter toute ligne d'entrée de la transformation.</span><span class="sxs-lookup"><span data-stu-id="fe844-159">At run time, the Term Lookup transformation reads the terms from the reference table and stores them in its private memory before it processes any transformation input rows.</span></span>  
  
 <span data-ttu-id="fe844-160">Dans la mesure où les termes d'une ligne de colonne d'entrée peuvent se répéter, la sortie de la transformation de recherche de terme contient généralement plus de lignes que l'entrée de la transformation.</span><span class="sxs-lookup"><span data-stu-id="fe844-160">Because the terms in an input column row may repeat, the output of the Term Lookup transformation typically has more rows than the transformation input.</span></span>  
  
 <span data-ttu-id="fe844-161">La transformation comporte une entrée et une sortie.</span><span class="sxs-lookup"><span data-stu-id="fe844-161">The transformation has one input and one output.</span></span> <span data-ttu-id="fe844-162">Elle ne prend pas en charge les sorties d'erreur.</span><span class="sxs-lookup"><span data-stu-id="fe844-162">It does not support error outputs.</span></span>  
  
 <span data-ttu-id="fe844-163">Vous pouvez définir les propriétés par le biais du concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] ou par programmation.</span><span class="sxs-lookup"><span data-stu-id="fe844-163">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="fe844-164">Pour plus d’informations sur les propriétés définissables dans la boîte de dialogue **Éditeur de transformation de recherche de terme**, cliquez sur l’une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="fe844-164">For more information about the properties that you can set in the **Term Lookup Transformation Editor** dialog box, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="fe844-165">Éditeur de transformation de recherche de terme &#40;onglet Table de référence&#41;</span><span class="sxs-lookup"><span data-stu-id="fe844-165">Term Lookup Transformation Editor &#40;Reference Table Tab&#41;</span></span>](../../term-lookup-transformation-editor-reference-table-tab.md)  
  
-   [<span data-ttu-id="fe844-166">Éditeur de transformation de recherche de terme &#40;onglet Recherche de terme&#41;</span><span class="sxs-lookup"><span data-stu-id="fe844-166">Term Lookup Transformation Editor &#40;Term Lookup Tab&#41;</span></span>](../../term-lookup-transformation-editor-term-lookup-tab.md)  
  
-   [<span data-ttu-id="fe844-167">Éditeur de transformation de recherche de terme &#40;onglet Avancé&#41;</span><span class="sxs-lookup"><span data-stu-id="fe844-167">Term Lookup Transformation Editor &#40;Advanced Tab&#41;</span></span>](../../term-lookup-transformation-editor-advanced-tab.md)  
  
 <span data-ttu-id="fe844-168">Pour plus d'informations sur les propriétés définissables dans la boîte de dialogue **Éditeur avancé** ou par programmation, cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="fe844-168">For more information about the properties that you can set in the **Advanced Editor** dialog box or programmatically, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="fe844-169">Propriétés communes</span><span class="sxs-lookup"><span data-stu-id="fe844-169">Common Properties</span></span>](../../common-properties.md)  
  
-   [<span data-ttu-id="fe844-170">Propriétés personnalisées des transformations</span><span class="sxs-lookup"><span data-stu-id="fe844-170">Transformation Custom Properties</span></span>](transformation-custom-properties.md)  
  
 <span data-ttu-id="fe844-171">Pour plus d’informations sur la façon de définir les propriétés, consultez [Définir les propriétés d’un composant de flux de données](../set-the-properties-of-a-data-flow-component.md).</span><span class="sxs-lookup"><span data-stu-id="fe844-171">For more information about how to set properties, see [Set the Properties of a Data Flow Component](../set-the-properties-of-a-data-flow-component.md).</span></span>  
  
  
