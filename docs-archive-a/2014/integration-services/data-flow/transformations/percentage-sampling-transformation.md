---
title: Échantillonnage du pourcentage, transformation | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.percentagesamplingtrans.f1
helpviewer_keywords:
- testing mining models
- sampling seeds [Integration Services]
- data mining [Analysis Services], sample data sets
- Percentage Sampling transformation
- sample data sets [Integration Services]
- datasets [Integration Services], sample
- training mining models
ms.assetid: 59767e52-f732-4b3f-8602-be50d0a64ef2
author: chugugrace
ms.author: chugu
ms.openlocfilehash: e5fe41ecf4a2ca0f9d20eec2c8e10af8ed4cd47b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87710783"
---
# <a name="percentage-sampling-transformation"></a><span data-ttu-id="e5e80-102">transformation de l'échantillonnage du pourcentage</span><span class="sxs-lookup"><span data-stu-id="e5e80-102">Percentage Sampling Transformation</span></span>
  <span data-ttu-id="e5e80-103">La transformation de l'échantillonnage du pourcentage crée un échantillon d'ensemble de données en sélectionnant un pourcentage des lignes d'entrée de transformation.</span><span class="sxs-lookup"><span data-stu-id="e5e80-103">The Percentage Sampling transformation creates a sample data set by selecting a percentage of the transformation input rows.</span></span> <span data-ttu-id="e5e80-104">L'échantillon d'ensemble de données est une sélection aléatoire de lignes dans l'entrée de transformation, visant à rendre l'échantillon résultant représentatif de l'entrée.</span><span class="sxs-lookup"><span data-stu-id="e5e80-104">The sample data set is a random selection of rows from the transformation input, to make the resultant sample representative of the input.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e5e80-105">Outre le pourcentage spécifié, la transformation de l'échantillonnage du pourcentage utilise un algorithme pour déterminer si une ligne doit être incluse dans l'échantillon en sortie.</span><span class="sxs-lookup"><span data-stu-id="e5e80-105">In addition to the specified percentage, the Percentage Sampling transformation uses an algorithm to determine whether a row should be included in the sample output.</span></span> <span data-ttu-id="e5e80-106">Par conséquent, le nombre de lignes dans l'échantillon en sortie peut ne pas refléter exactement le pourcentage spécifié.</span><span class="sxs-lookup"><span data-stu-id="e5e80-106">This means that the number of rows in the sample output may not exactly reflect the specified percentage.</span></span> <span data-ttu-id="e5e80-107">Par exemple, la spécification de la valeur 10 % pour un ensemble de données d'entrée composé de 25 000 lignes peut ne pas générer un échantillon de 2 500 lignes ; celui-ci peut avoir un peu plus ou un peu moins de lignes.</span><span class="sxs-lookup"><span data-stu-id="e5e80-107">For example, specifying 10 percent for an input data set that has 25,000 rows may not generate a sample with 2,500 rows; the sample may have a few more or a few less rows.</span></span>  
  
 <span data-ttu-id="e5e80-108">La transformation de l'échantillonnage du pourcentage est spécialement utile pour l'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="e5e80-108">The Percentage Sampling transformation is especially useful for data mining.</span></span> <span data-ttu-id="e5e80-109">Cette transformation vous permet de diviser de façon aléatoire un jeu de données en deux jeux de données : un pour mettre au point le modèle d'exploration de données, l'autre pour le tester.</span><span class="sxs-lookup"><span data-stu-id="e5e80-109">By using this transformation, you can randomly divide a data set into two data sets: one for training the data mining model, and one for testing the model.</span></span>  
  
 <span data-ttu-id="e5e80-110">La transformation de l'échantillonnage du pourcentage permet également de créer des échantillons d'ensembles de données en vue de développer des packages.</span><span class="sxs-lookup"><span data-stu-id="e5e80-110">The Percentage Sampling transformation is also useful for creating sample data sets for package development.</span></span> <span data-ttu-id="e5e80-111">Vous pouvez appliquer la transformation de l'échantillonnage du pourcentage à un flux de données afin de réduire uniformément la taille de l'ensemble de données tout en conservant les caractéristiques de ses données.</span><span class="sxs-lookup"><span data-stu-id="e5e80-111">By applying the Percentage Sampling transformation to a data flow, you can uniformly reduce the size of the data set while preserving its data characteristics.</span></span> <span data-ttu-id="e5e80-112">Le package de test peut ensuite s'exécuter plus rapidement car il utilise un ensemble de données réduit mais représentatif.</span><span class="sxs-lookup"><span data-stu-id="e5e80-112">The test package can then run more quickly because it uses a small, but representative, data set.</span></span>  
  
## <a name="configuration-the-percentage-sampling-transformation"></a><span data-ttu-id="e5e80-113">Configuration de la transformation de l'échantillonnage du pourcentage</span><span class="sxs-lookup"><span data-stu-id="e5e80-113">Configuration the Percentage Sampling Transformation</span></span>  
 <span data-ttu-id="e5e80-114">Vous pouvez spécifier une valeur d'échantillonnage de départ afin de modifier le comportement du générateur de nombres aléatoires qu'utilise la transformation pour sélectionner les lignes.</span><span class="sxs-lookup"><span data-stu-id="e5e80-114">You can specify a sampling seed to modify the behavior of the random number generator that the transformation uses to select rows.</span></span> <span data-ttu-id="e5e80-115">Si la même valeur d'échantillonnage de départ est utilisée, la transformation crée toujours le même échantillon en sortie.</span><span class="sxs-lookup"><span data-stu-id="e5e80-115">If the same sampling seed is used, the transformation always creates the same sample output.</span></span> <span data-ttu-id="e5e80-116">Si aucune valeur de départ n'est spécifiée, la transformation utilise le nombre de cycles du système d'exploitation pour créer le nombre aléatoire.</span><span class="sxs-lookup"><span data-stu-id="e5e80-116">If no seed is specified, the transformation uses the tick count of the operating system to create the random number.</span></span> <span data-ttu-id="e5e80-117">Par conséquent, vous pouvez utiliser une valeur de départ standard pour vérifier les résultats de la transformation pendant le développement et le test d'un package, puis opter pour une valeur de départ aléatoire lorsque le package passe en production.</span><span class="sxs-lookup"><span data-stu-id="e5e80-117">Therefore, you might choose to use a standard seed when you want to verify the transformation results during the development and testing of a package, and then change to use a random seed when the package is moved into production.</span></span>  
  
 <span data-ttu-id="e5e80-118">Cette transformation est similaire à la transformation d'échantillonnage de lignes, qui crée un échantillon d'ensemble de données en sélectionnant un nombre spécifié de lignes d'entrée.</span><span class="sxs-lookup"><span data-stu-id="e5e80-118">This transformation is similar to the Row Sampling transformation, which creates a sample data set by selecting a specified number of the input rows.</span></span> <span data-ttu-id="e5e80-119">Pour plus d’informations, consultez [Transformation d’échantillonnage de lignes](row-sampling-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="e5e80-119">For more information, see [Row Sampling Transformation](row-sampling-transformation.md).</span></span>  
  
 <span data-ttu-id="e5e80-120">La transformation de l'échantillonnage du pourcentage inclut la propriété personnalisée `SamplingValue`.</span><span class="sxs-lookup"><span data-stu-id="e5e80-120">The Percentage Sampling transformation includes the `SamplingValue` custom property.</span></span> <span data-ttu-id="e5e80-121">La propriété peut être mise à jour par une expression de propriété lors du chargement du package.</span><span class="sxs-lookup"><span data-stu-id="e5e80-121">This property can be updated by a property expression when the package is loaded.</span></span> <span data-ttu-id="e5e80-122">Pour plus d’informations, consultez [Expressions Integration Services &#40;SSIS&#41; ](../../expressions/integration-services-ssis-expressions.md), [Expressions de propriété dans des packages](../../expressions/use-property-expressions-in-packages.md) et [Propriétés personnalisées des transformations](transformation-custom-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e5e80-122">For more information, see [Integration Services &#40;SSIS&#41; Expressions](../../expressions/integration-services-ssis-expressions.md), [Use Property Expressions in Packages](../../expressions/use-property-expressions-in-packages.md), and [Transformation Custom Properties](transformation-custom-properties.md).</span></span>  
  
 <span data-ttu-id="e5e80-123">La transformation a une entrée et deux sorties.</span><span class="sxs-lookup"><span data-stu-id="e5e80-123">The transformation has one input and two outputs.</span></span> <span data-ttu-id="e5e80-124">Elle ne prend pas en charge de sortie d'erreur.</span><span class="sxs-lookup"><span data-stu-id="e5e80-124">It does not support an error output.</span></span>  
  
 <span data-ttu-id="e5e80-125">Vous pouvez définir les propriétés par le biais du concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] ou par programmation.</span><span class="sxs-lookup"><span data-stu-id="e5e80-125">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="e5e80-126">Pour plus d’informations sur les propriétés que vous pouvez définir dans la boîte de dialogue **Éditeur de transformation d’échantillonnage par pourcentage** , consultez [Transformation de l’échantillonnage du pourcentage](../../percentage-sampling-transformation-editor.md).</span><span class="sxs-lookup"><span data-stu-id="e5e80-126">For more information about the properties that you can set in the **Percentage Sampling Transformation Editor** dialog box, see [Percentage Sampling Transformation Editor](../../percentage-sampling-transformation-editor.md).</span></span>  
  
 <span data-ttu-id="e5e80-127">La boîte de dialogue **Éditeur avancé** reflète les propriétés qui peuvent être définies par programmation.</span><span class="sxs-lookup"><span data-stu-id="e5e80-127">The **Advanced Editor** dialog box reflects the properties that can be set programmatically.</span></span> <span data-ttu-id="e5e80-128">Pour plus d'informations sur les propriétés définissables dans la boîte de dialogue **Éditeur avancé** ou par programmation, cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="e5e80-128">For more information about the properties that you can set in the **Advanced Editor** dialog box or programmatically, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="e5e80-129">Propriétés communes</span><span class="sxs-lookup"><span data-stu-id="e5e80-129">Common Properties</span></span>](../../common-properties.md)  
  
-   [<span data-ttu-id="e5e80-130">Propriétés personnalisées des transformations</span><span class="sxs-lookup"><span data-stu-id="e5e80-130">Transformation Custom Properties</span></span>](transformation-custom-properties.md)  
  
 <span data-ttu-id="e5e80-131">Pour plus d’informations sur la façon de définir les propriétés, consultez [Définir les propriétés d’un composant de flux de données](../set-the-properties-of-a-data-flow-component.md).</span><span class="sxs-lookup"><span data-stu-id="e5e80-131">For more information about how to set properties, see [Set the Properties of a Data Flow Component](../set-the-properties-of-a-data-flow-component.md).</span></span>  
  
  
