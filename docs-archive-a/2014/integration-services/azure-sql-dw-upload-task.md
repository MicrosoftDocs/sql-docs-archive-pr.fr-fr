---
title: Chargement Azure SQL Data Warehouse, tâche | Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- SQL12.DTS.DESIGNER.AFPDWUPTASK.F1
- SQL11.DTS.DESIGNER.AFPDWUPTASK.F1
ms.assetid: 112cf764-f85a-4c1a-b732-d299d717c0d4
author: yualan
ms.author: chugu
ms.openlocfilehash: d90cc36b5e8beb35313b76ecef2ed95f065dcb89
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87602270"
---
# <a name="azure-sql-dw-upload-task"></a><span data-ttu-id="da9fd-102">Tâche de chargement Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="da9fd-102">Azure SQL DW Upload Task</span></span>
<span data-ttu-id="da9fd-103">La **tâche de chargement Azure SQL Data Warehouse** permet à un package SSIS de charger des données locales sur une table dans Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="da9fd-103">The **Azure SQL DW Upload Task** enables an SSIS package to upload local data to a table in Azure SQL Data Warehouse (DW).</span></span> <span data-ttu-id="da9fd-104">Le format de fichier de données source pris en charge actuellement est le texte délimité dans l’encodage UTF-8.</span><span class="sxs-lookup"><span data-stu-id="da9fd-104">The currently supported source data file format is delimited text in UTF8 encoding.</span></span> <span data-ttu-id="da9fd-105">Le processus de chargement suit l’approche Polybase efficace.</span><span class="sxs-lookup"><span data-stu-id="da9fd-105">The uploading process follows the efficient PolyBase approach.</span></span> <span data-ttu-id="da9fd-106">Plus précisément, les données sont tout d’abord chargées sur le stockage Blob Azure, puis sur Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="da9fd-106">Specifically, data will first be uploaded to Azure Blob Storage, and then to Azure SQL DW.</span></span> <span data-ttu-id="da9fd-107">Par conséquent, un compte de stockage Blob Azure est nécessaire pour utiliser cette tâche.</span><span class="sxs-lookup"><span data-stu-id="da9fd-107">Therefore, an Azure Blob Storage account is needed to use this task.</span></span>

<span data-ttu-id="da9fd-108">Pour ajouter une **tâche de chargement Azure SQL Data Warehouse**, faites-la glisser de la boîte à outils SSIS vers le canevas du concepteur, double-cliquez dessus ou cliquez dessus avec le bouton droit, puis cliquez sur **Modifier** pour afficher la boîte de dialogue de l’éditeur de tâche.</span><span class="sxs-lookup"><span data-stu-id="da9fd-108">To add an **Azure SQL DW Upload Task**, drag-drop it from SSIS Toolbox to the designer canvas, and double-click or right-click and click **Edit** to see the task editor dialog box.</span></span>

<span data-ttu-id="da9fd-109">Dans la page **Général** , configurez les propriétés suivantes.</span><span class="sxs-lookup"><span data-stu-id="da9fd-109">On the **General** page, configure the following properties.</span></span>

<span data-ttu-id="da9fd-110">Champ</span><span class="sxs-lookup"><span data-stu-id="da9fd-110">Field</span></span>|<span data-ttu-id="da9fd-111">Description</span><span class="sxs-lookup"><span data-stu-id="da9fd-111">Description</span></span>
-----|-----------
<span data-ttu-id="da9fd-112">LocalDirectory</span><span class="sxs-lookup"><span data-stu-id="da9fd-112">LocalDirectory</span></span>|<span data-ttu-id="da9fd-113">Spécifie le répertoire local qui contient les fichiers de données à charger.</span><span class="sxs-lookup"><span data-stu-id="da9fd-113">Specifies the local directory that contains the data files to be uploaded.</span></span>
<span data-ttu-id="da9fd-114">Recursively</span><span class="sxs-lookup"><span data-stu-id="da9fd-114">Recursively</span></span>|<span data-ttu-id="da9fd-115">Spécifie s’il convient d’effectuer des recherches de façon récursive dans les sous-répertoires.</span><span class="sxs-lookup"><span data-stu-id="da9fd-115">Specifies whether to recursively search sub-directories.</span></span>
<span data-ttu-id="da9fd-116">FileName</span><span class="sxs-lookup"><span data-stu-id="da9fd-116">FileName</span></span>|<span data-ttu-id="da9fd-117">Indique un filtre de nom pour sélectionner des fichiers dont le nom répond à certains critères.</span><span class="sxs-lookup"><span data-stu-id="da9fd-117">Specifies a name filter to select files with certain name pattern.</span></span> <span data-ttu-id="da9fd-118">Par exemple,</span><span class="sxs-lookup"><span data-stu-id="da9fd-118">E.g.</span></span> <span data-ttu-id="da9fd-119">MaFeuille\*.xsl\* inclut les fichiers MaFeuille001.xsl et MaFeuilleABC.xslx.</span><span class="sxs-lookup"><span data-stu-id="da9fd-119">MySheet\*.xsl\* will include files such as MySheet001.xsl and MySheetABC.xslx.</span></span>
<span data-ttu-id="da9fd-120">RowDelimiter</span><span class="sxs-lookup"><span data-stu-id="da9fd-120">RowDelimiter</span></span>|<span data-ttu-id="da9fd-121">Spécifie le ou les caractères qui marquent la fin de chaque ligne.</span><span class="sxs-lookup"><span data-stu-id="da9fd-121">Specifies the character(s) that marks the end of each row.</span></span>
<span data-ttu-id="da9fd-122">ColumnDelimiter</span><span class="sxs-lookup"><span data-stu-id="da9fd-122">ColumnDelimiter</span></span>|<span data-ttu-id="da9fd-123">Spécifie un ou plusieurs caractères qui marquent la fin de chaque colonne.</span><span class="sxs-lookup"><span data-stu-id="da9fd-123">Specifies one or more characters that mark the end of each column.</span></span> <span data-ttu-id="da9fd-124">Par exemple,</span><span class="sxs-lookup"><span data-stu-id="da9fd-124">E.g.</span></span> <span data-ttu-id="da9fd-125">&#124; (barre verticale), \t (tabulation), ’ (apostrophe), “ (guillemets doubles) et 0x5c (barre oblique inverse).</span><span class="sxs-lookup"><span data-stu-id="da9fd-125">&#124; (pipe), \t (tab), ' (single quote), " (double quote), and 0x5c (backslash).</span></span>
<span data-ttu-id="da9fd-126">IsFirstRowHeader</span><span class="sxs-lookup"><span data-stu-id="da9fd-126">IsFirstRowHeader</span></span>|<span data-ttu-id="da9fd-127">Spécifie si la première ligne de chaque fichier de données contient les noms de colonne au lieu des données réelles.</span><span class="sxs-lookup"><span data-stu-id="da9fd-127">Specifies whether the first row in each data file contains column names instead of actual data.</span></span>
<span data-ttu-id="da9fd-128">AzureStorageConnection</span><span class="sxs-lookup"><span data-stu-id="da9fd-128">AzureStorageConnection</span></span>|<span data-ttu-id="da9fd-129">Spécifie un gestionnaire de connexions de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="da9fd-129">Specifies an Azure Storage connection manager.</span></span>
<span data-ttu-id="da9fd-130">BlobContainer</span><span class="sxs-lookup"><span data-stu-id="da9fd-130">BlobContainer</span></span>|<span data-ttu-id="da9fd-131">Spécifie le nom du conteneur d’objets blob sur lequel les données locales seront chargées et relayées vers Azure Data Warehouse via PolyBase.</span><span class="sxs-lookup"><span data-stu-id="da9fd-131">Specifies the name of blob container to which local data will be uploaded and relayed to Azure DW via PolyBase.</span></span> <span data-ttu-id="da9fd-132">Un conteneur sera créé s’il n’existe pas.</span><span class="sxs-lookup"><span data-stu-id="da9fd-132">A new container will be created if it does not exist.</span></span>
<span data-ttu-id="da9fd-133">BlobDirectory</span><span class="sxs-lookup"><span data-stu-id="da9fd-133">BlobDirectory</span></span>|<span data-ttu-id="da9fd-134">Spécifie le répertoire d’objets blob (structure hiérarchique virtuelle) sur lequel les données locales seront chargées et relayées vers Azure Data Warehouse via PolyBase.</span><span class="sxs-lookup"><span data-stu-id="da9fd-134">Specifies the blob directory (virtual hierarchical structure) to which local data will be uploaded and relayed to Azure DW via PolyBase.</span></span>
<span data-ttu-id="da9fd-135">RetainFiles</span><span class="sxs-lookup"><span data-stu-id="da9fd-135">RetainFiles</span></span>|<span data-ttu-id="da9fd-136">Spécifie s’il convient de conserver les fichiers chargés sur le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="da9fd-136">Specifies whether to retain the files uploaded to Azure Storage.</span></span>
<span data-ttu-id="da9fd-137">CompressionType</span><span class="sxs-lookup"><span data-stu-id="da9fd-137">CompressionType</span></span>|<span data-ttu-id="da9fd-138">Spécifie le format de compression à utiliser lors du chargement de fichiers sur le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="da9fd-138">Specifies the compression format to use upon uploading files to Azure Storage.</span></span> <span data-ttu-id="da9fd-139">La source locale n’est pas affectée.</span><span class="sxs-lookup"><span data-stu-id="da9fd-139">Local source is not affected.</span></span>
<span data-ttu-id="da9fd-140">CompressionLevel</span><span class="sxs-lookup"><span data-stu-id="da9fd-140">CompressionLevel</span></span>|<span data-ttu-id="da9fd-141">Spécifie le niveau de compression à utiliser pour le format de compression.</span><span class="sxs-lookup"><span data-stu-id="da9fd-141">Specifies the compression level to use for the compression format.</span></span>
<span data-ttu-id="da9fd-142">AzureDwConnection</span><span class="sxs-lookup"><span data-stu-id="da9fd-142">AzureDwConnection</span></span>|<span data-ttu-id="da9fd-143">Spécifie un gestionnaire de connexions ADO.NET pour Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="da9fd-143">Specifies an ADO.NET connection manager for Azure SQL DW.</span></span>
<span data-ttu-id="da9fd-144">TableName</span><span class="sxs-lookup"><span data-stu-id="da9fd-144">TableName</span></span>|<span data-ttu-id="da9fd-145">Spécifie le nom de la table de destination.</span><span class="sxs-lookup"><span data-stu-id="da9fd-145">Specifies name of the destination table.</span></span> <span data-ttu-id="da9fd-146">Choisissez un nom de table existant ou créez-en un en choisissant **\<New Table ...>** .</span><span class="sxs-lookup"><span data-stu-id="da9fd-146">Either choose an existing table name, or create a new one by choosing **\<New Table ...>**.</span></span>
<span data-ttu-id="da9fd-147">TableDistribution</span><span class="sxs-lookup"><span data-stu-id="da9fd-147">TableDistribution</span></span>|<span data-ttu-id="da9fd-148">Spécifie la méthode de distribution pour la nouvelle table.</span><span class="sxs-lookup"><span data-stu-id="da9fd-148">Specifies the distribution method for new table.</span></span> <span data-ttu-id="da9fd-149">S’applique si un nouveau nom de table est spécifié pour **TableName**.</span><span class="sxs-lookup"><span data-stu-id="da9fd-149">Applies if a new table name is specified for **TableName**.</span></span>
<span data-ttu-id="da9fd-150">HashColumnName</span><span class="sxs-lookup"><span data-stu-id="da9fd-150">HashColumnName</span></span>|<span data-ttu-id="da9fd-151">Spécifie la colonne utilisée pour la distribution de table de hachage.</span><span class="sxs-lookup"><span data-stu-id="da9fd-151">Specifies the column used for hash table distribution.</span></span> <span data-ttu-id="da9fd-152">S’applique si la valeur **HASH** est spécifiée pour **TableDistribution**.</span><span class="sxs-lookup"><span data-stu-id="da9fd-152">Applies if **HASH** is specified for **TableDistribution**.</span></span>

<span data-ttu-id="da9fd-153">La page **Mappages** sera différente selon si vous procédez au chargement vers une nouvelle table ou une table existante.</span><span class="sxs-lookup"><span data-stu-id="da9fd-153">You will see a different **Mappings** page depending on whether you are uploading to a new table or to an existing one.</span></span> <span data-ttu-id="da9fd-154">Dans le premier cas, configurez les colonnes sources à mapper et les noms correspondants dans la table de destination à créer.</span><span class="sxs-lookup"><span data-stu-id="da9fd-154">In the former case, configure which source columns are to be mapped and their corresponding names in the to-be-created destination table.</span></span> <span data-ttu-id="da9fd-155">Dans le second cas, configurez les relations de mappage entre les colonnes sources et de destination.</span><span class="sxs-lookup"><span data-stu-id="da9fd-155">In the latter case, configure the mapping relationships between source and destination columns.</span></span>

<span data-ttu-id="da9fd-156">Dans la page **Colonnes** , configurez les propriétés de type de données pour chaque colonne source.</span><span class="sxs-lookup"><span data-stu-id="da9fd-156">On the **Columns** page, configure the data type properties for each source column.</span></span>

<span data-ttu-id="da9fd-157">La page **T-SQL** affiche le T-SQL utilisé pour charger des données depuis le stockage Blob Azure sur Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="da9fd-157">The **T-SQL** page shows the T-SQL used to load data from Azure Blob Storage to Azure SQL DW.</span></span> <span data-ttu-id="da9fd-158">Le T-SQL est généré automatiquement à partir des configurations sur les autres pages et sera exécuté dans le cadre de l’exécution de la tâche.</span><span class="sxs-lookup"><span data-stu-id="da9fd-158">The T-SQL is automatically generated from configurations on the other pages, and will be executed as part of the task execution.</span></span> <span data-ttu-id="da9fd-159">Vous pouvez choisir de modifier manuellement le T-SQL généré pour répondre à vos besoins spécifiques en cliquant sur le bouton **Modifier** .</span><span class="sxs-lookup"><span data-stu-id="da9fd-159">You may choose to manually edit the generated T-SQL to meet your particular needs by clicking the **Edit** button.</span></span> <span data-ttu-id="da9fd-160">Vous pouvez revenir à celui qui a été généré automatiquement par la suite en cliquant sur le bouton **Réinitialiser** .</span><span class="sxs-lookup"><span data-stu-id="da9fd-160">You can revert to the automatically generated one later on by clicking the **Reset** button.</span></span>
