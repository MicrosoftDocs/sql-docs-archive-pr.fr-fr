---
title: Instance Oracle CDC | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: ed71e8c4-e013-4bf2-8b6c-1e833ff2a41d
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 2228872b5a190fd416dccaa8062dd79dbc1f7a79
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87605681"
---
# <a name="the-oracle-cdc-instance"></a><span data-ttu-id="6ee45-102">Instance Oracle CDC</span><span class="sxs-lookup"><span data-stu-id="6ee45-102">The Oracle CDC Instance</span></span>
  <span data-ttu-id="6ee45-103">L'instance Oracle CDC est un processus créé par le service de capture de données modifiées Oracle pour traiter les modifications capturées d'une seule base de données source Oracle.</span><span class="sxs-lookup"><span data-stu-id="6ee45-103">The Oracle CDC Instance is a process created by the Oracle CDC Service to process changes captured from a single Oracle source database.</span></span> <span data-ttu-id="6ee45-104">L’instance Oracle CDC récupère sa configuration à partir de la table **cdc.xdbcdc_config** et conserve son état dans la table **cdc.xdbcdc_state** .</span><span class="sxs-lookup"><span data-stu-id="6ee45-104">The Oracle CDC Instance retrieves its configuration from the **cdc.xdbcdc_config** table and maintains its state in the **cdc.xdbcdc_state** table.</span></span> <span data-ttu-id="6ee45-105">Ces tables font partie de la base de données CDC, qui définit l'instance Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="6ee45-105">These tables are part of the CDC database, which defines the Oracle CDC Instance.</span></span> <span data-ttu-id="6ee45-106">Pour plus d'informations sur la base de données xdbcdc et les tables, consultez [The CDC Databases](the-oracle-cdc-service.md).</span><span class="sxs-lookup"><span data-stu-id="6ee45-106">For more information about the xdbcdc database and tables see [The CDC Databases](the-oracle-cdc-service.md).</span></span>  
  
 <span data-ttu-id="6ee45-107">La section suivante décrit les tâches effectuées par l'instance Oracle CDC :</span><span class="sxs-lookup"><span data-stu-id="6ee45-107">The following describes the tasks carried out by the Oracle CDC instance:</span></span>  
  
-   <span data-ttu-id="6ee45-108">**Gestion de la vérification du démarrage du service**: une fois démarrée, l’instance de capture de données modifiées charge sa configuration à partir de la table **xdbcdc_config** et exécute une série de vérifications d’état qui garantissent que l’état persistant de l’instance de capture de données modifiées est cohérent et qu’elle peut commencer le traitement des modifications.</span><span class="sxs-lookup"><span data-stu-id="6ee45-108">**Handling service startup verification**: When started, the CDC instance loads its configuration from the **xdbcdc_config** table and performs a series of status verifications that ensure that the CDC instance persisted state is consistent and that it can start processing changes.</span></span>  
  
-   <span data-ttu-id="6ee45-109">**Préparation de la capture des modifications**: lorsque la vérification réussit, l'instance Oracle CDC analyse toutes les instances de capture actuellement définies et prépare les requêtes Oracle LogMiner et d'autres structures de prise en charge nécessaires pour la capture des modifications.</span><span class="sxs-lookup"><span data-stu-id="6ee45-109">**Preparing for change capture**: When the verification passes successfully, the Oracle CDC Instance scans all of the capture instances currently defined and prepares the Oracle LogMiner queries and other support structures required for change capture.</span></span> <span data-ttu-id="6ee45-110">En outre, l'instance Oracle charge de nouveau l'état interne de capture qui a été enregistré lors de la dernière exécution de l'instance Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="6ee45-110">In addition, the Oracle instance re-loads the internal capture state that was saved the last time the Oracle CDC Instance run.</span></span>  
  
-   <span data-ttu-id="6ee45-111">**Capture des modifications à partir d'Oracle**: l'instance Oracle CDC extrait les modifications à partir d'Oracle au moyen de la fonctionnalité Oracle LogMiner, les trie en fonction de la validation de transaction, puis modifie le temps dans une transaction et les écrit dans les tables de modifications [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] de la base de données CDC.</span><span class="sxs-lookup"><span data-stu-id="6ee45-111">**Capturing changes from Oracle**: The Oracle CDC Instance pools changes from Oracle by means of the Oracle LogMiner facility, orders them in according to transaction commit, and then changes the time in a transaction and writes them to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] change tables in the CDC database.</span></span>  
  
-   <span data-ttu-id="6ee45-112">**Gestion de l'arrêt du service**: le cycle de vie de l'instance Oracle CDC est géré par le service de capture de données modifiées Oracle.</span><span class="sxs-lookup"><span data-stu-id="6ee45-112">**Handling service shutdown**: The life cycle of the Oracle CDC Instance is managed by the Oracle CDC Service.</span></span> <span data-ttu-id="6ee45-113">Lorsque l'instance Oracle CDC doit s'arrêter, elle effectue les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="6ee45-113">When the Oracle CDC Instance is requested to shut down, it performs the following tasks:</span></span>  
  
    -   <span data-ttu-id="6ee45-114">elle cesse de lire dans le journal des transactions Oracle ;</span><span class="sxs-lookup"><span data-stu-id="6ee45-114">Stops reading from the Oracle transaction log.</span></span>  
  
    -   <span data-ttu-id="6ee45-115">elle cesse d'écrire les transactions Oracle terminées dans la base de données CDC ;</span><span class="sxs-lookup"><span data-stu-id="6ee45-115">Stops writing completed Oracle transactions to the CDC database.</span></span>  
  
    -   <span data-ttu-id="6ee45-116">elle attend 30 secondes (si nécessaire) jusqu'à ce que l'écriture de la transaction actuelle soit terminée dans la base de données CDC.</span><span class="sxs-lookup"><span data-stu-id="6ee45-116">Waits for up to 30 seconds (if necessary) until the current transaction finishes writing to the CDC database.</span></span> <span data-ttu-id="6ee45-117">Si plus de 30 secondes s'écoulent, l'écriture est annulée et la transaction est restaurée (pour une nouvelle tentative lors du redémarrage de l'instance de capture de données modifiées) ;</span><span class="sxs-lookup"><span data-stu-id="6ee45-117">If more than 30 seconds pass, the writing is cancelled and transaction is rolled back (to be retried when the CDC instance is restarted).</span></span>  
  
    -   <span data-ttu-id="6ee45-118">dans un thread distinct, elle écrit autant d’enregistrements mis en mémoire cache que possible dans la table de transactions intermédiaires pendant au plus 30 secondes (de la transaction la plus ancienne à la plus récente), puis elle met à jour la table **xdbcdc_state** et valide les modifications.</span><span class="sxs-lookup"><span data-stu-id="6ee45-118">In a separate thread, writes as many memory-cached records as possible to the staged transactions table for up to 30 seconds (from the oldest transaction to the newest), then updates the **xdbcdc_state** table and commits all the changes.</span></span>  
  
-   <span data-ttu-id="6ee45-119">**Gestion des modifications de configuration**: l’instance Oracle CDC est avertie des modifications de configuration par le service de capture de données modifiées ou la détection d’une nouvelle version dans la table **cdc.xdbcdc_config** .</span><span class="sxs-lookup"><span data-stu-id="6ee45-119">**Handling configuration changes**: The Oracle CDC Instance is notified about configuration changes either from the CDC Service or by detecting a new version in the **cdc.xdbcdc_config** table.</span></span> <span data-ttu-id="6ee45-120">La plupart des modifications ne requièrent pas le redémarrage de l'instance Oracle CDC (par exemple, ajout ou suppression des instances de capture).</span><span class="sxs-lookup"><span data-stu-id="6ee45-120">Most changes do not require the restart of the Oracle CDC Instance (for example, adding or removing capture instances).</span></span> <span data-ttu-id="6ee45-121">Toutefois, certaines modifications, telles que la modification de la chaîne de connexion Oracle ou des informations d'identification d'accès requièrent le redémarrage de l'instance de capture de données modifiées.</span><span class="sxs-lookup"><span data-stu-id="6ee45-121">However, some changes, such as changing the Oracle connection string or access credentials do require the restart of the CDC Instance.</span></span>  
  
-   <span data-ttu-id="6ee45-122">**Gestion de la récupération**: quand une instance Oracle CDC démarre, son état interne est restauré à partir des tables **xdbcdc_state** et **xdbcdc_staged_transactions** .</span><span class="sxs-lookup"><span data-stu-id="6ee45-122">**Handling recovery**: When an Oracle CDC Instance starts its internal state is restored from the **xdbcdc_state** and the **xdbcdc_staged_transactions** tables.</span></span> <span data-ttu-id="6ee45-123">Une fois l'état restauré, l'instance de capture de données modifiées s'exécute de manière habituelle.</span><span class="sxs-lookup"><span data-stu-id="6ee45-123">Once the state is restored, the CDC instance proceeds as usual.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6ee45-124">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6ee45-124">See Also</span></span>  
 [<span data-ttu-id="6ee45-125">Gestion des erreurs</span><span class="sxs-lookup"><span data-stu-id="6ee45-125">Error Handling</span></span>](error-handling.md)  
  
  
