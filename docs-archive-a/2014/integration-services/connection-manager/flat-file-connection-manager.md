---
title: Gestionnaire de connexions de fichiers plats | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- connection managers [Integration Services], Flat File
- connections [Integration Services], flat files
- files [Integration Services], connections
- Flat File connection manager
- flat files
- flat file connections [Integration Services]
ms.assetid: 7830f80d-af32-4e8f-a6fc-f03af6bc1946
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 961fa5ebd0c254c152cb4a84a855f719b6dfaa43
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87706624"
---
# <a name="flat-file-connection-manager"></a><span data-ttu-id="452c4-102">Gestionnaire de connexions de fichiers plats</span><span class="sxs-lookup"><span data-stu-id="452c4-102">Flat File Connection Manager</span></span>
  <span data-ttu-id="452c4-103">Un gestionnaire de connexions de fichiers plats permet à un package d'accéder aux données d'un fichier plat.</span><span class="sxs-lookup"><span data-stu-id="452c4-103">A Flat File connection manager enables a package to access data in a flat file.</span></span> <span data-ttu-id="452c4-104">Ainsi, les sources et destinations de fichiers plats peuvent utiliser des gestionnaires de connexions de fichiers plats pour extraire et charger des données.</span><span class="sxs-lookup"><span data-stu-id="452c4-104">For example, the Flat File source and destination can use Flat File connection managers to extract and load data.</span></span>  
  
 <span data-ttu-id="452c4-105">Le gestionnaire de connexions de fichiers plats peut accéder à un seul fichier.</span><span class="sxs-lookup"><span data-stu-id="452c4-105">The Flat File connection manager can access only one file.</span></span> <span data-ttu-id="452c4-106">Pour référencer plusieurs fichiers, utilisez un gestionnaire de connexions de fichiers plats multiples plutôt qu'un gestionnaire de connexions de fichiers plats.</span><span class="sxs-lookup"><span data-stu-id="452c4-106">To reference multiple files, use a Multiple Flat Files connection manager instead of a Flat File connection manager.</span></span> <span data-ttu-id="452c4-107">Pour plus d’informations, consultez [Gestionnaire de connexion de fichiers plats multiples](multiple-flat-files-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="452c4-107">For more information, see [Multiple Flat Files Connection Manager](multiple-flat-files-connection-manager.md).</span></span>  
  
## <a name="column-length"></a><span data-ttu-id="452c4-108">Longueur de colonne</span><span class="sxs-lookup"><span data-stu-id="452c4-108">Column Length</span></span>  
 <span data-ttu-id="452c4-109">Par défaut, le gestionnaire de connexions de fichiers plats définit la longueur des colonnes de chaînes à 50 caractères.</span><span class="sxs-lookup"><span data-stu-id="452c4-109">By default, the Flat File connection manager sets the length of string columns to 50 characters.</span></span> <span data-ttu-id="452c4-110">Dans la boîte de dialogue **Éditeur du gestionnaire de connexions de fichiers plats** , vous pouvez évaluer les exemples de données et redimensionner automatiquement la longueur de ces colonnes pour empêcher la troncation de données ou une largeur de colonnes excessive.</span><span class="sxs-lookup"><span data-stu-id="452c4-110">In the **Flat File Connection Manager Editor** dialog box, you can evaluate sample data and automatically resize the length of these columns to prevent truncation of data or excess column width.</span></span> <span data-ttu-id="452c4-111">En outre, sauf si vous redimensionnez ultérieurement la longueur de colonne dans une source de fichiers plats ou une transformation, la longueur de colonne de la colonne de chaîne reste la même dans tout le flux de données.</span><span class="sxs-lookup"><span data-stu-id="452c4-111">Also, unless you subsequently resize the column length in a Flat File source or a transformation, the column length of string column remains the same throughout the data flow.</span></span> <span data-ttu-id="452c4-112">Si ces colonnes de chaînes sont mappées à des colonnes de destination plus étroites, des avertissements apparaissent dans l'interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="452c4-112">If these string columns map to destination columns that are narrower, warnings appear in the user interface.</span></span> <span data-ttu-id="452c4-113">En outre, au moment de l'exécution, des erreurs peuvent se produire en raison de la troncation des données.</span><span class="sxs-lookup"><span data-stu-id="452c4-113">Moreover, at run time, errors may occur due to data truncation.</span></span> <span data-ttu-id="452c4-114">Pour éviter les erreurs ou la troncation, vous pouvez redimensionner les colonnes pour assurer leur compatibilité avec les colonnes de destination dans le gestionnaire de connexions de fichiers plats, la source de fichiers plats ou une transformation.</span><span class="sxs-lookup"><span data-stu-id="452c4-114">To avoid errors or truncation, you can resize the columns to be compatible with the destination columns in the Flat File connection manager, the Flat File source, or a transformation.</span></span> <span data-ttu-id="452c4-115">Pour modifier la longueur des colonnes de sortie, définissez la `Length` propriété de la colonne de sortie sous l’onglet **propriétés d’entrée et de sortie** de la boîte de dialogue **éditeur avancé** .</span><span class="sxs-lookup"><span data-stu-id="452c4-115">To modify the length of output columns, you set the `Length` property of the output column on the **Input and Output Properties** tab in the **Advanced Editor** dialog box.</span></span>  
  
 <span data-ttu-id="452c4-116">Si vous mettez à jour les longueurs de colonnes dans le gestionnaire de connexions de fichiers plats après l'ajout et la configuration de la source de fichiers plats qui utilise le gestionnaire de connexions, il n'est pas nécessaire de redimensionner manuellement les colonnes de sortie dans la source de fichiers plats.</span><span class="sxs-lookup"><span data-stu-id="452c4-116">If you update column lengths in the Flat File connection manager after you have added and configured the Flat File source that uses the connection manager, you do not have to manually resize the output columns in the Flat File source.</span></span> <span data-ttu-id="452c4-117">Quand vous ouvrez la boîte de dialogue **Source du fichier plat** , la source du fichier plat offre la possibilité de synchroniser les métadonnées de la colonne.</span><span class="sxs-lookup"><span data-stu-id="452c4-117">When you open the **Flat File Source** dialog box, the Flat File source provides an option to synchronize the column metadata.</span></span>  
  
## <a name="configuration-of-the-flat-file-connection-manager"></a><span data-ttu-id="452c4-118">Configuration du gestionnaire de connexions de fichiers plats</span><span class="sxs-lookup"><span data-stu-id="452c4-118">Configuration of the Flat File Connection Manager</span></span>  
 <span data-ttu-id="452c4-119">Lorsque vous ajoutez un gestionnaire de connexions de fichiers plats à un package, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] crée un gestionnaire de connexions qui sera résolu en une connexion de fichier plat au moment de l’exécution, définit les propriétés de connexion de fichier plat et ajoute le gestionnaire de connexions de fichiers plats à la `Connections` collection du package.</span><span class="sxs-lookup"><span data-stu-id="452c4-119">When you add a Flat File connection manager to a package, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] creates a connection manager that will resolve to a Flat File connection at run time, sets the Flat File connection properties, and adds the Flat File connection manager to the `Connections` collection of the package.</span></span>  
  
 <span data-ttu-id="452c4-120">La propriété `ConnectionManagerType` du gestionnaire de connexions a pour valeur `FLATFILE`.</span><span class="sxs-lookup"><span data-stu-id="452c4-120">The `ConnectionManagerType` property of the connection manager is set to `FLATFILE`.</span></span>  
  
 <span data-ttu-id="452c4-121">Par défaut, le gestionnaire de connexions de fichiers plats cherche toujours la présence d'un séparateur de lignes dans les données non délimitées par des guillemets, puis démarre une nouvelle ligne lorsqu'un séparateur de lignes est trouvé.</span><span class="sxs-lookup"><span data-stu-id="452c4-121">By default, the Flat File connection manager always checks for a row delimiter in unquoted data, and starts a new row when a row delimiter is found.</span></span> <span data-ttu-id="452c4-122">Cela permet au gestionnaire de connexions de fichiers plats d'analyser correctement les fichiers comportant des lignes auxquelles il manque des champs de colonnes.</span><span class="sxs-lookup"><span data-stu-id="452c4-122">This enables the connection manager to correctly parse files with rows that are missing column fields.</span></span>  
  
 <span data-ttu-id="452c4-123">Dans certains cas, la désactivation de cette fonctionnalité peut améliorer les performances des packages.</span><span class="sxs-lookup"><span data-stu-id="452c4-123">In some cases, disabling this feature may improve package performance.</span></span> <span data-ttu-id="452c4-124">Vous pouvez désactiver cette fonctionnalité en définissant la propriété du gestionnaire de connexions de fichiers plats, **alwayscheckforrowdelimiters du**, sur `False` .</span><span class="sxs-lookup"><span data-stu-id="452c4-124">You can disable this feature by setting the Flat File connection manager property, **AlwaysCheckForRowDelimiters**, to `False`.</span></span>  
  
 <span data-ttu-id="452c4-125">Vous pouvez configurer le gestionnaire de connexions de fichiers plats de plusieurs manières :</span><span class="sxs-lookup"><span data-stu-id="452c4-125">You can configure the Flat File connection manager in the following ways:</span></span>  
  
-   <span data-ttu-id="452c4-126">Spécifiez le fichier, les paramètres régionaux et la page de codes à utiliser.</span><span class="sxs-lookup"><span data-stu-id="452c4-126">Specify the file, locale, and code page to use.</span></span> <span data-ttu-id="452c4-127">Les paramètres régionaux sont utilisés pour interpréter les données spécifiques à un pays comme les dates, tandis que la page de codes est utilisée pour convertir les données chaînes au format Unicode.</span><span class="sxs-lookup"><span data-stu-id="452c4-127">The locale is used to interpret locale-sensitive data such as dates, and the code page is used to convert string data to Unicode.</span></span>  
  
-   <span data-ttu-id="452c4-128">Spécifiez le format de fichier.</span><span class="sxs-lookup"><span data-stu-id="452c4-128">Specify the file format.</span></span> <span data-ttu-id="452c4-129">Vous pouvez utiliser un format délimité, à largeur fixe ou en drapeau à droite.</span><span class="sxs-lookup"><span data-stu-id="452c4-129">You can use a delimited, fixed width, or ragged right format.</span></span>  
  
-   <span data-ttu-id="452c4-130">Spécifiez une ligne d'en-tête, une ligne de données et des séparateurs de colonnes.</span><span class="sxs-lookup"><span data-stu-id="452c4-130">Specify a header row, data row, and column delimiters.</span></span> <span data-ttu-id="452c4-131">Les séparateurs de colonnes peuvent être définis au niveau du fichier et remplacés au niveau de la colonne.</span><span class="sxs-lookup"><span data-stu-id="452c4-131">Column delimiters can be set at the file level and overwritten at the column level.</span></span>  
  
-   <span data-ttu-id="452c4-132">Indiquez si la première ligne du fichier contient les noms de colonnes.</span><span class="sxs-lookup"><span data-stu-id="452c4-132">Indicate whether the first row in the file contains column names.</span></span>  
  
-   <span data-ttu-id="452c4-133">Spécifiez un caractère d'identificateur de texte.</span><span class="sxs-lookup"><span data-stu-id="452c4-133">Specify a text qualifier character.</span></span> <span data-ttu-id="452c4-134">Chaque colonne peut être configurée pour reconnaître un identificateur de texte.</span><span class="sxs-lookup"><span data-stu-id="452c4-134">Each column can be configured to recognize a text qualifier.</span></span>  
  
     <span data-ttu-id="452c4-135">L'utilisation d'un caractère qualificateur pour incorporer un caractère qualificateur dans une chaîne qualifiée est désormais prise en charge.</span><span class="sxs-lookup"><span data-stu-id="452c4-135">The use of a qualifier character to embed a qualifier character into a qualified string is now supported.</span></span> <span data-ttu-id="452c4-136">La double instance d'un qualificateur de texte est interprétée comme une instance littérale et unique de cette chaîne.</span><span class="sxs-lookup"><span data-stu-id="452c4-136">The double instance of a text qualifier is interpreted as a literal, single instance of that string.</span></span> <span data-ttu-id="452c4-137">Par exemple, si l’identificateur de texte est un guillemet simple et si les données d’entrée sont 'abc', 'def', 'g'hi', les données de sortie sont abc, def, g'hi.</span><span class="sxs-lookup"><span data-stu-id="452c4-137">For example, if the text qualifier is a single quote and the input data is 'abc', 'def', 'g'hi', the output data is abc, def, g'hi.</span></span>  
  
-   <span data-ttu-id="452c4-138">Définissez des propriétés comme le nom, le type de données et la largeur maximale pour des colonnes individuelles.</span><span class="sxs-lookup"><span data-stu-id="452c4-138">Set properties such as the name, data type, and maximum width on individual columns.</span></span>  
  
 <span data-ttu-id="452c4-139">Vous pouvez définir la propriété ConnectionString du gestionnaire de connexions de fichiers plats en spécifiant une expression dans la fenêtre Propriétés de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="452c4-139">You can set the ConnectionString property for the Flat File connection manager by specifying an expression in the Properties window of [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="452c4-140">Pour éviter une erreur de validation, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="452c4-140">To avoid a validation error, do the following.</span></span>  
  
-   <span data-ttu-id="452c4-141">Quand vous utilisez une expression pour spécifier le fichier, ajoutez un chemin de fichier dans la zone **Nom du fichier** de **l’Éditeur du gestionnaire de connexions de fichiers plats**.</span><span class="sxs-lookup"><span data-stu-id="452c4-141">When you use an expression to specify the file, add a file path in the **File name** box in the **Flat File Connection Manager Editor**.</span></span>  
  
-   <span data-ttu-id="452c4-142">Attribuez à la propriété **DelayValidation** du gestionnaire de connexions de fichiers plats la valeur **True**.</span><span class="sxs-lookup"><span data-stu-id="452c4-142">Set the **DelayValidation** property on the Flat File connection manager to **True**.</span></span>  
  
 <span data-ttu-id="452c4-143">Vous pouvez utiliser une expression pour créer un nom de fichier au moment de l'exécution à l'aide du gestionnaire de connexions de fichiers plats, avec la destination du fichier plat.</span><span class="sxs-lookup"><span data-stu-id="452c4-143">You can use an expression to create a file name at runtime by using the Flat File connection manager with the Flat File destination.</span></span>  
  
 <span data-ttu-id="452c4-144">Vous pouvez définir les propriétés par le biais du concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] ou par programmation.</span><span class="sxs-lookup"><span data-stu-id="452c4-144">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="452c4-145">Pour plus d'informations sur les propriétés définissables dans le concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] , cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="452c4-145">For more information about the properties that you can set in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="452c4-146">Éditeur du gestionnaire de connexions de fichiers plats &#40;page Général&#41;</span><span class="sxs-lookup"><span data-stu-id="452c4-146">Flat File Connection Manager Editor &#40;General Page&#41;</span></span>](../general-page-of-integration-services-designers-options.md)  
  
-   [<span data-ttu-id="452c4-147">Éditeur du gestionnaire de connexions de fichiers plats &#40;page Colonnes&#41;</span><span class="sxs-lookup"><span data-stu-id="452c4-147">Flat File Connection Manager Editor &#40;Columns Page&#41;</span></span>](../flat-file-connection-manager-editor-columns-page.md)  
  
-   [<span data-ttu-id="452c4-148">Éditeur du gestionnaire de connexions de fichiers plats &#40;page Avancé&#41;</span><span class="sxs-lookup"><span data-stu-id="452c4-148">Flat File Connection Manager Editor &#40;Advanced Page&#41;</span></span>](../flat-file-connection-manager-editor-advanced-page.md)  
  
-   [<span data-ttu-id="452c4-149">Éditeur du gestionnaire de connexions de fichiers plats &#40;page Aperçu&#41;</span><span class="sxs-lookup"><span data-stu-id="452c4-149">Flat File Connection Manager Editor &#40;Preview Page&#41;</span></span>](../flat-file-connection-manager-editor-preview-page.md)  
  
 <span data-ttu-id="452c4-150">Pour plus d’informations sur la configuration d’un gestionnaire de connexions par programmation, consultez <xref:Microsoft.SqlServer.Dts.Runtime.ConnectionManager> et [Ajout de connexions par programme](../building-packages-programmatically/adding-connections-programmatically.md).</span><span class="sxs-lookup"><span data-stu-id="452c4-150">For information about configuring a connection manager programmatically, see <xref:Microsoft.SqlServer.Dts.Runtime.ConnectionManager> and [Adding Connections Programmatically](../building-packages-programmatically/adding-connections-programmatically.md).</span></span>  
  
  
