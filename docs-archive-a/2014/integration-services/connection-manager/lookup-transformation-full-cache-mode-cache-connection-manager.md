---
title: Implémenter une transformation de recherche en mode cache complet à l’aide du gestionnaire de connexions du cache | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Lookup transformation [Integration Services]
ms.assetid: 58bc7611-5fb5-4113-9742-10959e06b94c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 8b8c77f7ecfbe79db00acce09f706468ec0a0055
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87613099"
---
# <a name="implement-a-lookup-transformation-in-full-cache-mode-using-the-cache-connection-manager"></a><span data-ttu-id="ff1bc-102">Implémenter une transformation de recherche en mode Cache complet à l'aide du gestionnaire de connexions du cache</span><span class="sxs-lookup"><span data-stu-id="ff1bc-102">Implement a Lookup Transformation in Full Cache Mode Using the Cache Connection Manager</span></span>
  <span data-ttu-id="ff1bc-103">Vous pouvez configurer la transformation de recherche afin qu'elle utilise le mode Cache complet et un gestionnaire de connexions du cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-103">You can configure the Lookup transformation to use full cache mode and a Cache connection manager.</span></span> <span data-ttu-id="ff1bc-104">En mode Cache complet, le dataset de référence est chargé dans le cache avant l'exécution de la transformation de recherche.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-104">In full cache mode, the reference dataset is loaded into cache before the Lookup transformation runs.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ff1bc-105">Le gestionnaire de connexions du cache ne prend pas en charge les types de données de l'objet BLOB (Binary Large Object) DT_TEXT, DT_NTEXT et DT_IMAGE.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-105">The Cache connection manager does not support the Binary Large Object (BLOB) data types DT_TEXT, DT_NTEXT, and DT_IMAGE.</span></span> <span data-ttu-id="ff1bc-106">Si le dataset de référence contient un type de données d'objet BLOB, le composant échoue lorsque vous exécutez le package.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-106">If the reference dataset contains a BLOB data type, the component will fail when you run the package.</span></span> <span data-ttu-id="ff1bc-107">Vous pouvez utiliser l' **Éditeur du gestionnaire de connexions du cache** pour modifier des types de données de colonne.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-107">You can use the **Cache Connection Manager Editor** to modify column data types.</span></span> <span data-ttu-id="ff1bc-108">Pour plus d’informations, consultez [Éditeur du gestionnaire de connexions du cache](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-108">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
 <span data-ttu-id="ff1bc-109">La transformation de recherche effectue des recherches en joignant les données des colonnes d'entrée d'une source de données connectée aux colonnes d'un dataset de référence.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-109">The Lookup transformation performs lookups by joining data in input columns from a connected data source with columns in a reference dataset.</span></span> <span data-ttu-id="ff1bc-110">Pour plus d’informations, voir [Lookup Transformation](../data-flow/transformations/lookup-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-110">For more information, see [Lookup Transformation](../data-flow/transformations/lookup-transformation.md).</span></span>  
  
 <span data-ttu-id="ff1bc-111">Vous utilisez l'un des éléments suivants pour générer un dataset de référence :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-111">You use one of the following to generate a reference dataset:</span></span>  
  
-   <span data-ttu-id="ff1bc-112">Fichier cache (.caw)</span><span class="sxs-lookup"><span data-stu-id="ff1bc-112">Cache file (.caw)</span></span>  
  
     <span data-ttu-id="ff1bc-113">Vous configurez le gestionnaire de connexions du cache afin de lire les données d'un fichier cache existant.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-113">You configure the Cache connection manager to read data from an existing cache file.</span></span>  
  
-   <span data-ttu-id="ff1bc-114">Source de données connectée dans le flux de données</span><span class="sxs-lookup"><span data-stu-id="ff1bc-114">Connected data source in the data flow</span></span>  
  
     <span data-ttu-id="ff1bc-115">Vous utilisez la transformation du cache pour écrire des données provenant d'une source de données connectée dans le flux de données dans un gestionnaire de connexions du cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-115">You use a Cache Transform transformation to write data from a connected data source in the data flow to a Cache connection manager.</span></span> <span data-ttu-id="ff1bc-116">Les données sont toujours stockées en mémoire.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-116">The data is always stored in memory.</span></span>  
  
     <span data-ttu-id="ff1bc-117">Vous devez ajouter la transformation de recherche à un flux de données séparé.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-117">You must add the Lookup transformation to a separate data flow.</span></span> <span data-ttu-id="ff1bc-118">Cet ajout permet à la transformation du cache de renseigner le gestionnaire de connexions du cache avant l'exécution de la transformation de recherche.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-118">This enables the Cache Transform to populate the Cache connection manager before the Lookup transformation is executed.</span></span> <span data-ttu-id="ff1bc-119">Les flux de données peuvent être dans le même package ou dans deux packages séparés.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-119">The data flows can be in the same package or in two separate packages.</span></span>  
  
     <span data-ttu-id="ff1bc-120">Si les flux de données sont dans le même package, utilisez une contrainte de précédence pour connecter les flux de données.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-120">If the data flows are in the same package, use a precedence constraint to connect the data flows.</span></span> <span data-ttu-id="ff1bc-121">Cette contrainte permet à la transformation du cache de s'exécuter avant l'exécution de la transformation de recherche.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-121">This enables the Cache Transform to run before the Lookup transformation runs.</span></span>  
  
     <span data-ttu-id="ff1bc-122">Si les flux de données sont dans des packages séparés, vous pouvez utiliser la tâche Exécuter le package pour appeler le package enfant à partir du package parent.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-122">If the data flows are in separate packages, you can use the Execute Package task to call the child package from the parent package.</span></span> <span data-ttu-id="ff1bc-123">Vous pouvez appeler plusieurs packages enfants en ajoutant plusieurs tâches Exécuter le package à une tâche Conteneur de séquences dans le package parent.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-123">You can call multiple child packages by adding multiple Execute Package tasks to a Sequence Container task in the parent package.</span></span>  
  
 <span data-ttu-id="ff1bc-124">Vous pouvez partager le dataset de référence stocké dans le cache, entre plusieurs transformations de Recherche en utilisant l'une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-124">You can share the reference dataset stored in cache, between multiple Lookup transformations by using one of the following methods:</span></span>  
  
-   <span data-ttu-id="ff1bc-125">Configurez les transformations de recherche dans un seul package afin qu'elles utilisent le même gestionnaire de connexions du cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-125">Configure the Lookup transformations in a single package to use the same Cache connection manager.</span></span>  
  
-   <span data-ttu-id="ff1bc-126">Configurez les gestionnaires de connexions du cache des différents packages afin qu'ils utilisent le même fichier cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-126">Configure the Cache connection managers in different packages to use the same cache file.</span></span>  
  
 <span data-ttu-id="ff1bc-127">Pour plus d'informations, voir les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-127">For more information, see the following topics:</span></span>  
  
-   [<span data-ttu-id="ff1bc-128">Transformation du cache</span><span class="sxs-lookup"><span data-stu-id="ff1bc-128">Cache Transform</span></span>](../data-flow/transformations/cache-transform.md)  
  
-   [<span data-ttu-id="ff1bc-129">Gestionnaire de connexions du cache</span><span class="sxs-lookup"><span data-stu-id="ff1bc-129">Cache Connection Manager</span></span>](cache-connection-manager.md)  
  
-   [<span data-ttu-id="ff1bc-130">Contraintes de précédence</span><span class="sxs-lookup"><span data-stu-id="ff1bc-130">Precedence Constraints</span></span>](../control-flow/precedence-constraints.md)  
  
-   [<span data-ttu-id="ff1bc-131">Tâche d’exécution de package</span><span class="sxs-lookup"><span data-stu-id="ff1bc-131">Execute Package Task</span></span>](../control-flow/execute-package-task.md)  
  
-   [<span data-ttu-id="ff1bc-132">Conteneur de séquences</span><span class="sxs-lookup"><span data-stu-id="ff1bc-132">Sequence Container</span></span>](../control-flow/sequence-container.md)  
  
 <span data-ttu-id="ff1bc-133">Pour savoir comment implémenter la transformation de recherche en mode Cache complet à l’aide du gestionnaire de connexions du cache, consultez la vidéo [Procédure : implémenter une transformation de recherche en mode Cache complet (Vidéo liée à SQL Server)](https://go.microsoft.com/fwlink/?LinkId=131031).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-133">For a video that demonstrates how to implement a Lookup transformation in Full Cache mode using the Cache connection manager, see [How to: Implement a Lookup Transformation in Full Cache Mode (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=131031).</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-in-one-package-by-using-cache-connection-manager-and-a-data-source-in-the-data-flow"></a><span data-ttu-id="ff1bc-134">Pour implémenter une transformation de recherche en mode Cache complet dans un seul package en utilisant le gestionnaire de connexions du cache et une source de données dans le flux de données</span><span class="sxs-lookup"><span data-stu-id="ff1bc-134">To implement a Lookup transformation in full cache mode in one package by using Cache connection manager and a data source in the data flow</span></span>  
  
1.  <span data-ttu-id="ff1bc-135">Dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], ouvrez un projet [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , puis un package.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-135">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open a package.</span></span>  
  
2.  <span data-ttu-id="ff1bc-136">Sous l’onglet **Flux de contrôle** , ajoutez deux tâches de flux de données, puis connectez les tâches à l’aide d’un connecteur vert :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-136">On the **Control Flow** tab, add two Data Flow tasks, and then connect the tasks by using a green connector:</span></span>  
  
3.  <span data-ttu-id="ff1bc-137">Dans le premier flux de données, ajoutez une transformation du cache, puis connectez la transformation à une source de données.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-137">In the first data flow, add a Cache Transform transformation, and then connect the transformation to a data source.</span></span>  
  
     <span data-ttu-id="ff1bc-138">Configurez la source de données selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-138">Configure the data source as needed.</span></span>  
  
4.  <span data-ttu-id="ff1bc-139">Double-cliquez sur la transformation du cache puis, dans **l’Éditeur de transformation du cache**, dans la page **Gestionnaire de connexions** , cliquez sur **Nouveau** pour créer un gestionnaire de connexions du cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-139">Double-click the Cache Transform, and then in the **Cache Transformation Editor**, on the **Connection Manager** page, click **New** to create a new Cache connection manager.</span></span>  
  
5.  <span data-ttu-id="ff1bc-140">Cliquez sur l’onglet **Colonnes** de la boîte de dialogue **Éditeur du gestionnaire de connexions du cache** , puis désignez les colonnes d’index à l’aide de l’option **Position d’index** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-140">Click the **Columns** tab of the **Cache Connection Manager Editor** dialog box, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="ff1bc-141">Pour les colonnes qui ne sont pas des index, la position d'index est 0.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-141">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="ff1bc-142">Pour les colonnes d'index, la position d'index est un nombre séquentiel, positif.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-142">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ff1bc-143">Lorsque la transformation de recherche est configurée pour utiliser un gestionnaire de connexions du cache, seules les colonnes d'index dans le dataset de référence peuvent être mappées avec des colonnes d'entrée.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-143">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="ff1bc-144">En outre, toutes les colonnes d'index doivent être mappées.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-144">Also, all index columns must be mapped.</span></span> <span data-ttu-id="ff1bc-145">Pour plus d’informations, consultez [Éditeur du gestionnaire de connexions du cache](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-145">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
6.  <span data-ttu-id="ff1bc-146">Pour enregistrer le cache dans un fichier, dans **l’Éditeur du gestionnaire de connexions du cache**, sous l’onglet **Général** , configurez le gestionnaire de connexions du cache en définissant les options suivantes :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-146">To save the cache to a file, in the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="ff1bc-147">Sélectionnez **Utiliser le cache de fichier**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-147">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="ff1bc-148">Pour **Nom de fichier**, tapez le chemin du fichier ou cliquez sur **Parcourir** pour sélectionner le fichier.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-148">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
         <span data-ttu-id="ff1bc-149">Si vous tapez un chemin d'accès de fichier qui n'existe pas, le système crée le fichier lorsque vous exécutez le package.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-149">If you type a path for a file that does not exist, the system creates the file when you run the package.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ff1bc-150">Le niveau de protection du package ne s'applique pas au fichier cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-150">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="ff1bc-151">Si le fichier cache contient des informations sensibles, utilisez une liste de contrôle d'accès (ACL) pour restreindre l'accès à l'emplacement ou au dossier dans lequel vous stockez le fichier.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-151">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="ff1bc-152">Vous devez autoriser l'accès à certains comptes uniquement.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-152">You should enable access only to certain accounts.</span></span> <span data-ttu-id="ff1bc-153">Pour plus d’informations, consultez [Accéder aux fichiers utilisés par des packages](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-153">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
7.  <span data-ttu-id="ff1bc-154">Configurez la transformation du cache selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-154">Configure the Cache Transform as needed.</span></span> <span data-ttu-id="ff1bc-155">Pour plus d’informations, consultez [Éditeur de transformation du cache &#40;page Gestionnaire de connexions&#41;](../cache-transformation-editor-connection-manager-page.md) et [Éditeur de transformation du cache &#40;page Mappages&#41;](../cache-transformation-editor-mappings-page.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-155">For more information, see [Cache Transformation Editor &#40;Connection Manager Page&#41;](../cache-transformation-editor-connection-manager-page.md) and [Cache Transformation Editor &#40;Mappings Page&#41;](../cache-transformation-editor-mappings-page.md).</span></span>  
  
8.  <span data-ttu-id="ff1bc-156">Dans le second flux de données, ajoutez une transformation de recherche, puis configurez la transformation en effectuant les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-156">In the second data flow, add a Lookup transformation, and then configure the transformation by doing the following tasks:</span></span>  
  
    1.  <span data-ttu-id="ff1bc-157">Connectez la transformation de recherche au flux de données en faisant glisser un connecteur à partir d'une source ou d'une transformation précédente jusqu'à la transformation de recherche.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-157">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="ff1bc-158">Une transformation de recherche peut ne pas se valider si cette transformation se connecte à un fichier plat qui contient un champ Date vide.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-158">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="ff1bc-159">La validation de la transformation dépend si le gestionnaire de connexions pour le fichier plat a été configuré pour conserver des valeurs NULL.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-159">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="ff1bc-160">Pour que la validation de la transformation de recherche soit validée, dans **l’Éditeur de source de fichier plat**, dans la **page Gestionnaire de connexions**, sélectionnez l’option **Conserver les valeurs NULL de la source comme valeurs NULL dans le flux de données** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-160">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="ff1bc-161">Double-cliquez sur la transformation source ou précédente pour configurer le composant.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-161">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="ff1bc-162">Double-cliquez sur la transformation de recherche, puis dans **l’Éditeur de transformation de recherche**, dans la page **Général** , sélectionnez **Cache complet**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-162">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Full cache**.</span></span>  
  
    4.  <span data-ttu-id="ff1bc-163">Dans la zone **Type de connexion** , sélectionnez **Gestionnaire de connexions du cache**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-163">In the **Connection type** area, select **Cache connection manager**.</span></span>  
  
    5.  <span data-ttu-id="ff1bc-164">Dans la liste **Spécifier comment gérer les lignes sans entrées correspondantes** , sélectionnez une option de gestion des erreurs.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-164">From the **Specify how to handle rows with no matching entries** list, select an error handling option.</span></span>  
  
    6.  <span data-ttu-id="ff1bc-165">Dans la page **Connexion** , dans la liste **Gestionnaire de connexions du cache** , sélectionnez un gestionnaire de connexions du cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-165">On the **Connection** page, from the **Cache connection manager** list, select a Cache connection manager.</span></span>  
  
    7.  <span data-ttu-id="ff1bc-166">Cliquez sur la page **Colonnes** , puis faites glisser au moins une colonne de la liste **Colonnes d’entrée disponibles** vers une colonne de la liste **Colonnes de recherche disponibles** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-166">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="ff1bc-167">La transformation de recherche mappe automatiquement les colonnes ayant le même nom et le même type de données.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-167">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="ff1bc-168">Les types de données des colonnes doivent correspondre pour que les colonnes puissent être mappées.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-168">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="ff1bc-169">Pour plus d’informations, consultez [Types de données Integration Services](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-169">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="ff1bc-170">Dans la liste **Colonnes de recherche disponibles** , sélectionnez des colonnes.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-170">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="ff1bc-171">Ensuite, dans la liste **Opération de recherche** , indiquez si les valeurs des colonnes de recherche doivent remplacer les valeurs des colonnes d’entrée ou si elles sont écrites dans une nouvelle colonne.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-171">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="ff1bc-172">Pour configurer la sortie d’erreur, cliquez sur la page **Sortie d’erreur** et définissez les options de gestion des erreurs.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-172">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="ff1bc-173">Pour plus d’informations, consultez [Éditeur de transformation de recherche &#40;page Sortie d’erreur&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-173">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="ff1bc-174">Cliquez sur **OK** pour enregistrer les modifications que vous avez apportées à la transformation de recherche.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-174">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
9. <span data-ttu-id="ff1bc-175">Exécutez le package.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-175">Run the package.</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-in-two-packages-by-using-cache-connection-manager-and-a-data-source-in-the-data-flow"></a><span data-ttu-id="ff1bc-176">Pour implémenter une transformation de recherche en mode Cache complet dans deux packages en utilisant un gestionnaire de connexions du cache et une source de données dans le flux de données</span><span class="sxs-lookup"><span data-stu-id="ff1bc-176">To implement a Lookup transformation in full cache mode in two packages by using Cache connection manager and a data source in the data flow</span></span>  
  
1.  <span data-ttu-id="ff1bc-177">Dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], ouvrez un projet [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , puis deux packages.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-177">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open two packages.</span></span>  
  
2.  <span data-ttu-id="ff1bc-178">Sous l'onglet Flux de contrôle dans chaque package, ajoutez une tâche de flux de données.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-178">On the Control Flow tab in each package, add a Data Flow task.</span></span>  
  
3.  <span data-ttu-id="ff1bc-179">Dans le package parent, ajoutez une transformation du cache au flux de données, puis connectez la transformation à une source de données.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-179">In the parent package, add a Cache Transform transformation to the data flow, and then connect the transformation to a data source.</span></span>  
  
     <span data-ttu-id="ff1bc-180">Configurez la source de données selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-180">Configure the data source as needed.</span></span>  
  
4.  <span data-ttu-id="ff1bc-181">Double-cliquez sur la transformation du cache puis, dans **l’Éditeur de transformation du cache**, dans la page **Gestionnaire de connexions** , cliquez sur **Nouveau** pour créer un gestionnaire de connexions du cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-181">Double-click the Cache Transform, and then in the **Cache Transformation Editor**, on the **Connection Manager** page, click **New** to create a new Cache connection manager.</span></span>  
  
5.  <span data-ttu-id="ff1bc-182">Dans **l’Éditeur du gestionnaire de connexions du cache**, sous l’onglet **Général** , configurez le gestionnaire de connexions du cache en définissant les options suivantes :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-182">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="ff1bc-183">Sélectionnez **Utiliser le cache de fichier**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-183">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="ff1bc-184">Pour **Nom de fichier**, tapez le chemin du fichier ou cliquez sur **Parcourir** pour sélectionner le fichier.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-184">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
         <span data-ttu-id="ff1bc-185">Si vous tapez un chemin d'accès de fichier qui n'existe pas, le système crée le fichier lorsque vous exécutez le package.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-185">If you type a path for a file that does not exist, the system creates the file when you run the package.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ff1bc-186">Le niveau de protection du package ne s'applique pas au fichier cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-186">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="ff1bc-187">Si le fichier cache contient des informations sensibles, utilisez une liste de contrôle d'accès (ACL) pour restreindre l'accès à l'emplacement ou au dossier dans lequel vous stockez le fichier.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-187">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="ff1bc-188">Vous devez autoriser l'accès à certains comptes uniquement.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-188">You should enable access only to certain accounts.</span></span> <span data-ttu-id="ff1bc-189">Pour plus d’informations, consultez [Accéder aux fichiers utilisés par des packages](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-189">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
6.  <span data-ttu-id="ff1bc-190">Cliquez sur l’onglet **Colonnes** , puis spécifiez quelles colonnes sont les colonnes d’index en utilisant l’option **Position d’index** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-190">Click the **Columns** tab, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="ff1bc-191">Pour les colonnes qui ne sont pas des index, la position d'index est 0.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-191">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="ff1bc-192">Pour les colonnes d'index, la position d'index est un nombre séquentiel, positif.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-192">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ff1bc-193">Lorsque la transformation de recherche est configurée pour utiliser un gestionnaire de connexions du cache, seules les colonnes d'index dans le dataset de référence peuvent être mappées avec des colonnes d'entrée.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-193">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="ff1bc-194">En outre, toutes les colonnes d'index doivent être mappées.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-194">Also, all index columns must be mapped.</span></span> <span data-ttu-id="ff1bc-195">Pour plus d’informations, consultez [Éditeur du gestionnaire de connexions du cache](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-195">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
7.  <span data-ttu-id="ff1bc-196">Configurez la transformation du cache selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-196">Configure the Cache Transform as needed.</span></span> <span data-ttu-id="ff1bc-197">Pour plus d’informations, consultez [Éditeur de transformation du cache &#40;page Gestionnaire de connexions&#41;](../cache-transformation-editor-connection-manager-page.md) et [Éditeur de transformation du cache &#40;page Mappages&#41;](../cache-transformation-editor-mappings-page.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-197">For more information, see [Cache Transformation Editor &#40;Connection Manager Page&#41;](../cache-transformation-editor-connection-manager-page.md) and [Cache Transformation Editor &#40;Mappings Page&#41;](../cache-transformation-editor-mappings-page.md).</span></span>  
  
8.  <span data-ttu-id="ff1bc-198">Effectuez l'une des opérations suivantes pour renseigner le gestionnaire de connexions du cache utilisé dans le second package :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-198">Do one of the following to populate the Cache connection manager that is used in the second package:</span></span>  
  
    -   <span data-ttu-id="ff1bc-199">Exécutez le package parent.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-199">Run the parent package.</span></span>  
  
    -   <span data-ttu-id="ff1bc-200">Double-cliquez sur le gestionnaire de connexions du cache que vous avez créé à l’étape 4, cliquez sur **Colonnes**, sélectionnez les lignes, puis appuyez sur Ctrl+C pour copier les métadonnées de colonne.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-200">Double-click the Cache connection manager you created in step 4, click **Columns**, select the rows, and then press CTRL+C to copy the column metadata.</span></span>  
  
9. <span data-ttu-id="ff1bc-201">Dans le package enfant, pour créer un gestionnaire de connexions du cache, cliquez avec le bouton droit dans la zone **Gestionnaires de connexions** , cliquez sur **Nouvelle connexion**, sélectionnez **CACHE** dans la boîte de dialogue **Ajout d’un gestionnaire de connexions SSIS** , puis cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-201">In the child package, create a Cache connection manager by right-clicking in the **Connection Managers** area, clicking **New Connection**, selecting **CACHE** in the **Add SSIS Connection Manager** dialog box, and then clicking **Add**.</span></span>  
  
     <span data-ttu-id="ff1bc-202">La zone **Gestionnaires de connexions** apparaît au bas des onglets **Flux de contrôle**, **Flux de données**et **Gestionnaires d’événements** du concepteur [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-202">The **Connection Managers** area appears on the bottom of the **Control Flow**, **Data Flow**, and **Event Handlers** tabs of [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span></span>  
  
10. <span data-ttu-id="ff1bc-203">Dans **l’Éditeur du gestionnaire de connexions du cache**, sous l’onglet **Général** , configurez le gestionnaire de connexions du cache pour lire les données à partir du fichier cache que vous avez sélectionné en définissant les options suivantes :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-203">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager to read the data from the cache file that you selected by setting the following options:</span></span>  
  
    -   <span data-ttu-id="ff1bc-204">Sélectionnez **Utiliser le cache de fichier**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-204">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="ff1bc-205">Pour **Nom de fichier**, tapez le chemin du fichier ou cliquez sur **Parcourir** pour sélectionner le fichier.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-205">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ff1bc-206">Le niveau de protection du package ne s'applique pas au fichier cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-206">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="ff1bc-207">Si le fichier cache contient des informations sensibles, utilisez une liste de contrôle d'accès (ACL) pour restreindre l'accès à l'emplacement ou au dossier dans lequel vous stockez le fichier.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-207">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="ff1bc-208">Vous devez autoriser l'accès à certains comptes uniquement.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-208">You should enable access only to certain accounts.</span></span> <span data-ttu-id="ff1bc-209">Pour plus d’informations, consultez [Accéder aux fichiers utilisés par des packages](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-209">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
11. <span data-ttu-id="ff1bc-210">Si vous avez copié les métadonnées de colonne à l’étape 8, cliquez sur **Colonnes**, sélectionnez la ligne vide, puis appuyez sur Ctrl+V pour coller les métadonnées de colonne.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-210">If you copied the column metadata in step 8, click **Columns**, select the empty row, and then press CTRL+V to paste the column metadata.</span></span>  
  
12. <span data-ttu-id="ff1bc-211">Ajoutez une transformation de recherche, puis configurez la transformation en effectuant les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-211">Add a Lookup transformation, and then configure the transformation by doing the following:</span></span>  
  
    1.  <span data-ttu-id="ff1bc-212">Connectez la transformation de recherche au flux de données en faisant glisser un connecteur à partir d'une source ou d'une transformation précédente jusqu'à la transformation de recherche.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-212">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="ff1bc-213">Une transformation de recherche peut ne pas se valider si cette transformation se connecte à un fichier plat qui contient un champ Date vide.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-213">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="ff1bc-214">La validation de la transformation dépend si le gestionnaire de connexions pour le fichier plat a été configuré pour conserver des valeurs NULL.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-214">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="ff1bc-215">Pour que la validation de la transformation de recherche soit validée, dans **l’Éditeur de source de fichier plat**, dans la **page Gestionnaire de connexions**, sélectionnez l’option **Conserver les valeurs NULL de la source comme valeurs NULL dans le flux de données** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-215">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="ff1bc-216">Double-cliquez sur la transformation source ou précédente pour configurer le composant.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-216">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="ff1bc-217">Double-cliquez sur la transformation de recherche, puis sélectionnez **Cache complet** dans la page **Général** de **l’Éditeur de transformation de recherche**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-217">Double-click the Lookup transformation, and then select **Full cache** on the **General** page of the **Lookup Transformation Editor**.</span></span>  
  
    4.  <span data-ttu-id="ff1bc-218">Sélectionnez **Gestionnaire de connexions du cache** dans la zone **Type de connexion** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-218">Select **Cache connection manager** in the **Connection type** area.</span></span>  
  
    5.  <span data-ttu-id="ff1bc-219">Sélectionnez une option de gestion des erreurs pour les lignes sans entrées correspondantes dans la liste **Spécifier comment gérer les lignes sans entrées correspondantes** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-219">Select an error handling option for rows without matching entries from the **Specify how to handle rows with no matching entries** list.</span></span>  
  
    6.  <span data-ttu-id="ff1bc-220">Dans la page **Connexion** , dans la liste **Gestionnaire de connexions du cache** , sélectionnez le gestionnaire de connexions du cache que vous avez ajouté.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-220">On the **Connection** page, from the **Cache connection manager** list, select the Cache connection manager that you added.</span></span>  
  
    7.  <span data-ttu-id="ff1bc-221">Cliquez sur la page **Colonnes** , puis faites glisser au moins une colonne de la liste **Colonnes d’entrée disponibles** vers une colonne de la liste **Colonnes de recherche disponibles** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-221">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="ff1bc-222">La transformation de recherche mappe automatiquement les colonnes ayant le même nom et le même type de données.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-222">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="ff1bc-223">Les types de données des colonnes doivent correspondre pour que les colonnes puissent être mappées.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-223">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="ff1bc-224">Pour plus d’informations, consultez [Types de données Integration Services](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-224">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="ff1bc-225">Dans la liste **Colonnes de recherche disponibles** , sélectionnez des colonnes.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-225">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="ff1bc-226">Ensuite, dans la liste **Opération de recherche** , indiquez si les valeurs des colonnes de recherche doivent remplacer les valeurs des colonnes d’entrée ou si elles sont écrites dans une nouvelle colonne.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-226">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="ff1bc-227">Pour configurer la sortie d’erreur, cliquez sur la page **Sortie d’erreur** et définissez les options de gestion des erreurs.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-227">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="ff1bc-228">Pour plus d’informations, consultez [Éditeur de transformation de recherche &#40;page Sortie d’erreur&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-228">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="ff1bc-229">Cliquez sur **OK** pour enregistrer les modifications que vous avez apportées à la transformation de recherche.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-229">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
13. <span data-ttu-id="ff1bc-230">Ouvrez le package parent, ajoutez une tâche Exécuter le package au flux de contrôle, puis configurez la tâche afin d'appeler le package enfant.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-230">Open the parent package, add an Execute Package task to the control flow, and then configure the task to call the child package.</span></span> <span data-ttu-id="ff1bc-231">Pour plus d’informations, consultez [Tâche d’exécution de package](../control-flow/execute-package-task.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-231">For more information, see [Execute Package Task](../control-flow/execute-package-task.md).</span></span>  
  
14. <span data-ttu-id="ff1bc-232">Exécutez les packages.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-232">Run the packages.</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-by-using-cache-connection-manager-and-an-existing-cache-file"></a><span data-ttu-id="ff1bc-233">Pour implémenter une transformation de recherche en mode Cache complet à l'aide d'un gestionnaire de connexions du cache et d'un fichier cache existant</span><span class="sxs-lookup"><span data-stu-id="ff1bc-233">To implement a Lookup transformation in full cache mode by using Cache connection manager and an existing cache file</span></span>  
  
1.  <span data-ttu-id="ff1bc-234">Dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], ouvrez un projet [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , puis un package.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-234">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open a package.</span></span>  
  
2.  <span data-ttu-id="ff1bc-235">Cliquez avec le bouton droit dans la zone **Gestionnaires de connexions** , puis cliquez sur **Nouvelle connexion**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-235">Right-click in the **Connection Managers** area, and then click **New Connection**.</span></span>  
  
     <span data-ttu-id="ff1bc-236">La zone **Gestionnaires de connexions** apparaît au bas des onglets **Flux de contrôle**, **Flux de données**et **Gestionnaires d’événements** du concepteur [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-236">The **Connection Managers** area appears on the bottom of the **Control Flow**, **Data Flow**, and **Event Handlers** tabs of [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span></span>  
  
3.  <span data-ttu-id="ff1bc-237">Dans la boîte de dialogue **Ajout d’un gestionnaire de connexions SSIS** , sélectionnez **CACHE**, puis cliquez sur **Ajouter** pour ajouter un gestionnaire de connexions du cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-237">In the **Add SSIS Connection Manager** dialog box, select **CACHE**, and then click **Add** to add a Cache connection manager.</span></span>  
  
4.  <span data-ttu-id="ff1bc-238">Double-cliquez sur le gestionnaire de connexions du cache pour ouvrir **l’Éditeur du gestionnaire de connexions du cache**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-238">Double-click the Cache connection manager to open the **Cache Connection Manager Editor**.</span></span>  
  
5.  <span data-ttu-id="ff1bc-239">Dans **l’Éditeur du gestionnaire de connexions du cache**, sous l’onglet **Général** , configurez le gestionnaire de connexions du cache en définissant les options suivantes :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-239">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="ff1bc-240">Sélectionnez **Utiliser le cache de fichier**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-240">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="ff1bc-241">Pour **Nom de fichier**, tapez le chemin du fichier ou cliquez sur **Parcourir** pour sélectionner le fichier.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-241">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ff1bc-242">Le niveau de protection du package ne s'applique pas au fichier cache.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-242">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="ff1bc-243">Si le fichier cache contient des informations sensibles, utilisez une liste de contrôle d'accès (ACL) pour restreindre l'accès à l'emplacement ou au dossier dans lequel vous stockez le fichier.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-243">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="ff1bc-244">Vous devez autoriser l'accès à certains comptes uniquement.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-244">You should enable access only to certain accounts.</span></span> <span data-ttu-id="ff1bc-245">Pour plus d’informations, consultez [Accéder aux fichiers utilisés par des packages](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-245">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
6.  <span data-ttu-id="ff1bc-246">Cliquez sur l’onglet **Colonnes** , puis spécifiez quelles colonnes sont les colonnes d’index en utilisant l’option **Position d’index** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-246">Click the **Columns** tab, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="ff1bc-247">Pour les colonnes qui ne sont pas des index, la position d'index est 0.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-247">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="ff1bc-248">Pour les colonnes d'index, la position d'index est un nombre séquentiel, positif.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-248">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ff1bc-249">Lorsque la transformation de recherche est configurée pour utiliser un gestionnaire de connexions du cache, seules les colonnes d'index dans le dataset de référence peuvent être mappées avec des colonnes d'entrée.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-249">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="ff1bc-250">En outre, toutes les colonnes d'index doivent être mappées.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-250">Also, all index columns must be mapped.</span></span> <span data-ttu-id="ff1bc-251">Pour plus d’informations, consultez [Éditeur du gestionnaire de connexions du cache](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-251">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
7.  <span data-ttu-id="ff1bc-252">Sous l’onglet **Flux de contrôle** , ajoutez une tâche de flux de données au package, puis ajoutez une transformation de recherche au flux de données.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-252">On the **Control Flow** tab, add a Data Flow task to the package, and then add a Lookup transformation to the data flow.</span></span>  
  
8.  <span data-ttu-id="ff1bc-253">Configurez la transformation de recherche en procédant comme suit :</span><span class="sxs-lookup"><span data-stu-id="ff1bc-253">Configure the Lookup transformation by doing the following:</span></span>  
  
    1.  <span data-ttu-id="ff1bc-254">Connectez la transformation de recherche au flux de données en faisant glisser un connecteur à partir d'une source ou d'une transformation précédente jusqu'à la transformation de recherche.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-254">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="ff1bc-255">Une transformation de recherche peut ne pas se valider si cette transformation se connecte à un fichier plat qui contient un champ Date vide.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-255">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="ff1bc-256">La validation de la transformation dépend si le gestionnaire de connexions pour le fichier plat a été configuré pour conserver des valeurs NULL.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-256">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="ff1bc-257">Pour que la validation de la transformation de recherche soit validée, dans **l’Éditeur de source de fichier plat**, dans la **page Gestionnaire de connexions**, sélectionnez l’option **Conserver les valeurs NULL de la source comme valeurs NULL dans le flux de données** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-257">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="ff1bc-258">Double-cliquez sur la transformation source ou précédente pour configurer le composant.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-258">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="ff1bc-259">Double-cliquez sur la transformation de recherche, puis dans **l’Éditeur de transformation de recherche**, dans la page **Général** , sélectionnez **Cache complet**.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-259">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Full cache**.</span></span>  
  
    4.  <span data-ttu-id="ff1bc-260">Sélectionnez **Gestionnaire de connexions du cache** dans la zone **Type de connexion** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-260">Select **Cache connection manager** in the **Connection type** area.</span></span>  
  
    5.  <span data-ttu-id="ff1bc-261">Sélectionnez une option de gestion des erreurs pour les lignes sans entrées correspondantes dans la liste **Spécifier comment gérer les lignes sans entrées correspondantes** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-261">Select an error handling option for rows without matching entries from the **Specify how to handle rows with no matching entries** list.</span></span>  
  
    6.  <span data-ttu-id="ff1bc-262">Dans la page **Connexion** , dans la liste **Gestionnaire de connexions du cache** , sélectionnez le gestionnaire de connexions du cache que vous avez ajouté.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-262">On the **Connection** page, from the **Cache connection manager** list, select the Cache connection manager that you added.</span></span>  
  
    7.  <span data-ttu-id="ff1bc-263">Cliquez sur la page **Colonnes** , puis faites glisser au moins une colonne de la liste **Colonnes d’entrée disponibles** vers une colonne de la liste **Colonnes de recherche disponibles** .</span><span class="sxs-lookup"><span data-stu-id="ff1bc-263">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="ff1bc-264">La transformation de recherche mappe automatiquement les colonnes ayant le même nom et le même type de données.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-264">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="ff1bc-265">Les types de données des colonnes doivent correspondre pour que les colonnes puissent être mappées.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-265">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="ff1bc-266">Pour plus d’informations, consultez [Types de données Integration Services](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-266">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="ff1bc-267">Dans la liste **Colonnes de recherche disponibles** , sélectionnez des colonnes.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-267">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="ff1bc-268">Ensuite, dans la liste **Opération de recherche** , indiquez si les valeurs des colonnes de recherche doivent remplacer les valeurs des colonnes d’entrée ou si elles sont écrites dans une nouvelle colonne.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-268">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="ff1bc-269">Pour configurer la sortie d’erreur, cliquez sur la page **Sortie d’erreur** et définissez les options de gestion des erreurs.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-269">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="ff1bc-270">Pour plus d’informations, consultez [Éditeur de transformation de recherche &#40;page Sortie d’erreur&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="ff1bc-270">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="ff1bc-271">Cliquez sur **OK** pour enregistrer les modifications que vous avez apportées à la transformation de recherche.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-271">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
9. <span data-ttu-id="ff1bc-272">Exécutez le package.</span><span class="sxs-lookup"><span data-stu-id="ff1bc-272">Run the package.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ff1bc-273">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ff1bc-273">See Also</span></span>  
 <span data-ttu-id="ff1bc-274">[Implémenter une transformation de recherche en mode Cache complet à l’aide du gestionnaire de connexions OLE DB](lookup-transformation-full-cache-mode-ole-db-connection-manager.md) </span><span class="sxs-lookup"><span data-stu-id="ff1bc-274">[Implement a Lookup Transformation in Full Cache Mode Using the OLE DB Connection Manager](lookup-transformation-full-cache-mode-ole-db-connection-manager.md) </span></span>  
 <span data-ttu-id="ff1bc-275">[Implémenter une recherche en mode Aucun cache ou Cache partiel](../data-flow/transformations/implement-a-lookup-in-no-cache-or-partial-cache-mode.md) </span><span class="sxs-lookup"><span data-stu-id="ff1bc-275">[Implement a Lookup in No Cache or Partial Cache Mode](../data-flow/transformations/implement-a-lookup-in-no-cache-or-partial-cache-mode.md) </span></span>  
 [<span data-ttu-id="ff1bc-276">Transformations Integration Services</span><span class="sxs-lookup"><span data-stu-id="ff1bc-276">Integration Services Transformations</span></span>](../data-flow/transformations/integration-services-transformations.md)  
  
  
