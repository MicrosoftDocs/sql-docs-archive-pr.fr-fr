---
title: Service web, tâche | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.webservicetask.f1
helpviewer_keywords:
- Web Service task [Integration Services]
ms.assetid: 5c7206f1-7d6a-4923-8dff-3c4912da4157
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 1a2f719a6fb0076a3bb286865199a9cf6a008d32
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87602248"
---
# <a name="web-service-task"></a><span data-ttu-id="417ac-102">Tâche de service Web</span><span class="sxs-lookup"><span data-stu-id="417ac-102">Web Service Task</span></span>
  <span data-ttu-id="417ac-103">La tâche de service Web exécute une méthode de service Web.</span><span class="sxs-lookup"><span data-stu-id="417ac-103">The Web Service task executes a Web service method.</span></span> <span data-ttu-id="417ac-104">Vous pouvez utiliser la tâche de service Web pour :</span><span class="sxs-lookup"><span data-stu-id="417ac-104">You can use the Web Service task for the following purposes:</span></span>  
  
-   <span data-ttu-id="417ac-105">Écrire dans une variable les valeurs renvoyées par une méthode de service Web.</span><span class="sxs-lookup"><span data-stu-id="417ac-105">Writing to a variable the values that a Web service method returns.</span></span> <span data-ttu-id="417ac-106">Vous pouvez par exemple obtenir la température la plus élevée de la journée à partir d'une méthode de service Web, puis utiliser cette valeur pour mettre à jour une variable utilisée dans une expression qui définit une valeur de colonne.</span><span class="sxs-lookup"><span data-stu-id="417ac-106">For example, you could obtain the highest temperature of the day from a Web service method, and then use that value to update a variable that is used in an expression that sets a column value.</span></span>  
  
-   <span data-ttu-id="417ac-107">Écrire dans un fichier les valeurs renvoyées par une méthode de service Web.</span><span class="sxs-lookup"><span data-stu-id="417ac-107">Writing to a file the values that a Web service method returns.</span></span> <span data-ttu-id="417ac-108">Une liste de clients potentiels peut par exemple être enregistrée dans un fichier qui est ensuite utilisé comme source de données dans un package qui nettoie les données avant de les écrire dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="417ac-108">For example, a list of potential customers can be written to a file and the file then used as a data source in a package that cleans the data before it is written to a database.</span></span>  
  
## <a name="wsdl-file"></a><span data-ttu-id="417ac-109">Fichier WSDL</span><span class="sxs-lookup"><span data-stu-id="417ac-109">WSDL File</span></span>  
 <span data-ttu-id="417ac-110">La tâche de service Web utilise un gestionnaire de connexions HTTP pour se connecter au service Web.</span><span class="sxs-lookup"><span data-stu-id="417ac-110">The Web Service task uses an HTTP connection manager to connect to the Web service.</span></span> <span data-ttu-id="417ac-111">Ce gestionnaire est configuré séparément de la tâche de service Web et est référencé dans la tâche.</span><span class="sxs-lookup"><span data-stu-id="417ac-111">The HTTP connection manager is configured separately from the Web Service task, and is referenced in the task.</span></span> <span data-ttu-id="417ac-112">Le gestionnaire de connexions HTTP spécifie les paramètres proxy du serveur comme l'URL du serveur, les informations d'identification permettant d'accéder au serveur de services Web et la durée du délai d'attente.</span><span class="sxs-lookup"><span data-stu-id="417ac-112">The HTTP connection manager specifies the server proxy settings such as the server URL, credentials for accessing the Web services server, and time-out length.</span></span> <span data-ttu-id="417ac-113">Pour plus d’informations, consultez [Gestionnaire de connexions HTTP](../connection-manager/http-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="417ac-113">For more information, see [HTTP Connection Manager](../connection-manager/http-connection-manager.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="417ac-114">Le gestionnaire de connexions HTTP prend en charge uniquement l'authentification anonyme et l'authentification de base.</span><span class="sxs-lookup"><span data-stu-id="417ac-114">The HTTP connection manager supports only anonymous authentication and basic authentication.</span></span> <span data-ttu-id="417ac-115">Il ne prend pas en charge l'authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="417ac-115">It does not support Windows Authentication.</span></span>  
  
 <span data-ttu-id="417ac-116">Le gestionnaire de connexions HTTP peut pointer vers un site Web ou un fichier WSDL (Web Service Description Language).</span><span class="sxs-lookup"><span data-stu-id="417ac-116">The HTTP connection manager can point to a Web site or to a Web Service Description Language (WSDL) file.</span></span> <span data-ttu-id="417ac-117">L'URL du gestionnaire de connexions HTTP qui pointe vers un fichier WSDL contient le paramètre `?WSDL` , par exemple `http://MyServer/MyWebService/MyPage.asmx?WSDL`.</span><span class="sxs-lookup"><span data-stu-id="417ac-117">The URL of the HTTP connection manager that points to a WSDL file includes the `?WSDL` parameter: for example, `http://MyServer/MyWebService/MyPage.asmx?WSDL`.</span></span>  
  
 <span data-ttu-id="417ac-118">Le fichier WSDL doit être disponible localement pour pouvoir configurer la tâche de service web à l’aide de la boîte de dialogue **Éditeur de tâche de service Web** du concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="417ac-118">The WSDL file must be available locally to configure the Web Service task using the **Web Service Task Editor** dialog box that [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer provides.</span></span>  
  
-   <span data-ttu-id="417ac-119">Si le gestionnaire de connexions HTTP pointe vers un site Web, le fichier WSDL doit être copié manuellement sur un ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="417ac-119">If the HTTP connection manager points to a Web site, the WSDL file must be copied manually to a local computer.</span></span>  
  
-   <span data-ttu-id="417ac-120">Si le gestionnaire de connexions HTTP pointe vers un fichier WSDL, ce fichier peut être téléchargé à partir du site Web vers un fichier local par la tâche de service Web.</span><span class="sxs-lookup"><span data-stu-id="417ac-120">If the HTTP connection manager points to a WSDL file, the file can be downloaded from the Web site to a local file by the Web Service task.</span></span>  
  
 <span data-ttu-id="417ac-121">Le fichier WSDL énumère les méthodes offertes par le service Web, les paramètres d'entrée requis par les méthodes, les réponses renvoyées par les méthodes et la manière de communiquer avec le service Web.</span><span class="sxs-lookup"><span data-stu-id="417ac-121">The WSDL file lists the methods that the Web service offers, the input parameters that the methods require, the responses that the methods return, and how to communicate with the Web service.</span></span>  
  
 <span data-ttu-id="417ac-122">Si la méthode utilise des paramètres d'entrée, la tâche de service Web requiert des valeurs de paramètres.</span><span class="sxs-lookup"><span data-stu-id="417ac-122">If the method uses input parameters, the Web Service task requires parameter values.</span></span> <span data-ttu-id="417ac-123">Par exemple, une méthode de service Web qui recommande la longueur des skis que vous devez acheter en fonction de votre taille exige que votre taille soit soumise dans un paramètre d'entrée.</span><span class="sxs-lookup"><span data-stu-id="417ac-123">For example, a Web service method that recommends the length of skis you should purchase based on your height requires that your height be submitted in an input parameter.</span></span> <span data-ttu-id="417ac-124">Les valeurs de paramètres peuvent être fournies par des chaînes définies dans la tâche ou par des variables définies dans l'étendue de la tâche ou un conteneur parent.</span><span class="sxs-lookup"><span data-stu-id="417ac-124">The parameter values can be provided either by strings that are defined in the task, or by variables defined in the scope of the task or a parent container.</span></span> <span data-ttu-id="417ac-125">L'avantage d'utiliser des variables est de vous permettre de mettre à jour dynamiquement les valeurs de paramètres en utilisant des scripts ou des configurations de package.</span><span class="sxs-lookup"><span data-stu-id="417ac-125">The advantage of using variables is that they let you dynamically update the parameter values by using package configurations or scripts.</span></span> <span data-ttu-id="417ac-126">Pour plus d’informations, consultez [Variables Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md) et [Configurations de package](../package-configurations.md).</span><span class="sxs-lookup"><span data-stu-id="417ac-126">For more information, see [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md) and [Package Configurations](../package-configurations.md).</span></span>  
  
 <span data-ttu-id="417ac-127">De nombreuses méthodes de service Web n'utilisent pas de paramètres d'entrée.</span><span class="sxs-lookup"><span data-stu-id="417ac-127">Many Web service methods do not use input parameters.</span></span> <span data-ttu-id="417ac-128">Par exemple, une méthode de service Web qui obtient le nom des présidents dont le mois de naissance correspond au mois en cours ne requiert pas de paramètre d'entrée car le service Web peut déterminer le mois en cours localement.</span><span class="sxs-lookup"><span data-stu-id="417ac-128">For example, a Web service method that gets the names of presidents who were born in the current month would not require an input parameter because the Web service can determine the current month locally.</span></span>  
  
 <span data-ttu-id="417ac-129">Les résultats de la méthode de service Web peuvent être écrits dans une variable ou dans un fichier.</span><span class="sxs-lookup"><span data-stu-id="417ac-129">The results of the Web service method can be written to a variable or to a file.</span></span> <span data-ttu-id="417ac-130">Vous pouvez utiliser le gestionnaire de connexions de fichiers pour spécifier le fichier ou indiquer le nom de la variable dans laquelle écrire les résultats.</span><span class="sxs-lookup"><span data-stu-id="417ac-130">You use the File connection manager either to specify the file or to provide the name of the variable to write the results to.</span></span> <span data-ttu-id="417ac-131">Pour plus d’informations, consultez [Gestionnaire de connexions de fichiers](../connection-manager/file-connection-manager.md) et [Variables Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="417ac-131">For more information, see [File Connection Manager](../connection-manager/file-connection-manager.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>  
  
## <a name="custom-logging-messages-available-on-the-web-service-task"></a><span data-ttu-id="417ac-132">Messages de journalisation personnalisés disponibles dans la tâche de service Web</span><span class="sxs-lookup"><span data-stu-id="417ac-132">Custom Logging Messages Available on the Web Service Task</span></span>  
 <span data-ttu-id="417ac-133">Le tableau suivant répertorie les entrées de journal personnalisées de la tâche de service Web.</span><span class="sxs-lookup"><span data-stu-id="417ac-133">The following table lists the custom log entries that you can enable for the Web Service task.</span></span> <span data-ttu-id="417ac-134">Pour plus d’informations, consultez [Journalisation d’Integration Services &#40;SSIS&#41;](../performance/integration-services-ssis-logging.md) et [Messages personnalisés pour la journalisation](../custom-messages-for-logging.md).</span><span class="sxs-lookup"><span data-stu-id="417ac-134">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="417ac-135">Entrée du journal</span><span class="sxs-lookup"><span data-stu-id="417ac-135">Log entry</span></span>|<span data-ttu-id="417ac-136">Description</span><span class="sxs-lookup"><span data-stu-id="417ac-136">Description</span></span>|  
|---------------|-----------------|  
|`WSTaskBegin`|<span data-ttu-id="417ac-137">La tâche a commencé à accéder à un service Web.</span><span class="sxs-lookup"><span data-stu-id="417ac-137">The task began to access a Web service.</span></span>|  
|`WSTaskEnd`|<span data-ttu-id="417ac-138">La tâche a terminé une méthode de service Web.</span><span class="sxs-lookup"><span data-stu-id="417ac-138">The task completed a Web service method.</span></span>|  
|`WSTaskInfo`|<span data-ttu-id="417ac-139">Donne des informations détaillées relatives à la tâche.</span><span class="sxs-lookup"><span data-stu-id="417ac-139">Descriptive information about the task.</span></span>|  
  
## <a name="configuration-of-the-web-service-task"></a><span data-ttu-id="417ac-140">Configuration de la tâche de service Web</span><span class="sxs-lookup"><span data-stu-id="417ac-140">Configuration of the Web Service Task</span></span>  
 <span data-ttu-id="417ac-141">Vous pouvez définir les propriétés par le biais du concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] ou par programmation.</span><span class="sxs-lookup"><span data-stu-id="417ac-141">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="417ac-142">Pour plus d'informations sur les propriétés définissables dans le concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] , cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="417ac-142">For more information about the properties that you can set in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="417ac-143">Éditeur de tâche de service Web &#40;page Général&#41;</span><span class="sxs-lookup"><span data-stu-id="417ac-143">Web Service Task Editor &#40;General Page&#41;</span></span>](../general-page-of-integration-services-designers-options.md)  
  
-   [<span data-ttu-id="417ac-144">Éditeur de tâche de service Web &#40;page Entrée&#41;</span><span class="sxs-lookup"><span data-stu-id="417ac-144">Web Service Task Editor &#40;Input Page&#41;</span></span>](../web-service-task-editor-input-page.md)  
  
-   [<span data-ttu-id="417ac-145">Éditeur de tâche de service Web &#40;page Sortie&#41;</span><span class="sxs-lookup"><span data-stu-id="417ac-145">Web Service Task Editor &#40;Output Page&#41;</span></span>](../web-service-task-editor-output-page.md)  
  
-   [<span data-ttu-id="417ac-146">Page Expressions</span><span class="sxs-lookup"><span data-stu-id="417ac-146">Expressions Page</span></span>](../expressions/expressions-page.md)  
  
 <span data-ttu-id="417ac-147">Pour plus d'informations sur la définition de ces propriétés dans le concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] , cliquez sur la rubrique suivante :</span><span class="sxs-lookup"><span data-stu-id="417ac-147">For more information about how to set these properties in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click the following topic:</span></span>  
  
-   [<span data-ttu-id="417ac-148">Définir les propriétés d'une tâche ou d'un conteneur</span><span class="sxs-lookup"><span data-stu-id="417ac-148">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-the-web-service-task"></a><span data-ttu-id="417ac-149">Configuration par programmation de la tâche de service web</span><span class="sxs-lookup"><span data-stu-id="417ac-149">Programmatic Configuration of the Web Service Task</span></span>  
 <span data-ttu-id="417ac-150">Pour plus d'informations sur la définition par programmation de ces propriétés, cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="417ac-150">For more information about programmatically setting these properties, click one of the following topics:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.WebServiceTask.WebServiceTask>  
  
## <a name="related-content"></a><span data-ttu-id="417ac-151">Contenu associé</span><span class="sxs-lookup"><span data-stu-id="417ac-151">Related Content</span></span>  
 <span data-ttu-id="417ac-152">Vidéo, [Guide pratique pour appeler un service web à l’aide de la tâche Service web (vidéo liée à SQL Server)](https://go.microsoft.com/fwlink/?LinkId=259642) sur technet.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="417ac-152">Video, [How to: Call a Web Service by Using the Web Service Task (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=259642), on technet.microsoft.com.</span></span>  
  
 <span data-ttu-id="417ac-153">[Comment utiliser le service Web via le package SSIS](https://www.c-sharpcorner.com/article/how-to-consume-web-service-through-ssis-package/).</span><span class="sxs-lookup"><span data-stu-id="417ac-153">[How To Consume Web Service Through SSIS Package](https://www.c-sharpcorner.com/article/how-to-consume-web-service-through-ssis-package/).</span></span>  
  
  
