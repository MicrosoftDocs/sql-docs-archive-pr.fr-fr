---
title: XML, tâche | Microsoft Docs
ms.custom: ''
ms.date: 08/22/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.ftptask.f1
helpviewer_keywords:
- FTP task [Integration Services]
ms.assetid: 41c3f2c4-ee04-460a-9822-bb9ae4036c2e
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 63ec58c1bff9894d0aa73112686c4b1fe9421b98
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87600190"
---
# <a name="ftp-task"></a><span data-ttu-id="c2d5b-102">Tâche FTP</span><span class="sxs-lookup"><span data-stu-id="c2d5b-102">FTP Task</span></span>
  <span data-ttu-id="c2d5b-103">La tâche FTP télécharge des fichiers de données et gère des répertoires sur les serveurs.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-103">The FTP task downloads and uploads data files and manages directories on servers.</span></span> <span data-ttu-id="c2d5b-104">Par exemple, un package peut télécharger des fichiers de données à partir d’un serveur distant ou d’un emplacement Internet dans le cadre d’un flux de travail de package [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c2d5b-104">For example, a package can download data files from a remote server or an Internet location as part of an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package workflow.</span></span> <span data-ttu-id="c2d5b-105">Vous pouvez utiliser la tâche FTP aux fins suivantes :</span><span class="sxs-lookup"><span data-stu-id="c2d5b-105">You can use the FTP task for the following purposes:</span></span>  
  
-   <span data-ttu-id="c2d5b-106">Copie de répertoires et de fichiers de données depuis un répertoire vers un autre, avant ou après le déplacement de données, et application de transformations aux données</span><span class="sxs-lookup"><span data-stu-id="c2d5b-106">Copying directories and data files from one directory to another, before or after moving data, and applying transformations to the data.</span></span>  
  
-   <span data-ttu-id="c2d5b-107">Connexion à un emplacement FTP source et copie des fichiers ou des packages vers un répertoire de destination</span><span class="sxs-lookup"><span data-stu-id="c2d5b-107">Logging in to a source FTP location and copying files or packages to a destination directory.</span></span>  
  
-   <span data-ttu-id="c2d5b-108">Téléchargement de fichiers depuis un emplacement FTP et application de transformations aux données de colonne avant de charger les données dans une base de données</span><span class="sxs-lookup"><span data-stu-id="c2d5b-108">Downloading files from an FTP location and applying transformations to column data before loading the data into a database.</span></span>  
  
 <span data-ttu-id="c2d5b-109">À l'exécution, la tâche FTP se connecte à un serveur à l'aide d'un gestionnaire de connexions FTP.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-109">At run time, the FTP task connects to a server by using an FTP connection manager.</span></span> <span data-ttu-id="c2d5b-110">Le gestionnaire de connexions FTP est configuré indépendamment de la tâche FTP, puis il est référencé dans celle-ci.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-110">The FTP connection manager is configured separately from the FTP task, and then is referenced in the FTP task.</span></span> <span data-ttu-id="c2d5b-111">Le gestionnaire de connexions FTP comprend les paramètres de serveur, les informations d'identification d'accès au serveur FTP et des options telles que le délai d'attente et le nombre de tentatives de connexion au serveur.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-111">The FTP connection manager includes the server settings, the credentials for accessing the FTP server, and options such as the time-out and the number of retries for connecting to the server.</span></span> <span data-ttu-id="c2d5b-112">Pour plus d’informations, consultez [Gestionnaires de connexion FTP](../connection-manager/ftp-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="c2d5b-112">For more information, see [FTP Connection Manager](../connection-manager/ftp-connection-manager.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="c2d5b-113">Le gestionnaire de connexions FTP prend en charge uniquement l'authentification anonyme et l'authentification de base.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-113">The FTP connection manager supports only anonymous authentication and basic authentication.</span></span> <span data-ttu-id="c2d5b-114">Il ne prend pas en charge l'authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-114">It does not support Windows Authentication.</span></span>  
  
 <span data-ttu-id="c2d5b-115">Pour accéder à un fichier local ou à un répertoire local, la tâche FTP utilise un gestionnaire de connexions de fichiers ou des informations de chemin d'accès stockées dans une variable.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-115">When accessing a local file or a local directory, the FTP task uses a File connection manager or path information stored in a variable.</span></span> <span data-ttu-id="c2d5b-116">À l'inverse, pour accéder à un fichier distant ou à un répertoire distant, la tâche FTP utilise un chemin d'accès directement spécifié sur le serveur distant, tel qu'indiqué dans le gestionnaire de connexions FTP, ou des informations de chemin d'accès stockées dans une variable.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-116">In contrast, when accessing a remote file or a remote directory, the FTP task uses a directly specified path on the remote server, as specified in the FTP connection manager, or path information stored in a variable.</span></span> <span data-ttu-id="c2d5b-117">Pour plus d’informations, consultez [Gestionnaire de connexions de fichiers](../connection-manager/file-connection-manager.md) et [Variables Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="c2d5b-117">For more information, see [File Connection Manager](../connection-manager/file-connection-manager.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>  
  
 <span data-ttu-id="c2d5b-118">Cela signifie que la tâche FTP peut recevoir plusieurs fichiers et supprimer plusieurs fichiers distants ; toutefois, la tâche peut envoyer seulement un fichier et supprimer seulement un fichier local si elle utilise un gestionnaire de connexions, car un gestionnaire de connexions de fichiers ne peut accéder qu'à un fichier.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-118">This means that the FTP task can receive multiple files and delete multiple remote files; but the task can send only one file and delete only one local file if it uses a connection manager, because a File connection manager can access only one file.</span></span> <span data-ttu-id="c2d5b-119">Pour accéder à plusieurs fichiers locaux, la tâche FTP doit utiliser une variable afin d'indiquer les informations de chemin d'accès.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-119">To access multiple local files, the FTP task must use a variable to provide the path information.</span></span> <span data-ttu-id="c2d5b-120">Par exemple, une variable contenant le texte « C:\Test\\*.txt » désigne un chemin qui prend en charge la suppression ou l’envoi de tous les fichiers ayant pour extension .txt et figurant dans le répertoire Test.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-120">For example, a variable that contains "C:\Test\\*.txt" provides a path that supports deleting or sending all the files that have a .txt extension in the Test directory.</span></span>  
  
 <span data-ttu-id="c2d5b-121">Pour envoyer plusieurs fichiers et accéder à plusieurs fichiers et répertoires locaux, vous pouvez également exécuter la tâche FTP plusieurs fois en l'incluant dans une boucle Foreach.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-121">To send multiple files and access multiple local files and directories, you can also execute the FTP task multiple times by including the task in a Foreach Loop.</span></span> <span data-ttu-id="c2d5b-122">La boucle Foreach peut passer en revue tous les fichiers d'un répertoire à l'aide de l'énumérateur For Each File.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-122">The Foreach Loop can enumerate across files in a directory using the For Each File enumerator.</span></span> <span data-ttu-id="c2d5b-123">Pour plus d’informations, consultez [Conteneur de boucles Foreach](foreach-loop-container.md).</span><span class="sxs-lookup"><span data-stu-id="c2d5b-123">For more information, see [Foreach Loop Container](foreach-loop-container.md).</span></span>  
  
 <span data-ttu-id="c2d5b-124">La tâche FTP prend en charge les caractères génériques *?*</span><span class="sxs-lookup"><span data-stu-id="c2d5b-124">The FTP task supports the *?*</span></span> <span data-ttu-id="c2d5b-125">et *\** dans les chemins.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-125">and *\** wildcard characters in paths.</span></span> <span data-ttu-id="c2d5b-126">Cela lui permet d'accéder à plusieurs fichiers.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-126">This lets the task access multiple files.</span></span> <span data-ttu-id="c2d5b-127">Toutefois, vous pouvez utiliser des caractères génériques seulement dans la partie du chemin d'accès qui spécifie le nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-127">However, you can use wildcard characters only in the part of the path that specifies the file name.</span></span> <span data-ttu-id="c2d5b-128">Par exemple, « C:\MyDirectory\\*.txt » est un chemin valide, contrairement à « C:\\\**\MyText.txt ».</span><span class="sxs-lookup"><span data-stu-id="c2d5b-128">For example, C:\MyDirectory\\*.txt is a valid path, but C:\\\*\MyText.txt is not.</span></span>  
  
 <span data-ttu-id="c2d5b-129">Vous pouvez configurer les opérations FTP de manière à ce que la tâche de système de fichiers soit arrêtée en cas d'échec des opérations ou de manière à transférer les fichiers en mode ASCII.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-129">The FTP operations can be configured to stop the File System task when the operation fails, or to transfer files in ASCII mode.</span></span> <span data-ttu-id="c2d5b-130">De même, vous pouvez configurer les opérations qui envoient et reçoivent des fichiers de manière à ce que les fichiers et les répertoires de destination soient écrasés.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-130">The operations that send and receive files copy can be configured to overwrite destination files and directories.</span></span>  
  
## <a name="predefined-ftp-operations"></a><span data-ttu-id="c2d5b-131">Opérations FTP prédéfinies</span><span class="sxs-lookup"><span data-stu-id="c2d5b-131">Predefined FTP Operations</span></span>  
 <span data-ttu-id="c2d5b-132">La tâche FTP comprend un ensemble prédéfini d'opérations.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-132">The FTP task includes a predefined set of operations.</span></span> <span data-ttu-id="c2d5b-133">Le tableau suivant décrit ces opérations.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-133">The following table describes these operations.</span></span>  
  
|<span data-ttu-id="c2d5b-134">Opération</span><span class="sxs-lookup"><span data-stu-id="c2d5b-134">Operation</span></span>|<span data-ttu-id="c2d5b-135">Description</span><span class="sxs-lookup"><span data-stu-id="c2d5b-135">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="c2d5b-136">Envoyer des fichiers</span><span class="sxs-lookup"><span data-stu-id="c2d5b-136">Send files</span></span>|<span data-ttu-id="c2d5b-137">Envoie un fichier depuis l'ordinateur local vers le serveur FTP.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-137">Sends a file from the local computer to the FTP server.</span></span>|  
|<span data-ttu-id="c2d5b-138">Recevoir des fichiers</span><span class="sxs-lookup"><span data-stu-id="c2d5b-138">Receive files</span></span>|<span data-ttu-id="c2d5b-139">Enregistre sur l'ordinateur local un fichier provenant du serveur FTP.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-139">Saves a file from the FTP server to the local computer.</span></span>|  
|<span data-ttu-id="c2d5b-140">Créer un répertoire local</span><span class="sxs-lookup"><span data-stu-id="c2d5b-140">Create local directory</span></span>|<span data-ttu-id="c2d5b-141">Crée un dossier sur l'ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-141">Creates a folder on the local computer.</span></span>|  
|<span data-ttu-id="c2d5b-142">Créer un répertoire distant</span><span class="sxs-lookup"><span data-stu-id="c2d5b-142">Create remote directory</span></span>|<span data-ttu-id="c2d5b-143">Crée un dossier sur le serveur FTP.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-143">Creates a folder on the FTP server.</span></span>|  
|<span data-ttu-id="c2d5b-144">Supprimer le répertoire local</span><span class="sxs-lookup"><span data-stu-id="c2d5b-144">Remove local directory</span></span>|<span data-ttu-id="c2d5b-145">Supprime un dossier de l'ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-145">Deletes a folder on the local computer.</span></span>|  
|<span data-ttu-id="c2d5b-146">Supprimer le répertoire distant</span><span class="sxs-lookup"><span data-stu-id="c2d5b-146">Remove remote directory</span></span>|<span data-ttu-id="c2d5b-147">Supprime un dossier du serveur FTP.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-147">Deletes a folder on the FTP server.</span></span>|  
|<span data-ttu-id="c2d5b-148">Supprimer des fichiers locaux</span><span class="sxs-lookup"><span data-stu-id="c2d5b-148">Delete local files</span></span>|<span data-ttu-id="c2d5b-149">Supprime un fichier de l'ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-149">Deletes a file on the local computer.</span></span>|  
|<span data-ttu-id="c2d5b-150">Supprimer des fichiers distants</span><span class="sxs-lookup"><span data-stu-id="c2d5b-150">Delete remote files</span></span>|<span data-ttu-id="c2d5b-151">Supprime un fichier du serveur FTP.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-151">Deletes a file on the FTP server.</span></span>|  
  
## <a name="custom-log-entries-available-on-the-ftp-task"></a><span data-ttu-id="c2d5b-152">Entrées de journal personnalisées disponibles dans la tâche FTP</span><span class="sxs-lookup"><span data-stu-id="c2d5b-152">Custom Log Entries Available on the FTP Task</span></span>  
 <span data-ttu-id="c2d5b-153">Le tableau suivant répertorie les entrées de journal personnalisées pour la tâche FTP.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-153">The following table lists the custom log entries for the FTP task.</span></span> <span data-ttu-id="c2d5b-154">Pour plus d’informations, consultez [Journalisation d’Integration Services &#40;SSIS&#41;](../performance/integration-services-ssis-logging.md) et [Messages personnalisés pour la journalisation](../custom-messages-for-logging.md).</span><span class="sxs-lookup"><span data-stu-id="c2d5b-154">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="c2d5b-155">Entrée du journal</span><span class="sxs-lookup"><span data-stu-id="c2d5b-155">Log entry</span></span>|<span data-ttu-id="c2d5b-156">Description</span><span class="sxs-lookup"><span data-stu-id="c2d5b-156">Description</span></span>|  
|---------------|-----------------|  
|`FTPConnectingToServer`|<span data-ttu-id="c2d5b-157">Indique que la tâche a lancé une connexion au serveur FTP.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-157">Indicates that the task initiated a connection to the FTP server.</span></span>|  
|`FTPOperation`|<span data-ttu-id="c2d5b-158">Indique le démarrage et le type d'une opération FTP effectuée par la tâche.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-158">Reports the beginning of and the type of FTP operation that the task performs.</span></span>|  
  
## <a name="related-tasks"></a><span data-ttu-id="c2d5b-159">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="c2d5b-159">Related Tasks</span></span>  
 <span data-ttu-id="c2d5b-160">Vous pouvez définir les propriétés par le biais du concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] ou par programmation.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-160">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="c2d5b-161">Pour plus d’informations sur la façon de définir ces propriétés dans le Concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] , consultez [Définir les propriétés d’une tâche ou d’un conteneur](../set-the-properties-of-a-task-or-container.md).</span><span class="sxs-lookup"><span data-stu-id="c2d5b-161">For information about how to set these properties in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, see [Set the Properties of a Task or Container](../set-the-properties-of-a-task-or-container.md).</span></span>  
  
 <span data-ttu-id="c2d5b-162">Pour plus d’informations sur la définition de ces propriétés par programmation, consultez <xref:Microsoft.SqlServer.Dts.Tasks.FtpTask.FtpTask>.</span><span class="sxs-lookup"><span data-stu-id="c2d5b-162">For more information about programmatically setting these properties, see <xref:Microsoft.SqlServer.Dts.Tasks.FtpTask.FtpTask>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c2d5b-163">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c2d5b-163">See Also</span></span>  
 <span data-ttu-id="c2d5b-164">[Éditeur de tâche FTP &#40;page général&#41;](../general-page-of-integration-services-designers-options.md) </span><span class="sxs-lookup"><span data-stu-id="c2d5b-164">[FTP Task Editor &#40;General Page&#41;](../general-page-of-integration-services-designers-options.md) </span></span>  
 <span data-ttu-id="c2d5b-165">[Éditeur de tâche FTP &#40;page transfert de fichiers&#41;](../ftp-task-editor-file-transfer-page.md) </span><span class="sxs-lookup"><span data-stu-id="c2d5b-165">[FTP Task Editor &#40;File Transfer Page&#41;](../ftp-task-editor-file-transfer-page.md) </span></span>  
 <span data-ttu-id="c2d5b-166">[Tâches Integration Services](integration-services-tasks.md) </span><span class="sxs-lookup"><span data-stu-id="c2d5b-166">[Integration Services Tasks](integration-services-tasks.md) </span></span>  
 [<span data-ttu-id="c2d5b-167">Flux de contrôle</span><span class="sxs-lookup"><span data-stu-id="c2d5b-167">Control Flow</span></span>](control-flow.md)  
  
  
