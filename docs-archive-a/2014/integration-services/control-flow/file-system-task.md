---
title: Système de fichiers, tâche | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.filesystemtask.f1
helpviewer_keywords:
- File System task [Integration Services]
ms.assetid: 7dd79a6a-e066-4028-a385-1d40f31056f8
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 3ce3d31ceb720704fb61c33043a4c7319607caff
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87600197"
---
# <a name="file-system-task"></a><span data-ttu-id="13142-102">Tâches du système de fichiers</span><span class="sxs-lookup"><span data-stu-id="13142-102">File System Task</span></span>
  <span data-ttu-id="13142-103">La tâche de système de fichiers effectue des opérations sur les fichiers et les répertoires du système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="13142-103">The File System task performs operations on files and directories in the file system.</span></span> <span data-ttu-id="13142-104">Par exemple, à l'aide de la tâche de système de fichiers, un package peut créer, déplacer ou supprimer des répertoires et des fichiers.</span><span class="sxs-lookup"><span data-stu-id="13142-104">For example, by using the File System task, a package can create, move, or delete directories and files.</span></span> <span data-ttu-id="13142-105">Vous pouvez également utiliser la tâche de système de fichiers pour définir les attributs des fichiers et des répertoires.</span><span class="sxs-lookup"><span data-stu-id="13142-105">You can also use the File System task to set attributes on files and directories.</span></span> <span data-ttu-id="13142-106">Par exemple, la tâche de système de fichiers peut rendre les fichiers cachés ou accessibles en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="13142-106">For example, the File System task can make files hidden or read-only.</span></span>  
  
 <span data-ttu-id="13142-107">Toutes les opérations de la tâche de système de fichiers utilisent une source, qui peut être un fichier ou un répertoire.</span><span class="sxs-lookup"><span data-stu-id="13142-107">All File System task operations use a source, which can be a file or a directory.</span></span> <span data-ttu-id="13142-108">Par exemple, le fichier que la tâche copie, ou le répertoire qu'elle supprime, est une source.</span><span class="sxs-lookup"><span data-stu-id="13142-108">For example, the file that the task copies or the directory it deletes is a source.</span></span> <span data-ttu-id="13142-109">La source peut être spécifiée à l'aide d'un gestionnaire de connexions de fichiers qui pointe vers le répertoire ou vers le fichier, ou à l'aide du nom d'une variable qui contient le chemin d'accès source.</span><span class="sxs-lookup"><span data-stu-id="13142-109">The source can be specified by using a File connection manager that points to the directory or file or by providing the name of a variable that contains the source path.</span></span> <span data-ttu-id="13142-110">Pour plus d’informations, consultez [Gestionnaire de connexions de fichiers](../connection-manager/file-connection-manager.md) et [Variables Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="13142-110">For more information, see [File Connection Manager](../connection-manager/file-connection-manager.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>  
  
 <span data-ttu-id="13142-111">Les opérations qui copient et déplacent les fichiers et les répertoires, et qui renomment les fichiers, utilisent une destination et une source.</span><span class="sxs-lookup"><span data-stu-id="13142-111">The operations that copy and move file and directories and rename files use a destination and a source.</span></span> <span data-ttu-id="13142-112">La destination est spécifiée à l'aide d'un gestionnaire de connexions de fichiers ou d'une variable.</span><span class="sxs-lookup"><span data-stu-id="13142-112">The destination is specified by using a File connection manager or a variable.</span></span> <span data-ttu-id="13142-113">Les opérations de la tâche de système de fichiers peuvent être configurées afin de permettre le remplacement des fichiers et des répertoires de destination.</span><span class="sxs-lookup"><span data-stu-id="13142-113">File system task operations can be configured to permit overwriting of destination files and directories.</span></span> <span data-ttu-id="13142-114">L'opération de création d'un nouveau répertoire peut être configurée de manière à utiliser un répertoire existant portant le nom spécifié au lieu d'échouer si le répertoire existe déjà.</span><span class="sxs-lookup"><span data-stu-id="13142-114">The operation that creates a new directory can be configured to use an existing directory that has the specified name instead of failing when the directory already exists.</span></span>  
  
## <a name="predefined-file-system-operations"></a><span data-ttu-id="13142-115">Opérations prédéfinies sur le système de fichiers</span><span class="sxs-lookup"><span data-stu-id="13142-115">Predefined File System Operations</span></span>  
 <span data-ttu-id="13142-116">La tâche de système de fichiers comprend un ensemble prédéfini d'opérations.</span><span class="sxs-lookup"><span data-stu-id="13142-116">The File System task includes a predefined set of operations.</span></span> <span data-ttu-id="13142-117">Le tableau suivant décrit ces opérations.</span><span class="sxs-lookup"><span data-stu-id="13142-117">The following table describes these operations.</span></span>  
  
|<span data-ttu-id="13142-118">Opération</span><span class="sxs-lookup"><span data-stu-id="13142-118">Operation</span></span>|<span data-ttu-id="13142-119">Description</span><span class="sxs-lookup"><span data-stu-id="13142-119">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="13142-120">Copier le répertoire</span><span class="sxs-lookup"><span data-stu-id="13142-120">Copy directory</span></span>|<span data-ttu-id="13142-121">Copie un dossier d'un emplacement à l'autre.</span><span class="sxs-lookup"><span data-stu-id="13142-121">Copies a folder from one location to another.</span></span>|  
|<span data-ttu-id="13142-122">Copier le fichier</span><span class="sxs-lookup"><span data-stu-id="13142-122">Copy file</span></span>|<span data-ttu-id="13142-123">Copie un fichier d'un emplacement à l'autre.</span><span class="sxs-lookup"><span data-stu-id="13142-123">Copies a file from one location to another.</span></span>|  
|<span data-ttu-id="13142-124">Créer un répertoire</span><span class="sxs-lookup"><span data-stu-id="13142-124">Create directory</span></span>|<span data-ttu-id="13142-125">Crée un dossier à un emplacement spécifié.</span><span class="sxs-lookup"><span data-stu-id="13142-125">Creates a folder in a specified location.</span></span>|  
|<span data-ttu-id="13142-126">Supprimer le répertoire</span><span class="sxs-lookup"><span data-stu-id="13142-126">Delete directory</span></span>|<span data-ttu-id="13142-127">Supprime un dossier à un emplacement spécifié.</span><span class="sxs-lookup"><span data-stu-id="13142-127">Deletes a folder in a specified location.</span></span>|  
|<span data-ttu-id="13142-128">Supprimer le contenu du répertoire</span><span class="sxs-lookup"><span data-stu-id="13142-128">Delete directory content</span></span>|<span data-ttu-id="13142-129">Supprime la totalité des fichiers et des dossiers d'un dossier.</span><span class="sxs-lookup"><span data-stu-id="13142-129">Deletes all files and folders in a folder.</span></span>|  
|<span data-ttu-id="13142-130">Supprimer le fichier</span><span class="sxs-lookup"><span data-stu-id="13142-130">Delete file</span></span>|<span data-ttu-id="13142-131">Supprime un fichier à un emplacement spécifié.</span><span class="sxs-lookup"><span data-stu-id="13142-131">Deletes a file in a specified location.</span></span>|  
|<span data-ttu-id="13142-132">Déplacer le répertoire</span><span class="sxs-lookup"><span data-stu-id="13142-132">Move directory</span></span>|<span data-ttu-id="13142-133">Déplace un dossier d'un emplacement à l'autre.</span><span class="sxs-lookup"><span data-stu-id="13142-133">Moves a folder from one location to another.</span></span>|  
|<span data-ttu-id="13142-134">Déplacer le fichier</span><span class="sxs-lookup"><span data-stu-id="13142-134">Move file</span></span>|<span data-ttu-id="13142-135">Déplace un fichier d'un emplacement à l'autre.</span><span class="sxs-lookup"><span data-stu-id="13142-135">Moves a file from one location to another.</span></span>|  
|<span data-ttu-id="13142-136">Renommer le fichier</span><span class="sxs-lookup"><span data-stu-id="13142-136">Rename file</span></span>|<span data-ttu-id="13142-137">Renomme un fichier à un emplacement spécifié.</span><span class="sxs-lookup"><span data-stu-id="13142-137">Renames a file in a specified location.</span></span>|  
|<span data-ttu-id="13142-138">Définir des attributs</span><span class="sxs-lookup"><span data-stu-id="13142-138">Set attributes</span></span>|<span data-ttu-id="13142-139">Définit les attributs des fichiers et des dossiers.</span><span class="sxs-lookup"><span data-stu-id="13142-139">Sets attributes on files and folders.</span></span> <span data-ttu-id="13142-140">Les attributs sont Archive, Caché, Normal, Lecture seule et Système.</span><span class="sxs-lookup"><span data-stu-id="13142-140">Attributes include Archive, Hidden, Normal, ReadOnly, and System.</span></span> <span data-ttu-id="13142-141">L'option Normal indique l'absence d'attributs et ne peut pas être combinée avec les autres attributs.</span><span class="sxs-lookup"><span data-stu-id="13142-141">Normal is the lack of attributes, and it cannot be combined with other attributes.</span></span> <span data-ttu-id="13142-142">Vous pouvez combiner tous les autres attributs.</span><span class="sxs-lookup"><span data-stu-id="13142-142">All other attributes can be used in combination.</span></span>|  
  
 <span data-ttu-id="13142-143">La tâche de système de fichiers s'exécute sur un seul fichier ou répertoire.</span><span class="sxs-lookup"><span data-stu-id="13142-143">The File System task operates on a single file or directory.</span></span> <span data-ttu-id="13142-144">Cette tâche ne prend donc pas en charge l'utilisation de caractères génériques pour effectuer la même opération sur plusieurs fichiers.</span><span class="sxs-lookup"><span data-stu-id="13142-144">Therefore, this task does not support the use of wildcard characters to perform the same operation on multiple files.</span></span> <span data-ttu-id="13142-145">Pour que la tâche de système de fichiers répète une même opération sur plusieurs fichiers ou répertoires, mettez la tâche de système de fichiers dans un conteneur de boucles Foreach, comme décrit dans les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="13142-145">To have the File System task repeat an operation on multiple files or directories, put the File System task in a Foreach Loop container, as described in the following steps:</span></span>  
  
-   <span data-ttu-id="13142-146">**Configuration du conteneur de boucles Foreach** : dans la page **Collection** de l’Éditeur de boucle Foreach, définissez l’énumérateur sur **Énumérateur Foreach File** et entrez l’expression générique comme configuration d’énumérateur pour **Fichiers**.</span><span class="sxs-lookup"><span data-stu-id="13142-146">**Configure the Foreach Loop container** On the **Collection** page of the Foreach Loop Editor, set the enumerator to **Foreach File Enumerator** and enter the wildcard expression as the enumerator configuration for **Files**.</span></span> <span data-ttu-id="13142-147">Dans la page **Mappage de variables** de l’Éditeur de boucle Foreach, mappez la variable que vous voulez utiliser pour transmettre un par un les noms de fichiers à la tâche de système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="13142-147">On the **Variable Mappings** page of the Foreach Loop Editor, map a variable that you want to use to pass the file names one at a time to the File System task.</span></span>  
  
-   <span data-ttu-id="13142-148">**Ajout et configuration d’une tâche de système de fichiers** : ajoutez une tâche de système de fichiers au conteneur de boucles Foreach.</span><span class="sxs-lookup"><span data-stu-id="13142-148">**Add and configure a File System task** Add a File System task to the Foreach Loop container.</span></span> <span data-ttu-id="13142-149">Dans la page **Général** de l’Éditeur de tâche de système de fichiers, affectez à la propriété **SourceVariable** ou **DestinationVariable** la variable que vous avez définie dans le conteneur de boucles Foreach.</span><span class="sxs-lookup"><span data-stu-id="13142-149">On the **General** page of the File System Task Editor, set the **SourceVariable** or **DestinationVariable** property to the variable that you defined in the Foreach Loop container.</span></span>  
  
## <a name="custom-log-entries-available-on-the-file-system-task"></a><span data-ttu-id="13142-150">Entrées de journal personnalisées disponibles dans la tâche de système de fichiers</span><span class="sxs-lookup"><span data-stu-id="13142-150">Custom Log Entries Available on the File System Task</span></span>  
 <span data-ttu-id="13142-151">Le tableau suivant décrit l'entrée de journal personnalisée pour la tâche de système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="13142-151">The following table describes the custom log entry for the File System task.</span></span> <span data-ttu-id="13142-152">Pour plus d’informations, consultez [Journalisation d’Integration Services &#40;SSIS&#41;](../performance/integration-services-ssis-logging.md) et [Messages personnalisés pour la journalisation](../custom-messages-for-logging.md).</span><span class="sxs-lookup"><span data-stu-id="13142-152">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="13142-153">Entrée du journal</span><span class="sxs-lookup"><span data-stu-id="13142-153">Log entry</span></span>|<span data-ttu-id="13142-154">Description</span><span class="sxs-lookup"><span data-stu-id="13142-154">Description</span></span>|  
|---------------|-----------------|  
|`FileSystemOperation`|<span data-ttu-id="13142-155">Indique l'opération que la tâche effectue.</span><span class="sxs-lookup"><span data-stu-id="13142-155">Reports the operation that the task performs.</span></span> <span data-ttu-id="13142-156">L'entrée de journal est écrite au démarrage de l'opération du système de fichiers et inclut des informations sur la source et la destination.</span><span class="sxs-lookup"><span data-stu-id="13142-156">The log entry is written when the file system operation starts and includes information about the source and destination.</span></span>|  
  
## <a name="configuring-the-file-system-task"></a><span data-ttu-id="13142-157">Configuration de la tâche de système de fichiers</span><span class="sxs-lookup"><span data-stu-id="13142-157">Configuring the File System Task</span></span>  
 <span data-ttu-id="13142-158">Vous pouvez définir les propriétés par le biais du concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] ou par programmation.</span><span class="sxs-lookup"><span data-stu-id="13142-158">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="13142-159">Pour plus d'informations sur les propriétés définissables dans le concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] , consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="13142-159">For more information about the properties that you can set in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, see the following topics:</span></span>  
  
-   [<span data-ttu-id="13142-160">Éditeur de tâche de système de fichiers &#40;page Général&#41;</span><span class="sxs-lookup"><span data-stu-id="13142-160">File System Task Editor &#40;General Page&#41;</span></span>](../general-page-of-integration-services-designers-options.md)  
  
-   [<span data-ttu-id="13142-161">Page Expressions</span><span class="sxs-lookup"><span data-stu-id="13142-161">Expressions Page</span></span>](../expressions/expressions-page.md)  
  
 <span data-ttu-id="13142-162">Pour plus d’informations sur la définition de ces propriétés dans le concepteur [!INCLUDE[ssIS](../../includes/ssis-md.md)] , consultez la rubrique suivante :</span><span class="sxs-lookup"><span data-stu-id="13142-162">For more information about how to set these properties in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, see the following topic:</span></span>  
  
-   [<span data-ttu-id="13142-163">Définir les propriétés d'une tâche ou d'un conteneur</span><span class="sxs-lookup"><span data-stu-id="13142-163">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
 <span data-ttu-id="13142-164">Pour plus d'informations sur la définition par programmation de ces propriétés, consultez la rubrique suivante :</span><span class="sxs-lookup"><span data-stu-id="13142-164">For more information about how to set these properties programmatically, see the following topic:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.FileSystemTask.FileSystemTask>  
  
## <a name="related-tasks"></a><span data-ttu-id="13142-165">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="13142-165">Related Tasks</span></span>  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="13142-166">comprend une tâche qui télécharge et charge les fichiers de données et gère les répertoires sur les serveurs.</span><span class="sxs-lookup"><span data-stu-id="13142-166">includes a task that downloads and uploads data files and manages directories on servers.</span></span> <span data-ttu-id="13142-167">Pour plus d’informations, consultez [Tâche FTP](ftp-task.md).</span><span class="sxs-lookup"><span data-stu-id="13142-167">For more information, see [FTP Task](ftp-task.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="13142-168">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="13142-168">See Also</span></span>  
 <span data-ttu-id="13142-169">[Tâches Integration Services](integration-services-tasks.md) </span><span class="sxs-lookup"><span data-stu-id="13142-169">[Integration Services Tasks](integration-services-tasks.md) </span></span>  
 [<span data-ttu-id="13142-170">Flux de contrôle</span><span class="sxs-lookup"><span data-stu-id="13142-170">Control Flow</span></span>](control-flow.md)  
  
  
