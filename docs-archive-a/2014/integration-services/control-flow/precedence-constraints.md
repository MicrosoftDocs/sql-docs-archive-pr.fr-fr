---
title: Contraintes de précédence | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- tasks [Integration Services], precedence constraints
- control flow [Integration Services], precedence constraints
- precedence constraints [Integration Services]
- constraints [Integration Services]
- sequence execution options [Integration Services]
- containers [Integration Services], precedence constraints
ms.assetid: c5ce5435-fd89-4156-a11f-68470a69aa9f
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 7a08fd1d66e43ede4c54284518bab191be8997a4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87611215"
---
# <a name="precedence-constraints"></a><span data-ttu-id="9f71d-102">Contraintes de précédence</span><span class="sxs-lookup"><span data-stu-id="9f71d-102">Precedence Constraints</span></span>
  <span data-ttu-id="9f71d-103">Les contraintes de précédence lient les exécutables, les conteneurs et les tâches des packages dans un flux de contrôle et spécifient les conditions qui déterminent si les exécutables s'exécutent.</span><span class="sxs-lookup"><span data-stu-id="9f71d-103">Precedence constraints link executables, containers, and tasks in packages in a control flow, and specify conditions that determine whether executables run.</span></span> <span data-ttu-id="9f71d-104">Un exécutable peut être une boucle For, une boucle Foreach, un conteneur de séquence, une tâche ou un gestionnaire d'événement.</span><span class="sxs-lookup"><span data-stu-id="9f71d-104">An executable can be a For Loop, Foreach Loop, or Sequence container; a task; or an event handler.</span></span> <span data-ttu-id="9f71d-105">Les gestionnaires d'événements utilisent également les contraintes de précédence pour lier leurs exécutables dans un flux de contrôle.</span><span class="sxs-lookup"><span data-stu-id="9f71d-105">Event handlers also use precedence constraints to link their executables into a control flow.</span></span>

 <span data-ttu-id="9f71d-106">Une contrainte de précédence lie deux exécutables : l'exécutable de précédence et l'exécutable contraint.</span><span class="sxs-lookup"><span data-stu-id="9f71d-106">A precedence constraint links two executables: the precedence executable and the constrained executable.</span></span> <span data-ttu-id="9f71d-107">L'exécutable de précédence s'exécute avant l'exécutable contraint et le résultat de l'exécution de l'exécutable de précédence peut déterminer si l'exécutable contraint s'exécute.</span><span class="sxs-lookup"><span data-stu-id="9f71d-107">The precedence executable runs before the constrained executable, and the execution result of the precedence executable may determine whether the constrained executable runs.</span></span> <span data-ttu-id="9f71d-108">Le schéma suivant illustre deux exécutables liés par une contrainte de précédence.</span><span class="sxs-lookup"><span data-stu-id="9f71d-108">The following diagram shows two executables linked by a precedence constraint.</span></span>

 <span data-ttu-id="9f71d-109">![Exécutables connectés par le biais d’une contrainte de précédence](../media/ssis-pcsimple.gif "Exécutables connectés par le biais d’une contrainte de précédence")</span><span class="sxs-lookup"><span data-stu-id="9f71d-109">![Executables connected by a precedence constraint](../media/ssis-pcsimple.gif "Executables connected by a precedence constraint")</span></span>

 <span data-ttu-id="9f71d-110">Dans un flux de contrôle linéaire, c'est-à-dire sans branchement, les contraintes de précédence déterminent à elles seules la séquence d'exécution des tâches.</span><span class="sxs-lookup"><span data-stu-id="9f71d-110">In a linear control flow, that is, one without branching, precedence constraints alone govern the sequence in which tasks run.</span></span> <span data-ttu-id="9f71d-111">Dans un flux de contrôle avec branchements, le moteur d'exécution [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] détermine l'ordre d'exécution des tâches et des conteneurs qui suivent immédiatement le branchement.</span><span class="sxs-lookup"><span data-stu-id="9f71d-111">If a control flow branches, the [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] run-time engine determines the execution order among the tasks and containers that immediately follow the branching.</span></span> <span data-ttu-id="9f71d-112">Le moteur d'exécution détermine également l'ordre d'exécution des flux de travail non connectés dans un flux de contrôle.</span><span class="sxs-lookup"><span data-stu-id="9f71d-112">The run-time engine also determines execution order among unconnected workflows in a control flow.</span></span>

 <span data-ttu-id="9f71d-113">L'architecture à conteneurs imbriqués d' [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] permet à tous les conteneurs (à l'exception du conteneur d'hôte de tâche qui encapsule une seule tâche) d'inclure d'autres conteneurs, chacun avec son propre flux de contrôle.</span><span class="sxs-lookup"><span data-stu-id="9f71d-113">The nested-container architecture of [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] enables all containers, except for the task host container that encapsulates only a single task, to include other containers, each with its own control flow.</span></span> <span data-ttu-id="9f71d-114">Les conteneurs de boucles For, de boucles Foreach et de séquence peuvent inclure plusieurs tâches et d'autres conteneurs, qui à leur tour peuvent inclure plusieurs tâches et conteneurs.</span><span class="sxs-lookup"><span data-stu-id="9f71d-114">The For Loop, Foreach Loop, and Sequence containers can include multiple tasks and other containers, which in turn can include multiple tasks and containers.</span></span> <span data-ttu-id="9f71d-115">Par exemple, un package avec une tâche de script et un conteneur de séquence possède une contrainte de précédence qui lie la tâche de script et le conteneur de séquence.</span><span class="sxs-lookup"><span data-stu-id="9f71d-115">For example, a package with a Script task and a Sequence container has a precedence constraint that links the Script task and the Sequence container.</span></span> <span data-ttu-id="9f71d-116">Le conteneur de séquence contient trois tâches de script et ses contraintes de précédence lient les trois tâches de script dans un flux de contrôle.</span><span class="sxs-lookup"><span data-stu-id="9f71d-116">The Sequence container includes three Script tasks, and its precedence constraints link the three Script tasks into a control flow.</span></span> <span data-ttu-id="9f71d-117">Le schéma suivant illustre les contraintes de précédence dans un package avec deux niveaux d'imbrication.</span><span class="sxs-lookup"><span data-stu-id="9f71d-117">The following diagram shows the precedence constraints in a package with two levels of nesting.</span></span>

 <span data-ttu-id="9f71d-118">![Contraintes de précédence dans un package](../media/mw-dts-12.gif "Contraintes de précédence dans un package")</span><span class="sxs-lookup"><span data-stu-id="9f71d-118">![Precedence contraints in a package](../media/mw-dts-12.gif "Precedence contraints in a package")</span></span>

 <span data-ttu-id="9f71d-119">Le package étant situé au sommet de la hiérarchie de conteneurs [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , plusieurs packages ne peuvent pas être liés par des contraintes de précédence ; toutefois, vous pouvez ajouter une tâche d’exécution de package à un package et lier indirectement un autre package au flux de contrôle.</span><span class="sxs-lookup"><span data-stu-id="9f71d-119">Because the package is at the top of the [!INCLUDE[ssIS](../../../includes/ssis-md.md)] container hierarchy, multiple packages cannot be linked by precedence constraints; however, you can add an Execute Package task to a package and indirectly link another package into the control flow.</span></span>

 <span data-ttu-id="9f71d-120">Vous pouvez configurer des contraintes de précédence de plusieurs manières :</span><span class="sxs-lookup"><span data-stu-id="9f71d-120">You can configure precedence constraints in the following ways:</span></span>

-   <span data-ttu-id="9f71d-121">Spécifiez une opération d'évaluation.</span><span class="sxs-lookup"><span data-stu-id="9f71d-121">Specify an evaluation operation.</span></span> <span data-ttu-id="9f71d-122">La contrainte d'évaluation utilise une valeur de contrainte, une expression ou les deux pour déterminer si l'exécutable contraint s'exécute.</span><span class="sxs-lookup"><span data-stu-id="9f71d-122">The precedence constraint uses a constraint value, an expression, both, or either to determine whether the constrained executable runs.</span></span>

-   <span data-ttu-id="9f71d-123">Si la contrainte de précédence utilise un résultat d'exécution, vous pouvez spécifier le résultat d'exécution comme étant un succès, un échec ou à l'achèvement.</span><span class="sxs-lookup"><span data-stu-id="9f71d-123">If the precedence constraint uses an execution result, you can specify the execution result to be success, failure, or completion.</span></span>

-   <span data-ttu-id="9f71d-124">Si la contrainte de précédence utilise un résultat d'évaluation, vous pouvez fournir une expression qui correspond à une valeur booléenne.</span><span class="sxs-lookup"><span data-stu-id="9f71d-124">If the precedence constraint uses an evaluation result, you can provide an expression that evaluates to a Boolean.</span></span>

-   <span data-ttu-id="9f71d-125">Spécifiez si la contrainte de précédence est évaluée seule ou avec d'autres contraintes qui s'appliquent à l'exécutable contraint.</span><span class="sxs-lookup"><span data-stu-id="9f71d-125">Specify whether the precedence constraint is evaluated singly or together with other constraints that apply to the constrained executable.</span></span>

## <a name="evaluation-operations"></a><span data-ttu-id="9f71d-126">Opérations d'évaluation</span><span class="sxs-lookup"><span data-stu-id="9f71d-126">Evaluation Operations</span></span>
 [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] <span data-ttu-id="9f71d-127">offre les opérations d’évaluation suivantes :</span><span class="sxs-lookup"><span data-stu-id="9f71d-127">provides the following evaluation operations:</span></span>

-   <span data-ttu-id="9f71d-128">Une contrainte qui utilise uniquement le résultat d'exécution de l'exécutable de précédence pour déterminer si l'exécutable contraint s'exécute.</span><span class="sxs-lookup"><span data-stu-id="9f71d-128">A constraint that uses only the execution result of the precedence executable to determine whether the constrained executable runs.</span></span> <span data-ttu-id="9f71d-129">Le résultat d'exécution de l'exécutable de précédence peut être achèvement, réussite ou échec.</span><span class="sxs-lookup"><span data-stu-id="9f71d-129">The execution result of the precedence executable can be completion, success, or failure.</span></span> <span data-ttu-id="9f71d-130">Il s'agit de l'opération par défaut.</span><span class="sxs-lookup"><span data-stu-id="9f71d-130">This is the default operation.</span></span>

-   <span data-ttu-id="9f71d-131">Une expression qui est évaluée pour déterminer si l'exécutable contraint s'exécute.</span><span class="sxs-lookup"><span data-stu-id="9f71d-131">An expression that is evaluated to determine whether the constrained executable runs.</span></span> <span data-ttu-id="9f71d-132">Si le résultat de l'évaluation est true, l'exécutable contraint s'exécute.</span><span class="sxs-lookup"><span data-stu-id="9f71d-132">If the expression evaluates to true, the constrained executable runs.</span></span>

-   <span data-ttu-id="9f71d-133">Une expression et une contrainte qui allient les exigences des résultats d'exécution de l'exécutable de précédence et les résultats de retour de l'évaluation de l'expression.</span><span class="sxs-lookup"><span data-stu-id="9f71d-133">An expression and a constraint that combines the requirements of execution results of the precedence executable and the return results of evaluating the expression.</span></span>

-   <span data-ttu-id="9f71d-134">Une expression ou une contrainte qui utilisent les résultats d'exécution de l'exécutable de précédence ou les résultats de retour de l'évaluation de l'expression.</span><span class="sxs-lookup"><span data-stu-id="9f71d-134">An expression or a constraint that uses either the execution results of the precedence executable or the return results of evaluating the expression.</span></span>

 [!INCLUDE[ssIS](../../../includes/ssis-md.md)] <span data-ttu-id="9f71d-135">Le Concepteur utilise une couleur pour identifier le type de contrainte de précédence.</span><span class="sxs-lookup"><span data-stu-id="9f71d-135">Designer uses color to identify the type of precedence constraint.</span></span> <span data-ttu-id="9f71d-136">La contrainte Success (réussite) est verte, la contrainte Failure (échec) est rouge et la contrainte Completion (fin) est bleue.</span><span class="sxs-lookup"><span data-stu-id="9f71d-136">The Success constraint is green, the Failure constraint is red, and the Completion constraint is blue.</span></span> <span data-ttu-id="9f71d-137">Pour afficher les étiquettes de texte indiquant le type de contrainte dans le concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , vous devez configurer les fonctionnalités d’accessibilité du Concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="9f71d-137">To display text labels in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] designer that show the type of the constraint, you must configure the accessibility features of [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer.</span></span>

 <span data-ttu-id="9f71d-138">L’expression doit être une expression [!INCLUDE[ssIS](../../../includes/ssis-md.md)] valide et elle peut inclure des fonctions, des opérateurs, et des variables système et personnalisées.</span><span class="sxs-lookup"><span data-stu-id="9f71d-138">The expression must be a valid [!INCLUDE[ssIS](../../../includes/ssis-md.md)] expression, and it can include functions, operators, and system and custom variables.</span></span> <span data-ttu-id="9f71d-139">Pour plus d’informations, consultez [Expressions Integration Services &#40;SSIS&#41; ](../expressions/integration-services-ssis-expressions.md) et [Variables Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="9f71d-139">For more information, see [Integration Services &#40;SSIS&#41; Expressions](../expressions/integration-services-ssis-expressions.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>

## <a name="execution-results"></a><span data-ttu-id="9f71d-140">Résultats d'exécution</span><span class="sxs-lookup"><span data-stu-id="9f71d-140">Execution Results</span></span>
 <span data-ttu-id="9f71d-141">La contrainte de précédence peut utiliser les résultats d'exécution suivants seuls ou avec une expression.</span><span class="sxs-lookup"><span data-stu-id="9f71d-141">The precedence constraint can use the following execution results alone or in combination with an expression.</span></span>

-   <span data-ttu-id="9f71d-142">L'achèvement requiert uniquement que l'exécutable de précédence soit terminé, quel que soit le résultat, pour que l'exécutable contraint s'exécute.</span><span class="sxs-lookup"><span data-stu-id="9f71d-142">Completion requires only that the precedence executable has completed, without regard to outcome, in order for the constrained executable to run.</span></span>

-   <span data-ttu-id="9f71d-143">Le succès requiert que l'exécutable de précédence se termine avec succès pour que l'exécutable contraint s'exécute.</span><span class="sxs-lookup"><span data-stu-id="9f71d-143">Success requires that the precedence executable must complete successfully for the constrained executable to run.</span></span>

-   <span data-ttu-id="9f71d-144">L'échec requiert que l'exécutable de précédence échoue pour que l'exécutable contraint s'exécute.</span><span class="sxs-lookup"><span data-stu-id="9f71d-144">Failure requires that the precedence executable fail for the constrained executable to run.</span></span>

> [!NOTE]
>  <span data-ttu-id="9f71d-145">Seules les contraintes de précédence membres de la même collection `Precedence Constraint` peuvent être groupées dans une condition AND logique.</span><span class="sxs-lookup"><span data-stu-id="9f71d-145">Only precedence constraints that are members of the same `Precedence Constraint` collection can be grouped in a logical AND condition.</span></span> <span data-ttu-id="9f71d-146">Par exemple, vous ne pouvez pas combiner des contraintes de précédence à partir de deux conteneurs de boucles Foreach.</span><span class="sxs-lookup"><span data-stu-id="9f71d-146">For example, you cannot combine precedence constraints from two Foreach Loop containers.</span></span>

## <a name="configuration-of-the-precedence-constraint"></a><span data-ttu-id="9f71d-147">Configuration de la contrainte de précédence</span><span class="sxs-lookup"><span data-stu-id="9f71d-147">Configuration of the Precedence Constraint</span></span>
 <span data-ttu-id="9f71d-148">Vous pouvez définir les propriétés par le biais du concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] ou par programmation.</span><span class="sxs-lookup"><span data-stu-id="9f71d-148">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>

 <span data-ttu-id="9f71d-149">Pour plus d’informations sur les propriétés que vous pouvez définir dans le Concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , consultez [Éditeur de contrainte de précédence](../precedence-constraint-editor.md).</span><span class="sxs-lookup"><span data-stu-id="9f71d-149">For information about the properties that you can set in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, see [Precedence Constraint Editor](../precedence-constraint-editor.md).</span></span>

 <span data-ttu-id="9f71d-150">Pour plus d’informations sur la définition par programmation de ces propriétés, consultez <xref:Microsoft.SqlServer.Dts.Runtime.PrecedenceConstraint>.</span><span class="sxs-lookup"><span data-stu-id="9f71d-150">For information about programmatically setting these properties, see <xref:Microsoft.SqlServer.Dts.Runtime.PrecedenceConstraint>.</span></span>

## <a name="related-tasks"></a><span data-ttu-id="9f71d-151">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="9f71d-151">Related Tasks</span></span>
 <span data-ttu-id="9f71d-152">Pour plus d'informations sur la définition de ces propriétés dans le concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="9f71d-152">For details about how to set these properties in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>

-   [<span data-ttu-id="9f71d-153">Définir les propriétés d'une contrainte de précédence</span><span class="sxs-lookup"><span data-stu-id="9f71d-153">Set the Properties of a Precedence Constraint</span></span>](../set-the-properties-of-a-precedence-constraint.md)

-   [<span data-ttu-id="9f71d-154">Définir la valeur d'une contrainte de précédence à l'aide du menu contextuel</span><span class="sxs-lookup"><span data-stu-id="9f71d-154">Set the Value of a Precedence Constraint by Using the Shortcut Menu</span></span>](../set-the-value-of-a-precedence-constraint-by-using-the-shortcut-menu.md)

-   [<span data-ttu-id="9f71d-155">Connecter des tâches et des conteneurs à l’aide d’une contrainte de précédence par défaut</span><span class="sxs-lookup"><span data-stu-id="9f71d-155">Connect Tasks and Containers by Using a Default Precedence Constraint</span></span>](../connect-tasks-and-containers-by-using-a-default-precedence-constraint.md)

     <span data-ttu-id="9f71d-156">Cette rubrique fournit des informations sur la définition du comportement par défaut des contraintes de précédence et sur la connexion d'exécutables à l'aide de contraintes de précédence par défaut.</span><span class="sxs-lookup"><span data-stu-id="9f71d-156">This topic provides information on how to set the default behavior for precedence constraints, and how to connect executables using the default precedence constraints, see.</span></span>

## <a name="related-content"></a><span data-ttu-id="9f71d-157">Contenu associé</span><span class="sxs-lookup"><span data-stu-id="9f71d-157">Related Content</span></span>
 <span data-ttu-id="9f71d-158">Article technique, [SSIS Expression Examples](https://go.microsoft.com/fwlink/?LinkId=220761), sur social.technet.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="9f71d-158">Technical article, [SSIS Expression Examples](https://go.microsoft.com/fwlink/?LinkId=220761), on social.technet.microsoft.com</span></span>

## <a name="see-also"></a><span data-ttu-id="9f71d-159">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="9f71d-159">See Also</span></span>
 <span data-ttu-id="9f71d-160">[Ajouter des expressions aux contraintes de précédence](../add-expressions-to-precedence-constraints.md) [plusieurs contraintes de précédence](../multiple-precedence-constraints.md)</span><span class="sxs-lookup"><span data-stu-id="9f71d-160">[Add Expressions to Precedence Constraints](../add-expressions-to-precedence-constraints.md) [Multiple Precedence Constraints](../multiple-precedence-constraints.md)</span></span>


