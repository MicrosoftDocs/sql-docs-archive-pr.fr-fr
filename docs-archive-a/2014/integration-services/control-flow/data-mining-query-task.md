---
title: Requête d’exploration de données, tâche | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.dataminingquerytask.f1
helpviewer_keywords:
- prediction queries [Integration Services]
- Data Mining Query task [Integration Services]
ms.assetid: f489348c-2008-4f66-8c2c-c07c3029439a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6bb3cea630401f92395e2ca4416c03bcd870c881
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87610810"
---
# <a name="data-mining-query-task"></a><span data-ttu-id="a68c6-102">Data Mining Query Task</span><span class="sxs-lookup"><span data-stu-id="a68c6-102">Data Mining Query Task</span></span>
  <span data-ttu-id="a68c6-103">La tâche de requête d'exploration de données exécute des requêtes de prédiction basées sur les modèles d'exploration de données intégrés à [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a68c6-103">The Data Mining Query task runs prediction queries based on data mining models built in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="a68c6-104">La requête de prédiction crée une prédiction de nouvelles données à l'aide de modèles d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="a68c6-104">The prediction query creates a prediction for new data by using mining models.</span></span> <span data-ttu-id="a68c6-105">Par exemple, une requête de prédiction peut prédire le nombre de voiliers susceptibles d'être vendus pendant les mois d'été ou générer la liste des prospects susceptibles d'acheter un voilier.</span><span class="sxs-lookup"><span data-stu-id="a68c6-105">For example, a prediction query can predict how many sailboats are likely to sell during the summer months or generate a list of prospective customers who are likely to buy a sailboat.</span></span>  
  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="a68c6-106">met à votre disposition des tâches qui effectuent d’autres opérations Business Intelligence, telles que l’exécution d’instructions DDL (Data Definition Language) et le traitement d’objets analytiques.</span><span class="sxs-lookup"><span data-stu-id="a68c6-106">provides tasks that perform other business intelligence operations, such as running Data Definition Language (DDL) statements and processing analytic objects.</span></span>  
  
 <span data-ttu-id="a68c6-107">Pour plus d'informations sur les autres tâches Business Intelligence, cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="a68c6-107">For more information about other business intelligence tasks, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="a68c6-108">Tâche DDL d’exécution de SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="a68c6-108">Analysis Services Execute DDL Task</span></span>](analysis-services-execute-ddl-task.md)  
  
-   [<span data-ttu-id="a68c6-109">Tâche de traitement d’Analysis Services</span><span class="sxs-lookup"><span data-stu-id="a68c6-109">Analysis Services Processing Task</span></span>](analysis-services-processing-task.md)  
  
## <a name="prediction-queries"></a><span data-ttu-id="a68c6-110">Requêtes de prédiction</span><span class="sxs-lookup"><span data-stu-id="a68c6-110">Prediction Queries</span></span>  
 <span data-ttu-id="a68c6-111">La requête est une instruction DMX (Data Mining Extensions).</span><span class="sxs-lookup"><span data-stu-id="a68c6-111">The query is a Data Mining Extensions (DMX) statement.</span></span> <span data-ttu-id="a68c6-112">Le langage DMX est une extension du langage SQL qui prend en charge l'utilisation de modèles d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="a68c6-112">The DMX language is an extension of the SQL language that provides support for working with mining models.</span></span> <span data-ttu-id="a68c6-113">Pour plus d’informations sur l’utilisation du langage DMX, consultez [Guide de référence du langage DMX & #40;Data Mining Extensions&#41;](/sql/dmx/data-mining-extensions-dmx-reference).</span><span class="sxs-lookup"><span data-stu-id="a68c6-113">For more information about how to use the DMX language, see [Data Mining Extensions &#40;DMX&#41; Reference](/sql/dmx/data-mining-extensions-dmx-reference).</span></span>  
  
 <span data-ttu-id="a68c6-114">La tâche peut interroger plusieurs modèles d'exploration de données basés sur la même structure d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="a68c6-114">The task can query multiple mining models that are built on the same mining structure.</span></span> <span data-ttu-id="a68c6-115">Un modèle d'exploration de données est construit à partir de l'un des algorithmes d'exploration de données fournis par [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a68c6-115">A mining model is built using one of the data mining algorithms that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] provides.</span></span> <span data-ttu-id="a68c6-116">La structure d'exploration de données référencée par la tâche de requête d'exploration de données peut comprendre plusieurs modèles d'exploration de données, construits à partir de différents algorithmes.</span><span class="sxs-lookup"><span data-stu-id="a68c6-116">The mining structure that the Data Mining Query task references can include multiple mining models, built using different algorithms.</span></span> <span data-ttu-id="a68c6-117">Pour plus d’informations, consultez [Structures d’exploration de données &#40;Analysis Services - exploration de données&#41;](https://docs.microsoft.com/analysis-services/data-mining/mining-structures-analysis-services-data-mining) et [Algorithmes d’exploration de données &#40;Analysis Services - Exploration de données&#41;](https://docs.microsoft.com/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining).</span><span class="sxs-lookup"><span data-stu-id="a68c6-117">For more information, see [Mining Structures &#40;Analysis Services - Data Mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/mining-structures-analysis-services-data-mining) and [Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining).</span></span>  
  
 <span data-ttu-id="a68c6-118">La requête de prédiction exécutée par la tâche de requête d'exploration de données renvoie un résultat qui se présente sous la forme d'une seule ligne ou d'un ensemble de données.</span><span class="sxs-lookup"><span data-stu-id="a68c6-118">The prediction query that the Data Mining Query task runs returns a result that is a single row or a data set.</span></span> <span data-ttu-id="a68c6-119">Une requête qui ne retourne qu'une ligne est appelée « requête singleton » : par exemple, la requête qui prédit le nombre de voiliers susceptibles d'être vendus pendant les mois d'été retourne un nombre.</span><span class="sxs-lookup"><span data-stu-id="a68c6-119">A query that returns a single row is called a singleton query: for example, the query that predicts how many sailboats will be sold during the summer months returns a number.</span></span> <span data-ttu-id="a68c6-120">Pour plus d’informations sur les requêtes de prédiction qui retournent une seule ligne, consultez [interfaces de requête d’exploration de données](https://docs.microsoft.com/analysis-services/data-mining/data-mining-query-tools).</span><span class="sxs-lookup"><span data-stu-id="a68c6-120">For more information about prediction queries that return a single row, see [Data Mining Query Interfaces](https://docs.microsoft.com/analysis-services/data-mining/data-mining-query-tools).</span></span>  
  
 <span data-ttu-id="a68c6-121">Les résultats des requêtes sont enregistrés dans des tables.</span><span class="sxs-lookup"><span data-stu-id="a68c6-121">The query results are saved to tables.</span></span> <span data-ttu-id="a68c6-122">Si une table portant le nom spécifié par la tâche de requête d'exploration de données existe déjà, la tâche peut créer une nouvelle table à partir du même nom, auquel elle ajoute un nombre, ou bien remplacer le contenu de la table.</span><span class="sxs-lookup"><span data-stu-id="a68c6-122">If a table with the name that the Data Mining Query task specifies already exists, the task can create a new table, using the same name with a number appended, or it can overwrite the table content.</span></span>  
  
 <span data-ttu-id="a68c6-123">Si le résultat comprend une imbrication, elle est mise à plat avant d'être enregistrée.</span><span class="sxs-lookup"><span data-stu-id="a68c6-123">If the results include nesting, the result is flattened before it is saved.</span></span> <span data-ttu-id="a68c6-124">La mise à plat d'un résultat change en table un ensemble de résultats imbriqué.</span><span class="sxs-lookup"><span data-stu-id="a68c6-124">Flattening a result changes a nested result set to a table.</span></span> <span data-ttu-id="a68c6-125">Par exemple, la mise à plat d'un résultat imbriqué composé d'une colonne **Customer** et d'une colonne **Product** imbriquée ajoute des lignes à la colonne **Customer** afin de créer une table qui comprend les données de produit associées à chaque client.</span><span class="sxs-lookup"><span data-stu-id="a68c6-125">For example, flattening a nested result with a **Customer** column and a nested **Product** column adds rows to the **Customer** column to make a table that includes product data for each customer.</span></span> <span data-ttu-id="a68c6-126">Ainsi, dans le cas d'un client auquel sont associés trois produits différents, l'opération génère une table de trois lignes, contenant chacune le nom du client et un nom de produit différent.</span><span class="sxs-lookup"><span data-stu-id="a68c6-126">For example, a customer with three different products becomes a table with three rows, repeating the customer in each row and including a different product in each row.</span></span> <span data-ttu-id="a68c6-127">Si le mot clé FLATTENED est omis, la table ne contient que la colonne **Customer** et une seule ligne par client.</span><span class="sxs-lookup"><span data-stu-id="a68c6-127">If the FLATTENED keyword is omitted, the table contains only the **Customer** column and only one row per customer.</span></span> <span data-ttu-id="a68c6-128">Pour plus d’informations, consultez [SELECT &#40;DMX&#41;](/sql/dmx/select-dmx).</span><span class="sxs-lookup"><span data-stu-id="a68c6-128">For more information, see [SELECT &#40;DMX&#41;](/sql/dmx/select-dmx).</span></span>  
  
## <a name="configuration-of-the-data-mining-query-task"></a><span data-ttu-id="a68c6-129">Configuration de la tâche de requête d'exploration de données</span><span class="sxs-lookup"><span data-stu-id="a68c6-129">Configuration of the Data Mining Query Task</span></span>  
 <span data-ttu-id="a68c6-130">La tâche de requête d'exploration de données requiert deux connexions.</span><span class="sxs-lookup"><span data-stu-id="a68c6-130">The Data Mining Query task requires two connections.</span></span> <span data-ttu-id="a68c6-131">La première connexion est celle d’un gestionnaire de connexions [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] à une instance de [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ou à un projet [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] qui contient la structure et le modèle d’exploration de données.</span><span class="sxs-lookup"><span data-stu-id="a68c6-131">The first connection is an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] connection manager that connects either to an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project that contains the mining structure and the mining model.</span></span> <span data-ttu-id="a68c6-132">La seconde connexion est celle d'un gestionnaire de connexions OLE DB à la base de données [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui contient la table dans laquelle la tâche écrit les données.</span><span class="sxs-lookup"><span data-stu-id="a68c6-132">The second connection is an OLE DB connection manager that connects to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database that contains the table to which the task writes.</span></span> <span data-ttu-id="a68c6-133">Pour plus d'informations, consultez [Analysis Services Connection Manager](../connection-manager/analysis-services-connection-manager.md) et [OLE DB Connection Manager](../connection-manager/ole-db-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="a68c6-133">For more information, see [Analysis Services Connection Manager](../connection-manager/analysis-services-connection-manager.md) and [OLE DB Connection Manager](../connection-manager/ole-db-connection-manager.md).</span></span>  
  
 <span data-ttu-id="a68c6-134">Vous pouvez définir les propriétés par le biais du concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] ou par programmation.</span><span class="sxs-lookup"><span data-stu-id="a68c6-134">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="a68c6-135">Pour plus d'informations sur les propriétés définissables dans le concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="a68c6-135">For more information about the properties that you can set in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="a68c6-136">Éditeur de tâche de requête d’exploration de données &#40;onglet Modèle d’exploration de données&#41;</span><span class="sxs-lookup"><span data-stu-id="a68c6-136">Data Mining Query Task Editor &#40;Mining Model Tab&#41;</span></span>](../data-mining-query-task-editor-mining-model-tab.md)  
  
-   [<span data-ttu-id="a68c6-137">Éditeur de tâche de requête d’exploration de données &#40;onglet Requête&#41;</span><span class="sxs-lookup"><span data-stu-id="a68c6-137">Data Mining Query Task Editor &#40;Query Tab&#41;</span></span>](../data-mining-query-task-editor-query-tab.md)  
  
-   [<span data-ttu-id="a68c6-138">Éditeur de tâche de requête d’exploration de données &#40;onglet Sortie&#41;</span><span class="sxs-lookup"><span data-stu-id="a68c6-138">Data Mining Query Task Editor &#40;Output Tab&#41;</span></span>](../data-mining-query-task-editor-output-tab.md)  
  
> [!NOTE]  
>  <span data-ttu-id="a68c6-139">L'éditeur de tâche de requête d'exploration de données n'a pas de page Expressions.</span><span class="sxs-lookup"><span data-stu-id="a68c6-139">The Data Mining Query Editor has no Expressions page.</span></span> <span data-ttu-id="a68c6-140">À la place, utilisez la fenêtre **Propriétés** pour accéder aux outils de création et de gestion des expressions des propriétés de la tâche de requête d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="a68c6-140">Instead, use the **Properties** window to access the tools for creating and managing property expressions for properties of the Data Mining Query task.</span></span>  
  
 <span data-ttu-id="a68c6-141">Pour plus d'informations sur la définition de ces propriétés dans le concepteur [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , cliquez sur la rubrique suivante :</span><span class="sxs-lookup"><span data-stu-id="a68c6-141">For more information about how to set these properties in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click the following topic:</span></span>  
  
-   [<span data-ttu-id="a68c6-142">Définir les propriétés d'une tâche ou d'un conteneur</span><span class="sxs-lookup"><span data-stu-id="a68c6-142">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-data-mining-query-task"></a><span data-ttu-id="a68c6-143">Configuration par programmation de la tâche de requête d'exploration de données</span><span class="sxs-lookup"><span data-stu-id="a68c6-143">Programmatic Configuration of Data Mining Query Task</span></span>  
 <span data-ttu-id="a68c6-144">Pour plus d'informations sur la définition par programmation de ces propriétés, cliquez sur l'une des rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="a68c6-144">For more information about programmatically setting these properties, click one of the following topics:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.DMQueryTask.DMQueryTask>  
  
  
