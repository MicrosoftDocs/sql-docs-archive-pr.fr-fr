---
title: Éditeur de transformation d’agrégation (onglet Agrégations) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.aggregationtransformation.aggregations.f1
helpviewer_keywords:
- Aggregate Transformation Editor
ms.assetid: a01cb124-ec79-4673-b1a1-bf4d60ee1b45
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 30cafb68a69a061fe4b79e832f356b82926c9761
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87602977"
---
# <a name="aggregate-transformation-editor-aggregations-tab"></a><span data-ttu-id="dd8e6-102">Éditeur de transformation d'agrégation (onglet Agrégations)</span><span class="sxs-lookup"><span data-stu-id="dd8e6-102">Aggregate Transformation Editor (Aggregations Tab)</span></span>
  <span data-ttu-id="dd8e6-103">Utilisez l’onglet **Agrégations** de la boîte de dialogue **Éditeur de transformation d’agrégation** pour spécifier les colonnes destinées à l’agrégation et les propriétés de cette agrégation.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-103">Use the **Aggregations** tab of the **Aggregate Transformation Editor** dialog box to specify columns for aggregation and aggregation properties.</span></span> <span data-ttu-id="dd8e6-104">Vous pouvez appliquer plusieurs agrégations.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-104">You can apply multiple aggregations.</span></span> <span data-ttu-id="dd8e6-105">Ce type de transformation ne génère pas d'erreur de sortie.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-105">This transformation does not generate an error output.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dd8e6-106">Les options concernant le nombre et l’échelle de clés d’une part, et le nombre et l’échelle de clés distinctes d’autre part, s’appliquent au niveau du composant quand ces options sont indiquées sous l’onglet **Avancé** , au niveau de la sortie quand elles sont précisées dans l’affichage avancé de l’onglet **Agrégations** , ou encore au niveau des colonnes quand elles sont spécifiées dans la liste de colonnes se trouvant dans la partie inférieure de l’onglet **Agrégations** .</span><span class="sxs-lookup"><span data-stu-id="dd8e6-106">The options for key count, key scale, distinct key count, and distinct key scale apply at the component level when specified on the **Advanced** tab, at the output level when specified in the advanced display of the **Aggregations** tab, and at the column level when specified in the column list at the bottom of the **Aggregations** tab.</span></span>  
>   
>  <span data-ttu-id="dd8e6-107">Dans la transformation d’agrégation, **Clés** et **Échelle de clé** font référence au nombre de groupes attendus d’une opération **Regrouper par** .</span><span class="sxs-lookup"><span data-stu-id="dd8e6-107">In the Aggregate transformation, **Keys** and **Keys scale** refer to the number of groups that are expected to result from a **Group by** operation.</span></span> <span data-ttu-id="dd8e6-108">**Nombre de clés distinctes** et **Échelle de nombre des valeurs distinctes** font référence au nombre de valeurs distinctes attendues d’une opération **Comptage de valeurs** .</span><span class="sxs-lookup"><span data-stu-id="dd8e6-108">**Count distinct keys** and **Count distinct scale** refer to the number of distinct values that are expected to result from a **Distinct count** operation.</span></span>  
  
 <span data-ttu-id="dd8e6-109">Pour en savoir plus sur la transformation d’agrégation, consultez [Transformation d’agrégation](data-flow/transformations/aggregate-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="dd8e6-109">To learn more about the Aggregate transformation, see [Aggregate Transformation](data-flow/transformations/aggregate-transformation.md).</span></span>  
  
## <a name="options"></a><span data-ttu-id="dd8e6-110">Options</span><span class="sxs-lookup"><span data-stu-id="dd8e6-110">Options</span></span>  
 <span data-ttu-id="dd8e6-111">**Avancé / Simple**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-111">**Advanced / Basic**</span></span>  
 <span data-ttu-id="dd8e6-112">Permet d'afficher ou de masquer les options permettant de configurer plusieurs agrégations dans le cas de sorties multiples.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-112">Display or hide options to configure multiple aggregations for multiple outputs.</span></span> <span data-ttu-id="dd8e6-113">Par défaut, les options avancées sont masquées.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-113">By default, the Advanced options are hidden.</span></span>  
  
 <span data-ttu-id="dd8e6-114">**Nom d'agrégation**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-114">**Aggregation Name**</span></span>  
 <span data-ttu-id="dd8e6-115">Dans l'écran Avancé, permet d'attribuer un nom convivial à l'agrégation.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-115">In the Advanced display, type a friendly name for the aggregation.</span></span>  
  
 <span data-ttu-id="dd8e6-116">**Grouper par colonnes**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-116">**Group By Columns**</span></span>  
 <span data-ttu-id="dd8e6-117">Dans l’écran Avancé, permet de sélectionner les colonnes afin de regrouper les éléments d’après la liste **Colonnes d’entrée disponibles** , comme décrit ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-117">In the Advanced display, select columns for grouping by using the **Available Input Columns** list as described below.</span></span>  
  
 <span data-ttu-id="dd8e6-118">**Échelle de clé**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-118">**Key Scale**</span></span>  
 <span data-ttu-id="dd8e6-119">Dans l'écran Avancé, permet de spécifier aussi éventuellement le nombre de clés adéquat que l'agrégation peut écrire.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-119">In the Advanced display, optionally specify the approximate number of keys that the aggregation can write.</span></span> <span data-ttu-id="dd8e6-120">Par défaut, la valeur de cette option est **Non spécifié**.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-120">By default, the value of this option is **Unspecified**.</span></span> <span data-ttu-id="dd8e6-121">Si la valeur des propriétés **Échelle de clé** et **Clés** sont toutes deux définies, c’est celle de la propriété **Clés** qui prévaut.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-121">If both the **Key Scale** and **Keys** properties are set, the value of **Keys** takes precedence.</span></span>  
  
|<span data-ttu-id="dd8e6-122">Valeur</span><span class="sxs-lookup"><span data-stu-id="dd8e6-122">Value</span></span>|<span data-ttu-id="dd8e6-123">Description</span><span class="sxs-lookup"><span data-stu-id="dd8e6-123">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="dd8e6-124">Non spécifié</span><span class="sxs-lookup"><span data-stu-id="dd8e6-124">Unspecified</span></span>|<span data-ttu-id="dd8e6-125">La propriété Échelle de clé n'est pas utilisée.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-125">The Key Scale property is not used.</span></span>|  
|<span data-ttu-id="dd8e6-126">Faible</span><span class="sxs-lookup"><span data-stu-id="dd8e6-126">Low</span></span>|<span data-ttu-id="dd8e6-127">L’agrégation peut écrire environ 500 000 clés.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-127">Aggregation can write approximately 500,000 keys.</span></span>|  
|<span data-ttu-id="dd8e6-128">Moyenne</span><span class="sxs-lookup"><span data-stu-id="dd8e6-128">Medium</span></span>|<span data-ttu-id="dd8e6-129">L'agrégation peut écrire environ 5 000 000 clés.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-129">Aggregation can write approximately 5,000,000 keys.</span></span>|  
|<span data-ttu-id="dd8e6-130">Importante</span><span class="sxs-lookup"><span data-stu-id="dd8e6-130">High</span></span>|<span data-ttu-id="dd8e6-131">L'agrégation peut écrire plus de 25 000 000 clés.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-131">Aggregation can write more than 25,000,000 keys.</span></span>|  
  
 <span data-ttu-id="dd8e6-132">**Clés**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-132">**Keys**</span></span>  
 <span data-ttu-id="dd8e6-133">Dans l'écran Avancé, permet d'indiquer éventuellement le nombre exact de clés que l'agrégation peut écrire.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-133">In the Advanced display, optionally specify the exact number of keys that the aggregation can write.</span></span> <span data-ttu-id="dd8e6-134">Si la valeur des propriétés **Échelle de clé** et **Clés** sont toutes deux précisées, celle de la propriété **Clés** prévaut alors.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-134">If both **Key Scale** and **Keys** are specified, **Keys** takes precedence.</span></span>  
  
 <span data-ttu-id="dd8e6-135">**Colonnes d'entrée disponibles**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-135">**Available Input Columns**</span></span>  
 <span data-ttu-id="dd8e6-136">Permet de sélectionner les colonnes dans la liste des colonnes d'entrée disponibles en cochant ou décochant les cases du tableau.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-136">Select from the list of available input columns by using the check boxes in this table.</span></span>  
  
 <span data-ttu-id="dd8e6-137">**Colonne d'entrée**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-137">**Input Column**</span></span>  
 <span data-ttu-id="dd8e6-138">Permet de sélectionner des colonnes dans la liste des colonnes d'entrée disponibles.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-138">Select from the list of available input columns.</span></span>  
  
 <span data-ttu-id="dd8e6-139">**Alias de sortie**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-139">**Output Alias**</span></span>  
 <span data-ttu-id="dd8e6-140">Permet de saisir un alias pour chaque colonne.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-140">Type an alias for each column.</span></span> <span data-ttu-id="dd8e6-141">Par défaut, il s'agit du nom de la colonne d'entrée ; vous pouvez néanmoins choisir un nom unique et descriptif.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-141">The default is the name of the input column; however, you can choose any unique, descriptive name.</span></span>  
  
 <span data-ttu-id="dd8e6-142">**Opération**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-142">**Operation**</span></span>  
 <span data-ttu-id="dd8e6-143">Permet de choisir dans la liste parmi les opérations disponibles, d'après le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-143">Choose from the list of available operations, using the following table as a guide.</span></span>  
  
|<span data-ttu-id="dd8e6-144">Opération</span><span class="sxs-lookup"><span data-stu-id="dd8e6-144">Operation</span></span>|<span data-ttu-id="dd8e6-145">Description</span><span class="sxs-lookup"><span data-stu-id="dd8e6-145">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="dd8e6-146">**GroupBy**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-146">**GroupBy**</span></span>|<span data-ttu-id="dd8e6-147">Divise les datasets en groupes.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-147">Divides datasets into groups.</span></span> <span data-ttu-id="dd8e6-148">Les colonnes incluant tout type de données peuvent être utilisées pour le regroupement.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-148">Columns with any data type can be used for grouping.</span></span> <span data-ttu-id="dd8e6-149">Pour plus d'informations, consultez GROUP BY.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-149">For more information, see GROUP BY.</span></span>|  
|<span data-ttu-id="dd8e6-150">**SUM**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-150">**Sum**</span></span>|<span data-ttu-id="dd8e6-151">Additionne les valeurs dans une colonne.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-151">Sums the values in a column.</span></span> <span data-ttu-id="dd8e6-152">Seules les colonnes dont les données sont numériques peuvent être additionnées.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-152">Only columns with numeric data types can be summed.</span></span> <span data-ttu-id="dd8e6-153">Pour plus d'informations, consultez SUM.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-153">For more information, see SUM.</span></span>|  
|<span data-ttu-id="dd8e6-154">**Average**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-154">**Average**</span></span>|<span data-ttu-id="dd8e6-155">Retourne la moyenne des valeurs d'une colonne.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-155">Returns the average of the column values in a column.</span></span> <span data-ttu-id="dd8e6-156">La moyenne ne peut être calculée que sur les colonnes dont les données sont numériques.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-156">Only columns with numeric data types can be averaged.</span></span> <span data-ttu-id="dd8e6-157">Pour plus d'informations, consultez AVG.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-157">For more information, see AVG.</span></span>|  
|<span data-ttu-id="dd8e6-158">**Count**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-158">**Count**</span></span>|<span data-ttu-id="dd8e6-159">Retourne le nombre d'éléments figurant dans un groupe.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-159">Returns the number of items in a group.</span></span> <span data-ttu-id="dd8e6-160">Pour plus d'informations, consultez COUNT.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-160">For more information, see COUNT.</span></span>|  
|<span data-ttu-id="dd8e6-161">**CountDistinct**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-161">**CountDistinct**</span></span>|<span data-ttu-id="dd8e6-162">Retourne le nombre de valeurs non NULL uniques d'un groupe.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-162">Returns the number of unique nonnull values in a group.</span></span> <span data-ttu-id="dd8e6-163">Pour plus d'informations, consultez COUNT et Distinct.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-163">For more information, see COUNT and Distinct.</span></span>|  
|<span data-ttu-id="dd8e6-164">**Minimum**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-164">**Minimum**</span></span>|<span data-ttu-id="dd8e6-165">Renvoie la valeur minimale figurant dans un groupe.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-165">Returns the minimum value in a group.</span></span> <span data-ttu-id="dd8e6-166">Cette opération se restreint aux données numériques.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-166">Restricted to numeric data types.</span></span>|  
|<span data-ttu-id="dd8e6-167">**Maximum**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-167">**Maximum**</span></span>|<span data-ttu-id="dd8e6-168">Renvoie la valeur maximale figurant dans un groupe.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-168">Returns the maximum value in a group.</span></span> <span data-ttu-id="dd8e6-169">Cette opération se restreint aux données numériques.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-169">Restricted to numeric data types.</span></span>|  
  
 <span data-ttu-id="dd8e6-170">**Indicateurs de comparaison**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-170">**Comparison Flags**</span></span>  
 <span data-ttu-id="dd8e6-171">Si vous sélectionnez **Group by**, permet d’utiliser les cases à cocher afin de contrôler le mode d’évaluation de la comparaison effectuée par la transformation.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-171">If you choose **Group By**, use the check boxes to control how the transformation performs the comparison.</span></span> <span data-ttu-id="dd8e6-172">Pour plus d’informations sur les options de comparaison de chaînes, consultez [Comparaison des données chaînes](data-flow/comparing-string-data.md).</span><span class="sxs-lookup"><span data-stu-id="dd8e6-172">For information on the string comparison options, see [Comparing String Data](data-flow/comparing-string-data.md).</span></span>  
  
 <span data-ttu-id="dd8e6-173">**Échelle Count distinct**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-173">**Count Distinct Scale**</span></span>  
 <span data-ttu-id="dd8e6-174">Permet éventuellement de spécifier le nombre approximatif de valeurs distinctes que l'agrégation peut écrire.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-174">Optionally specify the approximate number of distinct values that the aggregation can write.</span></span> <span data-ttu-id="dd8e6-175">Par défaut, la valeur de cette option est **Non spécifié**.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-175">By default, the value of this option is **Unspecified**.</span></span> <span data-ttu-id="dd8e6-176">Si `CountDistinctScale` et **CountDistinctKeys** sont spécifiés, **CountDistinctKeys** est prioritaire.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-176">If both `CountDistinctScale` and **CountDistinctKeys** are specified, **CountDistinctKeys** takes precedence.</span></span>  
  
|<span data-ttu-id="dd8e6-177">Valeur</span><span class="sxs-lookup"><span data-stu-id="dd8e6-177">Value</span></span>|<span data-ttu-id="dd8e6-178">Description</span><span class="sxs-lookup"><span data-stu-id="dd8e6-178">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="dd8e6-179">Non spécifié</span><span class="sxs-lookup"><span data-stu-id="dd8e6-179">Unspecified</span></span>|<span data-ttu-id="dd8e6-180">La propriété `CountDistinctScale` n'est pas utilisée.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-180">The `CountDistinctScale` property is not used.</span></span>|  
|<span data-ttu-id="dd8e6-181">Faible</span><span class="sxs-lookup"><span data-stu-id="dd8e6-181">Low</span></span>|<span data-ttu-id="dd8e6-182">L'agrégation peut écrire environ 500 000 valeurs distinctes.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-182">Aggregation can write approximately 500,000 distinct values.</span></span>|  
|<span data-ttu-id="dd8e6-183">Moyenne</span><span class="sxs-lookup"><span data-stu-id="dd8e6-183">Medium</span></span>|<span data-ttu-id="dd8e6-184">L’agrégation peut écrire environ 5 000 000 de valeurs distinctes.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-184">Aggregation can write approximately 5,000,000 distinct values.</span></span>|  
|<span data-ttu-id="dd8e6-185">Importante</span><span class="sxs-lookup"><span data-stu-id="dd8e6-185">High</span></span>|<span data-ttu-id="dd8e6-186">L'agrégation peut écrire plus de 25 000 000 valeurs distinctes.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-186">Aggregation can write more than 25,000,000 distinct values.</span></span>|  
  
 <span data-ttu-id="dd8e6-187">**Nombre de clés distinctes**</span><span class="sxs-lookup"><span data-stu-id="dd8e6-187">**Count Distinct Keys**</span></span>  
 <span data-ttu-id="dd8e6-188">Permet de spécifier éventuellement le nombre exact de valeurs distinctes que l'agrégation peut écrire.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-188">Optionally specify the exact number of distinct values that the aggregation can write.</span></span> <span data-ttu-id="dd8e6-189">Si `CountDistinctScale` et **CountDistinctKeys** sont spécifiés, **CountDistinctKeys** est prioritaire.</span><span class="sxs-lookup"><span data-stu-id="dd8e6-189">If both `CountDistinctScale` and **CountDistinctKeys** are specified, **CountDistinctKeys** takes precedence.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dd8e6-190">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="dd8e6-190">See Also</span></span>  
 <span data-ttu-id="dd8e6-191">[Guide de référence des erreurs et des messages propres à Integration Services](../../2014/integration-services/integration-services-error-and-message-reference.md) </span><span class="sxs-lookup"><span data-stu-id="dd8e6-191">[Integration Services Error and Message Reference](../../2014/integration-services/integration-services-error-and-message-reference.md) </span></span>  
 <span data-ttu-id="dd8e6-192">[Éditeur de transformation d’agrégation &#40;onglet Avancé&#41;](../../2014/integration-services/aggregate-transformation-editor-advanced-tab.md) </span><span class="sxs-lookup"><span data-stu-id="dd8e6-192">[Aggregate Transformation Editor &#40;Advanced Tab&#41;](../../2014/integration-services/aggregate-transformation-editor-advanced-tab.md) </span></span>  
 [<span data-ttu-id="dd8e6-193">Agréger les valeurs dans un dataset à l'aide de la transformation d'agrégation</span><span class="sxs-lookup"><span data-stu-id="dd8e6-193">Aggregate Values in a Dataset by Using the Aggregate Transformation</span></span>](data-flow/transformations/aggregate-values-in-a-dataset-by-using-the-aggregate-transformation.md)  
  
  
