---
title: États de la mise en miroir (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- states [SQL Server], database mirroring
- PENDING_FAILOVER state
- mirroring states [SQL Server]
- DISCONNECTED state
- SYNCHRONIZING state
- SYNCHRONIZED state
- SUSPENDED state
- database mirroring [SQL Server], states
ms.assetid: 90062917-74f9-471b-b49e-bc153ae1a468
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d458939ba233bdfe7a99edd38afc74b5433ae061
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87601645"
---
# <a name="mirroring-states-sql-server"></a><span data-ttu-id="1af9e-102">États de la mise en miroir (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="1af9e-102">Mirroring States (SQL Server)</span></span>
  <span data-ttu-id="1af9e-103">Pendant une session de mise en miroir de bases de données, la base de données mise en miroir est toujours dans un état spécifique (l’ *état de la mise en miroir*).</span><span class="sxs-lookup"><span data-stu-id="1af9e-103">During a database mirroring session, the mirrored database is always in a specific state (the *mirroring state*).</span></span> <span data-ttu-id="1af9e-104">L'état de la base de données reflète l'état de communication, le flux de données et les différences dans des données entre les partenaires.</span><span class="sxs-lookup"><span data-stu-id="1af9e-104">The state of the database reflects the communication status, data flow, and the difference in data between the partners.</span></span> <span data-ttu-id="1af9e-105">Une session de mise en miroir de bases de données adopte le même état que la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="1af9e-105">The database mirroring session adopts the same state as the principal database.</span></span>  
  
 <span data-ttu-id="1af9e-106">Pendant tout le déroulement d'une session de mise en miroir de bases de données, les instances de serveur s'analysent mutuellement.</span><span class="sxs-lookup"><span data-stu-id="1af9e-106">Throughout a database mirroring session, the server instances monitor each other.</span></span> <span data-ttu-id="1af9e-107">Les partenaires utilisent l'état de la mise en miroir pour surveiller la base de données.</span><span class="sxs-lookup"><span data-stu-id="1af9e-107">The partners use the mirroring state to monitor the database.</span></span> <span data-ttu-id="1af9e-108">À l'exception de l'état PENDING_FAILOVER, les bases de données principale et miroir sont toujours dans le même état.</span><span class="sxs-lookup"><span data-stu-id="1af9e-108">With the exception of the PENDING_FAILOVER state, the principal and mirror database are always in the same state.</span></span> <span data-ttu-id="1af9e-109">Si un témoin est défini pour la session, chacun des partenaires surveille le témoin en utilisant son état de connexion (CONNECTED ou DISCONNECTED).</span><span class="sxs-lookup"><span data-stu-id="1af9e-109">If a witness is set for the session, each of the partners monitors the witness using its connection state (CONNECTED or DISCONNECTED).</span></span>  
  
 <span data-ttu-id="1af9e-110">Les états de la mise en miroir possibles sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="1af9e-110">The possible mirroring states of the database are as follows:</span></span>  
  
|<span data-ttu-id="1af9e-111">état de la mise en miroir</span><span class="sxs-lookup"><span data-stu-id="1af9e-111">Mirroring state</span></span>|<span data-ttu-id="1af9e-112">Description</span><span class="sxs-lookup"><span data-stu-id="1af9e-112">Description</span></span>|  
|---------------------|-----------------|  
|<span data-ttu-id="1af9e-113">SYNCHRONIZING</span><span class="sxs-lookup"><span data-stu-id="1af9e-113">SYNCHRONIZING</span></span>|<span data-ttu-id="1af9e-114">Le contenu de la base de données en miroir est décalé par rapport à celui de la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="1af9e-114">The contents of the mirror database are lagging behind the contents of the principal database.</span></span> <span data-ttu-id="1af9e-115">Le serveur principal envoie des enregistrements de journal au serveur miroir, qui applique les modifications à la base de données miroir pour la restaurer par progression.</span><span class="sxs-lookup"><span data-stu-id="1af9e-115">The principal server is sending log records to the mirror server, which is applying the changes to the mirror database to roll it forward.</span></span><br /><br /> <span data-ttu-id="1af9e-116">Lors du démarrage d'une session de mise en miroir de base de données, la base de données est dans l'état SYNCHRONIZING.</span><span class="sxs-lookup"><span data-stu-id="1af9e-116">At the start of a database mirroring session, the database is in the SYNCHRONIZING state.</span></span> <span data-ttu-id="1af9e-117">Le serveur principal sert la base de données et le serveur miroir essaie de rattraper son retard.</span><span class="sxs-lookup"><span data-stu-id="1af9e-117">The principal server is serving the database, and the mirror is trying to catch up.</span></span>|  
|<span data-ttu-id="1af9e-118">SYNCHRONIZED</span><span class="sxs-lookup"><span data-stu-id="1af9e-118">SYNCHRONIZED</span></span>|<span data-ttu-id="1af9e-119">Lorsque le serveur miroir a rattrapé suffisamment de retard par rapport au serveur principal, l'état de la mise en miroir devient SYNCHRONIZED.</span><span class="sxs-lookup"><span data-stu-id="1af9e-119">When the mirror server becomes sufficiently caught up to the principal server, the mirroring state changes to SYNCHRONIZED.</span></span> <span data-ttu-id="1af9e-120">La base de données reste dans cet état aussi longtemps que le serveur principal continue d'envoyer des modifications au serveur miroir et que le serveur miroir continue d'appliquer les modifications à la base de données miroir.</span><span class="sxs-lookup"><span data-stu-id="1af9e-120">The database remains in this state as long as the principal server continues to send changes to the mirror server and the mirror server continues to apply changes to the mirror database.</span></span><br /><br /> <span data-ttu-id="1af9e-121">Si la sécurité des transactions a la valeur FULL, le basculement automatique et le basculement manuel sont tous les deux pris en charge dans l'état SYNCHRONIZED ; aucune perte de données ne se produit après un basculement.</span><span class="sxs-lookup"><span data-stu-id="1af9e-121">If transaction safety is set to FULLautomatic failover and manual failover are both supported in the SYNCHRONIZED state, there is no data loss after a failover.</span></span><br /><br /> <span data-ttu-id="1af9e-122">Si la sécurité des transactions est désactivée, une perte de données est toujours possible, même dans l'état SYNCHRONIZED.</span><span class="sxs-lookup"><span data-stu-id="1af9e-122">If transaction safety is off, some data loss is always possible, even in the SYNCHRONIZED state.</span></span>|  
|<span data-ttu-id="1af9e-123">SUSPENDED</span><span class="sxs-lookup"><span data-stu-id="1af9e-123">SUSPENDED</span></span>|<span data-ttu-id="1af9e-124">La copie miroir de la base de données n'est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="1af9e-124">The mirror copy of the database is not available.</span></span> <span data-ttu-id="1af9e-125">La base de données principale fonctionne sans envoyer de journaux au serveur miroir, condition qualifiée d’ *exécution exposée*.</span><span class="sxs-lookup"><span data-stu-id="1af9e-125">The principal database is running without sending any logs to the mirror server, a condition known as *running exposed*.</span></span> <span data-ttu-id="1af9e-126">Cet état est observé après un basculement.</span><span class="sxs-lookup"><span data-stu-id="1af9e-126">This is the state after a failover.</span></span><br /><br /> <span data-ttu-id="1af9e-127">Une session peut également prendre l'état SUSPENDED à la suite d'erreurs de répétition ou si l'administrateur suspend la session.</span><span class="sxs-lookup"><span data-stu-id="1af9e-127">A session can also become SUSPENDED as a result of redo errors or if the administrator pauses the session.</span></span><br /><br /> <span data-ttu-id="1af9e-128">L'état SUSPENDED est un état permanent qui persiste lors des arrêts et des démarrages des partenaires.</span><span class="sxs-lookup"><span data-stu-id="1af9e-128">SUSPENDED is a persistent state that survives partner shutdowns and startups.</span></span>|  
|<span data-ttu-id="1af9e-129">PENDING_FAILOVER</span><span class="sxs-lookup"><span data-stu-id="1af9e-129">PENDING_FAILOVER</span></span>|<span data-ttu-id="1af9e-130">Cet état est observé uniquement sur le serveur principal lorsqu'un basculement a commencé, mais que le serveur n'est pas passé par le rôle de miroir.</span><span class="sxs-lookup"><span data-stu-id="1af9e-130">This state is found only on the principal server after a failover has begun, but the server has not transitioned into the mirror role.</span></span><br /><br /> <span data-ttu-id="1af9e-131">Une fois le basculement déclenché, la base de données principale passe à l'état PENDING_FAILOVER, met rapidement un terme à toutes les connexions utilisateur et adopte le rôle de miroir peu de temps après.</span><span class="sxs-lookup"><span data-stu-id="1af9e-131">When the failover is initiated, the principal database goes into the PENDING_FAILOVER state, quickly terminates any user connections, and takes over the mirror role soon thereafter.</span></span>|  
|<span data-ttu-id="1af9e-132">DISCONNECTED</span><span class="sxs-lookup"><span data-stu-id="1af9e-132">DISCONNECTED</span></span>|<span data-ttu-id="1af9e-133">Le partenaire a perdu la communication avec l'autre partenaire.</span><span class="sxs-lookup"><span data-stu-id="1af9e-133">The partner has lost communication with the other partner.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="1af9e-134">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1af9e-134">See Also</span></span>  
 [<span data-ttu-id="1af9e-135">Surveillance de la mise en miroir de bases de données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="1af9e-135">Monitoring Database Mirroring &#40;SQL Server&#41;</span></span>](database-mirroring-sql-server.md)  
  
  
