---
title: Interrompre une base de données de disponibilité (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql12.swb.availabilitygroup.suspenddatamove.f1
helpviewer_keywords:
- secondary databases [SQL Server], in availability group
- primary databases [SQL Server], in availability group
- Availability Groups [SQL Server], suspending a database
- Availability Groups [SQL Server], databases
ms.assetid: 86858982-6af1-4e80-9a93-87451f0d7ee9
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 49afe868a509f84160fc1ad154135e8e67f6900a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87708648"
---
# <a name="suspend-an-availability-database-sql-server"></a><span data-ttu-id="a73a4-102">Interrompre une base de données de disponibilité (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="a73a4-102">Suspend an Availability Database (SQL Server)</span></span>
  <span data-ttu-id="a73a4-103">Vous pouvez interrompre une base de données de disponibilité dans [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] à l'aide de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], de [!INCLUDE[tsql](../../../includes/tsql-md.md)]ou de PowerShell dans [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a73a4-103">You can suspend an availability database in [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="a73a4-104">Notez qu'une commande d'interruption doit être émise sur l'instance du serveur qui héberge la base de données à interrompre ou à reprendre.</span><span class="sxs-lookup"><span data-stu-id="a73a4-104">Note that a suspend command needs to be issued on the server instance that hosts the database to be suspended or resumed.</span></span>  
  
 <span data-ttu-id="a73a4-105">L'effet d'une commande d'interruption varie selon que vous interrompez une base de données principale ou secondaire, comme suit :</span><span class="sxs-lookup"><span data-stu-id="a73a4-105">The effect of a suspend command depends on whether you suspend a secondary database or a primary database, as follows:</span></span>  
  
|<span data-ttu-id="a73a4-106">Base de données interrompue</span><span class="sxs-lookup"><span data-stu-id="a73a4-106">Suspended Database</span></span>|<span data-ttu-id="a73a4-107">Effet de la commande d'interruption</span><span class="sxs-lookup"><span data-stu-id="a73a4-107">Effect of Suspend Command</span></span>|  
|------------------------|-------------------------------|  
|<span data-ttu-id="a73a4-108">Base de données secondaire</span><span class="sxs-lookup"><span data-stu-id="a73a4-108">Secondary database</span></span>|<span data-ttu-id="a73a4-109">Seule la base de données secondaire locale est interrompue et son état de synchronisation devient NOT SYNCHRONIZING.</span><span class="sxs-lookup"><span data-stu-id="a73a4-109">Only the local secondary database is suspended and its synchronization state becomes NOT SYNCHRONIZING.</span></span> <span data-ttu-id="a73a4-110">Les autres bases de données secondaires ne sont pas affectées.</span><span class="sxs-lookup"><span data-stu-id="a73a4-110">Other secondary databases are not affected.</span></span> <span data-ttu-id="a73a4-111">La base de données interrompue cesse de recevoir et d'appliquer des données (enregistrements de journal) et commence à se situer en retrait par rapport à la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="a73a4-111">The suspended database stops receiving and applying data (log records) and begins to fall behind the primary database.</span></span> <span data-ttu-id="a73a4-112">Les connexions existantes sur le réplica secondaire accessible en lecture restent utilisables.</span><span class="sxs-lookup"><span data-stu-id="a73a4-112">Existing connections on the readable secondary remain usable.</span></span> <span data-ttu-id="a73a4-113">Les nouvelles connexions à la base de données suspendue sur le réplica secondaire accessible en lecture ne sont pas autorisées tant que le déplacement des données n'a pas repris.</span><span class="sxs-lookup"><span data-stu-id="a73a4-113">New connections to the suspended database on the readable secondary are not allowed until data movement is resumed.</span></span><br /><br /> <span data-ttu-id="a73a4-114">La base de données primaire reste disponible.</span><span class="sxs-lookup"><span data-stu-id="a73a4-114">The primary database remains available.</span></span> <span data-ttu-id="a73a4-115">Si vous interrompez chaque base de données secondaire correspondante, la base de données principale est exposée.</span><span class="sxs-lookup"><span data-stu-id="a73a4-115">If you suspend each of the corresponding secondary databases, the primary database runs exposed.</span></span><br /><br /> <span data-ttu-id="a73a4-116">**\*\* Important \*\*** Quand une base de données secondaire est suspendue, la file d’attente d’envoi de la base de données primaire correspondante accumule des enregistrements du journal des transactions non envoyés.</span><span class="sxs-lookup"><span data-stu-id="a73a4-116">**\*\* Important \*\*** While a secondary database is suspended, the send queue of the corresponding primary database will accumulate unsent transaction log records.</span></span> <span data-ttu-id="a73a4-117">Les connexions au réplica secondaire retournent des données qui étaient disponibles lorsque le déplacement des données a été suspendu.</span><span class="sxs-lookup"><span data-stu-id="a73a4-117">Connections to the secondary replica return data that was available at the time the data movement was suspended.</span></span>|  
|<span data-ttu-id="a73a4-118">Base de données principale</span><span class="sxs-lookup"><span data-stu-id="a73a4-118">Primary database</span></span>|<span data-ttu-id="a73a4-119">La base de données principale cesse le déplacement des données vers chaque base de données secondaire connectée.</span><span class="sxs-lookup"><span data-stu-id="a73a4-119">The primary database stops data movement to every connected secondary database.</span></span> <span data-ttu-id="a73a4-120">La base de données principale continue à s'exécuter, en mode exposé.</span><span class="sxs-lookup"><span data-stu-id="a73a4-120">The primary database continues running, in an exposed mode.</span></span> <span data-ttu-id="a73a4-121">La base de données principale reste à la disposition des clients, les connexions existantes sur un réplica secondaire accessible en lecture restent utilisables et de nouvelles connexions peuvent être établies.</span><span class="sxs-lookup"><span data-stu-id="a73a4-121">The primary database remains available to clients, and existing connections on a readable secondary remain usable and new connections can be made.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="a73a4-122">La suspension d'une base de données secondaire AlwaysOn n'affectent pas directement la disponibilité de la base de données primaire.</span><span class="sxs-lookup"><span data-stu-id="a73a4-122">Suspending an AlwaysOn secondary database does not directly affect the availability of the primary database.</span></span> <span data-ttu-id="a73a4-123">Toutefois, l'interruption d'une base de données secondaire peut avoir une incidence sur les capacités de redondance et de basculement de la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="a73a4-123">However, suspending a secondary database can impact redundancy and failover capabilities for the primary database.</span></span> <span data-ttu-id="a73a4-124">Ce comportement diffère d'une mise en miroir de bases de données dans laquelle l'état de mise en miroir est interrompu à la fois sur la base de données miroir et la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="a73a4-124">This is in contrast to database mirroring, where the mirroring state is suspended on both the mirror database and the principal database.</span></span> <span data-ttu-id="a73a4-125">L'interruption d'une base de données principale AlwaysOn interrompt le déplacement des données sur toutes les bases de données secondaires correspondantes, et les capacités de redondance et de basculement cessent pour cette base de données tant que la base de données principale n'a pas repris.</span><span class="sxs-lookup"><span data-stu-id="a73a4-125">Suspending an AlwaysOn primary database suspends data movement on all the corresponding secondary databases, and redundancy and failover capabilities cease for that database until the primary database is resumed.</span></span>  
  
-   <span data-ttu-id="a73a4-126">**Avant de commencer :**</span><span class="sxs-lookup"><span data-stu-id="a73a4-126">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="a73a4-127">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="a73a4-127">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="a73a4-128">Composants requis</span><span class="sxs-lookup"><span data-stu-id="a73a4-128">Prerequisites</span></span>](#Prerequisites)  
  
     [<span data-ttu-id="a73a4-129">Recommandations</span><span class="sxs-lookup"><span data-stu-id="a73a4-129">Recommendations</span></span>](#Recommendations)  
  
     [<span data-ttu-id="a73a4-130">Sécurité</span><span class="sxs-lookup"><span data-stu-id="a73a4-130">Security</span></span>](#Security)  
  
-   <span data-ttu-id="a73a4-131">**Pour interrompre une base de données à l'aide de :**</span><span class="sxs-lookup"><span data-stu-id="a73a4-131">**To suspend a database, using:**</span></span>  
  
-   [<span data-ttu-id="a73a4-132">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="a73a4-132">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="a73a4-133">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="a73a4-133">Transact-SQL</span></span>](#TsqlProcedure)  
  
     [<span data-ttu-id="a73a4-134">PowerShell</span><span class="sxs-lookup"><span data-stu-id="a73a4-134">PowerShell</span></span>](#PowerShellProcedure)  
  
-   <span data-ttu-id="a73a4-135">**Suivi :** [Comment éviter un journal des transactions plein](#FollowUp)</span><span class="sxs-lookup"><span data-stu-id="a73a4-135">**Follow up:** [Avoiding a Full Transaction Log](#FollowUp)</span></span>  
  
-   [<span data-ttu-id="a73a4-136">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="a73a4-136">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="a73a4-137">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="a73a4-137">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="a73a4-138">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="a73a4-138">Limitations and Restrictions</span></span>  
 <span data-ttu-id="a73a4-139">Une commande SUSPEND retourne dès qu'elle est acceptée par le réplica qui héberge la base de données cible, mais en réalité, l'interruption de la base de données se produit de façon asynchrone.</span><span class="sxs-lookup"><span data-stu-id="a73a4-139">A SUSPEND command returns as soon as it has been accepted by the replica that hosts the target database, but actually suspending the database occurs asynchronously.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="a73a4-140">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="a73a4-140">Prerequisites</span></span>  
 <span data-ttu-id="a73a4-141">Vous devez être connecté à l'instance de serveur qui héberge la base de données que vous souhaitez interrompre.</span><span class="sxs-lookup"><span data-stu-id="a73a4-141">You must be connected to the server instance that hosts the database that you want to suspend.</span></span> <span data-ttu-id="a73a4-142">Pour interrompre une base de données primaire et les bases de données secondaires correspondantes, connectez-vous à l'instance de serveur qui héberge le réplica principal.</span><span class="sxs-lookup"><span data-stu-id="a73a4-142">To suspend a primary database and the corresponding secondary databases, connect to the server instance that hosts the primary replica.</span></span> <span data-ttu-id="a73a4-143">Pour interrompre une base de données secondaire tout en laissant la base de données primaire disponible, connectez-vous au réplica secondaire.</span><span class="sxs-lookup"><span data-stu-id="a73a4-143">To suspend a secondary database while leaving the primary database available, connect to the secondary replica.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="a73a4-144">Recommandations</span><span class="sxs-lookup"><span data-stu-id="a73a4-144">Recommendations</span></span>  
 <span data-ttu-id="a73a4-145">Lors de goulots d'étranglement, l'interruption d'une ou plusieurs bases de données secondaires, même brièvement, peut être utile pour améliorer les performances temporairement sur le réplica principal.</span><span class="sxs-lookup"><span data-stu-id="a73a4-145">During bottlenecks, suspending one or more secondary databases briefly might be useful to improve performance temporarily on the primary replica.</span></span> <span data-ttu-id="a73a4-146">Tant qu'une base de données secondaire reste suspendue, le journal des transactions de la base de données primaire correspondante ne peut pas être tronqué.</span><span class="sxs-lookup"><span data-stu-id="a73a4-146">As long as a secondary database remains suspended, the transaction log of the corresponding primary database cannot be truncated.</span></span> <span data-ttu-id="a73a4-147">Cela provoque l'accumulation des enregistrements du journal sur la base de données primaire.</span><span class="sxs-lookup"><span data-stu-id="a73a4-147">This causes log records to accumulate on the primary database.</span></span> <span data-ttu-id="a73a4-148">Par conséquent, nous vous recommandons de reprendre, ou de supprimer, une base de données secondaire suspendue rapidement.</span><span class="sxs-lookup"><span data-stu-id="a73a4-148">Therefore, we recommend that you resume, or remove, a suspended secondary database quickly.</span></span> <span data-ttu-id="a73a4-149">Pour plus d’informations, consultez [Suivi : Comment éviter un journal des transactions plein](#FollowUp) plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="a73a4-149">For more information, see [Follow up: Avoiding a Full Transaction Log](#FollowUp), later in this topic.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="a73a4-150">Sécurité</span><span class="sxs-lookup"><span data-stu-id="a73a4-150">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="a73a4-151">Autorisations</span><span class="sxs-lookup"><span data-stu-id="a73a4-151">Permissions</span></span>  
 <span data-ttu-id="a73a4-152">Nécessite l'autorisation ALTER sur la base de données.</span><span class="sxs-lookup"><span data-stu-id="a73a4-152">Requires ALTER permission on the database.</span></span>  
  
 <span data-ttu-id="a73a4-153">Requiert l'autorisation ALTER AVAILABILITY GROUP sur le groupe de disponibilité, l'autorisation CONTROL AVAILABILITY GROUP, l'autorisation ALTER ANY AVAILABILITY GROUP ou l'autorisation CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="a73a4-153">Requires ALTER AVAILABILITY GROUP permission on the availability group, CONTROL AVAILABILITY GROUP permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="a73a4-154">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="a73a4-154">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="a73a4-155">**Pour interrompre une base de données**</span><span class="sxs-lookup"><span data-stu-id="a73a4-155">**To suspend a database**</span></span>  
  
1.  <span data-ttu-id="a73a4-156">Dans l'Explorateur d'objets, connectez-vous à l'instance de serveur qui héberge le réplica de disponibilité sur lequel vous souhaitez interrompre une base de données et développez l'arborescence du serveur.</span><span class="sxs-lookup"><span data-stu-id="a73a4-156">In Object Explorer, connect to the server instance that hosts the availability replica on which you want to suspend a database, and expand the server tree.</span></span> <span data-ttu-id="a73a4-157">Pour plus d'informations, consultez [Conditions préalables requises](#Prerequisites), plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="a73a4-157">For more information, see [Prerequisites](#Prerequisites), earlier in this topic.</span></span>  
  
2.  <span data-ttu-id="a73a4-158">Développez le nœud **Haute disponibilité AlwaysOn** et le nœud **Groupes de disponibilité** .</span><span class="sxs-lookup"><span data-stu-id="a73a4-158">Expand the **AlwaysOn High Availability** node and the **Availability Groups** node.</span></span>  
  
3.  <span data-ttu-id="a73a4-159">Développez le groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="a73a4-159">Expand the availability group.</span></span>  
  
4.  <span data-ttu-id="a73a4-160">Développez le nœud **Bases de données de disponibilité** , cliquez avec le bouton droit sur la base de données, puis sélectionnez **Suspendre le déplacement des données**.</span><span class="sxs-lookup"><span data-stu-id="a73a4-160">Expand the **Availability Databases** node, right-click the database, and click **Suspend Data Movement**.</span></span>  
  
5.  <span data-ttu-id="a73a4-161">Dans la boîte de dialogue **Suspendre le déplacement des données** , cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="a73a4-161">In the **Suspend Data Movement** dialog box, click **OK**.</span></span>  
  
     <span data-ttu-id="a73a4-162">L'Explorateur d'objets indique que la base de données est interrompue en modifiant l'icône de base de données de sorte qu'elle affiche un indicateur de pause.</span><span class="sxs-lookup"><span data-stu-id="a73a4-162">Object Explorer indicates that the database is suspended by changing  the database icon to display a pause indicator.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a73a4-163">Pour interrompre des bases de données supplémentaires sur cet emplacement de réplica, répétez les étapes 4 et 5 pour chaque base de données.</span><span class="sxs-lookup"><span data-stu-id="a73a4-163">To suspend additional databases on this replica location, repeat steps 4 and 5  for each database.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="a73a4-164">Utilisation de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="a73a4-164">Using Transact-SQL</span></span>  
 <span data-ttu-id="a73a4-165">**Pour interrompre une base de données**</span><span class="sxs-lookup"><span data-stu-id="a73a4-165">**To suspend a database**</span></span>  
  
1.  <span data-ttu-id="a73a4-166">Connectez-vous à l'instance de serveur qui héberge le réplica dont vous souhaitez interrompre la base de données.</span><span class="sxs-lookup"><span data-stu-id="a73a4-166">Connect to the server instance that hosts the replica whose database you want to suspend.</span></span> <span data-ttu-id="a73a4-167">Pour plus d'informations, consultez [Conditions préalables requises](#Prerequisites), plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="a73a4-167">For more information, see [Prerequisites](#Prerequisites), earlier in this topic.</span></span>  
  
2.  <span data-ttu-id="a73a4-168">Interrompez la base de données à l’aide de l’instruction [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql-set-hadr)suivante :</span><span class="sxs-lookup"><span data-stu-id="a73a4-168">Suspend the database by using the following [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql-set-hadr)statement:</span></span>  
  
     <span data-ttu-id="a73a4-169">ALTER DATABASE *database_name* Set Hadr suspend</span><span class="sxs-lookup"><span data-stu-id="a73a4-169">ALTER DATABASE *database_name* SET HADR SUSPEND</span></span>  
  
##  <a name="using-powershell"></a><a name="PowerShellProcedure"></a> <span data-ttu-id="a73a4-170">Utilisation de PowerShell</span><span class="sxs-lookup"><span data-stu-id="a73a4-170">Using PowerShell</span></span>  
 <span data-ttu-id="a73a4-171">**Pour interrompre une base de données**</span><span class="sxs-lookup"><span data-stu-id="a73a4-171">**To suspend a database**</span></span>  
  
1.  <span data-ttu-id="a73a4-172">Accédez au répertoire (`cd`) de l'instance de serveur qui héberge le réplica dont vous souhaitez interrompre la base de données.</span><span class="sxs-lookup"><span data-stu-id="a73a4-172">Change directory (`cd`) to the server instance that hosts the replica whose database you want to suspend.</span></span> <span data-ttu-id="a73a4-173">Pour plus d'informations, consultez [Conditions préalables requises](#Prerequisites), plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="a73a4-173">For more information, see [Prerequisites](#Prerequisites), earlier in this topic.</span></span>  
  
2.  <span data-ttu-id="a73a4-174">Utilisez l'applet de commande `Suspend-SqlAvailabilityDatabase` pour interrompre le groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="a73a4-174">Use the `Suspend-SqlAvailabilityDatabase` cmdlet to suspend the availability group.</span></span>  
  
     <span data-ttu-id="a73a4-175">Par exemple, la commande suivante interrompt la synchronisation des données pour la base de données de disponibilité `MyDb3` dans le groupe de disponibilité `MyAg` sur l’instance de serveur nommée `Computer\Instance`.</span><span class="sxs-lookup"><span data-stu-id="a73a4-175">For example, the following command suspends data synchronization for the availability database `MyDb3` in the availability group `MyAg` on the server instance named `Computer\Instance`.</span></span>  
  
    ```powershell
    Suspend-SqlAvailabilityDatabase -Path SQLSERVER:\Sql\Computer\Instance\AvailabilityGroups\MyAg\Databases\MyDb3  
    ```  
  
    > [!NOTE]  
    >  <span data-ttu-id="a73a4-176">Pour afficher la syntaxe d'une applet de commande, utilisez l'applet de commande `Get-Help` dans l'environnement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a73a4-176">To view the syntax of a cmdlet, use the `Get-Help` cmdlet in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell environment.</span></span> <span data-ttu-id="a73a4-177">Pour en savoir plus, voir [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="a73a4-177">For more information, see [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span></span>  
  
 <span data-ttu-id="a73a4-178">**Pour configurer et utiliser le fournisseur SQL Server PowerShell**</span><span class="sxs-lookup"><span data-stu-id="a73a4-178">**To set up and use the SQL Server PowerShell provider**</span></span>  
  
-   [<span data-ttu-id="a73a4-179">Fournisseur SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="a73a4-179">SQL Server PowerShell Provider</span></span>](../../../powershell/sql-server-powershell-provider.md)  
  
##  <a name="follow-up-avoiding-a-full-transaction-log"></a><a name="FollowUp"></a> <span data-ttu-id="a73a4-180">Suivi : Comment éviter un journal des transactions plein</span><span class="sxs-lookup"><span data-stu-id="a73a4-180">Follow Up: Avoiding a Full Transaction Log</span></span>  
 <span data-ttu-id="a73a4-181">En général, lorsqu'un point de contrôle automatique est effectué sur une base de données, son journal des transactions est tronqué jusqu'à ce point de contrôle après la sauvegarde du journal suivante.</span><span class="sxs-lookup"><span data-stu-id="a73a4-181">Normally, when an automatic checkpoint is performed on a database, its transaction log is truncated to that checkpoint after the next log backup.</span></span> <span data-ttu-id="a73a4-182">Toutefois, pendant qu'une base de données secondaire est interrompue, tous les enregistrements de journal en cours restent actifs sur la base de données primaire.</span><span class="sxs-lookup"><span data-stu-id="a73a4-182">However, while a secondary database is suspended, all of the current log records remain active on the primary database.</span></span> <span data-ttu-id="a73a4-183">Si le journal des transactions est saturé (soit parce qu'il a atteint sa taille maximale, soit parce que l'instance de serveur manque de place), la base de données ne peut plus effectuer de mises à jour.</span><span class="sxs-lookup"><span data-stu-id="a73a4-183">If the transaction log fills up (either because it reaches its maximum size or the server instance runs out of space), the database cannot perform any more updates.</span></span>  
  
 <span data-ttu-id="a73a4-184">Pour éviter ce problème, vous devez procédez de l'une des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="a73a4-184">To avoid this problem, you should do one of the following:</span></span>  
  
-   <span data-ttu-id="a73a4-185">Ajoutez davantage d'espace de journal pour la base de données primaire.</span><span class="sxs-lookup"><span data-stu-id="a73a4-185">Add more log space for the primary database.</span></span>  
  
-   <span data-ttu-id="a73a4-186">Reprenez la base de données secondaire avant que le journal ne soit saturé.</span><span class="sxs-lookup"><span data-stu-id="a73a4-186">Resume the secondary database before the log fills up.</span></span> <span data-ttu-id="a73a4-187">Pour plus d'informations, consultez [Reprendre une base de données de disponibilité &#40;SQL Server&#41;](resume-an-availability-database-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="a73a4-187">For more information, see [Resume an Availability Database &#40;SQL Server&#41;](resume-an-availability-database-sql-server.md).</span></span>  
  
-   <span data-ttu-id="a73a4-188">Supprimez la base de données secondaire.</span><span class="sxs-lookup"><span data-stu-id="a73a4-188">Remove the secondary database.</span></span> <span data-ttu-id="a73a4-189">Pour plus d’informations, consultez [Supprimer une base de données secondaire d’un groupe de disponibilité &#40;SQL Server&#41;](remove-a-secondary-database-from-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="a73a4-189">For more information, see [Remove a Secondary Database from an Availability Group &#40;SQL Server&#41;](remove-a-secondary-database-from-an-availability-group-sql-server.md).</span></span>  
  
 <span data-ttu-id="a73a4-190">**Pour résoudre les problèmes liés à la saturation du journal des transactions**</span><span class="sxs-lookup"><span data-stu-id="a73a4-190">**To troubleshoot a full transaction log**</span></span>  
  
-   [<span data-ttu-id="a73a4-191">Résoudre les problèmes liés à un journal des transactions saturé &#40;erreur SQL Server 9002&#41;</span><span class="sxs-lookup"><span data-stu-id="a73a4-191">Troubleshoot a Full Transaction Log &#40;SQL Server Error 9002&#41;</span></span>](../../../relational-databases/logs/troubleshoot-a-full-transaction-log-sql-server-error-9002.md)  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="a73a4-192">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="a73a4-192">Related Tasks</span></span>  
  
-   [<span data-ttu-id="a73a4-193">Reprendre une base de données de disponibilité &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a73a4-193">Resume an Availability Database &#40;SQL Server&#41;</span></span>](resume-an-availability-database-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="a73a4-194">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="a73a4-194">See Also</span></span>  
 <span data-ttu-id="a73a4-195">[Vue d’ensemble de groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="a73a4-195">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="a73a4-196">Reprendre une base de données de disponibilité &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a73a4-196">Resume an Availability Database &#40;SQL Server&#41;</span></span>](resume-an-availability-database-sql-server.md)  
