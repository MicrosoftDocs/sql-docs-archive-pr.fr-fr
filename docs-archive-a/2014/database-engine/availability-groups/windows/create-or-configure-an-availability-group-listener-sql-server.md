---
title: Créer ou configurer un écouteur de groupe de disponibilité (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql12.swb.availabilitygroup.newaglistener.general.f1
helpviewer_keywords:
- Availability Groups [SQL Server], listeners
- Availability Groups [SQL Server], client connectivity
ms.assetid: 2bc294f6-2312-4b6b-9478-2fb8a656e645
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 2c74e92286eab4bc1be8f3f538d83d86f056cf01
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87710811"
---
# <a name="create-or-configure-an-availability-group-listener-sql-server"></a><span data-ttu-id="2f571-102">Créer ou configurer un écouteur de groupe de disponibilité (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2f571-102">Create or Configure an Availability Group Listener (SQL Server)</span></span>
  <span data-ttu-id="2f571-103">Cette rubrique explique comment créer ou configurer un *écouteur de groupe de disponibilité* unique pour un groupe de disponibilité AlwaysOn à l’aide de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] , de [!INCLUDE[tsql](../../../includes/tsql-md.md)] ou de PowerShell dans [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2f571-103">This topic describes how to create or configure a single *availability group listener* for an AlwaysOn availability group by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2f571-104">Pour créer le premier écouteur d'un groupe de disponibilité, nous vous recommandons d'utiliser [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)]ou [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2f571-104">To create the first availability group listener of an availability group, we strongly recommend that you [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell.</span></span> <span data-ttu-id="2f571-105">Évitez de créer un écouteur directement dans le cluster WSFC, sauf si cela s'avère nécessaire, par exemple, pour créer un écouteur supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="2f571-105">Avoid creating a listener directly in the WSFC cluster except when necessary, for example, to create an additional listener.</span></span>  
  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="2f571-106">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="2f571-106">Before You Begin</span></span>  
  
###  <a name="does-a-listener-exist-for-this-availability-group-already"></a><a name="DoesListenerExist"></a> <span data-ttu-id="2f571-107">Existe-t-il déjà un écouteur pour ce groupe de disponibilité ?</span><span class="sxs-lookup"><span data-stu-id="2f571-107">Does a Listener Exist for this Availability Group Already?</span></span>  
 <span data-ttu-id="2f571-108">**Pour déterminer si un écouteur existe déjà pour le groupe de disponibilité**</span><span class="sxs-lookup"><span data-stu-id="2f571-108">**To determine whether a listener already exists for the availability group**</span></span>  
  
-   [<span data-ttu-id="2f571-109">Afficher les propriétés d’écouteur de groupe de disponibilité &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2f571-109">View Availability Group Listener Properties &#40;SQL Server&#41;</span></span>](view-availability-group-listener-properties-sql-server.md)  
  
> [!NOTE]  
>  <span data-ttu-id="2f571-110">Si un écouteur existe déjà et que vous souhaitez créer un écouteur supplémentaire, consultez [Pour créer un écouteur supplémentaire pour un groupe de disponibilité (facultatif)](#CreateAdditionalListener), plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="2f571-110">If a listener already exists and you want to create an additional listener, see [To Create An Additional Listener for an Availability Group (Optional)](#CreateAdditionalListener), later in this topic.</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="2f571-111">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="2f571-111">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="2f571-112">Vous ne pouvez créer qu'un seul écouteur par groupe de disponibilité via [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2f571-112">You can create only one listener per availability group through [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="2f571-113">En général, chaque groupe de disponibilité nécessite un seul écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-113">Typically, each availability group requires only one listener.</span></span> <span data-ttu-id="2f571-114">Toutefois, certains scénarios de client requièrent plusieurs écouteurs pour un groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="2f571-114">However, some customer scenarios require multiple listeners for one availability group.</span></span>   <span data-ttu-id="2f571-115">Après la création d'un écouteur par SQL Server, vous pouvez utiliser Windows PowerShell pour les clusters de basculement ou le gestionnaire de cluster de basculement WSFC pour crée des écouteurs supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="2f571-115">After creating a listener through SQL Server, you can use Windows PowerShell for failover clusters or the WSFC Failover Cluster Manager to create additional listeners.</span></span> <span data-ttu-id="2f571-116">Pour plus d’informations, consultez [Pour créer un écouteur supplémentaire pour un groupe de disponibilité (facultatif)](#CreateAdditionalListener), plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="2f571-116">For more information, see [To Create An Additional Listener for an Availability Group (Optional)](#CreateAdditionalListener), later in this topic.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="2f571-117">Recommandations</span><span class="sxs-lookup"><span data-stu-id="2f571-117">Recommendations</span></span>  
 <span data-ttu-id="2f571-118">L'utilisation d'une adresse IP statique est recommandée, mais n'est pas obligatoire, en cas de configurations de plusieurs sous-réseaux.</span><span class="sxs-lookup"><span data-stu-id="2f571-118">Using a static IP address is recommended, although not required, for multiple subnet configurations.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="2f571-119">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="2f571-119">Prerequisites</span></span>  
  
-   <span data-ttu-id="2f571-120">Vous devez être connecté à l'instance de serveur qui héberge le réplica principal.</span><span class="sxs-lookup"><span data-stu-id="2f571-120">You must be connected to the server instance that hosts the primary replica.</span></span>  
  
-   <span data-ttu-id="2f571-121">Si vous configurez un écouteur de groupe de disponibilité sur plusieurs sous-réseaux et si vous planifiez d'utiliser des adresses IP statiques, vous devez obtenir l'adresse IP statique de chaque sous-réseau qui héberge un réplica de disponibilité pour le groupe de disponibilité pour lequel vous créez l'écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-121">If you are setting up an availability group listener across multiple subnets and plan to use static IP addresses, you need to get the static IP address of every subnet that hosts an availability replica for the availability group for which you are creating the listener.</span></span> <span data-ttu-id="2f571-122">Généralement, vous devez demander à votre administrateur réseau de vous communiquer les adresses IP statiques.</span><span class="sxs-lookup"><span data-stu-id="2f571-122">Usually, you will need to ask your network administrators for the static IP addresses.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2f571-123">Avant de créer votre premier écouteur, nous vous recommandons fortement de lire [Connectivité client AlwaysOn &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2f571-123">Before you create your first listener, we strongly recommend that you read [AlwaysOn Client Connectivity &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span></span>  
  
###  <a name="requirements-for-the-dns-name-of-an-availability-group-listener"></a><a name="DNSnameReqs"></a> <span data-ttu-id="2f571-124">Conditions requises pour le nom DNS d'un écouteur de groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="2f571-124">Requirements for the DNS Name of an Availability Group Listener</span></span>  
 <span data-ttu-id="2f571-125">Chaque écouteur du groupe de disponibilité a besoin d'un nom d'hôte DNS unique dans le domaine et dans NetBIOS.</span><span class="sxs-lookup"><span data-stu-id="2f571-125">Each availability group listener requires a DNS host name that is unique in the domain and in NetBIOS.</span></span> <span data-ttu-id="2f571-126">Le nom DNS est une valeur de chaîne.</span><span class="sxs-lookup"><span data-stu-id="2f571-126">The DNS name is a string value.</span></span> <span data-ttu-id="2f571-127">Ce nom ne peut contenir que des caractères alphanumériques, des tirets (-) et des caractères de soulignement (_), dans n'importe quel ordre.</span><span class="sxs-lookup"><span data-stu-id="2f571-127">This name can contain only alphanumeric characters, dashes (-), and hyphens (_), in any order.</span></span> <span data-ttu-id="2f571-128">Les noms d'hôte DNS ne respectent pas la casse.</span><span class="sxs-lookup"><span data-stu-id="2f571-128">DNS host names are case insensitive.</span></span> <span data-ttu-id="2f571-129">La longueur maximale est de 63 caractères, toutefois, dans [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], la longueur maximale que vous pouvez spécifier est 15 caractères.</span><span class="sxs-lookup"><span data-stu-id="2f571-129">The maximum length is 63 characters, however, in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], the maximum length you can specify is 15 characters.</span></span>  
  
 <span data-ttu-id="2f571-130">Nous vous recommandons de spécifier une chaîne explicite.</span><span class="sxs-lookup"><span data-stu-id="2f571-130">We recommend that you specify a meaningful string.</span></span> <span data-ttu-id="2f571-131">Par exemple, pour un groupe de disponibilité nommé `AG1`, un nom d'hôte DNS explicite est `ag1-listener`.</span><span class="sxs-lookup"><span data-stu-id="2f571-131">For example, for an availability group named `AG1`, a meaningful DNS host name would be `ag1-listener`.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2f571-132">NetBIOS identifie les 15 premiers caractères du nom_dns.</span><span class="sxs-lookup"><span data-stu-id="2f571-132">NetBIOS recognizes only the first 15 chars in the dns_name.</span></span> <span data-ttu-id="2f571-133">Si vous avez deux clusters WSFC qui sont contrôlés par le même annuaire Active Directory et que vous tentez de créer des écouteurs de groupe de disponibilité dans les deux clusters à l'aide de noms contenant plus de 15 caractères et un préfixe identique de 15 caractères, vous obtenez une erreur signalant que la ressource de nom de réseau virtuel ne peut pas être mise en ligne.</span><span class="sxs-lookup"><span data-stu-id="2f571-133">If you have two WSFC clusters that are controlled by the same Active Directory and you try to create availability group listeners in both of clusters using names with more than 15 characters and an identical 15 character prefix, you will get an error reporting that the Virtual Network Name resource could not be brought online.</span></span> <span data-ttu-id="2f571-134">Pour plus d'informations sur les règles de préfixe des noms DNS, consultez [Attribution de noms de domaine](https://technet.microsoft.com/library/cc731265\(WS.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="2f571-134">For information about prefix naming rules for DNS names, see [Assigning Domain Names](https://technet.microsoft.com/library/cc731265\(WS.10\).aspx).</span></span>  
  
###  <a name="windows-permissions"></a><a name="WinPermissions"></a> <span data-ttu-id="2f571-135">Autorisations Windows</span><span class="sxs-lookup"><span data-stu-id="2f571-135">Windows Permissions</span></span>  
  
|<span data-ttu-id="2f571-136">Autorisations</span><span class="sxs-lookup"><span data-stu-id="2f571-136">Permissions</span></span>|<span data-ttu-id="2f571-137">Lien</span><span class="sxs-lookup"><span data-stu-id="2f571-137">Link</span></span>|  
|-----------------|----------|  
|<span data-ttu-id="2f571-138">Le nom d’objet cluster (CNO) du cluster WSFC qui héberge le groupe de disponibilité doit disposer de l’autorisation de **création d’objets ordinateur** .</span><span class="sxs-lookup"><span data-stu-id="2f571-138">The cluster object name (CNO) of WSFC cluster that is hosting the availability group must have **Create Computer objects** permission.</span></span><br /><br /> <span data-ttu-id="2f571-139">Dans Active Directory, un CNO ne dispose pas par défaut explicitement de l’autorisation de **création d’objets ordinateur** et peut créer 10 objets ordinateur virtuel (VCO).</span><span class="sxs-lookup"><span data-stu-id="2f571-139">In Active Directory, a CNO by default does not have **Create Computer objects** permission explicitly and can create 10 virtual computer objects (VCOs).</span></span> <span data-ttu-id="2f571-140">Une fois les 10 VCO créés, la création de VCO supplémentaires échoue.</span><span class="sxs-lookup"><span data-stu-id="2f571-140">After 10 VCOs are created, the creation of additional VCOs will fail.</span></span> <span data-ttu-id="2f571-141">Vous pouvez éviter cela en accordant l’autorisation explicite au CNO du cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="2f571-141">You can avoid this by granting the permission explicitly to the WSFC cluster's CNO.</span></span> <span data-ttu-id="2f571-142">Notez que les VCO des groupes de disponibilité que vous avez supprimé ne sont pas supprimés automatiquement dans Active Directory et sont pris en compte dans le nombre maximal par défaut de 10 VCO, sauf s'ils sont supprimés manuellement.</span><span class="sxs-lookup"><span data-stu-id="2f571-142">Note that VCOs for availability groups that you have deleted are not automatically deleted in Active Directory and count against your 10 VCO default limit unless they are manually deleted.</span></span><br /><br /> <span data-ttu-id="2f571-143">Remarque : Dans certaines organisations, la stratégie de sécurité interdit d’accorder l’autorisation de **création d’objets ordinateur** aux comptes d’utilisateur individuels.</span><span class="sxs-lookup"><span data-stu-id="2f571-143">Note: In some organizations, the security policy prohibits granting **Create Computer objects** permission to individual user accounts.</span></span>|<span data-ttu-id="2f571-144">*Étapes pour configurer le compte de la personne qui installe le cluster* dans le [Guide pas à pas du cluster de basculement : Configuration des comptes dans Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_installer)</span><span class="sxs-lookup"><span data-stu-id="2f571-144">*Steps for configuring the account for the person who installs the cluster* in [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_installer)</span></span><br /><br /> <span data-ttu-id="2f571-145">*Étapes de préconfiguration du nom du compte de cluster* dans le [Guide pas à pas du cluster de basculement : Configuration des comptes dans Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating)</span><span class="sxs-lookup"><span data-stu-id="2f571-145">*Steps for prestaging the cluster name account* in [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating)</span></span>|  
|<span data-ttu-id="2f571-146">Si votre organisation requiert la préconfiguration du compte d’ordinateur pour un nom de réseau virtuel d’écouteur, vous devrez être membre du groupe **Opérateur de compte** ou vous aurez besoin de l’aide de l’administrateur de domaine.</span><span class="sxs-lookup"><span data-stu-id="2f571-146">If your organization requires that you prestage the computer account for a listener virtual network name, you will need membership in the **Account Operator** group or your domain administrator's assistance.</span></span><br /><br /> <span data-ttu-id="2f571-147">Conseil : En général, il est plus simple de ne pas préconfigurer le compte d’ordinateur pour un nom de réseau virtuel d’écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-147">Tip: Generally, it is simplest not to prestage the computer account for a listener virtual network name.</span></span> <span data-ttu-id="2f571-148">Si vous le pouvez, laissez le compte être créé et configuré automatiquement lorsque vous exécutez l'Assistant WSFC haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="2f571-148">If you can, let the account to be created and configured automatically when you run the WSFC High Availability wizard.</span></span>|<span data-ttu-id="2f571-149">*Étapes de préconfiguration d’un compte pour un service cluster ou une application* dans [Guide pas à pas du cluster de basculement : Configuration des comptes dans Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating2).</span><span class="sxs-lookup"><span data-stu-id="2f571-149">*Steps for prestaging an account for a clustered service or application* in [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating2).</span></span>|  
  
###  <a name="sql-server-permissions"></a><a name="SqlPermissions"></a> <span data-ttu-id="2f571-150">Autorisations SQL Server</span><span class="sxs-lookup"><span data-stu-id="2f571-150">SQL Server Permissions</span></span>  
  
|<span data-ttu-id="2f571-151">Tâche</span><span class="sxs-lookup"><span data-stu-id="2f571-151">Task</span></span>|<span data-ttu-id="2f571-152">Autorisations</span><span class="sxs-lookup"><span data-stu-id="2f571-152">Permissions</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="2f571-153">Pour créer un écouteur de groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="2f571-153">To create an availability group listener</span></span>|<span data-ttu-id="2f571-154">Requiert l’appartenance au rôle serveur fixe **sysadmin** et l’autorisation de serveur CREATE AVAILABILITY GROUP, l’autorisation ALTER ANY AVAILABILITY GROUP ou l’autorisation CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="2f571-154">Requires membership in the **sysadmin** fixed server role and either CREATE AVAILABILITY GROUP server permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>|  
|<span data-ttu-id="2f571-155">Pour modifier un écouteur de groupe de disponibilité existant</span><span class="sxs-lookup"><span data-stu-id="2f571-155">To modify an existing availability group listener</span></span>|<span data-ttu-id="2f571-156">Requiert l'autorisation ALTER AVAILABILITY GROUP sur le groupe de disponibilité, l'autorisation CONTROL AVAILABILITY GROUP, l'autorisation ALTER ANY AVAILABILITY GROUP ou l'autorisation CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="2f571-156">Requires ALTER AVAILABILITY GROUP permission on the availability group, CONTROL AVAILABILITY GROUP permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>|  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="2f571-157">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="2f571-157">Using SQL Server Management Studio</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="2f571-158">L’ [Assistant Nouveau groupe de disponibilité](use-the-new-availability-group-dialog-box-sql-server-management-studio.md) prend en charge la création de l’écouteur pour un nouveau groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="2f571-158">The [New Availability Group wizard](use-the-new-availability-group-dialog-box-sql-server-management-studio.md) supports creation of the listener for a new availability group.</span></span>  
  
 <span data-ttu-id="2f571-159">**Pour créer ou configurer un écouteur de groupe de disponibilité**</span><span class="sxs-lookup"><span data-stu-id="2f571-159">**To create or configure an availability group listener**</span></span>  
  
1.  <span data-ttu-id="2f571-160">Dans l'Explorateur d'objets, connectez-vous à l'instance de serveur qui héberge le réplica principal du groupe de disponibilité, puis cliquez sur le nom du serveur pour développer l'arborescence du serveur.</span><span class="sxs-lookup"><span data-stu-id="2f571-160">In Object Explorer, connect to the server instance that hosts the primary replica of the availability group, and click the server name to expand the server tree.</span></span>  
  
2.  <span data-ttu-id="2f571-161">Développez le nœud **Haute disponibilité AlwaysOn** et le nœud **Groupes de disponibilité** .</span><span class="sxs-lookup"><span data-stu-id="2f571-161">Expand the **AlwaysOn High Availability** node and the **Availability Groups** node.</span></span>  
  
3.  <span data-ttu-id="2f571-162">Cliquez sur le groupe de disponibilité dont vous souhaitez configurer l'écouteur, puis choisissez l'une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="2f571-162">Click the availability group whose listener you want to configure, and choose one of the following alternatives:</span></span>  
  
    -   <span data-ttu-id="2f571-163">Pour créer un écouteur, cliquez avec le bouton droit sur le nœud **Écouteurs de groupe de disponibilité** , puis sélectionnez la commande **Nouvel écouteur** .</span><span class="sxs-lookup"><span data-stu-id="2f571-163">To create a listener, right-click the **Availability group Listeners** node, and select the **New Listener** command.</span></span> <span data-ttu-id="2f571-164">Cela ouvre la boîte de dialogue **Nouvel écouteur du groupe de disponibilité** .</span><span class="sxs-lookup"><span data-stu-id="2f571-164">This opens the **New Availability Group Listener** dialog box.</span></span> <span data-ttu-id="2f571-165">Pour plus d’informations, consultez [Ajouter l’écouteur du groupe de disponibilité (boîte de dialogue)](#AddAgListenerDialog), plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="2f571-165">For more information, see [Add Availability Group Listener (Dialog Box)](#AddAgListenerDialog), later in this topic.</span></span>  
  
    -   <span data-ttu-id="2f571-166">Pour modifier le numéro de port d’un écouteur existant, développez le nœud **Écouteurs de groupe de disponibilité** , cliquez avec le bouton droit sur l’écouteur, puis sélectionnez la commande **Propriétés** .</span><span class="sxs-lookup"><span data-stu-id="2f571-166">To change the port number of an existing listener, expand the **Availability group Listeners** node, right-click the listener, and select the **Properties** command.</span></span> <span data-ttu-id="2f571-167">Entrez le nouveau numéro de port dans le champ **Port** , puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="2f571-167">Enter the new port number into the **Port** field, and click **OK**.</span></span>  
  
###  <a name="new-availability-group-listener-dialog-box"></a><a name="AddAgListenerDialog"></a> <span data-ttu-id="2f571-168">Nouvel écouteur du groupe de disponibilité (boîte de dialogue)</span><span class="sxs-lookup"><span data-stu-id="2f571-168">New Availability Group Listener (Dialog Box)</span></span>  
 <span data-ttu-id="2f571-169">**Nom DNS de l'écouteur**</span><span class="sxs-lookup"><span data-stu-id="2f571-169">**Listener DNS Name**</span></span>  
 <span data-ttu-id="2f571-170">Spécifie le nom d'hôte DNS de l'écouteur du groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="2f571-170">Specifies the DNS host name of the availability group listener.</span></span> <span data-ttu-id="2f571-171">Le nom DNS est une chaîne et doit être unique dans le domaine et dans NetBIOS.</span><span class="sxs-lookup"><span data-stu-id="2f571-171">The DNS name is a string  must be unique in the domain and in NetBIOS.</span></span> <span data-ttu-id="2f571-172">Ce nom ne peut contenir que des caractères alphanumériques, des tirets (-) et des caractères de soulignement (_), dans n'importe quel ordre.</span><span class="sxs-lookup"><span data-stu-id="2f571-172">This name can contain only alphanumeric characters, dashes (-), and hyphens (_), in any order.</span></span> <span data-ttu-id="2f571-173">Les noms d'hôte DNS ne respectent pas la casse.</span><span class="sxs-lookup"><span data-stu-id="2f571-173">DNS host names are case insensitive.</span></span> <span data-ttu-id="2f571-174">La longueur maximale autorisée s'élève à 15 caractères.</span><span class="sxs-lookup"><span data-stu-id="2f571-174">The maximum length is 15 characters.</span></span>  
  
 <span data-ttu-id="2f571-175">Pour plus d'informations, consultez [Conditions requises pour le nom DNS d'un écouteur de groupe de disponibilité](#DNSnameReqs), plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="2f571-175">For more information, see [Requirements for the DNS Name of an Availability Group Listener](#DNSnameReqs), earlier in this topic.</span></span>  
  
 <span data-ttu-id="2f571-176">**Port**</span><span class="sxs-lookup"><span data-stu-id="2f571-176">**Port**</span></span>  
 <span data-ttu-id="2f571-177">Port TPC utilisé par cet écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-177">The TPC port used by this listener.</span></span>  
  
 <span data-ttu-id="2f571-178">**Mode réseau**</span><span class="sxs-lookup"><span data-stu-id="2f571-178">**Network Mode**</span></span>  
 <span data-ttu-id="2f571-179">Indique le protocole TCP utilisé par l'écouteur, à savoir :</span><span class="sxs-lookup"><span data-stu-id="2f571-179">Indicates the TCP protocol used by the listener, one of:</span></span>  
  
 <span data-ttu-id="2f571-180">**DHCP**</span><span class="sxs-lookup"><span data-stu-id="2f571-180">**DHCP**</span></span>  
 <span data-ttu-id="2f571-181">L'écouteur utilise une adresse IP dynamique affectée par un serveur exécutant le protocole DHCP (Dynamic Host Configuration Protocol).</span><span class="sxs-lookup"><span data-stu-id="2f571-181">The listener will us a dynamic IP address that is assigned by a server running the Dynamic Host Configuration Protocol (DHCP).</span></span> <span data-ttu-id="2f571-182">DHCP est limité à un sous-réseau.</span><span class="sxs-lookup"><span data-stu-id="2f571-182">DHCP is limited to a single subnet.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2f571-183">Nous vous déconseillons d'utiliser DHCP dans un environnement de production.</span><span class="sxs-lookup"><span data-stu-id="2f571-183">We do not recommend DHCP in production environment.</span></span> <span data-ttu-id="2f571-184">Lorsqu'un temps mort se produit et que le bail IP DHCP arrive à expiration, une période de temps supplémentaire est requise pour enregistrer la nouvelle adresse IP de réseau DHCP associée au nom DNS de l'écouteur et cela a un impact sur la connectivité client.</span><span class="sxs-lookup"><span data-stu-id="2f571-184">If there is a down time and the DHCP IP lease expires, extra time is required to register the new DHCP network IP address that is associated with the listener DNS name and impact the client connectivity.</span></span> <span data-ttu-id="2f571-185">Toutefois, DHCP peut tout à fait être utilisé pour configurer un environnement de développement et de test dans le but de vérifier les fonctions de base des groupes de disponibilité et l'intégration avec vos applications.</span><span class="sxs-lookup"><span data-stu-id="2f571-185">However, DHCP is good for setting up your development and testing environment to verify basic functions of availability groups and for integration with your applications.</span></span>  
  
 <span data-ttu-id="2f571-186">**Adresse IP statique**</span><span class="sxs-lookup"><span data-stu-id="2f571-186">**Static IP**</span></span>  
 <span data-ttu-id="2f571-187">L'écouteur utilise une ou plusieurs adresses IP statiques.</span><span class="sxs-lookup"><span data-stu-id="2f571-187">The listener will use one or more static IP addresses.</span></span> <span data-ttu-id="2f571-188">Les adresses IP supplémentaires sont facultatives.</span><span class="sxs-lookup"><span data-stu-id="2f571-188">Additional IP addresses are optional.</span></span> <span data-ttu-id="2f571-189">Pour créer un écouteur de groupe de disponibilité sur plusieurs sous-réseaux, vous devez spécifier, pour chaque sous-réseau, une adresse IP statique dans la configuration de l'écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-189">To create an availability group listener across multiple subnets, for each subnet you must specify a static IP address in the listener configuration.</span></span> <span data-ttu-id="2f571-190">Contactez votre administrateur réseau pour obtenir ces adresses IP statiques.</span><span class="sxs-lookup"><span data-stu-id="2f571-190">Contact your network administrator to get these static IP addresses.</span></span>  
  
 <span data-ttu-id="2f571-191">Si vous sélectionnez **Adresse IP statique** , une grille de sous-réseau apparaît sous le champ **Mode réseau** .</span><span class="sxs-lookup"><span data-stu-id="2f571-191">If you select **Static IP** a subnet grid appears below the **Network Mode** field.</span></span> <span data-ttu-id="2f571-192">Cette grille affiche des informations sur chaque sous-réseau accessible par cet écouteur de groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="2f571-192">This grid displays information about each subnet that can be accessed by this availability group listener.</span></span> <span data-ttu-id="2f571-193">Cette grille est vide tant que vous n'avez pas ajouté une adresse IP statique en cliquant sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="2f571-193">This grid is empty until you add a static IP address by clicking **Add**.</span></span>  
  
 <span data-ttu-id="2f571-194">Les colonnes sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="2f571-194">The columns are as follows:</span></span>  
  
 <span data-ttu-id="2f571-195">**Sous-réseau**</span><span class="sxs-lookup"><span data-stu-id="2f571-195">**Subnet**</span></span>  
 <span data-ttu-id="2f571-196">Affiche l'identificateur de chaque sous-réseau que vous ajoutez à l'écouteur du groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="2f571-196">Displays the identifier of each subnet that you add to the availability group listener.</span></span>  
  
 <span data-ttu-id="2f571-197">**Adresse IP**</span><span class="sxs-lookup"><span data-stu-id="2f571-197">**IP Address**</span></span>  
 <span data-ttu-id="2f571-198">Affiche l'adresse IP d'un sous-réseau donné.</span><span class="sxs-lookup"><span data-stu-id="2f571-198">Displays the IP address of a given subnet.</span></span>  <span data-ttu-id="2f571-199">Pour un sous-réseau donné, l'adresse IP est une adresse IPv4 ou une adresse IPv6.</span><span class="sxs-lookup"><span data-stu-id="2f571-199">For a given subnet, the IP address is either an IPv4 address or an IPv6 address.</span></span>  
  
 <span data-ttu-id="2f571-200">**Ajouter**</span><span class="sxs-lookup"><span data-stu-id="2f571-200">**Add**</span></span>  
 <span data-ttu-id="2f571-201">Cliquez pour ajouter une adresse IP statique dans un sous-réseau sélectionné ou un autre sous-réseau pour cet écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-201">Click to add to add a static IP address to a selected subnet or to another subnet for this listener.</span></span> <span data-ttu-id="2f571-202">Cela ouvre la boîte de dialogue **Ajouter une adresse IP** .</span><span class="sxs-lookup"><span data-stu-id="2f571-202">This opens the **Add IP Address** dialog box.</span></span> <span data-ttu-id="2f571-203">Pour plus d’informations, consultez la rubrique d’aide [Boîte de dialogue Ajouter une adresse IP &#40;SQL Server Management Studio&#41;](add-ip-address-dialog-box-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="2f571-203">For more information, see the [Add IP Address Dialog Box &#40;SQL Server Management Studio&#41;](add-ip-address-dialog-box-sql-server-management-studio.md) help topic.</span></span>  
  
 <span data-ttu-id="2f571-204">**Remove**</span><span class="sxs-lookup"><span data-stu-id="2f571-204">**Remove**</span></span>  
 <span data-ttu-id="2f571-205">Cliquez pour supprimer le sous-réseau sélectionné de cet écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-205">Click to remove the selected subnet from this listener.</span></span>  
  
 <span data-ttu-id="2f571-206">**OK**</span><span class="sxs-lookup"><span data-stu-id="2f571-206">**OK**</span></span>  
 <span data-ttu-id="2f571-207">Cliquez pour créer l'écouteur de groupe de disponibilité spécifié.</span><span class="sxs-lookup"><span data-stu-id="2f571-207">Click to create the specified availability group listener.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="2f571-208">Utilisation de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="2f571-208">Using Transact-SQL</span></span>  

### <a name="to-create-or-configure-an-availability-group-listener"></a><span data-ttu-id="2f571-209">Pour créer ou configurer un écouteur de groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="2f571-209">To create or configure an availability group listener</span></span>
  
1.  <span data-ttu-id="2f571-210">Connectez-vous à l'instance de serveur qui héberge le réplica principal.</span><span class="sxs-lookup"><span data-stu-id="2f571-210">Connect to the server instance that hosts the primary replica.</span></span>  
  
2.  <span data-ttu-id="2f571-211">Utilisez l'option LISTENER de l'instruction [CREATE AVAILABILITY GROUP](/sql/t-sql/statements/create-availability-group-transact-sql) ou de l'option ADD LISTENER de l'instruction [ALTER AVAILABILITY GROUP](/sql/t-sql/statements/alter-availability-group-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="2f571-211">Use the LISTENER option of the [CREATE AVAILABILITY GROUP](/sql/t-sql/statements/create-availability-group-transact-sql) statement or the ADD LISTENER option of the [ALTER AVAILABILITY GROUP](/sql/t-sql/statements/alter-availability-group-transact-sql) statement.</span></span>  
  
     <span data-ttu-id="2f571-212">L'exemple suivant ajoute un écouteur de groupe de disponibilité à un groupe de disponibilité existant nommé `MyAg2`.</span><span class="sxs-lookup"><span data-stu-id="2f571-212">The following example adds an availability group listener to an existing availability group named `MyAg2`.</span></span> <span data-ttu-id="2f571-213">Un seul nom DNS, `MyAg2ListenerIvP6`, est spécifié pour cet écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-213">A unique DNS name, `MyAg2ListenerIvP6`, is specified for this listener.</span></span> <span data-ttu-id="2f571-214">Les deux réplicas sont sur des sous-réseaux différents, par conséquent, selon les recommandations, l'écouteur doit utiliser des adresses IP statiques.</span><span class="sxs-lookup"><span data-stu-id="2f571-214">The two replicas are on different subnets, so , as recommended, the listener uses static IP addresses.</span></span> <span data-ttu-id="2f571-215">Pour les deux réplicas de disponibilité, la clause WITH IP spécifie une adresse IP statique, `2001:4898:f0:f00f::cf3c and 2001:4898:e0:f213::4ce2`, qui utilisent le format IPv6.</span><span class="sxs-lookup"><span data-stu-id="2f571-215">For each of the two availability replicas, the WITH IP clause specifies a static IP address, `2001:4898:f0:f00f::cf3c and 2001:4898:e0:f213::4ce2`, which use the IPv6 format.</span></span> <span data-ttu-id="2f571-216">Cet exemple utilise également l'argument facultatif PORT pour spécifier le port `60173` comme port d'écoute.</span><span class="sxs-lookup"><span data-stu-id="2f571-216">This example also specifies uses the optional PORT argument to specify port `60173` as the listener port.</span></span>  
  
    ```sql
    ALTER AVAILABILITY GROUP MyAg2   
          ADD LISTENER 'MyAg2ListenerIvP6' ( WITH IP ( ('2001:db88:f0:f00f::cf3c'),('2001:4898:e0:f213::4ce2') ) , PORT = 60173 );   
    GO  
    ```  
  
##  <a name="using-powershell"></a><a name="PowerShellProcedure"></a> <span data-ttu-id="2f571-217">Utilisation de PowerShell</span><span class="sxs-lookup"><span data-stu-id="2f571-217">Using PowerShell</span></span>  

### <a name="to-create-or-configure-an-availability-group-listener"></a><span data-ttu-id="2f571-218">Pour créer ou configurer un écouteur de groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="2f571-218">To create or configure an availability group listener</span></span> 
  
1.  <span data-ttu-id="2f571-219">Accédez au répertoire (`cd`) de l'instance de serveur qui héberge le réplica principal.</span><span class="sxs-lookup"><span data-stu-id="2f571-219">Change directory (`cd`) to the server instance that hosts the primary replica.</span></span>  
  
2.  <span data-ttu-id="2f571-220">Pour créer ou modifier un écouteur de groupe de disponibilité, utilisez l'une des applets de commande suivantes :</span><span class="sxs-lookup"><span data-stu-id="2f571-220">To create or modify an availability group listener use one of the following cmdlets:</span></span>  
  
     `New-SqlAvailabilityGroupListener`  
     <span data-ttu-id="2f571-221">Crée un écouteur de groupe de disponibilité et l'attache à un groupe de disponibilité existant.</span><span class="sxs-lookup"><span data-stu-id="2f571-221">Creates a new availability group listener and attaches it to an existing availability group.</span></span>  
  
     <span data-ttu-id="2f571-222">Par exemple, la commande `New-SqlAvailabilityGroupListener` suivante crée un écouteur de groupe de disponibilité nommé `MyListener` pour le groupe de disponibilité `MyAg`.</span><span class="sxs-lookup"><span data-stu-id="2f571-222">For example, the following `New-SqlAvailabilityGroupListener` command creates an availability group listener named `MyListener` for the availability group `MyAg`.</span></span> <span data-ttu-id="2f571-223">Cet écouteur utilise l'adresse IPv4 passée au paramètre `-StaticIp` comme adresse IP virtuelle.</span><span class="sxs-lookup"><span data-stu-id="2f571-223">This listener will use the IPv4 address passed to the `-StaticIp` parameter as its virtual IP address.</span></span>  
  
    ```powershell
    New-SqlAvailabilityGroupListener -Name MyListener `
    -StaticIp '192.168.3.1/255.255.252.0' `
    -Path SQLSERVER:\Sql\Computer\Instance\AvailabilityGroups\MyAg
    ```  
  
     `Set-SqlAvailabilityGroupListener`  
     <span data-ttu-id="2f571-224">Modifie le paramètre de port sur un écouteur de groupe de disponibilité existant.</span><span class="sxs-lookup"><span data-stu-id="2f571-224">Modifies the port setting on an existing availability group listener.</span></span>  
  
     <span data-ttu-id="2f571-225">Par exemple, la commande `Set-SqlAvailabilityGroupListener` suivante affecte le numéro de port `MyListener` pour l'écouteur de groupe de disponibilité nommé `1535`.</span><span class="sxs-lookup"><span data-stu-id="2f571-225">For example, the following `Set-SqlAvailabilityGroupListener` command sets the port number for the availability group listener named `MyListener` to `1535`.</span></span> <span data-ttu-id="2f571-226">Ce port est utilisé pour écouter les connexions à l'écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-226">This port is used to listen for connections to the listener.</span></span>  
  
    ```powershell
    Set-SqlAvailabilityGroupListener -Port 1535 `
    -Path SQLSERVER:\Sql\PrimaryServer\InstanceName\AvailabilityGroups\MyAg\AGListeners\MyListener  
    ```  
  
     `Add-SqlAGListenerstaticIp`  
     <span data-ttu-id="2f571-227">Ajoute une adresse IP statique à une configuration existante d'écouteur de groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="2f571-227">Adds a static IP address to an existing availability group listener configuration.</span></span> <span data-ttu-id="2f571-228">L'adresse IP peut être une adresse IPv4 avec sous-réseau ou une adresse IPv6.</span><span class="sxs-lookup"><span data-stu-id="2f571-228">The IP address can be an IPv4 address with subnet, or an IPv6 address.</span></span>  
  
     <span data-ttu-id="2f571-229">Par exemple, la commande `Add-SqlAGListenerstaticIp` suivante ajoute une adresse IPv4 statique à l'écouteur de groupe de disponibilité `MyListener` sur le groupe de disponibilité `MyAg`.</span><span class="sxs-lookup"><span data-stu-id="2f571-229">For example, the following `Add-SqlAGListenerstaticIp` command adds a static IPv4 address to the availability group listener `MyListener` on the availability group `MyAg`.</span></span> <span data-ttu-id="2f571-230">Cette adresse IPv6 sert d'adresse IP virtuelle de l'écouteur sur le sous-réseau `255.255.252.0`.</span><span class="sxs-lookup"><span data-stu-id="2f571-230">This IPv6 address serves as the virtual IP address of the listener on the subnet `255.255.252.0`.</span></span> <span data-ttu-id="2f571-231">Si le groupe de disponibilité s'étend sur plusieurs sous-réseaux, vous devez ajouter une adresse IP statique pour chaque sous-réseau connecté à l'écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-231">If the availability group spans multiple subnets, you should add a static IP address for each subnet to the listener.</span></span>  
  
    ```powershell
    $path = "SQLSERVER:\SQL\PrimaryServer\InstanceName\AvailabilityGroups\MyAg\AGListeners\ MyListener" `
    Add-SqlAGListenerstaticIp -Path $path `
    -StaticIp "2001:0db8:85a3:0000:0000:8a2e:0370:7334"  
    ```  
  
    > [!NOTE]  
    >  <span data-ttu-id="2f571-232">Pour afficher la syntaxe d’une applet de commande, utilisez l’applet de commande **obtenir-Help** dans l' [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] environnement PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2f571-232">To view the syntax of a cmdlet, use the **Get-Help**  cmdlet in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell environment.</span></span> <span data-ttu-id="2f571-233">Pour en savoir plus, voir [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="2f571-233">For more information, see [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span></span>  
  
<span data-ttu-id="2f571-234">Pour configurer et utiliser le fournisseur de SQL Server PowerShell, consultez [SQL Server PowerShell Provider](../../../powershell/sql-server-powershell-provider.md).</span><span class="sxs-lookup"><span data-stu-id="2f571-234">To set up and use the SQL Server PowerShell provider, see [SQL Server PowerShell Provider](../../../powershell/sql-server-powershell-provider.md).</span></span>
  
## <a name="troubleshooting"></a><span data-ttu-id="2f571-235">Résolution des problèmes</span><span class="sxs-lookup"><span data-stu-id="2f571-235">Troubleshooting</span></span>  
  
###  <a name="failure-to-create-an-availability-group-listener-because-of-active-directory-quotas"></a><a name="ADQuotas"></a><span data-ttu-id="2f571-236">Échec de création d’un écouteur de groupe de disponibilité en raison de quotas de Active Directory</span><span class="sxs-lookup"><span data-stu-id="2f571-236">Failure to Create An Availability Group Listener Because of Active Directory Quotas</span></span>  
 <span data-ttu-id="2f571-237">La création d'un nouvel écouteur de groupe de disponibilité peut échouer parce que vous avez atteint un quota Active Directory pour le compte d'ordinateur participant du nœud de cluster.</span><span class="sxs-lookup"><span data-stu-id="2f571-237">The creation of a new availability group listener may fail upon creation because you have reached an Active Directory quota for the participating cluster node machine account.</span></span>  <span data-ttu-id="2f571-238">Pour plus d’informations, consultez les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="2f571-238">For more information, see the following articles:</span></span>  
  
-   [<span data-ttu-id="2f571-239">LIEN hypertexte « https://support.microsoft.com/kb/307532 » Comment résoudre les problèmes liés au compte de service de cluster lorsqu’il modifie des objets ordinateur</span><span class="sxs-lookup"><span data-stu-id="2f571-239">HYPERLINK "https://support.microsoft.com/kb/307532" How to Troubleshoot the Cluster Service Account When It Modifies Computer Objects</span></span>](https://support.microsoft.com/kb/307532)  
  
-   <span data-ttu-id="2f571-240">[LIEN hypertexte « https://technet.microsoft.com/library/cc904295(WS.10).aspx » Active Directory les quotas](https://technet.microsoft.com/library/cc904295\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="2f571-240">[HYPERLINK "https://technet.microsoft.com/library/cc904295(WS.10).aspx" Active Directory Quotas](https://technet.microsoft.com/library/cc904295\(WS.10\).aspx)</span></span>  
  
##  <a name="follow-up-after-creating-an-availability-group-listener"></a><a name="FollowUp"></a> <span data-ttu-id="2f571-241">Suivi : après avoir créé un écouteur de groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="2f571-241">Follow-up: After Creating an Availability Group Listener</span></span>  
  
###  <a name="multisubnetfailover-keyword-and-associated-features"></a><a name="MultiSubnetFailover"></a><span data-ttu-id="2f571-242">Mot clé MultiSubnetFailover et fonctionnalités associées</span><span class="sxs-lookup"><span data-stu-id="2f571-242">MultiSubnetFailover Keyword and Associated Features</span></span>  
 <span data-ttu-id="2f571-243">`MultiSubnetFailover` est un nouveau mot clé de chaîne de connexion utilisé pour permettre un basculement plus rapide avec les groupes de disponibilité AlwaysOn et les instances de cluster de basculement AlwaysOn dans SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="2f571-243">`MultiSubnetFailover` is a new connection string keyword used to enable faster failover with AlwaysOn Availability Groups and AlwaysOn Failover Cluster Instances in SQL Server 2012.</span></span> <span data-ttu-id="2f571-244">Les trois sous-fonctionnalités suivantes sont activées lorsque `MultiSubnetFailover=True` est défini dans la chaîne de connexion :</span><span class="sxs-lookup"><span data-stu-id="2f571-244">The following three sub-features are enabled when `MultiSubnetFailover=True` is set in connection string:</span></span>  
  
-   <span data-ttu-id="2f571-245">Basculement plus rapide de sous-réseaux multiples vers un écouteur de sous-réseaux multiples pour un groupe de disponibilité AlwaysOn ou des instances de cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="2f571-245">Faster multi-subnet failover to a multi-subnet listener for an AlwaysOn Availability Group or Failover Cluster Instances.</span></span>  
  
-   <span data-ttu-id="2f571-246">Basculement plus rapide d'un sous-réseau unique vers un écouteur de sous-réseau unique pour un groupe de disponibilité AlwaysOn ou des instances de cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="2f571-246">Faster single subnet failover to a single subnet listener for an AlwaysOn Availability Group or Failover Cluster Instances.</span></span>  
  
    -   <span data-ttu-id="2f571-247">Cette fonctionnalité est utilisée pour la connexion à un écouteur comportant une IP unique dans un seul sous-réseau.</span><span class="sxs-lookup"><span data-stu-id="2f571-247">This feature is used when connecting to a listener that has a single IP in a single subnet.</span></span> <span data-ttu-id="2f571-248">Elle permet d'exécuter des tentatives de connexion TCP plus agressives afin d'accélérer les basculements au sein d'un sous-réseau unique.</span><span class="sxs-lookup"><span data-stu-id="2f571-248">This performs more aggressive TCP connection retries to speed up single subnet failovers.</span></span>  
  
-   <span data-ttu-id="2f571-249">Résolution d'instance nommée pour une instance de cluster de basculement AlwaysOn de sous-réseaux multiples.</span><span class="sxs-lookup"><span data-stu-id="2f571-249">Named instance resolution to a multi-subnet AlwaysOn Failover Cluster Instance.</span></span>  
  
    -   <span data-ttu-id="2f571-250">Elle permet de prendre en charge la résolution d'instance nommée pour des instances de cluster de basculement AlwaysOn avec des points de terminaison de sous-réseaux multiples.</span><span class="sxs-lookup"><span data-stu-id="2f571-250">This is to add named instance resolution support for an AlwaysOn Failover Cluster Instances with multiple subnet endpoints.</span></span>  
  
 <span data-ttu-id="2f571-251">**MultiSubnetFailover=True non pris en charge par NET Framework 3.5 ou OLEDB**</span><span class="sxs-lookup"><span data-stu-id="2f571-251">**MultiSubnetFailover=True Not Supported by NET Framework 3.5 or OLEDB**</span></span>  
  
 <span data-ttu-id="2f571-252">**Problème :** Si votre groupe de disponibilité ou votre instance de cluster de basculement a un nom d’écouteur (appelé nom de réseau ou point d’accès client dans le gestionnaire de cluster WSFC) en fonction de plusieurs adresses IP de sous-réseaux différents, et que vous utilisez l’un ou l’autre ADO.NET avec .NET Framework 3.5 SP1 ou SQL Native Client OLEDB 11,0, potentiellement 50% des demandes de connexion clientes à l’écouteur</span><span class="sxs-lookup"><span data-stu-id="2f571-252">**Issue:** If your Availability Group or Failover Cluster Instance has a listener name (known as the network name or Client Access Point in the WSFC Cluster Manager) depending on multiple IP addresses from different subnets, and you are using either ADO.NET with .NET Framework 3.5SP1 or SQL Native Client 11.0 OLEDB, potentially 50% of your client-connection requests to the availability group listener will hit a connection timeout.</span></span>  
  
 <span data-ttu-id="2f571-253">**Solutions de contournement :** nous vous recommandons d’effectuer l’une des tâches suivantes.</span><span class="sxs-lookup"><span data-stu-id="2f571-253">**Workarounds:** We recommend that you do one of the following tasks.</span></span>  
  
-   <span data-ttu-id="2f571-254">Si vous n'êtes pas autorisé à manipuler les ressources de cluster, définissez le délai de connexion à 30 secondes (cette valeur correspond au délai TCP de 20 secondes plus un tampon de 10 secondes).</span><span class="sxs-lookup"><span data-stu-id="2f571-254">If do not have the permission to manipulate cluster resources, change your connection timeout to 30 seconds (this value results in a 20-second TCP timeout period plus a 10-second buffer).</span></span>  
  
     <span data-ttu-id="2f571-255">**Avantages** : en cas de basculement de sous-réseaux croisé, la durée de récupération du client est courte.</span><span class="sxs-lookup"><span data-stu-id="2f571-255">**Pros**: If a cross-subnet failover occurs, client recovery time is short.</span></span>  
  
     <span data-ttu-id="2f571-256">**Inconvénients** : la moitié des connexions du client prendront plus de 20 secondes.</span><span class="sxs-lookup"><span data-stu-id="2f571-256">**Cons**: Half of the client connections will take more than 20 seconds</span></span>  
  
-   <span data-ttu-id="2f571-257">Si vous disposez d'une autorisation vous permettant de manipuler les ressources du cluster, l'approche privilégiée consiste à définir le nom du réseau de votre écouteur de groupe de disponibilité en tant que `RegisterAllProvidersIP=0`.</span><span class="sxs-lookup"><span data-stu-id="2f571-257">If you have the permission to manipulate cluster resources, the more recommended approach is to set the network name of your availability group listener to `RegisterAllProvidersIP=0`.</span></span> <span data-ttu-id="2f571-258">Pour plus d’informations, consultez « Paramètre RegisterAllProvidersIP » plus loin dans cette section.</span><span class="sxs-lookup"><span data-stu-id="2f571-258">For more information, see "RegisterAllProvidersIP Setting" later in this section.</span></span>  
  
     <span data-ttu-id="2f571-259">**Avantages** : vous n’avez pas besoin d’augmenter la valeur du délai de connexion du client.</span><span class="sxs-lookup"><span data-stu-id="2f571-259">**Pros:** You do not need to increase your client-connection timeout value.</span></span>  
  
     <span data-ttu-id="2f571-260">**Inconvénients :** En cas de basculement de sous-réseaux croisés, le temps de récupération du client peut être de 15 minutes ou plus, en fonction de votre `HostRecordTTL` paramètre et du paramètre de votre planification de la réplication DNS/ad entre sites.</span><span class="sxs-lookup"><span data-stu-id="2f571-260">**Cons:** If a cross-subnet failover occurs, the client recovery time could be 15 minutes or longer, depending on your `HostRecordTTL` setting and the setting of your cross-site DNS/AD replication schedule.</span></span>  
  
###  <a name="registerallprovidersip-setting"></a><a name="RegisterAllProvidersIP"></a><span data-ttu-id="2f571-261">Paramètre RegisterAllProvidersIP</span><span class="sxs-lookup"><span data-stu-id="2f571-261">RegisterAllProvidersIP Setting</span></span>  
 <span data-ttu-id="2f571-262">Lorsque vous utilisez [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] ou PowerShell pour créer un écouteur de groupe de disponibilité, le point d'accès client est créé dans WSFC avec la propriété `RegisterAllProvidersIP` ayant la valeur 1 (True).</span><span class="sxs-lookup"><span data-stu-id="2f571-262">When you use [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell to create an availability group listener, the Client Access Point is created in WSFC with the `RegisterAllProvidersIP` property set to 1 (true).</span></span> <span data-ttu-id="2f571-263">L'effet de cette valeur de propriété dépend de la chaîne de connexion du client, comme suit :</span><span class="sxs-lookup"><span data-stu-id="2f571-263">The effect of this property value depends on the client connection string, as follows:</span></span>  
  
-   <span data-ttu-id="2f571-264">Chaînes de connexion qui affectent la valeur True à `MultiSubnetFailover`</span><span class="sxs-lookup"><span data-stu-id="2f571-264">Connection strings that set `MultiSubnetFailover` to true</span></span>  
  
     [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]<span data-ttu-id="2f571-265">affecte la `RegisterAllProvidersIP` valeur 1 à la propriété afin de réduire le temps de reconnexion après un basculement pour les clients dont les chaînes de connexion client spécifient `MultiSubnetFailover = True` , comme recommandé.</span><span class="sxs-lookup"><span data-stu-id="2f571-265">sets the  `RegisterAllProvidersIP` property to 1 in order to reduce re-connection time after a failover for clients whose client connection strings specify `MultiSubnetFailover = True`, as recommended.</span></span> <span data-ttu-id="2f571-266">Notez que pour tirer parti des fonctionnalités de sous-réseaux multiples d'écouteur, les clients peuvent nécessiter un fournisseur de données qui prend en charge le mot clé `MultiSubnetFailover`.</span><span class="sxs-lookup"><span data-stu-id="2f571-266">Note that to take advantage of the listener multi-subnet feature, your clients might require a data provider that supports the `MultiSubnetFailover` keyword.</span></span> <span data-ttu-id="2f571-267">Pour plus d’informations sur la prise en charge du pilote pour le basculement de plusieurs sous-réseaux, consultez [Connectivité client AlwaysOn &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2f571-267">For information about driver support for multi-subnet failover, see [AlwaysOn Client Connectivity &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span></span>  
  
     <span data-ttu-id="2f571-268">Pour plus d’informations sur le clustering de sous-réseaux multiples, consultez [Clustering de sous-réseaux multiples SQL Server &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2f571-268">For information about multi-subnet clustering, see [SQL Server Multi-Subnet Clustering &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md).</span></span>  
  
    > [!TIP]  
    >  <span data-ttu-id="2f571-269">Lorsque `RegisterAllProvidersIP = 1`, si vous exécutez l'Assistant WSFC Validation d'une configuration sur le cluster WSFC, l'Assistant génère le message d'avertissement suivant :</span><span class="sxs-lookup"><span data-stu-id="2f571-269">When `RegisterAllProvidersIP = 1`, if you run the WSFC Validate a Configuration Wizard on the WSFC cluster, the wizard generates the following warning message:</span></span>  
    >   
    >  <span data-ttu-id="2f571-270">« La propriété RegisterAllProviderIP du nom réseau 'Name:<nom_réseau>' est définie sur 1. Pour la configuration de cluster actuelle, cette valeur doit être définie sur 0. »</span><span class="sxs-lookup"><span data-stu-id="2f571-270">"The RegisterAllProviderIP property for network name 'Name:<network_name>' is set to 1 For the current cluster configuration this value should be set to 0."</span></span>  
    >   
    >  <span data-ttu-id="2f571-271">Veuillez ignorer ce message.</span><span class="sxs-lookup"><span data-stu-id="2f571-271">Please ignore this message.</span></span>  
  
-   <span data-ttu-id="2f571-272">Chaînes de connexion qui n'affectent pas la valeur True à `MultiSubnetFailover`</span><span class="sxs-lookup"><span data-stu-id="2f571-272">Connection strings that do not set `MultiSubnetFailover` to true</span></span>  
  
     <span data-ttu-id="2f571-273">Lorsque `RegisterAllProvidersIP = 1`, tous les clients dont les chaînes de connexion n'utilisent pas `MultiSubnetFailover = True`rencontreront des connexions à latence élevée.</span><span class="sxs-lookup"><span data-stu-id="2f571-273">When `RegisterAllProvidersIP = 1`, any clients whose connection strings do not use `MultiSubnetFailover = True`, will experience high latency connections.</span></span> <span data-ttu-id="2f571-274">Cela est dû au fait que les clients essaient de se connecter à toutes les adresses IP de manière séquentielle.</span><span class="sxs-lookup"><span data-stu-id="2f571-274">This occurs because these clients attempt connections to all IPs sequentially.</span></span> <span data-ttu-id="2f571-275">En revanche, si `RegisterAllProvidersIP` est changé en 0, l'adresse IP active est enregistrée dans le point d'accès client du cluster WSFC, ce qui réduit la latence pour les clients hérités.</span><span class="sxs-lookup"><span data-stu-id="2f571-275">In contrast, if `RegisterAllProvidersIP` is changed to 0, the active IP address is registered in the Client Access Point in the WSFC cluster, reducing latency for legacy clients.</span></span> <span data-ttu-id="2f571-276">Par conséquent, si vous avez des clients hérités qui doivent se connecter à un écouteur de groupe de disponibilité et ne peuvent pas utiliser la `MultiSubnetFailover` propriété, nous vous recommandons de passer `RegisterAllProvidersIP` à la valeur 0.</span><span class="sxs-lookup"><span data-stu-id="2f571-276">Therefore, if you have legacy clients that need to connect to an availability group listener and cannot use the `MultiSubnetFailover` property, we recommend that you change `RegisterAllProvidersIP` to 0.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="2f571-277">Lorsque vous créez un écouteur de groupe de disponibilité dans le cluster WSFC (interface utilisateur du gestionnaire du cluster de basculement), `RegisterAllProvidersIP` a la valeur 0 (False) par défaut.</span><span class="sxs-lookup"><span data-stu-id="2f571-277">When you create an availability group listener through the WSFC cluster (Failover Cluster Manager GUI), `RegisterAllProvidersIP` will be 0 (false) by default.</span></span>  
  
###  <a name="hostrecordttl-setting"></a><a name="HostRecordTTL"></a> <span data-ttu-id="2f571-278">Paramètre HostRecordTTL</span><span class="sxs-lookup"><span data-stu-id="2f571-278">HostRecordTTL Setting</span></span>  
 <span data-ttu-id="2f571-279">Par défaut, le service DNS en cluster du cache des clients enregistre pendant 20 minutes.</span><span class="sxs-lookup"><span data-stu-id="2f571-279">By default, clients cache cluster DNS records for 20 minutes.</span></span>  <span data-ttu-id="2f571-280">En réduisant `HostRecordTTL`, la valeur de durée de vie (TTL) de l'enregistrement mis en cache, les clients hérités peuvent se reconnecter plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="2f571-280">By reducing `HostRecordTTL`, the Time to Live (TTL), for the cached record, legacy clients may reconnect more quickly.</span></span>  <span data-ttu-id="2f571-281">Toutefois, réduire le paramètre `HostRecordTTL` peut également entraîner une augmentation du trafic vers les serveurs DN.</span><span class="sxs-lookup"><span data-stu-id="2f571-281">However, reducing the `HostRecordTTL` setting may also result in increased traffic to the DN servers.</span></span>  
  
###  <a name="sample-powershell-script-to-disable-registerallprovidersip-and-reduce-ttl"></a><a name="SampleScript"></a><span data-ttu-id="2f571-282">Exemple de script PowerShell pour désactiver RegisterAllProvidersIP et réduire la durée de vie</span><span class="sxs-lookup"><span data-stu-id="2f571-282">Sample PowerShell Script to Disable RegisterAllProvidersIP and Reduce TTL</span></span>  
 <span data-ttu-id="2f571-283">L'exemple PowerShell suivant montre comment configurer à la fois les paramètres de cluster `RegisterAllProvidersIP` et `HostRecordTTL` pour la ressource d'écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-283">The following PowerShell example demonstrates how to configure both the `RegisterAllProvidersIP` and `HostRecordTTL` cluster parameters for the listener resource.</span></span>  <span data-ttu-id="2f571-284">L'enregistrement DNS sera mis en cache pendant 5 minutes plutôt que pendant 20 minutes (valeur par défaut).</span><span class="sxs-lookup"><span data-stu-id="2f571-284">The DNS record will be cached for 5 minutes rather than the default 20 minutes.</span></span>  <span data-ttu-id="2f571-285">La modification des deux paramètres de cluster peut réduire le temps de connexion à l'adresse IP correcte après un basculement pour les clients hérités qui ne peuvent pas utiliser le paramètre `MultiSubnetFailover`.</span><span class="sxs-lookup"><span data-stu-id="2f571-285">Modifying both cluster parameters may reduce the time to connect to the correct IP address after a failover for legacy clients that cannot use the `MultiSubnetFailover` parameter.</span></span>  <span data-ttu-id="2f571-286">Remplacez `yourListenerName` par le nom de l'écouteur que vous modifiez.</span><span class="sxs-lookup"><span data-stu-id="2f571-286">Replace `yourListenerName` with the name of the listener that you are changing.</span></span>  
  
```powershell
Import-Module FailoverClusters  
Get-ClusterResource yourListenerName | Set-ClusterParameter RegisterAllProvidersIP 0
Get-ClusterResource yourListenerName|Set-ClusterParameter HostRecordTTL 300  
Stop-ClusterResource yourListenerName  
Start-ClusterResource yourAGResource  
```  
  
 <span data-ttu-id="2f571-287">Pour plus d'informations sur les temps de récupération au cours d'un basculement, consultez [Client Recovery Latency During Failover](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md#DNS).</span><span class="sxs-lookup"><span data-stu-id="2f571-287">For more information about recovery times during failover, see [Client Recovery Latency During Failover](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md#DNS).</span></span>  
  
###  <a name="follow-up-recommendations"></a><a name="FollowUpRecommendations"></a> <span data-ttu-id="2f571-288">Recommandations de suivi</span><span class="sxs-lookup"><span data-stu-id="2f571-288">Follow-up Recommendations</span></span>  
 <span data-ttu-id="2f571-289">Après avoir créé un écouteur de groupe de disponibilité :</span><span class="sxs-lookup"><span data-stu-id="2f571-289">After you create an availability group listener:</span></span>  
  
-   <span data-ttu-id="2f571-290">Demandez à votre administrateur réseau de réserver l'adresse IP de l'écouteur pour son utilisation exclusive.</span><span class="sxs-lookup"><span data-stu-id="2f571-290">Ask your network administrator to reserve the listener's IP address for its exclusive use.</span></span>  
  
-   <span data-ttu-id="2f571-291">Fournissez le nom d'hôte DNS de l'écouteur aux développeurs d'applications pour qu'ils l'utilisent dans les chaînes de connexion lorsqu'ils demandent des connexions clientes vers ce groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="2f571-291">Give the listener's DNS host name to application developers to use in connection strings when requesting client connections to this availability group.</span></span>  
  
-   <span data-ttu-id="2f571-292">Encouragez les développeurs à mettre à jour les chaînes de connexion du client pour spécifier `MultiSubnetFailover = True`, si possible.</span><span class="sxs-lookup"><span data-stu-id="2f571-292">Encourage developers to update client connection strings to specify `MultiSubnetFailover = True`, if possible.</span></span> <span data-ttu-id="2f571-293">Pour plus d’informations sur la prise en charge du pilote pour le basculement de plusieurs sous-réseaux, consultez [Connectivité client AlwaysOn &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2f571-293">For information about driver support for multi-subnet failover, see [AlwaysOn Client Connectivity &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span></span>  
  
###  <a name="create-an-additional-listener-for-an-availability-group-optional"></a><a name="CreateAdditionalListener"></a> <span data-ttu-id="2f571-294">Créer un écouteur supplémentaire pour un groupe de disponibilité (facultatif)</span><span class="sxs-lookup"><span data-stu-id="2f571-294">Create an Additional Listener for an Availability Group (Optional)</span></span>  
 <span data-ttu-id="2f571-295">Après avoir créé un écouteur via SQL Server, vous pouvez ajouter un écouteur supplémentaire, comme suit :</span><span class="sxs-lookup"><span data-stu-id="2f571-295">After you create one listener through SQL Server, you can add an additional listener, as follows:</span></span>  
  
1.  <span data-ttu-id="2f571-296">Créez l'écouteur à l'aide de l'un des outils suivants :</span><span class="sxs-lookup"><span data-stu-id="2f571-296">Create the listener using either of the following tools:</span></span>  
  
    -   <span data-ttu-id="2f571-297">**Utilisation du Gestionnaire de cluster de basculement WSFC :**</span><span class="sxs-lookup"><span data-stu-id="2f571-297">**Using WSFC Failover Cluster Manager:**</span></span>  
  
        1.  <span data-ttu-id="2f571-298">Ajoutez un point d'accès client et configurez l'adresse IP.</span><span class="sxs-lookup"><span data-stu-id="2f571-298">Add a client access point and configure the IP address.</span></span>  
  
        2.  <span data-ttu-id="2f571-299">Mettez l'écouteur en ligne.</span><span class="sxs-lookup"><span data-stu-id="2f571-299">Bring the listener online.</span></span>  
  
        3.  <span data-ttu-id="2f571-300">Ajoutez une dépendance à la ressource du groupe de disponibilité WSFC.</span><span class="sxs-lookup"><span data-stu-id="2f571-300">Add a dependency to the WSFC availability group resource.</span></span>  
  
         <span data-ttu-id="2f571-301">Pour plus d’informations sur les boîtes de dialogue et les onglets du gestionnaire du cluster de basculement, consultez [Interface utilisateur : composant logiciel enfichable du gestionnaire du cluster de basculement](https://technet.microsoft.com/library/cc772502.aspx).</span><span class="sxs-lookup"><span data-stu-id="2f571-301">For information about the dialog boxes and tabs of the Failover Cluster Manager, see [User Interface: The Failover Cluster Manager Snap-In](https://technet.microsoft.com/library/cc772502.aspx).</span></span>  
  
    -   <span data-ttu-id="2f571-302">**Utilisation de Windows PowerShell pour les clusters de basculement :**</span><span class="sxs-lookup"><span data-stu-id="2f571-302">**Using Windows PowerShell for failover clusters:**</span></span>  
  
        1.  <span data-ttu-id="2f571-303">Utilisez [Add-ClusterResource](https://technet.microsoft.com/library/ee460983.aspx) pour créer les ressources de nom réseau et d’adresse IP.</span><span class="sxs-lookup"><span data-stu-id="2f571-303">Use [Add-ClusterResource](https://technet.microsoft.com/library/ee460983.aspx) to create a network name and the IP address resources.</span></span>  
  
        2.  <span data-ttu-id="2f571-304">Utilisez [Start-ClusterResource](https://technet.microsoft.com/library/ee461056.aspx) pour démarrer la ressource de nom réseau.</span><span class="sxs-lookup"><span data-stu-id="2f571-304">Use [Start-ClusterResource](https://technet.microsoft.com/library/ee461056.aspx) to start the network name resource.</span></span>  
  
        3.  <span data-ttu-id="2f571-305">Utilisez [Add-ClusterResourceDependency](https://technet.microsoft.com/library/ee461014.aspx) pour définir la dépendance entre le nom réseau et la ressource existante du groupe de disponibilité SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2f571-305">Use [Add-ClusterResourceDependency](https://technet.microsoft.com/library/ee461014.aspx) to set the dependency between the network name and the existing SQL Server Availability Group resource.</span></span>  
  
         <span data-ttu-id="2f571-306">Pour plus d'informations sur l'utilisation de Windows PowerShell pour les clusters de basculement, consultez [Présentation des commandes du Gestionnaire de serveurs](https://technet.microsoft.com/library/cc732757.aspx#BKMK_wps).</span><span class="sxs-lookup"><span data-stu-id="2f571-306">For information about using Windows PowerShell for failover clusters, see [Overview of Server Manager Commands](https://technet.microsoft.com/library/cc732757.aspx#BKMK_wps).</span></span>  
  
2.  <span data-ttu-id="2f571-307">Démarrez l'écoute [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sur le nouvel écouteur.</span><span class="sxs-lookup"><span data-stu-id="2f571-307">Start [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] listening on the new listener.</span></span> <span data-ttu-id="2f571-308">Après avoir créé l'écouteur supplémentaire, connectez-vous à l'instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui héberge le réplica principal du groupe de disponibilité et utilisez [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)]ou PowerShell pour modifier le port d'écoute.</span><span class="sxs-lookup"><span data-stu-id="2f571-308">After creating the additional listener, connect to the instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that hosts the primary replica of the availability group and use [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell to modify the listener port.</span></span>  
  
 <span data-ttu-id="2f571-309">Pour plus d'informations, consultez [Créer plusieurs écouteurs pour le même groupe de disponibilité](https://blogs.msdn.com/b/sqlalwayson/archive/2012/02/03/how-to-create-multiple-listeners-for-same-availability-group-goden-yao.aspx) (blog de l'équipe de SQL Server AlwaysOn).</span><span class="sxs-lookup"><span data-stu-id="2f571-309">For more information, see [How to create multiple listeners for same availability group](https://blogs.msdn.com/b/sqlalwayson/archive/2012/02/03/how-to-create-multiple-listeners-for-same-availability-group-goden-yao.aspx) (a SQL Server AlwaysOn team blog).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="2f571-310">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="2f571-310">Related Tasks</span></span>  
  
-   [<span data-ttu-id="2f571-311">Afficher les propriétés d’écouteur de groupe de disponibilité &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2f571-311">View Availability Group Listener Properties &#40;SQL Server&#41;</span></span>](view-availability-group-listener-properties-sql-server.md)  
  
-   [<span data-ttu-id="2f571-312">Supprimer un écouteur de groupe de disponibilité &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2f571-312">Remove an Availability Group Listener &#40;SQL Server&#41;</span></span>](remove-an-availability-group-listener-sql-server.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="2f571-313">Contenu associé</span><span class="sxs-lookup"><span data-stu-id="2f571-313">Related Content</span></span>  
  
-   [<span data-ttu-id="2f571-314">Créer plusieurs écouteurs pour le même groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="2f571-314">How to create multiple listeners for same availability group</span></span>](https://blogs.msdn.com/b/sqlalwayson/archive/2012/02/03/how-to-create-multiple-listeners-for-same-availability-group-goden-yao.aspx)  
  
-   [<span data-ttu-id="2f571-315">Blog de l’équipe SQL Server AlwaysOn : blog officiel de l’équipe SQL Server AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="2f571-315">SQL Server AlwaysOn Team Blog: The official SQL Server AlwaysOn team blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
## <a name="see-also"></a><span data-ttu-id="2f571-316">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2f571-316">See Also</span></span>  
 <span data-ttu-id="2f571-317">[Vue d’ensemble de groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2f571-317">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="2f571-318">[Écouteurs de groupe de disponibilité, connectivité client et basculement d’application &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span><span class="sxs-lookup"><span data-stu-id="2f571-318">[Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span></span>  
 [<span data-ttu-id="2f571-319">Clustering de sous-réseaux multiples SQL Server &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2f571-319">SQL Server Multi-Subnet Clustering &#40;SQL Server&#41;</span></span>](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md)  
