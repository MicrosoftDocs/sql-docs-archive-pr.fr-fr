---
title: Vue d’ensemble des applets de commande PowerShell pour groupes de disponibilité AlwaysOn (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], PowerShell cmdlets
- Availability Groups [SQL Server], about
- PowerShell [SQL Server], cmdlets
ms.assetid: b3fef0d5-b6d7-4386-a0f0-d06c165ad4de
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b6861abb3358df5e8c223d387b82e22de0f2a9d5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87602287"
---
# <a name="overview-of-powershell-cmdlets-for-alwayson-availability-groups-sql-server"></a><span data-ttu-id="50e9f-102">Vue d'ensemble des applets de commande PowerShell pour les groupes de disponibilité AlwaysOn (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="50e9f-102">Overview of PowerShell Cmdlets for AlwaysOn Availability Groups (SQL Server)</span></span>
  [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="50e9f-103">PowerShell est un interpréteur de ligne de commande et un langage de script basé sur des tâches tout spécialement conçu pour l’administration système.</span><span class="sxs-lookup"><span data-stu-id="50e9f-103">PowerShell is a task-based command-line shell and scripting language designed especially for system administration.</span></span> [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="50e9f-104">fournit un ensemble d'applets de commande PowerShell dans [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] qui vous permet de déployer, gérer et surveiller des groupes de disponibilité, des réplicas de disponibilité et des bases de données de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-104">provides a set of PowerShell cmdlets in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] that enable you to deploy, manage, and monitor availability groups, availability replicas, and availability databases.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="50e9f-105">Une applet de commande PowerShell peut s'effectuer en initiant correctement une action.</span><span class="sxs-lookup"><span data-stu-id="50e9f-105">A PowerShell cmdlet can complete by successfully initiating an action.</span></span> <span data-ttu-id="50e9f-106">Cela n'indique pas si le travail prévu, tel que le basculement d'un groupe de disponibilité, est terminé.</span><span class="sxs-lookup"><span data-stu-id="50e9f-106">This does not indicate that the intended work, such as the fail over of an availability group, has completed.</span></span> <span data-ttu-id="50e9f-107">Lors de l'écriture sous forme de script d'une séquence d'actions, vous devrez peut-être vérifier l'état des actions et attendre la fin de leur exécution.</span><span class="sxs-lookup"><span data-stu-id="50e9f-107">When scripting a sequence of actions, you might have to check the status of actions, and wait for them to complete.</span></span>  
  
 <span data-ttu-id="50e9f-108">Cette rubrique présente les applets de commande pour les ensembles de tâches suivants :</span><span class="sxs-lookup"><span data-stu-id="50e9f-108">This topic introduces the cmdlets for the following sets of tasks:</span></span>  
  
-   [<span data-ttu-id="50e9f-109">Configuration d’une instance de serveur pour groupes de disponibilité AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="50e9f-109">Configuring a server instance for AlwaysOn Availability Groups</span></span>](#ConfiguringServerInstance)  
  
-   [<span data-ttu-id="50e9f-110">Sauvegarde et restauration des bases de données et des journaux des transactions</span><span class="sxs-lookup"><span data-stu-id="50e9f-110">Backing up and restoring databases and transaction logs</span></span>](#BnRcmdlets)  
  
-   [<span data-ttu-id="50e9f-111">Création et gestion d'un groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-111">Creating and managing an availability group</span></span>](#DeployManageAGs)  
  
-   [<span data-ttu-id="50e9f-112">Création et gestion d'un écouteur de groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-112">Creating and managing an availability group listener</span></span>](#AGlisteners)  
  
-   [<span data-ttu-id="50e9f-113">Création et gestion d'un réplica de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-113">Creating and managing an availability replica</span></span>](#DeployManageARs)  
  
-   [<span data-ttu-id="50e9f-114">Ajout et gestion d'une base de données de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-114">Adding and managing an availability database</span></span>](#DeployManageDbs)  
  
-   [<span data-ttu-id="50e9f-115">Surveillance de l'intégrité d'un groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-115">Monitoring availability group health</span></span>](#MonitorTblshtAGs)  
  
> [!NOTE]  
>  <span data-ttu-id="50e9f-116">Pour obtenir la liste des rubriques de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] la documentation en ligne qui expliquent comment utiliser les applets de commande pour effectuer des [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] tâches, consultez la section « tâches associées » de la rubrique [vue d’ensemble de groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="50e9f-116">For a list of topics in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] Books Online that describe how to use cmdlets to perform [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] tasks, see the "Related Tasks" section of [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span></span>  
  
##  <a name="configuring-a-server-instance-for-alwayson-availability-groups"></a><a name="ConfiguringServerInstance"></a><span data-ttu-id="50e9f-117">Configuration d’une instance de serveur pour groupes de disponibilité AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="50e9f-117">Configuring a Server Instance for AlwaysOn Availability Groups</span></span>  
  
|<span data-ttu-id="50e9f-118">Applets de commande</span><span class="sxs-lookup"><span data-stu-id="50e9f-118">Cmdlets</span></span>|<span data-ttu-id="50e9f-119">Description</span><span class="sxs-lookup"><span data-stu-id="50e9f-119">Description</span></span>|<span data-ttu-id="50e9f-120">Prise en charge sur</span><span class="sxs-lookup"><span data-stu-id="50e9f-120">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|`Disable-SqlAlwaysOn`|<span data-ttu-id="50e9f-121">Désactive la fonctionnalité [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] sur une instance de serveur.</span><span class="sxs-lookup"><span data-stu-id="50e9f-121">Disables the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature on a server instance.</span></span>|<span data-ttu-id="50e9f-122">Instance de serveur spécifiée par le paramètre `Path`, `InputObject` ou `Name`.</span><span class="sxs-lookup"><span data-stu-id="50e9f-122">The server instance that is specified by the `Path`, `InputObject`, or `Name` parameter.</span></span> <span data-ttu-id="50e9f-123">(Il doit s'agir d'une édition de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui prend en charge [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].)</span><span class="sxs-lookup"><span data-stu-id="50e9f-123">(Must be an edition of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that supports [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].)</span></span>|  
|`Enable-SqlAlwaysOn`|<span data-ttu-id="50e9f-124">Active [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] sur une instance de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] qui prend en charge la fonctionnalité [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="50e9f-124">Enables [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] on an instance of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] that supports the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature.</span></span> <span data-ttu-id="50e9f-125">Pour plus d’informations sur la prise en charge de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] , consultez [conditions préalables requises, restrictions et recommandations pour groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span><span class="sxs-lookup"><span data-stu-id="50e9f-125">For information about support for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], see [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span></span>|<span data-ttu-id="50e9f-126">Toute édition de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui prend en charge [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="50e9f-126">Any edition of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that supports [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span>|  
|`New-SqlHadrEndPoint`|<span data-ttu-id="50e9f-127">Crée un nouveau point de terminaison de mise en miroir de bases de données sur une instance de serveur.</span><span class="sxs-lookup"><span data-stu-id="50e9f-127">Creates a new database mirroring endpoint on a server instance.</span></span> <span data-ttu-id="50e9f-128">Ce point de terminaison est requis pour le déplacement des données entre des bases de données primaires et secondaires.</span><span class="sxs-lookup"><span data-stu-id="50e9f-128">This endpoint is required for data movement between primary and secondary databases.</span></span>|<span data-ttu-id="50e9f-129">Toute instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="50e9f-129">Any instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span></span>|  
|`Set-SqlHadrEndpoint`|<span data-ttu-id="50e9f-130">Modifie les propriétés d'un point de terminaison de mise en miroir de bases de données existant, telles que le nom, l'état ou les propriétés d'authentification.</span><span class="sxs-lookup"><span data-stu-id="50e9f-130">Changes the properties of an existing database mirroring endpoint, such as the name, state, or authentication properties.</span></span>|<span data-ttu-id="50e9f-131">Instance de serveur qui prend en charge [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] et ne dispose pas d'un point de terminaison de mise en miroir de bases de données</span><span class="sxs-lookup"><span data-stu-id="50e9f-131">A server instance that supports [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] and lacks a database mirroring endpoint</span></span>|  
  
##  <a name="backing-up-and-restoring-databases-and-transaction-logs"></a><a name="BnRcmdlets"></a><span data-ttu-id="50e9f-132">Sauvegarde et restauration des bases de données et des journaux des transactions</span><span class="sxs-lookup"><span data-stu-id="50e9f-132">Backing Up and Restoring Databases and Transaction Logs</span></span>  
  
|<span data-ttu-id="50e9f-133">Applets de commande</span><span class="sxs-lookup"><span data-stu-id="50e9f-133">Cmdlets</span></span>|<span data-ttu-id="50e9f-134">Description</span><span class="sxs-lookup"><span data-stu-id="50e9f-134">Description</span></span>|<span data-ttu-id="50e9f-135">Prise en charge sur</span><span class="sxs-lookup"><span data-stu-id="50e9f-135">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|`Backup-SqlDatabase`|<span data-ttu-id="50e9f-136">Crée une sauvegarde de données ou de journal.</span><span class="sxs-lookup"><span data-stu-id="50e9f-136">Creates a data or log backup.</span></span>|<span data-ttu-id="50e9f-137">Base de données en ligne (pour [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], base de données sur l'instance de serveur qui héberge le réplica principal)</span><span class="sxs-lookup"><span data-stu-id="50e9f-137">Any online database (for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], a database on the server instance that hosts the primary replica)</span></span>|  
|`Restore-SqlDatabase`|<span data-ttu-id="50e9f-138">Restaure une sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="50e9f-138">Restores a backup.</span></span>|<span data-ttu-id="50e9f-139">Instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (pour [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], instance de serveur qui héberge un réplica secondaire)</span><span class="sxs-lookup"><span data-stu-id="50e9f-139">Any instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], a server instance that hosts a secondary replica)</span></span><br /><br /> <span data-ttu-id="50e9f-140">**&#42;&#42;  &#42;&#42;importante** Lorsque vous préparez une base de données secondaire, vous devez utiliser le `-NoRecovery` paramètre dans chaque `Restore-SqlDatabase` commande.</span><span class="sxs-lookup"><span data-stu-id="50e9f-140">**&#42;&#42; Important &#42;&#42;** When preparing a secondary database, you must use the `-NoRecovery` parameter in every `Restore-SqlDatabase` command.</span></span>|  
  
 <span data-ttu-id="50e9f-141">Pour plus d’informations sur l’utilisation de ces applets de commande pour préparer une base de données secondaire, consultez [Préparer manuellement une base de données secondaire pour un groupe de disponibilité &#40;SQL Server&#41;](manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="50e9f-141">For information about using these cmdlets to prepare a secondary database, see [Manually Prepare a Secondary Database for an Availability Group &#40;SQL Server&#41;](manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md).</span></span>  
  
##  <a name="creating-and-managing-an-availability-group"></a><a name="DeployManageAGs"></a><span data-ttu-id="50e9f-142">Création et gestion d’un groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-142">Creating and Managing an Availability Group</span></span>  
  
|<span data-ttu-id="50e9f-143">Applets de commande</span><span class="sxs-lookup"><span data-stu-id="50e9f-143">Cmdlets</span></span>|<span data-ttu-id="50e9f-144">Description</span><span class="sxs-lookup"><span data-stu-id="50e9f-144">Description</span></span>|<span data-ttu-id="50e9f-145">Prise en charge sur</span><span class="sxs-lookup"><span data-stu-id="50e9f-145">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|`New-SqlAvailabilityGroup`|<span data-ttu-id="50e9f-146">Crée un groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-146">Creates a new availability group.</span></span>|<span data-ttu-id="50e9f-147">Instance de serveur pour héberger le réplica principal</span><span class="sxs-lookup"><span data-stu-id="50e9f-147">Server instance to host primary replica</span></span>|  
|`Remove-SqlAvailabilityGroup`|<span data-ttu-id="50e9f-148">Supprime un groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-148">Deletes availability group.</span></span>|<span data-ttu-id="50e9f-149">Instance de serveur activée pour le service HADR</span><span class="sxs-lookup"><span data-stu-id="50e9f-149">HADR-enabled server instance</span></span>|  
|`Set-SqlAvailabilityGroup`|<span data-ttu-id="50e9f-150">Définit les propriétés d'un groupe de disponibilité ; met un groupe de disponibilité en ligne/hors connexion</span><span class="sxs-lookup"><span data-stu-id="50e9f-150">Sets the properties of an availability group; take an availability group online/offline</span></span>|<span data-ttu-id="50e9f-151">Instance de serveur qui héberge le réplica principal</span><span class="sxs-lookup"><span data-stu-id="50e9f-151">Server instance that hosts primary replica</span></span>|  
|`Switch-SqlAvailabilityGroup`|<span data-ttu-id="50e9f-152">Démarre l'une des formes de basculement suivantes :</span><span class="sxs-lookup"><span data-stu-id="50e9f-152">Initiates one of the following forms of failover:</span></span><br /><br /> <span data-ttu-id="50e9f-153">Basculement forcé d'un groupe de disponibilité (avec possible perte de données).</span><span class="sxs-lookup"><span data-stu-id="50e9f-153">A forced failover of an availability group (with possible data loss).</span></span><br /><br /> <span data-ttu-id="50e9f-154">Basculement manuel d'un groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-154">A manual failover of an availability group.</span></span>|<span data-ttu-id="50e9f-155">Instance de serveur qui héberge le réplica secondaire cible.</span><span class="sxs-lookup"><span data-stu-id="50e9f-155">Server instance that hosts target secondary replica</span></span>|  
  
##  <a name="creating-and-managing-an-availability-group-listener"></a><a name="AGlisteners"></a><span data-ttu-id="50e9f-156">Création et gestion d’un écouteur de groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-156">Creating and Managing an Availability Group Listener</span></span>  
  
|<span data-ttu-id="50e9f-157">Applet de commande</span><span class="sxs-lookup"><span data-stu-id="50e9f-157">Cmdlet</span></span>|<span data-ttu-id="50e9f-158">Description</span><span class="sxs-lookup"><span data-stu-id="50e9f-158">Description</span></span>|<span data-ttu-id="50e9f-159">Prise en charge sur</span><span class="sxs-lookup"><span data-stu-id="50e9f-159">Supported on</span></span>|  
|------------|-----------------|------------------|  
|`New-SqlAvailabilityGroupListener`|<span data-ttu-id="50e9f-160">Crée un écouteur de groupe de disponibilité et l'attache à un groupe de disponibilité existant.</span><span class="sxs-lookup"><span data-stu-id="50e9f-160">Creates a new availability group listener and attaches it to an existing availability group.</span></span>|<span data-ttu-id="50e9f-161">Instance de serveur qui héberge le réplica principal</span><span class="sxs-lookup"><span data-stu-id="50e9f-161">Server instance that hosts primary replica</span></span>|  
|`Set-SqlAvailabilityGroupListener`|<span data-ttu-id="50e9f-162">Modifie le paramètre de port sur un écouteur de groupe de disponibilité existant.</span><span class="sxs-lookup"><span data-stu-id="50e9f-162">Modifies the port setting on an existing availability group listener.</span></span>|<span data-ttu-id="50e9f-163">Instance de serveur qui héberge le réplica principal</span><span class="sxs-lookup"><span data-stu-id="50e9f-163">Server instance that hosts primary replica</span></span>|  
|`Add-SqlAvailabilityGroupListenerStaticIp`|<span data-ttu-id="50e9f-164">Ajoute une adresse IP statique à une configuration existante d'écouteur de groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-164">Adds a static IP address to an existing availability group listener configuration.</span></span> <span data-ttu-id="50e9f-165">L'adresse IP peut être une adresse IPv4 avec sous-réseau ou une adresse IPv6.</span><span class="sxs-lookup"><span data-stu-id="50e9f-165">The IP address can be an IPv4 address with subnet, or an IPv6 address.</span></span>|<span data-ttu-id="50e9f-166">Instance de serveur qui héberge le réplica principal</span><span class="sxs-lookup"><span data-stu-id="50e9f-166">Server instance that hosts primary replica</span></span>|  
  
##  <a name="creating-and-managing-an-availability-replica"></a><a name="DeployManageARs"></a><span data-ttu-id="50e9f-167">Création et gestion d’un réplica de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-167">Creating and Managing an Availability Replica</span></span>  
  
|<span data-ttu-id="50e9f-168">Applets de commande</span><span class="sxs-lookup"><span data-stu-id="50e9f-168">Cmdlets</span></span>|<span data-ttu-id="50e9f-169">Description</span><span class="sxs-lookup"><span data-stu-id="50e9f-169">Description</span></span>|<span data-ttu-id="50e9f-170">Prise en charge sur</span><span class="sxs-lookup"><span data-stu-id="50e9f-170">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|<span data-ttu-id="50e9f-171">**New-SqlAvailabilityReplica**</span><span class="sxs-lookup"><span data-stu-id="50e9f-171">**New-SqlAvailabilityReplica**</span></span>|<span data-ttu-id="50e9f-172">Crée un réplica de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-172">Creates a new availability replica.</span></span> <span data-ttu-id="50e9f-173">Vous pouvez utiliser le paramètre `-AsTemplate` pour créer un objet en mémoire du réplica de disponibilité pour chaque nouveau réplica de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-173">You can Use the `-AsTemplate` parameter to create an in-memory availability-replica object for each new availability replica.</span></span>|<span data-ttu-id="50e9f-174">Instance de serveur qui héberge le réplica principal</span><span class="sxs-lookup"><span data-stu-id="50e9f-174">Server instance that hosts primary replica</span></span>|  
|`Join-SqlAvailabilityGroup`|<span data-ttu-id="50e9f-175">Joint un réplica secondaire au groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-175">Joins a secondary replica to the availability group.</span></span>|<span data-ttu-id="50e9f-176">Instance de serveur qui héberge le réplica secondaire.</span><span class="sxs-lookup"><span data-stu-id="50e9f-176">Server instance that hosts secondary replica</span></span>|  
|<span data-ttu-id="50e9f-177">**Remove-SqlAvailabilityReplica**</span><span class="sxs-lookup"><span data-stu-id="50e9f-177">**Remove-SqlAvailabilityReplica**</span></span>|<span data-ttu-id="50e9f-178">Supprime un réplica de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-178">Deletes an availability replica.</span></span>|<span data-ttu-id="50e9f-179">Instance de serveur qui héberge le réplica principal</span><span class="sxs-lookup"><span data-stu-id="50e9f-179">Server instance that hosts primary replica</span></span>|  
|`Set-SqlAvailabilityReplica`|<span data-ttu-id="50e9f-180">Définit les propriétés d'un réplica de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-180">Sets the properties of an availability replica.</span></span>|<span data-ttu-id="50e9f-181">Instance de serveur qui héberge le réplica principal</span><span class="sxs-lookup"><span data-stu-id="50e9f-181">Server instance that hosts primary replica</span></span>|  
  
##  <a name="adding-and-managing-an-availability-database"></a><a name="DeployManageDbs"></a><span data-ttu-id="50e9f-182">Ajout et gestion d’une base de données de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-182">Adding and Managing an Availability Database</span></span>  
  
|<span data-ttu-id="50e9f-183">Applets de commande</span><span class="sxs-lookup"><span data-stu-id="50e9f-183">Cmdlets</span></span>|<span data-ttu-id="50e9f-184">Description</span><span class="sxs-lookup"><span data-stu-id="50e9f-184">Description</span></span>|<span data-ttu-id="50e9f-185">Prise en charge sur</span><span class="sxs-lookup"><span data-stu-id="50e9f-185">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|<span data-ttu-id="50e9f-186">**Add-SqlAvailabilityDatabase**</span><span class="sxs-lookup"><span data-stu-id="50e9f-186">**Add-SqlAvailabilityDatabase**</span></span>|<span data-ttu-id="50e9f-187">Sur le réplica principal, ajoute une base de données à un groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-187">On the primary replica, adds a database to an availability group.</span></span><br /><br /> <span data-ttu-id="50e9f-188">Sur un réplica secondaire, joint une base de données secondaire à un groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-188">On a secondary replica, joins a secondary database to an availability group.</span></span>|<span data-ttu-id="50e9f-189">Instance de serveur qui héberge un réplica de disponibilité (le comportement diffère pour les réplicas principal et secondaire)</span><span class="sxs-lookup"><span data-stu-id="50e9f-189">Any server instance that hosts an availability replica (behavior differs for primary and secondary replicas)</span></span>|  
|<span data-ttu-id="50e9f-190">**Remove-SqlAvailabilityDatabase**</span><span class="sxs-lookup"><span data-stu-id="50e9f-190">**Remove-SqlAvailabilityDatabase**</span></span>|<span data-ttu-id="50e9f-191">Sur le réplica principal, supprime la base de données du groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-191">On the primary replica, removes the database from the availability group.</span></span><br /><br /> <span data-ttu-id="50e9f-192">Sur un réplica secondaire, supprime la base de données secondaire locale du réplica secondaire local.</span><span class="sxs-lookup"><span data-stu-id="50e9f-192">On a secondary replica, removes the local secondary database from the local secondary replica.</span></span>|<span data-ttu-id="50e9f-193">Instance de serveur qui héberge un réplica de disponibilité (le comportement diffère pour les réplicas principal et secondaire)</span><span class="sxs-lookup"><span data-stu-id="50e9f-193">Any server instance that hosts an availability replica (behavior differs for primary and secondary replicas)</span></span>|  
|`Resume-SqlAvailabilityDatabase`|<span data-ttu-id="50e9f-194">Reprend le déplacement des données pour une base de données de disponibilité interrompue.</span><span class="sxs-lookup"><span data-stu-id="50e9f-194">Resumes the data movement for a suspended availability database.</span></span>|<span data-ttu-id="50e9f-195">Instance de serveur sur laquelle la base de données a été interrompue.</span><span class="sxs-lookup"><span data-stu-id="50e9f-195">The server instance on which the database was suspended.</span></span>|  
|`Suspend-SqlAvailabilityDatabase`|<span data-ttu-id="50e9f-196">Interrompt le déplacement des données pour une base de données de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-196">Suspends the data movement for an availability database.</span></span>|<span data-ttu-id="50e9f-197">Instance de serveur qui héberge un réplica de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="50e9f-197">Any server instance that hosts an availability replica.</span></span>|  
  
##  <a name="monitoring-availability-group-health"></a><a name="MonitorTblshtAGs"></a><span data-ttu-id="50e9f-198">Analyse Intégrité de groupe de disponibilité</span><span class="sxs-lookup"><span data-stu-id="50e9f-198">Monitoring Availability Group Health</span></span>  
 <span data-ttu-id="50e9f-199">Les applets de commande [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] suivantes vous permettent de surveiller l'intégrité d'un groupe de disponibilité et de ses réplicas et bases de données.</span><span class="sxs-lookup"><span data-stu-id="50e9f-199">The following [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cmdlets enable you to monitor the health of an availability group and its replicas and databases.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="50e9f-200">Vous devez disposer des autorisations CONNECT, VIEW SERVER STATE et VIEW ANY DEFINITION pour exécuter ces applets de commande.</span><span class="sxs-lookup"><span data-stu-id="50e9f-200">You must have CONNECT, VIEW SERVER STATE, and VIEW ANY DEFINITION permissions to execute these cmdlets.</span></span>  
  
|<span data-ttu-id="50e9f-201">Applet de commande</span><span class="sxs-lookup"><span data-stu-id="50e9f-201">Cmdlet</span></span>|<span data-ttu-id="50e9f-202">Description</span><span class="sxs-lookup"><span data-stu-id="50e9f-202">Description</span></span>|<span data-ttu-id="50e9f-203">Prise en charge sur</span><span class="sxs-lookup"><span data-stu-id="50e9f-203">Supported on</span></span>|  
|------------|-----------------|------------------|  
|`Test-SqlAvailabilityGroup`|<span data-ttu-id="50e9f-204">Évalue l'intégrité d'un groupe de disponibilité lors de l'évaluation des stratégies de gestion basées sur des stratégies SQL Server.</span><span class="sxs-lookup"><span data-stu-id="50e9f-204">Assesses the health of an availability group by evaluating SQL Server policy based management (PBM) policies.</span></span>|<span data-ttu-id="50e9f-205">Toute instance de serveur qui héberge un réplica de disponibilité.\*</span><span class="sxs-lookup"><span data-stu-id="50e9f-205">Any server instance that hosts an availability replica.\*</span></span>|  
|`Test-SqlAvailabilityReplica`|<span data-ttu-id="50e9f-206">Évalue l'intégrité des réplicas de disponibilité lors de l'évaluation des stratégies de gestion basées sur des stratégies SQL Server.</span><span class="sxs-lookup"><span data-stu-id="50e9f-206">Assesses the health of availability replicas by evaluating SQL Server policy based management (PBM) policies.</span></span>|<span data-ttu-id="50e9f-207">Toute instance de serveur qui héberge un réplica de disponibilité.\*</span><span class="sxs-lookup"><span data-stu-id="50e9f-207">Any server instance that hosts an availability replica.\*</span></span>|  
|`Test-SqlDatabaseReplicaState`|<span data-ttu-id="50e9f-208">Évalue l'intégrité d'une base de données de disponibilité sur tous les réplicas de disponibilité joints par l'évaluation des stratégies de gestion basées sur des stratégies SQL Server.</span><span class="sxs-lookup"><span data-stu-id="50e9f-208">Assesses the health of an availability database on all joined availability replicas by evaluating SQL Server policy based management (PBM) policies.</span></span>|<span data-ttu-id="50e9f-209">Toute instance de serveur qui héberge un réplica de disponibilité.\*</span><span class="sxs-lookup"><span data-stu-id="50e9f-209">Any server instance that hosts an availability replica.\*</span></span>|  
  
 <span data-ttu-id="50e9f-210">\*Pour afficher des informations sur tous les réplicas de disponibilité d’un groupe de disponibilité, utilisez l’instance de serveur qui héberge le réplica principal.</span><span class="sxs-lookup"><span data-stu-id="50e9f-210">\*To view information about all of the availability replicas in an availability group, use to the server instance that hosts the primary replica.</span></span>  
  
 <span data-ttu-id="50e9f-211">Pour plus d’informations, consultez [utiliser des stratégies AlwaysOn pour afficher l’intégrité d’un groupe de disponibilité &#40;SQL Server&#41;](use-always-on-policies-to-view-the-health-of-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="50e9f-211">For more information, see [Use AlwaysOn Policies to View the Health of an Availability Group &#40;SQL Server&#41;](use-always-on-policies-to-view-the-health-of-an-availability-group-sql-server.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="50e9f-212">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="50e9f-212">See Also</span></span>  
 <span data-ttu-id="50e9f-213">[Vue d’ensemble de groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="50e9f-213">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="50e9f-214">Obtenir de l'aide sur SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="50e9f-214">Get Help SQL Server PowerShell</span></span>](../../../powershell/sql-server-powershell.md)  
  
  
