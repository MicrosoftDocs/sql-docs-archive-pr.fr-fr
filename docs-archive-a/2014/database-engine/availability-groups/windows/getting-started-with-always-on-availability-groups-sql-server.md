---
title: Prise en main avec groupes de disponibilité AlwaysOn (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], deploying
- Availability Groups [SQL Server], about
ms.assetid: 33f2f2d0-79e0-4107-9902-d67019b826aa
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 0dc9fc81fb02f004eb86c1bfef5662460aa4005f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87604721"
---
# <a name="getting-started-with-alwayson-availability-groups-sql-server"></a>Commencer à utiliser les groupes de disponibilité AlwaysOn (SQL Server)
  Cette rubrique présente les étapes de configuration des instances de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] pour prendre en charge [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] et créer, gérer et surveiller un groupe de disponibilité.  
  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> Avant de commencer  
  
###  <a name="recommended-reading"></a><a name="RecommendedReading"></a> Lecture recommandée  
 Avant de créer votre premier groupe de disponibilité, nous vous recommandons de lire les rubriques suivantes :  
  
-   [Vue d’ensemble de groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md)  
  
-   [Conditions préalables requises, restrictions et recommandations pour groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md)  
  
##  <a name="configuring-an-instance-of-sql-server-to-support-alwayson-availability-groups"></a><a name="ConfigSI"></a>Configuration d’une instance de SQL Server pour prendre en charge groupes de disponibilité AlwaysOn  
  
||Étape|Liens|  
|------|----------|-----------|  
|![Case à cocher](../../media/checkboxemptycenterxtraspacetopandright.gif "Case à cocher")|**Activez [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].** La fonctionnalité [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] doit être activée sur chaque instance de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] qui participe à un groupe de disponibilité.<br /><br /> **Configuration requise :**  L'ordinateur hôte doit se trouver sur un nœud WSFC (clustering de basculement Windows Server).<br /><br /> Pour plus d’informations sur les autres conditions préalables requises, consultez « Conditions préalables requises et restrictions pour une instance de SQL Server » dans [Conditions préalables requises, restrictions et recommandations pour les groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).|[Activer et désactiver les groupes de disponibilité AlwaysOn](enable-and-disable-always-on-availability-groups-sql-server.md)|  
|![Case à cocher](../../media/checkboxemptycenterxtraspacetopandright.gif "Case à cocher")|**Créez un point de terminaison pour la mise en miroir de bases de données (le cas échéant).** Veillez à ce que chaque instance de serveur possède un [point de terminaison de mise en miroir de bases de données](../../database-mirroring/the-database-mirroring-endpoint-sql-server.md). L'instance de serveur utilise ce point de terminaison pour recevoir les connexions [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] provenant d'autres instances de serveur.|Pour déterminer si un point de terminaison de mise en miroir de bases de données existe : [sys.database_mirroring_endpoints](/sql/relational-databases/system-catalog-views/sys-database-mirroring-endpoints-transact-sql)<br /><br /> **Pour l'authentification Windows :** pour créer un point de terminaison de mise en miroir de base de données, en utilisant :<br /><br /> [Assistant Nouveau groupe de disponibilité](use-the-availability-group-wizard-sql-server-management-studio.md)<br /><br /> [Transact-SQL](../../database-mirroring/create-a-database-mirroring-endpoint-for-windows-authentication-transact-sql.md)<br /><br /> [SQL Server PowerShell](database-mirroring-always-on-availability-groups-powershell.md)<br /><br /> **Pour l’authentification par certificat :** Pour créer un point de terminaison de mise en miroir de base de données à l’aide de <br />                    [Transact-SQL](../../database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql.md)|  
  
##  <a name="creating-and-configuring-a-new-availability-group"></a><a name="ConfigAG"></a> Creating and Configuring a New Availability Group  
  
||Étape|Liens|  
|------|----------|-----------|  
|![Case à cocher](../../media/checkboxemptycenterxtraspacetopandright.gif "Case à cocher")|**Créez le groupe de disponibilité.** Créez le groupe de disponibilité sur l'instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui héberge les bases de données à ajouter au groupe de disponibilité.<br /><br /> Au minimum, créez le réplica principal initial sur l'instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] où vous créez le groupe de disponibilité. Vous pouvez spécifier un à quatre réplicas secondaires. Pour plus d’informations sur les propriétés de groupe de disponibilité et de réplica, consultez [CREATE AVAILABILITY GROUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-availability-group-transact-sql).<br /><br /> Il est fortement recommandé de créer un [écouteur du groupe de disponibilité](../../listeners-client-connectivity-application-failover.md).<br /><br /> **Configuration requise :**  Les instances de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui hébergent les réplicas de disponibilité d'un groupe de disponibilité donné doivent résider sur des nœuds distincts d'un même cluster WSFC. La seule exception survient lors de la migration vers un autre cluster WSFC : un groupe de disponibilité peut temporairement chevaucher deux clusters.<br /><br /> Pour plus d’informations sur les autres conditions préalables requises, consultez « Conditions préalables requises et restrictions pour les groupes de disponibilité », « Conditions préalables requises et restrictions pour les bases de données de disponibilité » et « Conditions préalables requises et restrictions pour une instance SQL Server » dans [Conditions préalables requises, restrictions et recommandations pour les groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).|Pour créer un groupe de disponibilité, vous pouvez utiliser l'un des outils suivants :<br /><br /> [Assistant Nouveau groupe de disponibilité](use-the-availability-group-wizard-sql-server-management-studio.md)<br /><br /> [Transact-SQL](create-an-availability-group-transact-sql.md)<br /><br /> [SQL Server PowerShell](create-an-availability-group-transact-sql.md)|  
|![Case à cocher](../../media/checkboxemptycenterxtraspacetopandright.gif "Case à cocher")|**Joindre les réplicas secondaires au groupe de disponibilité.** Connectez-vous à chaque instance de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] qui héberge un réplica secondaire, et joignez le réplica secondaire local au groupe de disponibilité.|[Joindre un réplica secondaire à un groupe de disponibilité](join-a-secondary-replica-to-an-availability-group-sql-server.md)<br /><br /> Conseil : Si vous utilisez l’Assistant Nouveau groupe de disponibilité, cette étape est automatisée.|  
|![Case à cocher](../../media/checkboxemptycenterxtraspacetopandright.gif "Case à cocher")|**Préparez les bases de données secondaires.** Sur chaque instance de serveur qui héberge un réplica secondaire, restaurez les sauvegardes des bases de données primaires à l'aide de ROLLBACK WITH NORECOVERY.|[Préparer manuellement une base de données secondaire](manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md)<br /><br /> Conseil : L’Assistant Nouveau groupe de disponibilité peut préparer les bases de données secondaires à votre place. Pour plus d’informations, consultez « Conditions préalables requises pour utiliser la synchronisation de données initiale complète » dans [Sélectionner la synchronisation de données initiale &#40;Assistants de groupe de disponibilité AlwaysOn&#41;](select-initial-data-synchronization-page-always-on-availability-group-wizards.md).|  
|![Case à cocher](../../media/checkboxemptycenterxtraspacetopandright.gif "Case à cocher")|**Joignez les bases de données secondaires au groupe de disponibilité.** Sur chaque instance de serveur qui héberge un réplica secondaire, joignez chaque base de données secondaire locale au groupe de disponibilité. Lorsqu'elle rejoint le groupe de disponibilité, une base de données secondaire donnée initialise la synchronisation des données avec la base de données principale correspondante.|[Joindre une base de données secondaire à un groupe de disponibilité](join-a-secondary-database-to-an-availability-group-sql-server.md)<br /><br /> Conseil : L’Assistant Nouveau groupe de disponibilité peut effectuer cette étape si chaque base de données secondaire existe sur chaque réplica secondaire.|  
||**Créez un écouteur de groupe de disponibilité.**  Cette étape est nécessaire, sauf si vous avez déjà créé un écouteur de groupe de disponibilité lorsque vous avez créé le groupe de disponibilité.|[Créer ou configurer un écouteur de groupe de disponibilité &#40;SQL Server&#41;](create-or-configure-an-availability-group-listener-sql-server.md)|  
|![Case à cocher](../../media/checkboxemptycenterxtraspacetopandright.gif "Case à cocher")|**Fournissez le nom d’hôte DNS de l’écouteur aux développeurs d’applications.**  Les développeurs ont besoin spécifier ce nom DNS dans les chaînes de connexion pour diriger les demandes de connexion vers l'écouteur du groupe de disponibilité. Pour plus d’informations, consultez [Écouteurs de groupe de disponibilité, connectivité client et basculement d’application &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).|« Suivi : Après avoir créé un écouteur de groupe de disponibilité » dans [Créer ou configurer un écouteur de groupe de disponibilité &#40;SQL Server&#41;](create-or-configure-an-availability-group-listener-sql-server.md)|  
|![Case à cocher](../../media/checkboxemptycenterxtraspacetopandright.gif "Case à cocher")|**Configurez l’emplacement d’exécution des travaux de sauvegarde.**  Si vous souhaitez effectuer des sauvegardes sur des bases de données secondaires, vous devez créer un script de travail de sauvegarde qui prend en compte la préférence de sauvegarde automatisée. Créer un script pour chaque base de données dans le groupe de disponibilité sur chaque instance de serveur qui héberge un réplica de disponibilité pour le groupe de disponibilité.|« Suivi : Après la configuration de la sauvegarde sur les réplicas secondaires » dans [Configurer la sauvegarde sur des réplicas de disponibilité &#40;SQL Server&#41;](configure-backup-on-availability-replicas-sql-server.md).|  
  
##  <a name="managing-availability-groups-replicas-and-databases"></a><a name="ManageAGsEtc"></a> Managing Availability Groups, Replicas, and Databases  
  
> [!NOTE]  
>  Pour plus d’informations sur les propriétés de groupe de disponibilité et de réplica, consultez [CREATE AVAILABILITY GROUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-availability-group-transact-sql).  
  
 La gestion des groupes de disponibilité existants implique une ou plusieurs des tâches suivantes :  
  
|Tâche|Lien|  
|----------|----------|  
|Modifiez la [stratégie de basculement flexible](flexible-automatic-failover-policy-availability-group.md) du groupe de disponibilité pour contrôler les conditions qui provoquent un basculement automatique. Cette stratégie est pertinente uniquement lorsque le basculement automatique est possible.|[Configurer la stratégie de basculement flexible d'un groupe de disponibilité](configure-flexible-automatic-failover-policy.md)|  
|Effectuez un basculement manuel planifié ou un basculement manuel forcé (avec perte de données), généralement appelé *basculement forcé*. Pour plus d’informations, consultez [Basculement et modes de basculement &#40;groupes de disponibilité AlwaysOn&#41;](failover-and-failover-modes-always-on-availability-groups.md).|[Effectuer un basculement manuel planifié](perform-a-planned-manual-failover-of-an-availability-group-sql-server.md)<br /><br /> [Effectuer un basculement manuel forcé](perform-a-forced-manual-failover-of-an-availability-group-sql-server.md)|  
|Utilisez un ensemble de stratégies prédéfinies pour afficher l'état d'un groupe de disponibilité et ses réplicas et bases de données.|[Utiliser la gestion basée sur des stratégies pour afficher l'intégrité des groupes de disponibilité](use-always-on-policies-to-view-the-health-of-an-availability-group-sql-server.md)<br /><br /> [Utiliser le tableau de bord de groupe AlwaysOn](use-the-always-on-dashboard-sql-server-management-studio.md)|  
|Ajoutez ou supprimez un réplica secondaire.|[Ajouter un réplica secondaire](add-a-secondary-replica-to-an-availability-group-sql-server.md)<br /><br /> [Supprimer un réplica secondaire](remove-a-secondary-replica-from-an-availability-group-sql-server.md)|  
|Interrompez ou reprenez une base de données de disponibilité. L'interruption d'une base de données secondaire entraîne la suspension à l'heure actuelle jusqu'à la reprise.|[Interrompre une base de données](suspend-an-availability-database-sql-server.md)<br /><br /> [Reprendre une base de données](resume-an-availability-database-sql-server.md)|  
|Ajoutez ou supprimez une base de données.|[Ajouter une base de données](availability-group-add-a-database.md)<br /><br /> [Supprimer une base de données secondaire](remove-a-secondary-database-from-an-availability-group-sql-server.md)<br /><br /> [Supprimer une base de données principale](remove-a-primary-database-from-an-availability-group-sql-server.md)|  
|Reconfigurez ou créez un écouteur de groupe de disponibilité.|[Créer ou configurer un écouteur de groupe de disponibilité](create-or-configure-an-availability-group-listener-sql-server.md)|  
|Supprimez un groupe de disponibilité.|[Supprimer un groupe de disponibilité](remove-an-availability-group-sql-server.md)|  
|Résolvez les problèmes d'opérations de fichiers. Cela peut être requis si la base de données principale et une base de données secondaire ont des chemins d'accès de fichier différents.|[Résoudre les problèmes d'opération d'ajout de fichier](troubleshoot-a-failed-add-file-operation-always-on-availability-groups.md)|  
|Modifiez les propriétés d'un réplica de disponibilité.|[Modifier le mode de disponibilité](change-the-availability-mode-of-an-availability-replica-sql-server.md)<br /><br /> [Modifier le mode de basculement](change-the-failover-mode-of-an-availability-replica-sql-server.md)<br /><br /> [Configurer la priorité de sauvegarde (et la préférence de sauvegarde automatisée)](configure-backup-on-availability-replicas-sql-server.md)<br /><br /> [Configurer l'accès en lecture seule](configure-read-only-access-on-an-availability-replica-sql-server.md)<br /><br /> [Configurer le routage en lecture seule](configure-read-only-routing-for-an-availability-group-sql-server.md)<br /><br /> [Modifier la période d'expiration de session](change-the-session-timeout-period-for-an-availability-replica-sql-server.md)|  
  
##  <a name="monitoring-availability-groups"></a><a name="MonitorAGsEtc"></a> Monitoring Availability Groups  
 Pour surveiller les propriétés et l'état d'un groupe de disponibilité AlwaysOn, vous pouvez utiliser les outils suivants.  
  
|Outil|Brève description|Liens|  
|----------|-----------------------|-----------|  
|Pack d'analyse System Center pour SQL Server|Le pack d'analyse pour SQL Server (SQLMP) est la solution recommandée pour la surveillance des groupes de disponibilité, des réplicas de disponibilité et des bases de données de disponibilité pour les administrateurs informatiques. Les fonctionnalités d'analyse particulièrement appropriées pour [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] incluent les suivantes :<br /><br /> Découverte automatique des groupes de disponibilité, des réplicas de disponibilité et des bases de données de disponibilité entre des centaines d'ordinateurs. Cette opération vous permet de suivre facilement votre inventaire [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] .<br /><br /> Fonctionnalités complètes d'alertes et tickets System Center Operations Manager (SCOM). Ces fonctionnalités offrent des connaissances détaillées qui permettent de résoudre plus rapidement un problème.<br /><br /> Extension personnalisée à l'analyse d'intégrité AlwaysOn à l'aide de la gestion basée sur des stratégies.<br /><br /> Intégrité regroupée des bases de données de disponibilité aux réplicas de disponibilité.<br /><br /> Tâches personnalisées qui gèrent [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] dans la console System Center Operations Manager.|Pour télécharger le pack d’analyse (SQLServerMP.msi) et *le Guide SQL Server Management Pack pour System Center Operations Manager* (SQLServerMPGuide.doc), consultez :<br /><br /> [Pack d'analyse System Center pour SQL Server](https://www.microsoft.com/download/details.aspx?displaylang=en&id=10631)|  
|[!INCLUDE[tsql](../../../includes/tsql-md.md)]|[!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] fournissent une quantité d'informations sur vos groupes de disponibilité et leurs réplicas, bases de données, écouteurs et environnement de cluster WSFC.|[Surveiller des groupes de disponibilité &#40;Transact-SQL&#41;](monitor-availability-groups-transact-sql.md)|  
|[!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]|Le volet **Détails de l'Explorateur d'objets** affiche des informations de base sur les groupes de disponibilité hébergés sur l'instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] à laquelle vous êtes connecté.<br /><br /> Conseil : utilisez ce volet pour sélectionner plusieurs groupes de disponibilité, réplicas ou bases de données et effectuer des tâches d’administration courantes sur les objets sélectionnés, comme la suppression de plusieurs réplicas de disponibilité ou bases de données dans un groupe de disponibilité.|[Utiliser le volet Détails de l'Explorateur d'objets pour surveiller les groupes de disponibilité](use-object-explorer-details-to-monitor-availability-groups.md)|  
|[!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]|Les boîtes de dialogue**Propriétés** vous permettent d'afficher les propriétés des groupes de disponibilité, les réplicas ou les écouteurs et, dans certains cas, de modifier leurs valeurs.|[Propriétés d'un groupe de disponibilité](view-availability-group-properties-sql-server.md)<br /><br /> [Propriétés d'un réplica de disponibilité](view-availability-replica-properties-sql-server.md)<br /><br /> [Propriétés de l'écouteur d'un groupe de disponibilité](view-availability-group-listener-properties-sql-server.md)|  
|Moniteur système|L’objet de performance **SQLServer:Availability Replica** intègre des compteurs de performances chargés de fournir des informations sur les réplicas de disponibilité.|[SQL Server, réplica de disponibilité](../../../relational-databases/performance-monitor/sql-server-availability-replica.md)|  
|Moniteur système|L’objet de performance **SQLServer:Database Replica** contient des compteurs de performances qui signalent des informations concernant les bases de données secondaires sur un réplica secondaire donné.<br /><br /> L'objet **SQLServer:Databases** dans SQL Server contient des compteurs de performances pour surveiller les activités du journal des transactions, entre autres choses. Les compteurs suivants sont particulièrement appropriés pour surveiller l’activité des journaux des transactions sur des bases de données de disponibilité : **Temps d’attente de vidage du journal (ms)** , **Vidages du journal/s**, **Journaliser les absences dans le cache/s du pool**, **Journaliser les lectures du disque/s du pool**et **Journaliser les requêtes/s du pool**.|[SQL Server, réplica de base de données](../../../relational-databases/performance-monitor/sql-server-database-replica.md)<br /><br /> [SQL Server, objet Databases](../../../relational-databases/performance-monitor/sql-server-databases-object.md)|  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> Contenu associé  
  
-   **Vidéo-Introduction à AlwaysOn :**  [Microsoft SQL Server, nom de code « Denali », série AlwaysOn, partie 1 : présentation de la solution haute disponibilité de la prochaine génération](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI302)  
  
-   **Vidéo-présentation approfondie d’AlwaysOn :**  [Microsoft SQL Server nom de code « Denali », série AlwaysOn, partie 2 : génération d’une solution de haute disponibilité stratégique à l’aide d’AlwaysOn](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI404)  
  
-   **Livre blanc :**  [Guide de solutions Microsoft SQL Server AlwaysOn pour la haute disponibilité et la récupération d'urgence](https://go.microsoft.com/fwlink/?LinkId=227600)  
  
-   **Blogs :**  [Blog de l’équipe de SQL Server AlwaysOn : Blog officiel de l’équipe de SQL Server AlwaysOn](https://blogs.msdn.com/b/sqlalwayson/)  
  
## <a name="see-also"></a>Voir aussi  
 [Groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](always-on-availability-groups-sql-server.md)   
 [Vue d’ensemble de groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md)   
 [Configuration d’une instance de serveur pour groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](configuration-of-a-server-instance-for-always-on-availability-groups-sql-server.md)   
 [Création et configuration des groupes de disponibilité &#40;SQL Server&#41;](creation-and-configuration-of-availability-groups-sql-server.md)   
 [Surveillance des groupes de disponibilité &#40;SQL Server&#41;](monitoring-of-availability-groups-sql-server.md)   
 [Vue d’ensemble des instructions Transact-SQL pour groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](transact-sql-statements-for-always-on-availability-groups.md)   
 [Vue d’ensemble des applets de commande PowerShell pour groupes de disponibilité AlwaysOn &#40;SQL Server&#41;](overview-of-powershell-cmdlets-for-always-on-availability-groups-sql-server.md)  
  
