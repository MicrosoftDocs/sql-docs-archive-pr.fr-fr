---
title: Mettre à niveau Data Quality Services | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: f396666b-7754-4efc-9507-0fd114cc32d5
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 9d2544df341a831f2f676ec58150ed64a800fb96
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87603612"
---
# <a name="upgrade-data-quality-services"></a><span data-ttu-id="37de5-102">Mettre à niveau Data Quality Services</span><span class="sxs-lookup"><span data-stu-id="37de5-102">Upgrade Data Quality Services</span></span>
  <span data-ttu-id="37de5-103">Cette rubrique fournit des informations sur la mise à niveau de votre installation existante de Data Quality Services (DQS) vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] CTP2.</span><span class="sxs-lookup"><span data-stu-id="37de5-103">This topic provides information on how to upgrade your existing installation of Data Quality Services (DQS) to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] CTP2.</span></span> <span data-ttu-id="37de5-104">Dans le cadre de la mise à niveau de Data Quality Server dans DQS vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], vous devez également mettre à niveau le schéma de bases de données DQS.</span><span class="sxs-lookup"><span data-stu-id="37de5-104">As part of upgrading your Data Quality Server in DQS to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you must also upgrade the DQS databases schema.</span></span>  
  
> [!IMPORTANT]
>  -   <span data-ttu-id="37de5-105">Vous devez sauvegarder vos bases de données DQS avant de mettre à niveau DQS afin d'empêcher toute perte accidentelle de données lors de la mise à niveau du schéma.</span><span class="sxs-lookup"><span data-stu-id="37de5-105">You must back up your DQS databases before upgrading DQS to prevent any accidental data loss during the schema upgrade.</span></span> <span data-ttu-id="37de5-106">Pour plus d'informations sur la sauvegarde des bases de données DQS, consultez [Sauvegarde et restauration de bases de données DQS](../../data-quality-services/backing-up-and-restoring-dqs-databases.md).</span><span class="sxs-lookup"><span data-stu-id="37de5-106">For information about backing up DQS databases, see [Backing Up and Restoring DQS Databases](../../data-quality-services/backing-up-and-restoring-dqs-databases.md).</span></span>  
> -   <span data-ttu-id="37de5-107">Connectez-vous à la version [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] de Data Quality Server en utilisant la version actuelle ou une version antérieure de Data Quality Client ou la [transformation de nettoyage DQS](../../integration-services/data-flow/transformations/dqs-cleansing-transformation.md) dans Integration Services pour effectuer les tâches de qualité des données.</span><span class="sxs-lookup"><span data-stu-id="37de5-107">You can connect to the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] version of Data Quality Server by using the current or an earlier version of Data Quality Client or the [DQS Cleansing Transformation](../../integration-services/data-flow/transformations/dqs-cleansing-transformation.md) in Integration Services to perform your data quality tasks.</span></span>  
> -   <span data-ttu-id="37de5-108">Vous pouvez continuer à utiliser la version [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP1 du complément Master Data Services pour Excel après la mise à niveau de Data Quality Services et de Master Data Services vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] CTP2.</span><span class="sxs-lookup"><span data-stu-id="37de5-108">You can continue using the [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP1 version of Master Data Services Add-In for Excel after upgrading Data Quality Services and Master Data Services to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] CTP2.</span></span> <span data-ttu-id="37de5-109">Toutefois, aucune version antérieure du complément Master Data Services pour Excel ne fonctionnera après la mise à niveau vers SQL Server 2014 CTP2.</span><span class="sxs-lookup"><span data-stu-id="37de5-109">However, any earlier version of the Master Data Services Add-In for Excel will not work after upgrading to SQL Server 2014 CTP2.</span></span> <span data-ttu-id="37de5-110">Vous pouvez télécharger la version [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP1 du complément Master Data Services pour Excel [ici](https://go.microsoft.com/fwlink/?LinkId=328664).</span><span class="sxs-lookup"><span data-stu-id="37de5-110">You can download the [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP1 version of Master Data Services Add-In for Excel from [here](https://go.microsoft.com/fwlink/?LinkId=328664).</span></span>  
  
##  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="37de5-111">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="37de5-111">Prerequisites</span></span>  
  
-   <span data-ttu-id="37de5-112">Vous devez être connecté en tant que membre du groupe Administrateurs sur l'ordinateur [!INCLUDE[ssDQSServer](../../includes/ssdqsserver-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="37de5-112">You must be logged on as a member of the Administrators group on the [!INCLUDE[ssDQSServer](../../includes/ssdqsserver-md.md)] computer.</span></span>  
  
-   <span data-ttu-id="37de5-113">Votre compte d'utilisateur Windows doit être membre du rôle serveur fixe sysadmin dans l'instance de SQL Server où le [!INCLUDE[ssDQSServer](../../includes/ssdqsserver-md.md)] est installé.</span><span class="sxs-lookup"><span data-stu-id="37de5-113">Your Windows user account must be a member of the sysadmin fixed server role in the SQL Server instance where [!INCLUDE[ssDQSServer](../../includes/ssdqsserver-md.md)] is installed.</span></span>  
  
##  <a name="upgrading-dqs"></a><a name="Upgrade"></a> <span data-ttu-id="37de5-114">Mise à niveau de DQS</span><span class="sxs-lookup"><span data-stu-id="37de5-114">Upgrading DQS</span></span>  
 <span data-ttu-id="37de5-115">Pour mettre à niveau DQS :</span><span class="sxs-lookup"><span data-stu-id="37de5-115">To upgrade DQS:</span></span>  
  
1.  <span data-ttu-id="37de5-116">Sauvegardez vos bases de données DQS avant de lancer le processus de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="37de5-116">Back up your DQS databases before you start the upgrade process.</span></span> <span data-ttu-id="37de5-117">Pour plus d'informations sur la sauvegarde des bases de données DQS, consultez [Sauvegarde et restauration de bases de données DQS](../../data-quality-services/backing-up-and-restoring-dqs-databases.md).</span><span class="sxs-lookup"><span data-stu-id="37de5-117">For information about backing up DQS databases, see [Backing Up and Restoring DQS Databases](../../data-quality-services/backing-up-and-restoring-dqs-databases.md).</span></span>  
  
2.  <span data-ttu-id="37de5-118">Mettez à niveau l'instance SQL Server où DQS est installé vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="37de5-118">Upgrade the SQL Server instance where DQS is installed to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
    1.  <span data-ttu-id="37de5-119">Exécutez l'Assistant Installation de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="37de5-119">Run the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Setup wizard.</span></span>  
  
    2.  <span data-ttu-id="37de5-120">Dans le volet gauche, cliquez sur **Installation**.</span><span class="sxs-lookup"><span data-stu-id="37de5-120">In the left pane, click **Installation**.</span></span>  
  
    3.  <span data-ttu-id="37de5-121">Dans le volet droit, cliquez sur **mettre à niveau à partir de SQL Server 2005, SQL Server 2008, SQL Server 2008 R2 ou SQL Server 2012**.</span><span class="sxs-lookup"><span data-stu-id="37de5-121">In the right pane, click **Upgrade from SQL Server 2005, SQL Server 2008, SQL Server 2008 R2 or SQL Server 2012**.</span></span>  
  
    4.  <span data-ttu-id="37de5-122">Exécutez toutes les étapes de l'Assistant Installation.</span><span class="sxs-lookup"><span data-stu-id="37de5-122">Complete the Setup wizard.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="37de5-123">Votre instance de SQL Server sera mise à niveau vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] et vous installerez la dernière version de Data Quality Client, si Data Quality Client était déjà installé sur cet ordinateur.</span><span class="sxs-lookup"><span data-stu-id="37de5-123">This will upgrade your SQL Server instance to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] and also install the latest Data Quality Client, if Data Quality Client was previously installed on this computer.</span></span> <span data-ttu-id="37de5-124">Si Data Quality Client est installé sur d'autres ordinateurs, vous devez exécuter les sous-étapes de l'Étape 2 sur ces ordinateurs pour installer la version actuelle de Data Quality Client.</span><span class="sxs-lookup"><span data-stu-id="37de5-124">If you have Data Quality Client installed on other computers, you must run the sub steps in Step 2 on those computers to install the current version of Data Quality Client.</span></span> <span data-ttu-id="37de5-125">L'Assistant Installation installe la version actuelle de Data Quality Client à côté de la version existante.</span><span class="sxs-lookup"><span data-stu-id="37de5-125">The Setup wizard installs the current version of Data Quality Client alongside the existing version of Data Quality Client.</span></span> <span data-ttu-id="37de5-126">Après la mise à niveau du schéma de bases de données DQS, connectez-vous à la version [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] de Data Quality Server en utilisant la version actuelle ou une version antérieure de Data Quality Client.</span><span class="sxs-lookup"><span data-stu-id="37de5-126">After you upgrade the DQS databases schema, you can connect to the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] version of Data Quality Server by using the current or an earlier version of Data Quality Client.</span></span>  
  
3.  <span data-ttu-id="37de5-127">Mettez à niveau le schéma de bases de données DQS.</span><span class="sxs-lookup"><span data-stu-id="37de5-127">Upgrade the DQS databases schema.</span></span>  
  
    1.  <span data-ttu-id="37de5-128">Démarrez une invite de commandes d'administrateur.</span><span class="sxs-lookup"><span data-stu-id="37de5-128">Start Command Prompt as an administrator.</span></span>  
  
    2.  <span data-ttu-id="37de5-129">À l'invite de commandes, remplacez votre répertoire à l'emplacement où DQSInstaller.exe est disponible.</span><span class="sxs-lookup"><span data-stu-id="37de5-129">At the command prompt, change your directory to the location where DQSInstaller.exe is available.</span></span> <span data-ttu-id="37de5-130">Pour l'instance par défaut de SQL Server, le fichier DQSInstaller.exe est copié sous C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn:</span><span class="sxs-lookup"><span data-stu-id="37de5-130">For the default instance of SQL Server, the DQSInstaller.exe file is available at C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn:</span></span>  
  
        ```  
        cd C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn  
        ```  
  
    3.  <span data-ttu-id="37de5-131">À l'invite de commandes, tapez la commande suivante et appuyez sur Entrée :</span><span class="sxs-lookup"><span data-stu-id="37de5-131">At the command prompt, type the following command, and press ENTER:</span></span>  
  
        ```  
        dqsinstaller.exe -upgrade  
        ```  
  
    4.  <span data-ttu-id="37de5-132">Le programme d'installation vous invite à sauvegarder les bases de données DQS avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="37de5-132">The installer prompts you for backing up the DQS databases before proceeding.</span></span> <span data-ttu-id="37de5-133">Si vous avez déjà sauvegardé vos bases de données DQS, tapez `Y` ou `Yes` et appuyez sur Entrée pour continuer avec la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="37de5-133">If you have already backed up your DQS databases, type `Y` or `Yes`, and then press ENTER to continue with the upgrade.</span></span>  
  
    5.  <span data-ttu-id="37de5-134">Un message d'achèvement s'affiche une fois la mise à niveau du schéma des bases de données DQS terminée.</span><span class="sxs-lookup"><span data-stu-id="37de5-134">A completion message is displayed after successful upgrade of the DQS databases schema.</span></span>  
  
##  <a name="verifying-the-dqs-databases-schema-upgrade"></a><a name="Verify"></a> <span data-ttu-id="37de5-135">Vérification de la mise à niveau du schéma des bases de données DQS</span><span class="sxs-lookup"><span data-stu-id="37de5-135">Verifying the DQS Databases Schema Upgrade</span></span>  
 <span data-ttu-id="37de5-136">Pour vérifier que le schéma de bases de données DQS a été correctement mis à niveau, vérifiez la version actuelle dans les bases de données DQS_MAIN et DQS_PROJECTS en interrogeant la table A_DB_VERSION dans chaque base de données.</span><span class="sxs-lookup"><span data-stu-id="37de5-136">To verify that DQS databases schema have successfully upgraded, you can check the current version in the DQS_MAIN and DQS_PROJECTS databases by querying the A_DB_VERSION table in each database.</span></span> <span data-ttu-id="37de5-137">Pour ce faire :</span><span class="sxs-lookup"><span data-stu-id="37de5-137">To do so:</span></span>  
  
1.  <span data-ttu-id="37de5-138">Démarrez SQL Server Management Studio et connectez-vous à l'instance de SQL Server qui contient les bases de données DQS mises à niveau.</span><span class="sxs-lookup"><span data-stu-id="37de5-138">Start SQL Server Management Studio, and connect to the SQL Server instance that contains the upgraded DQS databases schema.</span></span>  
  
2.  <span data-ttu-id="37de5-139">Exécutez la requête suivante :</span><span class="sxs-lookup"><span data-stu-id="37de5-139">Run the following query:</span></span>  
  
    ```  
    SELECT * FROM DQS_MAIN.dbo.A_DB_VERSION WHERE STATUS=2;  
    SELECT * FROM DQS_PROJECTS.dbo.A_DB_VERSION WHERE STATUS=2;  
    ```  
  
3.  <span data-ttu-id="37de5-140">La sortie indiquera une entrée pour chaque mise à niveau, avec la date correspondante.</span><span class="sxs-lookup"><span data-stu-id="37de5-140">The output will display an entry for each upgrade along with the date of the upgrade.</span></span> <span data-ttu-id="37de5-141">Les valeurs VERSION_ID et ASSEMBLY_VERSION maximales de la dernière date correspondent à la version actuelle.</span><span class="sxs-lookup"><span data-stu-id="37de5-141">The maximum VERSION_ID and ASSEMBLY_VERSION on the latest date is the current version.</span></span> <span data-ttu-id="37de5-142">Une valeur de 2 dans la colonne STATUS indique que l'opération a réussi.</span><span class="sxs-lookup"><span data-stu-id="37de5-142">A value of 2 in the STATUS column indicates success.</span></span> <span data-ttu-id="37de5-143">Si une erreur s'est produite, elle sera indiquée dans la colonne ERROR.</span><span class="sxs-lookup"><span data-stu-id="37de5-143">If an error has occurred, the error will be listed in the ERROR column.</span></span> <span data-ttu-id="37de5-144">Exemple de sortie :</span><span class="sxs-lookup"><span data-stu-id="37de5-144">A sample output:</span></span>  
  
    |<span data-ttu-id="37de5-145">id</span><span class="sxs-lookup"><span data-stu-id="37de5-145">ID</span></span>|<span data-ttu-id="37de5-146">UPGRADE_DATE</span><span class="sxs-lookup"><span data-stu-id="37de5-146">UPGRADE_DATE</span></span>|<span data-ttu-id="37de5-147">VERSION_ID</span><span class="sxs-lookup"><span data-stu-id="37de5-147">VERSION_ID</span></span>|<span data-ttu-id="37de5-148">ASSEMBLY_VERSION</span><span class="sxs-lookup"><span data-stu-id="37de5-148">ASSEMBLY_VERSION</span></span>|<span data-ttu-id="37de5-149">USER_NAME</span><span class="sxs-lookup"><span data-stu-id="37de5-149">USER_NAME</span></span>|<span data-ttu-id="37de5-150">STATUT</span><span class="sxs-lookup"><span data-stu-id="37de5-150">STATUS</span></span>|<span data-ttu-id="37de5-151">ERROR</span><span class="sxs-lookup"><span data-stu-id="37de5-151">ERROR</span></span>|  
    |--------|-------------------|-----------------|-----------------------|----------------|------------|-----------|  
    |<span data-ttu-id="37de5-152">1 000</span><span class="sxs-lookup"><span data-stu-id="37de5-152">1000</span></span>|<span data-ttu-id="37de5-153">2013-08-11 05:26:39.567</span><span class="sxs-lookup"><span data-stu-id="37de5-153">2013-08-11 05:26:39.567</span></span>|<span data-ttu-id="37de5-154">1200</span><span class="sxs-lookup"><span data-stu-id="37de5-154">1200</span></span>|<span data-ttu-id="37de5-155">11.0.3000.0</span><span class="sxs-lookup"><span data-stu-id="37de5-155">11.0.3000.0</span></span>|\<DOMAIN\UserName>|<span data-ttu-id="37de5-156">2</span><span class="sxs-lookup"><span data-stu-id="37de5-156">2</span></span>||  
    |<span data-ttu-id="37de5-157">1001</span><span class="sxs-lookup"><span data-stu-id="37de5-157">1001</span></span>|<span data-ttu-id="37de5-158">2013-09-19 15:09:37.750</span><span class="sxs-lookup"><span data-stu-id="37de5-158">2013-09-19 15:09:37.750</span></span>|<span data-ttu-id="37de5-159">1 600</span><span class="sxs-lookup"><span data-stu-id="37de5-159">1600</span></span>|<span data-ttu-id="37de5-160">12.0.xxxx.0</span><span class="sxs-lookup"><span data-stu-id="37de5-160">12.0.xxxx.0</span></span>|\<DOMAIN\UserName>|<span data-ttu-id="37de5-161">2</span><span class="sxs-lookup"><span data-stu-id="37de5-161">2</span></span>||  
  
## <a name="see-also"></a><span data-ttu-id="37de5-162">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="37de5-162">See Also</span></span>  
 <span data-ttu-id="37de5-163">[Installer Data Quality Services](../../data-quality-services/install-windows/install-data-quality-services.md) </span><span class="sxs-lookup"><span data-stu-id="37de5-163">[Install Data Quality Services](../../data-quality-services/install-windows/install-data-quality-services.md) </span></span>  
 <span data-ttu-id="37de5-164">[Supprimer des objets Data Quality Server](../../sql-server/install/remove-data-quality-server-objects.md) </span><span class="sxs-lookup"><span data-stu-id="37de5-164">[Remove Data Quality Server Objects](../../sql-server/install/remove-data-quality-server-objects.md) </span></span>  
 [<span data-ttu-id="37de5-165">Mettre à niveau vers SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="37de5-165">Upgrade to SQL Server 2014</span></span>](upgrade-sql-server.md)  
  
  
