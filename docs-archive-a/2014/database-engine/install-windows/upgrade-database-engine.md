---
title: Mettre à niveau le moteur de base de données | Microsoft Docs
ms.custom: ''
ms.date: 10/26/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
helpviewer_keywords:
- compatibility [SQL Server], databases
- compatibility levels [SQL Server], after upgrade
- Database Engine [SQL Server], upgrading
ms.assetid: 3c036813-36cf-4415-a0c9-248d0a433859
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: ed13712678ab599e55b539d6226142b686106fe5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87603611"
---
# <a name="upgrade-database-engine"></a><span data-ttu-id="23b69-102">Mettre à niveau le moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="23b69-102">Upgrade Database Engine</span></span>
  <span data-ttu-id="23b69-103">Cette rubrique fournit les informations qui vous aideront à préparer et à comprendre le processus de mise à niveau :</span><span class="sxs-lookup"><span data-stu-id="23b69-103">This topic provides the information that you will need to prepare for and understand the upgrade process; it covers:</span></span>  
  
-   <span data-ttu-id="23b69-104">Problèmes de mise à niveau connus</span><span class="sxs-lookup"><span data-stu-id="23b69-104">Known upgrade issues.</span></span>  
  
-   <span data-ttu-id="23b69-105">Tâches précédant la mise à niveau et observations</span><span class="sxs-lookup"><span data-stu-id="23b69-105">Pre-upgrade tasks and considerations.</span></span>  
  
-   <span data-ttu-id="23b69-106">Liens vers les rubriques consacrées aux procédures de mise à niveau du [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23b69-106">Links to procedural topics for upgrading the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="23b69-107">Liens vers les rubriques consacrées aux procédures de migration des bases de données vers [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="23b69-107">Links to procedural topics for migrating databases to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="23b69-108">Remarques sur les clusters de basculement</span><span class="sxs-lookup"><span data-stu-id="23b69-108">Considerations for failover clusters.</span></span>  
  
-   <span data-ttu-id="23b69-109">Tâches postérieures à la mise à niveau et observations</span><span class="sxs-lookup"><span data-stu-id="23b69-109">Post-upgrade tasks and considerations.</span></span>  
  
## <a name="known-upgrade-issues"></a><span data-ttu-id="23b69-110">Problèmes de mise à niveau connus</span><span class="sxs-lookup"><span data-stu-id="23b69-110">Known Upgrade issues</span></span>  
 <span data-ttu-id="23b69-111">Avant d'effectuer la mise à niveau du [!INCLUDE[ssDE](../../includes/ssde-md.md)], consultez [SQL Server Database Engine Backward Compatibility](../sql-server-database-engine-backward-compatibility.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-111">Before upgrading the [!INCLUDE[ssDE](../../includes/ssde-md.md)], review [SQL Server Database Engine Backward Compatibility](../sql-server-database-engine-backward-compatibility.md).</span></span> <span data-ttu-id="23b69-112">Pour plus d’informations sur les scénarios de mise à niveau pris en charge et les problèmes de mise à niveau connus, consultez [Mises à niveau de la version et de l’édition prises en charge](supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-112">For information about supported upgrade scenarios and upgrade known issues, see [Supported Version and Edition Upgrades](supported-version-and-edition-upgrades.md).</span></span> <span data-ttu-id="23b69-113">Pour plus d'informations sur la compatibilité descendante des autres composants de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , consultez [Backward Compatibility](../../getting-started/backward-compatibility.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-113">For backward compatibility content for other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components, see [Backward Compatibility](../../getting-started/backward-compatibility.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="23b69-114">Avant toute mise à niveau d'une édition de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] vers une autre, vérifiez que la fonctionnalité en cours d'utilisation est prise en charge dans l'édition vers laquelle vous effectuez la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="23b69-114">Before you upgrade from one edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to another, verify that the functionality that you are currently using is supported in the edition to which you are upgrading.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="23b69-115">Lorsque vous effectuez la mise à niveau vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] d'une version antérieure de l'édition Enterprise de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , choisissez entre Enterprise Edition : contrat de licence selon le nombre de cœurs et Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="23b69-115">When you upgrade to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] from a prior version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise edition, choose between Enterprise Edition: Core-based Licensing and Enterprise Edition.</span></span> <span data-ttu-id="23b69-116">Ces éditions Enterprise se différencient uniquement par leur mode de licences.</span><span class="sxs-lookup"><span data-stu-id="23b69-116">These Enterprise editions differ only with respect to the licensing modes.</span></span> <span data-ttu-id="23b69-117">Pour plus d’informations, voir [Compute Capacity Limits by Edition of SQL Server](../../sql-server/compute-capacity-limits-by-edition-of-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-117">For more information, see [Compute Capacity Limits by Edition of SQL Server](../../sql-server/compute-capacity-limits-by-edition-of-sql-server.md).</span></span>  
  
## <a name="pre-upgrade-checklist"></a><span data-ttu-id="23b69-118">Liste de contrôle préalable à la mise à niveau</span><span class="sxs-lookup"><span data-stu-id="23b69-118">Pre-Upgrade Checklist</span></span>  
 <span data-ttu-id="23b69-119">La mise à niveau vers [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à partir d'une version précédente est prise en charge par le programme d'installation de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="23b69-119">Upgrading [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from an earlier version is supported by the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup program.</span></span> <span data-ttu-id="23b69-120">Vous pouvez également migrer les bases de données à partir de versions précédentes de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="23b69-120">You can also migrate databases from previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] versions.</span></span> <span data-ttu-id="23b69-121">La migration peut être effectuée à partir d'une instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] vers une autre instance située vers le même ordinateur ou à partir d'une instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] vers un autre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="23b69-121">Migration can be from one [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance to another on the same computer, or from a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance on another computer.</span></span> <span data-ttu-id="23b69-122">Les options de migration incluent l'utilisation de l'Assistant Copie de base de données, de la fonctionnalité de sauvegarde et de restauration, ainsi que l'utilisation de l'Assistant Importation et exportation [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] et des méthodes d'importation et d'exportation en bloc.</span><span class="sxs-lookup"><span data-stu-id="23b69-122">Migration options include use of the Copy Database Wizard, Backup and restore functionality, use of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Import and Export Wizard, and bulk export/bulk import methods.</span></span>  
  
 <span data-ttu-id="23b69-123">Avant de mettre à niveau le [!INCLUDE[ssDE](../../includes/ssde-md.md)], consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="23b69-123">Before upgrading the [!INCLUDE[ssDE](../../includes/ssde-md.md)], review the following:</span></span>  
  
-   <span data-ttu-id="23b69-124">Consultez [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-124">Review [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span></span>  
  
-   <span data-ttu-id="23b69-125">Consultez [Check Parameters for the System Configuration Checker](check-parameters-for-the-system-configuration-checker.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-125">Review [Check Parameters for the System Configuration Checker](check-parameters-for-the-system-configuration-checker.md).</span></span>  
  
-   <span data-ttu-id="23b69-126">Consultez [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-126">Review [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span></span>  
  
-   <span data-ttu-id="23b69-127">Consultez [Mises à niveau de la version et de l’édition prises en charge](supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-127">Review [Supported Version and Edition Upgrades](supported-version-and-edition-upgrades.md).</span></span>  
  
-   <span data-ttu-id="23b69-128">Consultez [Utiliser le Conseiller de mise à niveau pour la préparation des mises à niveau](../../sql-server/install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-128">Review [Use Upgrade Advisor to Prepare for Upgrades](../../sql-server/install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span></span>  
  
-   <span data-ttu-id="23b69-129">Consultez [Utiliser Distributed Replay Utility pour préparer des mises à niveau](../../sql-server/install/use-the-distributed-replay-utility-to-prepare-for-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-129">Review [Use the Distributed Replay Utility to Prepare for Upgrades](../../sql-server/install/use-the-distributed-replay-utility-to-prepare-for-upgrades.md).</span></span>  
  
-   <span data-ttu-id="23b69-130">Consultez [SQL Server Database Engine Backward Compatibility](../sql-server-database-engine-backward-compatibility.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-130">Review [SQL Server Database Engine Backward Compatibility](../sql-server-database-engine-backward-compatibility.md).</span></span>  
  
-   <span data-ttu-id="23b69-131">Consultez [Migrer des plans de requête](change-the-database-compatibility-mode-and-use-the-query-store.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-131">Review [Migrate Query Plans](change-the-database-compatibility-mode-and-use-the-query-store.md).</span></span>  
  
 <span data-ttu-id="23b69-132">Passez en revue les problèmes ci-dessous et apportez les modifications nécessaires, avant d'effectuer la mise à niveau de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="23b69-132">Review the following issues and make changes before you upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="23b69-133">Lors de la mise à niveau des instances de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] où l'Agent [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] est inscrit dans les relations MSX/TSX, mettez à niveau les serveurs cibles avant de mettre à niveau les serveurs maîtres.</span><span class="sxs-lookup"><span data-stu-id="23b69-133">When upgrading instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] where [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is enlisted in MSX/TSX relationships, upgrade target servers before you upgrade master servers.</span></span> <span data-ttu-id="23b69-134">Si vous mettez à niveau les serveurs maîtres avant les serveurs cibles, l'Agent [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ne sera pas en mesure de se connecter aux instances principales de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23b69-134">If you upgrade master servers before target servers, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent will not be able to connect to master instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="23b69-135">Lorsque vous procédez à une mise à niveau à partir d'une version 64 bits de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] vers une version 64 bits de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], vous devez mettre à niveau [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] avant de mettre à niveau le [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23b69-135">When upgrading from a 64-bit edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to a 64-bit edition of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you must upgrade [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] before you upgrade the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="23b69-136">Sauvegardez tous les fichiers de base de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] de l'instance à mettre à niveau, afin de pouvoir les restaurer, si besoin est.</span><span class="sxs-lookup"><span data-stu-id="23b69-136">Back up all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database files from the instance to be upgraded, so that you can restore them, if it is required.</span></span>  
  
-   <span data-ttu-id="23b69-137">Exécutez les commandes DBCC (Database Console Commands) appropriées sur les bases de données à mettre à niveau afin de vérifier leur cohérence.</span><span class="sxs-lookup"><span data-stu-id="23b69-137">Run the appropriate Database Console Commands (DBCC) on databases to be upgraded to ensure that they are in a consistent state.</span></span>  
  
-   <span data-ttu-id="23b69-138">Estimez l'espace disque requis pour mettre à niveau les composants [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , ainsi que les bases de données utilisateur.</span><span class="sxs-lookup"><span data-stu-id="23b69-138">Estimate the disk space that is required to upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components, in addition to user databases.</span></span> <span data-ttu-id="23b69-139">Pour connaître l'espace disque requis par les composants [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , consultez [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-139">For disk space that is required by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components, see [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span></span>  
  
-   <span data-ttu-id="23b69-140">Vérifiez que les bases de données système de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] - master, model, msdb et tempdb - sont configurées pour s'accroître automatiquement et vérifiez qu'elles disposent pour cela d'un espace disque suffisant.</span><span class="sxs-lookup"><span data-stu-id="23b69-140">Ensure that existing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system databases - master, model, msdb, and tempdb - are configured to autogrow, and ensure that they have sufficient hard disk space.</span></span>  
  
-   <span data-ttu-id="23b69-141">Vérifiez que tous les serveurs de bases de données possèdent des informations d'ouverture de session dans la base de données master.</span><span class="sxs-lookup"><span data-stu-id="23b69-141">Ensure that all database servers have logon information in the master database.</span></span> <span data-ttu-id="23b69-142">Ce point est particulièrement important pour la restauration d'une base de données, car les informations d'ouverture de session système résident dans la base de données master.</span><span class="sxs-lookup"><span data-stu-id="23b69-142">This is important for restoring a database, as system logon information resides in master.</span></span>  
  
-   <span data-ttu-id="23b69-143">Désactivez toutes les procédures stockées de démarrage, car le processus de mise à niveau arrête et démarre les services sur l'instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en cours de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="23b69-143">Disable all startup stored procedures, as the upgrade process will stop and start services on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance being upgraded.</span></span> <span data-ttu-id="23b69-144">Les procédures stockées traitées au moment du démarrage pourraient bloquer le processus de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="23b69-144">Stored procedures processed at startup time might block the upgrade process.</span></span>  
  
-   <span data-ttu-id="23b69-145">Assurez-vous que la réplication est activé et arrêtez la réplication.</span><span class="sxs-lookup"><span data-stu-id="23b69-145">Make sure that Replication is current and then stop Replication.</span></span>  
  
-   <span data-ttu-id="23b69-146">Quittez toutes les applications, y compris tous les services ayant des dépendances de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="23b69-146">Quit all applications, including all services that have [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dependencies.</span></span> <span data-ttu-id="23b69-147">La mise à niveau peut échouer si les applications locales sont connectées à l'instance en cours de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="23b69-147">Upgrade might fail if local applications are connected to the instance being upgraded.</span></span>  
  
-   <span data-ttu-id="23b69-148">Pour plus d’informations, consultez [Réduire le temps d’indisponibilité des bases de données mises en miroir lors de la mise à niveau d’instances de serveur](../database-mirroring/upgrading-mirrored-instances.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-148">If you use Database Mirroring, see [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](../database-mirroring/upgrading-mirrored-instances.md).</span></span>  
  
## <a name="upgrading-the-database-engine"></a><span data-ttu-id="23b69-149">Mise à niveau du moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="23b69-149">Upgrading the Database Engine</span></span>  
 <span data-ttu-id="23b69-150">Vous pouvez remplacer une installation de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] ou ultérieur par une mise à niveau de la version.</span><span class="sxs-lookup"><span data-stu-id="23b69-150">You can overwrite an installation of [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] or later with a version upgrade.</span></span> <span data-ttu-id="23b69-151">Si une version précédente de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] est détectée lorsque vous exécutez le programme d'installation de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , tous les fichiers programme de la version précédente de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont mis à niveau et toutes les données stockées dans l'instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] précédente sont conservées.</span><span class="sxs-lookup"><span data-stu-id="23b69-151">If an earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is detected when you run [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup, all previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] program files are upgraded, and all data stored in the previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance is preserved.</span></span> <span data-ttu-id="23b69-152">En outre, les versions précédentes de la documentation en ligne de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] demeureront intactes sur l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="23b69-152">In addition, earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online will remain intact on the computer.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="23b69-153">Quand vous exécutez le programme d’installation de SQL Server 2014, l’instance SQL Server est arrêtée, puis redémarrée dans le cadre de l’exécution des vérifications préalables à la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="23b69-153">When running the SQL Server 2014 setup program, the SQL Server instance is stopped and restarted as part of running the pre-upgrade checks.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="23b69-154">Lorsque vous effectuerez une mise à niveau vers [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], l'instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] précédente sera remplacée et n'existera plus sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="23b69-154">When you upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance will be overwritten and will no longer exist on your computer.</span></span> <span data-ttu-id="23b69-155">Avant d'opérer la mise à niveau, sauvegardez les bases de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] et les autres objets associés à l'instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] précédente.</span><span class="sxs-lookup"><span data-stu-id="23b69-155">Before upgrading, back up [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases and other objects associated with the previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
 <span data-ttu-id="23b69-156">Vous pouvez mettre à niveau le [!INCLUDE[ssDE](../../includes/ssde-md.md)] en utilisant l'Assistant Installation de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="23b69-156">You can upgrade the [!INCLUDE[ssDE](../../includes/ssde-md.md)] by using the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation Wizard.</span></span>  
  
### <a name="database-compatibility-level-after-upgrade"></a><span data-ttu-id="23b69-157">Niveau de compatibilité des bases de données après une mise à niveau</span><span class="sxs-lookup"><span data-stu-id="23b69-157">Database Compatibility Level After Upgrade</span></span>  
 <span data-ttu-id="23b69-158">Les niveaux de compatibilité des `tempdb` `model` `msdb` bases de données de **ressources** , et sont définis sur 120 après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="23b69-158">The compatibility levels of the `tempdb`, `model`, `msdb` and **Resource** databases are set to 120 after upgrade.</span></span> <span data-ttu-id="23b69-159">La base de données système `master` conserve le niveau de compatibilité qu'elle avait avant la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="23b69-159">The `master` system database retains the compatibility level it had before upgrade.</span></span>  
  
 <span data-ttu-id="23b69-160">Si le niveau de compatibilité d'une base de données utilisateur est à 100 ou supérieur avant la mise à niveau, il reste le même après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="23b69-160">If the compatibility level of a user database was 100 or higher before the upgrade, it remains the same after upgrade.</span></span> <span data-ttu-id="23b69-161">Si le niveau de compatibilité était à 90 avant la mise à niveau, dans la base de données mise à niveau, le niveau de compatibilité est défini à 100, ce qui correspond au niveau de compatibilité le plus bas pris en charge dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23b69-161">If the compatibility level was 90 before upgrade, in the upgraded database, the compatibility level is set to 100, which is the lowest supported compatibility level in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="23b69-162">Les nouvelles bases de données utilisateur héritent du niveau de compatibilité de la base de données `model`.</span><span class="sxs-lookup"><span data-stu-id="23b69-162">New user databases will inherit the compatibility level of the `model` database.</span></span>  
  
## <a name="migrating-databases"></a><span data-ttu-id="23b69-163">Migration des bases de données</span><span class="sxs-lookup"><span data-stu-id="23b69-163">Migrating Databases</span></span>  
 <span data-ttu-id="23b69-164">Vous pouvez déplacer les bases de données utilisateur vers une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à l'aide des fonctionnalités de sauvegarde et de restauration ou de détachement et d'attachement de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23b69-164">You can move user databases to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using backup and restore or detach and attach functionalities in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="23b69-165">Pour plus d’informations, consultez [Copier des bases de données avec la sauvegarde et la restauration](../../relational-databases/databases/copy-databases-with-backup-and-restore.md) ou [Attacher et détacher une base de données &#40;SQL Server&#41;](../../relational-databases/databases/database-detach-and-attach-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-165">For more information, see [Copy Databases with Backup and Restore](../../relational-databases/databases/copy-databases-with-backup-and-restore.md) or [Database Detach and Attach &#40;SQL Server&#41;](../../relational-databases/databases/database-detach-and-attach-sql-server.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="23b69-166">Une base de données dont le nom est identique sur les serveurs source et de destination ne peut pas être déplacée ni copiée.</span><span class="sxs-lookup"><span data-stu-id="23b69-166">A database that has the identical name on both source and destination servers cannot be moved or copied.</span></span> <span data-ttu-id="23b69-167">Dans ce cas, elle est signalée par « Existe déjà ».</span><span class="sxs-lookup"><span data-stu-id="23b69-167">In this case, it will be noted as "Already exists."</span></span>  
  
 <span data-ttu-id="23b69-168">Pour plus d'informations, consultez [Use the Copy Database Wizard](../../relational-databases/databases/use-the-copy-database-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-168">For more information, see [Use the Copy Database Wizard](../../relational-databases/databases/use-the-copy-database-wizard.md).</span></span>  
  
## <a name="after-upgrading-the-database-engine"></a><span data-ttu-id="23b69-169">Après la mise à niveau du moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="23b69-169">After Upgrading the Database Engine</span></span>  
 <span data-ttu-id="23b69-170">Après la mise à niveau du [!INCLUDE[ssDE](../../includes/ssde-md.md)], effectuez les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="23b69-170">After upgrading the [!INCLUDE[ssDE](../../includes/ssde-md.md)], complete the following tasks:</span></span>  
  
-   <span data-ttu-id="23b69-171">Réinscrivez vos serveurs.</span><span class="sxs-lookup"><span data-stu-id="23b69-171">Re-register your servers.</span></span> <span data-ttu-id="23b69-172">Pour plus d’informations sur l’inscription des serveurs, consultez [Inscrire des serveurs](../../ssms/register-servers/register-servers.md).</span><span class="sxs-lookup"><span data-stu-id="23b69-172">For more information about registering servers, see [Register Servers](../../ssms/register-servers/register-servers.md).</span></span>  
  
-   <span data-ttu-id="23b69-173">Alimentez à nouveau les catalogues de texte intégral pour garantir la cohérence sémantique dans les résultats de la requête.</span><span class="sxs-lookup"><span data-stu-id="23b69-173">Re-populate full-text catalogs to ensure semantic consistency in query results.</span></span>  
  
     [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="23b69-174">installe de nouveaux analyseurs lexicaux pour la recherche en texte intégral et sémantique.</span><span class="sxs-lookup"><span data-stu-id="23b69-174">installs new word breakers for use by Full-Text and Semantic Search.</span></span> <span data-ttu-id="23b69-175">Les analyseurs lexicaux sont utilisés au moment de l'indexation et au moment de la requête.</span><span class="sxs-lookup"><span data-stu-id="23b69-175">The word breakers are used both at indexing time and at query time.</span></span> <span data-ttu-id="23b69-176">Si vous ne reconstruisez pas les catalogues de texte intégral, vos résultats de recherche peuvent être incohérents.</span><span class="sxs-lookup"><span data-stu-id="23b69-176">If you do not rebuild the full-text catalogs, your search results may be inconsistent.</span></span> <span data-ttu-id="23b69-177">Si vous exécutez une requête de texte intégral qui recherche une expression qui est divisée différemment par l'analyseur lexical dans une version précédente de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] et l'analyseur lexical actuel, une ligne ou un document contenant l'expression peut ne pas être extrait.</span><span class="sxs-lookup"><span data-stu-id="23b69-177">If you issue a full-text query that looks for a phrase that is broken differently by the word breaker in a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and the current word breaker, a document or row containing the phrase might not be retrieved.</span></span> <span data-ttu-id="23b69-178">Cela est dû au fait que les expressions indexées ont été divisées à l'aide d'une logique différente de celle de la requête utilise.</span><span class="sxs-lookup"><span data-stu-id="23b69-178">This is because the indexed phrases were broken using different logic than the query is using.</span></span> <span data-ttu-id="23b69-179">La solution consiste à réalimenter (reconstruire) les catalogues de texte intégral avec les nouveaux analyseurs lexicaux afin que le temps d'indexation et le comportement de cette requête soient identiques.</span><span class="sxs-lookup"><span data-stu-id="23b69-179">The solution is to repopulate (rebuild) the full-text catalogs with the new word breakers so that index time and query time behavior are identical.</span></span>  
  
     <span data-ttu-id="23b69-180">Pour plus d’informations, consultez [sp_fulltext_catalog &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-fulltext-catalog-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="23b69-180">For more information, see [sp_fulltext_catalog &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-fulltext-catalog-transact-sql).</span></span>  
  
-   <span data-ttu-id="23b69-181">Configurez l'installation de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="23b69-181">Configure the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation.</span></span> <span data-ttu-id="23b69-182">Pour réduire la surface d'exposition d'un système, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installe et active de façon sélective les services et fonctionnalités clés.</span><span class="sxs-lookup"><span data-stu-id="23b69-182">To reduce the attackable surface area of a system, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] selectively installs and enables key services and features.</span></span>  
  
-   <span data-ttu-id="23b69-183">Validez ou supprimez les indicateurs USE PLAN générés par [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] et appliqués aux requêtes sur les tables partitionnées et les index.</span><span class="sxs-lookup"><span data-stu-id="23b69-183">Validate or remove USE PLAN hints that are generated by [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and applied to queries on partitioned tables and indexes.</span></span>  
  
     [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="23b69-184">modifie la manière dont sont traitées les requêtes sur les tables partitionnées et les index.</span><span class="sxs-lookup"><span data-stu-id="23b69-184">changes the way queries on partitioned tables and indexes are processed.</span></span> <span data-ttu-id="23b69-185">Les requêtes sur les objets partitionnés qui utilisent l'indicateur USE PLAN pour un plan généré par [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] peuvent contenir un plan non utilisable dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23b69-185">Queries on partitioned objects that use the USE PLAN hint for a plan that is generated by [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] might contain a plan that is not usable in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="23b69-186">Nous recommandons les procédures suivantes après la mise à niveau vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23b69-186">We recommend the following procedures after you upgrade to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
     <span data-ttu-id="23b69-187">**Lorsque l'indicateur USE PLAN conseil est spécifié directement dans une requête :**</span><span class="sxs-lookup"><span data-stu-id="23b69-187">**When the USE PLAN hint is specified directly in a query:**</span></span>  
  
    1.  <span data-ttu-id="23b69-188">Supprimez l'indicateur USE PLAN de la requête.</span><span class="sxs-lookup"><span data-stu-id="23b69-188">Remove the USE PLAN hint from the query.</span></span>  
  
    2.  <span data-ttu-id="23b69-189">Testez la requête.</span><span class="sxs-lookup"><span data-stu-id="23b69-189">Test the query.</span></span>  
  
    3.  <span data-ttu-id="23b69-190">Si l'optimiseur ne sélectionne pas un plan approprié, réglez la requête, puis envisagez de spécifier l'indicateur USE PLAN avec le plan de requête désiré.</span><span class="sxs-lookup"><span data-stu-id="23b69-190">If the optimizer does not select an appropriate plan, tune the query, and then consider specifying the USE PLAN hint with the desired query plan.</span></span>  
  
     <span data-ttu-id="23b69-191">**Lorsque l'indicateur USE PLAN conseil est spécifié dans un repère de plan :**</span><span class="sxs-lookup"><span data-stu-id="23b69-191">**When the USE PLAN hint is specified in a plan guide:**</span></span>  
  
    1.  <span data-ttu-id="23b69-192">Utilisez la fonction sys.fn_validate_plan_guide pour vérifier la validité du repère de plan.</span><span class="sxs-lookup"><span data-stu-id="23b69-192">Use the sys.fn_validate_plan_guide function to check the validity of the plan guide.</span></span> <span data-ttu-id="23b69-193">Vous pouvez aussi surveiller les repères de plan non valides en utilisant l'événement Plan Guide Unsuccessful dans [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23b69-193">Alternatively, you can check for invalid plans by using the Plan Guide Unsuccessful event in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span></span>  
  
    2.  <span data-ttu-id="23b69-194">Si le repère de plan n'est pas valide, abandonnez-le.</span><span class="sxs-lookup"><span data-stu-id="23b69-194">If the plan guide is not valid, drop the plan guide.</span></span> <span data-ttu-id="23b69-195">Si l'optimiseur ne sélectionne pas un plan approprié, réglez la requête, puis envisagez de spécifier l'indicateur USE PLAN avec le plan de requête désiré.</span><span class="sxs-lookup"><span data-stu-id="23b69-195">If the optimizer does not select an appropriate plan, tune the query, and then consider specifying the USE PLAN hint with the query plan that you want.</span></span>  
  
     <span data-ttu-id="23b69-196">Un repère de plan non valide n'entraîne pas l'échec d'une requête quand l'indicateur USE PLAN est spécifié dans un repère de plan.</span><span class="sxs-lookup"><span data-stu-id="23b69-196">A plan that is not valid will not cause the query to fail when the USE PLAN hint is specified in a plan guide.</span></span> <span data-ttu-id="23b69-197">À la place, la requête est compilée sans utiliser l'indicateur USE PLAN.</span><span class="sxs-lookup"><span data-stu-id="23b69-197">Instead, the query is compiled without using the USE PLAN hint.</span></span>  
  
 <span data-ttu-id="23b69-198">Toutes les bases de données qui étaient marquées comme activées ou désactivées pour le texte intégral avant la mise à niveau conservent ce statut après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="23b69-198">Any databases that were marked full-text enabled or disabled before the upgrade will maintain that status after upgrade.</span></span> <span data-ttu-id="23b69-199">Après la mise à niveau, les catalogues de texte intégral sont automatiquement reconstruits et alimentés pour toutes les bases de données activées pour le texte intégral.</span><span class="sxs-lookup"><span data-stu-id="23b69-199">After the upgrade, the full-text catalogs will be rebuilt and populated automatically for all full-text enabled databases.</span></span> <span data-ttu-id="23b69-200">Cette opération peut s'avérer gourmande en termes de temps et de ressources.</span><span class="sxs-lookup"><span data-stu-id="23b69-200">This is a time-consuming and resource-consuming operation.</span></span> <span data-ttu-id="23b69-201">Vous pouvez suspendre temporairement l'opération d'indexation de texte intégral en exécutant l'instruction suivante :</span><span class="sxs-lookup"><span data-stu-id="23b69-201">You can pause the full-text indexing operation temporarily by running the following statement:</span></span>  
  
```  
EXEC sp_fulltext_service 'pause_indexing', 1;  
```  
  
 <span data-ttu-id="23b69-202">Pour reprendre l'alimentation de l'index de recherche en texte intégral, exécutez l'instruction suivante :</span><span class="sxs-lookup"><span data-stu-id="23b69-202">To resume full-text index population, run the following statement:</span></span>  
  
```  
EXEC sp_fulltext_service 'pause_indexing', 0;  
```  
  
## <a name="see-also"></a><span data-ttu-id="23b69-203">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="23b69-203">See Also</span></span>  
 <span data-ttu-id="23b69-204">[Mises à niveau de la version et de l'édition prises en charge](supported-version-and-edition-upgrades.md) </span><span class="sxs-lookup"><span data-stu-id="23b69-204">[Supported Version and Edition Upgrades](supported-version-and-edition-upgrades.md) </span></span>  
 <span data-ttu-id="23b69-205">[Utiliser plusieurs versions et instances de SQL Server](../../../2014/sql-server/install/work-with-multiple-versions-and-instances-of-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="23b69-205">[Work with Multiple Versions and Instances of SQL Server](../../../2014/sql-server/install/work-with-multiple-versions-and-instances-of-sql-server.md) </span></span>  
 <span data-ttu-id="23b69-206">[Compatibilité descendante](../../getting-started/backward-compatibility.md) </span><span class="sxs-lookup"><span data-stu-id="23b69-206">[Backward Compatibility](../../getting-started/backward-compatibility.md) </span></span>  
 [<span data-ttu-id="23b69-207">Mettre à niveau des bases de données répliquées</span><span class="sxs-lookup"><span data-stu-id="23b69-207">Upgrade Replicated Databases</span></span>](upgrade-replicated-databases.md)  
  
  
