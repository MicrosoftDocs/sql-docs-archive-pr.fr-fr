---
title: Liens dans sécurité de l’intégration du CLR | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: reference
helpviewer_keywords:
- table-access links [CLR integration]
- security [CLR integration]
- invocation links [CLR integration]
- gated links [CLR integration]
ms.assetid: 168efd01-d12e-4bdf-a1b3-0b5c76474eaf
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 52a4f8084a8a90384c8916f2219faaf2c138b11c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87709851"
---
# <a name="links-in-clr-integration-security"></a><span data-ttu-id="1127c-102">Liens dans la sécurité d'intégration du CLR</span><span class="sxs-lookup"><span data-stu-id="1127c-102">Links in CLR Integration Security</span></span>
  <span data-ttu-id="1127c-103">Cette section décrit la façon dont les parties de code utilisateur peuvent s'appeler dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], en langage [!INCLUDE[tsql](../../includes/tsql-md.md)] ou dans l'un des langages managés.</span><span class="sxs-lookup"><span data-stu-id="1127c-103">This section describes how pieces of user code can call each other in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], either in [!INCLUDE[tsql](../../includes/tsql-md.md)] or in one of the managed languages.</span></span> <span data-ttu-id="1127c-104">Ces relations entre objets sont connues sous le nom de liens.</span><span class="sxs-lookup"><span data-stu-id="1127c-104">These relationships between objects are referred to as links.</span></span>  
  
## <a name="invocation-links"></a><span data-ttu-id="1127c-105">Liens d'appel</span><span class="sxs-lookup"><span data-stu-id="1127c-105">Invocation Links</span></span>  
 <span data-ttu-id="1127c-106">Les liens d'appel correspondent à un appel de code, soit un utilisateur qui appelle un objet (tel qu'un lot [!INCLUDE[tsql](../../includes/tsql-md.md)] qui appelle une procédure stockée), soit une procédure stockée ou une fonction CLR.</span><span class="sxs-lookup"><span data-stu-id="1127c-106">Invocation links correspond to a code invocation, either from a user calling an object (such as a [!INCLUDE[tsql](../../includes/tsql-md.md)] batch calling a stored procedure), or a common language runtime (CLR) stored procedure or function.</span></span> <span data-ttu-id="1127c-107">Les liens d'appel provoquent la vérification d'une autorisation `EXECUTE` sur l'appelé.</span><span class="sxs-lookup"><span data-stu-id="1127c-107">Invocation links cause an `EXECUTE` permission on the callee to be checked.</span></span>  
  
## <a name="table-access-links"></a><span data-ttu-id="1127c-108">Liens d'accès de table</span><span class="sxs-lookup"><span data-stu-id="1127c-108">Table-Access Links</span></span>  
 <span data-ttu-id="1127c-109">Les liens d'accès de table correspondent à l'extraction ou à la modification de valeurs dans une table, une vue ou une fonction table.</span><span class="sxs-lookup"><span data-stu-id="1127c-109">Table access links correspond to retrieving or modifying values in a table, view, or a table-valued function.</span></span> <span data-ttu-id="1127c-110">Ils sont semblables aux liens d'appel, mais offrent un contrôle d'accès affiné en ce qui concerne les autorisations SELECT, INSERT, UPDATE et DELETE.</span><span class="sxs-lookup"><span data-stu-id="1127c-110">They are similar to invocation links, except that they have a finer-grained access control in terms of SELECT, INSERT, UPDATE, and DELETE permissions.</span></span>  
  
## <a name="gated-links"></a><span data-ttu-id="1127c-111">Liens contrôlés</span><span class="sxs-lookup"><span data-stu-id="1127c-111">Gated Links</span></span>  
 <span data-ttu-id="1127c-112">Les liens contrôlés signifient que pendant l'exécution, les autorisations ne sont pas vérifiées dans toute la relation d'objet une fois qu'elle a été établie.</span><span class="sxs-lookup"><span data-stu-id="1127c-112">Gated links mean that during execution, permissions are not checked across the object relationship once it has been established.</span></span> <span data-ttu-id="1127c-113">Lorsqu'il y a un lien contrôlé entre deux objets (par exemple, l'objet **x** et l'objet **y**), les autorisations sur l'objet **y** et autres objets accédés à partir de l'objet **y** sont vérifiés uniquement au moment de la création de l'objet **x**.</span><span class="sxs-lookup"><span data-stu-id="1127c-113">When there is a gated link between two objects (for example, object **x** and object **y**), permissions on object **y** and other objects accessed from object **y** are checked only at the creation time of object **x**.</span></span> <span data-ttu-id="1127c-114">À l’heure de création de l’objet **x**, `REFERENCE` l’autorisation est vérifiée sur **y** par rapport au propriétaire de **x**.</span><span class="sxs-lookup"><span data-stu-id="1127c-114">At the creation time of object **x**, `REFERENCE` permission is checked on **y** against the owner of **x**.</span></span> <span data-ttu-id="1127c-115">Lors de l'exécution (par exemple, lorsque quelqu'un appelle l'objet **x**), il n'y a aucune autorisation vérifiée par rapport à **y** ou autres objets auquel il fait  référence de manière statique.</span><span class="sxs-lookup"><span data-stu-id="1127c-115">At execution time, (for example, when someone calls object **x**), there are no permissions checked against **y** or other objects it references statically.</span></span> <span data-ttu-id="1127c-116">Lors de l'exécution, une autorisation appropriée est vérifiée par rapport à l'objet **x** lui-même.</span><span class="sxs-lookup"><span data-stu-id="1127c-116">At execution time, an appropriate permission will be checked against object **x** itself.</span></span>  
  
 <span data-ttu-id="1127c-117">Les liens contrôlés sont toujours utilisés conjointement à une dépendance de métadonnées entre deux objets.</span><span class="sxs-lookup"><span data-stu-id="1127c-117">Gated links are always used in conjunction with a metadata dependency between two objects.</span></span> <span data-ttu-id="1127c-118">Cette dépendance de métadonnées est une relation établie dans les catalogues [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] qui empêche un objet d'être supprimé tant qu'un autre objet dépend de lui.</span><span class="sxs-lookup"><span data-stu-id="1127c-118">This metadata dependency is a relationship established in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] catalogs that prevents an object from being dropped as long as another object depends on it.</span></span>  
  
 <span data-ttu-id="1127c-119">Les liens contrôlés sont utiles lorsqu'il n'est ni approprié ou réalisable d'accorder des autorisations à de nombreux objets dépendants.</span><span class="sxs-lookup"><span data-stu-id="1127c-119">Gated links are useful when it is not appropriate or manageable to give permissions to many dependent objects.</span></span> <span data-ttu-id="1127c-120">Des liens contrôlés sont introduits entre les objets qui définissent des points d'entrée [!INCLUDE[tsql](../../includes/tsql-md.md)] dans des assemblys CLR (par exemple, des procédures, déclencheurs, fonctions, types et agrégats CLR) et les assemblys à partir desquels ils sont définis.</span><span class="sxs-lookup"><span data-stu-id="1127c-120">Gated links are introduced between objects that define [!INCLUDE[tsql](../../includes/tsql-md.md)] entry points into CLR assemblies (for example, CLR procedures, triggers, functions, types, and aggregates) and the assemblies from which they are defined.</span></span> <span data-ttu-id="1127c-121">La sécurité contrôlée contre ces objets implique que pour appeler un point d'entrée [!INCLUDE[tsql](../../includes/tsql-md.md)] défini dans un assembly CLR, l'appelant n'a besoin que d'une autorisation appropriée sur ce point d'entrée [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1127c-121">Gated security against these objects implies that in order to invoke a [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point defined in a CLR assembly, the caller only needs an appropriate permission on that [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point.</span></span> <span data-ttu-id="1127c-122">L'appelant n'est pas obligé d'avoir des autorisations sur cet assembly ou tout autre assembly auquel il fait référence de manière statique.</span><span class="sxs-lookup"><span data-stu-id="1127c-122">The caller is not required to have permissions on that assembly or any other assemblies it statically references.</span></span> <span data-ttu-id="1127c-123">Les autorisations sur l'assembly sont vérifiées au moment de la création du point d'entrée [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1127c-123">The permissions on the assembly are checked at creation time of the [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point.</span></span>  
  
## <a name="sql-server-authorization-based-security"></a><span data-ttu-id="1127c-124">Sécurité SQL Server basée sur l'autorisation</span><span class="sxs-lookup"><span data-stu-id="1127c-124">SQL Server Authorization-Based Security</span></span>  
 <span data-ttu-id="1127c-125">Vous trouverez ci-dessous les règles de base sous-jacentes aux contrôles de sécurité [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour les appels de et entre des objets de base de données basés sur le CLR ; les trois premières règles définissent les autorisations qui sont contrôlées et contre quel objet ; la quatrième règle définit le contexte d'exécution par rapport auquel l'autorisation est contrôlée.</span><span class="sxs-lookup"><span data-stu-id="1127c-125">The following are the basic rules behind the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] security checks for invocations of and between CLR-based database objects; the first three rules define which permissions are checked and against which object; the fourth rule defines which execution context the permission is checked against.</span></span>  
  
1.  <span data-ttu-id="1127c-126">Tous les appels requièrent l'autorisation `EXECUTE`, à moins que les appels ne se produisent dans le même objet ; cela signifie que les appels dans le même assembly ne nécessitent aucun contrôle d'autorisation.</span><span class="sxs-lookup"><span data-stu-id="1127c-126">All invocations require `EXECUTE` permission unless the invocations occur within the same object; this means that calls within the same assembly do not require any permission checks.</span></span> <span data-ttu-id="1127c-127">L'autorisation est contrôlée au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="1127c-127">The permission is checked at execution time.</span></span>  
  
2.  <span data-ttu-id="1127c-128">Les liens contrôlés requièrent l'autorisation `REFERENCE` par rapport à l'appelé lorsque l'objet appelant est créé.</span><span class="sxs-lookup"><span data-stu-id="1127c-128">Gated links require `REFERENCE` permission against the callee when the calling object is created.</span></span> <span data-ttu-id="1127c-129">L'autorisation est contrôlée pour le propriétaire de l'objet appelant lorsque l'objet est créé.</span><span class="sxs-lookup"><span data-stu-id="1127c-129">The permission is checked for the owner of the calling object when the object is created.</span></span>  
  
3.  <span data-ttu-id="1127c-130">Les liens d'accès de table requièrent l'autorisation `SELECT`, `INSERT`, `UPDATE` ou `DELETE` correspondant pra rapport à la table ou vue qui est accédée.</span><span class="sxs-lookup"><span data-stu-id="1127c-130">Table-access links require the corresponding `SELECT`, `INSERT`, `UPDATE`, or `DELETE` permission against the table or view being accessed.</span></span>  
  
4.  <span data-ttu-id="1127c-131">L'autorisation est contrôlée par rapport au contexte d'exécution actuel.</span><span class="sxs-lookup"><span data-stu-id="1127c-131">The permission is checked against the current execution context.</span></span> <span data-ttu-id="1127c-132">Il est possible de créer des procédures et fonctions avec un contexte d'exécution différent de l'appelant.</span><span class="sxs-lookup"><span data-stu-id="1127c-132">Procedures and functions can be created with an execution context that is different from the caller.</span></span> <span data-ttu-id="1127c-133">Un assembly est toujours créé avec le contexte d'exécution de la procédure, de la fonction ou du déclencheur défini contre lui.</span><span class="sxs-lookup"><span data-stu-id="1127c-133">Assemblies are always created with the execution context of the procedure, function, or trigger that is defined against it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1127c-134">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1127c-134">See Also</span></span>  
 [<span data-ttu-id="1127c-135">Sécurité de l'intégration du CLR</span><span class="sxs-lookup"><span data-stu-id="1127c-135">CLR Integration Security</span></span>](../../relational-databases/clr-integration/security/clr-integration-security.md)  
  
  
