---
title: Installer un Service Pack sur un système avec un temps d’arrêt minimal pour les bases de données mises en miroir | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- hotfixes [SQL Server]
- database mirroring [SQL Server], upgrading system
- rolling upgrades [SQL Server]
- service packs [SQL Server]
- upgrading mirrored database systems
- upgrading SQL Server, mirrored databases
ms.assetid: bdc63142-027d-4ead-9d3e-147331387ef5
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: e878d31ec926f8b2cc460854f422b4d01d32d414
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87703271"
---
# <a name="install-a-service-pack-on-a-system-with-minimal-downtime-for-mirrored-databases"></a><span data-ttu-id="72b74-102">Installer un Service Pack sur un système avec un temps mort minimal pour les bases de données mises en miroir</span><span class="sxs-lookup"><span data-stu-id="72b74-102">Install a Service Pack on a System with Minimal Downtime for Mirrored Databases</span></span>
  <span data-ttu-id="72b74-103">Cette rubrique décrit comment réduire le temps mort pour les bases de données mises en miroir lorsque vous installez des Service Packs et des correctifs.</span><span class="sxs-lookup"><span data-stu-id="72b74-103">This topic describes how to minimize downtime for mirrored databases when you install service packs and hotfixes.</span></span> <span data-ttu-id="72b74-104">Ce processus implique la mise à niveau séquentielle des instances de [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] qui participent à la mise en miroir de bases de données.</span><span class="sxs-lookup"><span data-stu-id="72b74-104">This process involves sequentially upgrading the instances of [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] that are participating in database mirroring.</span></span> <span data-ttu-id="72b74-105">Cette forme de mise à jour, appelée *mise à jour propagée*, réduit le temps d’arrêt à un seul basculement.</span><span class="sxs-lookup"><span data-stu-id="72b74-105">This form of update, which is known as a *rolling update*, reduces downtime to only a single failover.</span></span> <span data-ttu-id="72b74-106">Notez que pour les sessions en mode hautes performances dans lesquelles le serveur miroir est géographiquement distant du serveur principal, une mise à jour propagée peut être inappropriée.</span><span class="sxs-lookup"><span data-stu-id="72b74-106">Note that for high-performance mode sessions in which the mirror server is geographically distant from the principal server, a rolling update might be inappropriate.</span></span>  
  
 <span data-ttu-id="72b74-107">Une mise à jour propagée est un processus en plusieurs étapes impliquant les différentes étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="72b74-107">A rolling update is a multi-stage process that consists of the following stages:</span></span>  
  
-   <span data-ttu-id="72b74-108">Protéger vos données.</span><span class="sxs-lookup"><span data-stu-id="72b74-108">Protect your data.</span></span>  
  
-   <span data-ttu-id="72b74-109">Si la session inclut un témoin, nous vous recommandons de le supprimer.</span><span class="sxs-lookup"><span data-stu-id="72b74-109">If the session includes a witness, we recommend that you remove the witness.</span></span> <span data-ttu-id="72b74-110">Sinon, lorsque l'instance de serveur miroir est mise à jour, la disponibilité de la base de données dépend du témoin qui reste connecté à l'instance de serveur principal.</span><span class="sxs-lookup"><span data-stu-id="72b74-110">Otherwise, when the mirror server instance is being updated, database availability depends on the witness that remains connected to the principal server instance.</span></span> <span data-ttu-id="72b74-111">Après avoir supprimé un témoin, vous pouvez le mettre à jour à tout moment pendant le processus de mise à jour propagée sans risquer un temps mort de la base de données.</span><span class="sxs-lookup"><span data-stu-id="72b74-111">After you remove a witness, you can update it at any time during the rolling update process without risking database downtime.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="72b74-112">Pour plus d’informations, consultez [Quorum : effets d’un témoin sur la disponibilité de la base de données &#40;Mise en miroir de bases de données&#41;](database-mirroring/quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="72b74-112">For more information, see [Quorum: How a Witness Affects Database Availability &#40;Database Mirroring&#41;](database-mirroring/quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span></span>  
  
-   <span data-ttu-id="72b74-113">Si une session s'exécute en mode hautes performances, convertissez le mode d'opération en mode haute sécurité.</span><span class="sxs-lookup"><span data-stu-id="72b74-113">If a session is running in high-performance mode, change the operating mode to high-safety mode.</span></span>  
  
-   <span data-ttu-id="72b74-114">Mettre à jour chaque instance de serveur impliquée dans la mise en miroir de bases de données.</span><span class="sxs-lookup"><span data-stu-id="72b74-114">Update each server instance that is involved in database mirroring.</span></span> <span data-ttu-id="72b74-115">Une mise à jour propagée implique la mise à niveau de l'instance de serveur qui est actuellement le serveur miroir, le basculement manuel de chacune de ses bases de données mises en miroir et la mise à niveau de l'instance de serveur qui était auparavant le serveur principal (et qui est désormais le nouveau serveur miroir).</span><span class="sxs-lookup"><span data-stu-id="72b74-115">A rolling update involves upgrading the server instance that is currently the mirror server, manually failing over each of its mirrored databases, and upgrading the server instance that was first the principal server (and is now the new mirror server).</span></span> <span data-ttu-id="72b74-116">Vous devrez à ce stade, reprendre la mise en miroir.</span><span class="sxs-lookup"><span data-stu-id="72b74-116">At this point, you will have to resume mirroring.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="72b74-117">Avant de démarrer une mise à jour propagée, nous vous recommandons d'effectuer un basculement manuel d'essai sur au moins une de vos sessions de mise en miroir.</span><span class="sxs-lookup"><span data-stu-id="72b74-117">Before starting a rolling update, we recommend that you perform a practice manual failover on at least one of your mirroring sessions.</span></span>  
  
-   <span data-ttu-id="72b74-118">Rétablir si nécessaire le mode hautes performances.</span><span class="sxs-lookup"><span data-stu-id="72b74-118">Revert to high-performance mode, if it is required.</span></span>  
  
-   <span data-ttu-id="72b74-119">Faire revenir le témoin dans la session de mise en miroir, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="72b74-119">Return the witness to the mirroring session, if it is required.</span></span>  
  
 <span data-ttu-id="72b74-120">Les procédures de ces étapes sont décrites ici.</span><span class="sxs-lookup"><span data-stu-id="72b74-120">The procedures for these stages are described here.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="72b74-121">Une instance de serveur peut remplir différents rôles de mise en miroir (serveur principal, serveur miroir ou témoin) dans des sessions de mise en miroir simultanées.</span><span class="sxs-lookup"><span data-stu-id="72b74-121">A server instance might be performing different mirroring roles (principal server, mirror server, or witness) in concurrent mirroring sessions.</span></span> <span data-ttu-id="72b74-122">Dans ce cas, vous devez adapter le processus de mise à jour propagée de base en conséquence.</span><span class="sxs-lookup"><span data-stu-id="72b74-122">In this case, you will have to adapt the basic rolling update process accordingly.</span></span>  
  
### <a name="to-protect-your-data-before-an-update-a-best-practice"></a><span data-ttu-id="72b74-123">Pour protéger vos données avant une mise à jour (meilleure pratique)</span><span class="sxs-lookup"><span data-stu-id="72b74-123">To protect your data before an update (a best practice)</span></span>  
  
1.  <span data-ttu-id="72b74-124">Effectuez une sauvegarde complète de chaque base de données principale.</span><span class="sxs-lookup"><span data-stu-id="72b74-124">Perform a full database backup on every principal database.</span></span>  
  
     <span data-ttu-id="72b74-125">**Pour sauvegarder une base de données**</span><span class="sxs-lookup"><span data-stu-id="72b74-125">**To back up a database**</span></span>  
  
    -   <span data-ttu-id="72b74-126">[Créer une sauvegarde complète de base de données &#40;SQL Server&#41;](../relational-databases/backup-restore/create-a-full-database-backup-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="72b74-126">[Create a Full Database Backup &#40;SQL Server&#41;](../relational-databases/backup-restore/create-a-full-database-backup-sql-server.md).</span></span>  
  
2.  <span data-ttu-id="72b74-127">Exécutez la commande [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) sur chaque base de données principale.</span><span class="sxs-lookup"><span data-stu-id="72b74-127">Run the [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) command on every principal database.</span></span>  
  
### <a name="to-remove-a-witness-from-a-session"></a><span data-ttu-id="72b74-128">Pour supprimer un témoin d'une session</span><span class="sxs-lookup"><span data-stu-id="72b74-128">To remove a witness from a session</span></span>  
  
1.  <span data-ttu-id="72b74-129">Si une session de mise en miroir fait intervenir un témoin, nous vous recommandons de le supprimer avant d'effectuer une mise à jour propagée.</span><span class="sxs-lookup"><span data-stu-id="72b74-129">If a mirroring session involves a witness, we recommend that you remove the witness before you perform a rolling update.</span></span>  
  
     <span data-ttu-id="72b74-130">**Pour supprimer le témoin**</span><span class="sxs-lookup"><span data-stu-id="72b74-130">**To remove the witness**</span></span>  
  
    -   [<span data-ttu-id="72b74-131">Supprimer le témoin d’une session de mise en miroir de bases de données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="72b74-131">Remove the Witness from a Database Mirroring Session &#40;SQL Server&#41;</span></span>](database-mirroring/remove-the-witness-from-a-database-mirroring-session-sql-server.md)  
  
### <a name="to-change-a-session-from-high-performance-mode-to-high-safety-mode"></a><span data-ttu-id="72b74-132">Pour faire passer une session du mode hautes performances en mode haute sécurité</span><span class="sxs-lookup"><span data-stu-id="72b74-132">To change a session from high-performance mode to high-safety mode</span></span>  
  
1.  <span data-ttu-id="72b74-133">Si une session de mise en miroir s'exécute en mode hautes performances, avant d'effectuer une mise à jour propagée, convertissez le mode d'opération en mode haute sécurité sans basculement automatique.</span><span class="sxs-lookup"><span data-stu-id="72b74-133">If a mirroring session is running in high-performance mode, before you perform a rolling update, change the operating mode to high safety without automatic failover.</span></span> <span data-ttu-id="72b74-134">Appliquez l'une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="72b74-134">Use one of the following methods:</span></span>  
  
    -   <span data-ttu-id="72b74-135">Dans [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] : affectez la valeur **Haute sécurité sans basculement automatique (synchrone)** à l’option **Mode d’opération** dans la [page Mise en miroir](../relational-databases/databases/database-properties-mirroring-page.md) de la boîte de dialogue **Propriétés de la base de données**.</span><span class="sxs-lookup"><span data-stu-id="72b74-135">In [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]: Change the **Operating mode** option to **High safety without automatic failover (synchronous)** by using the [Mirroring Page](../relational-databases/databases/database-properties-mirroring-page.md) of the **Database Properties** dialog box.</span></span> <span data-ttu-id="72b74-136">Pour plus d’informations sur la façon d’accéder à cette page, consultez [Démarrer l’Assistant Configuration de la sécurité de mise en miroir de bases de données &#40;SQL Server Management Studio&#41;](database-mirroring/start-the-configuring-database-mirroring-security-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="72b74-136">For information about how to access this page, see [Start the Configuring Database Mirroring Security Wizard &#40;SQL Server Management Studio&#41;](database-mirroring/start-the-configuring-database-mirroring-security-wizard.md).</span></span>  
  
    -   <span data-ttu-id="72b74-137">Dans [!INCLUDE[tsql](../includes/tsql-md.md)] : attribuez à la sécurité des transactions la valeur FULL.</span><span class="sxs-lookup"><span data-stu-id="72b74-137">In [!INCLUDE[tsql](../includes/tsql-md.md)]: Set transaction safety to FULL.</span></span> <span data-ttu-id="72b74-138">Pour plus d’informations, consultez [Modifier la sécurité des transactions dans une session de mise en miroir de bases de données &#40;Transact-SQL&#41;](database-mirroring/change-transaction-safety-in-a-database-mirroring-session-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="72b74-138">For more information, see [Change Transaction Safety in a Database Mirroring Session &#40;Transact-SQL&#41;](database-mirroring/change-transaction-safety-in-a-database-mirroring-session-transact-sql.md).</span></span>  
  
### <a name="to-perform-the-rolling-update"></a><span data-ttu-id="72b74-139">Pour effectuer la mise à jour propagée</span><span class="sxs-lookup"><span data-stu-id="72b74-139">To perform the rolling update</span></span>  
  
1.  <span data-ttu-id="72b74-140">Pour réduire le temps mort, nous vous recommandons d'appliquer la procédure suivante : démarrez la mise à jour propagée en mettant à jour tout serveur partenaire de mise en miroir qui fait actuellement office de serveur miroir dans toutes ses sessions de mise en miroir.</span><span class="sxs-lookup"><span data-stu-id="72b74-140">To minimize downtime, we recommend the following: Start the rolling update by updating any mirroring partner that is currently the mirror server in all its mirroring sessions.</span></span> <span data-ttu-id="72b74-141">Vous pourriez devoir mettre à jour plusieurs instances de serveur à ce stade.</span><span class="sxs-lookup"><span data-stu-id="72b74-141">You might have to update multiple server instances at this point.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="72b74-142">Un témoin peut être mis à jour à tout moment au cours du processus de mise à jour propagée.</span><span class="sxs-lookup"><span data-stu-id="72b74-142">A witness can be updated at any point in the rolling update process.</span></span> <span data-ttu-id="72b74-143">Par exemple, si une instance de serveur est un serveur miroir dans la session 1 et un témoin dans la session 2, vous pouvez la mettre à jour dès maintenant.</span><span class="sxs-lookup"><span data-stu-id="72b74-143">For example, if a server instance is a mirror server in Session 1 and is a witness in Session 2, you can update the server instance now.</span></span>  
  
     <span data-ttu-id="72b74-144">L'instance de serveur à mettre à jour en premier dépend de la configuration actuelle de vos sessions de mise en miroir, à savoir :</span><span class="sxs-lookup"><span data-stu-id="72b74-144">The server instance to update first depends on the current configuration of your mirroring sessions, as follows:</span></span>  
  
    -   <span data-ttu-id="72b74-145">Si une instance de serveur est déjà le serveur miroir dans toutes ses sessions de mise en miroir, installez le Service Pack ou le correctif sur cette instance de serveur.</span><span class="sxs-lookup"><span data-stu-id="72b74-145">If any server instance is already the mirror server in all of its mirroring sessions, install the service pack or the hotfix on that server instance.</span></span>  
  
    -   <span data-ttu-id="72b74-146">Si toutes vos instances de serveur sont actuellement le serveur principal dans toutes les sessions de mise en miroir, sélectionnez une instance de serveur à mettre à jour en premier.</span><span class="sxs-lookup"><span data-stu-id="72b74-146">If all of your server instances are currently the principal server in any mirroring sessions, select one server instance to update first.</span></span> <span data-ttu-id="72b74-147">Puis, faites basculer manuellement chacune de ses bases de données principales et mettez à jour cette instance de serveur en installant le Service Pack ou le correctif.</span><span class="sxs-lookup"><span data-stu-id="72b74-147">Then, manually fail over each of its principal databases and update that server instance by installing the service pack or the hotfix.</span></span>  
  
     <span data-ttu-id="72b74-148">Après sa mise à jour, une instance de serveur réintègre automatiquement chacune de ses sessions de mise en miroir.</span><span class="sxs-lookup"><span data-stu-id="72b74-148">After being updated, a server instance automatically rejoins each of its mirroring sessions.</span></span>  
  
     <span data-ttu-id="72b74-149">**Pour effectuer un basculement manuel**</span><span class="sxs-lookup"><span data-stu-id="72b74-149">**To perform a manual failover**</span></span>  
  
    -   [<span data-ttu-id="72b74-150">Basculer manuellement une session de mise en miroir de bases de données &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="72b74-150">Manually Fail Over a Database Mirroring Session &#40;SQL Server Management Studio&#41;</span></span>](database-mirroring/manually-fail-over-a-database-mirroring-session-sql-server-management-studio.md)  
  
    -   <span data-ttu-id="72b74-151">[Basculer manuellement une session de mise en miroir de bases de données &#40;Transact-SQL&#41;](database-mirroring/manually-fail-over-a-database-mirroring-session-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="72b74-151">[Manually Fail Over a Database Mirroring Session &#40;Transact-SQL&#41;](database-mirroring/manually-fail-over-a-database-mirroring-session-transact-sql.md).</span></span>  
  
     <span data-ttu-id="72b74-152">Pour plus d’informations sur le fonctionnement du basculement manuel, consultez [Basculement de rôle durant une session de mise en miroir de bases de données &#40;SQL Server&#41;](database-mirroring/role-switching-during-a-database-mirroring-session-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="72b74-152">For information about how manual failover works, see [Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](database-mirroring/role-switching-during-a-database-mirroring-session-sql-server.md).</span></span>  
  
2.  <span data-ttu-id="72b74-153">Attendez la synchronisation de chaque session de mise en miroir dont l'instance de serveur miroir vient d'être mise à jour.</span><span class="sxs-lookup"><span data-stu-id="72b74-153">For each mirroring session whose mirror server instance has just been updated, wait for the session to synchronize.</span></span> <span data-ttu-id="72b74-154">Puis, connectez-vous à l'instance de serveur principal, et basculez manuellement la session.</span><span class="sxs-lookup"><span data-stu-id="72b74-154">Then, connect to the principal server instance, and manually fail over the session.</span></span> <span data-ttu-id="72b74-155">Lors du basculement, l'instance de serveur mise à jour devient le serveur principal pour cette session, et l'ancien serveur principal devient le serveur miroir.</span><span class="sxs-lookup"><span data-stu-id="72b74-155">On failover, the updated server instance becomes the principal server for that session, and the former principal server becomes the mirror server.</span></span>  
  
     <span data-ttu-id="72b74-156">Le but de cette étape est de permettre à une autre instance de serveur de devenir le serveur miroir dans chaque session de mise en miroir dans laquelle elle est un serveur partenaire.</span><span class="sxs-lookup"><span data-stu-id="72b74-156">The goal of this step is for another server instance to become the mirror server in every mirroring session in which it is a partner.</span></span>  
  
3.  <span data-ttu-id="72b74-157">Après avoir effectué le basculement, nous vous recommandons d'exécuter la commande [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) sur la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="72b74-157">After you fail over, we recommend that you run the [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) command on the principal database.</span></span>  
  
4.  <span data-ttu-id="72b74-158">Installez le Service Pack ou le correctif sur chaque instance de serveur qui est désormais le serveur miroir dans toutes les sessions de mise en miroir dans lesquelles il est un serveur partenaire.</span><span class="sxs-lookup"><span data-stu-id="72b74-158">Install the service pack or the hotfix on each server instance that is now the mirror server in all mirroring sessions in which it is a partner.</span></span> <span data-ttu-id="72b74-159">Vous pourriez devoir mettre à jour plusieurs serveurs à ce stade.</span><span class="sxs-lookup"><span data-stu-id="72b74-159">You might have to update multiple servers at this point.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="72b74-160">Dans une configuration de mise en miroir complexe, certaines instances de serveur pourraient encore être le serveur principal d'origine dans une ou plusieurs sessions de mise en miroir.</span><span class="sxs-lookup"><span data-stu-id="72b74-160">In a complex mirroring configuration, some server instance might still be the original principal server in one or more mirroring sessions.</span></span> <span data-ttu-id="72b74-161">Répétez les étapes 2-4 pour ces instances de serveur jusqu’à ce que toutes les instances concernées soient mises à jour.</span><span class="sxs-lookup"><span data-stu-id="72b74-161">Repeat steps 2-4 for those server instances until all instances involved are updated.</span></span>  
  
5.  <span data-ttu-id="72b74-162">Reprenez la session de mise en miroir.</span><span class="sxs-lookup"><span data-stu-id="72b74-162">Resume the mirroring session.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="72b74-163">Le basculement automatique ne fonctionne pas tant que le témoin n'a pas été mis à jour.</span><span class="sxs-lookup"><span data-stu-id="72b74-163">Automatic failover will not work until the witness has been updated.</span></span>  
  
6.  <span data-ttu-id="72b74-164">Installez les Service Packs ou les correctifs sur une instance de serveur restante qui est le témoin dans toutes ses sessions de mise en miroir.</span><span class="sxs-lookup"><span data-stu-id="72b74-164">Install the service packs or hotfixes on any remaining server instance that is the witness in all its mirroring sessions.</span></span> <span data-ttu-id="72b74-165">Une fois qu'un témoin mis à jour a réintégré une session de mise en miroir, il est de nouveau possible d'effectuer un basculement automatique.</span><span class="sxs-lookup"><span data-stu-id="72b74-165">After an updated witness rejoins a mirroring session, automatic failover becomes possible again.</span></span> <span data-ttu-id="72b74-166">Vous pourriez devoir mettre à jour plusieurs serveurs à ce stade.</span><span class="sxs-lookup"><span data-stu-id="72b74-166">You might have to update multiple servers at this point.</span></span>  
  
### <a name="to-return-a-session-to-high-performance-mode"></a><span data-ttu-id="72b74-167">Pour rétablir le mode hautes performances d'une session</span><span class="sxs-lookup"><span data-stu-id="72b74-167">To return a session to high-performance mode</span></span>  
  
1.  <span data-ttu-id="72b74-168">Rétablissez éventuellement le mode hautes performances en appliquant l'une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="72b74-168">Optionally, return to high-performance mode by using one of the following methods:</span></span>  
  
    -   <span data-ttu-id="72b74-169">Dans [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] : affectez la valeur **Haute performance (asynchrone)** à l’option **Mode d’opération** dans la [page Mise en miroir](../relational-databases/databases/database-properties-mirroring-page.md) de la boîte de dialogue **Propriétés de la base de données**.</span><span class="sxs-lookup"><span data-stu-id="72b74-169">In [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]: Change the **Operating mode** option to **High performance (asynchronous)** by using the [Mirroring Page](../relational-databases/databases/database-properties-mirroring-page.md) of the **Database Properties** dialog box.</span></span>  
  
    -   <span data-ttu-id="72b74-170">Dans [!INCLUDE[tsql](../includes/tsql-md.md)] : utilisez [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql-database-mirroring) pour désactiver la sécurité des transactions.</span><span class="sxs-lookup"><span data-stu-id="72b74-170">In [!INCLUDE[tsql](../includes/tsql-md.md)]: Use [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql-database-mirroring) to set transaction safety to OFF.</span></span>  
  
### <a name="to-return-a-witness-to-a-mirroring-session"></a><span data-ttu-id="72b74-171">Pour réintégrer un témoin dans une session de mise en miroir</span><span class="sxs-lookup"><span data-stu-id="72b74-171">To return a witness to a mirroring session</span></span>  
  
1.  <span data-ttu-id="72b74-172">En mode haute sécurité, rétablissez éventuellement le témoin sur chaque session de mise en miroir.</span><span class="sxs-lookup"><span data-stu-id="72b74-172">Optionally, in high-safety mode, reestablish the witness to each mirroring session.</span></span>  
  
     <span data-ttu-id="72b74-173">**Pour rétablir le témoin**</span><span class="sxs-lookup"><span data-stu-id="72b74-173">**To reestablish the witness**</span></span>  
  
    -   [<span data-ttu-id="72b74-174">Ajouter ou remplacer un témoin de mise en miroir de bases de données &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="72b74-174">Add or Replace a Database Mirroring Witness &#40;SQL Server Management Studio&#41;</span></span>](database-mirroring/add-or-replace-a-database-mirroring-witness-sql-server-management-studio.md)  
  
    -   [<span data-ttu-id="72b74-175">Ajouter un témoin de mise en miroir de bases de données à l’aide de l’authentification Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="72b74-175">Add a Database Mirroring Witness Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](database-mirroring/add-a-database-mirroring-witness-using-windows-authentication-transact-sql.md)  
  
## <a name="see-also"></a><span data-ttu-id="72b74-176">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="72b74-176">See Also</span></span>  
 <span data-ttu-id="72b74-177">[Mise en miroir de bases de données ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-database-mirroring) </span><span class="sxs-lookup"><span data-stu-id="72b74-177">[ALTER DATABASE Database Mirroring &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-database-mirroring) </span></span>  
 <span data-ttu-id="72b74-178">[BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="72b74-178">[BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql) </span></span>  
 <span data-ttu-id="72b74-179">[Mise en miroir de bases de données &#40;SQL Server&#41;](database-mirroring/database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="72b74-179">[Database Mirroring &#40;SQL Server&#41;](database-mirroring/database-mirroring-sql-server.md) </span></span>  
 <span data-ttu-id="72b74-180">[Modes de fonctionnement de la mise en miroir de bases de données](database-mirroring/database-mirroring-operating-modes.md) </span><span class="sxs-lookup"><span data-stu-id="72b74-180">[Database Mirroring Operating Modes](database-mirroring/database-mirroring-operating-modes.md) </span></span>  
 <span data-ttu-id="72b74-181">[Basculement de rôle durant une session de mise en miroir de bases de données &#40;SQL Server&#41;](database-mirroring/role-switching-during-a-database-mirroring-session-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="72b74-181">[Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](database-mirroring/role-switching-during-a-database-mirroring-session-sql-server.md) </span></span>  
 <span data-ttu-id="72b74-182">[Démarrer le moniteur de mise en miroir de bases de données &#40;SQL Server Management Studio&#41;](database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="72b74-182">[Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;](database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md) </span></span>  
 [<span data-ttu-id="72b74-183">Afficher l’état d’une base de données mise en miroir &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="72b74-183">View the State of a Mirrored Database &#40;SQL Server Management Studio&#41;</span></span>](database-mirroring/view-the-state-of-a-mirrored-database-sql-server-management-studio.md)  
  
  
