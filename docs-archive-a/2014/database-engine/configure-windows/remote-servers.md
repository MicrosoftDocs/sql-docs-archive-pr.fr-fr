---
title: Serveurs distants | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- server management [SQL Server], remote servers
- remote servers [SQL Server], configuring
- remote servers [SQL Server]
- servers [SQL Server], remote
- remote access option
ms.assetid: abf0fa24-f199-4273-9a1a-e8787ac9bee1
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 1d42fc2ed6acd4e46e383c0a56afcc8a8b27d3aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87605720"
---
# <a name="remote-servers"></a><span data-ttu-id="a5866-102">Serveurs distants</span><span class="sxs-lookup"><span data-stu-id="a5866-102">Remote Servers</span></span>
  <span data-ttu-id="a5866-103">Les serveurs distants sont pris en charge dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] uniquement pour des raisons de compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="a5866-103">Remote servers are supported in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] for backward compatibility only.</span></span> <span data-ttu-id="a5866-104">Il est préférable d'utiliser plutôt des serveurs liés dans les nouvelles applications.</span><span class="sxs-lookup"><span data-stu-id="a5866-104">New applications should use linked servers instead.</span></span> <span data-ttu-id="a5866-105">Pour plus d’informations, consultez [Serveurs liés &#40;moteur de base de données&#41;](../../relational-databases/linked-servers/linked-servers-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="a5866-105">For more information, see [Linked Servers &#40;Database Engine&#41;](../../relational-databases/linked-servers/linked-servers-database-engine.md).</span></span>  
  
 <span data-ttu-id="a5866-106">Une configuration de serveur distant permet à un client connecté à une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] d’exécuter une procédure stockée sur une autre instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sans qu’il soit nécessaire d’établir une connexion distincte.</span><span class="sxs-lookup"><span data-stu-id="a5866-106">A remote server configuration allows for a client connected to one instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to execute a stored procedure on another instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] without establishing a separate connection.</span></span> <span data-ttu-id="a5866-107">Le serveur auquel le client est connecté accepte donc la demande du client et l'envoie au serveur distant, pour le compte du client.</span><span class="sxs-lookup"><span data-stu-id="a5866-107">Instead, the server to which the client is connected accepts the client request and sends the request to the remote server on behalf of the client.</span></span> <span data-ttu-id="a5866-108">Le serveur distant traite la demande et renvoie les résultats au serveur d'origine,</span><span class="sxs-lookup"><span data-stu-id="a5866-108">The remote server processes the request and returns any results to the original server.</span></span> <span data-ttu-id="a5866-109">qui à son tour transmet les résultats au client.</span><span class="sxs-lookup"><span data-stu-id="a5866-109">This server in turn passes those results to the client.</span></span> <span data-ttu-id="a5866-110">Lors de l'élaboration d'une configuration de serveur distant, la mise en œuvre de la sécurité doit être étudiée avec soin.</span><span class="sxs-lookup"><span data-stu-id="a5866-110">When you set up a remote server configuration, you should also consider how to establish security.</span></span>  
  
 <span data-ttu-id="a5866-111">Si vous voulez élaborer une configuration de serveur afin d'exécuter des procédures stockées sur un autre serveur mais que vous ne disposez pas de configurations de serveur distant existantes, utilisez des serveurs liés en remplacement des serveurs distants.</span><span class="sxs-lookup"><span data-stu-id="a5866-111">If you want to set up a server configuration to execute stored procedures on another server and do not have existing remote server configurations, use linked servers instead of remote servers.</span></span> <span data-ttu-id="a5866-112">Les procédures stockées et les requêtes distribuées sont autorisées pour les serveurs liés ; en revanche, seules les procédures stockées sont autorisées pour les serveurs distants.</span><span class="sxs-lookup"><span data-stu-id="a5866-112">Both stored procedures and distributed queries are allowed against linked servers; however, only stored procedures are allowed against remote servers.</span></span>  
  
## <a name="remote-server-details"></a><span data-ttu-id="a5866-113">Informations détaillées sur les serveurs distants</span><span class="sxs-lookup"><span data-stu-id="a5866-113">Remote Server Details</span></span>  
 <span data-ttu-id="a5866-114">Les serveurs distants sont installés par paires.</span><span class="sxs-lookup"><span data-stu-id="a5866-114">Remote servers are set up in pairs.</span></span> <span data-ttu-id="a5866-115">Pour constituer une paire de serveurs distants, configurez les deux serveurs afin qu'ils se reconnaissent mutuellement en tant que serveurs distants.</span><span class="sxs-lookup"><span data-stu-id="a5866-115">To set up a pair of remote servers, configure both servers to recognize each other as remote servers.</span></span>  
  
 <span data-ttu-id="a5866-116">La plupart du temps, vous n'avez pas à modifier les options de configuration des serveurs distants.</span><span class="sxs-lookup"><span data-stu-id="a5866-116">Most of the time, you should not have to set configuration options for remote servers.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a5866-117">Détermine les valeurs par défaut sur les ordinateurs locaux et distants afin de permettre les connexions de serveur distant.</span><span class="sxs-lookup"><span data-stu-id="a5866-117">Set sets the defaults on both the local and remote computers to allow for remote server connections.</span></span>  
  
 <span data-ttu-id="a5866-118">Pour que l’accès aux serveurs distants fonctionne, l’option de configuration **remote access** doit avoir la valeur 1 tant sur les ordinateurs locaux que sur les ordinateurs distants.</span><span class="sxs-lookup"><span data-stu-id="a5866-118">For remote server access to work, the **remote access** configuration option must be set to 1 on both the local and remote computers.</span></span> <span data-ttu-id="a5866-119">(valeur par défaut).  **remote access** contrôle les connexions à partir des serveurs distants.</span><span class="sxs-lookup"><span data-stu-id="a5866-119">(This is the default setting.)  **remote access** controls logins from remote servers.</span></span> <span data-ttu-id="a5866-120">Vous pouvez réinitialiser cette option de configuration à l’aide de la procédure stockée [!INCLUDE[tsql](../../includes/tsql-md.md)] **sp_configure** ou de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a5866-120">You can reset this configuration option by using either the [!INCLUDE[tsql](../../includes/tsql-md.md)] **sp_configure** stored procedure or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="a5866-121">Pour définir cette option dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], utilisez l’option **Autoriser les accès distants à ce serveur** dans la page Connexions de la boîte de dialogue **Propriétés du serveur**.</span><span class="sxs-lookup"><span data-stu-id="a5866-121">To set the option in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], on the **Server Properties Connections** page, use **Allow remote connections to this server**.</span></span> <span data-ttu-id="a5866-122">Pour accéder à la page **Connexions de la boîte de dialogue Propriétés du serveur** , dans l’Explorateur d’objets, cliquez avec le bouton droit sur le nom du serveur, puis cliquez sur **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="a5866-122">To reach the **Server Properties Connections** page, in Object Explorer, right-click the server name, and then click **Properties**.</span></span> <span data-ttu-id="a5866-123">Dans la page **Propriétés du serveur** , cliquez sur la page **Connexions** .</span><span class="sxs-lookup"><span data-stu-id="a5866-123">On the **Server Properties** page, click the **Connections** page.</span></span>  
  
 <span data-ttu-id="a5866-124">À partir du serveur local, vous pouvez désactiver une configuration de serveur distant pour empêcher les utilisateurs situés sur le serveur distant d'accéder à ce serveur local auquel il est couplé.</span><span class="sxs-lookup"><span data-stu-id="a5866-124">From the local server, you can disable a remote server configuration to prevent access to that local server by users on the remote server with which it is paired.</span></span>  
  
## <a name="security-for-remote-servers"></a><span data-ttu-id="a5866-125">Sécurité des serveurs distants</span><span class="sxs-lookup"><span data-stu-id="a5866-125">Security for Remote Servers</span></span>  
 <span data-ttu-id="a5866-126">Pour permettre les appels de procédures à distance (RPC) sur un serveur distant, vous devez définir des mappages de connexion sur le serveur distant et éventuellement sur le serveur local exécutant une instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a5866-126">To enable remote procedure calls (RPC) against a remote server, you must set up login mappings on the remote server and possibly on the local server that is running an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a5866-127">Par défaut, les appels de procédure distante sont désactivés dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a5866-127">RPC is disabled by default in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a5866-128">Cette configuration accroît la sécurité de votre serveur en réduisant sa zone de surface attaquable.</span><span class="sxs-lookup"><span data-stu-id="a5866-128">This configuration enhances the security of your server by reducing its attackable surface area.</span></span> <span data-ttu-id="a5866-129">Vous devez activer cette fonctionnalité avant de pouvoir l'utiliser.</span><span class="sxs-lookup"><span data-stu-id="a5866-129">Before using RPC you must enable this feature.</span></span> <span data-ttu-id="a5866-130">Pour plus d’informations, consultez [sp_configure &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a5866-130">For more information see [sp_configure &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql).</span></span>  
  
### <a name="setting-up-the-remote-server"></a><span data-ttu-id="a5866-131">Configuration du serveur distant</span><span class="sxs-lookup"><span data-stu-id="a5866-131">Setting Up the Remote Server</span></span>  
 <span data-ttu-id="a5866-132">Les mappages de connexion à distance doivent être configurés sur le serveur distant.</span><span class="sxs-lookup"><span data-stu-id="a5866-132">Remote login mappings must be set up on the remote server.</span></span> <span data-ttu-id="a5866-133">Ils permettent au serveur distant d'établir le mappage entre la connexion d'accès entrant RPC d'un serveur donné et la connexion d'accès locale.</span><span class="sxs-lookup"><span data-stu-id="a5866-133">Using these mappings, the remote server maps the incoming login for an RPC connection from a specified server to a local login.</span></span> <span data-ttu-id="a5866-134">Les mappages de connexion à distance peuvent être définis à l’aide de la procédure stockée **sp_addremotelogin** sur le serveur distant.</span><span class="sxs-lookup"><span data-stu-id="a5866-134">Remote login mappings can be set up by using the **sp_addremotelogin** stored procedure on the remote server.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a5866-135">**ne prend pas en charge l’option** trusted  **pour** sp_remoteoption [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a5866-135">The **trusted** option of  **sp_remoteoption** is not supported in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
### <a name="setting-up-the-local-server"></a><span data-ttu-id="a5866-136">Configuration du serveur local</span><span class="sxs-lookup"><span data-stu-id="a5866-136">Setting Up the Local Server</span></span>  
 <span data-ttu-id="a5866-137">Vous ne devez pas définir de mappage de connexion sur le serveur local pour les connexions locales authentifiées par [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a5866-137">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authenticated local logins, you do not have to set up a login mapping on the local server.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a5866-138">utilise la connexion locale et le mot de passe pour se connecter au serveur distant.</span><span class="sxs-lookup"><span data-stu-id="a5866-138">uses the local login and password to connect to the remote server.</span></span> <span data-ttu-id="a5866-139">En revanche, pour les connexions authentifiés par Windows, vous devez définir un mappage de connexion locale sur un serveur local qui définit la connexion et le mot de passe à utiliser par une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en cas de connexion RPC sur un serveur distant.</span><span class="sxs-lookup"><span data-stu-id="a5866-139">For Windows authenticated logins, set up a local login mapping on a local server that defines what login and password are used by an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] when it makes an RPC connection to a remote server.</span></span>  
  
 <span data-ttu-id="a5866-140">Pour les connexions créées par l’authentification Windows, vous devez créer un mappage vers un nom de connexion et un mot de passe à l’aide de la procédure stockée **sp_addlinkedservlogin** .</span><span class="sxs-lookup"><span data-stu-id="a5866-140">For logins created by Windows Authentication, you must create a mapping to a login name and password by using the **sp_addlinkedservlogin** stored procedure.</span></span> <span data-ttu-id="a5866-141">Ce nom de connexion et ce mot de passe doivent correspondre à la connexion d’accès et au mot de passe entrants attendus par le serveur distant et créés à l’aide de **sp_addremotelogin**.</span><span class="sxs-lookup"><span data-stu-id="a5866-141">This login name and password must match the incoming login and password expected by the remote server, as created by **sp_addremotelogin**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a5866-142">Lorsque c'est possible, utilisez l'authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="a5866-142">When possible, use Windows Authentication.</span></span>  
  
### <a name="remote-server-security-example"></a><span data-ttu-id="a5866-143">Exemple de sécurité de serveur distant</span><span class="sxs-lookup"><span data-stu-id="a5866-143">Remote Server Security Example</span></span>  
 <span data-ttu-id="a5866-144">Prenons les installations [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] suivantes : **serverSend** et **serverReceive**.</span><span class="sxs-lookup"><span data-stu-id="a5866-144">Consider these [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installations: **serverSend** and **serverReceive**.</span></span> <span data-ttu-id="a5866-145">**serverReceive** est configuré pour un mappage entre une connexion d’accès entrant du serveur **serverSend**, appelée **Sales_Mary**, et une connexion authentifiée [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] du serveur **serverReceive**, appelée **Alice**.</span><span class="sxs-lookup"><span data-stu-id="a5866-145">**serverReceive** is configured to map an incoming login from **serverSend**, called **Sales_Mary**, to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authenticated login in **serverReceive**, called **Alice**.</span></span> <span data-ttu-id="a5866-146">Une autre connexion d’accès entrant de **serverSend**appelée **Joe**est mappée sur une connexion authentifiée [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] du serveur **serverReceive** _,_ appelée **Joe**.</span><span class="sxs-lookup"><span data-stu-id="a5866-146">Another incoming login from **serverSend**, called **Joe**, is mapped to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authenticated login in **serverReceive**_,_ called **Joe**.</span></span>  
  
 <span data-ttu-id="a5866-147">L’exemple de code Transact-SQL suivant illustre la configuration du serveur `serverSend` en vue de l’exécution de RPC sur le serveur `serverReceive`.</span><span class="sxs-lookup"><span data-stu-id="a5866-147">The following Transact-SQL code example configures `serverSend` to perform RPCs against `serverReceive`.</span></span>  
  
```  
--Create remote server entry for RPCs   
--from serverSend in serverReceive.  
EXEC sp_addserver 'serverSend';  
GO  
  
--Create remote login mapping for login 'Sales_Mary' from serverSend  
--to Alice.  
EXEC sp_addremotelogin 'serverSend', 'Alice', 'Sales_Mary';  
GO  
--Create remote login mapping for login Joe from serverReceive   
--to same login.  
--Assumes same password for Joe in both servers.  
EXEC sp_addremotelogin 'serverSend', 'Joe', 'Joe';  
GO  
```  
  
 <span data-ttu-id="a5866-148">Sur `serverSend`, un mappage de connexion locale est créé pour une connexion authentifiée Windows `Sales\Mary` à une connexion `Sales_Mary`.</span><span class="sxs-lookup"><span data-stu-id="a5866-148">On `serverSend`, a local login mapping is created for a Windows authenticated login `Sales\Mary` to a login `Sales_Mary`.</span></span> <span data-ttu-id="a5866-149">Aucun mappage local n'est nécessaire pour la connexion `Joe`puisque le même nom de connexion et le même mot de passe sont utilisés par défaut et que le serveur `serverReceive` possède un mappage pour la connexion `Joe`.</span><span class="sxs-lookup"><span data-stu-id="a5866-149">No local mapping is required for `Joe`, because the default is to use the same login name and password, and `serverReceive` has a mapping for `Joe`.</span></span>  
  
```  
--Create a remote server entry for RPCs from serverReceive.  
EXEC sp_addserver 'serverReceive';  
GO  
--Create a local login mapping for the Windows authenticated login.  
--Sales\Mary to Sales_Mary. The password should match the  
--password for the login Sales_Mary in serverReceive.  
EXEC sp_addlinkedsrvlogin 'serverReceive', false, 'Sales\Mary',  
   'Sales_Mary', '430[fj%dk';  
GO  
```  
  
## <a name="viewing-local-or-remote-server-properties"></a><span data-ttu-id="a5866-150">Affichage des propriétés des serveurs locaux ou distants</span><span class="sxs-lookup"><span data-stu-id="a5866-150">Viewing Local or Remote Server Properties</span></span>  
 <span data-ttu-id="a5866-151">Vous pouvez utiliser la procédure stockée étendue **xp_msver** pour consulter les attributs des serveurs locaux ou distants.</span><span class="sxs-lookup"><span data-stu-id="a5866-151">You can use the **xp_msver** extended stored procedure to review server attributes for local or remote servers.</span></span> <span data-ttu-id="a5866-152">Ces attributs comprennent le numéro de version de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], le nombre de processeurs de l'ordinateur et leur type, ainsi que la version du système d'exploitation.</span><span class="sxs-lookup"><span data-stu-id="a5866-152">These attributes include the version number of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the type and number of processors in the computer, and the version of the operating system.</span></span> <span data-ttu-id="a5866-153">À partir du serveur local, vous pouvez afficher les bases de données, les fichiers, les connexions et les outils d'un serveur distant.</span><span class="sxs-lookup"><span data-stu-id="a5866-153">From the local server, you can view databases, files, logins, and tools for a remote server.</span></span> <span data-ttu-id="a5866-154">Pour plus d’informations, consultez [xp_msver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/xp-msver-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a5866-154">For more information, see [xp_msver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/xp-msver-transact-sql).</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="a5866-155">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="a5866-155">Related Tasks</span></span>  
 [<span data-ttu-id="a5866-156">Serveurs liés &#40;moteur de base de données&#41;</span><span class="sxs-lookup"><span data-stu-id="a5866-156">Linked Servers &#40;Database Engine&#41;</span></span>](../../relational-databases/linked-servers/linked-servers-database-engine.md)  
  
## <a name="related-content"></a><span data-ttu-id="a5866-157">Contenu associé</span><span class="sxs-lookup"><span data-stu-id="a5866-157">Related Content</span></span>  
 [<span data-ttu-id="a5866-158">sp_configure &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a5866-158">sp_configure &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql)  
  
 [<span data-ttu-id="a5866-159">Configurer l'option de configuration de serveur remote access</span><span class="sxs-lookup"><span data-stu-id="a5866-159">Configure the remote access Server Configuration Option</span></span>](configure-the-remote-access-server-configuration-option.md)  
  
 [<span data-ttu-id="a5866-160">RECONFIGURE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a5866-160">RECONFIGURE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/language-elements/reconfigure-transact-sql)  
  
  
