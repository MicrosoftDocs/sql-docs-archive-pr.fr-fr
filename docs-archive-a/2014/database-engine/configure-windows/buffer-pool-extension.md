---
title: Extension du pool de mémoires tampons | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
ms.assetid: 909ab7d2-2b29-46f5-aea1-280a5f8fedb4
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 42a8873f4046a307e3b8ec1ce703a34bf8cb0df2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87707872"
---
# <a name="buffer-pool-extension"></a><span data-ttu-id="cc5f4-102">Buffer Pool Extension</span><span class="sxs-lookup"><span data-stu-id="cc5f4-102">Buffer Pool Extension</span></span>
  <span data-ttu-id="cc5f4-103">Introduite dans [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], l'extension du pool de mémoires tampons permet l'intégration transparente d'une extension de mémoire vive non volatile (c'est-à-dire d'un disque SSD) dans le pool de mémoires tampons [!INCLUDE[ssDE](../../includes/ssde-md.md)] pour améliorer le débit d'E/S de façon significative.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-103">Introduced in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], the buffer pool extension provides the seamless integration of a nonvolatile random access memory (that is, solid-state drive) extension to the [!INCLUDE[ssDE](../../includes/ssde-md.md)] buffer pool to significantly improve I/O throughput.</span></span> <span data-ttu-id="cc5f4-104">L'extension du pool de mémoires tampons n'est pas disponible dans toutes les éditions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cc5f4-104">The buffer pool extension is not available in every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] edition.</span></span> <span data-ttu-id="cc5f4-105">Pour plus d’informations, consultez [fonctionnalités prises en charge par les éditions de SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="cc5f4-105">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>

## <a name="benefits-of-the-buffer-pool-extension"></a><span data-ttu-id="cc5f4-106">Avantages de l'extension du pool de mémoires tampons</span><span class="sxs-lookup"><span data-stu-id="cc5f4-106">Benefits of the Buffer Pool Extension</span></span>
 <span data-ttu-id="cc5f4-107">L'objectif principal d'une base de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] est de stocker et de récupérer les données, l'utilisation intensive d'E/S sur disque est donc une caractéristique centrale du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-107">The primary purpose of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database is to store and retrieve data, so intensive disk I/O is a core characteristic of the Database Engine.</span></span> <span data-ttu-id="cc5f4-108">Étant donné que les opérations d'E/S sur disque peuvent consommer beaucoup de ressources et durer relativement longtemps, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] s'attache à rendre ces opérations efficaces.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-108">Because disk I/O operations can consume many resources and take a relatively long time to finish, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] focuses on making I/O highly efficient.</span></span> <span data-ttu-id="cc5f4-109">Le pool de mémoires tampons fait office de source principale d'allocation mémoire de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cc5f4-109">The buffer pool serves as a primary memory allocation source of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="cc5f4-110">La gestion des tampons joue un rôle essentiel pour parvenir à cette efficacité.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-110">Buffer management is a key component in achieving this efficiency.</span></span> <span data-ttu-id="cc5f4-111">Le composant de gestion des tampons comprend deux mécanismes : le gestionnaire de tampons qui permet d'accéder et mettre à jour les pages de la base de données, et le pool de mémoires tampons, qui permet de réduire les opérations d'E/S du fichier de la base de données.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-111">The buffer management component consists of two mechanisms: the buffer manager to access and update database pages, and the buffer pool), to reduce database file I/O.</span></span>

 <span data-ttu-id="cc5f4-112">Les pages de données et d'index sont lues sur le disque dans le pool de mémoires tampons et les pages modifiées (également appelées « pages de modifications ») sont écrites sur le disque.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-112">Data and index pages are read from disk into the buffer pool and modified pages (also known as dirty pages) are written back to disk.</span></span> <span data-ttu-id="cc5f4-113">Lorsque la mémoire sur les points de contrôle du serveur et de la base de données est sollicitée, les pages de modifications actives dans le cache des tampons sont supprimées du cache et écrites sur des disques mécaniques, puis relues dans le cache.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-113">Memory pressure on the server and database checkpoints cause hot (active) dirty pages in the buffer cache to be evicted from the cache and written to mechanical disks and then read back into the cache.</span></span> <span data-ttu-id="cc5f4-114">Ces opérations d'E/S sont généralement des lectures et des écritures aléatoires de petite taille, de l'ordre de 4 à 16 Ko de données.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-114">These I/O operations are typically small random reads and writes on the order of 4 to 16 KB of data.</span></span> <span data-ttu-id="cc5f4-115">Les E/S de ce type entraînent des appels fréquents qui entrent en concurrence pour les contentions de disque mécanique, augmentent la latence des E/S et réduisent le débit global des E/S du système.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-115">Small random I/O patterns incur frequent seeks, competing for the mechanical disk arm, increasing I/O latency, and reducing aggregate I/O throughput of the system.</span></span>

 <span data-ttu-id="cc5f4-116">L'approche habituelle pour résoudre ces goulots d'étranglement des E/S est d'ajouter plus de DRAM, ou bien, des axes SAS hautes performances.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-116">The typical approach to resolving these I/O bottlenecks is to add more DRAM, or alternatively, added high-performance SAS spindles.</span></span> <span data-ttu-id="cc5f4-117">Si ces options sont utiles, elles présentent des inconvénients importants : la DRAM est plus coûteuse que les disques de stockage de données, et l’ajout d’axes augmente les dépenses d’investissement en matériel et les coûts d’exploitation en raison d’une consommation d’énergie accrue et de la plus forte probabilité de défaillance d’un composant.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-117">While these options are helpful, they have significant drawbacks: DRAM is more expensive than data storage drives and adding spindles increases capital expenditure in hardware acquisition and increases operational costs by increased power consumption and increased probability of component failure.</span></span>

 <span data-ttu-id="cc5f4-118">La fonctionnalité d'extension du pool de mémoires tampons étend le cache du pool avec le stockage non volatile (généralement, les disques SSD).</span><span class="sxs-lookup"><span data-stu-id="cc5f4-118">The buffer pool extension feature extends the buffer pool cache with nonvolatile storage (usually SSD).</span></span> <span data-ttu-id="cc5f4-119">Grâce à cette extension, le pool de mémoires tampons peut gérer une plus vaste plage de travail de la base de données, ce qui force la pagination des E/S entre la mémoire RAM et les disques SSD.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-119">Because of this extension, the buffer pool can accommodate a larger database working set, which forces the paging of I/Os between RAM and the SSDs.</span></span> <span data-ttu-id="cc5f4-120">Cela décharge efficacement les E/S aléatoires de petite taille des disques mécaniques vers les disques SSD.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-120">This effectively offloads small random I/Os from mechanical disks to SSDs.</span></span> <span data-ttu-id="cc5f4-121">En raison de la plus faible latence et des meilleures performances des E/S aléatoires fournies par les disques SSD, l'extension du pool de mémoires tampons améliore considérablement le débit des E/S.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-121">Because of the lower latency and better random I/O performance of SSDs, the buffer pool extension significantly improves I/O throughput.</span></span>

 <span data-ttu-id="cc5f4-122">La fonctionnalité d'extension du pool de mémoires tampons présente les avantages suivants :</span><span class="sxs-lookup"><span data-stu-id="cc5f4-122">The following list describes the benefits of the buffer pool extension feature.</span></span>

-   <span data-ttu-id="cc5f4-123">Débit des E/S aléatoires augmenté</span><span class="sxs-lookup"><span data-stu-id="cc5f4-123">Increased random I/O throughput</span></span>

-   <span data-ttu-id="cc5f4-124">Latence des E/S réduite</span><span class="sxs-lookup"><span data-stu-id="cc5f4-124">Reduced I/O latency</span></span>

-   <span data-ttu-id="cc5f4-125">Débit de transaction augmenté</span><span class="sxs-lookup"><span data-stu-id="cc5f4-125">Increased transaction throughput</span></span>

-   <span data-ttu-id="cc5f4-126">Performances améliorées en lecture avec un plus grand pool hybride de mémoires tampons</span><span class="sxs-lookup"><span data-stu-id="cc5f4-126">Improved read performance with a larger hybrid buffer pool</span></span>

-   <span data-ttu-id="cc5f4-127">Architecture de mise en cache capable de tirer parti des disques mémoire à faible coût d'aujourd'hui et de demain</span><span class="sxs-lookup"><span data-stu-id="cc5f4-127">A caching architecture that can take advantage of present and future low-cost memory drives</span></span>

### <a name="concepts"></a><span data-ttu-id="cc5f4-128">Concepts</span><span class="sxs-lookup"><span data-stu-id="cc5f4-128">Concepts</span></span>
 <span data-ttu-id="cc5f4-129">Les termes suivants s'appliquent aux fonctionnalités de l'extension du pool de mémoires tampons.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-129">The following terms are applicable to the buffer pool extension feature.</span></span>

 <span data-ttu-id="cc5f4-130">Les disques SSD (Solid-State Drive) enregistrent des données en mémoire (RAM) de manière persistante.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-130">Solid-state drive (SSD) Solid-state drives store data in memory (RAM) in a persistent manner.</span></span> <span data-ttu-id="cc5f4-131">Pour plus d'informations, consultez [cette définition](http://en.wikipedia.org/wiki/Solid-state_drive).</span><span class="sxs-lookup"><span data-stu-id="cc5f4-131">For more information, see [this definition](http://en.wikipedia.org/wiki/Solid-state_drive).</span></span>

 <span data-ttu-id="cc5f4-132">Mémoire tampon dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , une mémoire tampon est une page de 8 Ko en mémoire, avec la même taille qu’une page de données ou d’index.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-132">Buffer In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], A buffer is an 8-KB page in memory, the same size as a data or index page.</span></span> <span data-ttu-id="cc5f4-133">Ainsi, le cache des tampons est divisé en pages de 8 Ko.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-133">Thus, the buffer cache is divided into 8-KB pages.</span></span> <span data-ttu-id="cc5f4-134">Une page reste dans le cache des tampons jusqu'à ce que le gestionnaire de tampons ait besoin de la zone de mémoire tampon pour lire davantage de données.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-134">A page remains in the buffer cache until the buffer manager needs the buffer area to read in more data.</span></span> <span data-ttu-id="cc5f4-135">Les données ne sont réécrites sur le disque que si elles sont modifiées.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-135">Data is written back to disk only if it is modified.</span></span> <span data-ttu-id="cc5f4-136">Ces pages modifiées en mémoire sont appelées « pages de modifications ».</span><span class="sxs-lookup"><span data-stu-id="cc5f4-136">These in-memory modified pages are known as dirty pages.</span></span> <span data-ttu-id="cc5f4-137">Une page est nettoyée lorsqu'elle est équivalente à son image de base de données sur le disque.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-137">A page is clean when it is equivalent to its database image on disk.</span></span> <span data-ttu-id="cc5f4-138">Les données dans le cache de tampons peuvent être modifiées plusieurs fois avant leur réécriture sur le disque.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-138">Data in the buffer cache can be modified multiple times before being written back to disk.</span></span>

 <span data-ttu-id="cc5f4-139">Pool de mémoires tampons également appelé cache des tampons.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-139">Buffer pool Also called buffer cache.</span></span> <span data-ttu-id="cc5f4-140">Le pool de mémoires tampons est une ressource globale partagée par toutes les bases de données pour leurs pages de données mises en cache.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-140">The buffer pool is a global resource shared by all databases for their cached data pages.</span></span> <span data-ttu-id="cc5f4-141">La taille maximale et la taille minimale du cache du pool de mémoires tampons sont déterminées au démarrage ou lorsque l'instance de SQL Server est reconfigurée de façon dynamique à l'aide de sp_configure.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-141">The maximum and minimum size of the buffer pool cache is determined during startup or when the instance of SQL server is dynamically reconfigured by using sp_configure.</span></span> <span data-ttu-id="cc5f4-142">Cette valeur détermine le nombre maximal de pages pouvant être mises en cache dans le pool de mémoires tampons à tout moment dans l'instance en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-142">This size determines the maximum number of pages that can be cached in the buffer pool at any time in the running instance.</span></span>

 <span data-ttu-id="cc5f4-143">Point de contrôle un point de contrôle crée un point correct connu à partir duquel le [!INCLUDE[ssDE](../../includes/ssde-md.md)] peut commencer à appliquer les modifications contenues dans le journal des transactions lors de la récupération après un arrêt ou un blocage inattendu.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-143">Checkpoint A checkpoint creates a known good point from which the [!INCLUDE[ssDE](../../includes/ssde-md.md)] can start applying changes contained in the transaction log during recovery after an unexpected shutdown or crash.</span></span> <span data-ttu-id="cc5f4-144">Un point de contrôle écrit les pages de modifications et les informations du journal des transactions de la mémoire vers le disque et enregistre également les informations sur le journal des transactions.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-144">A checkpoint writes the dirty pages and transaction log information from memory to disk and, also, records information about the transaction log.</span></span> <span data-ttu-id="cc5f4-145">Pour plus d’informations, consultez [Points de contrôle de base de données &#40;SQL Server&#41;](../../relational-databases/logs/database-checkpoints-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="cc5f4-145">For more information, see [Database Checkpoints &#40;SQL Server&#41;](../../relational-databases/logs/database-checkpoints-sql-server.md).</span></span>

## <a name="buffer-pool-extension-details"></a><span data-ttu-id="cc5f4-146">Détails de l'extension du pool de mémoires tampons</span><span class="sxs-lookup"><span data-stu-id="cc5f4-146">Buffer Pool Extension Details</span></span>
 <span data-ttu-id="cc5f4-147">Le stockage sur disque SSD est utilisé comme une extension du sous-système de mémoire au lieu du sous-système de stockage sur disque.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-147">SSD storage is used as an extension to the memory subsystem rather than the disk storage subsystem.</span></span> <span data-ttu-id="cc5f4-148">Autrement dit, le fichier d'extension du pool de mémoires tampons permet au gestionnaire du pool d'utiliser une mémoire DRAM et NAND-Flash pour maintenir un plus grand pool de pages faiblement sollicitées dans la mémoire vive non volatile soutenue par les disques SSD.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-148">That is, the buffer pool extension file allows the buffer pool manager to use both DRAM and NAND-Flash memory to maintain a much larger buffer pool of lukewarm pages in nonvolatile random access memory backed by SSDs.</span></span> <span data-ttu-id="cc5f4-149">Cela crée une hiérarchie de mise en cache à plusieurs niveaux : avec le niveau 1 (L1) correspondant à la DRAM, et le niveau 2 (L2) correspondant au fichier d'extension du pool de mémoires tampons sur le disque SSD.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-149">This creates a multilevel caching hierarchy with level 1 (L1) as the DRAM and level 2 (L2) as the buffer pool extension file on the SSD.</span></span> <span data-ttu-id="cc5f4-150">Seules les pages nettoyées sont écrites dans le cache L2, ce qui vous permet d'assurer la sécurité de données.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-150">Only clean pages are written to the L2 cache, which helps maintain data safety.</span></span> <span data-ttu-id="cc5f4-151">Le gestionnaire de tampons gère le déplacement des pages nettoyées entre les caches L1 et L2.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-151">The buffer manager handles the movement of clean pages between the L1 and L2 caches.</span></span>

 <span data-ttu-id="cc5f4-152">L'illustration suivante présente une vue d'ensemble de l'architecture du pool de mémoires tampons par rapport aux autres composants de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cc5f4-152">The following illustration provides a high-level architectural overview of the buffer pool relative to other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components.</span></span>

 <span data-ttu-id="cc5f4-153">![Architecture de l’extension du pool de mémoires tampons SSD](../media/ssdbufferpoolextensionarchitecture.gif "Architecture de l’extension du pool de mémoires tampons SSD")</span><span class="sxs-lookup"><span data-stu-id="cc5f4-153">![SSD Buffer Pool Extension Architecture](../media/ssdbufferpoolextensionarchitecture.gif "SSD Buffer Pool Extension Architecture")</span></span>

 <span data-ttu-id="cc5f4-154">Une fois activée, l'extension du pool de mémoires tampons spécifie la taille et le chemin d'accès du fichier de mise en cache du pool de mémoires tampons sur le disque SSD.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-154">When enabled, the buffer pool extension specifies the size and file path of the buffer pool caching file on the SSD.</span></span> <span data-ttu-id="cc5f4-155">Ce fichier est une extension contiguë du stockage sur le disque SSD, et est configuré statiquement au démarrage de l'instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cc5f4-155">This file is a contiguous extent of storage on the SSD and is statically configured during startup of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="cc5f4-156">La modification des paramètres de configuration des fichiers est uniquement possible lorsque la fonctionnalité d'extension du pool de mémoires tampons est désactivée.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-156">Alterations to the file configuration parameters can only be done when the buffer pool extension feature is disabled.</span></span> <span data-ttu-id="cc5f4-157">Dans ce cas, tous les paramètres de configuration associés sont supprimés du Registre.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-157">When the buffer pool extension is disabled, all related configuration settings are removed from the registry.</span></span> <span data-ttu-id="cc5f4-158">Le fichier d'extension du pool de mémoires tampons est supprimé en cas d'arrêt de l'instance de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-158">The buffer pool extension file is deleted upon shutdown of the instance of SQL Server.</span></span>

## <a name="best-practices"></a><span data-ttu-id="cc5f4-159">Bonnes pratiques</span><span class="sxs-lookup"><span data-stu-id="cc5f4-159">Best Practices</span></span>
 <span data-ttu-id="cc5f4-160">Nous vous recommandons d'appliquer ces bonnes pratiques.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-160">We recommend that you follow these best practices.</span></span>

-   <span data-ttu-id="cc5f4-161">Après avoir activé l’extension du pool de mémoires tampons pour la première fois, il est recommandé de redémarrer l’instance SQL Server pour obtenir des performances optimales.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-161">After enabling Buffer Pool Extension for the first time it is recommended to restart the SQL Server instance to get the maximum performance benefits.</span></span>

-   <span data-ttu-id="cc5f4-162">La taille maximale d'extension du pool de mémoires tampons peut atteindre 32 fois la taille de la valeur de max_server_memory pour les éditions Enterprise et jusqu'à 4 fois pour l'édition Standard.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-162">The buffer pool extension size can be up to 32 times the value of max_server_memory for Enterprise editions, and up to 4 times for Standard edition.</span></span>  <span data-ttu-id="cc5f4-163">Le rapport entre la taille de la mémoire physique (max_server_memory) et la taille des fichiers d'extension du pool de mémoires tampons ne doit pas dépasser 1:16.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-163">We recommend a ratio between the size of the physical memory (max_server_memory) and the size of the buffer pool extension of 1:16 or less.</span></span> <span data-ttu-id="cc5f4-164">Un rapport inférieur compris entre 1:4 et 1:8 peut être optimal.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-164">A lower ratio in the range of 1:4 to 1:8 may be optimal.</span></span> <span data-ttu-id="cc5f4-165">Pour plus d’informations sur l’option max_server_memory, consultez [server memory (options de configuration de serveur)](server-memory-server-configuration-options.md).</span><span class="sxs-lookup"><span data-stu-id="cc5f4-165">For information about setting the max_server_memory option, see [Server Memory Server Configuration Options](server-memory-server-configuration-options.md).</span></span>

-   <span data-ttu-id="cc5f4-166">Testez l'extension du pool de mémoires tampons entièrement avant d'implémenter votre solution dans un environnement de production.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-166">Test the buffer pool extension thoroughly before implementing in a production environment.</span></span> <span data-ttu-id="cc5f4-167">Dans un environnement de production, évitez de modifier la configuration dans le fichier ou de désactiver la fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-167">Once in production, avoid making configuration changes to the file or turning the feature off.</span></span> <span data-ttu-id="cc5f4-168">Ces activités peuvent avoir un impact négatif sur les performances du serveur, car le pool de mémoires tampons a une taille sensiblement réduite lorsque la fonctionnalité est désactivée.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-168">These activities may have a negative impact on server performance because the buffer pool is significantly reduced in size when the feature is disabled.</span></span> <span data-ttu-id="cc5f4-169">Lorsqu'elle est désactivée, la mémoire utilisée pour prendre en charge la fonctionnalité n'est pas récupérée tant que l'instance de SQL Server n'a pas redémarré.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-169">When disabled, the memory used to support the feature is not reclaimed until the instance of SQL Server is restarted.</span></span> <span data-ttu-id="cc5f4-170">Toutefois, si la fonctionnalité est réactivée, la mémoire est réutilisée sans redémarrer l'instance.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-170">However, if the feature is re-enabled, the memory will be reused without restarting the instance.</span></span>

## <a name="return-information-about-the-buffer-pool-extension"></a><span data-ttu-id="cc5f4-171">Retour des informations concernant l'extension du pool de mémoires tampons</span><span class="sxs-lookup"><span data-stu-id="cc5f4-171">Return Information about the Buffer Pool Extension</span></span>
 <span data-ttu-id="cc5f4-172">Utilisez les vues de gestion dynamique suivantes pour afficher la configuration de l'extension du pool de mémoires tampons et obtenir des informations sur les pages de données dans l'extension.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-172">You can use the following dynamic management views to display the configuration of the buffer pool extension and return information about the data pages in the extension.</span></span>

-   [<span data-ttu-id="cc5f4-173">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="cc5f4-173">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-pool-extension-configuration-transact-sql)

-   [<span data-ttu-id="cc5f4-174">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="cc5f4-174">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-descriptors-transact-sql)

 <span data-ttu-id="cc5f4-175">Les compteurs de performances sont disponibles dans l'objet Gestionnaire de tampons de SQL Server pour assurer le suivi des pages de données dans le fichier d'extension du pool de mémoires tampons.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-175">Performance counters are available in the SQL Server, Buffer Manager Object to track the data pages in the buffer pool extension file.</span></span> <span data-ttu-id="cc5f4-176">Pour plus d'informations, consultez la rubrique sur les [compteurs de performances de l'extension du pool de mémoires tampons](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md).</span><span class="sxs-lookup"><span data-stu-id="cc5f4-176">For more information, see [buffer pool extension performance counters](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md).</span></span>

 <span data-ttu-id="cc5f4-177">Les événements XEvent suivants sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-177">The following Xevents are available.</span></span>

|<span data-ttu-id="cc5f4-178">XEvent</span><span class="sxs-lookup"><span data-stu-id="cc5f4-178">XEvent</span></span>|<span data-ttu-id="cc5f4-179">Description</span><span class="sxs-lookup"><span data-stu-id="cc5f4-179">Description</span></span>|<span data-ttu-id="cc5f4-180">Paramètres</span><span class="sxs-lookup"><span data-stu-id="cc5f4-180">Parameters</span></span>|
|------------|-----------------|----------------|
|<span data-ttu-id="cc5f4-181">sqlserver.buffer_pool_extension_pages_written</span><span class="sxs-lookup"><span data-stu-id="cc5f4-181">sqlserver.buffer_pool_extension_pages_written</span></span>|<span data-ttu-id="cc5f4-182">Se déclenche lorsqu'une page ou un groupe de pages est supprimé du pool de mémoires tampons et est écrit dans le fichier d'extension du pool de mémoires tampons.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-182">Fires when a page or group of pages are evicted from the buffer pool and written to the buffer pool extension file.</span></span>|<span data-ttu-id="cc5f4-183">number_page</span><span class="sxs-lookup"><span data-stu-id="cc5f4-183">number_page</span></span><br /><br /> <span data-ttu-id="cc5f4-184">first_page_id</span><span class="sxs-lookup"><span data-stu-id="cc5f4-184">first_page_id</span></span><br /><br /> <span data-ttu-id="cc5f4-185">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="cc5f4-185">first_page_offset</span></span><br /><br /> <span data-ttu-id="cc5f4-186">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="cc5f4-186">initiator_numa_node_id</span></span>|
|<span data-ttu-id="cc5f4-187">sqlserver.buffer_pool_extension_pages_read</span><span class="sxs-lookup"><span data-stu-id="cc5f4-187">sqlserver.buffer_pool_extension_pages_read</span></span>|<span data-ttu-id="cc5f4-188">Se déclenche lorsqu'une page est lue à partir du fichier d'extension du pool de mémoires tampons vers le pool de mémoires tampon.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-188">Fires when a page is read from the buffer pool extension file to the buffer pool.</span></span>|<span data-ttu-id="cc5f4-189">number_page</span><span class="sxs-lookup"><span data-stu-id="cc5f4-189">number_page</span></span><br /><br /> <span data-ttu-id="cc5f4-190">first_page_id</span><span class="sxs-lookup"><span data-stu-id="cc5f4-190">first_page_id</span></span><br /><br /> <span data-ttu-id="cc5f4-191">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="cc5f4-191">first_page_offset</span></span><br /><br /> <span data-ttu-id="cc5f4-192">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="cc5f4-192">initiator_numa_node_id</span></span>|
|<span data-ttu-id="cc5f4-193">sqlserver.buffer_pool_extension_pages_evicted</span><span class="sxs-lookup"><span data-stu-id="cc5f4-193">sqlserver.buffer_pool_extension_pages_evicted</span></span>|<span data-ttu-id="cc5f4-194">Se déclenche lorsqu'une page est supprimée du fichier d'extension du pool de mémoires tampons.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-194">Fires when a page is evicted from the buffer pool extension file.</span></span>|<span data-ttu-id="cc5f4-195">number_page</span><span class="sxs-lookup"><span data-stu-id="cc5f4-195">number_page</span></span><br /><br /> <span data-ttu-id="cc5f4-196">first_page_id</span><span class="sxs-lookup"><span data-stu-id="cc5f4-196">first_page_id</span></span><br /><br /> <span data-ttu-id="cc5f4-197">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="cc5f4-197">first_page_offset</span></span><br /><br /> <span data-ttu-id="cc5f4-198">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="cc5f4-198">initiator_numa_node_id</span></span>|
|<span data-ttu-id="cc5f4-199">sqlserver.buffer_pool_eviction_thresholds_recalculated</span><span class="sxs-lookup"><span data-stu-id="cc5f4-199">sqlserver.buffer_pool_eviction_thresholds_recalculated</span></span>|<span data-ttu-id="cc5f4-200">Se déclenche lorsque le seuil d'éviction est calculé.</span><span class="sxs-lookup"><span data-stu-id="cc5f4-200">Fires when the eviction threshold is calculated.</span></span>|<span data-ttu-id="cc5f4-201">warm_threshold</span><span class="sxs-lookup"><span data-stu-id="cc5f4-201">warm_threshold</span></span><br /><br /> <span data-ttu-id="cc5f4-202">cold_threshold</span><span class="sxs-lookup"><span data-stu-id="cc5f4-202">cold_threshold</span></span><br /><br /> <span data-ttu-id="cc5f4-203">pages_bypassed_eviction</span><span class="sxs-lookup"><span data-stu-id="cc5f4-203">pages_bypassed_eviction</span></span><br /><br /> <span data-ttu-id="cc5f4-204">eviction_bypass_reason</span><span class="sxs-lookup"><span data-stu-id="cc5f4-204">eviction_bypass_reason</span></span><br /><br /> <span data-ttu-id="cc5f4-205">eviction_bypass_reason_description</span><span class="sxs-lookup"><span data-stu-id="cc5f4-205">eviction_bypass_reason_description</span></span>|

## <a name="related-tasks"></a><span data-ttu-id="cc5f4-206">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="cc5f4-206">Related Tasks</span></span>

|||
|-|-|
|<span data-ttu-id="cc5f4-207">**Description de la tâche**</span><span class="sxs-lookup"><span data-stu-id="cc5f4-207">**Task Description**</span></span>|<span data-ttu-id="cc5f4-208">**Rubrique**</span><span class="sxs-lookup"><span data-stu-id="cc5f4-208">**Topic**</span></span>|
|<span data-ttu-id="cc5f4-209">Activer et configurer l'extension du pool de mémoires tampons</span><span class="sxs-lookup"><span data-stu-id="cc5f4-209">Enable and configure the buffer pool extension.</span></span>|[<span data-ttu-id="cc5f4-210">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="cc5f4-210">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-server-configuration-transact-sql)|
|<span data-ttu-id="cc5f4-211">Modifier la configuration de l'extension du pool de mémoires tampons</span><span class="sxs-lookup"><span data-stu-id="cc5f4-211">Modify the buffer pool extension configuration</span></span>|[<span data-ttu-id="cc5f4-212">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="cc5f4-212">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-server-configuration-transact-sql)|
|<span data-ttu-id="cc5f4-213">Afficher la configuration de l'extension du pool de mémoires tampons</span><span class="sxs-lookup"><span data-stu-id="cc5f4-213">View the buffer pool extension configuration</span></span>|[<span data-ttu-id="cc5f4-214">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="cc5f4-214">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-pool-extension-configuration-transact-sql)|
|<span data-ttu-id="cc5f4-215">Surveiller l'extension du pool de mémoires tampons</span><span class="sxs-lookup"><span data-stu-id="cc5f4-215">Monitor the buffer pool extension</span></span>|[<span data-ttu-id="cc5f4-216">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="cc5f4-216">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-descriptors-transact-sql)<br /><br /> [<span data-ttu-id="cc5f4-217">Compteurs de performances</span><span class="sxs-lookup"><span data-stu-id="cc5f4-217">Performance counters</span></span>](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md)|


