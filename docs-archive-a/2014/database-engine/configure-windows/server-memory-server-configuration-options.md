---
title: Options de configuration de la mémoire du serveur | Microsoft Docs
ms.custom: ''
ms.date: 07/22/2020
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- Virtual Memory Manager
- max server memory option
- virtual memory [SQL Server]
- VMM
- server memory options [SQL Server]
- servers [SQL Server], memory
- buffer pools [SQL Server]
- min server memory option
- manual memory options [SQL Server]
- memory [SQL Server], servers
ms.assetid: 29ce373e-18f8-46ff-aea6-15bbb10fb9c2
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 46a4bb354b78d25c6667e9ff67c6eda697a0369e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87706739"
---
# <a name="server-memory-configuration-options"></a><span data-ttu-id="d8705-102">Options de configuration de la mémoire du serveur</span><span class="sxs-lookup"><span data-stu-id="d8705-102">Server Memory Configuration Options</span></span>
  <span data-ttu-id="d8705-103">Utilisez les deux options de mémoire du serveur, **min server memory** et **max server memory**, pour reconfigurer la quantité de mémoire (en mégaoctets) gérée par le Gestionnaire de mémoire de SQL Server pour un processus SQL Server utilisé par une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d8705-103">Use the two server memory options, **min server memory** and **max server memory**, to reconfigure the amount of memory (in megabytes) that is managed by the SQL Server Memory Manager for a SQL Server process used by an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="d8705-104">Le paramètre par défaut de l'option **min server memory** est 0 et le paramètre par défaut de l'option **max server memory** est 2 147 483 647 Mo.</span><span class="sxs-lookup"><span data-stu-id="d8705-104">The default setting for **min server memory** is 0, and the default setting for **max server memory** is 2147483647 MB.</span></span> <span data-ttu-id="d8705-105">Par défaut, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] peut modifier dynamiquement sa configuration mémoire en fonction des ressources système disponibles.</span><span class="sxs-lookup"><span data-stu-id="d8705-105">By default, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can change its memory requirements dynamically based on available system resources.</span></span>  
  
> [!NOTE]  
> <span data-ttu-id="d8705-106">Si vous donnez à **max server memory** sa valeur minimale, vous allez gravement limiter les performances de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , jusqu'à l'empêcher même de démarrer.</span><span class="sxs-lookup"><span data-stu-id="d8705-106">Setting **max server memory** to the minimum value can severely reduce [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] performance and even prevent it from starting.</span></span> <span data-ttu-id="d8705-107">Si vous ne pouvez plus démarrer [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] après avoir changé cette option, démarrez-le au moyen de l’option de démarrage **-f** et restaurez **max server memory** à sa valeur antérieure.</span><span class="sxs-lookup"><span data-stu-id="d8705-107">If you cannot start [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] after changing this option, start it using the **-f** startup option and reset **max server memory** to its previous value.</span></span> <span data-ttu-id="d8705-108">Pour plus d’informations, consultez [Options de démarrage du service moteur de base de données](database-engine-service-startup-options.md).</span><span class="sxs-lookup"><span data-stu-id="d8705-108">For more information, see [Database Engine Service Startup Options](database-engine-service-startup-options.md).</span></span>  
  
 <span data-ttu-id="d8705-109">Lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilise dynamiquement la mémoire, il interroge régulièrement le système afin de déterminer la mémoire physique disponible.</span><span class="sxs-lookup"><span data-stu-id="d8705-109">When [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is using memory dynamically, it queries the system periodically to determine the amount of free memory.</span></span> <span data-ttu-id="d8705-110">La conservation de cette mémoire libre empêche le système d'exploitation de paginer.</span><span class="sxs-lookup"><span data-stu-id="d8705-110">Maintaining this free memory prevents the operating system (OS) from paging.</span></span> <span data-ttu-id="d8705-111">S'il y a moins de mémoire, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en libère pour le système d'exploitation.</span><span class="sxs-lookup"><span data-stu-id="d8705-111">If less memory is free, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] releases memory to the OS.</span></span> <span data-ttu-id="d8705-112">S’il y a plus de mémoire disponible, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] peut allouer davantage de mémoire.</span><span class="sxs-lookup"><span data-stu-id="d8705-112">If more memory is free, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] may allocate more memory.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="d8705-113">n’ajoute de la mémoire que lorsque sa charge de travail en requiert davantage. Un serveur au repos n’augmente pas la taille de son espace d’adressage virtuel.</span><span class="sxs-lookup"><span data-stu-id="d8705-113">adds memory only when its workload requires more memory; a server at rest does not increase the size of its virtual address space.</span></span>  
  
 <span data-ttu-id="d8705-114">Pour une requête qui retourne la mémoire utilisée actuellement, consultez l'exemple B.</span><span class="sxs-lookup"><span data-stu-id="d8705-114">See example B for a query to return the currently used memory.</span></span> <span data-ttu-id="d8705-115">L’option**max server memory** contrôle l’allocation de mémoire de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , y compris le pool de mémoires tampons, la mémoire de compilation, tous les caches, les allocations de mémoire qe, la mémoire du gestionnaire de verrous et la mémoire clr (essentiellement les régisseurs de mémoires qui se trouvent dans **sys.dm_os_memory_clerks**).</span><span class="sxs-lookup"><span data-stu-id="d8705-115">**max server memory** controls the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] memory allocation, including the buffer pool, compile memory, all caches, qe memory grants, lock manager memory, and clr memory (essentially any memory clerk found in **sys.dm_os_memory_clerks**).</span></span> <span data-ttu-id="d8705-116">La mémoire pour les piles de threads, les segments de mémoire, les fournisseurs de serveurs liés autres que [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], ainsi que toute mémoire allouée par une DLL non- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , ne sont pas contrôlées par max server memory.</span><span class="sxs-lookup"><span data-stu-id="d8705-116">Memory for thread stacks, memory heaps, linked server providers other than [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and any memory allocated by a non [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] DLL are not controlled by max server memory.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="d8705-117">utilise l’API de notification de mémoire **QueryMemoryResourceNotification** pour déterminer le moment où le gestionnaire de mémoire SQL Server peut allouer de la mémoire et libérer de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="d8705-117">uses the memory notification API **QueryMemoryResourceNotification** to determine when the SQL Server Memory Manager may allocate memory and release memory.</span></span>  
  
 <span data-ttu-id="d8705-118">Il est recommandé de permettre à [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] d'utiliser dynamiquement la mémoire ; cependant, vous pouvez configurer manuellement les options de mémoire et limiter la mémoire à laquelle [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] peut accéder.</span><span class="sxs-lookup"><span data-stu-id="d8705-118">Allowing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to use memory dynamically is recommended; however, you can set the memory options manually and restrict the amount of memory that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can access.</span></span> <span data-ttu-id="d8705-119">Avant de définir la mémoire allouée à [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], déterminez la valeur adaptée pour la mémoire : pour cela, vous devez soustraire de la mémoire physique totale la mémoire requise par le système d'exploitation et par toute autre instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , (ainsi que par d'autres systèmes si l'ordinateur n'est pas totalement dédié à [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="d8705-119">Before you set the amount of memory for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], determine the appropriate memory setting by subtracting, from the total physical memory, the memory required for the OS and any other instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (and other system uses, if the computer is not wholly dedicated to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]).</span></span> <span data-ttu-id="d8705-120">Cette différence représente la mémoire maximale que vous pouvez allouer à [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d8705-120">This difference is the maximum amount of memory you can assign to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="setting-the-memory-options-manually"></a><span data-ttu-id="d8705-121">Paramétrage manuel des options de mémoire</span><span class="sxs-lookup"><span data-stu-id="d8705-121">Setting the Memory Options Manually</span></span>  
<span data-ttu-id="d8705-122">Vous pouvez définir les options de serveur **min server memory** et **max server memory** pour couvrir une plage de valeurs de mémoire.</span><span class="sxs-lookup"><span data-stu-id="d8705-122">The server options **min server memory** and **max server memory** can be set to span a range of memory values.</span></span> <span data-ttu-id="d8705-123">Cette méthode est utile pour les administrateurs système ou de bases de données qui souhaitent configurer une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en accord avec la mémoire exigée par d’autres applications ou d’autres instances de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] qui s’exécutent sur le même hôte.</span><span class="sxs-lookup"><span data-stu-id="d8705-123">This method is useful for system or database administrators to configure an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in conjunction with the memory requirements of other applications, or other instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that run on the same host.</span></span>

> [!NOTE]
> <span data-ttu-id="d8705-124">**min server memory** et **max server memory** sont des options avancées.</span><span class="sxs-lookup"><span data-stu-id="d8705-124">The **min server memory** and **max server memory** options are advanced options.</span></span> <span data-ttu-id="d8705-125">Si vous utilisez la procédure stockée système **sp_configure** pour changer ces paramètres, vous ne pouvez les modifier que si l’option **show advanced options** a la valeur 1.</span><span class="sxs-lookup"><span data-stu-id="d8705-125">If you are using the **sp_configure** system stored procedure to change these settings, you can change them only when **show advanced options** is set to 1.</span></span> <span data-ttu-id="d8705-126">Ces paramètres entrent immédiatement en vigueur, sans redémarrage du serveur.</span><span class="sxs-lookup"><span data-stu-id="d8705-126">These settings take effect immediately without a server restart.</span></span>  
  
<a name="min_server_memory"></a> <span data-ttu-id="d8705-127">Utilisez **min_server_memory** pour garantir une quantité minimale de mémoire accessible au Gestionnaire de mémoire de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d8705-127">Use **min_server_memory** to guarantee a minimum amount of memory available to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Memory Manager for an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="d8705-128">n'alloue pas immédiatement la mémoire spécifiée dans **min server memory** au démarrage.</span><span class="sxs-lookup"><span data-stu-id="d8705-128">will not immediately allocate the amount of memory specified in **min server memory** on startup.</span></span> <span data-ttu-id="d8705-129">Néanmoins, lorsque l’utilisation de la mémoire atteint cette valeur en raison de la charge client, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ne peut libérer de la mémoire à moins que la valeur **min server memory** ne soit réduite.</span><span class="sxs-lookup"><span data-stu-id="d8705-129">However, after memory usage has reached this value due to client load, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cannot free memory unless the value of **min server memory** is reduced.</span></span> <span data-ttu-id="d8705-130">Par exemple, si plusieurs instances de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] peuvent exister simultanément sur le même ordinateur hôte, définissez min_server_memory plutôt que max_server_memory afin de réserver de la mémoire pour une instance.</span><span class="sxs-lookup"><span data-stu-id="d8705-130">For example, when several instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can exist concurrently in the same host, set the min_server_memory parameter instead of max_server_memory for the purpose of reserving memory for an instance.</span></span> <span data-ttu-id="d8705-131">La définition d’une valeur min_server_memory est essentielle dans un environnement virtualisé. Elle permet en effet de garantir que la sollicitation de la mémoire de l’hôte sous-jacent ne tente pas de libérer, dans le pool de tampons d’une machine virtuelle [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] invitée, une quantité de mémoire supérieure à celle nécessaire pour obtenir des performances acceptables.</span><span class="sxs-lookup"><span data-stu-id="d8705-131">Also, setting a min_server_memory value is essential in a virtualized environment to ensure memory pressure from the underlying host does not attempt to deallocate memory from the buffer pool on a guest [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] virtual machine (VM) beyond what is needed for acceptable performance.</span></span>
 
> [!NOTE]  
> <span data-ttu-id="d8705-132">Il n’est pas garanti que [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] alloue la mémoire spécifiée dans **min server memory**.</span><span class="sxs-lookup"><span data-stu-id="d8705-132">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is not guaranteed to allocate the amount of memory specified in **min server memory**.</span></span> <span data-ttu-id="d8705-133">Si la charge sur le serveur ne nécessite jamais d’allouer la mémoire spécifiée dans **min server memory**, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] s’exécute alors avec moins de mémoire.</span><span class="sxs-lookup"><span data-stu-id="d8705-133">If the load on the server never requires allocating the amount of memory specified in **min server memory**, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will run with less memory.</span></span>  
  
<a name="max_server_memory"></a> <span data-ttu-id="d8705-134">Utilisez **max_server_memory** pour que le système d’exploitation ne fasse pas l’objet d’une sollicitation de la mémoire préjudiciable.</span><span class="sxs-lookup"><span data-stu-id="d8705-134">Use **max_server_memory** to guarantee the OS does not experience detrimental memory pressure.</span></span> <span data-ttu-id="d8705-135">Pour définir la configuration de la mémoire maximale du serveur, surveillez la consommation globale du processus [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] afin de déterminer les besoins en mémoire.</span><span class="sxs-lookup"><span data-stu-id="d8705-135">To set max server memory configuration, monitor overall consumption of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] process in order to determine memory requirements.</span></span> <span data-ttu-id="d8705-136">Pour obtenir des résultats plus précis pour une instance unique :</span><span class="sxs-lookup"><span data-stu-id="d8705-136">To be more accurate with these calculations for a single instance:</span></span>
 -  <span data-ttu-id="d8705-137">Réservez 1 à 4 Go de la mémoire totale du système d’exploitation au système d’exploitation lui-même.</span><span class="sxs-lookup"><span data-stu-id="d8705-137">From the total OS memory, reserve 1GB-4GB to the OS itself.</span></span>
 -  <span data-ttu-id="d8705-138">Ensuite, soustrayez l’équivalent des allocations de mémoire [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] potentielles en dehors du contrôle **max server memory**, à savoir la **_taille de la pile <sup>1</sup> \*, le nombre maximal calculé de threads de worker <sup>2</sup> et le paramètre de démarrage -g <sup>3</sup>_** (ou 256 Mo par défaut si *-g* n’est pas défini).</span><span class="sxs-lookup"><span data-stu-id="d8705-138">Then subtract the equivalent of potential [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] memory allocations outside the **max server memory** control, which is comprised of **_stack size <sup>1</sup> \* calculated max worker threads <sup>2</sup> + -g startup parameter <sup>3</sup>_** (or 256MB by default if *-g* is not set).</span></span> <span data-ttu-id="d8705-139">Il doit rester le paramètre max_server_memory pour une installation d’instance unique.</span><span class="sxs-lookup"><span data-stu-id="d8705-139">What remains should be the max_server_memory setting for a single instance setup.</span></span>
 
<span data-ttu-id="d8705-140"><sup>1</sup> Pour plus d’informations sur les tailles de piles de threads par architecture, consultez le [guide d’architecture de gestion de la mémoire](https://docs.microsoft.com/sql/relational-databases/memory-management-architecture-guide#stacksizes).</span><span class="sxs-lookup"><span data-stu-id="d8705-140"><sup>1</sup> Refer to the [Memory Management Architecture guide](https://docs.microsoft.com/sql/relational-databases/memory-management-architecture-guide#stacksizes) for information on thread stack sizes per architecture.</span></span>

<span data-ttu-id="d8705-141"><sup>2</sup> Pour plus d’informations sur les threads de worker par défaut calculés pour un nombre donné d’UC avec affinité dans l’hôte actif, consultez la page [Configurer l’option de configuration du serveur max worker threads](../../database-engine/configure-windows/configure-the-max-worker-threads-server-configuration-option.md) dans la documentation.</span><span class="sxs-lookup"><span data-stu-id="d8705-141"><sup>2</sup> Refer to the documentation page on how to [Configure the max worker threads Server Configuration Option](../../database-engine/configure-windows/configure-the-max-worker-threads-server-configuration-option.md), for information on the calculated default worker threads for a given number of affinitized CPUs in the current host.</span></span>

<span data-ttu-id="d8705-142"><sup>3</sup> Pour plus d’informations sur le paramètre de démarrage *-g*, consultez la page [Options de démarrage du service moteur de base de données](database-engine-service-startup-options.md?view=sql-server-2014) dans la documentation.</span><span class="sxs-lookup"><span data-stu-id="d8705-142"><sup>3</sup> Refer to the documentation page on [Database Engine Service Startup Options](database-engine-service-startup-options.md?view=sql-server-2014) for information on the *-g* startup parameter.</span></span> <span data-ttu-id="d8705-143">Aplicable uniquement à [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 32 bits (de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] à [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="d8705-143">Aplicable only to 32-bit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] through [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]).</span></span>

|<span data-ttu-id="d8705-144">Type de système d'exploitation</span><span class="sxs-lookup"><span data-stu-id="d8705-144">OS Type</span></span>|<span data-ttu-id="d8705-145">Quantité de mémoire minimale autorisée pour **Max Server Memory**</span><span class="sxs-lookup"><span data-stu-id="d8705-145">Minimum Memory Amounts Allowable for **max server memory**</span></span>|  
|-------------|----------------------------------------------------------------|  
|<span data-ttu-id="d8705-146">32 bits</span><span class="sxs-lookup"><span data-stu-id="d8705-146">32-bit</span></span>|<span data-ttu-id="d8705-147">64 Mo</span><span class="sxs-lookup"><span data-stu-id="d8705-147">64 MB</span></span>|  
|<span data-ttu-id="d8705-148">64 bits</span><span class="sxs-lookup"><span data-stu-id="d8705-148">64-bit</span></span>|<span data-ttu-id="d8705-149">128 Mo</span><span class="sxs-lookup"><span data-stu-id="d8705-149">128 MB</span></span>| 

## <a name="how-to-configure-memory-options-using-sql-server-management-studio"></a><span data-ttu-id="d8705-150">Comment configurer les options de mémoire à l'aide de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="d8705-150">How to configure memory options using SQL Server Management Studio</span></span>  
 <span data-ttu-id="d8705-151">Utilisez les deux options de mémoire du serveur, **min server memory** et **max server memory**, pour reconfigurer la quantité de mémoire (en mégaoctets) gérée par le Gestionnaire de mémoire de SQL Server pour une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d8705-151">Use the two server memory options, **min server memory** and **max server memory**, to reconfigure the amount of memory (in megabytes) managed by the SQL Server Memory Manager for an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d8705-152">Par défaut, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] peut modifier dynamiquement sa configuration mémoire en fonction des ressources système disponibles.</span><span class="sxs-lookup"><span data-stu-id="d8705-152">By default, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can change its memory requirements dynamically based on available system resources.</span></span>  
  
### <a name="procedure-for-configuring-a-fixed-amount-of-memory"></a><span data-ttu-id="d8705-153">Procédure de configuration d'une quantité de mémoire fixe</span><span class="sxs-lookup"><span data-stu-id="d8705-153">Procedure for configuring a fixed amount of memory</span></span>  
 <span data-ttu-id="d8705-154">**Pour définir une quantité fixe de mémoire :**</span><span class="sxs-lookup"><span data-stu-id="d8705-154">**To set a fixed amount of memory:**</span></span>  
  
1.  <span data-ttu-id="d8705-155">Dans l’Explorateur d’objets, cliquez avec le bouton droit sur un serveur et sélectionnez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="d8705-155">In Object Explorer, right-click a server and select **Properties**.</span></span>  
  
2.  <span data-ttu-id="d8705-156">Cliquez sur le nœud **Mémoire** .</span><span class="sxs-lookup"><span data-stu-id="d8705-156">Click the **Memory** node.</span></span>  
  
3.  <span data-ttu-id="d8705-157">Sous **Options mémoire du serveur**, entrez les quantités souhaitées pour **Mémoire minimale du serveur** et **Mémoire maximale du serveur**.</span><span class="sxs-lookup"><span data-stu-id="d8705-157">Under **Server Memory Options**, enter the amount that you want for **Minimum server memory** and **Maximum server memory**.</span></span>  
  
     <span data-ttu-id="d8705-158">Utilisez les paramètres par défaut pour autoriser [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à modifier ses besoins de mémoire de façon dynamique en fonction des ressources système disponibles.</span><span class="sxs-lookup"><span data-stu-id="d8705-158">Use the default settings to allow [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to change its memory requirements dynamically based on available system resources.</span></span> <span data-ttu-id="d8705-159">La valeur par défaut de l’option **min Server Memory** est 0 et la valeur par défaut de l’option **max server memory** est de 2147483647 mégaoctets (Mo).</span><span class="sxs-lookup"><span data-stu-id="d8705-159">The default setting for **min server memory** is 0, and the default setting for **max server memory** is 2147483647 megabytes (MB).</span></span>  
  
## <a name="maximize-data-throughput-for-network-applications"></a><span data-ttu-id="d8705-160">Obtenir le débit de données maximal pour les applications réseau</span><span class="sxs-lookup"><span data-stu-id="d8705-160">Maximize Data Throughput for Network Applications</span></span>  
 <span data-ttu-id="d8705-161">Pour optimiser l'utilisation de la mémoire système pour [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vous devez limiter la quantité de mémoire utilisée par le système pour la mise en cache des fichiers.</span><span class="sxs-lookup"><span data-stu-id="d8705-161">To optimize system memory use for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you should limit the amount of memory that is used by the system for file caching.</span></span> <span data-ttu-id="d8705-162">Pour limiter le cache du système de fichiers, veillez à désactiver **Maximiser le débit des données pour le partage de fichiers** .</span><span class="sxs-lookup"><span data-stu-id="d8705-162">To limit the file system cache, make sure that **Maximize data throughput for file sharing** is not selected.</span></span> <span data-ttu-id="d8705-163">Vous pouvez spécifier le plus petit cache du système de fichiers en sélectionnant **Minimiser la mémoire utilisée** ou **Équilibrer**.</span><span class="sxs-lookup"><span data-stu-id="d8705-163">You can specify the smallest file system cache by selecting **Minimize memory used** or **Balance**.</span></span>  
  
#### <a name="to-check-the-current-setting-on-your-operating-system"></a><span data-ttu-id="d8705-164">Pour connaître la configuration actuelle de votre système d'exploitation</span><span class="sxs-lookup"><span data-stu-id="d8705-164">To check the current setting on your operating system</span></span>  
  
1.  <span data-ttu-id="d8705-165">Cliquez sur **Démarrer**, sur **Panneau de configuration**, double-cliquez sur **Connexions réseau**, puis sur **Connexion au réseau local**.</span><span class="sxs-lookup"><span data-stu-id="d8705-165">Click **Start**, click **Control Panel**, double-click **Network Connections**, and then double-click **Local Area Connection**.</span></span>  
  
2.  <span data-ttu-id="d8705-166">Sous l'onglet **Général** , cliquez sur **Propriétés**. Sélectionnez **Partage de fichiers et d'imprimantes pour les réseaux Microsoft**et cliquez sur **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="d8705-166">On the **General** tab, click **Properties**, select **File and Printer Sharing Microsoft Networks**, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="d8705-167">Si l'option **Maximiser le débit des données pour les applications réseau** est sélectionnée, choisissez une autre option et cliquez sur **OK**. Fermez ensuite les boîtes de dialogue restantes.</span><span class="sxs-lookup"><span data-stu-id="d8705-167">If **Maximize data throughput for network applications** is selected, choose any other option, click **OK**, and then close the rest of the dialog boxes.</span></span>  
  
## <a name="lock-pages-in-memory"></a><span data-ttu-id="d8705-168">Verrouiller les pages en mémoire</span><span class="sxs-lookup"><span data-stu-id="d8705-168">Lock Pages in Memory</span></span>  
 <span data-ttu-id="d8705-169">Cette stratégie Windows détermine quels comptes peuvent utiliser un processus destiné à conserver les données en mémoire physique pour éviter leur pagination en mémoire virtuelle sur le disque.</span><span class="sxs-lookup"><span data-stu-id="d8705-169">This Windows policy determines which accounts can use a process to keep data in physical memory, preventing the system from paging the data to virtual memory on disk.</span></span> <span data-ttu-id="d8705-170">Le verrouillage des pages en mémoire peut permettre de conserver sa réactivité au serveur lors de la pagination de la mémoire sur disque.</span><span class="sxs-lookup"><span data-stu-id="d8705-170">Locking pages in memory may keep the server responsive when paging memory to disk occurs.</span></span> <span data-ttu-id="d8705-171">L’option SQL Server **verrouiller les pages en mémoire** a la valeur on dans les instances 32 bits et 64 bits de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Standard Edition et supérieure lorsque le compte avec les privilèges pour exécuter sqlservr.exe a reçu le droit d’utilisateur Windows « pages verrouillées en mémoire » (LPIM).</span><span class="sxs-lookup"><span data-stu-id="d8705-171">The SQL Server **Lock Pages in Memory** option is set to ON in 32-bit and 64-bit instances of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Standard edition and higher when the account with privileges to run sqlservr.exe has been granted the Windows "Locked Pages in Memory" (LPIM) user right.</span></span> <span data-ttu-id="d8705-172">Dans les versions antérieures de SQL Server, la définition de l'option de verrouillage des pages pour une instance 32 bits de SQL Server exige que le compte avec les privilèges nécessaires pour exécuter sqlservr.exe ait le droit d'utilisateur LPIM et que l'option de configuration « awe_enabled » ait la valeur ON.</span><span class="sxs-lookup"><span data-stu-id="d8705-172">In earlier versions of SQL Server, setting the Lock Pages option for a 32-bit instance of SQL Server, requires that the account with privileges to run sqlservr.exe have the LPIM user right and the 'awe_enabled' configuration option is set to ON.</span></span>  
  
 <span data-ttu-id="d8705-173">Pour désactiver l’option **verrouiller les pages en mémoire** pour [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , supprimez le droit d’utilisateur « pages verrouillées en mémoire » pour le compte de démarrage SQL Server.</span><span class="sxs-lookup"><span data-stu-id="d8705-173">To disable the **Lock Pages In Memory** option for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], remove the "Locked Pages in Memory" user right for the SQL Server startup account.</span></span>  
  
### <a name="to-disable-lock-pages-in-memory"></a><span data-ttu-id="d8705-174">Pour désactiver Verrouiller les pages en mémoire</span><span class="sxs-lookup"><span data-stu-id="d8705-174">To Disable Lock Pages in Memory</span></span>  
 <span data-ttu-id="d8705-175">**Pour désactiver l’option verrouiller les pages en mémoire :**</span><span class="sxs-lookup"><span data-stu-id="d8705-175">**To disable the lock pages in memory option:**</span></span>  
  
1.  <span data-ttu-id="d8705-176">Dans le menu **Démarrer** , cliquez sur **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="d8705-176">On the **Start** menu, click **Run**.</span></span> <span data-ttu-id="d8705-177">Dans la zone **ouvrir** , tapez `gpedit.msc` .</span><span class="sxs-lookup"><span data-stu-id="d8705-177">In the **Open** box, type `gpedit.msc`.</span></span>  
  
     <span data-ttu-id="d8705-178">La boîte de dialogue **Stratégie de groupe** s'affiche.</span><span class="sxs-lookup"><span data-stu-id="d8705-178">The **Group Policy** dialog box opens.</span></span>  
  
2.  <span data-ttu-id="d8705-179">Sur la console **Stratégie de groupe** , développez **Configuration de l'ordinateur**, puis **Paramètres Windows**.</span><span class="sxs-lookup"><span data-stu-id="d8705-179">On the **Group Policy** console, expand **Computer Configuration**, and then expand **Windows Settings**.</span></span>  
  
3.  <span data-ttu-id="d8705-180">Développez **Paramètres de sécurité**, puis **Stratégies locales**.</span><span class="sxs-lookup"><span data-stu-id="d8705-180">Expand **Security Settings**, and then expand **Local Policies**.</span></span>  
  
4.  <span data-ttu-id="d8705-181">Sélectionnez le dossier **Attribution des droits utilisateur** .</span><span class="sxs-lookup"><span data-stu-id="d8705-181">Select the **User Rights Assignment** folder.</span></span>  
  
     <span data-ttu-id="d8705-182">Les stratégies s'affichent dans le volet Détails.</span><span class="sxs-lookup"><span data-stu-id="d8705-182">The policies will be displayed in the details pane.</span></span>  
  
5.  <span data-ttu-id="d8705-183">Dans le volet, double-cliquez sur **Verrouiller les pages en mémoire**.</span><span class="sxs-lookup"><span data-stu-id="d8705-183">In the pane, double-click **Lock pages in memory**.</span></span>  
  
6.  <span data-ttu-id="d8705-184">Dans la boîte de dialogue **Paramètre de stratégie de sécurité locale** , sélectionnez le compte avec les privilèges nécessaires pour exécuter sqlservr.exe et cliquez sur **Supprimer**.</span><span class="sxs-lookup"><span data-stu-id="d8705-184">In the **Local Security Policy Setting** dialog box, select the account with privileges to run sqlservr.exe and click **Remove**.</span></span>  
  
## <a name="virtual-memory-manager"></a><span data-ttu-id="d8705-185">Gestionnaire de mémoire virtuelle</span><span class="sxs-lookup"><span data-stu-id="d8705-185">Virtual Memory Manager</span></span>  
 <span data-ttu-id="d8705-186">Les systèmes d'exploitation 32 bits permettent d'accéder à un espace d'adressage virtuel de 4 Go.</span><span class="sxs-lookup"><span data-stu-id="d8705-186">The 32-bit operating systems provide access to 4 GB of virtual address space.</span></span> <span data-ttu-id="d8705-187">2 Go de mémoire virtuelle sont alloués en privé à chaque processus et disponibles pour les applications.</span><span class="sxs-lookup"><span data-stu-id="d8705-187">2 GB of virtual memory is private per process and available for application use.</span></span> <span data-ttu-id="d8705-188">2 Go sont réservés au système d'exploitation.</span><span class="sxs-lookup"><span data-stu-id="d8705-188">2 GB is reserved for operating system use.</span></span> <span data-ttu-id="d8705-189">Toutes les éditions des systèmes d'exploitation comportent un commutateur qui permet aux applications d'accéder à 3 Go d'espace d'adressage virtuel, ce qui limite la mémoire disponible pour le système d'exploitation à 1 Go.</span><span class="sxs-lookup"><span data-stu-id="d8705-189">All operating system editions include a switch that can provide applications with access up to 3 GB of virtual address space, limiting the operating system to 1 GB.</span></span> <span data-ttu-id="d8705-190">Pour plus d'informations sur l'utilisation de la configuration de la mémoire avec le commutateur, consultez la documentation Windows sur la technologie 4GT (4-gigabyte tuning).</span><span class="sxs-lookup"><span data-stu-id="d8705-190">For more information about how to use the switch memory configuration, see the Windows documentation about 4-gigabyte tuning (4GT).</span></span> <span data-ttu-id="d8705-191">Lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 32 bits s'exécute sur un système d'exploitation 64 bits, l'utilisateur a accès à l'intégralité des 4 Go pour son espace d'adressage virtuel.</span><span class="sxs-lookup"><span data-stu-id="d8705-191">When the 32-bit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running on 64-bit operating system its user available virtual address space is the full 4 GB.</span></span>  
  
 <span data-ttu-id="d8705-192">Les zones d'espace d'adressage validées sont mappées à la mémoire physique disponible par le Gestionnaire de mémoire virtuelle Windows (VMM).</span><span class="sxs-lookup"><span data-stu-id="d8705-192">The committed regions of address space are mapped to the available physical memory by the Windows Virtual Memory Manager (VMM).</span></span>  
  
 <span data-ttu-id="d8705-193">Pour plus d'informations sur la taille de mémoire physique prise en charge par les divers systèmes d'exploitation, consultez la documentation Windows « Limites de la mémoire selon les versions de Windows ».</span><span class="sxs-lookup"><span data-stu-id="d8705-193">For more information on the amount of physical memory supported by different operating systems, see the Windows documentation "Memory Limits for Windows Releases".</span></span>  
  
 <span data-ttu-id="d8705-194">Les systèmes de mémoire virtuelle autorisent le surengagement de la mémoire physique, de sorte que le rapport entre la mémoire virtuelle et la mémoire physique peut être supérieur à 1:1.</span><span class="sxs-lookup"><span data-stu-id="d8705-194">Virtual memory systems allow the over-commitment of physical memory, so that the ratio of virtual-to-physical memory can exceed 1:1.</span></span> <span data-ttu-id="d8705-195">Il est alors possible d'exécuter des programmes plus volumineux sur des ordinateurs offrant diverses configurations de la mémoire physique.</span><span class="sxs-lookup"><span data-stu-id="d8705-195">As a result, larger programs can run on computers with a variety of physical memory configurations.</span></span> <span data-ttu-id="d8705-196">Toutefois, dans la plupart des cas, l'utilisation d'une quantité de mémoire virtuelle nettement plus importante que les plages de travail moyennes combinées de tous les processus peut entraîner une détérioration des performances.</span><span class="sxs-lookup"><span data-stu-id="d8705-196">However, using significantly more virtual memory than the combined average working sets of all the processes can cause poor performance.</span></span>  
  
 <span data-ttu-id="d8705-197">**min server memory** et **max server memory** sont des options avancées.</span><span class="sxs-lookup"><span data-stu-id="d8705-197">The **min server memory** and **max server memory** options are advanced options.</span></span> <span data-ttu-id="d8705-198">Si vous utilisez la procédure stockée système **sp_configure** pour changer ces paramètres, vous ne pouvez les modifier que si l’option **show advanced options** a la valeur 1.</span><span class="sxs-lookup"><span data-stu-id="d8705-198">If you are using the **sp_configure** system stored procedure to change these settings, you can change them only when **show advanced options** is set to 1.</span></span> <span data-ttu-id="d8705-199">Ces paramètres entrent immédiatement en vigueur, sans redémarrage du serveur.</span><span class="sxs-lookup"><span data-stu-id="d8705-199">These settings take effect immediately without a server restart.</span></span>  
  
## <a name="running-multiple-instances-of-sql-server"></a><span data-ttu-id="d8705-200">Exécution de plusieurs instances SQL Server</span><span class="sxs-lookup"><span data-stu-id="d8705-200">Running Multiple Instances of SQL Server</span></span>  
 <span data-ttu-id="d8705-201">Lorsque vous exécutez plusieurs instances de [!INCLUDE[ssDE](../../includes/ssde-md.md)], vous avez le choix entre trois approches pour gérer la mémoire :</span><span class="sxs-lookup"><span data-stu-id="d8705-201">When you are running multiple instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], there are three approaches you can use to manage memory:</span></span>  
  
-   <span data-ttu-id="d8705-202">Choisir **max server memory** pour contrôler l'utilisation de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="d8705-202">Use **max server memory** to control memory usage.</span></span> <span data-ttu-id="d8705-203">Définir les valeurs maximales pour chaque instance, en veillant à ce que le total alloué ne soit pas supérieur à la mémoire physique totale de votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="d8705-203">Establish maximum settings for each instance, being careful that the total allowance is not more than the total physical memory on your machine.</span></span> <span data-ttu-id="d8705-204">Il se peut que vous souhaitiez attribuer à chaque instance une mémoire proportionnelle à la charge ou à la taille de base de données prévue.</span><span class="sxs-lookup"><span data-stu-id="d8705-204">You might want to give each instance memory proportional to its expected workload or database size.</span></span> <span data-ttu-id="d8705-205">Cette solution présente l'avantage qu'au démarrage des nouveaux processus ou des nouvelles instances, ils pourront accéder immédiatement à la mémoire libre.</span><span class="sxs-lookup"><span data-stu-id="d8705-205">This approach has the advantage that when new processes or instances start up, free memory will be available to them immediately.</span></span> <span data-ttu-id="d8705-206">En revanche, cette solution présente l'inconvénient que, si toutes les instances ne sont pas en cours d'exécution, aucune d'entre elles ne pourra utiliser la mémoire libre restante.</span><span class="sxs-lookup"><span data-stu-id="d8705-206">The drawback is that if you are not running all of the instances, none of the running instances will be able to utilize the remaining free memory.</span></span>  
  
-   <span data-ttu-id="d8705-207">Choisir **min server memory** pour contrôler l'utilisation de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="d8705-207">Use **min server memory** to control memory usage.</span></span> <span data-ttu-id="d8705-208">Définissez les valeurs minimales pour chaque instance, de telle sorte que leur somme soit inférieure de 1 à 2 Go à la mémoire physique totale de votre machine.</span><span class="sxs-lookup"><span data-stu-id="d8705-208">Establish minimum settings for each instance, so that the sum of these minimums is 1-2 GB less than the total physical memory on your machine.</span></span> <span data-ttu-id="d8705-209">Une fois encore, vous pouvez établir ces valeurs minimales de façon proportionnelle à la charge prévue de cette instance.</span><span class="sxs-lookup"><span data-stu-id="d8705-209">Again, you may establish these minimums proportionately to the expected load of that instance.</span></span> <span data-ttu-id="d8705-210">Cette solution présente l'avantage que si toutes les instances ne sont pas en cours d'exécution au même instant, celles qui le sont peuvent utiliser la mémoire libre restante.</span><span class="sxs-lookup"><span data-stu-id="d8705-210">This approach has the advantage that if not all instances are running at the same time, the ones that are running can use the remaining free memory.</span></span> <span data-ttu-id="d8705-211">Elle est également utile quand un autre processus gourmand en mémoire est présent sur l'ordinateur, car elle garantit que [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] bénéficie au moins d'une quantité de mémoire acceptable.</span><span class="sxs-lookup"><span data-stu-id="d8705-211">This approach is also useful when there is another memory-intensive process on the computer, since it would insure that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] would at least get a reasonable amount of memory.</span></span> <span data-ttu-id="d8705-212">Le désagrément est que, lorsqu'une nouvelle instance (ou un autre processus) démarre, il se peut que les instances en cours d'exécution mettent un certain temps à libérer de la mémoire, notamment si elles doivent à cette fin réécrire les pages modifiées sur leurs bases de données.</span><span class="sxs-lookup"><span data-stu-id="d8705-212">The drawback is that when a new instance (or any other process) starts, it may take some time for the running instances to release memory, especially if they must write modified pages back to their databases to do so.</span></span>  
  
-   <span data-ttu-id="d8705-213">Ne rien faire (déconseillé).</span><span class="sxs-lookup"><span data-stu-id="d8705-213">Do nothing (not recommended).</span></span> <span data-ttu-id="d8705-214">Les premières instances présentées avec une charge de travail tendent à allouer la totalité de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="d8705-214">The first instances presented with a workload will tend to allocate all of memory.</span></span> <span data-ttu-id="d8705-215">Les instances inactives ou les instances ayant démarré ultérieurement peuvent finir par ne disposer que d'une quantité de mémoire minime.</span><span class="sxs-lookup"><span data-stu-id="d8705-215">Idle instances, or instances started later, may end up running with only a minimal amount of memory available.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="d8705-216">n'effectue aucune tentative pour équilibrer l'utilisation de la mémoire entre les instances.</span><span class="sxs-lookup"><span data-stu-id="d8705-216">makes no attempt to balance memory usage across instances.</span></span> <span data-ttu-id="d8705-217">Cependant, toutes les instances répondent aux signaux de Windows Notification Memory pour ajuster la taille de leur occupation mémoire.</span><span class="sxs-lookup"><span data-stu-id="d8705-217">All instances will, however, respond to Windows Memory Notification signals to adjust the size of their memory footprint.</span></span> <span data-ttu-id="d8705-218">Windows n'équilibre pas la mémoire entre les applications avec l'API Memory Notification.</span><span class="sxs-lookup"><span data-stu-id="d8705-218">Windows does not balance memory across applications with the Memory Notification API.</span></span> <span data-ttu-id="d8705-219">Il fournit simplement un commentaire global quant à la disponibilité de la mémoire sur le système.</span><span class="sxs-lookup"><span data-stu-id="d8705-219">It merely provides global feedback as to the availability of memory on the system.</span></span>  
  
 <span data-ttu-id="d8705-220">Comme vous pouvez modifier ces paramètres sans redémarrer les instances, vous pouvez sans peine procéder à des essais pour trouver les valeurs qui conviennent le mieux à votre modèle d'utilisation.</span><span class="sxs-lookup"><span data-stu-id="d8705-220">You can change these settings without restarting the instances, so you can easily experiment to find the best settings for your usage pattern.</span></span>  
  
## <a name="providing-the-maximum-amount-of-memory-to-sql-server"></a><span data-ttu-id="d8705-221">Apport de la quantité maximale de mémoire à SQL Server</span><span class="sxs-lookup"><span data-stu-id="d8705-221">Providing the Maximum Amount of Memory to SQL Server</span></span>  
  
||<span data-ttu-id="d8705-222">32 bits</span><span class="sxs-lookup"><span data-stu-id="d8705-222">32-bit</span></span>|<span data-ttu-id="d8705-223">64 bits</span><span class="sxs-lookup"><span data-stu-id="d8705-223">64-bit</span></span>|  
|-|-------------|-------------|  
|<span data-ttu-id="d8705-224">Mémoire conventionnelle</span><span class="sxs-lookup"><span data-stu-id="d8705-224">Conventional memory</span></span>|<span data-ttu-id="d8705-225">Jusqu'à la limite d'espace d'adressage virtuel de processus dans toutes les éditions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="d8705-225">Up to process virtual address space limit in all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] editions:</span></span><br /><br /> <span data-ttu-id="d8705-226">2 Go</span><span class="sxs-lookup"><span data-stu-id="d8705-226">2 GB</span></span><br /><br /> <span data-ttu-id="d8705-227">3 Go avec le paramètre de démarrage **/3GB** \*</span><span class="sxs-lookup"><span data-stu-id="d8705-227">3 GB with **/3gb** boot parameter\*</span></span><br /><br /> <span data-ttu-id="d8705-228">4 Go sur WOW64\*\*</span><span class="sxs-lookup"><span data-stu-id="d8705-228">4 GB on WOW64\*\*</span></span>|<span data-ttu-id="d8705-229">Jusqu'à la limite d'espace d'adressage virtuel de processus dans toutes les éditions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="d8705-229">Up to process virtual address space limit in all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] editions:</span></span><br /><br /> <span data-ttu-id="d8705-230">8 To sur l'architecture x64</span><span class="sxs-lookup"><span data-stu-id="d8705-230">8 TB on x64 architecture</span></span>|  
  
 <span data-ttu-id="d8705-231">\***/3GB** est un paramètre de démarrage du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="d8705-231">\***/3gb** is an operating-system boot parameter.</span></span> <span data-ttu-id="d8705-232">Pour plus d’informations, consultez [MSDN Library](https://go.microsoft.com/fwlink/?LinkID=10257&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="d8705-232">For more information, visit the [MSDN Library](https://go.microsoft.com/fwlink/?LinkID=10257&clcid=0x409).</span></span>  
  
 <span data-ttu-id="d8705-233">\* \* WOW64 (Windows sur Windows 64) est un mode dans lequel 32 bits [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] s’exécute sur un système d’exploitation 64 bits.</span><span class="sxs-lookup"><span data-stu-id="d8705-233">\*\*WOW64 (Windows on Windows 64) is a mode in which 32-bit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] runs on a 64-bit operating system.</span></span> <span data-ttu-id="d8705-234">Pour plus d’informations, consultez [MSDN Library](https://go.microsoft.com/fwlink/?LinkID=10257&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="d8705-234">For more information, visit the [MSDN Library](https://go.microsoft.com/fwlink/?LinkID=10257&clcid=0x409).</span></span>  
  
## <a name="examples"></a><span data-ttu-id="d8705-235">Exemples</span><span class="sxs-lookup"><span data-stu-id="d8705-235">Examples</span></span>  
  
### <a name="example-a"></a><span data-ttu-id="d8705-236">Exemple A</span><span class="sxs-lookup"><span data-stu-id="d8705-236">Example A</span></span>  
 <span data-ttu-id="d8705-237">L'exemple suivant affecte la valeur 4 Go à l'option `max server memory` .</span><span class="sxs-lookup"><span data-stu-id="d8705-237">The following example sets the `max server memory` option to 4 GB:</span></span>  
  
```  
sp_configure 'show advanced options', 1;  
GO  
RECONFIGURE;  
GO  
sp_configure 'max server memory', 4096;  
GO  
RECONFIGURE;  
GO  
```  
  
### <a name="example-b-determining-current-memory-allocation"></a><span data-ttu-id="d8705-238">Exemple B. Détermination de l’allocation de mémoire actuelle</span><span class="sxs-lookup"><span data-stu-id="d8705-238">Example B. Determining Current Memory Allocation</span></span>  
 <span data-ttu-id="d8705-239">La requête suivante retourne des informations sur la mémoire allouée actuellement.</span><span class="sxs-lookup"><span data-stu-id="d8705-239">The following query returns information about currently allocated memory.</span></span>  
  
```  
SELECT  
(physical_memory_in_use_kb/1024) AS Memory_usedby_Sqlserver_MB,  
(locked_page_allocations_kb/1024) AS Locked_pages_used_Sqlserver_MB,  
(total_virtual_address_space_kb/1024) AS Total_VAS_in_MB,  
process_physical_memory_low,  
process_virtual_memory_low  
FROM sys.dm_os_process_memory;  
```  
  
## <a name="see-also"></a><span data-ttu-id="d8705-240">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="d8705-240">See Also</span></span>  
 <span data-ttu-id="d8705-241">[Surveiller et régler les performances](../../relational-databases/performance/monitor-and-tune-for-performance.md) </span><span class="sxs-lookup"><span data-stu-id="d8705-241">[Monitor and Tune for Performance](../../relational-databases/performance/monitor-and-tune-for-performance.md) </span></span>  
 <span data-ttu-id="d8705-242">[RECONFIGURE &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/reconfigure-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="d8705-242">[RECONFIGURE &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/reconfigure-transact-sql) </span></span>  
 <span data-ttu-id="d8705-243">[Options de configuration de serveur &#40;SQL Server&#41;](server-configuration-options-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="d8705-243">[Server Configuration Options &#40;SQL Server&#41;](server-configuration-options-sql-server.md) </span></span>  
 [<span data-ttu-id="d8705-244">sp_configure &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="d8705-244">sp_configure &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql)  
  
  
