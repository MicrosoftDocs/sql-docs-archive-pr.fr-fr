---
title: Créer une règle inter-domaines | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.dm.testcdrule.f1
- sql12.dqs.dm.cdrules.f1
ms.assetid: 0f3f5ba4-cc47-4d66-866e-371a042d1f21
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: cddcd9bbd2fc8d95fe8645781de5fe4e936050a9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87696068"
---
# <a name="create-a-cross-domain-rule"></a><span data-ttu-id="d899a-102">Créer une règle inter-domaines</span><span class="sxs-lookup"><span data-stu-id="d899a-102">Create a Cross-Domain Rule</span></span>
  <span data-ttu-id="d899a-103">Cette rubrique décrit comment créer une règle inter-domaines pour un domaine composite d'une base de connaissances dans [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span><span class="sxs-lookup"><span data-stu-id="d899a-103">This topic describes how to create a cross-domain rule for a composite domain in a knowledge base in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span></span> <span data-ttu-id="d899a-104">Une règle inter-domaines teste la relation entre les valeurs des domaines uniques inclus dans un domaine composite.</span><span class="sxs-lookup"><span data-stu-id="d899a-104">A cross-domain rule tests the relationship between values in single domains that are included in a composite domain.</span></span> <span data-ttu-id="d899a-105">Une règle inter-domaines doit contenir true sur un domaine composite pour que les valeurs de domaine soient considérées comme exactes et conformes aux besoins de l'entreprise.</span><span class="sxs-lookup"><span data-stu-id="d899a-105">A cross-domain rule must hold true across a composite domain in order for domain values to be considered accurate and conformant to business requirements.</span></span> <span data-ttu-id="d899a-106">Une règle inter-domaines est utilisée pour valider, corriger et normaliser les valeurs de domaine.</span><span class="sxs-lookup"><span data-stu-id="d899a-106">A cross-domain rule is used to validate, correct, and standardize domain values.</span></span>  
  
 <span data-ttu-id="d899a-107">La clause If et la clause Then d'une règle inter-domaines sont définies chacune pour l'un des domaines uniques du domaine composite.</span><span class="sxs-lookup"><span data-stu-id="d899a-107">The If clause and Then clause of a cross-domain rule are each defined for one of the single domains in the composite domain.</span></span> <span data-ttu-id="d899a-108">Chaque clause doit être définie pour un seul domaine.</span><span class="sxs-lookup"><span data-stu-id="d899a-108">Each clause must be defined for a different single domain.</span></span> <span data-ttu-id="d899a-109">Une règle inter-domaines doit être en relation avec plusieurs domaines uniques ; vous ne pouvez pas définir une règle simple de domaine (pour un seul domaine) pour un domaine composite.</span><span class="sxs-lookup"><span data-stu-id="d899a-109">A cross-domain rule must relate to multiple single domains; you cannot define a simple domain rule (for only a single domain) for a composite domain.</span></span> <span data-ttu-id="d899a-110">Pour cela, définissez une règle de domaine pour un seul domaine.</span><span class="sxs-lookup"><span data-stu-id="d899a-110">You would do so by defining a domain rule for a single domain.</span></span> <span data-ttu-id="d899a-111">La clause If et la clause Then peuvent chacune contenir une ou plusieurs conditions.</span><span class="sxs-lookup"><span data-stu-id="d899a-111">The If clause and the Then clause can each contain one or more conditions.</span></span>  
  
 <span data-ttu-id="d899a-112">Une règle inter-domaines ayant des conditions définitives applique la logique de règles aux synonymes de la valeur des conditions, ainsi qu'aux valeurs elles-mêmes.</span><span class="sxs-lookup"><span data-stu-id="d899a-112">A cross-domain rule that has definitive conditions will apply the rules logic to synonyms of the value in the conditions, as well the values themselves.</span></span> <span data-ttu-id="d899a-113">Les conditions définitives pour les clauses If et Then sont La valeur est égale à, La valeur n'est pas égale à, La valeur se trouve dans, ou La valeur ne se trouve pas dans.</span><span class="sxs-lookup"><span data-stu-id="d899a-113">The definitive conditions for the If and Then clauses are Value is equal to, Value is not equal to, Value is in, or Value is not in.</span></span> <span data-ttu-id="d899a-114">Par exemple, imaginons que vous ayez la règle inter-domaines suivante pour un domaine composite : « Pour « Ville », si la valeur est égale à « Los Angeles », alors pour « État », la valeur est égale à « CA ».</span><span class="sxs-lookup"><span data-stu-id="d899a-114">For example, suppose that you have the following cross-domain rule for a composite domain: "For 'City', if Value is equal to 'Los Angeles', then for 'State', Value is equal to 'CA'.</span></span> <span data-ttu-id="d899a-115">« Si « Los Angeles » et « LA » sont synonymes, cette règle retourne comme corrects « Los Angeles CA » et « LA CA », et comme erronés « Los Angeles WA » et « LA WA ».</span><span class="sxs-lookup"><span data-stu-id="d899a-115">"If 'Los Angeles' and 'LA' are synonyms, this rule will return correct for 'Los Angeles CA' and 'LA CA' and in error for 'Los Angeles WA' and 'LA WA'.</span></span>  
  
 <span data-ttu-id="d899a-116">En dehors de vous permettre de connaître la validité d'une règle inter-domaines, la clause finale *Then* d'une règle inter-domaines, **La valeur est égale à**, corrige également les données pendant l'activité de nettoyage.</span><span class="sxs-lookup"><span data-stu-id="d899a-116">Apart from just letting you know about the validity of a cross-domain rule, the definitive *Then* clause in a cross-domain rule, **Value is equal to**, also corrects the data during the data-cleansing activity.</span></span> <span data-ttu-id="d899a-117">Pour plus d'informations, consultez [Data Correction using Definitive Cross-Domain Rules](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md#CDCorrection) dans [Cleanse Data in a Composite Domain](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md).</span><span class="sxs-lookup"><span data-stu-id="d899a-117">For more information, see [Data Correction using Definitive Cross-Domain Rules](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md#CDCorrection) in [Cleanse Data in a Composite Domain](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md).</span></span>  
  
 <span data-ttu-id="d899a-118">Les règles inter-domaines sont prises en compte après toutes les règles simples qui affectent seulement un domaine.</span><span class="sxs-lookup"><span data-stu-id="d899a-118">Cross-domain rules are taken into consideration after all simple rules that affect only a single domain.</span></span> <span data-ttu-id="d899a-119">La règle inter-domaines n'est appliquée que si une valeur franchit les règles de domaine simple (si elles existent).</span><span class="sxs-lookup"><span data-stu-id="d899a-119">Only if a value passes single domain rules (if they exist) is the cross-domain rule applied.</span></span> <span data-ttu-id="d899a-120">Le domaine composite et les domaines uniques sur lesquels une règle s'exécute doivent tous être définis avant que la règle ne puisse être exécutée.</span><span class="sxs-lookup"><span data-stu-id="d899a-120">The composite domain and the single domains that a rule is run on must all be defined before the rule can be executed.</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="d899a-121">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="d899a-121">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="d899a-122">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="d899a-122">Prerequisites</span></span>  
 <span data-ttu-id="d899a-123">Pour créer une règle inter-domaines, vous devez avoir créé et ouvert un domaine composite.</span><span class="sxs-lookup"><span data-stu-id="d899a-123">To create a cross-domain rule, you must have created and opened a composite domain.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="d899a-124">Sécurité</span><span class="sxs-lookup"><span data-stu-id="d899a-124">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="d899a-125">Autorisations</span><span class="sxs-lookup"><span data-stu-id="d899a-125">Permissions</span></span>  
 <span data-ttu-id="d899a-126">Vous devez disposer du rôle dqs_kb_editor ou dqs_administrator sur la base de données DQS_MAIN pour créer une règle inter-domaines.</span><span class="sxs-lookup"><span data-stu-id="d899a-126">You must have the dqs_kb_editor or the dqs_administrator role on the DQS_MAIN database to create a cross-domain rule.</span></span>  
  
##  <a name="create-cross-domain-rules"></a><a name="Create"></a> <span data-ttu-id="d899a-127">Créer les règles inter-domaines</span><span class="sxs-lookup"><span data-stu-id="d899a-127">Create Cross-Domain Rules</span></span>  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)]<span data-ttu-id="d899a-128">[Exécutez l’Application Data Quality client](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span><span class="sxs-lookup"><span data-stu-id="d899a-128">[Run the Data Quality Client Application](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span></span>  
  
2.  <span data-ttu-id="d899a-129">Dans l'écran d'accueil de [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] , ouvrez ou créez une base de connaissances.</span><span class="sxs-lookup"><span data-stu-id="d899a-129">In the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] home screen, open or create a knowledge base.</span></span> <span data-ttu-id="d899a-130">Sélectionnez **Gestion de l'arborescence du domaine** comme activité, puis cliquez sur **Ouvrir** ou **Créer**.</span><span class="sxs-lookup"><span data-stu-id="d899a-130">Select **Domain Management** as the activity, and then click **Open** or **Create**.</span></span> <span data-ttu-id="d899a-131">Pour plus d’informations, consultez [Créer une base de connaissances](../../2014/data-quality-services/create-a-knowledge-base.md) ou [Ouvrir une base de connaissances](../../2014/data-quality-services/open-a-knowledge-base.md).</span><span class="sxs-lookup"><span data-stu-id="d899a-131">For more information, see [Create a Knowledge Base](../../2014/data-quality-services/create-a-knowledge-base.md) or [Open a Knowledge Base](../../2014/data-quality-services/open-a-knowledge-base.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d899a-132">La gestion de domaine est exécutée dans une page du client Data Quality Service qui contient cinq onglets pour les opérations distinctes de gestion de domaine.</span><span class="sxs-lookup"><span data-stu-id="d899a-132">Domain management is performed in a page of the Data Quality Service client that contains five tabs for separate domain management operations.</span></span> <span data-ttu-id="d899a-133">Ce n'est pas un processus piloté par l'Assistant ; toute opération de gestion peut être exécutée séparément.</span><span class="sxs-lookup"><span data-stu-id="d899a-133">It is not a wizard-driven process; any management operation can be performed separately.</span></span>  
  
3.  <span data-ttu-id="d899a-134">Dans **Liste des domaines** de la page **Gestion de l'arborescence du domaine** , sélectionnez le domaine composite pour lequel vous souhaitez créer une règle de domaine, ou créez un nouveau domaine composite.</span><span class="sxs-lookup"><span data-stu-id="d899a-134">From the **Domain list** on the **Domain Management** page, select the composite domain that you want to create a domain rule for, or create a new composite domain.</span></span> <span data-ttu-id="d899a-135">Si vous devez créer un domaine, consultez [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md).</span><span class="sxs-lookup"><span data-stu-id="d899a-135">If you have to create a new domain, see [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md).</span></span>  
  
4.  <span data-ttu-id="d899a-136">Cliquez sur l'onglet **Règles de domaine composite** .</span><span class="sxs-lookup"><span data-stu-id="d899a-136">Click the **CD Rules** tab.</span></span>  
  
5.  <span data-ttu-id="d899a-137">Dans la page **Ajouter une nouvelle règle de domaine**, entrez le nom et la description de la règle.</span><span class="sxs-lookup"><span data-stu-id="d899a-137">Click **Add a new domain rule**, and then enter a name and description for the rule.</span></span>  
  
6.  <span data-ttu-id="d899a-138">Sélectionnez **Active** pour spécifier que la règle sera exécutée (valeur par défaut), et désactivez l'option pour empêcher la règle de s'exécuter.</span><span class="sxs-lookup"><span data-stu-id="d899a-138">Select **Active** to specify that the rule will be run (the default), and deselect to prevent the rule from running.</span></span>  
  
7.  <span data-ttu-id="d899a-139">Créez la clause If comme suit :</span><span class="sxs-lookup"><span data-stu-id="d899a-139">Create the If clause as follows:</span></span>  
  
    1.  <span data-ttu-id="d899a-140">Dans la liste des domaines du volet de la clause If, sélectionnez l'un des domaines uniques inclus dans le domaine composite comme objet de la clause If.</span><span class="sxs-lookup"><span data-stu-id="d899a-140">In the domain list in the If clause pane, select one of the single domains included in the composite domain to be the subject of the If clause.</span></span> <span data-ttu-id="d899a-141">Vous en pouvez sélectionner un seul domaine du domaine composite.</span><span class="sxs-lookup"><span data-stu-id="d899a-141">You can select any single domain in the composite domain.</span></span>  
  
    2.  <span data-ttu-id="d899a-142">Sélectionnez une condition dans la liste déroulante pour la première condition de la clause.</span><span class="sxs-lookup"><span data-stu-id="d899a-142">Select a condition from the drop-down list for the first condition of the clause.</span></span>  
  
    3.  <span data-ttu-id="d899a-143">Si la condition requiert une valeur, entrez la valeur dans la zone de texte associée à la condition.</span><span class="sxs-lookup"><span data-stu-id="d899a-143">If the condition requires a value, enter the value in the text box associated with the condition.</span></span>  
  
    4.  <span data-ttu-id="d899a-144">Si la clause If requiert une autre condition, cliquez sur **Ajoute une nouvelle condition à la clause sélectionnée.**</span><span class="sxs-lookup"><span data-stu-id="d899a-144">If the If clause requires another condition, click **Adds a new condition to the selected clause**.</span></span> <span data-ttu-id="d899a-145">Sélectionnez l'opérateur, sélectionnez une condition, puis entrez une valeur pour la condition, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="d899a-145">Select the operator, select a condition, and enter a value for the condition, if necessary.</span></span>  
  
    5.  <span data-ttu-id="d899a-146">Pour modifier l'ordre des conditions, sélectionnez une condition en cliquant à sa gauche, puis cliquez sur la flèche haut ou bas.</span><span class="sxs-lookup"><span data-stu-id="d899a-146">To change the order of the conditions, select a condition by clicking to its left, and then click the up or down arrow.</span></span>  
  
    6.  <span data-ttu-id="d899a-147">Pour masquer les conditions, cliquez sur le signe moins à gauche du nom de domaine.</span><span class="sxs-lookup"><span data-stu-id="d899a-147">To hide the conditions, click the minus sign to the left of the domain name.</span></span> <span data-ttu-id="d899a-148">Cliquez sur le signe plus pour afficher les conditions.</span><span class="sxs-lookup"><span data-stu-id="d899a-148">Click the plus ign to display the conditions.</span></span>  
  
8.  <span data-ttu-id="d899a-149">Créez la clause Then en sélectionnant un seul domaine, autre que l'objet de la clause If, dans la liste des domaines du volet de la clause Then.</span><span class="sxs-lookup"><span data-stu-id="d899a-149">Create the Then clause by selecting a single domain, other than the subject of the If clause, in the domain list in the Then clause pane.</span></span> <span data-ttu-id="d899a-150">Puis, générez la clause Then puis en utilisant les mêmes étapes que celles de la construction de la clause If.</span><span class="sxs-lookup"><span data-stu-id="d899a-150">Then build the Then clause using the same steps that you did in building the If clause.</span></span>  
  
9. <span data-ttu-id="d899a-151">Poursuivez jusqu'à la procédure de test ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="d899a-151">Proceed to the testing procedure below.</span></span>  
  
##  <a name="test-cross-domain-rules"></a><a name="Test"></a> <span data-ttu-id="d899a-152">Tester les règles inter-domaines</span><span class="sxs-lookup"><span data-stu-id="d899a-152">Test Cross-Domain Rules</span></span>  
  
1.  <span data-ttu-id="d899a-153">Testez la règle interdomaines comme suit :</span><span class="sxs-lookup"><span data-stu-id="d899a-153">Test the cross-domain rule as follows:</span></span>  
  
    1.  <span data-ttu-id="d899a-154">Cliquez sur l'icône **Exécuter la règle de domaine sélectionnée sur des données de test** dans l'angle supérieur droit du volet du domaine composite.</span><span class="sxs-lookup"><span data-stu-id="d899a-154">Click the **Run the selected domain rule on test data to** icon in the upper right-hand corner of the composite domain pane.</span></span>  
  
    2.  <span data-ttu-id="d899a-155">Dans la boîte de dialogue **Tester une règle de domaine** , cliquez sur l'icône **Ajoute un nouveau terme de test pour la règle de domaine** .</span><span class="sxs-lookup"><span data-stu-id="d899a-155">In the **Test Domain Rule** dialog box, click the **Adds a New Testing Term for the Domain Rule** icon.</span></span>  
  
    3.  <span data-ttu-id="d899a-156">Entrez les valeurs de test pour le domaine unique associé à la clause If et le domaine unique associé à la clause Then.</span><span class="sxs-lookup"><span data-stu-id="d899a-156">Enter test values for the single domain associated with the If clause and the single domain associated with the Then clause.</span></span> <span data-ttu-id="d899a-157">Les valeurs de test écrites dans la clause If doivent répondre aux conditions de cette clause, ou un point d'interrogation sera saisi dans la colonne **Validité** indiquant que la règle inter-domaines ne s'applique pas aux données de test.</span><span class="sxs-lookup"><span data-stu-id="d899a-157">The test values entered in the If clause must meet the conditions for that clause, or a question mark will be entered in the **Validity** column indicating that the cross-domain rule does not apply to the test data.</span></span>  
  
    4.  <span data-ttu-id="d899a-158">Cliquez à nouveau sur l'icône **Ajoute un nouveau terme de test pour la règle de domaine** pour ajouter un autre ensemble de valeurs de test.</span><span class="sxs-lookup"><span data-stu-id="d899a-158">Click the **Adds a new testing term for the domain rule** icon again to add another set of test values.</span></span>  
  
    5.  <span data-ttu-id="d899a-159">Cliquez sur l’icône **tester la règle de domaine sur tous les termes** .</span><span class="sxs-lookup"><span data-stu-id="d899a-159">Click the **Test the Domain Rule on All the Terms** icon.</span></span> <span data-ttu-id="d899a-160">Si un jeu de valeurs de test est valide, DQS écrit un contrôle dans la colonne **Validité** de la ligne.</span><span class="sxs-lookup"><span data-stu-id="d899a-160">If a set of test values is valid, DQS will enter a check in the **Validity** column for the row.</span></span> <span data-ttu-id="d899a-161">Si l'ensemble de valeurs de test n'est pas valide, DQS écrit un triangle avec un point d'exclamation dans la colonne Validité de la ligne.</span><span class="sxs-lookup"><span data-stu-id="d899a-161">If the set of test values is not valid, DQS will enter a triangle with an exclamation point in the Validity column for the row.</span></span>  
  
    6.  <span data-ttu-id="d899a-162">Une fois le test terminé, cliquez sur **Fermer** dans la boîte de dialogue **Tester la règle de domaine composite** .</span><span class="sxs-lookup"><span data-stu-id="d899a-162">After your testing is complete, click **Close** in the **Test Composite Domain Rule** dialog box.</span></span>  
  
2.  <span data-ttu-id="d899a-163">Lorsque vous avez terminé vos règles inter-domaines, cliquez sur **Terminer** pour terminer l'activité de gestion de domaine, comme décrit dans [End the Domain Management Activity](../../2014/data-quality-services/end-the-domain-management-activity.md).</span><span class="sxs-lookup"><span data-stu-id="d899a-163">When you have completed your cross-domain rules, click **Finish** to complete the domain management activity, as described in [End the Domain Management Activity](../../2014/data-quality-services/end-the-domain-management-activity.md).</span></span>  
  
##  <a name="follow-up-after-creating-a-cross-domain-rule"></a><a name="FollowUp"></a> <span data-ttu-id="d899a-164">Suivi : Après la création d'une règle interdomaines</span><span class="sxs-lookup"><span data-stu-id="d899a-164">Follow Up: After Creating a Cross-Domain Rule</span></span>  
 <span data-ttu-id="d899a-165">Après avoir créé une règle inter-domaines, vous pouvez effectuer d'autres tâches de gestion de domaine sur le domaine, vous pouvez exécuter la découverte de connaissances pour ajouter des connaissances au domaine ou vous pouvez ajouter une stratégie correspondante au domaine.</span><span class="sxs-lookup"><span data-stu-id="d899a-165">After you create a cross-down rule, you can perform other domain management tasks on the domain, you can perform knowledge discovery to add knowledge to the domain, or you can add a matching policy to the domain.</span></span> <span data-ttu-id="d899a-166">Pour plus d’informations, consultez [Effectuer une découverte des connaissances](../../2014/data-quality-services/perform-knowledge-discovery.md), [Gestion d’un domaine](../../2014/data-quality-services/managing-a-domain.md) ou [Créer une stratégie de correspondance](../../2014/data-quality-services/create-a-matching-policy.md).</span><span class="sxs-lookup"><span data-stu-id="d899a-166">For more information, see [Perform Knowledge Discovery](../../2014/data-quality-services/perform-knowledge-discovery.md), [Managing a Domain](../../2014/data-quality-services/managing-a-domain.md), or [Create a Matching Policy](../../2014/data-quality-services/create-a-matching-policy.md).</span></span>  
  
  
