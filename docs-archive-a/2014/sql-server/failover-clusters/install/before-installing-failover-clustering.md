---
title: Avant l’installation du clustering de basculement | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
helpviewer_keywords:
- clusters [SQL Server], preinstallation checklist
- installing failover clusters
- failover clustering [SQL Server], preinstallation checklist
ms.assetid: a655225d-8c54-4b30-95fd-31f588167899
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 0ec04b567b7970b25aebeffaefc7bafaf1d56691
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87605047"
---
# <a name="before-installing-failover-clustering"></a><span data-ttu-id="6fb38-102">Avant l'installation du clustering de basculement</span><span class="sxs-lookup"><span data-stu-id="6fb38-102">Before Installing Failover Clustering</span></span>
  <span data-ttu-id="6fb38-103">Avant d'installer un cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], vous devez sélectionner le matériel et le système d'exploitation que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] utilisera.</span><span class="sxs-lookup"><span data-stu-id="6fb38-103">Before you install a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, you must select the hardware and the operating system on which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will run.</span></span> <span data-ttu-id="6fb38-104">Vous devez aussi configurer le clustering de basculement Windows Server (WSFC) et examiner le réseau, la sécurité ainsi que les points importants à prendre en compte pour les autres logiciels qui seront exécutés sur votre cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-104">You must also configure Windows Server Failover Clustering (WSFC), and review network, security, and considerations for other software that will run on your failover cluster.</span></span>  
  
 <span data-ttu-id="6fb38-105">Si un cluster Windows dispose d'un lecteur de disque local et que la même lettre de lecteur est aussi utilisée sur un ou plusieurs nœuds de cluster en tant que lecteur partagé, vous ne pouvez pas installer [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sur ce lecteur.</span><span class="sxs-lookup"><span data-stu-id="6fb38-105">If a Windows cluster has a local disk drive and the same drive letter is also used on one or more cluster nodes as a shared drive, you cannot install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on that drive.</span></span>  
  
 <span data-ttu-id="6fb38-106">Vous pouvez également examiner les rubriques suivantes pour en savoir plus sur les concepts, les fonctionnalités et les tâches de clustering de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-106">You may also want to review the following topics to learn more about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering concepts, features and tasks.</span></span>  
  
|<span data-ttu-id="6fb38-107">Description des rubriques</span><span class="sxs-lookup"><span data-stu-id="6fb38-107">Topic Description</span></span>|<span data-ttu-id="6fb38-108">Rubrique</span><span class="sxs-lookup"><span data-stu-id="6fb38-108">Topic</span></span>|  
|-----------------------|-----------|  
|<span data-ttu-id="6fb38-109">Décrit les concepts de clustering de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et fournit des liens vers les contenus et tâches associés.</span><span class="sxs-lookup"><span data-stu-id="6fb38-109">Describes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering concepts, and provides links to associated content and tasks.</span></span>|[<span data-ttu-id="6fb38-110">Instances de cluster de basculement AlwaysOn (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="6fb38-110">AlwaysOn Failover Cluster Instances (SQL Server)</span></span>](../windows/always-on-failover-cluster-instances-sql-server.md)|  
|<span data-ttu-id="6fb38-111">Décrit les concepts de stratégie de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et fournit des liens pour la configuration de la stratégie de basculement selon les besoins de votre organisation.</span><span class="sxs-lookup"><span data-stu-id="6fb38-111">Describes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover policy concepts, and provides links to configuring the failover policy to suit your organizational requirements.</span></span>|[<span data-ttu-id="6fb38-112">Failover Policy for Failover Cluster Instances</span><span class="sxs-lookup"><span data-stu-id="6fb38-112">Failover Policy for Failover Cluster Instances</span></span>](../windows/failover-policy-for-failover-cluster-instances.md)|  
|<span data-ttu-id="6fb38-113">Décrit comment gérer votre cluster de basculement existant [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-113">Describes how to maintain and your existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>|[<span data-ttu-id="6fb38-114">Administration et maintenance de l'instance de cluster de basculement</span><span class="sxs-lookup"><span data-stu-id="6fb38-114">Failover Cluster Instance Administration and Maintenance</span></span>](../windows/failover-cluster-instance-administration-and-maintenance.md)|  
|<span data-ttu-id="6fb38-115">Explique comment installer [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] sur un cluster de basculement Windows Server (WSFC).</span><span class="sxs-lookup"><span data-stu-id="6fb38-115">Explains how to install [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] on a Windows Server Failover Cluster (WSFC).</span></span>|[<span data-ttu-id="6fb38-116">Procédure : mettre en cluster SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="6fb38-116">How to Cluster SQL Server Analysis Services</span></span>](https://go.microsoft.com/fwlink/p/?LinkId=396548)|  
  
  
  
##  <a name="best-practices"></a><a name="BestPractices"></a> <span data-ttu-id="6fb38-117">Bonnes pratiques</span><span class="sxs-lookup"><span data-stu-id="6fb38-117">Best Practices</span></span>  
  
-   <span data-ttu-id="6fb38-118">Passez en revue les [Notes de publication](https://go.microsoft.com/fwlink/?LinkId=296445) de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6fb38-118">Review [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][Release Notes](https://go.microsoft.com/fwlink/?LinkId=296445)</span></span>  
  
-   <span data-ttu-id="6fb38-119">Installez les logiciels requis.</span><span class="sxs-lookup"><span data-stu-id="6fb38-119">Install prerequisite software.</span></span> <span data-ttu-id="6fb38-120">Avant d'exécuter l'installation ou la mise à niveau vers [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)], installez les composants requis suivants pour réduire la durée d'installation.</span><span class="sxs-lookup"><span data-stu-id="6fb38-120">Before running Setup to install or upgrade to [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)], install the following prerequisites to reduce installation time.</span></span> <span data-ttu-id="6fb38-121">Vous pouvez installer les logiciels requis sur chaque nœud de cluster de basculement, puis redémarrer les nœuds une fois avant d'exécuter le programme d'installation.</span><span class="sxs-lookup"><span data-stu-id="6fb38-121">You can install prerequisite software on each failover cluster node and then restart nodes once before running Setup.</span></span>  
  
    -   <span data-ttu-id="6fb38-122">Windows PowerShell n'est plus installé par le programme d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-122">Windows PowerShell is no longer installed by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span> <span data-ttu-id="6fb38-123">Windows PowerShell 2.0 est un composant requis pour l'installation des composants du [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssDE](../../../includes/ssde-md.md)] et de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6fb38-123">Windows PowerShell 2.0 is a prerequisite for installing [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssDE](../../../includes/ssde-md.md)] components and [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="6fb38-124">Si Windows PowerShell 2.0 n’est pas présent sur votre ordinateur, vous pouvez l’activer en suivant les instructions de la page [Windows Management Framework](https://go.microsoft.com/fwlink/?LinkId=186214).</span><span class="sxs-lookup"><span data-stu-id="6fb38-124">If Windows PowerShell 2.0 is not present on your computer, you can enable it by following the instructions on the [Windows Management Framework](https://go.microsoft.com/fwlink/?LinkId=186214) page.</span></span>  
  
    -   <span data-ttu-id="6fb38-125">Le .NET Framework 3.5 SP1 n'est plus installé par le programme d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], mais il peut être requis lors de l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sur des systèmes d'exploitation Windows plus anciens.</span><span class="sxs-lookup"><span data-stu-id="6fb38-125">.NET Framework 3.5 SP1 is no longer installed by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but may be required while installing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on older Windows operating systems.</span></span> <span data-ttu-id="6fb38-126">Pour plus d’informations, consultez les [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] [notes de publication](https://go.microsoft.com/fwlink/?LinkId=296445).</span><span class="sxs-lookup"><span data-stu-id="6fb38-126">For more information, see [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][Release Notes](https://go.microsoft.com/fwlink/?LinkId=296445).</span></span>  
  
    -   <span data-ttu-id="6fb38-127">\*\* [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Package de mise à jour :\*\* pour éviter le redémarrage de l’ordinateur en raison de l’installation de .NET Framework 4 pendant l’installation, le [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] programme d’installation requiert l’installation d’une [!INCLUDE[msCoName](../../../includes/msconame-md.md)] mise à jour sur l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="6fb38-127">**[!INCLUDE[msCoName](../../../includes/msconame-md.md)] Update package:** To avoid computer restart due to .NET Framework 4 installation during setup, [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] setup requires a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] update to be installed on the computer.</span></span>  <span data-ttu-id="6fb38-128">Si vous installez [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] sur Windows 7 SP1 ou [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] SP2, cette mise à jour est incluse.</span><span class="sxs-lookup"><span data-stu-id="6fb38-128">If you are installing [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] on Windows 7 SP1 or [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] SP2 this update is included.</span></span> <span data-ttu-id="6fb38-129">Si vous installez sur un système d'exploitation Windows plus ancien, vous pouvez la télécharger à partir de la [Mise à niveau Microsoft pour le .NET Framework 4.0 sur Windows Vista et Windows Server 2008](https://go.microsoft.com/fwlink/?LinkId=198093).</span><span class="sxs-lookup"><span data-stu-id="6fb38-129">If you are installing on an older Windows operating system, download it from [Microsoft Update for .NET Framework 4.0 on Windows Vista and Windows Server 2008](https://go.microsoft.com/fwlink/?LinkId=198093).</span></span>  
  
    -   <span data-ttu-id="6fb38-130">Le programme d'installation de .NET Framework 4.0 installe le .NET Framework 4 sur un système d'exploitation en cluster.</span><span class="sxs-lookup"><span data-stu-id="6fb38-130">.NET Framework 4: Setup installs .NET Framework 4 on a clustered operating system.</span></span> <span data-ttu-id="6fb38-131">Pour réduire le temps d'installation, vous pouvez envisager d'installer le .NET Framework 4 avant d'exécuter le programme d'installation.</span><span class="sxs-lookup"><span data-stu-id="6fb38-131">To reduce installation time, you may consider installing .NET Framework 4 before you run Setup.</span></span>  
  
    -   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-132">.</span><span class="sxs-lookup"><span data-stu-id="6fb38-132">Setup support files.</span></span> <span data-ttu-id="6fb38-133">Vous pouvez installer ces fichiers en exécutant SqlSupport.msi qui se trouve sur le support d'installation de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-133">You can install these files by running SqlSupport.msi located on your [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] installation media.</span></span>  
  
-   <span data-ttu-id="6fb38-134">Vérifiez qu'aucun logiciel antivirus n'est installé sur votre cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="6fb38-134">Verify that antivirus software is not installed on your WSFC cluster.</span></span> <span data-ttu-id="6fb38-135">Pour plus d’informations, consultez l’article [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Le logiciel antivirus peut être à l’origine de problèmes avec les services de cluster [de la Base de connaissances](https://go.microsoft.com/fwlink/?LinkId=116986).</span><span class="sxs-lookup"><span data-stu-id="6fb38-135">For more information, see the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Knowledge Base article, [Antivirus software may cause problems with cluster services](https://go.microsoft.com/fwlink/?LinkId=116986).</span></span>  
  
-   <span data-ttu-id="6fb38-136">Lorsque vous nommez un groupe de clusters pour votre installation de clusters de basculement, vous ne devez pas utiliser les caractères suivants dans le nom du groupe de clusters :</span><span class="sxs-lookup"><span data-stu-id="6fb38-136">When naming a cluster group for your failover cluster installation, you must not use any of the following characters in the cluster group name:</span></span>  
  
    -   <span data-ttu-id="6fb38-137">Opérateur Inférieur à (\<)</span><span class="sxs-lookup"><span data-stu-id="6fb38-137">Less than operator (\<)</span></span>  
  
    -   <span data-ttu-id="6fb38-138">Opérateur Supérieur à (>)</span><span class="sxs-lookup"><span data-stu-id="6fb38-138">Greater than operator (>)</span></span>  
  
    -   <span data-ttu-id="6fb38-139">Guillemet (")</span><span class="sxs-lookup"><span data-stu-id="6fb38-139">Double quote (")</span></span>  
  
    -   <span data-ttu-id="6fb38-140">Apostrophe (')</span><span class="sxs-lookup"><span data-stu-id="6fb38-140">Single quote (')</span></span>  
  
    -   <span data-ttu-id="6fb38-141">Esperluette (&)</span><span class="sxs-lookup"><span data-stu-id="6fb38-141">Ampersand (&)</span></span>  
  
     <span data-ttu-id="6fb38-142">Vérifiez également que les noms de groupes de clusters existants ne contiennent pas de caractères non pris en charge.</span><span class="sxs-lookup"><span data-stu-id="6fb38-142">Also verify that existing cluster group names do not contain unsupported characters.</span></span>  
  
-   <span data-ttu-id="6fb38-143">Vérifiez que tous les nœuds du cluster sont configurés de la même manière, y compris COM+, les lettres de lecteur de disque et les utilisateurs dans le groupe Administrateurs.</span><span class="sxs-lookup"><span data-stu-id="6fb38-143">Ensure that all cluster nodes are configured identically, including COM+, disk drive letters, and users in the administrators group.</span></span>  
  
-   <span data-ttu-id="6fb38-144">Vérifiez que vous avez effacé les journaux système dans tous les nœuds, puis affiché de nouveau les journaux système.</span><span class="sxs-lookup"><span data-stu-id="6fb38-144">Verify that you have cleared the system logs in all nodes and viewed the system logs again.</span></span> <span data-ttu-id="6fb38-145">Vérifiez que les journaux ne contiennent aucun message d'erreur avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="6fb38-145">Ensure that the logs are free of any error messages before continuing.</span></span>  
  
-   <span data-ttu-id="6fb38-146">Avant d'installer ou de mettre à jour un cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , désactivez l'ensemble des applications et des services susceptibles d'utiliser les composants [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] au cours de l'installation, mais maintenez en ligne les ressources de disque.</span><span class="sxs-lookup"><span data-stu-id="6fb38-146">Before you install or update a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, disable all applications and services that might use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] components during installation, but leave the disk resources online.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-147">définit automatiquement les dépendances entre le groupe de clusters [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et les disques qui figurent dans le cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-147">Setup automatically sets dependencies between the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cluster group and the disks that will be in the failover cluster.</span></span> <span data-ttu-id="6fb38-148">Ne définissez pas de dépendances pour les disques avant l'installation.</span><span class="sxs-lookup"><span data-stu-id="6fb38-148">Do not set dependencies for disks before Setup.</span></span>  
  
    -   <span data-ttu-id="6fb38-149">Pendant l'installation du cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , un objet ordinateur (compte d'ordinateur Active Directory) pour la ressource de nom réseau [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est créé.</span><span class="sxs-lookup"><span data-stu-id="6fb38-149">During [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster installation, computer object (Active Directory computer accounts) for the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Network Resource Name is created.</span></span> <span data-ttu-id="6fb38-150">Dans un cluster [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] , le nom de compte du cluster (compte d'ordinateur du cluster lui-même) doit disposer d'autorisations pour créer des objets ordinateur.</span><span class="sxs-lookup"><span data-stu-id="6fb38-150">In a [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] cluster, the cluster name account (computer account of the cluster itself) needs to have permissions to create computer objects.</span></span> <span data-ttu-id="6fb38-151">Pour plus d'informations, consultez [Configuration de comptes dans Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="6fb38-151">For more information, see [Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx).</span></span>  
  
    -   <span data-ttu-id="6fb38-152">Si vous utilisez le partage de fichiers SMB comme option de stockage, le compte d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] doit avoir les privilèges SeSecurityPrivilege sur le serveur de fichiers.</span><span class="sxs-lookup"><span data-stu-id="6fb38-152">If you are using SMB File share as a storage option, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup account must have SeSecurityPrivilege on the file server.</span></span> <span data-ttu-id="6fb38-153">Pour ce faire, dans la console de stratégie de sécurité locale du serveur de fichiers, ajoutez le compte utilisé pour l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] aux droits **Gérer le journal d'audit et de la sécurité** .</span><span class="sxs-lookup"><span data-stu-id="6fb38-153">To do this, using the Local Security Policy console on the file server, add the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] setup account to **Manage auditing and security log** rights.</span></span>  
  
 
  
##  <a name="verify-your-hardware-solution"></a><a name="Hardware"></a> <span data-ttu-id="6fb38-154">Vérifiez votre solution matérielle</span><span class="sxs-lookup"><span data-stu-id="6fb38-154">Verify Your Hardware Solution</span></span>  
  
-   <span data-ttu-id="6fb38-155">Si la solution de cluster inclut des nœuds de cluster dispersés géographiquement, il est important de vérifier d'autres éléments, tels que la prise en charge de disques partagés et le temps de réponse du réseau.</span><span class="sxs-lookup"><span data-stu-id="6fb38-155">If the cluster solution includes geographically dispersed cluster nodes, additional items like network latency and shared disk support must be verified.</span></span>  
  
    -   <span data-ttu-id="6fb38-156">Pour plus d'informations sur [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] et [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], consultez [Validation matérielle d’un cluster de basculement](https://go.microsoft.com/fwlink/?LinkId=196817) et [Politique de prise en charge pour les clusters de basculement Windows](https://go.microsoft.com/fwlink/?LinkId=196818).</span><span class="sxs-lookup"><span data-stu-id="6fb38-156">For more information about [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] and [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], see [Validating Hardware for a failover cluster](https://go.microsoft.com/fwlink/?LinkId=196817) and [Support Policy for Windows Failover Clusters](https://go.microsoft.com/fwlink/?LinkId=196818).</span></span>  
  
-   <span data-ttu-id="6fb38-157">Vérifiez que le disque sur lequel [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] doit être installé n'est pas compressé ni chiffré.</span><span class="sxs-lookup"><span data-stu-id="6fb38-157">Verify that the disk where [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will be installed is not compressed or encrypted.</span></span> <span data-ttu-id="6fb38-158">Si vous tentez d'installer [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sur un lecteur compressé ou chiffré, l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] échoue.</span><span class="sxs-lookup"><span data-stu-id="6fb38-158">If you attempt to install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to a compressed drive or an encrypted drive, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup fails.</span></span>  
  
-   <span data-ttu-id="6fb38-159">Les configurations SAN sont également prises en charge sous [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] et les éditions Advanced Server et Datacenter Server de [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-159">SAN configurations are also supported on [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] and [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] Advanced Server and Datacenter Server editions.</span></span> <span data-ttu-id="6fb38-160">La catégorie « Périphérique cluster/multi-cluster » du Catalogue Windows et de la liste des matériels compatibles avec Windows répertorie les unités de stockage compatibles SAN qui ont été testées et qui sont prises en charge en tant qu'unités de stockage SAN avec plusieurs clusters WSFC associés.</span><span class="sxs-lookup"><span data-stu-id="6fb38-160">The Windows Catalog and Hardware Compatibility List category "Cluster/Multi-cluster Device" lists the set of SAN-capable storage devices that have been tested and are supported as SAN storage units with multiple WSFC clusters attached.</span></span> <span data-ttu-id="6fb38-161">Exécutez la validation de cluster après avoir trouvé les composants certifiés.</span><span class="sxs-lookup"><span data-stu-id="6fb38-161">Run cluster validation after finding the certified components.</span></span>  
  
-   <span data-ttu-id="6fb38-162">Le partage de fichiers SMB est également pris en charge pour l'installation des fichiers de données.</span><span class="sxs-lookup"><span data-stu-id="6fb38-162">SMB File Share is also supported for installing data files.</span></span> <span data-ttu-id="6fb38-163">Pour plus d'informations, consultez [Storage Types for Data Files](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes).</span><span class="sxs-lookup"><span data-stu-id="6fb38-163">For more information, see [Storage Types for Data Files](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes).</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="6fb38-164">Si vous utilisez un serveur de fichiers Windows comme stockage de partage de fichiers SMB, le compte d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] doit avoir les privilèges SeSecurityPrivilege sur le serveur de fichiers.</span><span class="sxs-lookup"><span data-stu-id="6fb38-164">If you are using Windows File Server as a SMB File Share storage, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup account must have SeSecurityPrivilege on the file server.</span></span> <span data-ttu-id="6fb38-165">Pour ce faire, dans la console de stratégie de sécurité locale du serveur de fichiers, ajoutez le compte utilisé pour l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] aux droits **Gérer le journal d'audit et de la sécurité** .</span><span class="sxs-lookup"><span data-stu-id="6fb38-165">To do this, using the Local Security Policy console on the file server, add the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] setup account to **Manage auditing and security log** rights.</span></span>  
    >   
    >  <span data-ttu-id="6fb38-166">Si vous utilisez un stockage de partage de fichiers SMB autre que le serveur de fichiers Windows, consultez le fournisseur de stockage pour une installation équivalente du côté du serveur de fichiers.</span><span class="sxs-lookup"><span data-stu-id="6fb38-166">If you are using SMB file share storage other than Windows File server, please consult the storage vendor for an equivalent setting on the file server side.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-167">prend en charge des points de montage.</span><span class="sxs-lookup"><span data-stu-id="6fb38-167">supports mount points.</span></span>  
  
     <span data-ttu-id="6fb38-168">Un volume monté, ou point de montage, vous permet d'utiliser une seule lettre de lecteur pour faire référence à de nombreux disques ou volumes.</span><span class="sxs-lookup"><span data-stu-id="6fb38-168">A mounted volume, or mount point, allows you to use a single drive letter to refer to many disks or volumes.</span></span> <span data-ttu-id="6fb38-169">Si vous disposez d'une lettre de lecteur D: qui fait référence à un disque ou volume traditionnel, vous pouvez connecter ou « monter » d'autres disques ou volumes comme répertoires sous la lettre de lecteur D: sans que les disques ou volumes supplémentaires ne nécessitent des lettres de lecteurs qui leur sont propres.</span><span class="sxs-lookup"><span data-stu-id="6fb38-169">If you have a drive letter D: that refers to a regular disk or volume, you can connect or "mount" additional disks or volumes as directories under drive letter D: without the additional disks or volumes requiring drive letters of their own.</span></span>  
  
     <span data-ttu-id="6fb38-170">Remarques supplémentaires relatives aux points de montage pour le clustering de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="6fb38-170">Additional mount point considerations for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering:</span></span>  
  
    -   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-171">, le lecteur de base d'un lecteur monté doit posséder une lettre de lecteur associée.</span><span class="sxs-lookup"><span data-stu-id="6fb38-171">Setup requires that the base drive of a mounted drive has an associated drive letter.</span></span> <span data-ttu-id="6fb38-172">Pour les installations de clusters de basculement, ce lecteur de base doit être un lecteur en cluster.</span><span class="sxs-lookup"><span data-stu-id="6fb38-172">For failover cluster installations, this base drive must be a clustered drive.</span></span> <span data-ttu-id="6fb38-173">Les GUID du volume ne sont pas pris en charge dans cette version.</span><span class="sxs-lookup"><span data-stu-id="6fb38-173">Volume GUIDs are not supported in this release.</span></span>  
  
    -   <span data-ttu-id="6fb38-174">Le lecteur de base (celui doté de la lettre de lecteur) ne peut pas être partagé entre des instances de clusters de basculement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-174">The base drive, the one with the drive letter, cannot be shared among failover cluster instances.</span></span> <span data-ttu-id="6fb38-175">Cette restriction est normale pour les clusters de basculement, mais elle ne s'applique pas aux serveurs autonomes à plusieurs instances.</span><span class="sxs-lookup"><span data-stu-id="6fb38-175">This is a normal restriction for failover clusters, but is not a restriction on stand-alone, multi-instance servers.</span></span>  
  
    -   <span data-ttu-id="6fb38-176">Les installations en cluster de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sont limitées au nombre de lettres de lecteurs disponibles.</span><span class="sxs-lookup"><span data-stu-id="6fb38-176">The clustered installations of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] are limited to the number of available drive letters.</span></span> <span data-ttu-id="6fb38-177">Si l'on part du principe que vous utilisez une seule lettre de lecteur pour le système d'exploitation et que toutes les autres lettres de lecteurs peuvent être utilisées comme lecteurs en cluster standard ou lecteurs en cluster hébergeant des points de montage, vous êtes limité à un maximum de 25 instances de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] par cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-177">Assuming that you use only one drive letter for the operating system, and all other drive letters are available as normal cluster drives or cluster drives hosting mount points, you are limited to a maximum of 25 instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] per failover cluster.</span></span>  
  
        > [!TIP]  
        >  <span data-ttu-id="6fb38-178">La limite de 25 instances peut être évitée à l'aide de l'option de partage de fichiers SMB.</span><span class="sxs-lookup"><span data-stu-id="6fb38-178">The 25 instance limit can be overcome by using SMB file share option.</span></span> <span data-ttu-id="6fb38-179">Si vous utilisez le partage de fichiers SMB comme option de stockage, vous pouvez installer jusqu'à 50 instances de cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-179">If you use SMB file share as the storage option, you can install up to 50 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instances.</span></span>  
  
    -   <span data-ttu-id="6fb38-180">Le formatage d'un lecteur après montage de lecteurs supplémentaires n'est pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="6fb38-180">Formatting a drive after mounting additional drives is not supported.</span></span>  
  
-   <span data-ttu-id="6fb38-181">L'installation du cluster de basculement[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] prend en charge uniquement le disque local pour l'installation des fichiers tempdb.</span><span class="sxs-lookup"><span data-stu-id="6fb38-181">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster installation supports Local Disk only for installing the tempdb files.</span></span> <span data-ttu-id="6fb38-182">Assurez-vous que le chemin d'accès spécifié pour les données tempdb et les fichiers journaux sont valides sur tous les nœuds du cluster.</span><span class="sxs-lookup"><span data-stu-id="6fb38-182">Ensure that the path specified for the tempdb data and log files is valid on all the cluster nodes.</span></span> <span data-ttu-id="6fb38-183">Pendant le basculement, si les répertoires tempdb ne sont pas disponibles sur le nœud de basculement cible, la ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ne sera pas en ligne.</span><span class="sxs-lookup"><span data-stu-id="6fb38-183">During failover, if the tempdb directories are not available on the failover target node, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource will fail to come online.</span></span> <span data-ttu-id="6fb38-184">Pour plus d’informations, consultez [Types de stockage pour les fichiers de données](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes) et [Configuration du moteur de base de données – Répertoires de données](../../install/database-engine-configuration-data-directories.md).</span><span class="sxs-lookup"><span data-stu-id="6fb38-184">For more information, see [Storage Types for Data Files](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes) and [Database Engine Configuration - Data Directories](../../install/database-engine-configuration-data-directories.md).</span></span>  
  
-   <span data-ttu-id="6fb38-185">Si vous déployez un cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sur des composants de la technologie iSCSI, nous vous recommandons de prendre les précautions qui s'imposent.</span><span class="sxs-lookup"><span data-stu-id="6fb38-185">If you deploy a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster on iSCSI technology components, we recommend that you use appropriate caution.</span></span> <span data-ttu-id="6fb38-186">Pour plus d'informations, consultez [Prise en charge de SQL Server sur des composants de la technologie iSCSI](https://go.microsoft.com/fwlink/?LinkId=116960).</span><span class="sxs-lookup"><span data-stu-id="6fb38-186">For more information, see [Support for SQL Server on iSCSI technology components](https://go.microsoft.com/fwlink/?LinkId=116960).</span></span>  
  
-   <span data-ttu-id="6fb38-187">Pour plus d'informations, consultez [Politique de prise en charge SQL Server pour le clustering Microsoft](https://go.microsoft.com/fwlink/?LinkId=116958).</span><span class="sxs-lookup"><span data-stu-id="6fb38-187">For more information, see [SQL Server support policy for Microsoft Clustering](https://go.microsoft.com/fwlink/?LinkId=116958).</span></span>  
  
-   <span data-ttu-id="6fb38-188">Pour plus d'informations sur la configuration appropriée d'un lecteur quorum, consultez [Informations concernant la configuration d'un lecteur quorum](https://go.microsoft.com/fwlink/?LinkId=196816).</span><span class="sxs-lookup"><span data-stu-id="6fb38-188">For more information about proper quorum drive configuration, see [Quorum Drive Configuration Information](https://go.microsoft.com/fwlink/?LinkId=196816).</span></span>  
  
-   <span data-ttu-id="6fb38-189">Pour installer un cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] lorsque les fichiers d'installation [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sources et le cluster se trouvent dans des domaines différents, copiez les fichiers d'installation sur le domaine actuellement disponible sur le cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-189">To install a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster when the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] source installation files and the cluster exist on different domains, copy the installation files to the current domain available to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>  
  
  
  
##  <a name="review-security-considerations"></a><a name="Security"></a> <span data-ttu-id="6fb38-190">Passez en revue les considérations sur la sécurité</span><span class="sxs-lookup"><span data-stu-id="6fb38-190">Review Security Considerations</span></span>  
  
-   <span data-ttu-id="6fb38-191">Pour utiliser le chiffrement, installez le certificat du serveur avec le nom DNS complet du cluster WSFC sur tous les nœuds du cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-191">To use encryption, install the server certificate with the fully qualified DNS name of the WSFC cluster on all nodes in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span> <span data-ttu-id="6fb38-192">Par exemple, si vous disposez d'un cluster à deux nœuds appelés « Test1.NomDomaine.com » et « Test2.NomDomaine.com » et d'une instance de cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] appelée « Virtsql », vous devez vous procurer un certificat pour « Virtsql.NomDomaine.com » et installer le certificat sur les nœuds test1 et test2.</span><span class="sxs-lookup"><span data-stu-id="6fb38-192">For example, if you have a two-node cluster, with nodes named "Test1.DomainName.com" and "Test2.DomainName.com" and a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance named "Virtsql", you must get a certificate for "Virtsql.DomainName.com" and install the certificate on the test1 and test2 nodes.</span></span> <span data-ttu-id="6fb38-193">Vous pouvez ensuite activer la case à cocher **Forcer le chiffrement du protocole** dans le Gestionnaire de configuration [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pour configurer votre cluster de basculement à des fins de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-193">Then you can select the **Force protocol encryption** check box on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager to configure your failover cluster for encryption.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="6fb38-194"> N'activez pas la case à cocher **Forcer le chiffrement du protocole** tant que les certificats n'ont pas été installés sur tous les nœuds participants de votre instance de cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-194">Do not select the **Force protocol encryption** check box until you have certificates installed on all participating nodes in your failover cluster instance.</span></span>  
  
-   <span data-ttu-id="6fb38-195">Pour les installations [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dans des configurations côte à côte avec des versions antérieures, les services [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] doivent utiliser des comptes figurant uniquement dans le groupe global des domaines.</span><span class="sxs-lookup"><span data-stu-id="6fb38-195">For [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installations in side-by-side configurations with previous versions, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] services must use accounts found only in the global domains group.</span></span> <span data-ttu-id="6fb38-196">En outre, les comptes utilisés par les services [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ne doivent pas figurer dans le groupe local Administrateurs.</span><span class="sxs-lookup"><span data-stu-id="6fb38-196">Additionally, accounts used by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] services must not appear in the local Administrators group.</span></span> <span data-ttu-id="6fb38-197">Ne pas se conformer à cette consigne entraînera un comportement de sécurité inattendu.</span><span class="sxs-lookup"><span data-stu-id="6fb38-197">Failure to comply with this guideline will result in unexpected security behavior.</span></span>  
  
-   <span data-ttu-id="6fb38-198">Pour créer un cluster de basculement, vous devez être un administrateur local autorisé à se connecter en tant que service et à agir dans le cadre du système d'exploitation sur tous les nœuds de l'instance de cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-198">To create a failover cluster, you must be a local administrator with permissions to log on as a service, and to act as part of the operating system on all nodes of the failover cluster instance.</span></span>  
  
-   <span data-ttu-id="6fb38-199">Sur [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)], les SID de service sont générés automatiquement pour une utilisation avec les services [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-199">On [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)], service SIDs are generated automatically for use with [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] services.</span></span> <span data-ttu-id="6fb38-200">Pour les instances de cluster de basculement [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] mises à niveau à partir d'anciennes versions de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], les groupes de domaines et configurations des listes de contrôle d'accès existants seront conservés.</span><span class="sxs-lookup"><span data-stu-id="6fb38-200">For [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] failover cluster instances upgraded from previous versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], existing domain groups and ACL configurations will be preserved.</span></span>  
  
-   <span data-ttu-id="6fb38-201">Les groupes de domaines doivent se trouver dans le même domaine que les comptes d'ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="6fb38-201">Domain groups must be within the same domain as the machine accounts.</span></span> <span data-ttu-id="6fb38-202">Si, par exemple, l'ordinateur sur lequel [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sera installé se trouve dans le domaine SQLSVR, enfant de MYDOMAIN, vous devez spécifier un groupe dans le domaine SQLSVR.</span><span class="sxs-lookup"><span data-stu-id="6fb38-202">For example, if the machine where [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will be installed is in the SQLSVR domain which is a child of MYDOMAIN, you must specify a group in the SQLSVR domain.</span></span> <span data-ttu-id="6fb38-203">Le domaine SQLSVR peut contenir des comptes d'utilisateurs de MYDOMAIN.</span><span class="sxs-lookup"><span data-stu-id="6fb38-203">The SQLSVR domain may contain user accounts from MYDOMAIN.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-204">ne peut pas être installé lorsque les nœuds du cluster sont des contrôleurs de domaine.</span><span class="sxs-lookup"><span data-stu-id="6fb38-204">failover clustering cannot be installed where cluster nodes are domain controllers.</span></span>  
  
-   <span data-ttu-id="6fb38-205">Consultez le contenu de [Security Considerations for a SQL Server Installation](../../install/security-considerations-for-a-sql-server-installation.md).</span><span class="sxs-lookup"><span data-stu-id="6fb38-205">Review content in [Security Considerations for a SQL Server Installation](../../install/security-considerations-for-a-sql-server-installation.md).</span></span>  
  
-   <span data-ttu-id="6fb38-206">Pour activer l'authentification Kerberos avec [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], consultez l'article [Utiliser l'authentification Kerberos dans SQL Server](https://support.microsoft.com/kb/319723) de la Base de connaissances [!INCLUDE[msCoName](../../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-206">To enable Kerberos authentication with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [How to use Kerberos authentication in SQL Server](https://support.microsoft.com/kb/319723) in the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Knowledge Base.</span></span>  
  
  
  
##  <a name="review-network-port-and-firewall-considerations"></a><a name="Network"></a> <span data-ttu-id="6fb38-207">Passez en revue les considérations relatives aux réseau, port et pare-feu</span><span class="sxs-lookup"><span data-stu-id="6fb38-207">Review Network, Port, and Firewall Considerations</span></span>  
  
-   <span data-ttu-id="6fb38-208">Vérifiez que vous avez désactivé NetBIOS pour toutes les cartes réseau privées avant d'entamer la procédure d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-208">Verify that you have disabled NetBIOS for all private network cards before beginning [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
-   <span data-ttu-id="6fb38-209">Le nom réseau et l'adresse IP de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ne doivent pas être utilisés à d'autres fins, telles que le partage de fichiers.</span><span class="sxs-lookup"><span data-stu-id="6fb38-209">The network name and IP address of your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] should not be used for any other purpose, such as file sharing.</span></span> <span data-ttu-id="6fb38-210">Si vous souhaitez créer une ressource de partage de fichier, utilisez un nom réseau et une adresse IP différents et uniques pour la ressource.</span><span class="sxs-lookup"><span data-stu-id="6fb38-210">If you want to create a file share resource, use a different, unique network name and IP address for the resource.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="6fb38-211">Nous vous déconseillons d'utiliser des partages de fichiers sur des lecteurs de données, car ils ont une incidence sur les performances et le comportement de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-211">We recommend that you do not use file shares on data drives, because they can affect [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] behavior and performance.</span></span>  
  
-   <span data-ttu-id="6fb38-212">Bien que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] prenne en charge les canaux nommés et les sockets TCP/IP sur TCP/IP au sein d'un cluster, nous vous recommandons d'utiliser des sockets TCP/IP dans une configuration en cluster.</span><span class="sxs-lookup"><span data-stu-id="6fb38-212">Even though [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] supports both Named Pipes and TCP/IP Sockets over TCP/IP within a cluster, we recommend that you use TCP/IP Sockets in a clustered configuration.</span></span>  
  
-   <span data-ttu-id="6fb38-213">Notez que le serveur ISA Server n'est pas pris en charge sur le clustering Windows ; par conséquent, il n'est pas non plus pris en charge sur les clusters de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-213">Note that ISA server is not supported on Windows Clustering and consequently is also not supported on [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clusters.</span></span>  
  
-   <span data-ttu-id="6fb38-214">Le service Registre distant doit être activé et en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="6fb38-214">The Remote Registry service must be up and running.</span></span>  
  
-   <span data-ttu-id="6fb38-215">L'administration à distance doit être activée.</span><span class="sxs-lookup"><span data-stu-id="6fb38-215">Remote Administration must be enabled.</span></span>  
  
-   <span data-ttu-id="6fb38-216">Pour le port [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , utilisez le Gestionnaire de configuration [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pour vérifier la configuration réseau [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] du protocole TCP/IP pour l'instance à débloquer.</span><span class="sxs-lookup"><span data-stu-id="6fb38-216">For the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] port, use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager to check the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] network configuration for the TCP/IP protocol for the instance you want to unblock.</span></span> <span data-ttu-id="6fb38-217">Vous devez activer le port TCP pour IPALL si vous voulez vous connecter à [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] à l'aide de TCP après l'installation.</span><span class="sxs-lookup"><span data-stu-id="6fb38-217">You must enable the TCP port for IPALL if you want to connect to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] using TCP after installation.</span></span> <span data-ttu-id="6fb38-218">SQL Browser écoute sur le port UDP 1434 par défaut.</span><span class="sxs-lookup"><span data-stu-id="6fb38-218">By default, SQL Browser listens on UDP port 1434.</span></span>  
  
-   <span data-ttu-id="6fb38-219">Les opérations d'installation du cluster de basculement incluent une règle qui vérifie l'ordre de liaison réseau.</span><span class="sxs-lookup"><span data-stu-id="6fb38-219">Failover cluster Setup operations include a rule that checks network binding order.</span></span> <span data-ttu-id="6fb38-220">Bien que les ordres de liaison semblent corrects, il se peut que vous ayez désactivé ou créé des configurations de carte réseau « fantômes » sur le système.</span><span class="sxs-lookup"><span data-stu-id="6fb38-220">Although binding orders might seem correct, you might have disabled or "ghosted" NIC configurations on the system.</span></span> <span data-ttu-id="6fb38-221">Les configurations de carte réseau « fantômes » peuvent affecter l'ordre de liaison et provoquer l'émission d'un avertissement par ce dernier.</span><span class="sxs-lookup"><span data-stu-id="6fb38-221">"Ghosted" NIC configurations can affect the binding order and cause the binding order rule to issue a warning.</span></span> <span data-ttu-id="6fb38-222">Pour éviter cela, effectuez les opérations suivantes pour identifier et supprimer les cartes réseau désactivées :</span><span class="sxs-lookup"><span data-stu-id="6fb38-222">To avoid this situation, use the following steps to identify and remove disabled network adapters:</span></span>  
  
    1.  <span data-ttu-id="6fb38-223">À une invite de commandes, entrez : set devmgr_Show_Nonpersistent_Devices=1.</span><span class="sxs-lookup"><span data-stu-id="6fb38-223">At a command prompt, type: set devmgr_Show_Nonpersistent_Devices=1.</span></span>  
  
    2.  <span data-ttu-id="6fb38-224">Tapez et exécutez : start Devmgmt.msc.</span><span class="sxs-lookup"><span data-stu-id="6fb38-224">Type and run: start Devmgmt.msc.</span></span>  
  
    3.  <span data-ttu-id="6fb38-225">Développez la liste des cartes réseau.</span><span class="sxs-lookup"><span data-stu-id="6fb38-225">Expand the list of network adapters.</span></span> <span data-ttu-id="6fb38-226">Seuls les adaptateurs physiques doivent figurer dans la liste.</span><span class="sxs-lookup"><span data-stu-id="6fb38-226">Only the physical adapters should be in the list.</span></span> <span data-ttu-id="6fb38-227">Si une carte réseau est désactivée, le programme d'installation signalera un échec pour la règle de l'ordre de liaison réseau.</span><span class="sxs-lookup"><span data-stu-id="6fb38-227">If you have a disabled network adapter, Setup will report a failure for the network binding order rule.</span></span> <span data-ttu-id="6fb38-228">Le Panneau de configuration/Connexions réseau indiquera également que l'adaptateur a été désactivé.</span><span class="sxs-lookup"><span data-stu-id="6fb38-228">Control Panel/Network Connections will also show that adapter was disabled.</span></span> <span data-ttu-id="6fb38-229">Assurez-vous que les Paramètres réseau du Panneau de configuration affichent la même liste d'adaptateurs physiques actifs que devmgmt.msc.</span><span class="sxs-lookup"><span data-stu-id="6fb38-229">Confirm that Network Settings in Control Panel shows the same list of enabled physical adapters that devmgmt.msc shows.</span></span>  
  
    4.  <span data-ttu-id="6fb38-230">Supprimez les cartes réseau désactivées avant d'exécuter l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-230">Remove disabled network adapters before you run [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
    5.  <span data-ttu-id="6fb38-231">À l'issue de l'installation, retournez dans Connexions réseau dans le Panneau de configuration et désactivez les cartes réseau qui ne sont pas actuellement utilisées.</span><span class="sxs-lookup"><span data-stu-id="6fb38-231">After Setup finishes, return to Network Connections in Control Panel and disable any network adapters that are not currently in use.</span></span>  
  
  
  
##  <a name="verify-your-operating-system"></a><a name="OS_Support"></a><span data-ttu-id="6fb38-232">Vérifier votre système d’exploitation</span><span class="sxs-lookup"><span data-stu-id="6fb38-232">Verify Your Operating System</span></span>  
 <span data-ttu-id="6fb38-233">Assurez-vous que votre système d'exploitation est installé correctement et qu'il prend en charge le clustering de basculement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-233">Make sure that your operating system is installed properly and is designed to support failover clustering.</span></span> <span data-ttu-id="6fb38-234">Le tableau suivant comporte une liste des éditions [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et des systèmes d'exploitation qui les prennent en charge.</span><span class="sxs-lookup"><span data-stu-id="6fb38-234">The following table is a list of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] editions and the operating systems that support them.</span></span>  
  
|<span data-ttu-id="6fb38-235">Édition de[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6fb38-235">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] edition</span></span>|[!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] <span data-ttu-id="6fb38-236">Enterprise</span><span class="sxs-lookup"><span data-stu-id="6fb38-236">Enterprise</span></span>|[!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] <span data-ttu-id="6fb38-237">Datacenter Server</span><span class="sxs-lookup"><span data-stu-id="6fb38-237">Datacenter Server</span></span>|[!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] <span data-ttu-id="6fb38-238">Enterprise</span><span class="sxs-lookup"><span data-stu-id="6fb38-238">Enterprise</span></span>|[!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] <span data-ttu-id="6fb38-239">Datacenter Server</span><span class="sxs-lookup"><span data-stu-id="6fb38-239">Datacenter Server</span></span>|  
|---------------------------------------|------------------------------------------------|-------------------------------------------------------|----------------------------------------------|-----------------------------------------------------|  
|[!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)]<span data-ttu-id="6fb38-240">Enterprise (64 bits) x64<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="6fb38-240">Enterprise (64-bit) x64<sup>1</sup></span></span>|<span data-ttu-id="6fb38-241">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-241">Yes</span></span>|<span data-ttu-id="6fb38-242">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-242">Yes</span></span>|<span data-ttu-id="6fb38-243">Oui<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="6fb38-243">Yes<sup>2</sup></span></span>|<span data-ttu-id="6fb38-244">Oui<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="6fb38-244">Yes<sup>2</sup></span></span>|  
|[!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] <span data-ttu-id="6fb38-245">Enterprise (32 bits)</span><span class="sxs-lookup"><span data-stu-id="6fb38-245">Enterprise (32-bit)</span></span>|<span data-ttu-id="6fb38-246">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-246">Yes</span></span>|<span data-ttu-id="6fb38-247">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-247">Yes</span></span>|||  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="6fb38-248">bits) Developer (64</span><span class="sxs-lookup"><span data-stu-id="6fb38-248">-bit) Developer (64</span></span>|<span data-ttu-id="6fb38-249">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-249">Yes</span></span>|<span data-ttu-id="6fb38-250">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-250">Yes</span></span>|<span data-ttu-id="6fb38-251">Oui <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="6fb38-251">Yes <sup>2</sup></span></span>|<span data-ttu-id="6fb38-252">Oui <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="6fb38-252">Yes <sup>2</sup></span></span>|  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="6fb38-253">Developer (32 bits)</span><span class="sxs-lookup"><span data-stu-id="6fb38-253">Developer (32-bit)</span></span>|<span data-ttu-id="6fb38-254">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-254">Yes</span></span>|<span data-ttu-id="6fb38-255">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-255">Yes</span></span>|||  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="6fb38-256">Standard (64 bits)</span><span class="sxs-lookup"><span data-stu-id="6fb38-256">Standard (64-bit)</span></span>|<span data-ttu-id="6fb38-257">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-257">Yes</span></span>|<span data-ttu-id="6fb38-258">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-258">Yes</span></span>|<span data-ttu-id="6fb38-259">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-259">Yes</span></span>|<span data-ttu-id="6fb38-260">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-260">Yes</span></span>|  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="6fb38-261">Standard (32 bits)</span><span class="sxs-lookup"><span data-stu-id="6fb38-261">Standard (32-bit)</span></span>|<span data-ttu-id="6fb38-262">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-262">Yes</span></span>|<span data-ttu-id="6fb38-263">Oui</span><span class="sxs-lookup"><span data-stu-id="6fb38-263">Yes</span></span>|||  
  
 <span data-ttu-id="6fb38-264"><sup>1</sup> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] les clusters ne sont pas pris en charge en mode WOW.</span><span class="sxs-lookup"><span data-stu-id="6fb38-264"><sup>1</sup> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] clusters are not supported in WOW mode.</span></span> <span data-ttu-id="6fb38-265">Cela inclut les mises à niveau de versions précédentes des clusters de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installés à l'origine dans WOW.</span><span class="sxs-lookup"><span data-stu-id="6fb38-265">That includes upgrades from previous versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clusters that were originally installed in WOW.</span></span> <span data-ttu-id="6fb38-266">Pour ceux-là, la seule option de mise à niveau est d'installer la nouvelle version côte à côte et de migrer.</span><span class="sxs-lookup"><span data-stu-id="6fb38-266">For those the only upgrade option is to install the new version side by side and migrate.</span></span>  
  
 <span data-ttu-id="6fb38-267"><sup>2</sup> pris en charge pour [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] le clustering de basculement de sous-réseaux multiples.</span><span class="sxs-lookup"><span data-stu-id="6fb38-267"><sup>2</sup> Supported for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover clustering.</span></span>  
  
  
  
##  <a name="additional-considerations-for-multi-subnet-configurations"></a><a name="MultiSubnet"></a> <span data-ttu-id="6fb38-268">Remarques supplémentaires concernant les configurations de sous-réseaux multiples</span><span class="sxs-lookup"><span data-stu-id="6fb38-268">Additional Considerations for Multi-Subnet Configurations</span></span>  
 <span data-ttu-id="6fb38-269">Les sections ci-dessous décrivent les points à garder à l'esprit lors de l'installation d'un cluster de basculement de sous-réseaux multiples [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-269">The sections below describe the requirements to keep in mind when installing a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster.</span></span> <span data-ttu-id="6fb38-270">Une configuration de sous-réseaux multiples implique le clustering de plusieurs sous-réseaux et, par conséquent, l'utilisation de plusieurs adresses IP et la modification des dépendances de ressource d'adresse IP.</span><span class="sxs-lookup"><span data-stu-id="6fb38-270">A multi-subnet configuration involves clustering across multiple subnets, therefore involves using multiple IP addresses and changes to IP address resource dependencies.</span></span>  
  
### <a name="ssnoversion-edition-and-operating-system-considerations"></a>[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-271">Considérations relatives au système d’exploitation et à l’édition</span><span class="sxs-lookup"><span data-stu-id="6fb38-271">Edition and Operating System Considerations</span></span>  
  
-   <span data-ttu-id="6fb38-272">Pour plus d’informations sur les éditions de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui prennent en charge un cluster de basculement de plusieurs sous-réseaux [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], consultez [Fonctionnalités prises en charge par les éditions de SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="6fb38-272">For information about the editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that support a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster, see [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
-   <span data-ttu-id="6fb38-273">Pour créer un cluster de basculement de plusieurs sous-réseaux [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , vous devez d'abord créer le cluster de basculement multisite [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] sur plusieurs sous-réseaux.</span><span class="sxs-lookup"><span data-stu-id="6fb38-273">To create a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster, you must first create the [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] multi-site failover cluster on multiple subnets.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-274">dépend du cluster de basculement Windows Server pour s'assurer que les conditions de la dépendance d'IP est valide en cas de basculement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-274">failover cluster depends on the Windows Server failover cluster to make sure that the IP dependency conditions are valid if there is a failover.</span></span>  
  
-   [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] <span data-ttu-id="6fb38-275">requiert que tous les serveurs de clusters soient dans le même domaine Active Directory.</span><span class="sxs-lookup"><span data-stu-id="6fb38-275">requires that all the cluster servers must be in the same Active Directory domain.</span></span> <span data-ttu-id="6fb38-276">Par conséquent, le cluster de basculement de sous-réseaux multiples [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] requiert que tous les nœuds de cluster soient dans le même domaine Active Directory même s'ils se trouvent dans des sous-réseaux différents.</span><span class="sxs-lookup"><span data-stu-id="6fb38-276">Therefore, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster requires that all the cluster nodes be in the same Active Directory domain even if they are in different subnets.</span></span>  
  
#### <a name="ip-address-and-ip-address-resource-dependencies"></a><span data-ttu-id="6fb38-277">Adresse IP et dépendances de ressource d'adresse IP</span><span class="sxs-lookup"><span data-stu-id="6fb38-277">IP Address and IP Address Resource Dependencies</span></span>  
  
1.  <span data-ttu-id="6fb38-278">La dépendance de ressource d'adresse IP est définie à OR dans une configuration de sous-réseaux multiples.</span><span class="sxs-lookup"><span data-stu-id="6fb38-278">The IP Address resource dependency is set to OR in a multi-subnet configuration.</span></span> <span data-ttu-id="6fb38-279">Pour plus d’informations, consultez [créer un cluster de basculement SQL Server &#40;d’installation&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="6fb38-279">For more information, see [Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span></span>  
  
2.  <span data-ttu-id="6fb38-280">Les dépendances d'adresse IP mixtes AND-OR ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="6fb38-280">Mixed AND-OR IP address dependencies are not supported.</span></span> <span data-ttu-id="6fb38-281">Par exemple, \<IP1> et \<IP2> ou \<IP3> n’est pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="6fb38-281">For example, \<IP1> AND \<IP2> OR \<IP3> is not supported.</span></span>  
  
3.  <span data-ttu-id="6fb38-282">La présence de plusieurs adresses IP par sous-réseau n'est pas prise en charge.</span><span class="sxs-lookup"><span data-stu-id="6fb38-282">More than one IP address per subnet is not supported.</span></span>  
  
     <span data-ttu-id="6fb38-283">Si vous décidez d'utiliser plusieurs adresses IP configurées pour le même sous-réseau, vous pouvez rencontrer des échecs de connexion client au démarrage de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-283">If you decide to use more than one IP address configured for the same subnet, you may experience client connection failures during [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] startup.</span></span>  
  
#### <a name="related-content"></a><span data-ttu-id="6fb38-284">Contenu associé</span><span class="sxs-lookup"><span data-stu-id="6fb38-284">Related Content</span></span>  
 <span data-ttu-id="6fb38-285">Pour plus d’informations sur le basculement multisite [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] , consultez [Site de clustering de basculement Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(v=WS.10\).aspx) et [Concevoir un service ou une application en cluster dans un clustering de basculement multisite](https://go.microsoft.com/fwlink/?LinkId=177873).</span><span class="sxs-lookup"><span data-stu-id="6fb38-285">For more information about [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] multi-site failover, see [Windows Server 2008 R2 Failover Clustering Site](https://technet.microsoft.com/library/ff182338\(v=WS.10\).aspx) and [Design for a Clustered Service or Application in a Multi-Site Failover Cluster](https://go.microsoft.com/fwlink/?LinkId=177873).</span></span>  
  
##  <a name="configure-windows-server-failover-cluster"></a><a name="WSFC"></a><span data-ttu-id="6fb38-286">Configurer un cluster de basculement Windows Server</span><span class="sxs-lookup"><span data-stu-id="6fb38-286">Configure Windows Server Failover Cluster</span></span>  
  
-   [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="6fb38-287">Le logiciel WSFC (service de cluster) doit être configuré sur au moins l’un des nœuds de votre cluster de serveurs.</span><span class="sxs-lookup"><span data-stu-id="6fb38-287">Cluster Service (WSFC) must be configured on at least one node of your server cluster.</span></span> <span data-ttu-id="6fb38-288">Vous devez également exécuter [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Enterprise, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Business Intelligence ou [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard conjointement à WSFC.</span><span class="sxs-lookup"><span data-stu-id="6fb38-288">You must also run [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Enterprise, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Business Intelligence, or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard in conjunction with WSFC.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-289">Enterprise prend en charge les clusters de basculement contenant jusqu'à 16 nœuds.</span><span class="sxs-lookup"><span data-stu-id="6fb38-289">Enterprise support failover clusters with up to 16 nodes.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-290">Business Intelligence et [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard prennent en charge les clusters de basculement à deux nœuds.</span><span class="sxs-lookup"><span data-stu-id="6fb38-290">Business Intelligence and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard supports two-node failover clusters.</span></span>  
  
-   <span data-ttu-id="6fb38-291">La DLL de ressource pour le service [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] exporte deux fonctions utilisées par le gestionnaire de cluster WSFC pour vérifier la disponibilité de la ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-291">The resource DLL for the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service exports two functions used by WSFC Cluster Manager to check for availability of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource.</span></span> <span data-ttu-id="6fb38-292">Pour plus d’informations, consultez [Stratégie de basculement pour les instances de cluster de basculement](../windows/failover-policy-for-failover-cluster-instances.md).</span><span class="sxs-lookup"><span data-stu-id="6fb38-292">For more information, see [Failover Policy for Failover Cluster Instances](../windows/failover-policy-for-failover-cluster-instances.md).</span></span>  
  
-   <span data-ttu-id="6fb38-293">WSFC doit être en mesure de vérifier que l'instance de cluster de basculement s'exécute à l'aide de la vérification IsAlive.</span><span class="sxs-lookup"><span data-stu-id="6fb38-293">WSFC must be able to verify that the failover clustered instance is running by using the IsAlive check.</span></span> <span data-ttu-id="6fb38-294">Cela signifie qu'il convient de se connecter au serveur à l'aide d'une connexion approuvée.</span><span class="sxs-lookup"><span data-stu-id="6fb38-294">This requires connecting to the server by using a trusted connection.</span></span> <span data-ttu-id="6fb38-295">Par défaut, le compte qui exécute le service de cluster n'est pas configuré en tant qu'administrateur sur les nœuds du cluster, et le groupe BUILTIN\Administrateurs n'a pas l'autorisation de se connecter à [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6fb38-295">By default, the account that runs the cluster service is not configured as an administrator on nodes in the cluster, and the BUILTIN\Administrators group does not have permission to log into [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="6fb38-296">Ces paramètres changent uniquement si vous modifiez les autorisations définies sur les nœuds du cluster.</span><span class="sxs-lookup"><span data-stu-id="6fb38-296">These settings change only if you change permissions on the cluster nodes.</span></span>  
  
-   <span data-ttu-id="6fb38-297">Configurez le service DNS (Domain Name Service) ou le service WINS (Windows Internet Name Service).</span><span class="sxs-lookup"><span data-stu-id="6fb38-297">Configure Domain Name Service (DNS) or Windows Internet Name Service (WINS).</span></span> <span data-ttu-id="6fb38-298">Un serveur DNS ou un serveur WINS doit s'exécuter dans l'environnement où votre cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sera installé.</span><span class="sxs-lookup"><span data-stu-id="6fb38-298">A DNS server or WINS server must be running in the environment where your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster will be installed.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-299">nécessite un enregistrement DNS dynamique de la référence virtuelle de l'interface IP [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb38-299">Setup requires dynamic domain name service registration of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] IP interface virtual reference.</span></span> <span data-ttu-id="6fb38-300">La configuration du serveur DNS doit permettre aux nœuds de cluster d'inscrire dynamiquement une table d'adresses IP en ligne sur le nom du réseau.</span><span class="sxs-lookup"><span data-stu-id="6fb38-300">DNS server configuration should allow cluster nodes to dynamically register an online IP address map to Network Name.</span></span> <span data-ttu-id="6fb38-301">Si l'enregistrement dynamique ne peut pas être effectué, le programme d'installation échoue et l'installation est restaurée.</span><span class="sxs-lookup"><span data-stu-id="6fb38-301">If the dynamic registration cannot be completed, Setup fails and the installation is rolled back.</span></span> <span data-ttu-id="6fb38-302">Pour plus d'informations, consultez [cet article de la base de connaissances](https://support.microsoft.com/kb/947048)</span><span class="sxs-lookup"><span data-stu-id="6fb38-302">For more information, see [this knowledgebase article](https://support.microsoft.com/kb/947048)</span></span>  
  
  
  
##  <a name="install-msconame-distributed-transaction-coordinator"></a><a name="MSDTC"></a> <span data-ttu-id="6fb38-303">Installer [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator</span><span class="sxs-lookup"><span data-stu-id="6fb38-303">Install [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator</span></span>  
 <span data-ttu-id="6fb38-304">Avant d'installer [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sur un cluster de basculement, déterminez si la ressource de cluster [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator (MSDTC) doit être créée.</span><span class="sxs-lookup"><span data-stu-id="6fb38-304">Before installing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on a failover cluster, determine whether the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator (MSDTC) cluster resource must be created.</span></span> <span data-ttu-id="6fb38-305">Si vous installez uniquement le [!INCLUDE[ssDE](../../../includes/ssde-md.md)], la ressource de cluster MSDTC n'est pas nécessaire.</span><span class="sxs-lookup"><span data-stu-id="6fb38-305">If you are installing only the [!INCLUDE[ssDE](../../../includes/ssde-md.md)], the MSDTC cluster resource is not required.</span></span> <span data-ttu-id="6fb38-306">Si vous installez le [!INCLUDE[ssDE](../../../includes/ssde-md.md)] et SSIS, les composants de station de travail, ou si vous comptez utiliser les transactions distribuées, vous devez installer MSDTC.</span><span class="sxs-lookup"><span data-stu-id="6fb38-306">If you are installing the [!INCLUDE[ssDE](../../../includes/ssde-md.md)] and SSIS, Workstation Components, or if you will use distributed transactions, you must install MSDTC.</span></span> <span data-ttu-id="6fb38-307">Notez que MSDTC n'est pas requis pour les instances d' [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]uniquement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-307">Note that MSDTC is not required for [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]-only instances.</span></span>  
  
 <span data-ttu-id="6fb38-308">Sur [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] et [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], vous pouvez installer plusieurs instances de MSDTC sur un cluster de basculement unique.</span><span class="sxs-lookup"><span data-stu-id="6fb38-308">On [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] and [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], you can install multiple instances of MSDTC on a single failover cluster.</span></span> <span data-ttu-id="6fb38-309">La première instance de MSDTC installée sera l'instance de cluster par défaut de MSDTC.</span><span class="sxs-lookup"><span data-stu-id="6fb38-309">The first instance of MSDTC that is installed will be the cluster default instance of MSDTC.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="6fb38-310">tirera parti d'une instance de MSDTC installée automatiquement sur le groupe de ressources de cluster local [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en utilisant automatiquement l'instance de MSDTC.</span><span class="sxs-lookup"><span data-stu-id="6fb38-310">will take advantage of an instance of MSDTC installed to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] local cluster resource group by automatically using the instance of MSDTC.</span></span> <span data-ttu-id="6fb38-311">Toutefois, les applications peuvent être mappées individuellement à toute instance de MSDTC sur le cluster.</span><span class="sxs-lookup"><span data-stu-id="6fb38-311">However, individual applications can be mapped to any instance of MSDTC on the cluster.</span></span>  
  
 <span data-ttu-id="6fb38-312">Les règles suivantes sont appliquées pour une instance de MSDTC devant être choisie par [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="6fb38-312">The following rules are applied for an instance of MSDTC to be chosen by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="6fb38-313">Utilisation de MSDTC installé dans le groupe local, sinon</span><span class="sxs-lookup"><span data-stu-id="6fb38-313">Use MSDTC installed to the local group, else</span></span>  
  
-   <span data-ttu-id="6fb38-314">Utilisation de l'instance mappée de MSDTC, sinon</span><span class="sxs-lookup"><span data-stu-id="6fb38-314">Use the mapped instance of MSDTC, else</span></span>  
  
-   <span data-ttu-id="6fb38-315">Utilisation de l'instance par défaut du cluster de MSDTC, sinon</span><span class="sxs-lookup"><span data-stu-id="6fb38-315">Use the cluster's default instance of MSDTC, else</span></span>  
  
-   <span data-ttu-id="6fb38-316">Utiliser l’instance de MSDTC installée sur l’ordinateur local</span><span class="sxs-lookup"><span data-stu-id="6fb38-316">Use the local machine's installed instance of MSDTC</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="6fb38-317">Si l'instance MSDTC installée dans le groupe de clusters local de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] échoue, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] n'essaie pas automatiquement d'utiliser l'instance de cluster par défaut ou l'instance de MSDTC de l'ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="6fb38-317">If the MSDTC instance that is installed to the local cluster group of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fails, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] does not automatically attempt to use the default cluster instance or the local machine instance of MSDTC.</span></span> <span data-ttu-id="6fb38-318">Vous devrez supprimer complètement l'instance non réussie de MSDTC du groupe [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pour utiliser une autre instance de MSDTC.</span><span class="sxs-lookup"><span data-stu-id="6fb38-318">You would need to completely remove the failed instance of MSDTC from the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] group to use another instance of MSDTC.</span></span> <span data-ttu-id="6fb38-319">De même, si vous créez un mappage pour [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et si l'instance mappée de MSDTC échoue, vos transactions distribuées échoueront également.</span><span class="sxs-lookup"><span data-stu-id="6fb38-319">Likewise, if you create a mapping for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and the mapped instance of MSDTC fails, your distributed transactions will also fail.</span></span> <span data-ttu-id="6fb38-320">Si vous souhaitez que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] utilise une autre instance de MSDTC, vous devez ajouter une instance de MSDTC au groupe de clusters local de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou supprimer le mappage.</span><span class="sxs-lookup"><span data-stu-id="6fb38-320">If you want [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to use a different instance of MSDTC, you must either add an instance of MSDTC to the local cluster group of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] or delete the mapping.</span></span>  
  
### <a name="configure-msconame-distributed-transaction-coordinator"></a><span data-ttu-id="6fb38-321">Configurer le coordinateur de transactions distribuées [!INCLUDE[msCoName](../../../includes/msconame-md.md)] (MSDTC)</span><span class="sxs-lookup"><span data-stu-id="6fb38-321">Configure [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator</span></span>  
 <span data-ttu-id="6fb38-322">Une fois que vous avez installé le système d'exploitation et configuré votre cluster, vous devez configurer MSDTC pour qu'il fonctionne dans un cluster à l'aide de l'Administrateur de cluster.</span><span class="sxs-lookup"><span data-stu-id="6fb38-322">After you install the operating system and configure your cluster, you must configure MSDTC to work in a cluster by using the Cluster Administrator.</span></span> <span data-ttu-id="6fb38-323">L'échec de la mise en cluster de MSDTC ne bloquera pas l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , mais les fonctionnalités des applications [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] peuvent être affectées si MSDTC n'est pas configuré correctement.</span><span class="sxs-lookup"><span data-stu-id="6fb38-323">Failure to cluster MSDTC will not block [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] application functionality may be affected if MSDTC is not properly configured.</span></span>  
  
  
  
## <a name="see-also"></a><span data-ttu-id="6fb38-324">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6fb38-324">See Also</span></span>  
 <span data-ttu-id="6fb38-325">[Configurations matérielle et logicielle requises pour l’installation de SQL Server 2014](../../install/hardware-and-software-requirements-for-installing-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="6fb38-325">[Hardware and Software Requirements for Installing SQL Server 2014](../../install/hardware-and-software-requirements-for-installing-sql-server.md) </span></span>  
 <span data-ttu-id="6fb38-326">[Vérifier les paramètres de l’outil d’analyse de configuration système](../../../database-engine/install-windows/check-parameters-for-the-system-configuration-checker.md) </span><span class="sxs-lookup"><span data-stu-id="6fb38-326">[Check Parameters for the System Configuration Checker](../../../database-engine/install-windows/check-parameters-for-the-system-configuration-checker.md) </span></span>  
 [<span data-ttu-id="6fb38-327">Administration et maintenance de l'instance de cluster de basculement</span><span class="sxs-lookup"><span data-stu-id="6fb38-327">Failover Cluster Instance Administration and Maintenance</span></span>](../windows/failover-cluster-instance-administration-and-maintenance.md)  
  
  
