---
title: Mettre à niveau une instance de cluster de basculement SQL Server (programme d’installation) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- upgrading clusters
- clusters [SQL Server], upgrading
- failover clustering [SQL Server], creating clusters
- clusters [SQL Server], creating
- failover clustering [SQL Server], upgrading
ms.assetid: ea8b7d66-e5a1-402f-9928-8f7310e84f5c
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: a45628055ee12f5d771c863dec7a3368cdae5940
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87708108"
---
# <a name="upgrade-a-sql-server-failover-cluster-instance-setup"></a><span data-ttu-id="f56f2-102">Mettre à niveau une instance de cluster de basculement SQL Server (programme d'installation)</span><span class="sxs-lookup"><span data-stu-id="f56f2-102">Upgrade a SQL Server Failover Cluster Instance (Setup)</span></span>
  <span data-ttu-id="f56f2-103">Vous pouvez mettre à niveau un cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vers un cluster de basculement [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] à l'aide de l'Assistant Installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou à partir de l'invite de commandes.</span><span class="sxs-lookup"><span data-stu-id="f56f2-103">You can upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster by using the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Installation Wizard or a command prompt.</span></span>  
  
 <span data-ttu-id="f56f2-104">Pendant la mise à niveau du cluster de basculement, le temps mort est limité au temps de basculement et au délai d'exécution des scripts de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-104">During the failover cluster upgrade, downtime is limited to failover time and the time that is required for upgrade scripts to run.</span></span> <span data-ttu-id="f56f2-105">Si vous suivez le processus de mise à niveau propagée du cluster de basculement, votre temps mort est minime.</span><span class="sxs-lookup"><span data-stu-id="f56f2-105">If you follow the failover cluster rolling upgrade process, your downtime is minimal.</span></span> <span data-ttu-id="f56f2-106">Selon que vous disposez ou non de tous les composants requis sur les nœuds de cluster de basculement, le temps mort peut varier en fonction de la durée d'installation des composants requis.</span><span class="sxs-lookup"><span data-stu-id="f56f2-106">Depending on whether you have all the prerequisites on the failover cluster nodes, you might incur additional downtime while you install these prerequisites.</span></span> <span data-ttu-id="f56f2-107">Pour plus d’informations sur la réduction du temps d’arrêt pendant la mise à niveau, consultez la section [meilleures pratiques avant la mise à niveau du cluster de basculement](#BestPractices) sur cette page.</span><span class="sxs-lookup"><span data-stu-id="f56f2-107">For more information about how to minimize the downtime during upgrade, see the [Best Practices Before Upgrading Failover Cluster](#BestPractices) section on this page.</span></span>  
  
 <span data-ttu-id="f56f2-108">Pour plus d’informations sur la mise à niveau de, consultez mises à niveau de [version et d’édition prises en charge](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md) et [mise à niveau vers SQL Server 2014](../../../database-engine/install-windows/upgrade-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-108">For more information about how to upgrade, see [Supported Version and Edition Upgrades](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md) and [Upgrade to SQL Server 2014](../../../database-engine/install-windows/upgrade-sql-server.md).</span></span>  
  
 <span data-ttu-id="f56f2-109">Pour plus d’informations sur l’exemple de syntaxe pour l’utilisation d’une invite de commandes, consultez [installer SQL Server 2014 à partir de l’invite de commandes](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-109">For more information about sample syntax for command prompt usage, see [Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="f56f2-110">Prérequis</span><span class="sxs-lookup"><span data-stu-id="f56f2-110">Prerequisites</span></span>  
 <span data-ttu-id="f56f2-111">Avant de commencer, passez en revue les informations importantes suivantes :</span><span class="sxs-lookup"><span data-stu-id="f56f2-111">Before you begin, review the following important information:</span></span>  
  
-   [<span data-ttu-id="f56f2-112">Avant l'installation du clustering de basculement</span><span class="sxs-lookup"><span data-stu-id="f56f2-112">Before Installing Failover Clustering</span></span>](../install/before-installing-failover-clustering.md)  
  
-   <span data-ttu-id="f56f2-113">[Utilisez le conseiller de mise à niveau pour préparer les mises à niveau](../../install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-113">[Use Upgrade Advisor to Prepare for Upgrades](../../install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span></span>  
  
-   [<span data-ttu-id="f56f2-114">Mettre à niveau le moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="f56f2-114">Upgrade Database Engine</span></span>](../../../database-engine/install-windows/upgrade-database-engine.md)  
  
-   <span data-ttu-id="f56f2-115">Le programme d'installation installe le .NET Framework 4.0 sur un système d'exploitation en cluster.</span><span class="sxs-lookup"><span data-stu-id="f56f2-115">Setup installs .NET Framework 4.0 on a clustered operating system.</span></span> <span data-ttu-id="f56f2-116">Pour réduire les temps morts possibles, envisagez d'installer le .NET Framework 4.0 avant d'exécuter le programme d'installation.</span><span class="sxs-lookup"><span data-stu-id="f56f2-116">To minimize any possible downtime, consider installing .NET Framework 4.0 before you run Setup.</span></span>  
  
-   <span data-ttu-id="f56f2-117">Pour garantir l'installation correcte du composant Visual Studio, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vous oblige à installer une mise à jour.</span><span class="sxs-lookup"><span data-stu-id="f56f2-117">To make sure that the Visual Studio component can be installed correctly, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] requires you to install an update.</span></span> <span data-ttu-id="f56f2-118">Le programme d'installation [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vérifie si cette la présence de cette mise à jour, puis vous demande de télécharger et d'installer la mise à jour avant de vous laisser poursuivre l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-118">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup checks for the presence of this update and then requires you to download and install the update before you can continue with the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation.</span></span> <span data-ttu-id="f56f2-119">Pour éviter l'interruption pendant l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , vous pouvez télécharger et installer la mise à jour avant d'exécuter le programme d'installation [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , tel que décrit ci-dessous (ou installer toutes les mises à jour de .NET 3.5 SP1 disponibles sur Windows Update) :</span><span class="sxs-lookup"><span data-stu-id="f56f2-119">To avoid the interruption during [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, you can download and install the update before running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup as described below (or install all the updates for .NET 3.5 SP1 available on Windows Update):</span></span>  
  
     <span data-ttu-id="f56f2-120">Si vous installez [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] sur un ordinateur avec le système d’exploitation Windows Server 2008 SP2, vous pouvez obtenir la mise à jour requise [ici](https://go.microsoft.com/fwlink/?LinkId=198093)</span><span class="sxs-lookup"><span data-stu-id="f56f2-120">If you install [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] on a computer with the Windows Server 2008 SP2 operating system, you can get the required update from [here](https://go.microsoft.com/fwlink/?LinkId=198093)</span></span>  
  
     <span data-ttu-id="f56f2-121">Si vous installez [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] sur un ordinateur avec le système d'exploitation [!INCLUDE[win7](../../../includes/win7-md.md)] SP1 ou [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] SP1, cette mise à jour est incluse.</span><span class="sxs-lookup"><span data-stu-id="f56f2-121">If you install [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] on a computer with the [!INCLUDE[win7](../../../includes/win7-md.md)] SP1 or [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] SP1 operating system, this update in included.</span></span>  
  
-   <span data-ttu-id="f56f2-122">Le .NET Framework 3.5 SP1 n'est plus installé par le programme d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], mais il peut être requis lors de l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sur [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-122">.NET Framework 3.5 SP1 is no longer installed by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but may be required while installing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)].</span></span> <span data-ttu-id="f56f2-123">Pour plus d’informations, consultez les [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] [notes de publication](https://go.microsoft.com/fwlink/?LinkId=296445).</span><span class="sxs-lookup"><span data-stu-id="f56f2-123">For more information, see [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)][Release Notes](https://go.microsoft.com/fwlink/?LinkId=296445).</span></span>  
  
-   <span data-ttu-id="f56f2-124">Dans le cas d'une installation locale, vous devez exécuter le programme d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en qualité d'administrateur.</span><span class="sxs-lookup"><span data-stu-id="f56f2-124">For local installations, you must run [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup as an administrator.</span></span> <span data-ttu-id="f56f2-125">Si vous installez [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] à partir d'un partage distant, vous devez utiliser un compte de domaine qui dispose des autorisations de lecture sur le partage distant.</span><span class="sxs-lookup"><span data-stu-id="f56f2-125">If you install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] from a remote share, you must use a domain account that has read permissions on the remote share.</span></span>  
  
-   <span data-ttu-id="f56f2-126">Pour mettre à niveau une instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vers un [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] cluster de basculement, l’instance mise à niveau doit être un cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="f56f2-126">To upgrade an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster, the instance being upgraded must be a failover cluster.</span></span>  
  
     <span data-ttu-id="f56f2-127">Pour déplacer une instance autonome de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vers un cluster de basculement [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], installez un nouveau cluster de basculement [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], puis migrez les bases de données utilisateur depuis l'instance autonome à l'aide de l'Assistant Copie de base de données.</span><span class="sxs-lookup"><span data-stu-id="f56f2-127">To move a stand-alone instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster, install a new [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster, and then migrate user databases from the stand-alone instance by using the Copy Database Wizard.</span></span> <span data-ttu-id="f56f2-128">Pour plus d'informations, consultez [Use the Copy Database Wizard](../../../relational-databases/databases/use-the-copy-database-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-128">For more information, see [Use the Copy Database Wizard](../../../relational-databases/databases/use-the-copy-database-wizard.md).</span></span>  
  
## <a name="rolling-upgrades"></a><span data-ttu-id="f56f2-129">Mises à niveau propagées</span><span class="sxs-lookup"><span data-stu-id="f56f2-129">Rolling Upgrades</span></span>  
 <span data-ttu-id="f56f2-130">Pour mettre à niveau un cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vers [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], vous devez exécuter le programme d'installation avec l'action de mise à niveau sur chacun des nœuds de cluster de basculement, un par un, en commençant par les nœuds passifs.</span><span class="sxs-lookup"><span data-stu-id="f56f2-130">To upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], you must run setup with upgrade action on each failover cluster node, one at a time, starting with the passive nodes.</span></span> <span data-ttu-id="f56f2-131">Lorsque vous mettez à niveau chaque nœud, celui-ci est écarté de la liste des propriétaires possibles du cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="f56f2-131">As you upgrade each node, it is left out of the possible owners of the failover cluster.</span></span> <span data-ttu-id="f56f2-132">En cas de basculement inattendu, les nœuds mis à niveau ne participent pas au basculement tant que la propriété du groupe de ressources de cluster n'est pas transférée vers un nœud mis à niveau par le programme d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-132">If there is an unexpected failover, the upgraded nodes do not participate in the failover until cluster resource group ownership is moved to an upgraded node by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
 <span data-ttu-id="f56f2-133">Par défaut, le programme d'installation détermine automatiquement le moment où le basculement doit être effectué vers un nœud mis à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-133">By default, Setup automatically determines when to fail over to an upgraded node.</span></span> <span data-ttu-id="f56f2-134">Cela dépend du nombre total de nœuds dans l'instance de cluster de basculement et du nombre de nœuds qui ont déjà été mis à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-134">This depends on the total number of nodes in the failover cluster instance and the number of nodes that have already been upgraded.</span></span> <span data-ttu-id="f56f2-135">Lorsque la moitié des nœuds ou plus a déjà été mise à niveau, le programme d'installation provoque un basculement vers un nœud mis à niveau lorsque vous effectuez une mise à niveau du nœud suivant.</span><span class="sxs-lookup"><span data-stu-id="f56f2-135">When half of the nodes or more have already been upgraded, Setup causes a failover to an upgraded node when you perform upgrade on the next node.</span></span> <span data-ttu-id="f56f2-136">Lors du basculement vers un nœud mis à niveau, le groupe de clusters est déplacé vers un nœud mis à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-136">Upon failover to an upgraded node, the cluster group is moved to an upgraded node.</span></span> <span data-ttu-id="f56f2-137">Tous les nœuds mis à niveau sont placés dans la liste des propriétaires possibles ; par ailleurs, tous les nœuds qui ne sont pas encore mis à niveau sont retirés de la liste des propriétaires possibles.</span><span class="sxs-lookup"><span data-stu-id="f56f2-137">All the upgraded nodes are put in the possible owners list and all the nodes that are not yet upgraded are removed from the possible owners list.</span></span> <span data-ttu-id="f56f2-138">Lorsque vous mettez à niveau chaque nœud restant, celui-ci est ajouté aux propriétaires possibles du cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="f56f2-138">As you upgrade each remaining node, it is added to the possible owners of the failover cluster.</span></span>  
  
 <span data-ttu-id="f56f2-139">Ce processus entraîne une limitation de la durée du temps mort au temps de basculement et au délai d'exécution des scripts de mise à niveau de la base de données pendant l'ensemble de la mise à niveau du cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="f56f2-139">This process results in downtime limited to one failover time and database upgrade script execution time during the whole failover cluster upgrade.</span></span>  
  
 <span data-ttu-id="f56f2-140">Pour contrôler le comportement du basculement des nœuds de cluster pendant le processus de mise à niveau, exécutez l'opération de mise à niveau à l'invite de commandes et utilisez le paramètre /FAILOVERCLUSTERROLLOWNERSHIP.</span><span class="sxs-lookup"><span data-stu-id="f56f2-140">To control the failover behavior of cluster nodes during the upgrade process, run the upgrade operation at the command prompt and use the /FAILOVERCLUSTERROLLOWNERSHIP parameter.</span></span> <span data-ttu-id="f56f2-141">Pour plus d’informations, consultez [Installer SQL Server 2014 à partir de l’invite de commandes](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-141">For more information, see [Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
 <span data-ttu-id="f56f2-142">**Remarque** S’il existe un cluster de basculement à nœud unique, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] le programme d’installation met le [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] groupe de ressources hors connexion.</span><span class="sxs-lookup"><span data-stu-id="f56f2-142">**Note** If there is a single-node failover cluster, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup takes the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource group offline.</span></span>  
  
## <a name="considerations-when-upgrading-from-ssversion2005"></a><span data-ttu-id="f56f2-143">Considérations lors de la mise à niveau de [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]</span><span class="sxs-lookup"><span data-stu-id="f56f2-143">Considerations when Upgrading from [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]</span></span>  
 <span data-ttu-id="f56f2-144">Si vous spécifiez des groupes de domaine pour la stratégie de sécurité du cluster, vous ne pouvez pas spécifier de SID de service sur [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-144">If you specified domain groups for the cluster security policy, you cannot specify service SID on [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)].</span></span> <span data-ttu-id="f56f2-145">Si vous souhaitez utiliser le SID de service, vous devez effectuer une mise à niveau côte à côte.</span><span class="sxs-lookup"><span data-stu-id="f56f2-145">If you want to use the service SID, you need to perform a side by side upgrade.</span></span>  
  
 <span data-ttu-id="f56f2-146">Lorsque vous sélectionnez le [!INCLUDE[ssDE](../../../includes/ssde-md.md)] pour la mise à niveau, la recherche en texte intégral est incluse dans le programme d'installation, qu'elle soit ou non installée dans [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-146">When you select [!INCLUDE[ssDE](../../../includes/ssde-md.md)] for upgrade, full-text search is included in the setup regardless of whether it was installed in [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span></span>  
  
 <span data-ttu-id="f56f2-147">Si la recherche en texte intégral a été activée dans [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], le programme d'installation recrée le catalogue de recherche en texte intégral quelles que soient les options disponibles.</span><span class="sxs-lookup"><span data-stu-id="f56f2-147">If full-text search was enabled in [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], Setup rebuilds the full-text search catalog regardless of the options available to you.</span></span>  
  
## <a name="upgrading-to-a-sssql14-multi-subnet-failover-cluster"></a><span data-ttu-id="f56f2-148">Mise à niveau vers un cluster de basculement de sous-réseaux multiples [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)]</span><span class="sxs-lookup"><span data-stu-id="f56f2-148">Upgrading to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] Multi-Subnet Failover Cluster</span></span>  
 <span data-ttu-id="f56f2-149">Il existe deux scénarios possibles pour les mises à niveau :</span><span class="sxs-lookup"><span data-stu-id="f56f2-149">There are two possible scenarios for upgrades:</span></span>  
  
1.  <span data-ttu-id="f56f2-150">Le cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est configuré actuellement sur un seul sous-réseau. Vous devez d'abord mettre à niveau le cluster existant vers [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] en lançant le programme d'installation et en suivant le processus de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-150">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster is currently configured on a single subnet: You must first upgrade the existing cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] by launching Setup and following the upgrade process.</span></span> <span data-ttu-id="f56f2-151">Après avoir terminé la mise à niveau du cluster de basculement existant, ajoutez un nœud qui se trouve sur un sous-réseau différent à l'aide de la fonctionnalité AddNode.</span><span class="sxs-lookup"><span data-stu-id="f56f2-151">After completing the upgrade of the existing failover cluster, add a node that is on a different subnet using the AddNode functionality.</span></span> <span data-ttu-id="f56f2-152">Confirmez la modification de dépendance de ressource d'adresse IP en OR dans la page de configuration de réseau de clusters.</span><span class="sxs-lookup"><span data-stu-id="f56f2-152">Confirm the IP address resource dependency change to OR in the cluster network configuration page.</span></span> <span data-ttu-id="f56f2-153">Vous avez maintenant un cluster de basculement de sous-réseaux multiples [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-153">You now have a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster.</span></span>  
  
2.  <span data-ttu-id="f56f2-154">Le cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est configuré actuellement sur plusieurs sous-réseaux à l'aide de la technologie d'étirement V-LAN : vous devez d'abord mettre à niveau le cluster existant vers [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-154">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster is currently configured on multiple subnets using the stretch V-LAN technology: You must first upgrade the existing cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span> <span data-ttu-id="f56f2-155">Comme la technologie d'étirement V-LAN configure un sous-réseau unique, la configuration réseau doit être modifiée pour inclure plusieurs sous-réseaux. La dépendance de ressource d'adresse IP doit être modifiée à l'aide de l'outil d'administration de cluster de basculement Windows et la dépendance IP doit être définie sur OR.</span><span class="sxs-lookup"><span data-stu-id="f56f2-155">Because stretch V-LAN technology configures a single subnet, the network configuration must to be changed to multiple subnets, and change the IP address resource dependency using the Windows Failover Cluster administration tool and change the IP dependency to OR.</span></span>  
  
###  <a name="best-practices-before-upgrading-a-ssnoversion-failover-cluster"></a><a name="BestPractices"></a><span data-ttu-id="f56f2-156">Meilleures pratiques avant la mise à niveau d’un [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cluster de basculement</span><span class="sxs-lookup"><span data-stu-id="f56f2-156">Best Practices Before Upgrading a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster</span></span>  
 <span data-ttu-id="f56f2-157">Pour réduire le temps mort inattendu provoqué par un redémarrage, préinstallez le package de non-redémarrage pour le .NET Framework 4.0 sur tous les nœuds de cluster de basculement avant d'exécuter la mise à niveau sur les nœuds de cluster.</span><span class="sxs-lookup"><span data-stu-id="f56f2-157">To eliminate unexpected downtime caused by a restart, preinstall the no-reboot package for .NET Framework 4.0 on all the failover cluster nodes before you run the upgrade on the cluster nodes.</span></span> <span data-ttu-id="f56f2-158">Il est recommandé de respecter les étapes suivantes pour la préinstallation des composants requis :</span><span class="sxs-lookup"><span data-stu-id="f56f2-158">We recommend the following steps to preinstall the prerequisites:</span></span>  
  
-   <span data-ttu-id="f56f2-159">Installez le package de non-redémarrage pour le .NET Framework 4.0 et mettez à niveau uniquement les composants partagés en commençant par les nœuds passifs.</span><span class="sxs-lookup"><span data-stu-id="f56f2-159">Install the no-reboot package for .NET Framework 4.0, and upgrade only the shared components starting with the passive nodes.</span></span> <span data-ttu-id="f56f2-160">Cela entraîne l'installation du [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] 4.0, de Windows Installer 4.5 et des fichiers de support [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-160">This installs [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] 4.0, Windows Installer 4.5, and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] support files.</span></span>  
  
-   <span data-ttu-id="f56f2-161">Redémarrez une ou plusieurs fois, selon les besoins.</span><span class="sxs-lookup"><span data-stu-id="f56f2-161">Restart one or more times, as required.</span></span>  
  
-   <span data-ttu-id="f56f2-162">Effectuez le basculement vers un nœud mis à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-162">Fail over to an upgraded node.</span></span>  
  
-   <span data-ttu-id="f56f2-163">Mettez à niveau les composants partagés sur le dernier nœud restant.</span><span class="sxs-lookup"><span data-stu-id="f56f2-163">Upgrade the shared components on the last remaining node.</span></span>  
  
 <span data-ttu-id="f56f2-164">Une fois que tous les composants partagés sont mis à niveau et que les composants requis sont installés, démarrez la mise à niveau du cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="f56f2-164">After all the shared components are upgraded and prerequisites are installed, start the failover cluster upgrade process.</span></span> <span data-ttu-id="f56f2-165">Vous devez exécuter la mise à niveau sur chaque nœud de cluster de basculement, en commençant par les nœuds passifs jusqu'à ce que vous atteigniez le nœud propriétaire du groupe de ressources de cluster.</span><span class="sxs-lookup"><span data-stu-id="f56f2-165">You have to run upgrade on each failover cluster node, starting with the passive nodes first and making your way toward the node that owns the cluster resource group.</span></span>  
  
-   <span data-ttu-id="f56f2-166">Vous ne pouvez pas ajouter de fonctionnalités à un cluster de basculement existant.</span><span class="sxs-lookup"><span data-stu-id="f56f2-166">You cannot add features to an existing failover cluster.</span></span>  
  
-   <span data-ttu-id="f56f2-167">La modification de l'édition du cluster de basculement est limitée à certains scénarios.</span><span class="sxs-lookup"><span data-stu-id="f56f2-167">Changing the edition of the failover cluster is limited to certain scenarios.</span></span> <span data-ttu-id="f56f2-168">Pour plus d’informations, consultez [Mises à niveau de la version et de l’édition prises en charge](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-168">For more information, see [Supported Version and Edition Upgrades](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span></span>  
  
##  <a name="to-upgrade-a-ssnoversion-failover-cluster"></a><a name="UpgradeSteps"></a> <span data-ttu-id="f56f2-169">Pour mettre à niveau un cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="f56f2-169">To Upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster</span></span>  
  
#### <a name="to-upgrade-a-ssnoversion-failover-cluster"></a><span data-ttu-id="f56f2-170">Pour mettre à niveau un cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="f56f2-170">To upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster</span></span>  
  
1.  <span data-ttu-id="f56f2-171">Insérez le support d'installation [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et, dans le dossier racine, double-cliquez sur Setup.exe.</span><span class="sxs-lookup"><span data-stu-id="f56f2-171">Insert the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation media, and from the root folder, double-click Setup.exe.</span></span> <span data-ttu-id="f56f2-172">Pour effectuer l'installation à partir d'un partage réseau, accédez au dossier racine sur le partage, puis double-cliquez sur Setup.exe.</span><span class="sxs-lookup"><span data-stu-id="f56f2-172">To install from a network share, move to the root folder on the share, and then double-click Setup.exe.</span></span> <span data-ttu-id="f56f2-173">Il se peut que vous deviez installer les composants requis si ceux-ci ne sont pas déjà présents sur l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f56f2-173">You may be asked to install the prerequisites, if they are not previously installed.</span></span>  
  
2.  > [!IMPORTANT]  
    >  <span data-ttu-id="f56f2-174">Pour plus d’informations sur les étapes 3 et 4, consultez la section [meilleures pratiques avant la mise à niveau d’un cluster de basculement](#BestPractices) .</span><span class="sxs-lookup"><span data-stu-id="f56f2-174">For more information about steps 3 and 4, see the [Best Practices Before Upgrading Failover Cluster](#BestPractices) section.</span></span>  
  
3.  <span data-ttu-id="f56f2-175">Lorsque les composants requis sont installés, l'Assistant Installation démarre le Centre d'installation [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f56f2-175">After prerequisites are installed, the Installation Wizard starts the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Installation Center.</span></span> <span data-ttu-id="f56f2-176">Pour mettre à niveau une instance existante de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , cliquez sur **mettre à niveau à partir de [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] ,, [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] [!INCLUDE[ssKilimanjaro](../../../includes/sskilimanjaro-md.md)] ou [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] .**</span><span class="sxs-lookup"><span data-stu-id="f56f2-176">To upgrade an existing instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], click **Upgrade from [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)], [!INCLUDE[ssKilimanjaro](../../../includes/sskilimanjaro-md.md)], or [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)].**</span></span>  
  
4.  <span data-ttu-id="f56f2-177">Si les fichiers de support du programme d'installation sont requis, le programme d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] les installe.</span><span class="sxs-lookup"><span data-stu-id="f56f2-177">If Setup support files are required, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup installs them.</span></span> <span data-ttu-id="f56f2-178">Redémarrez votre ordinateur si vous êtes invité à le faire avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="f56f2-178">If you are instructed to restart your computer, restart before you continue.</span></span>  
  
5.  <span data-ttu-id="f56f2-179">L'Outil d'analyse de configuration système effectue une opération de découverte sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f56f2-179">The System Configuration Checker runs a discovery operation on your computer.</span></span> <span data-ttu-id="f56f2-180">Pour continuer, [!INCLUDE[clickOK](../../../includes/clickok-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-180">To continue, [!INCLUDE[clickOK](../../../includes/clickok-md.md)].</span></span>  
  
6.  <span data-ttu-id="f56f2-181">Dans la page Clé de produit, entrez la clé PID pour l'édition de la nouvelle version qui correspond à l'édition de l'ancienne version du produit.</span><span class="sxs-lookup"><span data-stu-id="f56f2-181">On the Product Key page, enter the PID key for the new version edition that matches the edition of the old product version.</span></span> <span data-ttu-id="f56f2-182">Par exemple, pour mettre à niveau un cluster de basculement Enterprise Edition, vous devez spécifier une clé PID pour [!INCLUDE[ssEnterprise](../../../includes/ssenterprise-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-182">For example, to upgrade an Enterprise failover cluster, you must supply a PID key for [!INCLUDE[ssEnterprise](../../../includes/ssenterprise-md.md)].</span></span> <span data-ttu-id="f56f2-183">Cliquez sur **Suivant** pour continuer.</span><span class="sxs-lookup"><span data-stu-id="f56f2-183">Click **Next** to continue.</span></span> <span data-ttu-id="f56f2-184">N'oubliez pas que la clé PID que vous utilisez pour une mise à niveau de cluster de basculement doit être cohérente sur tous les nœuds de cluster de basculement dans la même instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f56f2-184">Be aware that the PID key that you use for a failover cluster upgrade must be consistent across all failover cluster nodes in the same [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="f56f2-185">Pour plus d’informations, consultez [éditions et composants de SQL Server 2014](../../editions-and-components-of-sql-server-2016.md) et [mises à niveau de version et d’édition prises en charge](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-185">For more information, see [Editions and Components of SQL Server 2014](../../editions-and-components-of-sql-server-2016.md) and [Supported Version and Edition Upgrades](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span></span>  
  
7.  <span data-ttu-id="f56f2-186">Dans la page Termes du contrat de licence, prenez connaissance du contrat de licence, puis activez la case à cocher indiquant que vous en acceptez les termes et conditions.</span><span class="sxs-lookup"><span data-stu-id="f56f2-186">On the License Terms page, read the license agreement, and then select the check box to accept the license terms and conditions.</span></span> <span data-ttu-id="f56f2-187">Pour aider à améliorer [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], vous pouvez également activer l'option d'utilisation des fonctionnalités et envoyer des rapports à [!INCLUDE[msCoName](../../../includes/msconame-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-187">To help improve [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], you can also enable the feature usage option and send reports to [!INCLUDE[msCoName](../../../includes/msconame-md.md)].</span></span> <span data-ttu-id="f56f2-188">**Cliquez sur suivant pour continuer**.</span><span class="sxs-lookup"><span data-stu-id="f56f2-188">**Click Next to continue**.</span></span> <span data-ttu-id="f56f2-189">Pour mettre fin au programme d'installation, cliquez sur **Annuler**.</span><span class="sxs-lookup"><span data-stu-id="f56f2-189">To end Setup, click **Cancel**.</span></span>  
  
8.  <span data-ttu-id="f56f2-190">Dans la page Sélectionner une instance, spécifiez l'instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] à mettre à niveau vers [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-190">On the Select Instance page, specify the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to upgrade to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span> <span data-ttu-id="f56f2-191">**Cliquez sur suivant pour continuer**.</span><span class="sxs-lookup"><span data-stu-id="f56f2-191">**Click Next to continue**.</span></span>  
  
9. <span data-ttu-id="f56f2-192">Dans la page Sélection de composant, les fonctionnalités à mettre à niveau sont présélectionnées.</span><span class="sxs-lookup"><span data-stu-id="f56f2-192">On the Feature Selection page, the features to upgrade are preselected.</span></span> <span data-ttu-id="f56f2-193">Une description de chaque groupe de composants apparaît dans le volet droit après que vous avez sélectionné le nom de la fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="f56f2-193">A description for each component group appears in the right pane after you select the feature name.</span></span> <span data-ttu-id="f56f2-194">N'oubliez pas que vous ne pouvez pas modifier les fonctionnalités à mettre à niveau, de même que vous ne pouvez pas ajouter de fonctionnalités pendant l'opération de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-194">Be aware that you cannot change the features to be upgraded, and you cannot add features during the upgrade operation.</span></span> <span data-ttu-id="f56f2-195">Pour ajouter des fonctionnalités à une instance mise à niveau de [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] une fois l’opération de mise à niveau terminée, consultez [Ajouter des fonctionnalités à une instance de SQL Server 2014 &#40;&#41;d’installation ](../../../database-engine/install-windows/add-features-to-an-instance-of-sql-server-setup.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-195">To add features to an upgraded instance of [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] after the upgrade operation is complete, see [Add Features to an Instance of SQL Server 2014 &#40;Setup&#41;](../../../database-engine/install-windows/add-features-to-an-instance-of-sql-server-setup.md).</span></span>  
  
     <span data-ttu-id="f56f2-196">Les composants requis pour les fonctionnalités sélectionnées sont affichés dans le volet droit.</span><span class="sxs-lookup"><span data-stu-id="f56f2-196">The prerequisites for the selected features are displayed on the right-hand pane.</span></span> <span data-ttu-id="f56f2-197">Le programme d'installation de SQL Server installera les composants requis qui ne sont pas déjà installés pendant l'étape d'installation décrite ultérieurement dans cette procédure.</span><span class="sxs-lookup"><span data-stu-id="f56f2-197">SQL Server Setup will install the prerequisite that are not already installed during the installation step described later in this procedure.</span></span>  
  
10. <span data-ttu-id="f56f2-198">Dans la page Configuration de l'instance, les champs sont remplis automatiquement à partir de l'ancienne instance.</span><span class="sxs-lookup"><span data-stu-id="f56f2-198">On the Instance Configuration page, fields are automatically populated from the old instance.</span></span> <span data-ttu-id="f56f2-199">Vous pouvez spécifier la nouvelle valeur d'InstanceID.</span><span class="sxs-lookup"><span data-stu-id="f56f2-199">You can choose to specify the new InstanceID value.</span></span>  
  
     <span data-ttu-id="f56f2-200">**ID d’instance** : Par défaut, le nom de l’instance est utilisé comme ID d’instance.</span><span class="sxs-lookup"><span data-stu-id="f56f2-200">**Instance ID** - By default, the instance name is used as the Instance ID.</span></span> <span data-ttu-id="f56f2-201">Il permet d'identifier les répertoires d'installation et les clés de Registre de votre instance [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-201">This is used to identify installation directories and registry keys for your instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f56f2-202">Tel est le cas pour les instances par défaut et les instances nommées.</span><span class="sxs-lookup"><span data-stu-id="f56f2-202">This is the case for default instances and named instances.</span></span> <span data-ttu-id="f56f2-203">Pour une instance par défaut, le nom de l'instance et l'ID d'instance sont MSSQLSERVER.</span><span class="sxs-lookup"><span data-stu-id="f56f2-203">For a default instance, the instance name and instance ID would be MSSQLSERVER.</span></span> <span data-ttu-id="f56f2-204">Pour utiliser un ID d'instance non défini par défaut, activez la case à cocher **ID d'instance** et entrez une valeur.</span><span class="sxs-lookup"><span data-stu-id="f56f2-204">To use a nondefault instance ID, select the **Instance ID** check box and provide a value.</span></span> <span data-ttu-id="f56f2-205">Si vous remplacez la valeur par défaut, vous devez spécifier le même ID d'instance pour l'instance mise à niveau sur tous les nœuds de cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="f56f2-205">If you override the default value, you must specify the same Instance ID for the instance being upgraded on all the failover cluster nodes.</span></span> <span data-ttu-id="f56f2-206">L'ID d'instance de l'instance mise à niveau doit être identique sur tous les nœuds.</span><span class="sxs-lookup"><span data-stu-id="f56f2-206">The Instance ID for the upgraded instance must match across the nodes.</span></span>  
  
     <span data-ttu-id="f56f2-207">**Instances et fonctionnalités détectées** : la grille affiche les instances de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui se trouvent sur l’ordinateur où le programme d’installation s’exécute.</span><span class="sxs-lookup"><span data-stu-id="f56f2-207">**Detected instances and features** - The grid shows instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that are on the computer where Setup is running.</span></span> <span data-ttu-id="f56f2-208">**Cliquez sur suivant pour continuer**.</span><span class="sxs-lookup"><span data-stu-id="f56f2-208">**Click Next to continue**.</span></span>  
  
11. <span data-ttu-id="f56f2-209">La page Espace disque nécessaire calcule l'espace disque nécessaire pour les fonctionnalités que vous spécifiez et compare cet espace à l'espace disque disponible sur l'ordinateur où le programme d'installation s'exécute.</span><span class="sxs-lookup"><span data-stu-id="f56f2-209">The Disk Space Requirements page calculates the required disk space for the features that you specify, and compares requirements to the available disk space on the computer where Setup is running.</span></span>  
  
12. <span data-ttu-id="f56f2-210">Dans la page de mise à niveau de recherche en texte intégral, spécifiez les options de mise à niveau pour les bases de données mises à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-210">On the Full-Text Search Upgrade page, specify the upgrade options for the databases being upgraded.</span></span> <span data-ttu-id="f56f2-211">Pour plus d’informations, consultez [Options de mise à niveau de recherche en texte intégral](../../install/full-text-search-upgrade-options.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-211">For more information, see [Full-Text Search Upgrade Options](../../install/full-text-search-upgrade-options.md).</span></span>  
  
13. <span data-ttu-id="f56f2-212">Dans la page **Création de rapports d'erreurs** , spécifiez les informations que vous souhaitez envoyer à [!INCLUDE[msCoName](../../../includes/msconame-md.md)] afin d'aider à améliorer [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-212">On the **Error Reporting** page, specify the information that you want to send to [!INCLUDE[msCoName](../../../includes/msconame-md.md)] that will help improve [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f56f2-213">Les options de création de rapports d'erreurs sont activées par défaut.</span><span class="sxs-lookup"><span data-stu-id="f56f2-213">By default, options for error reporting is enabled.</span></span>  
  
14. <span data-ttu-id="f56f2-214">L'Outil d'analyse de configuration système exécute un autre ensemble de règles pour valider la configuration de votre ordinateur avec les fonctionnalités [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que vous avez spécifiées, avant le début de l'opération de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-214">The System Configuration Checker runs one more set of rules to validate your computer configuration with the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] features that you have specified, before the upgrade operation begins.</span></span>  
  
15. <span data-ttu-id="f56f2-215">La page Rapport de mise à niveau de cluster affiche la liste des nœuds de l'instance de cluster de basculement, ainsi que les informations de version de l'instance pour les composants [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] de chaque nœud.</span><span class="sxs-lookup"><span data-stu-id="f56f2-215">The Cluster Upgrade Report page displays the list of nodes in the failover cluster instance and the instance version information for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] components on each node.</span></span> <span data-ttu-id="f56f2-216">Elle affiche l'état des scripts de base de données et l'état des scripts de réplication.</span><span class="sxs-lookup"><span data-stu-id="f56f2-216">It displays the database script status and replication script status.</span></span> <span data-ttu-id="f56f2-217">De plus, elle affiche également des messages d'information sur ce qui doit se produire lorsque vous cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="f56f2-217">In addition, it also displays informational messages on what will occur when you click **Next**.</span></span> <span data-ttu-id="f56f2-218">Selon le nombre de nœuds de cluster de basculement qui ont déjà été mis à niveau et le nombre total de nœuds, le programme d’installation affiche le comportement de basculement qui se produit lorsque vous cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="f56f2-218">Depending on the number of failover cluster nodes that have already been upgraded and total number of nodes, Setup displays the failover behavior that happens when you click **Next**.</span></span> <span data-ttu-id="f56f2-219">Il indique également le temps mort inutile potentiel, si vous n'avez pas déjà installé les composants requis.</span><span class="sxs-lookup"><span data-stu-id="f56f2-219">It also warns about potential unnecessary downtime if you have not installed the prerequisites already.</span></span>  
  
16. <span data-ttu-id="f56f2-220">La page Prêt pour la mise à niveau affiche une arborescence des options d'installation spécifiées durant l'exécution du programme d'installation.</span><span class="sxs-lookup"><span data-stu-id="f56f2-220">The Ready to Upgrade page displays a tree view of installation options that were specified during Setup.</span></span> <span data-ttu-id="f56f2-221">Pour continuer, cliquez sur **Mettre à niveau**.</span><span class="sxs-lookup"><span data-stu-id="f56f2-221">To continue, click **Upgrade**.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="f56f2-222">installe d'abord les composants requis pour les fonctionnalités sélectionnées, puis installe les fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="f56f2-222">Setup will first install the required prerequisites for the selected features followed by the feature installation.</span></span>  
  
17. <span data-ttu-id="f56f2-223">Au cours de la mise à niveau, la page Progression de l'installation fournit des informations d'état pour que vous puissiez contrôler la progression de la mise à niveau sur le nœud actuel au fil de l'exécution du programme d'installation.</span><span class="sxs-lookup"><span data-stu-id="f56f2-223">During upgrade, the Progress page provides status so that you can monitor the upgrade progress on the current node as Setup continues.</span></span>  
  
18. <span data-ttu-id="f56f2-224">Une fois la mise à niveau du nœud actuel terminée, la page Rapport de mise à niveau de cluster affiche des informations sur l'état de la mise à niveau pour tous les nœuds de cluster de basculement, les fonctionnalités sur chaque nœud de cluster de basculement, ainsi que leurs informations de version.</span><span class="sxs-lookup"><span data-stu-id="f56f2-224">After the upgrade of the current node, the Cluster Upgrade Report page displays an upgrade status information for all the failover cluster nodes, features on each failover cluster node, and their version information.</span></span> <span data-ttu-id="f56f2-225">Vérifiez les informations de version qui sont affichées et poursuivez la mise à niveau des nœuds restants.</span><span class="sxs-lookup"><span data-stu-id="f56f2-225">Confirm the version information that is displayed and continue with the upgrade of the remaining nodes.</span></span> <span data-ttu-id="f56f2-226">En cas de basculement des nœuds mis à niveau, ces informations s'affichent également sur la page d'état.</span><span class="sxs-lookup"><span data-stu-id="f56f2-226">If the failover to upgraded nodes occurred, this is also apparent on the status page.</span></span> <span data-ttu-id="f56f2-227">Vous pouvez également procéder à une vérification supplémentaire dans l'Administrateur de cluster Windows.</span><span class="sxs-lookup"><span data-stu-id="f56f2-227">You can also check in the Windows Cluster administrator tool to confirm.</span></span>  
  
19. <span data-ttu-id="f56f2-228">Après la mise à niveau, la page Terminé fournit un lien vers le fichier journal résumé de l'installation et d'autres remarques importantes.</span><span class="sxs-lookup"><span data-stu-id="f56f2-228">After upgrade, the Complete page provides a link to the summary log file for the installation and other important notes.</span></span> <span data-ttu-id="f56f2-229">Pour terminer le processus d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , cliquez sur **Fermer**.</span><span class="sxs-lookup"><span data-stu-id="f56f2-229">To complete the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation process, click **Close**.</span></span>  
  
20. <span data-ttu-id="f56f2-230">Redémarrez l'ordinateur si vous êtes invité à le faire.</span><span class="sxs-lookup"><span data-stu-id="f56f2-230">If you are instructed to restart the computer, do so now.</span></span> <span data-ttu-id="f56f2-231">Il est important de lire le message affiché par l'Assistant Installation à la fin de l'installation.</span><span class="sxs-lookup"><span data-stu-id="f56f2-231">It is important to read the message from the Installation Wizard when you have finished with Setup.</span></span> <span data-ttu-id="f56f2-232">Pour plus d’informations sur les fichiers journaux d’installation, consultez [Afficher et lire les fichiers journaux d’installation de SQL Server](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-232">For more information about Setup log files, see [View and Read SQL Server Setup Log Files](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).</span></span>  
  
21. <span data-ttu-id="f56f2-233">Pour terminer la mise à niveau, répétez les étapes 1 à 21 sur tous les autres nœuds du cluster de basculement [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-233">To complete the upgrade process, repeat steps 1 to 21 on all the other nodes on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>  
  
## <a name="to-upgrade-a-ssnoversion-multi-subnet-failover-cluster"></a><span data-ttu-id="f56f2-234">Pour mettre à niveau un cluster de basculement de sous-réseaux multiples [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="f56f2-234">To upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Multi-Subnet Failover Cluster</span></span>  
  
#### <a name="to-upgrade-to-a-ssnoversion-multi-subnet-failover-cluster-existing-ssnoversion-cluster-is-a-non-multi-subnet-cluster"></a><span data-ttu-id="f56f2-235">Pour mettre à niveau vers un cluster de basculement de sous-réseaux multiples [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (le cluster [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] existant est un cluster de sous-réseaux non multiples.)</span><span class="sxs-lookup"><span data-stu-id="f56f2-235">To upgrade to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover Cluster (Existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cluster is a non multi-subnet cluster).</span></span>  
  
1.  <span data-ttu-id="f56f2-236">Suivez les étapes 1 à 24 décrites dans la section [pour mettre à niveau un cluster de basculement SQL Server](#UpgradeSteps) ci-dessus pour mettre à niveau votre cluster vers [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f56f2-236">Follow the steps 1 through 24 described in the [To upgrade a SQL Server failover cluster](#UpgradeSteps) section above to upgrade your cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span>  
  
2.  <span data-ttu-id="f56f2-237">Ajoutez un nœud sur un sous-réseau différent à l'aide de l'action d'installation AddNode et confirmez la dépendance de ressource d'adresse IP sur OR dans la page **Configuration du réseau du cluster** .</span><span class="sxs-lookup"><span data-stu-id="f56f2-237">Add a node on a different subnet using the AddNode Setup action and confirm the IP address resource dependency to OR on the **Cluster Network Configuration** page.</span></span> <span data-ttu-id="f56f2-238">Pour plus d’informations, consultez [Ajouter ou supprimer des nœuds dans un cluster de basculement SQL Server &#40;d’installation&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span><span class="sxs-lookup"><span data-stu-id="f56f2-238">For more information, see [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span></span>  
  
#### <a name="to-upgrade-a-multi-subnet-cluster-currently-using-stretch-v-lan"></a><span data-ttu-id="f56f2-239">Pour mettre à niveau un cluster de sous-réseaux multiples utilisant actuellement l'étirement V-LAN</span><span class="sxs-lookup"><span data-stu-id="f56f2-239">To upgrade a multi-subnet cluster currently using Stretch V-Lan.</span></span>  
  
1.  <span data-ttu-id="f56f2-240">Suivez les étapes 1 à 24 décrites dans la section [pour mettre à niveau un cluster de basculement SQL Server](#UpgradeSteps) ci-dessus pour mettre à niveau votre cluster vers [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f56f2-240">Follow the steps 1 through 24 described in the [To upgrade a SQL Server failover cluster](#UpgradeSteps) section above to upgrade your cluster to [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
2.  <span data-ttu-id="f56f2-241">Modifiez les paramètres réseau pour déplacer le nœud distant vers un autre sous-réseau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-241">Change the network settings to move the remote node to a different subnet.</span></span>  
  
3.  <span data-ttu-id="f56f2-242">À l'aide de l'outil d'administration de cluster de basculement Windows, ajoutez une nouvelle adresse IP pour le nouveau sous-réseau et définissez la dépendance de ressource d'adresse IP sur OR.</span><span class="sxs-lookup"><span data-stu-id="f56f2-242">Using the Windows Failover Cluster management tool, add a new IP address for the new subnet set the IP address resource dependency to OR.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="f56f2-243">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="f56f2-243">Next Steps</span></span>  
 <span data-ttu-id="f56f2-244">Après avoir effectué la mise à niveau vers [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], effectuez les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="f56f2-244">After you upgrade to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], complete the following tasks:</span></span>  
  
-   <span data-ttu-id="f56f2-245">Inscrire vos serveurs</span><span class="sxs-lookup"><span data-stu-id="f56f2-245">Register your servers</span></span>  
  
     <span data-ttu-id="f56f2-246">La mise à niveau entraîne la suppression des paramètres du Registre pour l'instance antérieure de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-246">Upgrade removes registry settings for the previous [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="f56f2-247">Après la mise à niveau, vous devez réinscrire vos serveurs.</span><span class="sxs-lookup"><span data-stu-id="f56f2-247">After you upgrade, you must reregister your servers.</span></span>  
  
-   <span data-ttu-id="f56f2-248">Mettre à jour les statistiques</span><span class="sxs-lookup"><span data-stu-id="f56f2-248">Update statistics</span></span>  
  
     <span data-ttu-id="f56f2-249">Afin d'optimiser les performances des requêtes, il est recommandé de mettre à jour les statistiques sur toutes les bases de données après une mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="f56f2-249">To help optimize query performance, we recommend that you update statistics on all databases following upgrade.</span></span> <span data-ttu-id="f56f2-250">Utilisez la procédure stockée **sp_updatestats** pour mettre à jour les statistiques des tables définies par l’utilisateur dans les bases de données [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f56f2-250">Use the **sp_updatestats** stored procedure to update statistics in user-defined tables in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] databases.</span></span>  
  
-   <span data-ttu-id="f56f2-251">Configurer votre nouvelle installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="f56f2-251">Configure your new [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation</span></span>  
  
     <span data-ttu-id="f56f2-252">Pour réduire la surface d'exposition d'un système, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installe et active de façon sélective les services et fonctionnalités clés.</span><span class="sxs-lookup"><span data-stu-id="f56f2-252">To reduce the attackable surface area of a system, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] selectively installs and enables key services and features.</span></span> <span data-ttu-id="f56f2-253">Pour plus d'informations sur la configuration de la surface d'exposition, consultez le fichier Lisezmoi de cette version.</span><span class="sxs-lookup"><span data-stu-id="f56f2-253">For more information about surface area configuration, see the readme file for this release.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f56f2-254">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f56f2-254">See Also</span></span>  
 <span data-ttu-id="f56f2-255">[Installer SQL Server 2014 à partir de l’invite de commandes](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span><span class="sxs-lookup"><span data-stu-id="f56f2-255">[Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span></span>  
 [<span data-ttu-id="f56f2-256">Afficher et lire les fichiers journaux d'installation de SQL Server</span><span class="sxs-lookup"><span data-stu-id="f56f2-256">View and Read SQL Server Setup Log Files</span></span>](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md)  
  
  
