---
title: Ajouter des dépendances à une ressource SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- resource dependencies [SQL Server]
- failover clustering [SQL Server], dependencies
- clusters [SQL Server], dependencies
- dependencies [SQL Server], clustering
ms.assetid: 25dbb751-139b-4c8e-ac62-3ec23110611f
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 8610d3dc847d0d2b8dd6f570aa543d766adf68c0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87605026"
---
# <a name="add-dependencies-to-a-sql-server-resource"></a><span data-ttu-id="1a475-102">Ajouter des dépendances à une ressource SQL Server</span><span class="sxs-lookup"><span data-stu-id="1a475-102">Add Dependencies to a SQL Server Resource</span></span>
  <span data-ttu-id="1a475-103">Cette rubrique explique comment ajouter des dépendances à une ressource d'instance de cluster de basculement (FCI) AlwaysOn à l'aide du composant logiciel enfichable Gestionnaire du cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="1a475-103">This topic describes how to add dependencies to an AlwaysOn Failover Cluster Instance (FCI) resource by using the Failover Cluster Manager snap-in.</span></span> <span data-ttu-id="1a475-104">Le composant logiciel enfichable Gestionnaire du cluster de basculement est l'application de gestion du service de cluster de basculement Windows Server (WSFC).</span><span class="sxs-lookup"><span data-stu-id="1a475-104">The Failover Cluster Manager snap-in is the cluster management application for the Windows Server Failover Clustering (WSFC) service.</span></span>  
  
-   <span data-ttu-id="1a475-105">**Avant de commencer :**  [Limitations et restrictions](#Restrictions), [Prérequis](#Prerequisites)</span><span class="sxs-lookup"><span data-stu-id="1a475-105">**Before you begin:**  [Limitations and Restrictions](#Restrictions), [Prerequisites](#Prerequisites)</span></span>  
  
-   <span data-ttu-id="1a475-106">**Pour ajouter une dépendance à une ressource SQL Server, à l’aide de :** [Gestionnaire du cluster de basculement Windows](#WinClusManager)</span><span class="sxs-lookup"><span data-stu-id="1a475-106">**To add a dependency to a SQL Server resource, using:** [Windows Failover Cluster Manager](#WinClusManager)</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="1a475-107">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="1a475-107">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="1a475-108">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="1a475-108">Limitations and Restrictions</span></span>  
 <span data-ttu-id="1a475-109">Il est important de noter que si vous ajoutez d'autres ressources au groupe [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , celles-ci doivent avoir obligatoirement un nom de réseau SQL unique et une adresse IP SQL propre.</span><span class="sxs-lookup"><span data-stu-id="1a475-109">It is important to note that if you add any other resources to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] group, those resources must always have their own unique SQL network name resources and their own SQL IP address resources.</span></span>  
  
 <span data-ttu-id="1a475-110">N'utilisez pas de ressources SQL existantes de noms sur le réseau et d'adresses IP pour autre chose que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1a475-110">Do not use the existing SQL network name resources and SQL IP address resources for anything other than [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="1a475-111">Si les ressources [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sont partagées avec d'autres ressources, les problèmes suivants peuvent se poser :</span><span class="sxs-lookup"><span data-stu-id="1a475-111">If [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resources are shared with other resources, the following problems may occur:</span></span>  
  
-   <span data-ttu-id="1a475-112">Des pannes inattendues peuvent se produire.</span><span class="sxs-lookup"><span data-stu-id="1a475-112">Outages that are not expected may occur.</span></span>  
  
-   <span data-ttu-id="1a475-113">Les installations des Service Packs peuvent échouer.</span><span class="sxs-lookup"><span data-stu-id="1a475-113">Service pack installations may not be successful.</span></span>  
  
-   <span data-ttu-id="1a475-114">Le programme d'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] peut échouer.</span><span class="sxs-lookup"><span data-stu-id="1a475-114">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup program may not be successful.</span></span> <span data-ttu-id="1a475-115">Si ce problème se produit, vous ne pouvez pas installer d'autres instances [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou effectuer des opérations de maintenance régulière.</span><span class="sxs-lookup"><span data-stu-id="1a475-115">If this problem occurs, you cannot install additional instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] or perform routine maintenance.</span></span>  
  
 <span data-ttu-id="1a475-116">Tenez compte de ces problèmes supplémentaires :</span><span class="sxs-lookup"><span data-stu-id="1a475-116">Consider these additional issues:</span></span>  
  
-   <span data-ttu-id="1a475-117">FTP avec la réplication [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] : pour les instances de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui utilisent FTP avec la réplication [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], votre service FTP doit utiliser l’un des disques physiques utilisés pour l’installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] configurée pour utiliser le service FTP.</span><span class="sxs-lookup"><span data-stu-id="1a475-117">FTP with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] replication: For instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that use FTP with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] replication, your FTP service must use one of the same physical disks as the installation of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that is set up to use the FTP service.</span></span>  
  
-   <span data-ttu-id="1a475-118">Dépendances de ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] : si vous ajoutez une ressource à un groupe [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et s’il existe une dépendance sur la ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pour garantir que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est disponible, [!INCLUDE[msCoName](../../../includes/msconame-md.md)] vous recommande d’ajouter une dépendance sur la ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent.</span><span class="sxs-lookup"><span data-stu-id="1a475-118">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource dependencies: If you add a resource to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] group and you have a dependency on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource to make sure that [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is available, [!INCLUDE[msCoName](../../../includes/msconame-md.md)] recommends that you add a dependency on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent resource.</span></span> <span data-ttu-id="1a475-119">N'ajoutez pas une dépendance à la ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1a475-119">Do not add a dependency on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource.</span></span> <span data-ttu-id="1a475-120">Pour garantir que l’ordinateur qui exécute [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] reste hautement disponible, configurez la ressource de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent de façon à ce qu’elle n’affecte pas le groupe [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en cas d’échec de cette dernière. [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="1a475-120">To make sure that the computer that is running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] remains highly available, configure the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent resource so that it does not affect the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] group if the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent resource fails.</span></span>  
  
-   <span data-ttu-id="1a475-121">Ressources de partage de fichiers ou d’imprimantes : quand vous installez des ressources de partage de fichiers ou de cluster d’imprimante, celles-ci ne doivent pas se trouver sur les mêmes ressources de disques physiques que l’ordinateur qui exécute [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1a475-121">File shares and printer resources: When you install File Share resources or Printer cluster resources, they should not be put on the same physical disk resources as the computer that is running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="1a475-122">Si elles se trouvent sur les ressources des disques physiques, vous pouvez constater une dégradation des performances et une perte des services sur l'ordinateur qui exécute [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1a475-122">If they are put on the same physical disk resources, you may experience performance degradation and loss of service to the computer that is running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="1a475-123">Considérations relatives à MS DTC : après avoir installé le système d’exploitation et configuré votre FCI, vous devez configurer [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator (MS DTC) pour travailler dans un cluster à l’aide du composant logiciel enfichable Gestionnaire du cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="1a475-123">MS DTC considerations: After you install the operating system and configure your FCI, you must configure [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator (MS DTC) to work in a cluster by using the Failover Cluster Manager snap-in.</span></span> <span data-ttu-id="1a475-124">L'échec de la mise en cluster de MS DTC ne bloquera pas l'installation de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , mais les fonctionnalités des applications [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] peuvent être affectées si MS DTC n'est pas configuré correctement.</span><span class="sxs-lookup"><span data-stu-id="1a475-124">Failure to cluster MS DTC will not block [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] application functionality may be affected if MS DTC is not properly configured.</span></span>  
  
     <span data-ttu-id="1a475-125">Si vous installez MS DTC dans votre groupe [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et si d'autres ressources dépendent de MS DTC, MS DTC ne sera pas disponible si ce groupe est hors connexion ou lors d'un basculement.</span><span class="sxs-lookup"><span data-stu-id="1a475-125">If you install MS DTC in your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] group and you have other resources that are dependent on MS DTC, MS DTC will not be available if this group is offline or during a failover.</span></span> [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="1a475-126">recommande de placer MS DTC dans un groupe distinct avec sa propre ressource de disque physique, si possible.</span><span class="sxs-lookup"><span data-stu-id="1a475-126">recommends that you put MS DTC in its own group with its own physical disk resource, if it is possible.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="1a475-127">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="1a475-127">Prerequisites</span></span>  
 <span data-ttu-id="1a475-128">Si vous installez [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dans un groupe de ressources WSFC qui comporte plusieurs lecteurs de disques et si vous choisissez de placer vos données sur un des lecteurs, la ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sera configurée comme étant dépendante uniquement sur ce lecteur.</span><span class="sxs-lookup"><span data-stu-id="1a475-128">If you install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] into a WSFC resource group with multiple disk drives and choose to place your data on one of the drives, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource will be set to be dependent only on that drive.</span></span> <span data-ttu-id="1a475-129">Pour placer les données ou les journaux sur un autre disque, vous devez d'abord ajouter une dépendance à la ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pour le disque supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="1a475-129">To put data or logs on another disk, you must first add a dependency to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource for the additional disk.</span></span>  
  
##  <a name="using-the-failover-cluster-manager-snap-in"></a><a name="WinClusManager"></a> <span data-ttu-id="1a475-130">Utilisation du composant logiciel enfichable Gestionnaire du cluster de basculement</span><span class="sxs-lookup"><span data-stu-id="1a475-130">Using the Failover Cluster Manager Snap-in</span></span>  
 <span data-ttu-id="1a475-131">**Pour ajouter une dépendance à une ressource SQL Server**</span><span class="sxs-lookup"><span data-stu-id="1a475-131">**To add a dependency to a SQL Server resource**</span></span>  
  
-   <span data-ttu-id="1a475-132">Ouvrez le composant logiciel enfichable Gestionnaire du cluster de basculement.</span><span class="sxs-lookup"><span data-stu-id="1a475-132">Open the Failover Cluster Manager snap-in.</span></span>  
  
-   <span data-ttu-id="1a475-133">Recherchez le groupe qui contient la ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applicable que vous voulez rendre dépendante.</span><span class="sxs-lookup"><span data-stu-id="1a475-133">Locate the group that contains the applicable [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource that you would like to make dependent.</span></span>  
  
-   <span data-ttu-id="1a475-134">Si la ressource du disque se trouve déjà dans ce groupe, passez à l'étape 4.</span><span class="sxs-lookup"><span data-stu-id="1a475-134">If the resource for the disk is already in this group, go to step 4.</span></span> <span data-ttu-id="1a475-135">Sinon, recherchez le groupe qui contient le disque.</span><span class="sxs-lookup"><span data-stu-id="1a475-135">Otherwise, locate the group that contains the disk.</span></span> <span data-ttu-id="1a475-136">Si ce groupe et le groupe qui contient [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] n'appartiennent pas au même nœud, déplacez le groupe qui contient la ressource du disque vers le nœud propriétaire du groupe [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1a475-136">If that group and the group that contains [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] are not owned by the same node, move the group containing the resource for the disk to the node that owns the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] group.</span></span>  
  
-   <span data-ttu-id="1a475-137">Sélectionnez la ressource [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , ouvrez la boîte de dialogue **Propriétés** et utilisez l'onglet **Dépendances** pour ajouter le disque à l'ensemble de dépendances [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1a475-137">Select the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource, open the **Properties** dialog box, and use the **Dependencies** tab to add the disk to the set of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dependencies.</span></span>  
  
  
