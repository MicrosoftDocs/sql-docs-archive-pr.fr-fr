---
title: Options de mise à niveau de la recherche en texte intégral | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- Full-Text Search
- Upgrade options, Full-Text Search
ms.assetid: 16c9376b-5fbb-4495-a429-06a2493849c9
author: rothja
ms.author: jroth
ms.openlocfilehash: ade7a05563598440c3fdc79dd4b3584f7f797d4e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87697412"
---
# <a name="full-text-search-upgrade-options"></a><span data-ttu-id="04861-102">Options de mise à niveau de recherche en texte intégral</span><span class="sxs-lookup"><span data-stu-id="04861-102">Full-Text Search Upgrade Options</span></span>
  <span data-ttu-id="04861-103">Utilisez la page des options de mise à niveau de recherche en texte intégral de l'Assistant Installation [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour sélectionner l'option de mise à niveau de recherche en texte intégral à utiliser pour les bases de données que vous mettez actuellement à niveau.</span><span class="sxs-lookup"><span data-stu-id="04861-103">Use the Full-Text Search Upgrade Options page of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation Wizard to select the full-text search upgrade option to use for the databases that you are upgrading at this time.</span></span>  
  
 <span data-ttu-id="04861-104">Dans [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , chaque index de recherche en texte intégral réside dans un catalogue de texte intégral qui appartient à un groupe de fichiers, a un chemin d'accès physique et est traité en tant que fichier de base de données.</span><span class="sxs-lookup"><span data-stu-id="04861-104">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] each full-text index resides in a full-text catalog that belongs to a filegroup, has a physical path, and is treated as a database file.</span></span> <span data-ttu-id="04861-105">À présent, un catalogue de texte intégral est un concept logique (un objet virtuel) qui fait référence à un groupe d’index de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="04861-105">Now, a full-text catalog is a logical concept-a virtual object-that refers to a group of full-text indexes.</span></span> <span data-ttu-id="04861-106">Par conséquent, un nouveau catalogue de texte intégral n'est pas traité en tant que fichier de base de données avec un chemin d'accès physique.</span><span class="sxs-lookup"><span data-stu-id="04861-106">Therefore, a new full-text catalog is not treated as a database file with a physical path.</span></span> <span data-ttu-id="04861-107">Toutefois, un nouveau groupe de fichiers est créé sur le même disque pendant la mise à niveau de tout catalogue de texte intégral qui contient des fichiers de données.</span><span class="sxs-lookup"><span data-stu-id="04861-107">However, during upgrade of any full-text catalog that contains data files, a new filegroup is created on same disk.</span></span> <span data-ttu-id="04861-108">Cela maintient le comportement d'E/S de l'ancien disque après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="04861-108">This maintains the old disk I/O behavior after upgrade.</span></span> <span data-ttu-id="04861-109">Tout index de recherche en texte intégral de ce catalogue est placé dans le nouveau groupe de fichiers si le chemin d'accès racine existe.</span><span class="sxs-lookup"><span data-stu-id="04861-109">Any full-text index from that catalog is placed in the new filegroup if the root path exists.</span></span> <span data-ttu-id="04861-110">Si l'ancien chemin de catalogue de texte intégral est non valide, la mise à niveau conserve l'index de recherche en texte intégral dans le même groupe de fichiers comme table de base ou, pour une table partitionnée, dans le groupe de fichiers principal.</span><span class="sxs-lookup"><span data-stu-id="04861-110">If the old full-text catalog path is invalid, the upgrade keeps the full-text index in the same filegroup as base table or, for a partitioned table, in the primary filegroup.</span></span>  
  
## <a name="options"></a><span data-ttu-id="04861-111">Options</span><span class="sxs-lookup"><span data-stu-id="04861-111">Options</span></span>  
 <span data-ttu-id="04861-112">Lorsque vous effectuez une mise à niveau vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], choisissez l'une des options de mise à niveau de texte intégral ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="04861-112">When you upgrade to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], choose one of the following full-text upgrade options.</span></span>  
  
 <span data-ttu-id="04861-113">**Importer**</span><span class="sxs-lookup"><span data-stu-id="04861-113">**Import**</span></span>  
 <span data-ttu-id="04861-114">Les catalogues de texte intégral sont importés.</span><span class="sxs-lookup"><span data-stu-id="04861-114">Full-text catalogs are imported.</span></span> <span data-ttu-id="04861-115">En général, l'importation est considérablement plus rapide que lors d'une reconstruction (rebuild).</span><span class="sxs-lookup"><span data-stu-id="04861-115">Typically, import is significantly faster than rebuild.</span></span> <span data-ttu-id="04861-116">Par exemple, lorsque vous utilisez un seul processeur, l'importation s'exécute approximativement 10 fois plus vite que lors de la reconstruction.</span><span class="sxs-lookup"><span data-stu-id="04861-116">For example, when using only one CPU, import runs about 10 times faster than rebuild.</span></span> <span data-ttu-id="04861-117">Toutefois, un catalogue de texte intégral importé de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] n'utilise pas les analyseurs lexicaux nouveaux et améliorés, ce qui fait que vous pouvez le cas échéant reconstruire vos catalogues de texte intégral au final.</span><span class="sxs-lookup"><span data-stu-id="04861-117">However, a full-text catalog imported from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] does not use the new and enhanced word breakers, so you might want to rebuild your full-text catalogs eventually.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="04861-118">Le processus de reconstruction peut s'exécuter en mode multithread, et si plus de 10 processeurs sont disponibles, la reconstruction peut s'effectuer plus vite que l'importation si vous la laissez utiliser tous les processeurs.</span><span class="sxs-lookup"><span data-stu-id="04861-118">Rebuild can run in multi-threaded mode, and if more than 10 CPUs are available, rebuild might run faster than import if you allow rebuild to use all of the CPUs.</span></span>  
  
 <span data-ttu-id="04861-119">Si aucun catalogue de texte intégral n'est disponible, les index de recherche en texte intégral associés sont reconstruits.</span><span class="sxs-lookup"><span data-stu-id="04861-119">If a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span> <span data-ttu-id="04861-120">Cette option est disponible uniquement pour les bases de données [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="04861-120">This option is available for only [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] databases.</span></span>  
  
 <span data-ttu-id="04861-121">Pour plus d'informations sur l'impact de l'importation de l'index de recherche en texte intégral, consultez « Considérations relatives au choix d'une option de mise à niveau », plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="04861-121">For information about the impact of importing full-text index, see "Considerations for Choosing a Full-Text Upgrade Option," later in this topic.</span></span>  
  
 <span data-ttu-id="04861-122">**Recréation**</span><span class="sxs-lookup"><span data-stu-id="04861-122">**Rebuild**</span></span>  
 <span data-ttu-id="04861-123">Les catalogues de texte intégral sont reconstruits à l'aide des analyseurs lexicaux nouveaux et améliorés.</span><span class="sxs-lookup"><span data-stu-id="04861-123">Full-text catalogs are rebuilt using the new and enhanced word breakers.</span></span> <span data-ttu-id="04861-124">La reconstruction des index peut prendre beaucoup de temps, et une quantité importante de ressources en termes d'UC et de mémoire peut être requise après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="04861-124">Rebuilding indexes can take a lot of time, and a significant amount of CPU and memory might be required after the upgrade.</span></span>  
  
 <span data-ttu-id="04861-125">**Réinitialiser**</span><span class="sxs-lookup"><span data-stu-id="04861-125">**Reset**</span></span>  
 <span data-ttu-id="04861-126">Les catalogues de texte intégral sont réinitialisés.</span><span class="sxs-lookup"><span data-stu-id="04861-126">Full-text catalogs are reset.</span></span> <span data-ttu-id="04861-127">Lors de la mise à niveau à partir de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], les catalogues de texte intégral sont supprimés, mais les métadonnées pour les catalogues de texte intégral et les index de recherche en texte intégral sont conservées.</span><span class="sxs-lookup"><span data-stu-id="04861-127">When upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], full-text catalog files are removed, but the metadata for full-text catalogs and full-text indexes is retained.</span></span> <span data-ttu-id="04861-128">Après leur mise à niveau, tous les index de recherche en texte intégral ont le suivi des modifications désactivé et aucune analyse n'est démarrée automatiquement.</span><span class="sxs-lookup"><span data-stu-id="04861-128">After being upgraded, all full-text indexes are disabled for change tracking and crawls are not started automatically.</span></span> <span data-ttu-id="04861-129">Le catalogue reste vide tant que vous n'avez pas procédé manuellement à une alimentation complète, au terme de la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="04861-129">The catalog will remain empty until you manually issue a full population, after the upgrade completes.</span></span>  
  
 <span data-ttu-id="04861-130">Toutes ces options de mise à niveau garantissent que les bases de données mises à niveau bénéficient pleinement des améliorations en termes de performances du texte intégral.</span><span class="sxs-lookup"><span data-stu-id="04861-130">All of these upgrade options ensure that upgraded databases benefit fully from full-text performance enhancements.</span></span>  
  
## <a name="considerations-for-choosing-a-full-text-upgrade-option"></a><span data-ttu-id="04861-131">Considérations relatives au choix d'une option de mise à niveau de texte intégral</span><span class="sxs-lookup"><span data-stu-id="04861-131">Considerations for Choosing a Full-Text Upgrade Option</span></span>  
 <span data-ttu-id="04861-132">Au moment de choisir l'option de mise à niveau pour votre mise à niveau, tenez compte des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="04861-132">When choosing the upgrade option for your upgrade, consider the following:</span></span>  
  
-   <span data-ttu-id="04861-133">Comment utilisez-vous les analyseurs lexicaux ?</span><span class="sxs-lookup"><span data-stu-id="04861-133">How do you use word breakers?</span></span>  
  
     <span data-ttu-id="04861-134">Le service de recherche en texte intégral dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] inclut de nouveaux analyseurs lexicaux et générateurs de formes dérivées.</span><span class="sxs-lookup"><span data-stu-id="04861-134">The full-text search service in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] includes word breakers and stemmers.</span></span> <span data-ttu-id="04861-135">Ceux-ci peuvent modifier les résultats de requêtes de texte intégral de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] pour un modèle ou scénario de texte spécifique.</span><span class="sxs-lookup"><span data-stu-id="04861-135">These might change the results of full-text queries from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] for a specific text pattern or scenario.</span></span> <span data-ttu-id="04861-136">Par conséquent, la manière dont vous utilisez les analyseurs lexicaux est importante lors du choix d'une option de mise à niveau appropriée :</span><span class="sxs-lookup"><span data-stu-id="04861-136">Therefore, how you use word breakers is important when choosing a suitable upgrade option:</span></span>  
  
    -   <span data-ttu-id="04861-137">Si les analyseurs lexicaux de la langue de texte intégral que vous utilisez n'ont pas changé, ou si l'exactitude de rappel n'est pas critique pour vous, l'importation est appropriée.</span><span class="sxs-lookup"><span data-stu-id="04861-137">If the word breakers of the full-text language you use did not change, or if recall accuracy is not critical to you, importing is suitable.</span></span> <span data-ttu-id="04861-138">Ultérieurement, si vous rencontrez des problèmes de rappel, vous pouvez effectuer une mise à niveau vers les nouveaux analyseurs lexicaux en reconstruisant vos catalogues de texte intégral.</span><span class="sxs-lookup"><span data-stu-id="04861-138">Later, if you experience any recall issues, you can upgrade to the new word breakers simply by rebuilding your full-text catalogs.</span></span>  
  
    -   <span data-ttu-id="04861-139">Si vous tenez à l'exactitude de rappel et que vous utilisez l'un des analyseurs lexicaux qui ont été ajoutés après [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], la reconstruction est appropriée.</span><span class="sxs-lookup"><span data-stu-id="04861-139">If you care about recall accuracy and you use one of the word breakers that were added after [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], rebuilding is suitable.</span></span>  
  
-   <span data-ttu-id="04861-140">Certains index de recherche en texte intégral ont-ils été construits sur la base de colonnes clés de texte intégral de type Integer ?</span><span class="sxs-lookup"><span data-stu-id="04861-140">Were any full-text indexes built on integer full-text key columns?</span></span>  
  
     <span data-ttu-id="04861-141">La reconstruction effectue, dans quelques cas, des optimisations internes qui améliorent le performances des requêtes de l'index de recherche en texte intégral mis à niveau.</span><span class="sxs-lookup"><span data-stu-id="04861-141">Rebuilding performs internal optimizations that improve the query performance of the upgraded full-text index in some cases.</span></span> <span data-ttu-id="04861-142">Spécifiquement, si vous avez des catalogues de texte intégral qui contiennent des index de recherche en texte intégral dont la colonne clé de texte intégral de la table de base correspond à un type de données Integer, la reconstruction permet d'obtenir une performance idéale des requêtes de texte intégral après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="04861-142">Specifically, if you have full-text catalogs that contain full-text indexes for which the full-text key column of the base table is an integer data type, rebuilding achieves ideal performance of full-text queries after upgrade.</span></span> <span data-ttu-id="04861-143">Nous recommandons vivement que vous utilisiez l'option **Reconstruire** dans ce cas.</span><span class="sxs-lookup"><span data-stu-id="04861-143">In this case, we highly recommend you to use the **Rebuild** option.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="04861-144">Pour les index de texte intégral dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], nous recommandons que la colonne servant de clé de texte intégral corresponde à un type de données Integer.</span><span class="sxs-lookup"><span data-stu-id="04861-144">For full-text indexes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], we recommend that the column serving as the full-text key be an integer data type.</span></span> <span data-ttu-id="04861-145">Pour plus d’informations, consultez [Améliorer les performances des index de recherche en texte intégral](../../relational-databases/indexes/indexes.md).</span><span class="sxs-lookup"><span data-stu-id="04861-145">For more information, see [Improve the Performance of Full-Text Indexes](../../relational-databases/indexes/indexes.md).</span></span>  
  
-   <span data-ttu-id="04861-146">Quelle est la priorité pour obtenir votre instance de serveur en ligne ?</span><span class="sxs-lookup"><span data-stu-id="04861-146">What is the priority for getting your server instance online?</span></span>  
  
     <span data-ttu-id="04861-147">L'importation ou la reconstruction pendant la mise à niveau mobilise beaucoup de ressources processeur, ce qui retarde la mise à niveau et en ligne du reste de l'instance serveur.</span><span class="sxs-lookup"><span data-stu-id="04861-147">Importing or rebuilding during upgrade takes a lot of CPU resources, which delays getting the rest of the server instance upgraded and online.</span></span> <span data-ttu-id="04861-148">Si le fait d'avoir l'instance de serveur en ligne dès que possible est important et si vous êtes disposé à exécuter une alimentation manuelle après la mise à niveau, la **réinitialisation** est appropriée.</span><span class="sxs-lookup"><span data-stu-id="04861-148">If getting the server instance online as soon as possible is important and if you are willing to run a manual population after the upgrade, **Reset** is suitable.</span></span>  
  
## <a name="additional-resources"></a><span data-ttu-id="04861-149">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="04861-149">Additional Resources</span></span>  
  
