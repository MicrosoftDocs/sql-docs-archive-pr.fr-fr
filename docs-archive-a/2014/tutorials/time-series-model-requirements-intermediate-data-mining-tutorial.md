---
title: Comprendre la configuration requise pour un modèle de série chronologique (didacticiel sur l’exploration de données intermédiaire) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 1ce2b3e3-108a-4f7e-985f-a20b816d0da7
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: cf92effaabb38a93a294bdf194025a524ad601f3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87600377"
---
# <a name="understanding-the-requirements-for-a-time-series-model-intermediate-data-mining-tutorial"></a><span data-ttu-id="571f7-102">Spécifications pour un modèle de série chronologique (Didacticiel sur l'exploration de données intermédiaire)</span><span class="sxs-lookup"><span data-stu-id="571f7-102">Understanding the Requirements for a Time Series Model (Intermediate Data Mining Tutorial)</span></span>
  <span data-ttu-id="571f7-103">Lorsque vous préparez des données afin de les utiliser dans un modèle de prévision, vous devez veiller à ce qu'elles contiennent une colonne pouvant être utilisée pour identifier les étapes dans la série chronologique.</span><span class="sxs-lookup"><span data-stu-id="571f7-103">When you are preparing data for use in a forecasting model, you must ensure that your data contains a column that can be used to identify the steps in the time series.</span></span> <span data-ttu-id="571f7-104">Cette colonne sera désignée comme colonne `Key Time`.</span><span class="sxs-lookup"><span data-stu-id="571f7-104">That column will be designated as the `Key Time` column.</span></span> <span data-ttu-id="571f7-105">Puisqu'il s'agit d'une clé, la colonne doit contenir des valeurs numériques uniques.</span><span class="sxs-lookup"><span data-stu-id="571f7-105">Because it is a key, the column must contain unique numeric values.</span></span>  
  
 <span data-ttu-id="571f7-106">Le choix de la bonne unité pour la colonne `Key Time` est une partie importante de l'analyse.</span><span class="sxs-lookup"><span data-stu-id="571f7-106">Choosing the right unit for the `Key Time` column is an important part of analysis.</span></span> <span data-ttu-id="571f7-107">Par exemple, supposons que vos données de ventes soient actualisées minute par minute.</span><span class="sxs-lookup"><span data-stu-id="571f7-107">For example, suppose your sales data is refreshed on a minute by minute basis.</span></span> <span data-ttu-id="571f7-108">Vous n'êtes pas obligé de prendre les minutes comme unité pour la série chronologique ; il peut être plus explicite de regrouper les chiffres des ventes par jour, semaine ou même par mois.</span><span class="sxs-lookup"><span data-stu-id="571f7-108">You would not necessarily use minutes as the unit for the time series; you might find it more meaningful to roll up sales data by the day, week, or even month.</span></span> <span data-ttu-id="571f7-109">Si vous ne savez pas quelle unité de temps utiliser, vous pouvez créer une vue de source de données pour chaque agrégation et générer les modèles associés, pour savoir si différentes tendances émergent à chaque niveau d'agrégation.</span><span class="sxs-lookup"><span data-stu-id="571f7-109">If you are unsure which unit of time to use, you can create a new data source view for each aggregation, and build related models, to see if different trends emerge at each level of aggregation.</span></span>  
  
 <span data-ttu-id="571f7-110">Pour ce didacticiel, les données de ventes sont collectées quotidiennement dans la base de données des ventes transactionnelles, mais pour l'exploration de données, les données ont été préagrégées par mois, à l'aide d'une vue.</span><span class="sxs-lookup"><span data-stu-id="571f7-110">For this tutorial, sales data is collected on a daily basis in the transactional sales database, but for data mining, the data has been pre-aggregated by the month, using a view.</span></span>  
  
 <span data-ttu-id="571f7-111">De plus, il est souhaitable pour l'analyse que les données aient aussi peu d'écart possible.</span><span class="sxs-lookup"><span data-stu-id="571f7-111">Additionally, it is desirable for analysis that the data have as few gaps as possible.</span></span> <span data-ttu-id="571f7-112">Si vous envisagez d'analyser plusieurs séries de données, toutes les séries devraient commencer et se terminer de préférence aux mêmes dates.</span><span class="sxs-lookup"><span data-stu-id="571f7-112">If you plan to analyze multiple series of data, all series should preferably start and end on the same date.</span></span> <span data-ttu-id="571f7-113">Si les données comportent des intervalles, mais que les espaces ne se trouvent pas au début ou à la fin d’une série, vous pouvez utiliser le paramètre MISSING_VALUE_SUBSTITUTION pour remplir la série.</span><span class="sxs-lookup"><span data-stu-id="571f7-113">If the data has gaps, but the gaps are not at the beginning or end of a series, you can use the MISSING_VALUE_SUBSTITUTION parameter to fill in the series.</span></span> [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] <span data-ttu-id="571f7-114">fournit également plusieurs options permettant de remplacer des données manquantes par des données, telles que l'utilisation de moyennes ou de constantes.</span><span class="sxs-lookup"><span data-stu-id="571f7-114">also provides several options for replacing missing data with values, such as using means or constants.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="571f7-115">Les outils de graphique croisé dynamique et de tableau croisé dynamique qui ont été inclus dans les versions antérieures du concepteur de vue de source de données ne sont plus fournis.</span><span class="sxs-lookup"><span data-stu-id="571f7-115">The PivotChart and PivotTable tools that were included in earlier versions of the data source view designer are no longer provided.</span></span> <span data-ttu-id="571f7-116">Nous vous conseillons d'identifier au préalable les écarts dans les données de série chronologique à l'aide des outils tels que le profileur de données inclus dans [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="571f7-116">We recommend that you identify gaps in time series data beforehand, by using tools such as the Data Profiler included in [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span></span>  
  
### <a name="to-identify-the-time-key-for-the-forecasting-model"></a><span data-ttu-id="571f7-117">Pour identifier la clé de temps pour le modèle de prévision</span><span class="sxs-lookup"><span data-stu-id="571f7-117">To identify the time key for the forecasting model</span></span>  
  
1.  <span data-ttu-id="571f7-118">Dans le volet **SalesByRegion. DSV [Design]**, cliquez avec le bouton droit sur la table vTimeSeries, puis sélectionnez **Explorer les données**.</span><span class="sxs-lookup"><span data-stu-id="571f7-118">In the pane, **SalesByRegion.dsv [Design]**, right-click the table vTimeSeries, and then select **Explore Data**.</span></span>  
  
     <span data-ttu-id="571f7-119">Un nouvel onglet s’ouvre, intitulé **Explorer la table vTimeSeries**.</span><span class="sxs-lookup"><span data-stu-id="571f7-119">A new tab opens, titled **Explore vTimeSeries Table**.</span></span>  
  
2.  <span data-ttu-id="571f7-120">Sous l’onglet **table** , examinez les données utilisées dans les colonnes TimeIndex et Reporting date.</span><span class="sxs-lookup"><span data-stu-id="571f7-120">On the **Table** tab, review the data that is used in the TimeIndex and Reporting Date columns.</span></span>  
  
     <span data-ttu-id="571f7-121">Ces deux sont des séquences comportant des valeurs uniques et peuvent être toutes deux utilisées comme clé de série chronologique ; toutefois, les types de données des colonnes sont différents.</span><span class="sxs-lookup"><span data-stu-id="571f7-121">Both are sequences with unique values and can both be used as the time series key; however, the data types of the columns are different.</span></span> <span data-ttu-id="571f7-122">L'algorithme MTS (Microsoft Time Series) ne requiert pas de type de données `datetime`, mais uniquement que les valeurs soient distinctes et classées.</span><span class="sxs-lookup"><span data-stu-id="571f7-122">The Microsoft Time Series algorithm does not require a `datetime` data type, only that the values be distinct and ordered.</span></span> <span data-ttu-id="571f7-123">Par conséquent, l'une ou l'autre des colonnes peuvent être utilisées comme clé de temps pour le modèle de prévision.</span><span class="sxs-lookup"><span data-stu-id="571f7-123">Therefore, either column can be used as the time key for the forecasting model.</span></span>  
  
3.  <span data-ttu-id="571f7-124">Dans l’aire de conception de la vue de source de données, sélectionnez la colonne Date de création de rapports, puis sélectionnez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="571f7-124">In the data source view design surface, select the column, Reporting Date and select **Properties**.</span></span> <span data-ttu-id="571f7-125">Ensuite, cliquez sur la colonne TimeIndex et sélectionnez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="571f7-125">Next, click the column TimeIndex and select **Properties**.</span></span>  
  
     <span data-ttu-id="571f7-126">Le champ TimeIndex a le type de données System. Int32, tandis que le champ date de rapport a le type de données System. DateTime.</span><span class="sxs-lookup"><span data-stu-id="571f7-126">The field TimeIndex has the data type System.Int32, whereas the field Reporting Date has the data type System.DateTime.</span></span> <span data-ttu-id="571f7-127">De nombreux entrepôts de données convertissent les valeurs date/heure en entiers et utilisent la colonne des entiers comme clé pour améliorer les performances d'indexation.</span><span class="sxs-lookup"><span data-stu-id="571f7-127">Many data warehouses convert date/time values to integers and use the integer column as the key, to improve indexing performance.</span></span> <span data-ttu-id="571f7-128">Toutefois, si vous utilisez cette colonne, l'algorithme MTS établit des prédictions à l'aide de valeurs futures, telles que 201014, 201014, etc.</span><span class="sxs-lookup"><span data-stu-id="571f7-128">However, if you use this column, the Microsoft Time Series algorithm will make predictions using future values such as 201014, 201014, and so forth.</span></span> <span data-ttu-id="571f7-129">Étant donné que vous souhaitez représenter vos prévisions de données de ventes à l’aide de dates de calendrier, vous allez utiliser la colonne de date de création de rapports comme identificateur de série unique.</span><span class="sxs-lookup"><span data-stu-id="571f7-129">Because you want to represent your sales data forecast by using calendar dates, you will use the Reporting Date column as the unique series identifier.</span></span>  
  
### <a name="to-set-the-key-in-the-data-source-view"></a><span data-ttu-id="571f7-130">Pour définir la clé dans la vue de source de données</span><span class="sxs-lookup"><span data-stu-id="571f7-130">To set the key in the data source view</span></span>  
  
1.  <span data-ttu-id="571f7-131">Dans le volet **SalesByRegion. DSV**, sélectionnez la table vTimeSeries.</span><span class="sxs-lookup"><span data-stu-id="571f7-131">In the pane **SalesByRegion.dsv**, select the vTimeSeries table.</span></span>  
  
2.  <span data-ttu-id="571f7-132">Cliquez avec le bouton droit sur la colonne, la date de création de rapports, puis sélectionnez **définir la clé primaire logique**.</span><span class="sxs-lookup"><span data-stu-id="571f7-132">Right-click the column, Reporting Date, and select **Set Logical Primary Key**.</span></span>  
  
## <a name="handling-missing-data-optional"></a><span data-ttu-id="571f7-133">Gestion des données manquantes (facultatif)</span><span class="sxs-lookup"><span data-stu-id="571f7-133">Handling Missing Data (Optional)</span></span>  
 <span data-ttu-id="571f7-134">S'il manque des données dans une série, vous risquez d'obtenir une erreur lorsque vous essayez de traiter le modèle.</span><span class="sxs-lookup"><span data-stu-id="571f7-134">If any series has missing data, you might get an error when you try to process the model.</span></span> <span data-ttu-id="571f7-135">Il existe plusieurs manières de gérer les données manquantes :</span><span class="sxs-lookup"><span data-stu-id="571f7-135">You have several ways to work around missing data:</span></span>  
  
-   <span data-ttu-id="571f7-136">Vous pouvez laisser Analysis Services remplir les valeurs manquantes, en calculant une moyenne ou en utilisant une valeur précédente.</span><span class="sxs-lookup"><span data-stu-id="571f7-136">You can have Analysis Services fill in missing values, either by calculating a mean, or by using a previous value.</span></span> <span data-ttu-id="571f7-137">Pour ce faire, définissez le paramètre MISSING_VALUE_SUBSTITUTION sur le modèle d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="571f7-137">You do this by setting the MISSING_VALUE_SUBSTITUTION parameter on the mining model.</span></span> <span data-ttu-id="571f7-138">Pour plus d’informations sur ce paramètre, consultez informations techniques de référence sur l' [algorithme MTS (Microsoft Time Series](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md)).</span><span class="sxs-lookup"><span data-stu-id="571f7-138">For more information about this parameter, see [Microsoft Time Series Algorithm Technical Reference](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md).</span></span> <span data-ttu-id="571f7-139">Pour plus d’informations sur la modification des paramètres d’un modèle d’exploration de données existant, consultez [afficher ou modifier les paramètres d’algorithme](../../2014/analysis-services/data-mining/view-or-change-algorithm-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="571f7-139">For information about how to change parameters on an existing mining model, see [View or Change Algorithm Parameters](../../2014/analysis-services/data-mining/view-or-change-algorithm-parameters.md).</span></span>  
  
-   <span data-ttu-id="571f7-140">Vous pouvez modifier la source de données ou filtrer la vue sous-jacente pour éliminer la série irrégulière ou remplacer des valeurs.</span><span class="sxs-lookup"><span data-stu-id="571f7-140">You can alter the data source or filter the underlying view to eliminate ragged series or to replace values.</span></span> <span data-ttu-id="571f7-141">Pour ce faire, vous devez utiliser la source de données relationnelle ou modifier la vue de source de données en créant des requêtes ou des calculs nommés personnalisés.</span><span class="sxs-lookup"><span data-stu-id="571f7-141">You can do this in the relational data source, or you can modify the data source view by creating custom named queries or named calculations.</span></span> <span data-ttu-id="571f7-142">Pour plus d’informations, consultez [Vues de sources de données dans les modèles multidimensionnels](https://docs.microsoft.com/analysis-services/multidimensional-models/data-source-views-in-multidimensional-models).</span><span class="sxs-lookup"><span data-stu-id="571f7-142">For more information, see [Data Source Views in Multidimensional Models](https://docs.microsoft.com/analysis-services/multidimensional-models/data-source-views-in-multidimensional-models).</span></span> <span data-ttu-id="571f7-143">Une tâche ultérieure au cours de cette leçon fournit un exemple de la manière de générer à la fois une requête nommée et un calcul personnalisé.</span><span class="sxs-lookup"><span data-stu-id="571f7-143">A later task in this lesson provides an example of how to build both a named query and a custom calculation.</span></span>  
  
 <span data-ttu-id="571f7-144">Pour ce scénario, certaines données manquent au début d'une série : autrement dit, il n'y a pas de données pour la gamme de produits T1000 jusqu'en juillet 2007.</span><span class="sxs-lookup"><span data-stu-id="571f7-144">For this scenario, some data is missing at the beginning of one series: that is, there is no data for the T1000 product line until July 2007.</span></span> <span data-ttu-id="571f7-145">Sinon, toutes les séries se terminent à la même date et aucune valeur ne manque.</span><span class="sxs-lookup"><span data-stu-id="571f7-145">Otherwise, all series end on the same date, and there are no missing values.</span></span>  
  
 <span data-ttu-id="571f7-146">L’exigence de l’algorithme MTS (Microsoft Time Series) est que toute série que vous incluez dans un modèle unique doit avoir le même point de **fin** .</span><span class="sxs-lookup"><span data-stu-id="571f7-146">The requirement of the Microsoft Time Series algorithm is that any series that you include in a single model should have the same **ending** point.</span></span> <span data-ttu-id="571f7-147">Étant donné que le modèle de vélo T1000 a été introduit en 2007, les données de cette série démarrent plus tard que pour les autres modèles de vélos, mais la série se termine à la même date ; les données peuvent donc être utilisées.</span><span class="sxs-lookup"><span data-stu-id="571f7-147">Because the T1000 bicycle model was introduced in 2007, the data for this series starts later than for other bicycle models, but the series ends on the same date; therefore the data is usable.</span></span>  
  
#### <a name="to-close-the-data-source-view-designer"></a><span data-ttu-id="571f7-148">Pour fermer le concepteur de vues de source de données</span><span class="sxs-lookup"><span data-stu-id="571f7-148">To close the data source view designer</span></span>  
  
-   <span data-ttu-id="571f7-149">Cliquez avec le bouton droit sur l’onglet, **Explorez la table vTimeSeries**, puis sélectionnez **Fermer**.</span><span class="sxs-lookup"><span data-stu-id="571f7-149">Right-click the tab, **Explore vTimeSeries Table**, and select **Close**.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="571f7-150">Tâche suivante de la leçon</span><span class="sxs-lookup"><span data-stu-id="571f7-150">Next Task in Lesson</span></span>  
 [<span data-ttu-id="571f7-151">Création d’une structure et d’un modèle de prévision &#40;didacticiel sur l’exploration de données intermédiaire&#41;</span><span class="sxs-lookup"><span data-stu-id="571f7-151">Creating a Forecasting Structure and Model &#40;Intermediate Data Mining Tutorial&#41;</span></span>](../../2014/tutorials/creating-a-forecasting-structure-and-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a><span data-ttu-id="571f7-152">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="571f7-152">See Also</span></span>  
 [<span data-ttu-id="571f7-153">Algorithme MTS (Microsoft Time Series)</span><span class="sxs-lookup"><span data-stu-id="571f7-153">Microsoft Time Series Algorithm</span></span>](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm.md)  
  
  
