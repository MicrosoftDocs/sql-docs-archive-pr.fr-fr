---
title: Mise en cache des rapports | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- report execution properties [Reporting Services]
- cache [Reporting Services]
- report processing [Reporting Services], caching
- cached instances [Reporting Services]
- refreshing cache
- cached reports [Reporting Services]
- preloading cache
- invalid cached reports [Reporting Services]
- performance [Reporting Services]
- expiration [Reporting Services]
- snapshots [Reporting Services], caching
ms.assetid: 146542c3-8efd-4b89-a8d8-77d22896630e
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e1af19dd3848ba39f91c2fc640a57ca53c35a4fb
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87611567"
---
# <a name="caching-reports-ssrs"></a><span data-ttu-id="5e6a5-102">Mise en cache de rapports (SSRS)</span><span class="sxs-lookup"><span data-stu-id="5e6a5-102">Caching Reports (SSRS)</span></span>
  <span data-ttu-id="5e6a5-103">Un serveur de rapports peut mettre en mémoire cache la copie d'un rapport traité et retourner cette copie lorsqu'un utilisateur ouvre le rapport.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-103">A report server can cache a copy of a processed report and return that copy when a user opens the report.</span></span> <span data-ttu-id="5e6a5-104">Pour cet utilisateur, la date et l'heure de l'exécution du rapport sont les seules informations qui lui permettent de savoir que ce rapport est une copie en cache.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-104">To a user, the only evidence available to indicate the report is a cached copy is the date and time that the report ran.</span></span> <span data-ttu-id="5e6a5-105">Si la date ou l'heure n'est pas celle en cours et que le rapport n'est pas un instantané, ceci signifie que le rapport a été extrait du cache.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-105">If the date or time is not current and the report is not a snapshot, the report was retrieved from cache.</span></span>  
  
 <span data-ttu-id="5e6a5-106">La mise en cache peut raccourcir le temps nécessaire à la récupération d'un rapport si celui-ci est volumineux ou fréquemment consulté.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-106">Caching can shorten the time required to retrieve a report if the report is large or accessed frequently.</span></span> <span data-ttu-id="5e6a5-107">Si le serveur est redémarré, toutes les instances mises en cache sont réintégrées lorsque le service Web Report Server revient en ligne.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-107">If the server is rebooted, all cached instances are reinstated when the Report Server Web service comes back online.</span></span>  
  
 <span data-ttu-id="5e6a5-108">La mise en cache est une technique d'optimisation des performances.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-108">Caching is a performance-enhancement technique.</span></span> <span data-ttu-id="5e6a5-109">Le contenu du cache est volatile et peut changer à mesure que les rapports sont ajoutés, remplacés ou supprimés.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-109">The contents of the cache are volatile and can change as reports are added, replaced, or removed.</span></span> <span data-ttu-id="5e6a5-110">Si vous avez besoin d'une stratégie de mise en cache moins aléatoire, créez un instantané de rapport.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-110">If you require a more predictable caching strategy, you should create a report snapshot.</span></span> <span data-ttu-id="5e6a5-111">Pour plus d’informations, consultez [Définir les propriétés de traitement d’un rapport](set-report-processing-properties.md).</span><span class="sxs-lookup"><span data-stu-id="5e6a5-111">For more information, see [Set Report Processing Properties](set-report-processing-properties.md).</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="5e6a5-112">stocke les fichiers temporaires dans une base de données afin de prendre en charge les sessions utilisateur et le traitement des rapports.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-112">stores temporary files in a database to support user sessions and report processing.</span></span> <span data-ttu-id="5e6a5-113">Ces fichiers sont mis en cache pour être utilisés en interne et pour assurer un affichage constant durant une même session de navigateur.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-113">These files are cached for internal use and to support a consistent viewing experience during a single browser session.</span></span> <span data-ttu-id="5e6a5-114">Pour plus d’informations sur la façon dont les fichiers temporaires à usage interne sont mis en cache, consultez [Base de données du serveur de rapports &#40;SSRS en mode natif&#41;](report-server-database-ssrs-native-mode.md).</span><span class="sxs-lookup"><span data-stu-id="5e6a5-114">For more information about how internal-use temporary files are cached, see [Report Server Database &#40;SSRS Native Mode&#41;](report-server-database-ssrs-native-mode.md).</span></span>  
  
## <a name="cached-instances"></a><span data-ttu-id="5e6a5-115">Instances mises en cache</span><span class="sxs-lookup"><span data-stu-id="5e6a5-115">Cached Instances</span></span>  
 <span data-ttu-id="5e6a5-116">L'instance mise en cache d'un rapport est basée sur le format intermédiaire d'un rapport.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-116">A cached instance of a report is based on the intermediate format of a report.</span></span> <span data-ttu-id="5e6a5-117">Le serveur de rapports met généralement en cache l'instance d'un rapport sur la base du nom du rapport.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-117">The report server generally caches one instance of a report based on the report name.</span></span> <span data-ttu-id="5e6a5-118">Si toutefois un rapport peut contenir des données différentes basées sur des paramètres de requête, plusieurs versions du rapport peuvent être mises en cache à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-118">However, if a report can contain different data based on query parameters, multiple versions of the report may be cached at any given time.</span></span> <span data-ttu-id="5e6a5-119">Supposons, par exemple, que vous disposez d'un rapport paramétrable qui prend un code de région en tant que valeur de paramètre.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-119">For example, suppose you have a parameterized report that takes a region code as a parameter value.</span></span> <span data-ttu-id="5e6a5-120">Si quatre utilisateurs différents spécifient quatre codes de région différents, quatre copies mises en cache sont créées.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-120">If four different users specify four unique region codes, four cached copies are created.</span></span>  
  
 <span data-ttu-id="5e6a5-121">Le premier utilisateur qui exécute le rapport avec un code de région unique crée un rapport mis en cache contenant des données pour cette région.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-121">The first user who runs the report with a unique region code creates a cached report that contains data for that region.</span></span> <span data-ttu-id="5e6a5-122">Les utilisateurs suivants qui demandent le rapport en utilisant le même code de région obtiennent la copie mise en cache.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-122">Subsequent users who request the report using the same region code get the cached copy.</span></span>  
  
 <span data-ttu-id="5e6a5-123">Les rapports ne peuvent pas tous être mis en cache.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-123">Not all reports can be cached.</span></span> <span data-ttu-id="5e6a5-124">Par exemple, les rapports qui contiennent des données tributaires de l'utilisateur, ceux qui nécessitent la saisie d'informations d'identification par l'utilisateur ou encore ceux qui utilisent l'authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-124">If a report includes user-dependent data, prompts users for credentials, or uses Windows Authentication, it cannot be cached.</span></span>  
  
## <a name="refreshing-the-cache"></a><span data-ttu-id="5e6a5-125">Actualisation du cache</span><span class="sxs-lookup"><span data-stu-id="5e6a5-125">Refreshing the Cache</span></span>  
 <span data-ttu-id="5e6a5-126">La nouvelle version d'un rapport est substituée à l'exemplaire mis en cache lorsqu'un utilisateur sélectionne le rapport après l'expiration de la copie précédemment chargée dans la mémoire.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-126">A cached report is replaced with a newer version when a user selects the report after the previously cached copy has expired.</span></span> <span data-ttu-id="5e6a5-127">Les rapports configurés pour s'exécuter en tant qu'instances en cache sont supprimés du cache à intervalles réguliers, conformément aux paramètres d'expiration définis.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-127">Reports that are configured to run as cached instances are removed from the cache at regular intervals based on expiration settings.</span></span> <span data-ttu-id="5e6a5-128">Vous pouvez choisir le mode d'expiration d'un rapport, en minutes ou à une heure planifiée, selon les conditions dictées par le caractère urgent des données.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-128">You can set a report's expiration in minutes or at a scheduled time, as determined by the data's immediacy requirement.</span></span> <span data-ttu-id="5e6a5-129">Vous ne pouvez pas supprimer directement un rapport du cache, à moins d'utiliser l'interface API SOAP.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-129">You cannot delete reports from the cache directly unless you use the SOAP API.</span></span>  
  
 <span data-ttu-id="5e6a5-130">Pour configurer l'expiration du cache, utilisez une planification partagée ou propre au rapport.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-130">To configure cache expiration, you can use a shared schedule or report-specific schedule.</span></span> <span data-ttu-id="5e6a5-131">Si vous utilisez une planification partagée qui est suspendue, le cache n'arrive pas à expiration tant que la planification n'est pas active.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-131">If you use a shared schedule and it is subsequently paused, the cache does not expire while the schedule is inoperative.</span></span> <span data-ttu-id="5e6a5-132">Si la planification partagée est supprimée, une copie des paramètres de planification est enregistrée en tant que planification propre au rapport.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-132">If the shared schedule is subsequently deleted, a copy of the schedule settings is saved as a report-specific schedule.</span></span>  
  
 <span data-ttu-id="5e6a5-133">Si une planification arrive à expiration ou si le moteur de planification n'est pas disponible à la date d'expiration du cache, le serveur de rapports exécute un rapport en direct jusqu'à ce que les opérations planifiées puissent reprendre (soit en étendant la planification, soit en démarrant le service de planification).</span><span class="sxs-lookup"><span data-stu-id="5e6a5-133">If a schedule expires or if the scheduling engine is unavailable at a cache expiration date, the report server runs a live report until scheduled operations can be resumed (by either extending the schedule or starting the scheduling service).</span></span>  
  
## <a name="preloading-the-cache"></a><span data-ttu-id="5e6a5-134">Préchargement du cache</span><span class="sxs-lookup"><span data-stu-id="5e6a5-134">Preloading the Cache</span></span>  
 <span data-ttu-id="5e6a5-135">Pour améliorer les performances d'un serveur, préchargez le cache.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-135">To improve server performance, you can preload the cache.</span></span> <span data-ttu-id="5e6a5-136">Vous pouvez précharger le cache avec une collection d'instances de rapport paramétrable de deux façons :</span><span class="sxs-lookup"><span data-stu-id="5e6a5-136">You can preload the cache with a collection of parameterized report instances in two ways:</span></span>  
  
1.  <span data-ttu-id="5e6a5-137">Créez un plan d'actualisation du cache.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-137">Create a cache refresh plan.</span></span> <span data-ttu-id="5e6a5-138">Lorsque vous créez un plan d'actualisation, vous pouvez spécifier une planification pour un rapport unique ou spécifier une planification partagée.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-138">When you create a refresh plan, you can specify a schedule for a single report or specify a shared schedule.</span></span>  
  
2.  <span data-ttu-id="5e6a5-139">Créez un abonnement piloté par les données qui utilise le fournisseur de remise Null.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-139">Create a data-driven subscription that uses the Null Delivery Provider.</span></span> <span data-ttu-id="5e6a5-140">Lorsque vous spécifiez le fournisseur de remise Null comme méthode de remise dans l'abonnement, le serveur de rapports cible la base de données du serveur de rapports comme destination de remise et utilise une extension de rendu particulière du nom d'extension de rendu Null.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-140">When you specify the Null Delivery Provider as the method of delivery in the subscription, the report server targets the report server database as the delivery destination and uses a specialized rendering extension called the null rendering extension.</span></span> <span data-ttu-id="5e6a5-141">À la différence des autres extensions de remise, le fournisseur de remise Null ne propose aucun paramètre de remise configurable par le biais d'une définition d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-141">In contrast with other delivery extensions, the Null Delivery Provider does not have delivery settings that you can configure through a subscription definition.</span></span>  
  
 <span data-ttu-id="5e6a5-142">La mise en cache d'un rapport est particulièrement utile si vous souhaitez mettre en cache plusieurs instances d'un rapport paramétrable dans lesquelles différentes valeurs de paramètres sont utilisées pour produire différentes instances de rapport.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-142">Caching a report is especially useful if you want to cache multiple instances of a parameterized report where different parameter values are used to produce different report instances.</span></span> <span data-ttu-id="5e6a5-143">Notez que vous ne pouvez spécifier que des paramètres reposant sur des requêtes dans le rapport.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-143">Note that you can only specify query-based parameters on the report.</span></span>  
  
 <span data-ttu-id="5e6a5-144">Lorsque vous spécifiez une planification ou créez l'abonnement piloté par les données, vous devez planifier la fréquence de remise de ces rapports dans le cache.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-144">When you specify a schedule or when you create the data-driven subscription, you schedule how often the reports are delivered to the cache.</span></span> <span data-ttu-id="5e6a5-145">Ces copies de rapports doivent avoir expiré pour que de nouveaux exemplaires les remplacent dans le cache.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-145">In order for new copies to be delivered to the cache, the old copies must have expired.</span></span> <span data-ttu-id="5e6a5-146">Ainsi, les propriétés d'exécution du rapport doivent être configurées pour englober les paramètres d'expiration du cache.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-146">Therefore, the Execution properties of the report must be configured to include cache expiration settings.</span></span> <span data-ttu-id="5e6a5-147">Les valeurs de ces paramètres doivent tenir compte de la planification de l'abonnement que vous définissez.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-147">The expiration setting must be consistent with the subscription schedule that you define.</span></span> <span data-ttu-id="5e6a5-148">De fait, si vous créez un abonnement qui s'exécute chaque nuit, le cache doit également expirer chaque nuit, avant l'heure d'exécution de l'abonnement.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-148">For example, if you create a subscription that runs every night, the cache should also expire every night prior to the subscription's run time.</span></span> <span data-ttu-id="5e6a5-149">Si les propriétés d'exécution n'incluent aucune limite d'expiration, les remises plus récentes sont ignorées.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-149">If the Execution properties do not include expiration times, newer deliveries are disregarded.</span></span> <span data-ttu-id="5e6a5-150">Pour plus d’informations sur les plans d’actualisation du cache, consultez [Planifications](../subscriptions/schedules.md).</span><span class="sxs-lookup"><span data-stu-id="5e6a5-150">For more information about cache refresh plans, see [Schedules](../subscriptions/schedules.md).</span></span> <span data-ttu-id="5e6a5-151">Pour plus d’informations sur la définition des propriétés, consultez [Définir les propriétés de traitement d’un rapport](set-report-processing-properties.md).</span><span class="sxs-lookup"><span data-stu-id="5e6a5-151">For more information about setting properties, see [Set Report Processing Properties](set-report-processing-properties.md).</span></span> <span data-ttu-id="5e6a5-152">Pour plus d’informations sur l’utilisation des abonnements pilotés par les données, consultez [Abonnements pilotés par les données](../subscriptions/data-driven-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="5e6a5-152">For more information about using data-driven subscriptions, see [Data-Driven Subscriptions](../subscriptions/data-driven-subscriptions.md).</span></span>  
  
## <a name="conditions-that-cause-cache-expiration"></a><span data-ttu-id="5e6a5-153">Conditions entraînant l’expiration du cache</span><span class="sxs-lookup"><span data-stu-id="5e6a5-153">Conditions That Cause Cache Expiration</span></span>  
 <span data-ttu-id="5e6a5-154">Un rapport mis en cache peut être invalidé si les événements suivants se produisent : la définition du rapport est modifiée, les paramètres de rapport sont modifiés, les informations d'identification de la source de données sont modifiées ou les options d'exécution du rapport sont modifiées.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-154">A cached report is invalidated in response to the following events: the report definition is modified, report parameters are modified, data source credentials change, or report execution options change.</span></span> <span data-ttu-id="5e6a5-155">Si vous supprimez un rapport stocké dans le cache, la version mise en cache disparaît également.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-155">If you delete a report that is stored in the cache, the cached version is also deleted.</span></span>  
  
 <span data-ttu-id="5e6a5-156">Si un rapport ne peut pas faire l'objet d'un rendu à partir d'une instance mise en cache pour une raison quelconque (par exemple, si les valeurs de paramètres spécifiées par un utilisateur sont différentes de celles utilisées pour produire le rapport mis en cache), le serveur de rapports réexécute le rapport.</span><span class="sxs-lookup"><span data-stu-id="5e6a5-156">If a report cannot be rendered from a cached instance for any reason (for example, if the parameter values that a user specifies are different from those used to produce the cached report), the report server reruns the report.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5e6a5-157">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5e6a5-157">See Also</span></span>  
 <span data-ttu-id="5e6a5-158">[Définir les options de traitement &#40;Reporting Services en mode intégré SharePoint&#41;](../set-processing-options-reporting-services-in-sharepoint-integrated-mode.md) </span><span class="sxs-lookup"><span data-stu-id="5e6a5-158">[Set Processing Options &#40;Reporting Services in SharePoint Integrated Mode&#41;](../set-processing-options-reporting-services-in-sharepoint-integrated-mode.md) </span></span>  
 <span data-ttu-id="5e6a5-159">[Définir les propriétés de traitement d’un rapport](set-report-processing-properties.md) </span><span class="sxs-lookup"><span data-stu-id="5e6a5-159">[Set Report Processing Properties](set-report-processing-properties.md) </span></span>  
 <span data-ttu-id="5e6a5-160">[Concepts de Reporting Services &#40;SSRS&#41;](../reporting-services-concepts-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="5e6a5-160">[Reporting Services Concepts &#40;SSRS&#41;](../reporting-services-concepts-ssrs.md) </span></span>  
 <span data-ttu-id="5e6a5-161">[Précharger le cache &#40;Gestionnaire de rapports&#41;](preload-the-cache-report-manager.md) </span><span class="sxs-lookup"><span data-stu-id="5e6a5-161">[Preload the Cache &#40;Report Manager&#41;](preload-the-cache-report-manager.md) </span></span>  
 <span data-ttu-id="5e6a5-162">[Planifications](../subscriptions/schedules.md) </span><span class="sxs-lookup"><span data-stu-id="5e6a5-162">[Schedules](../subscriptions/schedules.md) </span></span>  
 <span data-ttu-id="5e6a5-163">[Mettre en cache les datasets partagés &#40;SSRS&#41;](cache-shared-datasets-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="5e6a5-163">[Cache Shared Datasets &#40;SSRS&#41;](cache-shared-datasets-ssrs.md) </span></span>  
 [<span data-ttu-id="5e6a5-164">Options d’actualisation du cache &#40;Gestionnaire de rapports&#41;</span><span class="sxs-lookup"><span data-stu-id="5e6a5-164">Cache Refresh Options &#40;Report Manager&#41;</span></span>](../cache-refresh-options-report-manager.md)  
  
  
