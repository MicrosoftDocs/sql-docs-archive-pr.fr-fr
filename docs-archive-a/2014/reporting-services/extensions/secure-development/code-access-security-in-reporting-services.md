---
title: Sécurité d’accès du code dans Reporting Services | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- code groups [Reporting Services]
- code access security [Reporting Services]
- permission sets [Reporting Services]
- evidence [Reporting Services]
- code access security [Reporting Services], about code access security
- named permission sets [Reporting Services]
ms.assetid: 97480368-1fc3-4c32-b1b0-63edfb54e472
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: ebe023b13a003895845bbb119f0bc93a0d01203a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87615023"
---
# <a name="code-access-security-in-reporting-services"></a><span data-ttu-id="b7ced-102">Sécurité d'accès du code dans Reporting Services</span><span class="sxs-lookup"><span data-stu-id="b7ced-102">Code Access Security in Reporting Services</span></span>
  <span data-ttu-id="b7ced-103">La sécurité d'accès du code est axée sur les concepts principaux suivants : preuve, groupes de codes et jeux d'autorisations nommés.</span><span class="sxs-lookup"><span data-stu-id="b7ced-103">Code access security centers on these core concepts: evidence, code groups, and named permission sets.</span></span> <span data-ttu-id="b7ced-104">Dans [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], les composants du Gestionnaire de rapports, du Concepteur de rapports et de Report Server ont chacun un fichier de stratégie qui configure la sécurité d'accès du code pour les assemblys personnalisés, ainsi que pour les extensions de remise des données, de rendu et de sécurité.</span><span class="sxs-lookup"><span data-stu-id="b7ced-104">In [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], the Report Manager, Report Designer, and Report Server components each have a policy file that configures code access security for custom assemblies as well as data, delivery, rendering, and security extensions.</span></span> <span data-ttu-id="b7ced-105">Les sections suivantes fournissent une vue d'ensemble de la sécurité d'accès du code.</span><span class="sxs-lookup"><span data-stu-id="b7ced-105">The following sections provide an overview of code access security.</span></span> <span data-ttu-id="b7ced-106">Pour obtenir des détails sur les rubriques traitées dans cette section, consultez les informations relatives au modèle de stratégie de sécurité dans la documentation du SDK de [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7ced-106">For more detailed information about the topics covered in this section, see "Security Policy Model" in the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] SDK documentation.</span></span>  
  
 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="b7ced-107">utilise la sécurité d'accès du code, car bien que le serveur de rapports repose sur la technologie [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)], il existe une différence considérable entre une application [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] classique et le serveur de rapports.</span><span class="sxs-lookup"><span data-stu-id="b7ced-107">uses code access security because, although the report server is built on [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] technology, there is a substantial difference between a typical [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] application and the report server.</span></span> <span data-ttu-id="b7ced-108">Une application [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] classique n'exécute pas de code utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b7ced-108">A typical [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] application does not execute user code.</span></span> <span data-ttu-id="b7ced-109">En revanche, [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] se sert d’une architecture ouverte et extensible qui permet aux utilisateurs de programmer des fichiers de définitions de rapports à l’aide de l’élément **Code** du langage RDL (Report Definition Language), et de développer des fonctionnalités spécialisées dans un assembly personnalisé à utiliser dans les rapports.</span><span class="sxs-lookup"><span data-stu-id="b7ced-109">In contrast, [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] uses an open and extensible architecture that allows users to program against the report definition files using the **Code** element of the Report Definition Language and to develop specialized functionality into a custom assembly for use in reports.</span></span> <span data-ttu-id="b7ced-110">En outre, les développeurs peuvent concevoir et déployer de puissantes extensions visant à améliorer les fonctionnalités du serveur de rapports.</span><span class="sxs-lookup"><span data-stu-id="b7ced-110">Furthermore, developers can design and deploy powerful extensions that enhance the capabilities of the report server.</span></span> <span data-ttu-id="b7ced-111">Cette puissance et cette souplesse doivent être complétées par un niveau de protection et de sécurité optimal.</span><span class="sxs-lookup"><span data-stu-id="b7ced-111">With this power and flexibility comes the need to provide as much protection and security as possible.</span></span>  
  
 <span data-ttu-id="b7ced-112">Les développeurs [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] peuvent utiliser n'importe quel assembly du [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] dans leurs rapports et faire appel en mode natif à toutes les fonctionnalités des assemblys déployés dans le Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="b7ced-112">[!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] developers can use any [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] assembly in their reports and natively call upon all of the functionality of assemblies deployed to the global assembly cache.</span></span> <span data-ttu-id="b7ced-113">La seule chose que le serveur de rapports peut contrôler est l'autorisation accordée aux expressions de rapport et aux assemblys personnalisés chargés.</span><span class="sxs-lookup"><span data-stu-id="b7ced-113">The only thing that the report server can control is what permissions are given for report expressions and loaded custom assemblies.</span></span> <span data-ttu-id="b7ced-114">Dans [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], les assemblys personnalisés reçoivent les autorisations **Execute** uniquement par défaut.</span><span class="sxs-lookup"><span data-stu-id="b7ced-114">In [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], custom assemblies receive **Execute**-only permissions by default.</span></span>  
  
## <a name="evidence"></a><span data-ttu-id="b7ced-115">Preuve</span><span class="sxs-lookup"><span data-stu-id="b7ced-115">Evidence</span></span>  
 <span data-ttu-id="b7ced-116">Une preuve représente l'information que le Common Language Runtime (CLR) utilise pour définir une stratégie de sécurité relative aux assemblys de code.</span><span class="sxs-lookup"><span data-stu-id="b7ced-116">Evidence is the information that the common language runtime (CLR) uses to determine a security policy for code assemblies.</span></span> <span data-ttu-id="b7ced-117">Une preuve indique au runtime que le code possède une caractéristique particulière.</span><span class="sxs-lookup"><span data-stu-id="b7ced-117">Evidence indicates to the runtime that code has a particular characteristic.</span></span> <span data-ttu-id="b7ced-118">Les formes communes de preuve incluent les signatures numériques et l'emplacement d'un assembly.</span><span class="sxs-lookup"><span data-stu-id="b7ced-118">Common forms of evidence include digital signatures and the location of an assembly.</span></span> <span data-ttu-id="b7ced-119">Une preuve peut également être personnalisée pour représenter d'autres informations ayant une importance pour l'application.</span><span class="sxs-lookup"><span data-stu-id="b7ced-119">Evidence can also be custom designed to represent other information that is meaningful to the application.</span></span>  
  
 <span data-ttu-id="b7ced-120">Les assemblys et les domaines d'applications reçoivent des autorisations sur la base de la preuve.</span><span class="sxs-lookup"><span data-stu-id="b7ced-120">Both assemblies and application domains receive permissions based on evidence.</span></span> <span data-ttu-id="b7ced-121">Par exemple, l'emplacement d'un assembly auquel [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] tente d'accéder est une forme commune de preuve pour les assemblys portant un nom faible.</span><span class="sxs-lookup"><span data-stu-id="b7ced-121">For example, the location of an assembly that [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] is attempting to access is one common form of evidence for weak-named assemblies.</span></span> <span data-ttu-id="b7ced-122">Il s'agit d'une preuve d'URL.</span><span class="sxs-lookup"><span data-stu-id="b7ced-122">This is known as URL evidence.</span></span> <span data-ttu-id="b7ced-123">La preuve d'URL d'une extension pour le traitement des données personnalisée, qui est déployée sur un serveur de rapports, peut être « C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll ».</span><span class="sxs-lookup"><span data-stu-id="b7ced-123">URL evidence for a custom data processing extension deployed to a report server might be "C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll".</span></span> <span data-ttu-id="b7ced-124">Le nom fort ou la signature numérique d'un assembly est une autre forme commune de preuve.</span><span class="sxs-lookup"><span data-stu-id="b7ced-124">The strong name or digital signature of an assembly is another common form of evidence.</span></span> <span data-ttu-id="b7ced-125">Dans ce cas, la preuve est représentée par les informations de clé publique d'un assembly.</span><span class="sxs-lookup"><span data-stu-id="b7ced-125">In this case, the evidence is the public key information for an assembly.</span></span>  
  
## <a name="code-groups"></a><span data-ttu-id="b7ced-126">Groupes de codes</span><span class="sxs-lookup"><span data-stu-id="b7ced-126">Code Groups</span></span>  
 <span data-ttu-id="b7ced-127">Un groupe de codes est un regroupement logique de codes selon une condition particulière d'appartenance (membership).</span><span class="sxs-lookup"><span data-stu-id="b7ced-127">A code group is a logical grouping of code that has a specified condition for membership.</span></span> <span data-ttu-id="b7ced-128">Tout code remplissant la condition d'appartenance est inclus dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="b7ced-128">Any code that meets the membership condition is included in the group.</span></span> <span data-ttu-id="b7ced-129">Les administrateurs configurent une stratégie de sécurité en gérant les groupes de codes et leurs jeux d'autorisations associés.</span><span class="sxs-lookup"><span data-stu-id="b7ced-129">Administrators configure a security policy by managing code groups and their associated permission sets.</span></span>  
  
 <span data-ttu-id="b7ced-130">Une condition d'appartenance d'un groupe de codes est basée sur la preuve.</span><span class="sxs-lookup"><span data-stu-id="b7ced-130">A membership condition for a code group is based on evidence.</span></span> <span data-ttu-id="b7ced-131">Par exemple, une appartenance « URL » d'un groupe de codes est basée sur la preuve URL.</span><span class="sxs-lookup"><span data-stu-id="b7ced-131">For example, a URL membership for a code group is based on URL evidence.</span></span> <span data-ttu-id="b7ced-132">Le Common Language Runtime (CLR) utilise des caractéristiques d'identification (par exemple la preuve d'URL) pour décrire le code et déterminer si une condition d'appartenance à un groupe a été remplie.</span><span class="sxs-lookup"><span data-stu-id="b7ced-132">The common language runtime (CLR) uses identifying characteristics such as URL evidence to describe the code and to determine whether a group's membership condition has been met.</span></span> <span data-ttu-id="b7ced-133">Par exemple, si la condition d'appartenance d'un groupe de codes est « code dans l'assembly C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll », le runtime examine la preuve pour déterminer si le code provient de cet emplacement.</span><span class="sxs-lookup"><span data-stu-id="b7ced-133">For example, if the membership condition of a code group is "code in the assembly C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll", the runtime examines the evidence to determine whether the code originates from that location.</span></span> <span data-ttu-id="b7ced-134">Voici un exemple d'entrée de configuration pour ce type de groupe de codes :</span><span class="sxs-lookup"><span data-stu-id="b7ced-134">An example of a configuration entry for this type of code group might look like the following:</span></span>  
  
```  
<CodeGroup class="UnionCodeGroup"  
   version="1"  
   PermissionSetName="FullTrust"  
   Name="MyCodeGroup"  
   Description="Code group for my data processing extension">  
      <IMembershipCondition class="UrlMembershipCondition"  
         version="1"  
         Url="C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll"  
       />  
</CodeGroup>  
```  
  
 <span data-ttu-id="b7ced-135">Contactez votre administrateur système ou votre expert en déploiement d'applications pour déterminer le type de sécurité d'accès du code et les groupes de codes requis par vos assemblys personnalisés ou extensions [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7ced-135">You should work with your system administrator or application deployment expert to determine the type of code access security and code groups that your custom assemblies or [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] extensions require.</span></span>  
  
## <a name="named-permission-sets"></a><span data-ttu-id="b7ced-136">Jeux d'autorisations nommés</span><span class="sxs-lookup"><span data-stu-id="b7ced-136">Named Permission Sets</span></span>  
 <span data-ttu-id="b7ced-137">Un jeu d'autorisations nommé est un jeu d'autorisations que les administrateurs peuvent associer à un groupe de codes.</span><span class="sxs-lookup"><span data-stu-id="b7ced-137">A named permission set is a set of permissions that administrators can associate with a code group.</span></span> <span data-ttu-id="b7ced-138">La plupart des jeux d'autorisations nommés comprennent au moins une autorisation, un nom et une description pour le jeu d'autorisations.</span><span class="sxs-lookup"><span data-stu-id="b7ced-138">Most named permission sets consist of at least one permission, a name, and description for the permission set.</span></span> <span data-ttu-id="b7ced-139">Les administrateurs peuvent utiliser des jeux d'autorisations nommés pour établir ou modifier la stratégie de sécurité des groupes de codes.</span><span class="sxs-lookup"><span data-stu-id="b7ced-139">Administrators can use named permission sets to establish or modify the security policy for code groups.</span></span> <span data-ttu-id="b7ced-140">Plusieurs groupes de codes peuvent être associés au même jeu d'autorisations nommé.</span><span class="sxs-lookup"><span data-stu-id="b7ced-140">More than one code group can be associated with the same named permission set.</span></span> <span data-ttu-id="b7ced-141">Le CLR fournit des jeux d’autorisations nommés intégrés, par exemple **Nothing**, **Execution**, **Internet**, **LocalIntranet**, **Everything** et **FullTrust**.</span><span class="sxs-lookup"><span data-stu-id="b7ced-141">The CLR provides built-in named permission sets; among these are **Nothing**, **Execution**, **Internet**, **LocalIntranet**, **Everything**, and **FullTrust**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b7ced-142">Les extensions relatives aux données personnalisées, à la remise, au rendu et à la sécurité dans [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] doivent s’exécuter sous le jeu d’autorisations **FullTrust**.</span><span class="sxs-lookup"><span data-stu-id="b7ced-142">Custom data, delivery, rendering, and security extensions in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] must run under the **FullTrust** permission set.</span></span> <span data-ttu-id="b7ced-143">Contactez votre administrateur système pour ajouter le groupe de codes et les conditions d'appartenance appropriés pour vos extensions [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7ced-143">Work with your system administrator to add the appropriate code group and membership conditions for your [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] extensions.</span></span>  
  
 <span data-ttu-id="b7ced-144">Vous pouvez associer vos propres niveaux personnalisés d'autorisations pour les assemblys personnalisés que vous utilisez avec des rapports.</span><span class="sxs-lookup"><span data-stu-id="b7ced-144">You can associate your own custom levels of permissions for custom assemblies that you use with reports.</span></span> <span data-ttu-id="b7ced-145">Par exemple, si vous souhaitez permettre à un assembly d'accéder à un fichier spécifique, vous pouvez créer un jeu d'autorisations nommé disposant d'un accès d'E/S de fichier spécifique, puis assigner ce jeu d'autorisations à votre groupe de codes.</span><span class="sxs-lookup"><span data-stu-id="b7ced-145">For example, if you want to allow an assembly to access a specific file, you can create a new named permission set with specific file I/O access and then assign the permission set to your code group.</span></span> <span data-ttu-id="b7ced-146">Le jeu d'autorisations suivant accorde l'accès en lecture seule au fichier MyFile.xml :</span><span class="sxs-lookup"><span data-stu-id="b7ced-146">The following permission set grants read-only access to the file MyFile.xml:</span></span>  
  
```  
<PermissionSet class="NamedPermissionSet"  
   version="1"  
   Name="MyNewFilePermissionSet"  
   Description="A special permission set that grants read access to my file.">  
    <IPermission class="FileIOPermission"  
       version="1"  
       Read="C:\MyFile.xml"/>  
    <IPermission class="SecurityPermission"  
       version="1"  
       Flags="Assertion, Execution"/>  
</PermissionSet>  
```  
  
 <span data-ttu-id="b7ced-147">Voici un exemple de groupe de codes auquel vous accordez ce jeu d'autorisations :</span><span class="sxs-lookup"><span data-stu-id="b7ced-147">A code group that you grant this permission set might look like the following:</span></span>  
  
```  
<CodeGroup class="UnionCodeGroup"  
   version="1"  
   PermissionSetName="MyNewFilePermissionSet"  
   Name="MyNewCodeGroup"  
   Description="A special code group for my custom assembly.">  
   <IMembershipCondition class="UrlMembershipCondition"  
      version="1"  
      Url="C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\MyCustomAssembly.dll"/>  
</CodeGroup>  
```  
  
## <a name="see-also"></a><span data-ttu-id="b7ced-148">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b7ced-148">See Also</span></span>  
 [<span data-ttu-id="b7ced-149">Développement sécurisé &#40;Reporting Services&#41;</span><span class="sxs-lookup"><span data-stu-id="b7ced-149">Secure Development &#40;Reporting Services&#41;</span></span>](secure-development-reporting-services.md)  
  
  
