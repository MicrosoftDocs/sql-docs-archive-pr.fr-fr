---
title: Considérations sur la sécurité du chargement en masse (SQLXML 4,0) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: reference
helpviewer_keywords:
- SQLXML, XML Bulk Load
- bulk load [SQLXML], security
- security [SQLXML], XML Bulk Load
- XML Bulk Load [SQLXML], security
ms.assetid: 192fc6d4-ecbc-4a4d-a5cb-55e1f64af318
author: rothja
ms.author: jroth
ms.openlocfilehash: 21c1cbe7f94ef42327aa7b81f75fa521d9f7c0e9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87615124"
---
# <a name="bulk-load-security-considerations-sqlxml-40"></a><span data-ttu-id="fdb90-102">Considérations de sécurité relatives au chargement en masse (SQLXML 4.0)</span><span class="sxs-lookup"><span data-stu-id="fdb90-102">Bulk Load Security Considerations (SQLXML 4.0)</span></span>
  <span data-ttu-id="fdb90-103">Vous trouverez ci-après des instructions de sécurité relatives au chargement en masse XML :</span><span class="sxs-lookup"><span data-stu-id="fdb90-103">The following are security guidelines for using XML Bulk Load:</span></span>  
  
-   <span data-ttu-id="fdb90-104">Lorsque vous spécifiez que l'opération de chargement en masse doit être effectuée en tant que transaction, vous utilisez la propriété `TempFilePath` pour spécifier un dossier dans lequel créer les fichiers temporaires.</span><span class="sxs-lookup"><span data-stu-id="fdb90-104">When you specify that the Bulk Load operation is to be performed as a transaction, you use the `TempFilePath` property to specify a folder in which to create the temporary files.</span></span>  
  
     <span data-ttu-id="fdb90-105">Le processus de chargement en masse crée ces fichiers temporaires avec les autorisations suivantes :</span><span class="sxs-lookup"><span data-stu-id="fdb90-105">The Bulk Load process creates these temporary files with the following permissions:</span></span>  
  
    -   <span data-ttu-id="fdb90-106">L'accès en lecture/écriture/suppression est accordé au processus de chargement en masse.</span><span class="sxs-lookup"><span data-stu-id="fdb90-106">Read/Write/Delete access is granted to the Bulk Load process.</span></span>  
  
    -   <span data-ttu-id="fdb90-107">L'accès en lecture est accordé à tous les utilisateurs car le compte sous lequel Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] accédera à ces fichiers est inconnu.</span><span class="sxs-lookup"><span data-stu-id="fdb90-107">Read permission is granted to all users, because the account under which Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will access these files is unknown.</span></span> <span data-ttu-id="fdb90-108">Vous pouvez restreindre l'accès à ces fichiers temporaires en définissant les autorisations appropriées sur le dossier qui les contient.</span><span class="sxs-lookup"><span data-stu-id="fdb90-108">You can restrict the access to these temporary files by setting the appropriate permissions on the folder that contains them.</span></span>  
  
-   <span data-ttu-id="fdb90-109">Le chargement en masse XML ne possède en lui-même aucun paramètre d'autorisation.</span><span class="sxs-lookup"><span data-stu-id="fdb90-109">XML Bulk Load does not itself have any permissions settings.</span></span> <span data-ttu-id="fdb90-110">Il est supposé que la base de données est installée correctement et que le contexte d'utilisateur (autrement dit, la connexion que le chargement en masse est configuré pour utiliser) dispose de jeux d'autorisations appropriés.</span><span class="sxs-lookup"><span data-stu-id="fdb90-110">It is assumed that the database is set up correctly and that the user context (that is, the login that Bulk Load is set use) has appropriate permissions set.</span></span>  
  
-   <span data-ttu-id="fdb90-111">En mode non transactionnel, si une erreur se produit pendant le processus de chargement en masse, les données peuvent être laissées dans un état partiellement chargé.</span><span class="sxs-lookup"><span data-stu-id="fdb90-111">In non-transactional mode, if an error occurs during the Bulk Load process, data may be left in a partially loaded state.</span></span> <span data-ttu-id="fdb90-112">Dans ce cas, le chargement en masse s'arrête simplement au point où il est.</span><span class="sxs-lookup"><span data-stu-id="fdb90-112">Bulk Load will simply stop at the point where it is when this happens.</span></span> <span data-ttu-id="fdb90-113">Le mode transactionnel peut être utilisé pour pallier ce problème.</span><span class="sxs-lookup"><span data-stu-id="fdb90-113">Transactional mode can be used to alleviate this issue.</span></span>  
  
-   <span data-ttu-id="fdb90-114">Lorsque des erreurs de chargement en masse se produisent, elles peuvent inclure des informations à propos de la base de données.</span><span class="sxs-lookup"><span data-stu-id="fdb90-114">When Bulk Load errors occur, they may include information about the database.</span></span> <span data-ttu-id="fdb90-115">Par exemple, elles peuvent inclure le nom d'une table ou d'une colonne, ou des informations de type de colonne.</span><span class="sxs-lookup"><span data-stu-id="fdb90-115">For example, they may include the name of a table or column, or column type information.</span></span> <span data-ttu-id="fdb90-116">Lorsque vous utilisez le chargement en masse, vous devez prendre soin d'intercepter les erreurs du processus de chargement en masse et de retourner un message d'erreur générique, plutôt que d'exposer directement les erreurs aux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="fdb90-116">When you use Bulk Load, you should take care to catch errors from the Bulk Load process and return a generic error message, rather than exposing errors directly to users.</span></span>  
  
-   <span data-ttu-id="fdb90-117">Le chargement en masse ne définit aucune limite quant à la quantité de données parcourue.</span><span class="sxs-lookup"><span data-stu-id="fdb90-117">Bulk Load sets no limit on the amount of data it works over.</span></span> <span data-ttu-id="fdb90-118">Il n'effectue aucun contrôle de la taille des données à charger.</span><span class="sxs-lookup"><span data-stu-id="fdb90-118">Bulk Load does not do any checking on the size of the data to be loaded.</span></span> <span data-ttu-id="fdb90-119">Il incombe à l'utilisateur qui exécute le chargement en masse de s'assurer qu'il y a suffisamment de mémoire pour traiter le fichier spécifié et suffisamment d'espace dans la base de données pour stocker les données chargées.</span><span class="sxs-lookup"><span data-stu-id="fdb90-119">It is the responsibility of the user executing Bulk Load to ensure that there is enough memory to process the specified file, and that there is enough room in the database to store the data being loaded.</span></span>  
  
-   <span data-ttu-id="fdb90-120">Le chargement en masse ne tente pas d'utiliser les données qui lui sont données comme code.</span><span class="sxs-lookup"><span data-stu-id="fdb90-120">Bulk Load does not make an attempt to use the data it is given as code.</span></span> <span data-ttu-id="fdb90-121">L'entrée de données n'est jamais exécutée de quelque façon.</span><span class="sxs-lookup"><span data-stu-id="fdb90-121">The data input is never executed in any fashion.</span></span> <span data-ttu-id="fdb90-122">Tout code ou commande dans les données d'entrée est traité(e) comme données normales et n'est pas exécuté(e).</span><span class="sxs-lookup"><span data-stu-id="fdb90-122">Any code or commands in the input data are treated as normal data and will not be executed.</span></span>  
  
-   <span data-ttu-id="fdb90-123">Le chargement en masse peut apporter des modifications de mise en forme aux données en question en fonction des différences entre les modèles de données XML et [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fdb90-123">Bulk Load may make formatting changes to the given data based on differences between the XML and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] data models.</span></span> <span data-ttu-id="fdb90-124">Par exemple, le format pour spécifier une heure est différent.</span><span class="sxs-lookup"><span data-stu-id="fdb90-124">For example, the format for specifying a time is different.</span></span> <span data-ttu-id="fdb90-125">Le chargement en masse tente de résoudre ces différences.</span><span class="sxs-lookup"><span data-stu-id="fdb90-125">Bulk Load will attempt to resolve these differences.</span></span> <span data-ttu-id="fdb90-126">En conséquence, une perte de certaines informations de précision est envisageable.</span><span class="sxs-lookup"><span data-stu-id="fdb90-126">As a result, some precision information may be lost.</span></span>  
  
-   <span data-ttu-id="fdb90-127">Le chargement en masse n'impose aucune limite sur la durée nécessaire pour traiter les données.</span><span class="sxs-lookup"><span data-stu-id="fdb90-127">Bulk Load sets no limit on the amount of time it takes to process the data.</span></span> <span data-ttu-id="fdb90-128">Le traitement se poursuit jusqu'au bout ou jusqu'à ce qu'une erreur se produise.</span><span class="sxs-lookup"><span data-stu-id="fdb90-128">Processing will continue until processing is complete or an error occurs.</span></span>  
  
-   <span data-ttu-id="fdb90-129">Le chargement en masse peut créer et supprimer des tables temporaires dans la base de données et il a besoin d'autorisations pour cela.</span><span class="sxs-lookup"><span data-stu-id="fdb90-129">Bulk Load can create and delete temporary tables within the database, and needs permissions to do so.</span></span> <span data-ttu-id="fdb90-130">Les autorisations pour ces tables seront accordées au même utilisateur qui se connecte à la base de données pour le processus de chargement en masse.</span><span class="sxs-lookup"><span data-stu-id="fdb90-130">Permissions to these tables will be given to the same user who is connecting to the database for the Bulk Load process.</span></span>  
  
-   <span data-ttu-id="fdb90-131">Le chargement en masse peut créer et supprimer des fichiers temporaires utilisés pendant le traitement en mode transactionnel et il a besoin d'autorisations pour cela.</span><span class="sxs-lookup"><span data-stu-id="fdb90-131">Bulk Load can create and delete temporary files used during transactional mode processing, and needs permissions to do so.</span></span> <span data-ttu-id="fdb90-132">Ces fichiers sont créés avec les mêmes autorisations que l'utilisateur actuel du thread dans lequel le chargement en masse s'exécute.</span><span class="sxs-lookup"><span data-stu-id="fdb90-132">These files are created with the same permissions as the current user of the thread within which Bulk Load is running.</span></span>  
  
-   <span data-ttu-id="fdb90-133">Si l'utilisateur définit un fichier journal des erreurs pour SQLXML, chaque fois que le chargement en masse est exécuté, le fichier est écrasé avec les données du dernier processus de chargement en masse.</span><span class="sxs-lookup"><span data-stu-id="fdb90-133">If the user sets an error Log file for SQLXML to write errors into, then each time Bulk Load is executed the file will be overwritten with data from the last Bulk Load process.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fdb90-134">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fdb90-134">See Also</span></span>  
 [<span data-ttu-id="fdb90-135">Exécution du chargement en masse de données XML &#40;SQLXML 4.0&#41;</span><span class="sxs-lookup"><span data-stu-id="fdb90-135">Performing Bulk Load of XML Data &#40;SQLXML 4.0&#41;</span></span>](../bulk-load-xml/performing-bulk-load-of-xml-data-sqlxml-4-0.md)  
  
  
