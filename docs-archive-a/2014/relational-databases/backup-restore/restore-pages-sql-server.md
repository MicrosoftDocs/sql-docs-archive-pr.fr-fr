---
title: Restaurer des pages (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
f1_keywords:
- sql12.swb.restorepage.general.f1
helpviewer_keywords:
- restoring pages [SQL Server]
- pages [SQL Server], restoring
- databases [SQL Server], damaged
- page restores [SQL Server]
- pages [SQL Server], damaged
- restoring [SQL Server], pages
ms.assetid: 07e40950-384e-4d84-9ac5-84da6dd27a91
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 6fb008314b9cb156f1cc575bda71b6364eca6e3a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698321"
---
# <a name="restore-pages-sql-server"></a><span data-ttu-id="2f0b4-102">Restaurer des pages (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2f0b4-102">Restore Pages (SQL Server)</span></span>
  <span data-ttu-id="2f0b4-103">Cette rubrique explique comment restaurer des pages dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à l'aide de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ou de [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2f0b4-103">This topic describes how to restore pages in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="2f0b4-104">Dans la restauration de pages, l'objectif est de restaurer une ou plusieurs pages endommagées sans restaurer toute la base de données.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-104">The goal of a page restore is to restore one or more damaged pages without restoring the whole database.</span></span> <span data-ttu-id="2f0b4-105">Généralement, les pages candidates à la restauration ont été marquées « suspectes » en raison d'une erreur rencontrée lors de l'accès à la page.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-105">Typically, pages that are candidates for restore have been marked as "suspect" because of an error that is encountered when accessing the page.</span></span> <span data-ttu-id="2f0b4-106">Les pages suspectes sont identifiées dans la table [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) dans la base de données **msdb** .</span><span class="sxs-lookup"><span data-stu-id="2f0b4-106">Suspect pages are identified in the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table in the **msdb** database.</span></span>  
  
 <span data-ttu-id="2f0b4-107">**Dans cette rubrique**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-107">**In This Topic**</span></span>  
  
-   <span data-ttu-id="2f0b4-108">**Avant de commencer :**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-108">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="2f0b4-109">Quand une restauration de pages est-elle utile ?</span><span class="sxs-lookup"><span data-stu-id="2f0b4-109">When is a Page Restore Useful?</span></span>](#WhenUseful)  
  
     [<span data-ttu-id="2f0b4-110">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="2f0b4-110">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="2f0b4-111">Recommandations</span><span class="sxs-lookup"><span data-stu-id="2f0b4-111">Recommendations</span></span>](#Recommendations)  
  
     [<span data-ttu-id="2f0b4-112">Sécurité</span><span class="sxs-lookup"><span data-stu-id="2f0b4-112">Security</span></span>](#Security)  
  
-   <span data-ttu-id="2f0b4-113">**Pour restaurer des pages, utilisez :**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-113">**To restore pages, using:**</span></span>  
  
     [<span data-ttu-id="2f0b4-114">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="2f0b4-114">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="2f0b4-115">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="2f0b4-115">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="2f0b4-116">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="2f0b4-116">Before You Begin</span></span>  
  
###  <a name="when-is-a-page-restore-useful"></a><a name="WhenUseful"></a> <span data-ttu-id="2f0b4-117">Quand une restauration de pages est-elle utile ?</span><span class="sxs-lookup"><span data-stu-id="2f0b4-117">When is a Page Restore Useful?</span></span>  
 <span data-ttu-id="2f0b4-118">La restauration de pages permet de réparer des pages endommagées.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-118">A page restore is intended for repairing isolated damaged pages.</span></span> <span data-ttu-id="2f0b4-119">La restauration et la récupération de quelques pages individuelles peuvent être plus rapides qu'une restauration de fichiers, ce qui réduit le nombre de données qui restent hors ligne pendant l'opération.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-119">Restoring and recovering a few individual pages might be faster than a file restore, reducing the amount of data that is offline during a restore operation.</span></span> <span data-ttu-id="2f0b4-120">Toutefois, si vous avez besoin de restaurer un plus grand nombre de pages d'un fichier, il est généralement plus efficace de restaurer l'ensemble du fichier.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-120">However, if you have to restore more than a few pages in a file, it is generally more efficient to restore the whole file.</span></span> <span data-ttu-id="2f0b4-121">Par exemple, si de nombreuses pages sur une unité indiquent une défaillance possible de l'unité, envisagez de restaurer le fichier éventuellement dans un emplacement différent et de réparer l'unité.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-121">For example, if lots of pages on a device indicate a pending device failure, consider restoring the file, possibly to another location, and repairing the device.</span></span>  
  
 <span data-ttu-id="2f0b4-122">En outre, toutes les erreurs de page n'exigent pas une restauration.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-122">Furthermore, not all page errors require a restore.</span></span> <span data-ttu-id="2f0b4-123">Il peut arriver qu'un problème survenant dans les données en cache, dans un index secondaire par exemple, ne puisse pas être résolu en recalculant les données.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-123">A problem can occur in cached data, such as a secondary index, that can be resolved by recalculating the data.</span></span> <span data-ttu-id="2f0b4-124">Par exemple, si l’administrateur de la base de données supprime un index secondaire et le reconstruit, les données endommagées, bien qu’ayant été corrigées, ne sont pas indiquées comme telles dans la table [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="2f0b4-124">For example, if the database administrator drops a secondary index and rebuilds it, the corrupted data, although fixed, is not indicated as such in the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table.</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="2f0b4-125">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="2f0b4-125">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="2f0b4-126">La restauration de pages s'applique aux bases de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] qui utilisent les modes de récupération complète ou de récupération utilisant les journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-126">Page restore applies to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases that are using the full or bulk-logged recovery models.</span></span> <span data-ttu-id="2f0b4-127">La restauration de pages n'est prise en charge que pour les groupes de fichiers en lecture-écriture.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-127">Page restore is supported only for read/write filegroups.</span></span>  
  
-   <span data-ttu-id="2f0b4-128">Seules les pages de bases de données peuvent être restaurées.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-128">Only database pages can be restored.</span></span> <span data-ttu-id="2f0b4-129">La restauration de pages ne peut pas être utilisée pour restaurer les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="2f0b4-129">Page restore cannot be used to restore the following:</span></span>  
  
    -   <span data-ttu-id="2f0b4-130">Journal des transactions</span><span class="sxs-lookup"><span data-stu-id="2f0b4-130">Transaction log</span></span>  
  
    -   <span data-ttu-id="2f0b4-131">Pages d’allocation : pages Global Allocation Map (GAM), pages Shared Global Allocation Map (SGAM) et pages Page Free Space (PFS).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-131">Allocation pages: Global Allocation Map (GAM) pages, Shared Global Allocation Map (SGAM) pages, and Page Free Space (PFS) pages.</span></span>  
  
    -   <span data-ttu-id="2f0b4-132">Page 0 de tous les fichiers de données (page de démarrage des fichiers)</span><span class="sxs-lookup"><span data-stu-id="2f0b4-132">Page 0 of all data files (the file boot page)</span></span>  
  
    -   <span data-ttu-id="2f0b4-133">Page 1:9 (page de démarrage de la base de données)</span><span class="sxs-lookup"><span data-stu-id="2f0b4-133">Page 1:9 (the database boot page)</span></span>  
  
    -   <span data-ttu-id="2f0b4-134">Catalogue de texte intégral</span><span class="sxs-lookup"><span data-stu-id="2f0b4-134">Full-text catalog</span></span>  
  
-   <span data-ttu-id="2f0b4-135">La fonction de restauration de pages est soumise aux conditions supplémentaires suivantes lorsque la base de données utilise le mode de récupération utilisant les journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-135">For a database that uses the bulk-logged recovery model, page restore has the following additional conditions:</span></span>  
  
    -   <span data-ttu-id="2f0b4-136">La sauvegarde d'un groupe de fichiers ou de données de pages hors connexion pose problème au niveau des données journalisées en bloc étant donné que les données hors connexion ne sont pas enregistrées dans le journal.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-136">Backing up while filegroup or page data is offline is problematic for bulk-logged data, because the offline data is not recorded in the log.</span></span> <span data-ttu-id="2f0b4-137">Une page hors connexion peut empêcher la sauvegarde du journal.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-137">Any offline page can prevent backing up the log.</span></span> <span data-ttu-id="2f0b4-138">Dans ce cas, envisagez l'utilisation de DBCC REPAIR car cette solution peut davantage minimiser la perte de données que la restauration de la sauvegarde la plus récente.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-138">In this cases, consider using DBCC REPAIR, because this might cause less data loss than restoring to the most recent backup.</span></span>  
  
    -   <span data-ttu-id="2f0b4-139">Si une sauvegarde de fichier journal d'une base de données journalisée en bloc rencontre une page endommagée, elle échoue à moins que WITH CONTINUE_AFTER_ERROR n'ait été spécifié.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-139">If a log backup of a bulk-logged database encounters a bad page, it fails unless WITH CONTINUE_AFTER_ERROR is specified.</span></span>  
  
    -   <span data-ttu-id="2f0b4-140">La restauration de pages ne fonctionne généralement pas avec la récupération utilisant les journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-140">Page restore generally does not work with bulk-logged recovery.</span></span>  
  
         <span data-ttu-id="2f0b4-141">La méthode recommandée pour effectuer une restauration de pages consiste à affecter à la base de données le mode de restauration complète et à tenter une sauvegarde du journal.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-141">A best practice for performing page restore is to set the database to the full recovery model, and try a log backup.</span></span> <span data-ttu-id="2f0b4-142">Si la sauvegarde du journal fonctionne, vous pouvez poursuivre la restauration de la page.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-142">If the log backup works, you can continue with the page restore.</span></span> <span data-ttu-id="2f0b4-143">Si elle échoue, soit vous perdez effectivement le travail effectué depuis la dernière sauvegarde du journal, soit vous tentez d'exécuter DBCC avec l'option REPAIR_ALLOW_DATA_LOSS.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-143">If the log backup fails, you either have to lose work since the previous log backup or you have to try running DBCC must be run with the REPAIR_ALLOW_DATA_LOSS option.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="2f0b4-144">Recommandations</span><span class="sxs-lookup"><span data-stu-id="2f0b4-144">Recommendations</span></span>  
  
-   <span data-ttu-id="2f0b4-145">Scénarios de restauration de pages :</span><span class="sxs-lookup"><span data-stu-id="2f0b4-145">Page restore scenarios:</span></span>  
  
     <span data-ttu-id="2f0b4-146">Restauration de pages hors connexion</span><span class="sxs-lookup"><span data-stu-id="2f0b4-146">Offline page restore</span></span>  
     <span data-ttu-id="2f0b4-147">Toutes les éditions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] prennent en charge la restauration des pages lorsque la base de données est hors connexion.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-147">All editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] support restoring pages when the database is offline.</span></span> <span data-ttu-id="2f0b4-148">Dans une restauration de pages hors connexion, la base de données est hors connexion pendant que les pages endommagées sont restaurées.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-148">In an offline page restore, the database is offline while damaged pages are restored.</span></span> <span data-ttu-id="2f0b4-149">À la fin de la séquence de restauration, la base de données est mise en ligne.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-149">At the end of the restore sequence, the database comes online.</span></span>  
  
     <span data-ttu-id="2f0b4-150">Restauration de pages en ligne</span><span class="sxs-lookup"><span data-stu-id="2f0b4-150">Online page restore</span></span>  
     [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="2f0b4-151">Enterprise Edition prend en charge les restaurations de pages en ligne, bien qu’elle utilise la restauration hors ligne si la base de données est actuellement hors connexion.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-151">Enterprise edition supports online page restores, though they use offline restore if the database is currently offline.</span></span> <span data-ttu-id="2f0b4-152">Dans la plupart des cas, une page endommagée peut être restaurée alors que la base de données reste en ligne, notamment le groupe de fichiers dans lequel une page est restaurée.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-152">In most cases, a damaged page can be restored while the database remains online, including the filegroup to which a page is being restored.</span></span> <span data-ttu-id="2f0b4-153">Lorsque le groupe de fichiers primaire est en ligne, même si un ou plusieurs de ses groupes de fichiers secondaires sont hors connexion, les restaurations de pages sont habituellement effectuées en ligne.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-153">When the primary filegroup is online, even if one or more of its secondary filegroups are offline, page restores are usually performed online.</span></span> <span data-ttu-id="2f0b4-154">Cependant, une page endommagée peut parfois nécessiter une restauration hors connexion.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-154">Occasionally, however, a damaged page can require an offline restore.</span></span> <span data-ttu-id="2f0b4-155">Il arrive par exemple que l'état de certaines pages critiques empêche le démarrage de la base de données.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-155">For example, damage to certain critical pages might prevent the database from starting.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="2f0b4-156">Si les pages endommagées stockent des métadonnées de base de données critiques, les mises à jour obligatoires des métadonnées peuvent échouer lors d'une tentative de restauration de pages en ligne.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-156">If damaged pages are storing critical database metadata, required updates to metadata might fail during an online page restore attempt.</span></span> <span data-ttu-id="2f0b4-157">Dans ce cas, vous pouvez effectuer une restauration de pages hors connexion, mais vous devez d’abord créer une [sauvegarde de la fin du fichier journal](tail-log-backups-sql-server.md) (en sauvegardant le journal des transactions à l’aide de RESTORE WITH NORECOVERY).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-157">In this case, you can perform an offline page restore, but first you must create a [tail log backup](tail-log-backups-sql-server.md) (by backing up the transaction log using RESTORE WITH NORECOVERY).</span></span>  
  
-   <span data-ttu-id="2f0b4-158">La restauration de pages bénéficie de la fonction améliorée de signalisation des erreurs au niveau de la page (avec sommes de contrôle) et du suivi.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-158">Page restore takes advantage of the improved page-level error reporting (including page checksums) and tracking.</span></span> <span data-ttu-id="2f0b4-159">Les pages endommagées détectées par somme de contrôle ou une erreur d’écriture, *pages endommagées*, peuvent être restaurées par une opération de restauration de pages.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-159">Pages that are detected as corrupted by check-summing or a torn write, *damaged pages*, can be restored by a page restore operation.</span></span> <span data-ttu-id="2f0b4-160">Seules les pages spécifiées explicitement sont restaurées.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-160">Only explicitly specified pages are restored.</span></span> <span data-ttu-id="2f0b4-161">Chaque page spécifiée est remplacée par la copie de cette page de la sauvegarde de données spécifiée.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-161">Each specified page is replaced by the copy of that page from the specified data backup.</span></span>  
  
     <span data-ttu-id="2f0b4-162">Lorsque vous restaurez les sauvegardes de journaux suivantes, elles s'appliquent uniquement aux fichiers de base de données qui contiennent au moins une page récupérée.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-162">When you restore the subsequent log backups, they are applied only to database files that contain at least one page that is being recovered.</span></span> <span data-ttu-id="2f0b4-163">Si une chaîne ininterrompue de sauvegardes de journaux doit être appliquée à la dernière restauration complète ou différentielle pour restaurer par progression la page jusqu'au fichier journal actuel.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-163">An unbroken chain of log backups must be applied to the last full or differential restore to bring the filegroup that contains the page forward to the current log file.</span></span> <span data-ttu-id="2f0b4-164">Comme dans le cas d'une restauration de fichiers, le jeu de restauration par progression est une opération avancée qui s'effectue en une seule passe.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-164">As in a file restore, the roll forward set is advanced with a single log redo pass.</span></span> <span data-ttu-id="2f0b4-165">Pour qu'une restauration de pages aboutisse, les pages restaurées doivent être récupérées dans un état cohérent avec la base de données.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-165">For a page restore to succeed, the restored pages must be recovered to a state consistent with the database.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="2f0b4-166">Sécurité</span><span class="sxs-lookup"><span data-stu-id="2f0b4-166">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="2f0b4-167">Autorisations</span><span class="sxs-lookup"><span data-stu-id="2f0b4-167">Permissions</span></span>  
 <span data-ttu-id="2f0b4-168">Si la base de données restaurée n'existe pas, l'utilisateur doit posséder les autorisations CREATE DATABASE afin de pouvoir exécuter RESTORE.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-168">If the database being restored does not exist, the user must have CREATE DATABASE permissions to be able to execute RESTORE.</span></span> <span data-ttu-id="2f0b4-169">Si la base de données existe, les autorisations RESTORE reviennent par défaut aux membres des rôles serveur fixe **sysadmin** et **dbcreator** et au propriétaire (**dbo**) de la base de données (pour l’option FROM DATABASE_SNAPSHOT, la base de données existe toujours).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-169">If the database exists, RESTORE permissions default to members of the **sysadmin** and **dbcreator** fixed server roles and the owner (**dbo**) of the database (for the FROM DATABASE_SNAPSHOT option, the database always exists).</span></span>  
  
 <span data-ttu-id="2f0b4-170">Les autorisations RESTORE sont attribuées aux rôles dont les informations d'appartenance sont toujours immédiatement accessibles à partir du serveur.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-170">RESTORE permissions are given to roles in which membership information is always readily available to the server.</span></span> <span data-ttu-id="2f0b4-171">Étant donné que l’appartenance au rôle de base de données fixe ne peut être contrôlée que quand la base de données est accessible et non endommagée, ce qui n’est pas toujours le cas lorsque RESTORE est exécuté, les membres du rôle de base de données fixe **db_owner** ne détiennent pas d’autorisations RESTORE.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-171">Because fixed database role membership can be checked only when the database is accessible and undamaged, which is not always the case when RESTORE is executed, members of the **db_owner** fixed database role do not have RESTORE permissions.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="2f0b4-172">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="2f0b4-172">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="2f0b4-173">À compter de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] prend en charge les restaurations de pages.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-173">Starting in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] supports page restores.</span></span>  
  
#### <a name="to-restore-pages"></a><span data-ttu-id="2f0b4-174">Pour restaurer des pages</span><span class="sxs-lookup"><span data-stu-id="2f0b4-174">To restore pages</span></span>  
  
1.  <span data-ttu-id="2f0b4-175">Connectez-vous à l'instance appropriée du [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], puis dans l'Explorateur d'objets, cliquez sur le nom du serveur pour développer son arborescence.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-175">Connect to the appropriate instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], in Object Explorer, click the server name to expand the server tree.</span></span>  
  
2.  <span data-ttu-id="2f0b4-176">Développez **Bases de données**.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-176">Expand **Databases**.</span></span> <span data-ttu-id="2f0b4-177">Selon la base de données, sélectionnez une base de données utilisateur ou développez **Bases de données système**et sélectionnez une base de données système.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-177">Depending on the database, either select a user database or expand **System Databases**, and then select a system database.</span></span>  
  
3.  <span data-ttu-id="2f0b4-178">Cliquez avec le bouton droit sur la base de données, pointez sur **Tâches**, pointez sur **Restaurer**, puis cliquez sur **Page**, pour ouvrir la boîte de dialogue **Restaurer la page** .</span><span class="sxs-lookup"><span data-stu-id="2f0b4-178">Right-click the database, point to **Tasks**, point to **Restore**, and then click **Page**, which opens the **Restore Page** dialog box.</span></span>  
  
     <span data-ttu-id="2f0b4-179">**Restauration**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-179">**Restore**</span></span>  
     <span data-ttu-id="2f0b4-180">Cette section effectue la même fonction que **Restaurer sur** dans la page [Restaurer la base de données (page Général)](../../integration-services/general-page-of-integration-services-designers-options.md).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-180">This section performs the same function as that of **Restore to** on the [Restore Database (General Page)](../../integration-services/general-page-of-integration-services-designers-options.md).</span></span>  
  
     <span data-ttu-id="2f0b4-181">**Sauvegarde de la base de données**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-181">**Database**</span></span>  
     <span data-ttu-id="2f0b4-182">Spécifie la base de données à restaurer.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-182">Specifies the database to restore.</span></span> <span data-ttu-id="2f0b4-183">Vous pouvez saisir le nom d'une nouvelle base de données ou en sélectionner une existante dans la liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-183">You can enter a new database or select an existing database from the drop-down list.</span></span> <span data-ttu-id="2f0b4-184">La liste comprend toutes les bases de données se trouvant sur le serveur, à l'exception des bases de données système **master** et **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-184">The list includes all databases on the server, except the system databases **master** and **tempdb**.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="2f0b4-185">Pour restaurer une sauvegarde protégée par mot de passe, vous devez utiliser l’instruction [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="2f0b4-185">To restore a password-protected backup, you must use the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement.</span></span>  
  
     <span data-ttu-id="2f0b4-186">**Sauvegarde de la fin du journal**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-186">**Tail-Log backup**</span></span>  
     <span data-ttu-id="2f0b4-187">Entrez ou sélectionnez un nom de fichier dans **Unité de sauvegarde** où la sauvegarde de la fin du journal sera stockée pour la base de données.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-187">Enter or select a file name in **Backup device** where there tail-log backup will be stored for the database.</span></span>  
  
     <span data-ttu-id="2f0b4-188">**Jeux de sauvegarde**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-188">**Backup Sets**</span></span>  
     <span data-ttu-id="2f0b4-189">Cette section affiche les jeux de sauvegarde impliqués dans la restauration.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-189">This section displays the backup sets involved in the restoration.</span></span>  
  
    |<span data-ttu-id="2f0b4-190">En-tête</span><span class="sxs-lookup"><span data-stu-id="2f0b4-190">Header</span></span>|<span data-ttu-id="2f0b4-191">Valeurs</span><span class="sxs-lookup"><span data-stu-id="2f0b4-191">Values</span></span>|  
    |------------|------------|  
    |<span data-ttu-id="2f0b4-192">**Nom**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-192">**Name**</span></span>|<span data-ttu-id="2f0b4-193">Nom du jeu de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-193">The name of the backup set.</span></span>|  
    |<span data-ttu-id="2f0b4-194">**Composant**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-194">**Component**</span></span>|<span data-ttu-id="2f0b4-195">Composant sauvegardé : **Base de données**, **fichier** ou **\<blank>** (pour les journaux des transactions).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-195">The backed-up component: **Database**, **File**, or **\<blank>** (for transaction logs).</span></span>|  
    |<span data-ttu-id="2f0b4-196">**Type**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-196">**Type**</span></span>|<span data-ttu-id="2f0b4-197">Type de sauvegarde effectuée : **Complète**, **Différentielle** ou **Journal des transactions**.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-197">The type of backup performed: **Full**, **Differential**, or **Transaction Log**.</span></span>|  
    |<span data-ttu-id="2f0b4-198">**Serveur**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-198">**Server**</span></span>|<span data-ttu-id="2f0b4-199">Nom de l'instance [!INCLUDE[ssDE](../../includes/ssde-md.md)] du moteur de base de données qui a effectué l'opération de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-199">The name of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance that performed the backup operation.</span></span>|  
    |<span data-ttu-id="2f0b4-200">**Sauvegarde de la base de données**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-200">**Database**</span></span>|<span data-ttu-id="2f0b4-201">Nom de la base de données impliquée dans la sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-201">The name of the database involved in the backup operation.</span></span>|  
    |<span data-ttu-id="2f0b4-202">**Position**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-202">**Position**</span></span>|<span data-ttu-id="2f0b4-203">La position du jeu de sauvegarde dans le volume.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-203">The position of the backup set in the volume.</span></span>|  
    |<span data-ttu-id="2f0b4-204">**Premier NSE**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-204">**First LSN**</span></span>|<span data-ttu-id="2f0b4-205">Numéro séquentiel dans le journal (LSN) correspondant à la première transaction dans le jeu de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-205">The log sequence number (LSN) of the first transaction in the backup set.</span></span> <span data-ttu-id="2f0b4-206">Vide pour les sauvegardes de fichiers.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-206">Blank for file backups.</span></span>|  
    |<span data-ttu-id="2f0b4-207">**Dernier NSE**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-207">**Last LSN**</span></span>|<span data-ttu-id="2f0b4-208">Numéro séquentiel dans le journal (LSN) correspondant à la dernière transaction dans le jeu de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-208">The log sequence number (LSN) of the last transaction in the backup set.</span></span> <span data-ttu-id="2f0b4-209">Vide pour les sauvegardes de fichiers.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-209">Blank for file backups.</span></span>|  
    |<span data-ttu-id="2f0b4-210">**NSE du point de contrôle**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-210">**Checkpoint LSN**</span></span>|<span data-ttu-id="2f0b4-211">Numéro séquentiel dans le journal du point de contrôle le plus récent au moment où la sauvegarde a été créée.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-211">The log sequence number (LSN) of the most recent checkpoint at the time the backup was created.</span></span>|  
    |<span data-ttu-id="2f0b4-212">**Tous les NSE**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-212">**Full LSN**</span></span>|<span data-ttu-id="2f0b4-213">Numéro séquentiel dans le journal (LSN) correspondant à la sauvegarde complète la plus récente de la base de données</span><span class="sxs-lookup"><span data-stu-id="2f0b4-213">The log sequence number (LSN) of the most recent full database backup.</span></span>|  
    |<span data-ttu-id="2f0b4-214">**Date de début**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-214">**Start Date**</span></span>|<span data-ttu-id="2f0b4-215">Date et heure de lancement de l'opération de sauvegarde, présentée conformément aux paramètres régionaux du client.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-215">The date and time when the backup operation began, presented in the regional setting of the client.</span></span>|  
    |<span data-ttu-id="2f0b4-216">**Date de fin**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-216">**Finish Date**</span></span>|<span data-ttu-id="2f0b4-217">Date et heure de fin de l'opération de sauvegarde, exprimée d'après les paramètres régionaux du client.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-217">The date and time when the backup operation finished, presented in the regional setting of the client.</span></span>|  
    |<span data-ttu-id="2f0b4-218">**Taille**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-218">**Size**</span></span>|<span data-ttu-id="2f0b4-219">Taille du jeu de sauvegarde, exprimée en octets.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-219">The size of the backup set in bytes.</span></span>|  
    |<span data-ttu-id="2f0b4-220">**Nom d’utilisateur**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-220">**User Name**</span></span>|<span data-ttu-id="2f0b4-221">Nom de l'utilisateur qui a exécuté l'opération de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-221">The name of the user who performed the backup operation.</span></span>|  
    |<span data-ttu-id="2f0b4-222">**Expiration**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-222">**Expiration**</span></span>|<span data-ttu-id="2f0b4-223">La date et l'heure d'expiration du jeu de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-223">The date and time the backup set expires.</span></span>|  
  
     <span data-ttu-id="2f0b4-224">Cliquez sur **Vérifier** pour vérifier l'intégrité des fichiers de sauvegarde nécessaires pour effectuer l'opération de restauration de pages.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-224">Click **Verify** to check the integrity of the backup files needed to perform the page restore operation.</span></span>  
  
4.  <span data-ttu-id="2f0b4-225">Pour identifier les pages endommagées, avec la base de données correcte sélectionnée dans la zone **Base de données** , cliquez sur **Vérifier les pages de la base de données**.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-225">To identify corrupted pages, with the correct database selected in the **Database** box, click **Check Database Pages**.</span></span> <span data-ttu-id="2f0b4-226">Cette opération est longue.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-226">This is a long running operation.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="2f0b4-227">Pour restaurer les pages spécifiques qui ne sont pas endommagées, cliquez sur **Ajouter** et entrez l’ **ID de fichier** et l’ **ID de page** des pages à restaurer.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-227">To restore specific pages that are not corrupted, click **Add** and enter the **File ID** and **Page ID** of the pages to be restored.</span></span>  
  
5.  <span data-ttu-id="2f0b4-228">La grille de pages est utilisée pour identifier les pages à restaurer.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-228">The pages grid is used to identify the pages to be restored.</span></span> <span data-ttu-id="2f0b4-229">Initialement, cette grille est remplie à partir de la table système [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="2f0b4-229">Initially, this grid is populated from the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) system table.</span></span> <span data-ttu-id="2f0b4-230">Pour ajouter ou supprimer des pages de la grille, cliquez sur **Ajouter** ou **Supprimer**.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-230">To add or remove pages from the grid, click **Add** or **Remove**.</span></span> <span data-ttu-id="2f0b4-231">Pour plus d’informations, consultez [Gérer la table suspect_pages &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-231">For more information, see [Manage the suspect_pages Table &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md).</span></span>  
  
6.  <span data-ttu-id="2f0b4-232">La grille **Jeux de sauvegarde** répertorie les jeux de sauvegarde dans le plan de restauration par défaut.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-232">The **Backup sets** grid lists the backup sets in the default restore plan.</span></span> <span data-ttu-id="2f0b4-233">Éventuellement, cliquez sur **Vérifier** pour vérifier que les sauvegardes sont lisibles et que les jeux de sauvegarde sont complets, sans les restaurer.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-233">Optionally, click **Verify** to verify that the backups are readable and that the backup sets are complete, without restoring them.</span></span> <span data-ttu-id="2f0b4-234">Pour plus d’informations, consultez [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-234">For more information, see [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span></span>  
  
     <span data-ttu-id="2f0b4-235">**Pages**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-235">**Pages**</span></span>  
  
7.  <span data-ttu-id="2f0b4-236">Restaurer les pages répertoriées dans la grille de pages, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-236">To restore the pages listed in the pages grid, click **OK**.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="2f0b4-237">Utilisation de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="2f0b4-237">Using Transact-SQL</span></span>  
 <span data-ttu-id="2f0b4-238">Pour spécifier une page dans une instruction RESTORE DATABASE, vous avez besoin de l'ID du fichier qui contient la page et l'ID de la page.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-238">To specify a page in a RESTORE DATABASE statement, you need the file ID of the file containing the page and the page ID of the page.</span></span> <span data-ttu-id="2f0b4-239">La syntaxe requise est la suivante :</span><span class="sxs-lookup"><span data-stu-id="2f0b4-239">The required syntax is as follows:</span></span>  
  
 `RESTORE DATABASE <database_name>`  
  
 `PAGE = '<file: page> [ ,... n ] ' [ ,... n ]`  
  
 `FROM <backup_device> [ ,... n ]`  
  
 `WITH NORECOVERY`  
  
 <span data-ttu-id="2f0b4-240">Pour plus d’informations sur les paramètres de l’option PAGE, consultez [Arguments RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-240">For more information about the parameters of the PAGE option, see [RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span></span> <span data-ttu-id="2f0b4-241">Pour plus d’informations sur la syntaxe de RESTORE DATABASE, consultez [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-241">For more information about the RESTORE DATABASE syntax, see [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
#### <a name="to-restore-pages"></a><span data-ttu-id="2f0b4-242">Pour restaurer des pages</span><span class="sxs-lookup"><span data-stu-id="2f0b4-242">To restore pages</span></span>  
  
1.  <span data-ttu-id="2f0b4-243">Obtenez les ID des pages endommagées à restaurer.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-243">Obtain the page IDs of the damaged pages to be restored.</span></span> <span data-ttu-id="2f0b4-244">Une somme de contrôle ou une erreur d'écriture renvoie un ID de page fournissant les informations nécessaires pour la spécification des pages.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-244">A checksum or torn write error returns page ID, providing the information required for specifying the pages.</span></span> <span data-ttu-id="2f0b4-245">Pour rechercher l'ID de page d'une page endommagée, utilisez une des sources suivantes.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-245">To look up page ID of a damaged page, use any of the following sources.</span></span>  
  
    |<span data-ttu-id="2f0b4-246">Source d'ID de page</span><span class="sxs-lookup"><span data-stu-id="2f0b4-246">Source of page ID</span></span>|<span data-ttu-id="2f0b4-247">Rubrique</span><span class="sxs-lookup"><span data-stu-id="2f0b4-247">Topic</span></span>|  
    |-----------------------|-----------|  
    |<span data-ttu-id="2f0b4-248">**msdb..suspect_pages**</span><span class="sxs-lookup"><span data-stu-id="2f0b4-248">**msdb..suspect_pages**</span></span>|[<span data-ttu-id="2f0b4-249">Gérer la table suspect_pages &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2f0b4-249">Manage the suspect_pages Table &#40;SQL Server&#41;</span></span>](manage-the-suspect-pages-table-sql-server.md)|  
    |<span data-ttu-id="2f0b4-250">Journal des erreurs</span><span class="sxs-lookup"><span data-stu-id="2f0b4-250">Error log</span></span>|[<span data-ttu-id="2f0b4-251">Afficher le journal des erreurs SQL Server &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="2f0b4-251">View the SQL Server Error Log &#40;SQL Server Management Studio&#41;</span></span>](../../ssms/sql-server-management-studio-ssms.md)|  
    |<span data-ttu-id="2f0b4-252">Traces d'événements</span><span class="sxs-lookup"><span data-stu-id="2f0b4-252">Event traces</span></span>|[<span data-ttu-id="2f0b4-253">Surveiller et répondre aux événements</span><span class="sxs-lookup"><span data-stu-id="2f0b4-253">Monitor and Respond to Events</span></span>](../../ssms/agent/monitor-and-respond-to-events.md)|  
    |<span data-ttu-id="2f0b4-254">DBCC</span><span class="sxs-lookup"><span data-stu-id="2f0b4-254">DBCC</span></span>|[<span data-ttu-id="2f0b4-255">DBCC &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="2f0b4-255">DBCC &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/database-console-commands/dbcc-transact-sql)|  
    |<span data-ttu-id="2f0b4-256">Fournisseur WMI</span><span class="sxs-lookup"><span data-stu-id="2f0b4-256">WMI provider</span></span>|[<span data-ttu-id="2f0b4-257">Fournisseur WMI pour les concepts des événements de serveur</span><span class="sxs-lookup"><span data-stu-id="2f0b4-257">WMI Provider for Server Events Concepts</span></span>](../wmi-provider-server-events/wmi-provider-for-server-events-concepts.md)|  
  
2.  <span data-ttu-id="2f0b4-258">Démarrez une restauration de pages avec une sauvegarde complète de base de données, de fichier ou de groupe de fichiers contenant la page.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-258">Start a page restore with a full database, file, or filegroup backup that contains the page.</span></span> <span data-ttu-id="2f0b4-259">Dans l'instruction RESTORE DATABASE, utilisez la clause PAGE pour énumérer les ID de toutes les pages à restaurer.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-259">In the RESTORE DATABASE statement, use the PAGE clause to list the page IDs of all of the pages to be restored.</span></span>  
  
3.  <span data-ttu-id="2f0b4-260">Appliquez les sauvegardes différentielles les plus récentes.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-260">Apply the most recent differentials .</span></span>  
  
4.  <span data-ttu-id="2f0b4-261">Appliquez les sauvegardes des journaux suivants.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-261">Apply the subsequent log backups.</span></span>  
  
5.  <span data-ttu-id="2f0b4-262">Créez une nouvelle sauvegarde de journal de la base de données incluant le NSE final des pages restaurées, c'est-à-dire le point auquel la dernière page restaurée est placée en mode hors connexion.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-262">Create a new log backup of the database that includes the final LSN of the restored pages, that is, the point at which the last restored page is taken offline.</span></span> <span data-ttu-id="2f0b4-263">Le NSE final, qui est défini dans le cadre de la première restauration dans la séquence, est le NSE cible de restauration par progression.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-263">The final LSN, which is set as part of the first restore in the sequence, is the redo target LSN.</span></span> <span data-ttu-id="2f0b4-264">La restauration en ligne par progression du fichier contenant la page est capable de s'arrêter au NSE cible de restauration par progression.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-264">Online roll forward of the file containing the page is able to stop at the redo target LSN.</span></span> <span data-ttu-id="2f0b4-265">Pour connaître le NSE cible actuel de restauration d’un fichier, consultez la colonne **redo_target_lsn** de **sys.master_files**.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-265">To learn the current redo target LSN of a file, see the **redo_target_lsn** column of **sys.master_files**.</span></span> <span data-ttu-id="2f0b4-266">Pour plus d’informations, consultez [sys.master_files &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="2f0b4-266">For more information, see [sys.master_files &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql).</span></span>  
  
6.  <span data-ttu-id="2f0b4-267">Restaurez la nouvelle sauvegarde de fichier</span><span class="sxs-lookup"><span data-stu-id="2f0b4-267">Restore the new log backup.</span></span> <span data-ttu-id="2f0b4-268">Une fois appliquée cette nouvelle sauvegarde de journal, la restauration des pages est terminée et les pages sont désormais utilisables.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-268">After this new log backup is applied, the page restore is completed and the pages are now usable.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2f0b4-269">Cette séquence est analogue à une séquence de restauration de fichier.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-269">This sequence is analogous to a file restore sequence.</span></span> <span data-ttu-id="2f0b4-270">En fait, la restauration de pages et les restaurations de fichiers peuvent être effectuées dans le cadre de la même séquence.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-270">In fact, page restore and file restores can both be performed as part of the same sequence.</span></span>  
  
###  <a name="example-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="2f0b4-271">Exemple (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2f0b4-271">Example (Transact-SQL)</span></span>  
 <span data-ttu-id="2f0b4-272">Cet exemple restaure quatre pages endommagées du fichier `B` à l'aide de `NORECOVERY`.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-272">The following example restores four damaged pages of file `B` with `NORECOVERY`.</span></span> <span data-ttu-id="2f0b4-273">Ensuite, deux sauvegardes de journal sont appliquées à l'aide de `NORECOVERY`, suivies de la sauvegarde de la fin du journal, qui est restaurée à l'aide de `RECOVERY`.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-273">Next, two log backups are applied with `NORECOVERY`, followed with the tail-log backup, which is restored with `RECOVERY`.</span></span> <span data-ttu-id="2f0b4-274">Cet exemple effectue une restauration en ligne.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-274">This example performs an online restore.</span></span> <span data-ttu-id="2f0b4-275">Dans l'exemple, l'ID de fichier `B` est `1`, et les ID des pages endommagées sont `57`, `202`, `916`, et `1016`.</span><span class="sxs-lookup"><span data-stu-id="2f0b4-275">In the example, the file ID of file `B` is `1`, and the page IDs of the damaged pages are `57`, `202`, `916`, and `1016`.</span></span>  
  
```sql  
RESTORE DATABASE <database> PAGE='1:57, 1:202, 1:916, 1:1016'  
   FROM <file_backup_of_file_B>   
   WITH NORECOVERY;  
RESTORE LOG <database> FROM <log_backup>   
   WITH NORECOVERY;  
RESTORE LOG <database> FROM <log_backup>   
   WITH NORECOVERY;   
BACKUP LOG <database> TO <new_log_backup>;   
RESTORE LOG <database> FROM <new_log_backup> WITH RECOVERY;  
GO  
```  
  
## <a name="see-also"></a><span data-ttu-id="2f0b4-276">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2f0b4-276">See Also</span></span>  
 <span data-ttu-id="2f0b4-277">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="2f0b4-277">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span></span>  
 <span data-ttu-id="2f0b4-278">[Appliquer les sauvegardes du journal des transactions &#40;SQL Server&#41;](transaction-log-backups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2f0b4-278">[Apply Transaction Log Backups &#40;SQL Server&#41;](transaction-log-backups-sql-server.md) </span></span>  
 <span data-ttu-id="2f0b4-279">[Gérer la table suspect_pages &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2f0b4-279">[Manage the suspect_pages Table &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md) </span></span>  
 [<span data-ttu-id="2f0b4-280">Sauvegarder et restaurer des bases de données SQL Server</span><span class="sxs-lookup"><span data-stu-id="2f0b4-280">Back Up and Restore of SQL Server Databases</span></span>](back-up-and-restore-of-sql-server-databases.md)  
  
  
