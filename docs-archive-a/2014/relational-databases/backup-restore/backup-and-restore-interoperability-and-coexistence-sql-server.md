---
title: 'Sauvegarde et restauration : Interopérabilité et coexistence (SQL Server) | Microsoft Docs'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- file restores [SQL Server], related features
- restoring [SQL Server], files
- restoring files [SQL Server], related features
- backups [SQL Server], files or filegroups
- file backups [SQL Server], related features
ms.assetid: 69f212b8-edcd-4c5d-8a8a-679ced33c128
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: cd78e5f1e85510ec7a14548280a616a9b32aec55
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87600103"
---
# <a name="backup-and-restore-interoperability-and-coexistence-sql-server"></a><span data-ttu-id="d3d7b-102">Sauvegarde et restauration : interopérabilité et coexistence (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="d3d7b-102">Backup and Restore: Interoperability and Coexistence (SQL Server)</span></span>
  <span data-ttu-id="d3d7b-103">Cette rubrique comprend des observations sur la sauvegarde et la restauration pour plusieurs fonctionnalités de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3d7b-103">This topic describes backup-and-restore considerations for several features in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="d3d7b-104">Ces fonctionnalités concernent : la restauration de fichiers et le démarrage de bases de données, la restauration et la désactivation en ligne d'index, la mise en miroir de bases de données, la restauration fragmentaire et les index de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-104">These features include: file restore and database startup, online restore and disabled indexes, database mirroring, and piecemeal restore and full-text indexes.</span></span>  
  
 <span data-ttu-id="d3d7b-105">**Dans cette rubrique :**</span><span class="sxs-lookup"><span data-stu-id="d3d7b-105">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="d3d7b-106">Restauration de fichiers et démarrage d'une base de données</span><span class="sxs-lookup"><span data-stu-id="d3d7b-106">File Restore and Database Startup</span></span>](#FileRestoreAndDbStartup)  
  
-   [<span data-ttu-id="d3d7b-107">Restauration en ligne et index désactivés</span><span class="sxs-lookup"><span data-stu-id="d3d7b-107">Online Restore and Disabled Indexes</span></span>](#OnlineRestoreAndDisabledIndexes)  
  
-   [<span data-ttu-id="d3d7b-108">Sauvegarde et restauration et mise en miroir d'une base de données</span><span class="sxs-lookup"><span data-stu-id="d3d7b-108">Database Mirroring and Backup and Restore</span></span>](#DbMandBnR)  
  
-   [<span data-ttu-id="d3d7b-109">Restauration fragmentaire et index de recherche en texte intégral</span><span class="sxs-lookup"><span data-stu-id="d3d7b-109">Piecemeal Restore and Full-Text Indexes</span></span>](#PiecemealAndFTIndexes)  
  
-   [<span data-ttu-id="d3d7b-110">Sauvegarde et restauration de fichiers et compression</span><span class="sxs-lookup"><span data-stu-id="d3d7b-110">File Backup and Restore and Compression</span></span>](#FileBnRandCompression)  
  
-   [<span data-ttu-id="d3d7b-111">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="d3d7b-111">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="file-restore-and-database-startup"></a><a name="FileRestoreAndDbStartup"></a> <span data-ttu-id="d3d7b-112">Restauration de fichiers et démarrage d'une base de données</span><span class="sxs-lookup"><span data-stu-id="d3d7b-112">File Restore and Database Startup</span></span>  
 <span data-ttu-id="d3d7b-113">Cette section concerne uniquement les bases de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] qui contiennent plusieurs groupes de fichiers.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-113">This section is relevant only for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases that have multiple filegroups.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d3d7b-114">Lors du démarrage d'une base de données, seuls les groupes de fichiers dont les fichiers étaient en ligne lorsque la base de données était fermée sont récupérés et mis en ligne.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-114">When a database is started, only filegroups whose files were online when the database was closed are recovered and brought online.</span></span>  
  
 <span data-ttu-id="d3d7b-115">Si un problème se produit lors du démarrage de la base de données, la récupération échoue et la base de données est affectée de l'attribut SUSPECT.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-115">If a problem is encountered during database startup, recovery fails, and the database is marked as SUSPECT.</span></span> <span data-ttu-id="d3d7b-116">Si le problème peut être isolé dans un ou des fichiers, l'administrateur de la base de données peut placer les fichiers hors connexion et tenter de la redémarrer.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-116">If the problem can be isolated to a file or files, the database administrator can take the files offline and try to restart the database.</span></span> <span data-ttu-id="d3d7b-117">Pour placer un fichier hors connexion, vous pouvez utiliser l'instruction [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql) suivante :</span><span class="sxs-lookup"><span data-stu-id="d3d7b-117">To take a file offline, you can use the following [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql) statement:</span></span>  
  
 <span data-ttu-id="d3d7b-118">ALTER DATABASE *database_name* modifier le fichier (nom **= ' *`filename`* '**, hors connexion)</span><span class="sxs-lookup"><span data-stu-id="d3d7b-118">ALTER DATABASE *database_name* MODIFY FILE (NAME **='*`filename`*'**, OFFLINE)</span></span>  
  
 <span data-ttu-id="d3d7b-119">Si le démarrage aboutit, les groupes de fichiers qui contiennent un fichier hors connexion demeurent hors connexion.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-119">If startup succeeds, any filegroup that contains an offline file remains offline.</span></span>  
  
##  <a name="online-restore-and-disabled-indexes"></a><a name="OnlineRestoreAndDisabledIndexes"></a> <span data-ttu-id="d3d7b-120">Restauration en ligne et index désactivés</span><span class="sxs-lookup"><span data-stu-id="d3d7b-120">Online Restore and Disabled Indexes</span></span>  
 <span data-ttu-id="d3d7b-121">Elle concerne seulement les bases de données avec plusieurs groupes de fichiers et, dans le cas du mode de récupération simple, au moins un groupe de fichiers en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-121">This section is relevant only for databases that have multiple filegroups and, for the simple recovery model, at least one read-only filegroup.</span></span>  
  
 <span data-ttu-id="d3d7b-122">Dans ces cas de figure, lorsqu'une base de données est en ligne, l'index peut être créé, supprimé, activé ou désactivé uniquement si les groupes de fichiers qui contiennent une partie de l'index sont en ligne.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-122">In these cases, when a database is online, the index can be created, dropped, enabled or disabled only if all filegroups holding any part of the index are online.</span></span>  
  
 <span data-ttu-id="d3d7b-123">Pour plus d’informations sur la restauration des groupes de fichiers hors connexion, consultez [Restauration en ligne &#40;SQL Server&#41;](online-restore-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="d3d7b-123">For information about restoring offline filegroups, see [Online Restore &#40;SQL Server&#41;](online-restore-sql-server.md).</span></span>  
  
##  <a name="database-mirroring-and-backup-and-restore"></a><a name="DbMandBnR"></a> <span data-ttu-id="d3d7b-124">Sauvegarde et restauration et mise en miroir d'une base de données</span><span class="sxs-lookup"><span data-stu-id="d3d7b-124">Database Mirroring and Backup and Restore</span></span>  
 <span data-ttu-id="d3d7b-125">Cette section ne concerne que les bases de données en mode de restauration complète et composées de plusieurs groupes de fichiers.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-125">This section is relevant only for full-model databases that have multiple filegroups.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d3d7b-126">La fonctionnalité de mise en miroir de bases de données sera supprimée dans une prochaine version de Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d3d7b-126">The database mirroring feature will be removed in a future version of Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d3d7b-127">Évitez d'utiliser cette fonctionnalité dans de nouveaux travaux de développement, et prévoyez de modifier les applications qui utilisent actuellement cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-127">Avoid using this feature in new development work, and plan to modify applications that currently use this feature.</span></span> <span data-ttu-id="d3d7b-128">Utilisez [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] à la place.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-128">Use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] instead.</span></span>  
  
 <span data-ttu-id="d3d7b-129">La mise en miroir de bases de données est une solution permettant d'accroître la disponibilité d'une base de données.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-129">Database mirroring is a solution for increasing database availability.</span></span> <span data-ttu-id="d3d7b-130">La mise en miroir est implémentée individuellement pour chaque base de données et fonctionne uniquement avec les bases de données qui utilisent le mode de restauration complète.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-130">Mirroring is implemented on a per-database basis and works only with databases that use the full recovery model.</span></span> <span data-ttu-id="d3d7b-131">Pour plus d’informations, consultez [Mise en miroir de bases de données &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="d3d7b-131">For more information, see [Database Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d3d7b-132">Pour distribuer des copies d'un sous-ensemble des groupes de fichiers d'une base de données, utilisez la réplication : ne répliquez que les objets des groupes de fichiers à copier sur d'autres serveurs.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-132">To distribute copies of a subset of the filegroups in a database, use replication: replicate only those objects in the filegroups you want to copy to other servers.</span></span> <span data-ttu-id="d3d7b-133">Pour plus d’informations sur la réplication, consultez [Réplication SQL Server](../../relational-databases/replication/sql-server-replication.md).</span><span class="sxs-lookup"><span data-stu-id="d3d7b-133">For more information about replication, see [SQL Server Replication](../../relational-databases/replication/sql-server-replication.md).</span></span>  
  
### <a name="creating-the-mirror-database"></a><span data-ttu-id="d3d7b-134">Création de la base de données miroir</span><span class="sxs-lookup"><span data-stu-id="d3d7b-134">Creating the Mirror Database</span></span>  
 <span data-ttu-id="d3d7b-135">La base de données miroir est créée par la restauration (WITH NORECOVERY) de sauvegardes de la base de données principale sur le serveur miroir.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-135">The mirror database is created by restoring, WITH NORECOVERY, backups of the principal database on the mirror server.</span></span> <span data-ttu-id="d3d7b-136">La base de données restaurée doit conserver le nom initial de la base de données.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-136">The restore must keep the same database name.</span></span> <span data-ttu-id="d3d7b-137">Pour plus d’informations, consultez [Préparer une base de données miroir pour la mise en miroir &#40;SQL Server&#41;](../../database-engine/database-mirroring/prepare-a-mirror-database-for-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="d3d7b-137">For more information, see [Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/prepare-a-mirror-database-for-mirroring-sql-server.md).</span></span>  
  
 <span data-ttu-id="d3d7b-138">Vous pouvez créer la base de données miroir à l'aide d'une séquence de restauration fragmentaire, si celle-ci est prise en charge.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-138">You can create the mirror database by using use a piecemeal restore sequence, where supported.</span></span> <span data-ttu-id="d3d7b-139">Cependant, vous ne pouvez pas démarrer la mise en miroir avant d'avoir restauré tous les groupes de fichiers et, en règle générale, les sauvegardes des journaux pour synchroniser la base de données miroir avec la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-139">However, you cannot start mirroring until you have restored all the filegroups and, typically, restored log backups to get the mirror database close enough in time with the principal database.</span></span> <span data-ttu-id="d3d7b-140">Pour plus d’informations, consultez [Restaurations fragmentaires &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="d3d7b-140">For more information, see [Piecemeal Restores &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span></span>  
  
### <a name="restrictions-on-backup-and-restore-during-mirroring"></a><span data-ttu-id="d3d7b-141">Restrictions imposées en matière de sauvegarde et de restauration lors de la mise en miroir</span><span class="sxs-lookup"><span data-stu-id="d3d7b-141">Restrictions on Backup and Restore During Mirroring</span></span>  
 <span data-ttu-id="d3d7b-142">Pendant une session de mise en miroir de base de données, les restrictions suivantes s'appliquent :</span><span class="sxs-lookup"><span data-stu-id="d3d7b-142">While a database mirroring session is active, the following restrictions apply:</span></span>  
  
-   <span data-ttu-id="d3d7b-143">La sauvegarde et la restauration de la base de données ne sont pas autorisées.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-143">Backup and restore of the mirror database are not allowed.</span></span>  
  
-   <span data-ttu-id="d3d7b-144">La sauvegarde de la base de données principale est autorisée, mais pas la sauvegarde du journal des transactions sans récupération (BACKUP LOG WITH NORECOVERY).</span><span class="sxs-lookup"><span data-stu-id="d3d7b-144">Backup of the principal database is allowed, but BACKUP LOG WITH NORECOVERY is not allowed.</span></span>  
  
-   <span data-ttu-id="d3d7b-145">La restauration de la base de données principale n'est pas autorisée.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-145">Restoring the principal database is not allowed.</span></span>  
  
##  <a name="piecemeal-restore-and-full-text-indexes"></a><a name="PiecemealAndFTIndexes"></a> <span data-ttu-id="d3d7b-146">Restauration fragmentaire et index de recherche en texte intégral</span><span class="sxs-lookup"><span data-stu-id="d3d7b-146">Piecemeal Restore and Full-Text Indexes</span></span>  
 <span data-ttu-id="d3d7b-147">Cette section ne concerne que les bases de données contenant plusieurs groupes de fichiers et, pour les bases de données en mode simple, que les groupes de fichiers en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-147">This section is relevant only for databases that contain multiple filegroups and, for the simple-model databases, only for read-only filegroups.</span></span>  
  
 <span data-ttu-id="d3d7b-148">Les index de recherche en texte intégral sont stockés dans des groupes de fichiers de base de données et peuvent être affectés par une restauration fragmentaire.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-148">Full-text indexes are stored in database filegroups and can be affected by a piecemeal restore.</span></span> <span data-ttu-id="d3d7b-149">Si l'index de recherche en texte intégral réside dans le même groupe de fichiers que des données de table associées, la restauration fragmentaire fonctionne comme prévu.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-149">If the full-text index resides in the same filegroup as any of the associated table data, piecemeal restore works as expected.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d3d7b-150">Pour afficher l’ID du groupe de fichiers qui contient un index de recherche en texte intégral, sélectionnez la colonne data_space_id de [sys.fulltext_indexes](/sql/relational-databases/system-catalog-views/sys-fulltext-indexes-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d3d7b-150">To view the filegroup ID of the filegroup that contains a full-text index, select the data_space_id column of [sys.fulltext_indexes](/sql/relational-databases/system-catalog-views/sys-fulltext-indexes-transact-sql).</span></span>  
  
### <a name="full-text-indexes-and-tables-in-separate-filegroups"></a><span data-ttu-id="d3d7b-151">Index de recherche en texte intégral et tables dans des groupes de fichiers distincts</span><span class="sxs-lookup"><span data-stu-id="d3d7b-151">Full-Text Indexes and Tables in Separate Filegroups</span></span>  
 <span data-ttu-id="d3d7b-152">Si un index de recherche en texte intégral réside dans un autre groupe de fichiers que les données de table associées, le comportement d'une restauration fragmentaire dépend du groupe de fichiers restauré et mis en ligne en premier :</span><span class="sxs-lookup"><span data-stu-id="d3d7b-152">If a full-text index resides in a separate filegroup from all of the associated table data, the behavior of piecemeal restore depends on which of the filegroups is restored and brought online first:</span></span>  
  
-   <span data-ttu-id="d3d7b-153">Si le groupe de fichiers contenant l'index de recherche en texte intégral est restauré et mis en ligne avant les groupes de fichiers contenant les données de table associées, la recherche en texte intégral fonctionne comme prévu dès que l'index de recherche en texte intégral est en ligne.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-153">If the filegroup that contains the full-text index is restored and brought online before the filegroups that contain the associated table data, full-text search works as expected as soon as the full-text index is online.</span></span>  
  
-   <span data-ttu-id="d3d7b-154">Si le groupe de fichiers contenant les données de table est restauré et mis en ligne avant le groupe de fichiers contenant l'index de recherche en texte intégral, le comportement du texte intégral peut être affecté.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-154">If the filegroup that contains the table data is restored and brought online before the filegroup that contains the full-text index, full-text behavior might be affected.</span></span> <span data-ttu-id="d3d7b-155">En effet, les instructions [!INCLUDE[tsql](../../includes/tsql-md.md)] qui déclenchent un remplissage, reconstruisent le catalogue ou réorganisent le catalogue échouent tant que l'index n'est pas mis en ligne.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-155">This is because [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that trigger a population, rebuild the catalog, or reorganize the catalog fail until the index is brought online.</span></span> <span data-ttu-id="d3d7b-156">Ces instructions incluent CREATE FULLTEXT INDEX, ALTER FULLTEXT INDEX, DROP FULLTEXT INDEX et ALTER FULLTEXT CATALOG.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-156">These statements include CREATE FULLTEXT INDEX, ALTER FULLTEXT INDEX, DROP FULLTEXT INDEX, and ALTER FULLTEXT CATALOG.</span></span>  
  
     <span data-ttu-id="d3d7b-157">Dans ce cas, les facteurs suivants sont importants :</span><span class="sxs-lookup"><span data-stu-id="d3d7b-157">In this case, the following factors are significant:</span></span>  
  
    -   <span data-ttu-id="d3d7b-158">Si le suivi des modifications est activé pour l'index de recherche en texte intégral, le DML utilisateur échoue tant que le groupe de fichiers de l'index n'est pas mis en ligne.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-158">If the full-text index has change tracking, user DML will fail until the index filegroup is brought online.</span></span> <span data-ttu-id="d3d7b-159">Il en va de même pour une opération de suppression.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-159">Delete operation will also fail until the index filegroup is online.</span></span>  
  
    -   <span data-ttu-id="d3d7b-160">Quel que soit le suivi des modifications, les requêtes de texte intégral échouent, car l'index n'est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-160">Regardless of change tracking, full-text queries fail because the index is not available.</span></span> <span data-ttu-id="d3d7b-161">Si une requête de texte intégral est tentée alors que le groupe de fichiers contenant l'index de recherche en texte intégral est hors connexion, une erreur est retournée.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-161">If a full-text query is tried when the filegroup that contains the full-text index is offline, an error is returned.</span></span>  
  
    -   <span data-ttu-id="d3d7b-162">Les fonctions d'état (telles que FULLTEXTCATALOGPROPERTY) réussissent uniquement dans les cas où elles n'ont pas à accéder à l'index de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-162">Status functions (such as FULLTEXTCATALOGPROPERTY) succeed only when they do not have to access full-text index.</span></span> <span data-ttu-id="d3d7b-163">Par exemple, l’accès à des métadonnées de texte intégral en ligne réussit, alors que **uniquekeycount et itemcount** échouent.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-163">For example, access to any online full-text metadata would succeed, but **uniquekeycount, itemcount** would fail.</span></span>  
  
     <span data-ttu-id="d3d7b-164">Une fois le groupe de fichiers de l'index de recherche en texte intégral restauré et mis en ligne, les données de l'index et des tables sont cohérentes.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-164">After the full-text index filegroup is restored and brought online, the index data and table data are consistent.</span></span>  
  
 <span data-ttu-id="d3d7b-165">Dès que le groupe de fichiers des tables et celui de l'index de recherche en texte intégral sont en ligne, tout remplissage de texte intégral suspendu reprend.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-165">As soon as both the base table filegroup and the full-text index filegroup are online, any paused full-text population is resumed.</span></span>  
  
##  <a name="file-backup-and-restore-and-compression"></a><a name="FileBnRandCompression"></a> <span data-ttu-id="d3d7b-166">Sauvegarde et restauration de fichiers et compression</span><span class="sxs-lookup"><span data-stu-id="d3d7b-166">File Backup and Restore and Compression</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="d3d7b-167">prend en charge la compression des données du système de fichiers NTFS pour les groupes de fichiers et les bases de données en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-167">supports NTFS file system data compression of read-only filegroups and read-only databases.</span></span>  
  
 <span data-ttu-id="d3d7b-168">La restauration des fichiers dans un groupe de fichiers en lecture seule est prise en charge sur les fichiers compressés NTFS.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-168">Restoring files in a read-only filegroup is supported on compressed NTFS files.</span></span> <span data-ttu-id="d3d7b-169">La sauvegarde et la restauration de ces groupes de fichiers fonctionne pour l'essentiel de la même manière que pour n'importe quel groupe de fichiers en lecture seule, à quelques exceptions près :</span><span class="sxs-lookup"><span data-stu-id="d3d7b-169">Backup and restore of these filegroups works essentially as it would for any read-only filegroup, with the following exceptions:</span></span>  
  
-   <span data-ttu-id="d3d7b-170">La restauration d'un fichier en lecture-écriture (y compris le fichier primaire et les fichiers journaux d'une base de données en lecture-écriture) vers un volume compressé échoue et génère une erreur.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-170">Restoring a read-write file (including the primary or log files of a read-write database) to a compressed volume fails and displays an error.</span></span>  
  
-   <span data-ttu-id="d3d7b-171">La restauration d'une base de données en lecture seule vers un volume compressé est autorisée.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-171">Restoring a read-only database to a compressed volume is allowed.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d3d7b-172">Les fichiers journaux des bases de données en lecture-écriture ne doivent jamais être placés sur des systèmes de fichiers compressés.</span><span class="sxs-lookup"><span data-stu-id="d3d7b-172">Log files of read/write databases should never be placed on compressed file systems.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="d3d7b-173">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="d3d7b-173">Related Tasks</span></span>  
  
-   [<span data-ttu-id="d3d7b-174">Préparer une base de données miroir pour la mise en miroir &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="d3d7b-174">Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;</span></span>](../../database-engine/database-mirroring/prepare-a-mirror-database-for-mirroring-sql-server.md)  
  
-   [<span data-ttu-id="d3d7b-175">Sauvegarder et restaurer des catalogues et des index de recherche en texte intégral</span><span class="sxs-lookup"><span data-stu-id="d3d7b-175">Back Up and Restore Full-Text Catalogs and Indexes</span></span>](../search/back-up-and-restore-full-text-catalogs-and-indexes.md)  
  
## <a name="see-also"></a><span data-ttu-id="d3d7b-176"> Voir aussi</span><span class="sxs-lookup"><span data-stu-id="d3d7b-176">See Also</span></span>  
 <span data-ttu-id="d3d7b-177">[Sauvegarde et restauration des bases de données SQL Server](back-up-and-restore-of-sql-server-databases.md) </span><span class="sxs-lookup"><span data-stu-id="d3d7b-177">[Back Up and Restore of SQL Server Databases](back-up-and-restore-of-sql-server-databases.md) </span></span>  
 <span data-ttu-id="d3d7b-178">[Sauvegarder et restaurer des bases de données répliquées](../replication/administration/back-up-and-restore-replicated-databases.md) </span><span class="sxs-lookup"><span data-stu-id="d3d7b-178">[Back Up and Restore Replicated Databases](../replication/administration/back-up-and-restore-replicated-databases.md) </span></span>  
 [<span data-ttu-id="d3d7b-179">Secondaires actifs : sauvegarde sur les réplicas secondaires &#40;groupes de disponibilité AlwaysOn&#41;</span><span class="sxs-lookup"><span data-stu-id="d3d7b-179">Active Secondaries: Backup on Secondary Replicas &#40;AlwaysOn Availability Groups&#41;</span></span>](../../database-engine/availability-groups/windows/active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md)  
  
  
