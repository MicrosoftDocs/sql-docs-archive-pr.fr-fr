---
title: Modes de récupération (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- database backups [SQL Server], recovery models
- bulk-logged recovery model [SQL Server]
- recovery [SQL Server], recovery model
- restoring transaction logs [SQL Server], recovery models
- backing up databases [SQL Server], recovery models
- recovery models [SQL Server], about
- transaction log backups [SQL Server]
- simple recovery model [SQL Server]
- backups [SQL Server], recovery models
- recovery models [SQL Server]
- recovery models [SQL Server], transaction log management
- database restores [SQL Server], recovery models
- transaction log restores [SQL Server]
- logs [SQL Server], recovery models
- restoring databases [SQL Server], recovery models
- full recovery model [SQL Server]
- backing up transaction logs [SQL Server], recovery models
ms.assetid: 8cfea566-8f89-4581-b30d-c53f1f2c79eb
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 9815d88409b4e76df36adf94af44a11ae11f653b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87699809"
---
# <a name="recovery-models-sql-server"></a><span data-ttu-id="4004e-102">Modes de récupération (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="4004e-102">Recovery Models (SQL Server)</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="4004e-103">interviennent dans le cadre du mode de récupération de la base de données.</span><span class="sxs-lookup"><span data-stu-id="4004e-103">backup and restore operations occur within the context of the recovery model of the database.</span></span> <span data-ttu-id="4004e-104">Les modes de récupération sont conçus pour contrôler la maintenance des journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="4004e-104">Recovery models are designed to control transaction log maintenance.</span></span> <span data-ttu-id="4004e-105">Un *mode de récupération* est une propriété de base de données qui contrôle la façon dont les transactions sont journalisées, précise si le journal des transactions nécessite (et permet) une sauvegarde et spécifie les types d’opérations de restauration disponibles.</span><span class="sxs-lookup"><span data-stu-id="4004e-105">A *recovery model* is a database property that controls how transactions are logged, whether the transaction log requires (and allows) backing up, and what kinds of restore operations are available.</span></span> <span data-ttu-id="4004e-106">Il existe trois modes de récupération : simple, complète et utilisant les journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="4004e-106">Three recovery models exist: simple, full, and bulk-logged.</span></span> <span data-ttu-id="4004e-107">En règle générale, une base de données utilise le mode de restauration complète ou le mode de récupération simple.</span><span class="sxs-lookup"><span data-stu-id="4004e-107">Typically, a database uses the full recovery model or simple recovery model.</span></span> <span data-ttu-id="4004e-108">Il est possible de modifier le mode de récupération d'une base de données à tout moment.</span><span class="sxs-lookup"><span data-stu-id="4004e-108">A database can be switched to another recovery model at any time.</span></span>  
  
 <span data-ttu-id="4004e-109">**Dans cette rubrique :**</span><span class="sxs-lookup"><span data-stu-id="4004e-109">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="4004e-110">Vue d'ensemble du mode de récupération</span><span class="sxs-lookup"><span data-stu-id="4004e-110">Recovery Model Overview</span></span>](#RMov)  
  
-   [<span data-ttu-id="4004e-111">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="4004e-111">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="recovery-model-overview"></a><a name="RMov"></a> <span data-ttu-id="4004e-112">Vue d'ensemble du mode de récupération</span><span class="sxs-lookup"><span data-stu-id="4004e-112">Recovery Model Overview</span></span>  
 <span data-ttu-id="4004e-113">Le tableau suivant récapitule les trois modes de récupération.</span><span class="sxs-lookup"><span data-stu-id="4004e-113">The following table summarizes the three recovery models.</span></span>  
  
|<span data-ttu-id="4004e-114">mode de récupération</span><span class="sxs-lookup"><span data-stu-id="4004e-114">Recovery model</span></span>|<span data-ttu-id="4004e-115">Description</span><span class="sxs-lookup"><span data-stu-id="4004e-115">Description</span></span>|<span data-ttu-id="4004e-116">Risque de perte de travail</span><span class="sxs-lookup"><span data-stu-id="4004e-116">Work loss exposure</span></span>|<span data-ttu-id="4004e-117">Récupération à un point précis dans le temps ?</span><span class="sxs-lookup"><span data-stu-id="4004e-117">Recover to point in time?</span></span>|  
|--------------------|-----------------|------------------------|-------------------------------|  
|<span data-ttu-id="4004e-118">**Simple**</span><span class="sxs-lookup"><span data-stu-id="4004e-118">**Simple**</span></span>|<span data-ttu-id="4004e-119">Aucune sauvegarde de journal.</span><span class="sxs-lookup"><span data-stu-id="4004e-119">No log backups.</span></span><br /><br /> <span data-ttu-id="4004e-120">Recycle automatiquement l'espace du journal afin de minimiser l'espace nécessaire, ce qui élimine principalement le besoin de gérer l'espace du journal des transactions.</span><span class="sxs-lookup"><span data-stu-id="4004e-120">Automatically reclaims log space to keep space requirements small, essentially eliminating the need to manage the transaction log space.</span></span> <span data-ttu-id="4004e-121">Pour plus d’informations sur les sauvegardes de base de données en mode de récupération simple, consultez [Sauvegardes complètes de bases de données &#40;SQL Server&#41;](full-database-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="4004e-121">For information about database backups under the simple recovery model, see [Full Database Backups &#40;SQL Server&#41;](full-database-backups-sql-server.md).</span></span><br /><br /> <span data-ttu-id="4004e-122">Les opérations qui nécessitent des sauvegardes du journal des transactions ne sont pas prises en charge par le mode de récupération simple.</span><span class="sxs-lookup"><span data-stu-id="4004e-122">Operations that require transaction log backups are not supported by the simple recovery model.</span></span> <span data-ttu-id="4004e-123">Les fonctionnalités suivantes ne peuvent pas être utilisées en mode de récupération simple :</span><span class="sxs-lookup"><span data-stu-id="4004e-123">The following features cannot be used in simple recovery mode:</span></span><br /><br /> <span data-ttu-id="4004e-124">Copie des journaux de transaction</span><span class="sxs-lookup"><span data-stu-id="4004e-124">Log shipping</span></span><br /><br /> <span data-ttu-id="4004e-125">AlwaysOn ou mise en miroir de bases de données</span><span class="sxs-lookup"><span data-stu-id="4004e-125">AlwaysOn or Database mirroring</span></span><br /><br /> <span data-ttu-id="4004e-126">Récupération des supports sans perte de données</span><span class="sxs-lookup"><span data-stu-id="4004e-126">Media recovery without data loss</span></span><br /><br /> <span data-ttu-id="4004e-127">Restaurations dans le temps</span><span class="sxs-lookup"><span data-stu-id="4004e-127">Point-in-time restores</span></span>|<span data-ttu-id="4004e-128">Les modifications postérieures à la sauvegarde la plus récente ne sont pas protégées.</span><span class="sxs-lookup"><span data-stu-id="4004e-128">Changes since the most recent backup are unprotected.</span></span> <span data-ttu-id="4004e-129">En cas de sinistre, ces modifications doivent être apportées de nouveau.</span><span class="sxs-lookup"><span data-stu-id="4004e-129">In the event of a disaster, those changes must be redone.</span></span>|<span data-ttu-id="4004e-130">La récupération est possible seulement jusqu'à la fin d'une sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4004e-130">Can recover only to the end of a backup.</span></span> <span data-ttu-id="4004e-131">Pour plus d’informations, consultez [Restaurations complètes de bases de données &#40;mode de récupération simple&#41;](complete-database-restores-simple-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="4004e-131">For more information, see [Complete Database Restores &#40;Simple Recovery Model&#41;](complete-database-restores-simple-recovery-model.md).</span></span>|  
|<span data-ttu-id="4004e-132">**Complète**</span><span class="sxs-lookup"><span data-stu-id="4004e-132">**Full**</span></span>|<span data-ttu-id="4004e-133">Exige des sauvegardes de journal.</span><span class="sxs-lookup"><span data-stu-id="4004e-133">Requires log backups.</span></span><br /><br /> <span data-ttu-id="4004e-134">Aucun travail n'est perdu suite à la perte ou à l'endommagement d'un fichier de données.</span><span class="sxs-lookup"><span data-stu-id="4004e-134">No work is lost due to a lost or damaged data file.</span></span><br /><br /> <span data-ttu-id="4004e-135">La récupération est possible jusqu'à un point arbitraire dans le temps (par exemple, avant l'erreur de l'application ou de l'utilisateur).</span><span class="sxs-lookup"><span data-stu-id="4004e-135">Can recover to an arbitrary point in time (for example, prior to application or user error).</span></span> <span data-ttu-id="4004e-136">Pour plus d’informations sur les sauvegardes de bases de données en mode de récupération complète, consultez [Sauvegardes complètes de bases de données &#40;SQL Server&#41;](full-database-backups-sql-server.md) et [Restaurations complètes de bases de données &#40;mode de récupération complète&#41;](complete-database-restores-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="4004e-136">For information about database backups under the full recovery model, see [Full Database Backups &#40;SQL Server&#41;](full-database-backups-sql-server.md) and [Complete Database Restores &#40;Full Recovery Model&#41;](complete-database-restores-full-recovery-model.md).</span></span>|<span data-ttu-id="4004e-137">Normalement aucun.</span><span class="sxs-lookup"><span data-stu-id="4004e-137">Normally none.</span></span><br /><br /> <span data-ttu-id="4004e-138">Si la fin du journal est endommagée, les modifications postérieures à la sauvegarde la plus récente du journal doivent être effectuées de nouveau.</span><span class="sxs-lookup"><span data-stu-id="4004e-138">If the tail of the log is damaged, changes since the most recent log backup must be redone.</span></span>|<span data-ttu-id="4004e-139">La récupération est possible jusqu'à un point spécifique dans le temps, en supposant que vos sauvegardes ont été effectuées jusqu'à ce point.</span><span class="sxs-lookup"><span data-stu-id="4004e-139">Can recover to a specific point in time, assuming that your backups are complete up to that point in time.</span></span> <span data-ttu-id="4004e-140">Pour plus d’informations sur l’utilisation de sauvegardes de journaux pour restaurer jusqu’à un point de défaillance, consultez [Restaurer une base de données SQL Server jusqu’à une limite dans le temps &#40;mode de récupération complète&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="4004e-140">For information about using log backups to restore to the point of failure, see [Restore a SQL Server Database to a Point in Time &#40;Full Recovery Model&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span></span><br /><br /> <span data-ttu-id="4004e-141">Remarque : Si vous disposez d’au moins deux bases de données en mode de restauration complète qui doivent être logiquement cohérentes, vous devez implémenter des procédures spéciales pour assurer la récupération de ces bases de données.</span><span class="sxs-lookup"><span data-stu-id="4004e-141">Note: If you have two or more full-recovery-model databases that must be logically consistent, you may have to implement special procedures to make sure the recoverability of these databases.</span></span> <span data-ttu-id="4004e-142">Pour plus d’informations, consultez [Récupération de bases de données associées contenant une transaction marquée](recovery-of-related-databases-that-contain-marked-transaction.md).</span><span class="sxs-lookup"><span data-stu-id="4004e-142">For more information, see [Recovery of Related  Databases That Contain Marked Transaction](recovery-of-related-databases-that-contain-marked-transaction.md).</span></span>|  
|<span data-ttu-id="4004e-143">**Utilisant les journaux de transactions**</span><span class="sxs-lookup"><span data-stu-id="4004e-143">**Bulk logged**</span></span>|<span data-ttu-id="4004e-144">Exige des sauvegardes de journal.</span><span class="sxs-lookup"><span data-stu-id="4004e-144">Requires log backups.</span></span><br /><br /> <span data-ttu-id="4004e-145">Complément au mode de restauration complète qui permet des opérations de copie en bloc avec des performances élevées.</span><span class="sxs-lookup"><span data-stu-id="4004e-145">An adjunct of the full recovery model that permits high-performance bulk copy operations.</span></span><br /><br /> <span data-ttu-id="4004e-146">Réduit l'espace du journal utilisé en utilisant un enregistrement minimal pour la plupart des opérations en bloc.</span><span class="sxs-lookup"><span data-stu-id="4004e-146">Reduces log space usage by using minimal logging for most bulk operations.</span></span> <span data-ttu-id="4004e-147">Pour plus d’informations sur les opérations pouvant faire l’objet d’une journalisation minimale, consultez [Journal des transactions &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="4004e-147">For information about operations that can be minimally logged, see [The Transaction Log &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span></span><br /><br /> <span data-ttu-id="4004e-148">Pour plus d’informations sur les sauvegardes de bases de données en mode de récupération utilisant les journaux de transactions, consultez [Sauvegardes complètes de bases de données &#40;SQL Server&#41;](full-database-backups-sql-server.md) et [Restaurations complètes de bases de données &#40;mode de récupération complète&#41;](complete-database-restores-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="4004e-148">For information about database backups under the bulk-logged recovery model, see [Full Database Backups &#40;SQL Server&#41;](full-database-backups-sql-server.md) and [Complete Database Restores &#40;Full Recovery Model&#41;](complete-database-restores-full-recovery-model.md).</span></span>|<span data-ttu-id="4004e-149">Si le journal est endommagé ou si des opérations utilisant les journaux de transactions ont été effectuées depuis la sauvegarde de journal la plus récente, les modifications postérieures à la sauvegarde la plus récente du journal doivent être effectuées de nouveau.</span><span class="sxs-lookup"><span data-stu-id="4004e-149">If the log is damaged or bulk-logged operations occurred since the most recent log backup, changes since that last backup must be redone.</span></span><br /><br /> <span data-ttu-id="4004e-150">À part cela, aucun travail n'est perdu.</span><span class="sxs-lookup"><span data-stu-id="4004e-150">Otherwise, no work is lost.</span></span>|<span data-ttu-id="4004e-151">La récupération est possible jusqu'à la fin de n'importe quelle sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4004e-151">Can recover to the end of any backup.</span></span> <span data-ttu-id="4004e-152">La récupération jusqu'à une date et heure n'est pas prise en charge.</span><span class="sxs-lookup"><span data-stu-id="4004e-152">Point-in-time recovery is not supported.</span></span>|  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="4004e-153">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="4004e-153">Related Tasks</span></span>  
  
-   [<span data-ttu-id="4004e-154">Afficher ou modifier le mode de récupération d’une base de données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="4004e-154">View or Change the Recovery Model of a Database &#40;SQL Server&#41;</span></span>](view-or-change-the-recovery-model-of-a-database-sql-server.md)  
  
-   [<span data-ttu-id="4004e-155">Résoudre les problèmes liés à un journal des transactions saturé &#40;erreur SQL Server 9002&#41;</span><span class="sxs-lookup"><span data-stu-id="4004e-155">Troubleshoot a Full Transaction Log &#40;SQL Server Error 9002&#41;</span></span>](../logs/troubleshoot-a-full-transaction-log-sql-server-error-9002.md)  
  
## <a name="see-also"></a><span data-ttu-id="4004e-156"> Voir aussi</span><span class="sxs-lookup"><span data-stu-id="4004e-156">See Also</span></span>  
 <span data-ttu-id="4004e-157">[backupset &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/backupset-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="4004e-157">[backupset &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/backupset-transact-sql) </span></span>  
 <span data-ttu-id="4004e-158">[sys.databases &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="4004e-158">[sys.databases &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) </span></span>  
 <span data-ttu-id="4004e-159">[Options ALTER DATABASE SET &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-set-options) </span><span class="sxs-lookup"><span data-stu-id="4004e-159">[ALTER DATABASE SET Options &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-set-options) </span></span>  
 <span data-ttu-id="4004e-160">[Sauvegarde et restauration des bases de données SQL Server](back-up-and-restore-of-sql-server-databases.md) </span><span class="sxs-lookup"><span data-stu-id="4004e-160">[Back Up and Restore of SQL Server Databases](back-up-and-restore-of-sql-server-databases.md) </span></span>  
 <span data-ttu-id="4004e-161">[Journal des transactions &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="4004e-161">[The Transaction Log &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md) </span></span>  
 <span data-ttu-id="4004e-162">[Tâches d’administration automatisée &#40;SQL Server Agent&#41;](../../ssms/agent/sql-server-agent.md) </span><span class="sxs-lookup"><span data-stu-id="4004e-162">[Automated Administration Tasks &#40;SQL Server Agent&#41;](../../ssms/agent/sql-server-agent.md) </span></span>  
 [<span data-ttu-id="4004e-163">Vue d’ensemble de la restauration et de la récupération &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="4004e-163">Restore and Recovery Overview &#40;SQL Server&#41;</span></span>](restore-and-recovery-overview-sql-server.md)  
  
  
