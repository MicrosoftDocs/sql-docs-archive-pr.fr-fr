---
title: Vue d’ensemble de la restauration et de la récupération (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- restoring tables [SQL Server]
- backups [SQL Server], restore scenarios
- database backups [SQL Server], restore scenarios
- database restores [SQL Server]
- restoring [SQL Server]
- restores [SQL Server]
- table restores [SQL Server]
- restoring databases [SQL Server], about restoring databases
- database restores [SQL Server], scenarios
ms.assetid: e985c9a6-4230-4087-9fdb-de8571ba5a5f
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2b8f032dce4f2eb09ef80cfa8c6333de2d563a81
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87705199"
---
# <a name="restore-and-recovery-overview-sql-server"></a><span data-ttu-id="9e5fd-102">Vue d'ensemble de la restauration et de la récupération (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="9e5fd-102">Restore and Recovery Overview (SQL Server)</span></span>
  <span data-ttu-id="9e5fd-103">Pour récupérer une base de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] suite à une erreur, un administrateur de base de données doit restaurer un jeu de sauvegardes [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dans une séquence de restauration correcte du point de vue logique et explicite.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-103">To recover a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database from a failure, a database administrator has to restore a set of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups in a logically correct and meaningful restore sequence.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9e5fd-104">prend en charge la restauration de données à partir de sauvegardes d'une base de données entière, d'un fichier de données ou d'une page de données, comme suit :</span><span class="sxs-lookup"><span data-stu-id="9e5fd-104">restore and recovery supports restoring data from backups of a whole database, a data file, or a data page, as follows:</span></span>  
  
-   <span data-ttu-id="9e5fd-105">La base de données ( *restauration de base de données complète*)</span><span class="sxs-lookup"><span data-stu-id="9e5fd-105">The database (a *complete database restore*)</span></span>  
  
     <span data-ttu-id="9e5fd-106">La base de données complète est restaurée et récupérée, et la base de données est hors connexion pendant la durée des opérations de restauration et de récupération.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-106">The whole database is restored and recovered, and the database is offline for the duration of the restore and recovery operations.</span></span>  
  
-   <span data-ttu-id="9e5fd-107">Le fichier de données ( *restauration de fichiers*)</span><span class="sxs-lookup"><span data-stu-id="9e5fd-107">The data file (a *file restore*)</span></span>  
  
     <span data-ttu-id="9e5fd-108">Un fichier de données ou un ensemble de fichiers est restauré et récupéré.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-108">A data file or a set of files is restored and recovered.</span></span> <span data-ttu-id="9e5fd-109">Au cours d'une restauration de fichiers, les groupes de fichiers contenant les fichiers sont mis automatiquement hors connexion pendant la durée de la restauration.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-109">During a file restore, the filegroups that contain the files are automatically offline for the duration of the restore.</span></span> <span data-ttu-id="9e5fd-110">Toute tentative d'accès à un groupe de fichiers hors connexion produit une erreur.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-110">Any attempt to access an offline filegroup causes an error.</span></span>  
  
-   <span data-ttu-id="9e5fd-111">La page de données ( *restauration de pages*)</span><span class="sxs-lookup"><span data-stu-id="9e5fd-111">The data page (a *page restore*)</span></span>  
  
     <span data-ttu-id="9e5fd-112">En mode de restauration complète ou de récupération utilisant les journaux de transactions, vous pouvez restaurer des bases de données individuelles.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-112">Under the full recovery model or bulk-logged recovery model, you can restore individual databases.</span></span> <span data-ttu-id="9e5fd-113">La restauration des pages peut être effectuée pour n'importe quelle base de données, quel que soit le nombre de groupes de fichiers.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-113">Page restores can be performed on any database, regardless of the number of filegroups.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9e5fd-114">sauvegarde et restaure les données sur tous les systèmes d'exploitation pris en charge, qu'il s'agisse de systèmes 32 bits ou 64 bits.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-114">backup and restore work across all supported operating systems, whether they are 64-bit or 32-bit systems.</span></span> <span data-ttu-id="9e5fd-115">Pour plus d’informations sur les systèmes d’exploitation pris en charge, consultez [configurations matérielle et logicielle requises pour l’installation de SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-115">For information about the supported operating systems, see [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span></span> <span data-ttu-id="9e5fd-116">Pour plus d’informations sur la prise en charge de sauvegardes provenant de versions antérieures de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], consultez la section « Prise en charge de la compatibilité » de [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-116">For information about support for backups from earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see the "Compatibility Support" section of [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
 <span data-ttu-id="9e5fd-117">**Dans cette rubrique :**</span><span class="sxs-lookup"><span data-stu-id="9e5fd-117">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="9e5fd-118">Vue d’ensemble des scénarios de restauration</span><span class="sxs-lookup"><span data-stu-id="9e5fd-118">Overview of Restore Scenarios</span></span>](#RestoreScenariosOv)  
  
-   [<span data-ttu-id="9e5fd-119">Modes de récupération et opérations de restauration prises en charge</span><span class="sxs-lookup"><span data-stu-id="9e5fd-119">Recovery Models and Supported Restore Operations</span></span>](#RMsAndSupportedRestoreOps)  
  
-   [<span data-ttu-id="9e5fd-120">Restrictions de restauration en mode de récupération simple</span><span class="sxs-lookup"><span data-stu-id="9e5fd-120">Restore Restrictions Under the Simple Recovery Model</span></span>](#RMsimpleScenarios)  
  
-   [<span data-ttu-id="9e5fd-121">Restauration en mode de récupération utilisant les journaux de transactions</span><span class="sxs-lookup"><span data-stu-id="9e5fd-121">Restore Under the Bulk-Logged Recovery Model</span></span>](#RMblogRestore)  
  
-   [<span data-ttu-id="9e5fd-122">Assistant récupération de base de données (SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="9e5fd-122">Database Recovery Advisor (SQL Server Management Studio)</span></span>](#DRA)  
  
-   [<span data-ttu-id="9e5fd-123">Contenu connexe</span><span class="sxs-lookup"><span data-stu-id="9e5fd-123">Related Content</span></span>](#RelatedContent)  
  
##  <a name="overview-of-restore-scenarios"></a><a name="RestoreScenariosOv"></a> <span data-ttu-id="9e5fd-124">Présentation des scénarios de restauration</span><span class="sxs-lookup"><span data-stu-id="9e5fd-124">Overview of Restore Scenarios</span></span>  
 <span data-ttu-id="9e5fd-125">Un *scénario de restauration* dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] est le processus de restauration des données à partir d'une ou de plusieurs sauvegardes, puis de récupération de la base de données.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-125">A *restore scenario* in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is the process of restoring data from one or more backups and then recovering the database.</span></span> <span data-ttu-id="9e5fd-126">Les scénarios de restauration pris en charge dépendent du mode de récupération de la base de données et de l'édition de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9e5fd-126">The supported restore scenarios depend on the recovery model of the database and the edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="9e5fd-127">Le tableau suivant présente les scénarios de restauration possibles pris en charge pour différents modes de récupération.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-127">The following table introduces the possible restore scenarios that are supported for different recovery models.</span></span>  
  
|<span data-ttu-id="9e5fd-128">scénario de restauration</span><span class="sxs-lookup"><span data-stu-id="9e5fd-128">Restore scenario</span></span>|<span data-ttu-id="9e5fd-129">En mode de récupération simple</span><span class="sxs-lookup"><span data-stu-id="9e5fd-129">Under simple recovery model</span></span>|<span data-ttu-id="9e5fd-130">En modes de restauration complète et de récupération utilisant les journaux de transactions</span><span class="sxs-lookup"><span data-stu-id="9e5fd-130">Under full/bulk-logged recovery models</span></span>|  
|----------------------|---------------------------------|----------------------------------------------|  
|<span data-ttu-id="9e5fd-131">restauration de base de données complète</span><span class="sxs-lookup"><span data-stu-id="9e5fd-131">Complete database restore</span></span>|<span data-ttu-id="9e5fd-132">Il s'agit de la stratégie de restauration de base.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-132">This is the basic restore strategy.</span></span> <span data-ttu-id="9e5fd-133">Une restauration complète de base de données peut impliquer simplement la restauration et la récupération d'une sauvegarde complète de base de données.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-133">A complete database restore might involve simply restoring and recovering a full database backup.</span></span> <span data-ttu-id="9e5fd-134">Une restauration complète de base de données peut également impliquer la restauration d'une sauvegarde complète de base de données suivie de la restauration et de la récupération d'une sauvegarde différentielle.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-134">Alternatively, a complete database restore might involve restoring a full database backup followed by restoring and recovering a differential backup.</span></span><br /><br /> <span data-ttu-id="9e5fd-135">Pour plus d’informations, consultez [Restaurations complètes de bases de données &#40;mode de récupération simple&#41;](complete-database-restores-simple-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-135">For more information, see [Complete Database Restores &#40;Simple Recovery Model&#41;](complete-database-restores-simple-recovery-model.md).</span></span>|<span data-ttu-id="9e5fd-136">Il s'agit de la stratégie de restauration de base.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-136">This is the basic restore strategy.</span></span> <span data-ttu-id="9e5fd-137">Une restauration complète de base de données inclut la restauration d'une sauvegarde complète, et éventuellement d'une sauvegarde différentielle (le cas échéant), suivie par la restauration de toutes les sauvegardes de journal consécutives (en séquence).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-137">A complete database restore involve restoring a full database backup and, optionally, a differential backup (if any), followed by restoring all subsequent log backups (in sequence).</span></span> <span data-ttu-id="9e5fd-138">La restauration de base de données complète s'achève par la récupération de la dernière sauvegarde de journal ainsi que sa restauration (RESTORE WITH RECOVERY).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-138">The complete database restore is finished by recovering the last log backup and also restoring it (RESTORE WITH RECOVERY).</span></span><br /><br /> <span data-ttu-id="9e5fd-139">Pour plus d’informations, consultez [Restaurations complètes de bases de données &#40;mode de récupération complète&#41;](complete-database-restores-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-139">For more information, see [Complete Database Restores &#40;Full Recovery Model&#41;](complete-database-restores-full-recovery-model.md)</span></span>|  
|<span data-ttu-id="9e5fd-140">File restore **\***</span><span class="sxs-lookup"><span data-stu-id="9e5fd-140">File restore **\***</span></span>|<span data-ttu-id="9e5fd-141">Restaure un ou plusieurs fichiers endommagés en lecture seule, sans restaurer toute la base de données.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-141">Restore one or more damaged read-only files, without restoring the entire database.</span></span> <span data-ttu-id="9e5fd-142">La restauration de fichiers est uniquement disponible si la base de données comporte au moins un groupe de fichiers en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-142">File restore is available only if the database has at least one read-only filegroup.</span></span>|<span data-ttu-id="9e5fd-143">Restaure un ou plusieurs fichiers, sans restaurer la totalité de la base de données.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-143">Restores one or more files, without restoring the entire database.</span></span> <span data-ttu-id="9e5fd-144">La restauration de fichiers peut être effectuée lorsque la base de données est hors connexion ou, pour certaines éditions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], alors que la base de données reste en ligne.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-144">File restore can be performed while the database is offline or, for some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], while the database remains online.</span></span> <span data-ttu-id="9e5fd-145">Pendant une restauration de fichiers, les groupes de fichiers contenant les fichiers à restaurer restent toujours hors connexion.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-145">During a file restore, the filegroups that contain the files that are being restored are always offline.</span></span>|  
|<span data-ttu-id="9e5fd-146">Restauration de pages</span><span class="sxs-lookup"><span data-stu-id="9e5fd-146">Page restore</span></span>|<span data-ttu-id="9e5fd-147">Non applicable</span><span class="sxs-lookup"><span data-stu-id="9e5fd-147">Not applicable</span></span>|<span data-ttu-id="9e5fd-148">Restaure une ou plusieurs pages endommagées.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-148">Restores one or more damaged pages.</span></span> <span data-ttu-id="9e5fd-149">La restauration de pages peut être effectuée lorsque la base de données est hors connexion ou, pour certaines éditions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], alors que la base de données reste en ligne.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-149">Page restore can be performed while the database is offline or, for some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], while the database remains online.</span></span> <span data-ttu-id="9e5fd-150">Pendant une restauration de pages, les pages en cours de restauration restent toujours hors connexion.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-150">During a page restore, the pages that are being restored are always offline.</span></span><br /><br /> <span data-ttu-id="9e5fd-151">Une chaîne ininterrompue de sauvegardes de journaux doit être disponible, jusqu'au fichier journal actuel, et elles doivent toutes être appliquées pour mettre la page à jour par rapport au fichier journal actuel.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-151">An unbroken chain of log backups must be available, up to the current log file, and they must all be applied to bring the page up to date with the current log file.</span></span><br /><br /> <span data-ttu-id="9e5fd-152">Pour plus d’informations, consultez [Restaurer des pages &#40;SQL Server&#41;](restore-pages-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-152">For more information, see [Restore Pages &#40;SQL Server&#41;](restore-pages-sql-server.md).</span></span>|  
|<span data-ttu-id="9e5fd-153">Restauration fragmentaire **\***</span><span class="sxs-lookup"><span data-stu-id="9e5fd-153">Piecemeal restore **\***</span></span>|<span data-ttu-id="9e5fd-154">Restaure et récupère la base de données par phases au niveau du groupe de fichiers, en commençant par les groupes de fichiers primaires et tous les groupes de fichiers secondaires en lecture-écriture.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-154">Restore and recover the database in stages at the filegroup level, starting with the primary and all read/write, secondary filegroups.</span></span>|<span data-ttu-id="9e5fd-155">Restaure et récupère la base de données par étapes au niveau du groupe de fichiers, en commençant par le groupe de fichiers primaire.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-155">Restore and recover the database in stages at the filegroup level, starting with the primary filegroup.</span></span>|  
  
 <span data-ttu-id="9e5fd-156">**\*** La restauration en ligne est prise en charge uniquement dans l'édition Enterprise.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-156">**\*** Online restore is supported only in the Enterprise edition.</span></span>  
  
 <span data-ttu-id="9e5fd-157">Indépendamment du mode de restauration des données, avant de pouvoir récupérer une base de données, le [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] garantit la cohérence logique de l'intégralité de la base de données.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-157">Regardless of how data is restored, before a database can be recovered, the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] guarantees that the whole database is logically consistent.</span></span> <span data-ttu-id="9e5fd-158">Par exemple, si vous restaurez un fichier, vous ne pouvez pas le récupérer et le mettre en ligne tant qu'il n'a pas été restauré par progression suffisamment pour être cohérent avec la base de données.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-158">For example, if you restore a file, you cannot recover it and bring it online until it has been rolled far enough forward to be consistent with the database.</span></span>  
  
### <a name="advantages-of-a-file-or-page-restore"></a><span data-ttu-id="9e5fd-159">Avantages de la restauration d'un fichier ou d'une page</span><span class="sxs-lookup"><span data-stu-id="9e5fd-159">Advantages of a File or Page Restore</span></span>  
 <span data-ttu-id="9e5fd-160">Restaurer et récupérer des fichiers ou des pages plutôt que la base de données entière offre plusieurs avantages :</span><span class="sxs-lookup"><span data-stu-id="9e5fd-160">Restoring and recovering files or pages, instead of the whole database, provides the following advantages:</span></span>  
  
-   <span data-ttu-id="9e5fd-161">Le fait de restaurer moins de données réduit le temps nécessaire pour les copier et les récupérer.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-161">Restoring less data reduces the time required to copy and recover it.</span></span>  
  
-   <span data-ttu-id="9e5fd-162">Dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , la restauration des pages ou des fichiers peut permettre à d'autres données de la base de données de rester en ligne pendant l'opération de restauration.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-162">On [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] restoring files or pages might allow other data in the database to remain online during the restore operation.</span></span>  
  
##  <a name="recovery-models-and-supported-restore-operations"></a><a name="RMsAndSupportedRestoreOps"></a><span data-ttu-id="9e5fd-163">Modes de récupération et opérations de restauration prises en charge</span><span class="sxs-lookup"><span data-stu-id="9e5fd-163">Recovery Models and Supported Restore Operations</span></span>  
 <span data-ttu-id="9e5fd-164">Les opérations de restauration disponibles pour une base de données dépendent de son mode de récupération.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-164">The restore operations that are available for a database depend on its recovery model.</span></span> <span data-ttu-id="9e5fd-165">Le tableau suivant présente le niveau de prise en charge des modes de récupération dans un scénario de restauration donné.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-165">The following table summarizes whether and to what extent each of the recovery models supports a given restore scenario.</span></span>  
  
|<span data-ttu-id="9e5fd-166">Opération de restauration</span><span class="sxs-lookup"><span data-stu-id="9e5fd-166">Restore operation</span></span>|<span data-ttu-id="9e5fd-167">Mode de restauration complète</span><span class="sxs-lookup"><span data-stu-id="9e5fd-167">Full recovery model</span></span>|<span data-ttu-id="9e5fd-168">Mode de récupération utilisant les journaux de transactions</span><span class="sxs-lookup"><span data-stu-id="9e5fd-168">Bulk-logged recovery model</span></span>|<span data-ttu-id="9e5fd-169">Mode de récupération simple</span><span class="sxs-lookup"><span data-stu-id="9e5fd-169">Simple recovery model</span></span>|  
|-----------------------|-------------------------|---------------------------------|---------------------------|  
|<span data-ttu-id="9e5fd-170">Récupération de données</span><span class="sxs-lookup"><span data-stu-id="9e5fd-170">Data recovery</span></span>|<span data-ttu-id="9e5fd-171">Récupération complète (si le journal est disponible).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-171">Complete recovery (if the log is available).</span></span>|<span data-ttu-id="9e5fd-172">Risque de perte de données.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-172">Some data-loss exposure.</span></span>|<span data-ttu-id="9e5fd-173">Les données postérieures à la dernière sauvegarde différentielle ou complète sont perdues.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-173">Any data since last full or differential backup is lost.</span></span>|  
|<span data-ttu-id="9e5fd-174">Restauration dans le temps</span><span class="sxs-lookup"><span data-stu-id="9e5fd-174">Point-in-time restore</span></span>|<span data-ttu-id="9e5fd-175">Toute heure couverte par les sauvegardes de fichiers journaux.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-175">Any time covered by the log backups.</span></span>|<span data-ttu-id="9e5fd-176">Non autorisé si la sauvegarde de fichier journal contient des modifications journalisées en bloc.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-176">Disallowed if the log backup contains any bulk-logged changes.</span></span>|<span data-ttu-id="9e5fd-177">Non pris en charge.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-177">Not supported.</span></span>|  
|<span data-ttu-id="9e5fd-178">File restore **\***</span><span class="sxs-lookup"><span data-stu-id="9e5fd-178">File restore **\***</span></span>|<span data-ttu-id="9e5fd-179">Prise en charge complète.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-179">Full support.</span></span>|<span data-ttu-id="9e5fd-180">Parfois. **\*\***</span><span class="sxs-lookup"><span data-stu-id="9e5fd-180">Sometimes.**\*\***</span></span>|<span data-ttu-id="9e5fd-181">Disponible uniquement pour les fichiers secondaires en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-181">Available only for read-only secondary files.</span></span>|  
|<span data-ttu-id="9e5fd-182">Page restore **\***</span><span class="sxs-lookup"><span data-stu-id="9e5fd-182">Page restore **\***</span></span>|<span data-ttu-id="9e5fd-183">Prise en charge complète.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-183">Full support.</span></span>|<span data-ttu-id="9e5fd-184">Parfois. **\*\***</span><span class="sxs-lookup"><span data-stu-id="9e5fd-184">Sometimes.**\*\***</span></span>|<span data-ttu-id="9e5fd-185">Aucun.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-185">None.</span></span>|  
|<span data-ttu-id="9e5fd-186">Restauration fragmentaire (niveau groupe de fichiers) **\***</span><span class="sxs-lookup"><span data-stu-id="9e5fd-186">Piecemeal (filegroup-level) restore **\***</span></span>|<span data-ttu-id="9e5fd-187">Prise en charge complète.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-187">Full support.</span></span>|<span data-ttu-id="9e5fd-188">Parfois. **\*\***</span><span class="sxs-lookup"><span data-stu-id="9e5fd-188">Sometimes.**\*\***</span></span>|<span data-ttu-id="9e5fd-189">Disponible uniquement pour les fichiers secondaires en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-189">Available only for read-only secondary files.</span></span>|  
  
 <span data-ttu-id="9e5fd-190">**\*** Disponible uniquement dans l'édition Enterprise de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="9e5fd-190">**\*** Available only in the Enterprise edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
  
 <span data-ttu-id="9e5fd-191">**\*\*** Pour les conditions requises, consultez [Restrictions de restauration en mode de récupération simple](#RMsimpleScenarios), plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-191">**\*\*** For the required conditions, see [Restore Restrictions Under the Simple Recovery Model](#RMsimpleScenarios), later in this topic.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="9e5fd-192">Quel que soit le mode de récupération d'une base de données, une sauvegarde [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ne peut pas être restaurée par une version de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] antérieure à la version qui a créé la sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-192">Regardless of the recovery model of a database, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup cannot be restored by a version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is older than the version that created the backup.</span></span>  
  
##  <a name="restore-scenarios-under-the-simple-recovery-model"></a><a name="RMsimpleScenarios"></a><span data-ttu-id="9e5fd-193">Scénarios de restauration en mode de récupération simple</span><span class="sxs-lookup"><span data-stu-id="9e5fd-193">Restore Scenarios Under the Simple Recovery Model</span></span>  
 <span data-ttu-id="9e5fd-194">Le mode de récupération simple impose les restrictions suivantes aux opérations de restauration :</span><span class="sxs-lookup"><span data-stu-id="9e5fd-194">The simple recovery model imposes the following restrictions on restore operations:</span></span>  
  
-   <span data-ttu-id="9e5fd-195">La restauration de fichiers et la restauration fragmentaire ne s'adressent qu'aux groupes de fichiers secondaires en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-195">File restore and piecemeal restore are available only for read-only secondary filegroups.</span></span> <span data-ttu-id="9e5fd-196">Pour plus d’informations sur ces scénarios de restauration, consultez [Restaurations de fichiers &#40;mode de récupération simple&#41;](file-restores-simple-recovery-model.md) et [Restaurations fragmentaires &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-196">For information about these restore scenarios, see [File Restores &#40;Simple Recovery Model&#41;](file-restores-simple-recovery-model.md) and [Piecemeal Restores &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span></span>  
  
-   <span data-ttu-id="9e5fd-197">La restauration de pages n'est pas autorisée.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-197">Page restore is not allowed.</span></span>  
  
-   <span data-ttu-id="9e5fd-198">La restauration dans le temps n'est pas autorisée.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-198">Point-in-time restore is not allowed.</span></span>  
  
 <span data-ttu-id="9e5fd-199">Si ces restrictions ne correspondent pas à vos besoins de récupération, nous vous recommandons d'envisager le mode de restauration complète.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-199">If any of these restrictions are inappropriate for your recovery needs, we recommend that you consider using the full recovery model.</span></span> <span data-ttu-id="9e5fd-200">Pour plus d’informations, consultez [Vue d’ensemble de la sauvegarde &#40;SQL Server&#41;](backup-overview-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-200">For more information, see [Backup Overview &#40;SQL Server&#41;](backup-overview-sql-server.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="9e5fd-201">Quel que soit le mode de récupération d'une base de données, une sauvegarde [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ne peut pas être restaurée par une version de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] antérieure à la version qui a créé la sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-201">Regardless of the recovery model of a database, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup cannot be restored by a version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is older than the version that created the backup.</span></span>  
  
##  <a name="restore-under-the-bulk-logged-recovery-model"></a><a name="RMblogRestore"></a> <span data-ttu-id="9e5fd-202">Restauration en mode de récupération utilisant les journaux de transactions</span><span class="sxs-lookup"><span data-stu-id="9e5fd-202">Restore Under the Bulk-Logged Recovery Model</span></span>  
 <span data-ttu-id="9e5fd-203">Cette section traite de considérations relatives à la restauration qui sont propres au mode de récupération utilisant les journaux de transactions et qui vient en complément d'une utilisation exclusive du mode de restauration complète.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-203">This section discusses restore considerations that are unique to bulk-logged recovery model, which is intended exclusively as a supplement to the full recovery model.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9e5fd-204">Pour obtenir une présentation du mode de récupération utilisant les journaux de transactions, consultez [Journal des transactions &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-204">For an introduction to the bulk-logged recovery model, see [The Transaction Log &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span></span>  
  
 <span data-ttu-id="9e5fd-205">Généralement, le mode de récupération utilisant les journaux de transactions est comparable au mode de restauration complète. En outre, les informations fournies pour ce dernier valent aussi pour le premier.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-205">Generally, the bulk-logged recovery model is similar to the full recovery model, and the information described for the full recovery model also applies to both.</span></span> <span data-ttu-id="9e5fd-206">Cependant, la récupération jusqu'à une date et heure et la restauration en ligne sont concernées par le mode de récupération utilisant les journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-206">However, point-in-time recovery and online restore are affected by the bulk-logged recovery model.</span></span>  
  
### <a name="restrictions-for-point-in-time-recovery"></a><span data-ttu-id="9e5fd-207">Restrictions relatives à la récupération jusqu'à une date et heure</span><span class="sxs-lookup"><span data-stu-id="9e5fd-207">Restrictions for Point-in-time Recovery</span></span>  
 <span data-ttu-id="9e5fd-208">Si une sauvegarde du journal effectuée dans le mode de récupération utilisant les journaux de transactions contient des modifications journalisées en bloc, la récupération jusqu'à une date et heure n'est pas autorisée.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-208">If a log backup taken under the bulk-logged recovery model contains bulk-logged changes, point-in-time recovery is not allowed.</span></span> <span data-ttu-id="9e5fd-209">Si vous tentez d'effectuer une récupération jusqu'à une date et heure sur une sauvegarde du journal contenant des modifications en bloc, l'opération de restauration peut échouer.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-209">Trying to perform point-in-time recovery on a log backup that contains bulk changes will cause the restore operation to fail.</span></span>  
  
### <a name="restrictions-for-online-restore"></a><span data-ttu-id="9e5fd-210">Restrictions relatives à la restauration en ligne</span><span class="sxs-lookup"><span data-stu-id="9e5fd-210">Restrictions for Online Restore</span></span>  
 <span data-ttu-id="9e5fd-211">Une séquence de restauration en ligne fonctionne uniquement si les conditions suivantes sont satisfaites :</span><span class="sxs-lookup"><span data-stu-id="9e5fd-211">An online restore sequence works only if the following conditions are met:</span></span>  
  
-   <span data-ttu-id="9e5fd-212">Toutes les sauvegardes de journaux nécessaires doivent avoir été effectuées avant le démarrage de la séquence de restauration.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-212">All required log backups must have been taken before the restore sequence starts.</span></span>  
  
-   <span data-ttu-id="9e5fd-213">Les modifications en bloc doivent avoir été sauvegardées avant de démarrer la séquence de restauration en ligne.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-213">Bulk changes must be backed before starting the online restore sequence.</span></span>  
  
-   <span data-ttu-id="9e5fd-214">Si des modifications en bloc existent dans la base de données, tous les fichiers doivent être en ligne ou[obsolètes](remove-defunct-filegroups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-214">If bulk changes exist in the database, all files must be either online or[defunct](remove-defunct-filegroups-sql-server.md).</span></span> <span data-ttu-id="9e5fd-215">(Cela signifie qu'ils n'appartiennent plus à la base de données.)</span><span class="sxs-lookup"><span data-stu-id="9e5fd-215">(This means that it is no longer part of the database.)</span></span>  
  
 <span data-ttu-id="9e5fd-216">Si ces conditions ne sont pas satisfaites, la séquence de restauration en ligne échoue.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-216">If these conditions are not met, the online restore sequence fails.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9e5fd-217">Il est recommandé de basculer en mode de restauration complète avant de démarrer la restauration en ligne.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-217">We recommend switching to the full recovery model before starting an online restore.</span></span> <span data-ttu-id="9e5fd-218">Pour plus d’informations, consultez [Modes de récupération &#40;SQL Server&#41;](recovery-models-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-218">For more information, see [Recovery Models &#40;SQL Server&#41;](recovery-models-sql-server.md).</span></span>  
  
 <span data-ttu-id="9e5fd-219">Pour plus d’informations sur l’exécution d’une restauration en ligne, consultez [Restauration en ligne &#40;SQL Server&#41;](online-restore-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-219">For information about how to perform an online restore, see [Online Restore &#40;SQL Server&#41;](online-restore-sql-server.md).</span></span>  
  
##  <a name="database-recovery-advisor-sql-server-management-studio"></a><a name="DRA"></a> <span data-ttu-id="9e5fd-220">Assistant de récupération de base de données (SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="9e5fd-220">Database Recovery Advisor (SQL Server Management Studio)</span></span>  
 <span data-ttu-id="9e5fd-221">L'Assistant Récupération de base de données permet de créer des plans de restauration qui implémentent des séquences de restauration correctes et optimales.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-221">The Database Recovery Advisor facilitates constructing restore plans that implement optimal correct restore sequences.</span></span> <span data-ttu-id="9e5fd-222">De nombreux problèmes connus, liés à la restauration de la base de données, et améliorations demandées par les clients ont été pris en considération.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-222">Many known database restore issues and enhancements requested by customers have been addressed.</span></span> <span data-ttu-id="9e5fd-223">Les améliorations importantes introduites par l'Assistant Récupération de base de données sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e5fd-223">Major enhancements introduced by the Database Recovery Advisor include the following:</span></span>  
  
-   <span data-ttu-id="9e5fd-224">**Algorithme de plan de restauration :**  l’algorithme utilisé pour créer des plans de restauration a été amélioré considérablement, en particulier pour les scénarios de restauration complexes.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-224">**Restore-plan algorithm:**  The algorithm used to construct restore plans has improved significantly, particularly for complex restore scenarios.</span></span> <span data-ttu-id="9e5fd-225">Nombre de cas limites, notamment la réplication de scénarios dans les restaurations ponctuelles, sont gérés plus efficacement que dans les versions antérieures de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9e5fd-225">Many edge cases, including forking scenarios in point-in-time restores, are handled more efficiently than in previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="9e5fd-226">**Restaurations dans le temps :**  l’Assistant Récupération de base de données simplifie considérablement la restauration d’une base de données à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-226">**Point-in-time restores:**  The Database Recovery Advisor greatly simplifies restoring a database to a given point in time.</span></span> <span data-ttu-id="9e5fd-227">Une chronologie visuelle de sauvegarde améliore considérablement la prise en charge des restaurations dans le temps.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-227">A visual backup timeline significantly enhances support for point-in-time restores.</span></span> <span data-ttu-id="9e5fd-228">La chronologie visuelle vous permet d'identifier un point possible comme point de récupération cible pour restaurer une base de données.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-228">This visual timeline allows you to identify a feasible point in time as the target recovery point for restoring a database.</span></span> <span data-ttu-id="9e5fd-229">La chronologie permet de parcourir un chemin de récupération ramifié (un chemin d'accès qui couvre les branchements de récupération).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-229">The timeline facilitates traversing a forked recovery path (a path that spans recovery forks).</span></span> <span data-ttu-id="9e5fd-230">Un plan spécifique de restauration dans le temps inclut automatiquement les sauvegardes pertinentes pour la restauration à un point cible (date et heure).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-230">A given point-in-time restore plan automatically includes the backups that are relevant to the restoring to your target point in time (date and time).</span></span> <span data-ttu-id="9e5fd-231">Pour plus d’informations, consultez [Restaurer une base de données SQL Server jusqu’à une limite dans le temps &#40;mode de récupération complète&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="9e5fd-231">For more information, see [Restore a SQL Server Database to a Point in Time &#40;Full Recovery Model&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span></span>  
  
 <span data-ttu-id="9e5fd-232">Pour plus d'informations sur l'Assistant Récupération de base de données, consultez les blogs de gestion [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] suivants :</span><span class="sxs-lookup"><span data-stu-id="9e5fd-232">For more information, see about the Database Recovery Advisor, see the following [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Manageability blogs:</span></span>  
  
-   [<span data-ttu-id="9e5fd-233">Assistant Récupération : introduction</span><span class="sxs-lookup"><span data-stu-id="9e5fd-233">Recovery Advisor: An Introduction</span></span>](https://blogs.msdn.com/b/managingsql/archive/2011/07/13/recovery-advisor-an-introduction.aspx)  
  
-   [<span data-ttu-id="9e5fd-234">Assistant Récupération : utilisation de SSMS pour créer/restaurer des sauvegardes fractionnées</span><span class="sxs-lookup"><span data-stu-id="9e5fd-234">Recovery Advisor: Using SSMS to create/restore split backups</span></span>](https://docs.microsoft.com/archive/blogs/managingsql/recovery-advisor-using-ssms-to-createrestore-split-backups)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="9e5fd-235">Contenu associé</span><span class="sxs-lookup"><span data-stu-id="9e5fd-235">Related Content</span></span>  
 <span data-ttu-id="9e5fd-236">Aucun.</span><span class="sxs-lookup"><span data-stu-id="9e5fd-236">None.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9e5fd-237">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="9e5fd-237">See Also</span></span>  
 [<span data-ttu-id="9e5fd-238">Vue d’ensemble de la sauvegarde &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="9e5fd-238">Backup Overview &#40;SQL Server&#41;</span></span>](backup-overview-sql-server.md)  
  
  
