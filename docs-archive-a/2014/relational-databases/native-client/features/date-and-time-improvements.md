---
title: Améliorations des types de données de date et d’heure | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
ms.assetid: 9b1d0d9d-1f6e-4399-8f61-e23f9a486a7a
author: rothja
ms.author: jroth
ms.openlocfilehash: 94f3fb5c00c15912840c494d3a6f6b0b05ea7257
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698093"
---
# <a name="date-and-time-improvements"></a><span data-ttu-id="ca8c5-102">Améliorations des types de données date et heure</span><span class="sxs-lookup"><span data-stu-id="ca8c5-102">Date and Time Improvements</span></span>
  <span data-ttu-id="ca8c5-103">Cette rubrique décrit la prise en charge par [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client des types de données de date et d'heure ajoutés à [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca8c5-103">This topic describes the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client support for the date and time data types that were added in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span></span>  
  
 <span data-ttu-id="ca8c5-104">Pour plus d’informations sur les améliorations de date/heure, consultez améliorations de la [date et de l’heure &#40;OLE DB&#41;](../../native-client-ole-db-date-time/date-and-time-improvements-ole-db.md) et améliorations de la [date et de l’heure &#40;ODBC&#41;](../../native-client-odbc-date-time/date-and-time-improvements-odbc.md).</span><span class="sxs-lookup"><span data-stu-id="ca8c5-104">For more information about date/time improvements, see [Date and Time Improvements &#40;OLE DB&#41;](../../native-client-ole-db-date-time/date-and-time-improvements-ole-db.md) and [Date and Time Improvements &#40;ODBC&#41;](../../native-client-odbc-date-time/date-and-time-improvements-odbc.md).</span></span>  
  
 <span data-ttu-id="ca8c5-105">Pour plus d’informations sur les exemples d’applications qui illustrent cette fonctionnalité, consultez [Exemples de programmation de données SQL Server](https://msftdpprodsamples.codeplex.com/).</span><span class="sxs-lookup"><span data-stu-id="ca8c5-105">For information about sample applications that demonstrate this feature, see [SQL Server Data Programming Samples](https://msftdpprodsamples.codeplex.com/).</span></span>  
  
## <a name="usage"></a><span data-ttu-id="ca8c5-106">Usage</span><span class="sxs-lookup"><span data-stu-id="ca8c5-106">Usage</span></span>  
 <span data-ttu-id="ca8c5-107">Les sections suivantes décrivent les différentes façons d'utiliser les nouveaux types de date et d'heure.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-107">The following sections describe various ways of using the new date and time types.</span></span>  
  
### <a name="use-date-as-a-distinct-data-type"></a><span data-ttu-id="ca8c5-108">Utiliser le type Date comme type de données distinct</span><span class="sxs-lookup"><span data-stu-id="ca8c5-108">Use Date as a Distinct Data Type</span></span>  
 <span data-ttu-id="ca8c5-109">À partir de [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)], l'amélioration de la prise en charge des types date/heure rend plus efficace l'utilisation du type SQL_TYPE_DATE ODBC (SQL_DATE pour les applications ODBC 2.0) et du type DBTYPE_DBDATE OLE DB.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-109">Beginning with [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)], enhanced support for date/time types makes it more efficient to use the SQL_TYPE_DATE ODBC type (SQL_DATE for ODBC 2.0 applications) and the DBTYPE_DBDATE OLE DB type.</span></span>  
  
### <a name="use-time-as-a-distinct-data-type"></a><span data-ttu-id="ca8c5-110">Utiliser le type Time comme type de données distinct</span><span class="sxs-lookup"><span data-stu-id="ca8c5-110">Use Time as a Distinct Data Type</span></span>  
 <span data-ttu-id="ca8c5-111">OLE DB a déjà un type de données qui contient juste l'heure, DBTYPE_DBTIME, avec une précision de 1 seconde.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-111">OLE DB already has a data type that just contains the time, DBTYPE_DBTIME, which has a precision of 1 second.</span></span> <span data-ttu-id="ca8c5-112">Dans ODBC, le type équivalent est SQL_TYPE_TIME (SQL_TIME pour les applications ODBC 2.0).</span><span class="sxs-lookup"><span data-stu-id="ca8c5-112">In ODBC, the equivalent type is SQL_TYPE_TIME (SQL_TIME for ODBC 2.0 applications).</span></span>  
  
 <span data-ttu-id="ca8c5-113">Le nouveau type de données d’heure [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a une précision en fractions de seconde de 100 nanosecondes.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-113">The new [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] time data type has fractional seconds accurate to 100 nanoseconds.</span></span> <span data-ttu-id="ca8c5-114">Cela nécessite de nouveaux types dans [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client : DBTYPE_DBTIME2 (OLE DB) et SQL_SS_TIME2 (ODBC).</span><span class="sxs-lookup"><span data-stu-id="ca8c5-114">This requires new types in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client: DBTYPE_DBTIME2 (OLE DB) and SQL_SS_TIME2 (ODBC).</span></span> <span data-ttu-id="ca8c5-115">Les applications existantes écrites pour utiliser des heures sans fractions de seconde peuvent recourir à des colonnes time(0).</span><span class="sxs-lookup"><span data-stu-id="ca8c5-115">Existing applications written to use times with no fractional seconds can use time(0) columns.</span></span> <span data-ttu-id="ca8c5-116">Les types OLE DB DBTYPE_TIME et ODBC SQL_TYPE_TIME, ainsi que leurs structs correspondants, doivent fonctionner correctement, à moins que les applications ne reposent sur le type retourné dans les métadonnées.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-116">The existing OLE DB DBTYPE_TIME and ODBC SQL_TYPE_TIME types and their corresponding structs should work correctly, unless the applications rely on the type returned in metadata.</span></span>  
  
### <a name="use-time-as-a-distinct-data-type-with-extended-fractional-seconds-precision"></a><span data-ttu-id="ca8c5-117">Utiliser le type Time comme type de données distinct avec l'extension de la précision en fractions de seconde</span><span class="sxs-lookup"><span data-stu-id="ca8c5-117">Use Time as a Distinct Data Type with Extended Fractional Seconds Precision</span></span>  
 <span data-ttu-id="ca8c5-118">Certaines applications, telles que les applications de contrôle de processus et de fabrication, requièrent la possibilité de gérer les données d'heure avec une précision allant jusqu'à 100 nanosecondes.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-118">Some applications, such as process control and manufacturing applications, require the ability to handle time data with a precision of up to 100 nanoseconds.</span></span> <span data-ttu-id="ca8c5-119">Les nouveaux types répondant à cet objectif sont DBTYPE_DBTIME2 (OLE DB) et SQL_SS_TIME2 (ODBC).</span><span class="sxs-lookup"><span data-stu-id="ca8c5-119">New types for this purpose are DBTYPE_DBTIME2 (OLE DB) and SQL_SS_TIME2 (ODBC).</span></span>  
  
### <a name="use-datetime-with-extended-fractional-seconds-precision"></a><span data-ttu-id="ca8c5-120">Utiliser le type Datetime avec l'extension de la précision en fractions de seconde</span><span class="sxs-lookup"><span data-stu-id="ca8c5-120">Use Datetime with Extended Fractional Seconds Precision</span></span>  
 <span data-ttu-id="ca8c5-121">OLE DB définit déjà un type avec une précision allant jusqu'à 1 nanoseconde.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-121">OLE DB already defines a type with a precision of up to 1 nanosecond.</span></span> <span data-ttu-id="ca8c5-122">Toutefois, ce type est déjà utilisé par les applications [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] existantes, lesquelles attendent une précision de 1/300 de seconde uniquement.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-122">However, this type is already used by existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applications and such applications have an expectation of only 1/300 of a second precision.</span></span> <span data-ttu-id="ca8c5-123">Le nouveau type `datetime2(3)` n'est pas directement compatible avec le type datetime existant.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-123">The new `datetime2(3)` type is not directly compatible with the existing datetime type.</span></span> <span data-ttu-id="ca8c5-124">S'il existe un risque que cela affecte le comportement des applications, celles-ci doivent utiliser un nouvel indicateur DBCOLUMN pour déterminer le type réel sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-124">If there is a risk that this will affect application behavior, applications must use a new DBCOLUMN flag to determine the actual server type.</span></span>  
  
 <span data-ttu-id="ca8c5-125">ODBC définit également un type avec une précision allant jusqu'à 1 nanoseconde.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-125">ODBC also defines a type with a precision of up to 1 nanosecond.</span></span> <span data-ttu-id="ca8c5-126">Toutefois, ce type est déjà utilisé par les applications [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] existantes, lesquelles attendent une précision de 3 millisecondes uniquement.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-126">However, this type is already used by existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applications and such applications expect only 3 millisecond precision.</span></span> <span data-ttu-id="ca8c5-127">Le nouveau type `datetime2(3)` n'est pas directement compatible avec le type `datetime` existant.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-127">The new `datetime2(3)` type is not  directly compatible with the existing `datetime` type.</span></span> <span data-ttu-id="ca8c5-128">`datetime2(3)` a une précision d'une milliseconde et `datetime` a une précision de 1/300 de seconde.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-128">`datetime2(3)` has a precision of one millisecond, and `datetime` has a precision of 1/300 of a second.</span></span> <span data-ttu-id="ca8c5-129">Dans ODBC, les applications peuvent déterminer le type serveur en cours d'utilisation avec le champ de descripteur SQL_DESC_TYPE_NAME.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-129">In ODBC, applications can determine which server type is in use with the descriptor field SQL_DESC_TYPE_NAME.</span></span> <span data-ttu-id="ca8c5-130">Par conséquent, le type existant SQL_TYPE_TIMESTAMP (SQL_TIMESTAMP pour les applications ODBC 2.0) peut être utilisé pour les deux types.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-130">Therefore, the existing type SQL_TYPE_TIMESTAMP (SQL_TIMESTAMP for ODBC 2.0 applications) can be used for both types.</span></span>  
  
### <a name="use-datetime-with-extended-fractional-seconds-precision-and-timezone"></a><span data-ttu-id="ca8c5-131">Utiliser le type Datetime avec l'extension de la précision en fractions de seconde et le fuseau horaire</span><span class="sxs-lookup"><span data-stu-id="ca8c5-131">Use Datetime with Extended Fractional Seconds Precision and Timezone</span></span>  
 <span data-ttu-id="ca8c5-132">Certaines applications requièrent des valeurs datetime avec les informations de fuseau horaire.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-132">Some applications require datetime values with timezone information.</span></span> <span data-ttu-id="ca8c5-133">Cela est pris en charge par les nouveaux types DBTYPE_DBTIMESTAMPOFFSET (OLE DB) et SQL_SS_TIMESTAMPOFFSET (ODBC).</span><span class="sxs-lookup"><span data-stu-id="ca8c5-133">This is supported by the new DBTYPE_DBTIMESTAMPOFFSET (OLE DB) and SQL_SS_TIMESTAMPOFFSET (ODBC) types.</span></span>  
  
### <a name="use-datetimedatetimedatetimeoffset-data-with-client-side-conversions-consistent-with-existing-conversions"></a><span data-ttu-id="ca8c5-134">Utiliser les données de type Date/Time/Datetime/Datetimeoffset avec des conversions côté client cohérentes avec les conversions existantes</span><span class="sxs-lookup"><span data-stu-id="ca8c5-134">Use Date/Time/Datetime/Datetimeoffset Data with Client-Side Conversions Consistent with Existing Conversions</span></span>  
 <span data-ttu-id="ca8c5-135">La norme ODBC décrit le fonctionnement des conversions entre les types date, time et timestamp existants.</span><span class="sxs-lookup"><span data-stu-id="ca8c5-135">The ODBC standard describes how conversions between existing date, time, and timestamp types work.</span></span> <span data-ttu-id="ca8c5-136">Ceux-ci sont étendus de manière cohérente afin d'inclure les conversions entre tous les types relatifs à la date et à l'heure introduits dans [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca8c5-136">These are extended in a consistent manner to include conversions between all date and time types introduced in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ca8c5-137">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ca8c5-137">See Also</span></span>  
 [<span data-ttu-id="ca8c5-138">Fonctionnalités de SQL Server Native Client</span><span class="sxs-lookup"><span data-stu-id="ca8c5-138">SQL Server Native Client Features</span></span>](sql-server-native-client-features.md)  
  
