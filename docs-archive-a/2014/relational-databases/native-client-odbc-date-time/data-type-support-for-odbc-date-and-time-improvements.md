---
title: Prise en charge des types de données pour les améliorations de date et d’heure ODBC | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
helpviewer_keywords:
- date/time [ODBC], data type support
- ODBC, date/time improvements
ms.assetid: 8e0d9ba2-3ec1-4680-86e3-b2590ba8e2e9
author: rothja
ms.author: jroth
ms.openlocfilehash: df0877a17ad8e2310db5c6e3ab4acd0c14d05611
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87605390"
---
# <a name="data-type-support-for-odbc-date-and-time-improvements"></a><span data-ttu-id="0b615-102">Prise en charge des types de données pour les améliorations date/heure (ODBC)</span><span class="sxs-lookup"><span data-stu-id="0b615-102">Data Type Support for ODBC Date and Time Improvements</span></span>
  <span data-ttu-id="0b615-103">Cette rubrique fournit des informations sur les types ODBC qui prennent en charge les types des données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date et time.</span><span class="sxs-lookup"><span data-stu-id="0b615-103">This topic provides information about ODBC types that support [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date and time data types.</span></span>  
  
## <a name="data-type-mapping-in-parameters-and-resultsets"></a><span data-ttu-id="0b615-104">Mappage de type de données dans les paramètres et les jeux de résultats</span><span class="sxs-lookup"><span data-stu-id="0b615-104">Data Type Mapping in Parameters and Resultsets</span></span>  
 <span data-ttu-id="0b615-105">En plus des types de données ODBC (SQL_TYPE_TIMESTAMP et SQL_TIMESTAMP), deux nouveaux types de données ont été ajoutés dans ODBC [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client pour exposer les nouveaux types de serveur :</span><span class="sxs-lookup"><span data-stu-id="0b615-105">In addition to the ODBC data types (SQL_TYPE_TIMESTAMP and SQL_TIMESTAMP), two new data types were added in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC to expose the new server types:</span></span>  
  
-   <span data-ttu-id="0b615-106">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="0b615-106">SQL_SS_TIME2</span></span>  
  
-   <span data-ttu-id="0b615-107">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="0b615-107">SQL_SS_TIMESTAMPOFFSET</span></span>  
  
 <span data-ttu-id="0b615-108">Le tableau ci-dessous correspond au mappage complet de type serveur.</span><span class="sxs-lookup"><span data-stu-id="0b615-108">The following table shows the complete server-type mapping.</span></span> <span data-ttu-id="0b615-109">Remarquez que certaines cellules contiennent deux entrées ; dans ces cas, la première est la valeur ODBC 3.0 et la seconde la valeur ODBC 2.0.</span><span class="sxs-lookup"><span data-stu-id="0b615-109">Notice that some cells of the table contain two entries; in these cases, the first is the ODBC 3.0 value and the second is the ODBC 2.0 value.</span></span>  
  
|<span data-ttu-id="0b615-110">Type de données SQL Server</span><span class="sxs-lookup"><span data-stu-id="0b615-110">SQL Server data type</span></span>|<span data-ttu-id="0b615-111">Type de données SQL</span><span class="sxs-lookup"><span data-stu-id="0b615-111">SQL data type</span></span>|<span data-ttu-id="0b615-112">Valeur</span><span class="sxs-lookup"><span data-stu-id="0b615-112">Value</span></span>|  
|--------------------------|-------------------|-----------|  
|<span data-ttu-id="0b615-113">Datetime</span><span class="sxs-lookup"><span data-stu-id="0b615-113">Datetime</span></span>|<span data-ttu-id="0b615-114">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-114">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="0b615-115">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-115">SQL_TIMESTAMP</span></span>|<span data-ttu-id="0b615-116">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-116">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="0b615-117">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-117">11 (sqlext.h)</span></span>|  
|<span data-ttu-id="0b615-118">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="0b615-118">Smalldatetime</span></span>|<span data-ttu-id="0b615-119">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-119">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="0b615-120">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-120">SQL_TIMESTAMP</span></span>|<span data-ttu-id="0b615-121">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-121">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="0b615-122">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-122">11 (sqlext.h)</span></span>|  
|<span data-ttu-id="0b615-123">Date</span><span class="sxs-lookup"><span data-stu-id="0b615-123">Date</span></span>|<span data-ttu-id="0b615-124">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-124">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="0b615-125">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-125">SQL_DATE</span></span>|<span data-ttu-id="0b615-126">91 (SQL. h)</span><span class="sxs-lookup"><span data-stu-id="0b615-126">91 (sql.h)</span></span><br /><br /> <span data-ttu-id="0b615-127">9 (Sqlext. h)</span><span class="sxs-lookup"><span data-stu-id="0b615-127">9 (sqlext.h)</span></span>|  
|<span data-ttu-id="0b615-128">Temps</span><span class="sxs-lookup"><span data-stu-id="0b615-128">Time</span></span>|<span data-ttu-id="0b615-129">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="0b615-129">SQL_SS_TIME2</span></span>|<span data-ttu-id="0b615-130">-154 (SQLNCLI. h)</span><span class="sxs-lookup"><span data-stu-id="0b615-130">-154 (SQLNCLI.h)</span></span>|  
|<span data-ttu-id="0b615-131">DatetimeOFFSET</span><span class="sxs-lookup"><span data-stu-id="0b615-131">DatetimeOFFSET</span></span>|<span data-ttu-id="0b615-132">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="0b615-132">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="0b615-133">-155 (SQLNCLI.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-133">-155 (SQLNCLI.h)</span></span>|  
|<span data-ttu-id="0b615-134">Datetime2</span><span class="sxs-lookup"><span data-stu-id="0b615-134">Datetime2</span></span>|<span data-ttu-id="0b615-135">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-135">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="0b615-136">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-136">SQL_TIMESTAMP</span></span>|<span data-ttu-id="0b615-137">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-137">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="0b615-138">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-138">11 (sqlext.h)</span></span>|  
  
 <span data-ttu-id="0b615-139">Le tableau suivant répertorie les structures et les types ODBC correspondants.</span><span class="sxs-lookup"><span data-stu-id="0b615-139">The following table lists the corresponding structures and ODBC C types.</span></span> <span data-ttu-id="0b615-140">Comme ODBC n'autorise pas les types C définis par le pilote, SQL_C_BINARY est utilisé pour les types time et datetimeoffset comme structures binaires.</span><span class="sxs-lookup"><span data-stu-id="0b615-140">Because ODBC does not permit driver defined C types, SQL_C_BINARY is used for time and datetimeoffset as binary structures.</span></span>  
  
|<span data-ttu-id="0b615-141">Type de données SQL</span><span class="sxs-lookup"><span data-stu-id="0b615-141">SQL data type</span></span>|<span data-ttu-id="0b615-142">Disposition en mémoire</span><span class="sxs-lookup"><span data-stu-id="0b615-142">Memory layout</span></span>|<span data-ttu-id="0b615-143">Type de données C par défaut</span><span class="sxs-lookup"><span data-stu-id="0b615-143">Default C data type</span></span>|<span data-ttu-id="0b615-144">Valeur (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-144">Value (sqlext.h)</span></span>|  
|-------------------|-------------------|-------------------------|------------------------|  
|<span data-ttu-id="0b615-145">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-145">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="0b615-146">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-146">SQL_TIMESTAMP</span></span>|<span data-ttu-id="0b615-147">SQL_TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-147">SQL_TIMESTAMP_STRUCT</span></span><br /><br /> <span data-ttu-id="0b615-148">TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-148">TIMESTAMP_STRUCT</span></span>|<span data-ttu-id="0b615-149">SQL_C_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-149">SQL_C_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="0b615-150">SQL_C_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-150">SQL_C_TIMESTAMP</span></span>|<span data-ttu-id="0b615-151">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-151">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="0b615-152">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-152">SQL_TIMESTAMP</span></span>|  
|<span data-ttu-id="0b615-153">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-153">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="0b615-154">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-154">SQL_DATE</span></span>|<span data-ttu-id="0b615-155">SQL_DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-155">SQL_DATE_STRUCT</span></span><br /><br /> <span data-ttu-id="0b615-156">DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-156">DATE_STRUCT</span></span>|<span data-ttu-id="0b615-157">SQL_C_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-157">SQL_C_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="0b615-158">SQL_C_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-158">SQL_C_DATE</span></span>|<span data-ttu-id="0b615-159">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-159">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="0b615-160">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-160">SQL_DATE</span></span>|  
|<span data-ttu-id="0b615-161">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="0b615-161">SQL_SS_TIME2</span></span>|<span data-ttu-id="0b615-162">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-162">SQL_SS_TIME2_STRUCT</span></span>|<span data-ttu-id="0b615-163">SQL_C_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="0b615-163">SQL_C_SS_TIME2</span></span><br /><br /> <span data-ttu-id="0b615-164">SQL_C_BINARY (ODBC 3.5 et versions antérieures)</span><span class="sxs-lookup"><span data-stu-id="0b615-164">SQL_C_BINARY (ODBC 3.5 and earlier)</span></span>|<span data-ttu-id="0b615-165">0x4000 (sqlncli.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-165">0x4000 (sqlncli.h)</span></span><br /><br /> <span data-ttu-id="0b615-166">SQL_BINARY (-2)</span><span class="sxs-lookup"><span data-stu-id="0b615-166">SQL_BINARY (-2)</span></span>|  
|<span data-ttu-id="0b615-167">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="0b615-167">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="0b615-168">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-168">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>|<span data-ttu-id="0b615-169">SQL_C_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="0b615-169">SQL_C_SS_TIMESTAMPOFFSET</span></span><br /><br /> <span data-ttu-id="0b615-170">SQL_C_BINARY (ODBC 3.5 et versions antérieures)</span><span class="sxs-lookup"><span data-stu-id="0b615-170">SQL_C_BINARY (ODBC 3.5 and earlier)</span></span>|<span data-ttu-id="0b615-171">0x4001 (sqlncli.h)</span><span class="sxs-lookup"><span data-stu-id="0b615-171">0x4001 (sqlncli.h)</span></span><br /><br /> <span data-ttu-id="0b615-172">SQL_BINARY (-2)</span><span class="sxs-lookup"><span data-stu-id="0b615-172">SQL_BINARY (-2)</span></span>|  
  
 <span data-ttu-id="0b615-173">Lorsque la liaison SQL_C_BINARY est spécifiée, la vérification de l'alignement est effectuée et une erreur signalée en cas d'alignement incorrect.</span><span class="sxs-lookup"><span data-stu-id="0b615-173">When SQL_C_BINARY binding is specified, alignment checking will be performed and an error reported for incorrect alignment.</span></span> <span data-ttu-id="0b615-174">Dans le cas de cette erreur, SQLSTATE a la valeur IM016, avec le message « Alignement des structures non valide ».</span><span class="sxs-lookup"><span data-stu-id="0b615-174">The SQLSTATE for this error will be IM016, with the message "Incorrect structure alignment".</span></span>  
  
## <a name="data-formats-strings-and-literals"></a><span data-ttu-id="0b615-175">Formats de données : chaînes et littéraux</span><span class="sxs-lookup"><span data-stu-id="0b615-175">Data Formats: Strings and Literals</span></span>  
 <span data-ttu-id="0b615-176">Le tableau suivant représente les mappages entre les types de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], les types de données ODBC et les littéraux de chaîne ODBC.</span><span class="sxs-lookup"><span data-stu-id="0b615-176">The following table shows the mappings between [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data types, ODBC data types, and the ODBC string literals.</span></span>  
  
|<span data-ttu-id="0b615-177">Type de données SQL Server</span><span class="sxs-lookup"><span data-stu-id="0b615-177">SQL Server data type</span></span>|<span data-ttu-id="0b615-178">Type de données ODBC</span><span class="sxs-lookup"><span data-stu-id="0b615-178">ODBC data type</span></span>|<span data-ttu-id="0b615-179">Format de chaîne pour les conversions clientes</span><span class="sxs-lookup"><span data-stu-id="0b615-179">String format for client conversions</span></span>|  
|--------------------------|--------------------|------------------------------------------|  
|<span data-ttu-id="0b615-180">Datetime</span><span class="sxs-lookup"><span data-stu-id="0b615-180">Datetime</span></span>|<span data-ttu-id="0b615-181">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-181">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="0b615-182">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-182">SQL_TIMESTAMP</span></span>|<span data-ttu-id="0b615-183">'aaaa-mm-jj hh:mm:ss[.999]'</span><span class="sxs-lookup"><span data-stu-id="0b615-183">'yyyy-mm-dd hh:mm:ss[.999]'</span></span><br /><br /> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="0b615-184">prend en charge jusqu'à trois chiffres de fractions de seconde pour le type Datetime.</span><span class="sxs-lookup"><span data-stu-id="0b615-184">supports up to three fractional second digits for Datetime.</span></span>|  
|<span data-ttu-id="0b615-185">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="0b615-185">Smalldatetime</span></span>|<span data-ttu-id="0b615-186">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-186">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="0b615-187">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-187">SQL_TIMESTAMP</span></span>|<span data-ttu-id="0b615-188">'aaaa-mm-jj hh:hh:ss'</span><span class="sxs-lookup"><span data-stu-id="0b615-188">'yyyy-mm-dd hh:hh:ss'</span></span><br /><br /> <span data-ttu-id="0b615-189">Ce type de données possède une précision d'une minute.</span><span class="sxs-lookup"><span data-stu-id="0b615-189">This data type has an accuracy of one minute.</span></span> <span data-ttu-id="0b615-190">Le composant des secondes sera égal à zéro en sortie et arrondi par le serveur en entrée.</span><span class="sxs-lookup"><span data-stu-id="0b615-190">The seconds component will be zero on output and will be rounded by the server on input.</span></span>|  
|<span data-ttu-id="0b615-191">Date</span><span class="sxs-lookup"><span data-stu-id="0b615-191">Date</span></span>|<span data-ttu-id="0b615-192">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-192">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="0b615-193">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="0b615-193">SQL_DATE</span></span>|<span data-ttu-id="0b615-194">'aaaa-mm-jj'</span><span class="sxs-lookup"><span data-stu-id="0b615-194">'yyyy-mm-dd'</span></span>|  
|<span data-ttu-id="0b615-195">Temps</span><span class="sxs-lookup"><span data-stu-id="0b615-195">Time</span></span>|<span data-ttu-id="0b615-196">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="0b615-196">SQL_SS_TIME2</span></span>|<span data-ttu-id="0b615-197">'hh:mm:ss[.9999999]'</span><span class="sxs-lookup"><span data-stu-id="0b615-197">'hh:mm:ss[.9999999]'</span></span><br /><br /> <span data-ttu-id="0b615-198">Le cas échéant, les fractions de seconde peuvent être spécifiées à l'aide de sept chiffres au plus.</span><span class="sxs-lookup"><span data-stu-id="0b615-198">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
|<span data-ttu-id="0b615-199">Datetime2</span><span class="sxs-lookup"><span data-stu-id="0b615-199">Datetime2</span></span>|<span data-ttu-id="0b615-200">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-200">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="0b615-201">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="0b615-201">SQL_TIMESTAMP</span></span>|<span data-ttu-id="0b615-202">'aaaa-mm-jj hh : mm : SS [. 9999999] '</span><span class="sxs-lookup"><span data-stu-id="0b615-202">'yyyy-mm-dd hh:mm:ss[.9999999]'</span></span><br /><br /> <span data-ttu-id="0b615-203">Le cas échéant, les fractions de seconde peuvent être spécifiées à l'aide de sept chiffres au plus.</span><span class="sxs-lookup"><span data-stu-id="0b615-203">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
|<span data-ttu-id="0b615-204">DatetimeOFFSET</span><span class="sxs-lookup"><span data-stu-id="0b615-204">DatetimeOFFSET</span></span>|<span data-ttu-id="0b615-205">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="0b615-205">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="0b615-206">'aaaa-mm-jj hh:mm:ss[.9999999] +/- hh:mm'</span><span class="sxs-lookup"><span data-stu-id="0b615-206">'yyyy-mm-dd hh:mm:ss[.9999999] +/- hh:mm'</span></span><br /><br /> <span data-ttu-id="0b615-207">Le cas échéant, les fractions de seconde peuvent être spécifiées à l'aide de sept chiffres au plus.</span><span class="sxs-lookup"><span data-stu-id="0b615-207">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
  
 <span data-ttu-id="0b615-208">Il n'y a pas de modifications aux séquences d'échappement ODBC pour les littéraux de type date/time.</span><span class="sxs-lookup"><span data-stu-id="0b615-208">There are no changes to the ODBC escape sequences for date/time literals.</span></span>  
  
 <span data-ttu-id="0b615-209">Dans les résultats, les fractions de seconde utilisent toujours un point (.), plutôt que les deux-points (:).</span><span class="sxs-lookup"><span data-stu-id="0b615-209">Fractional seconds in results always use a dot (.), rather than a colon (:).</span></span>  
  
 <span data-ttu-id="0b615-210">Les valeurs de chaîne retournées aux applications sont toujours de la même longueur pour une colonne donnée.</span><span class="sxs-lookup"><span data-stu-id="0b615-210">String values returned to applications are always the same length for a given column.</span></span> <span data-ttu-id="0b615-211">La longueur maximale des composants année, mois, jour, heure, minute et seconde, est complétée avec des zéros non significatifs, et le jour et l'heure des valeurs datetime sont séparés par un espace.</span><span class="sxs-lookup"><span data-stu-id="0b615-211">Year, month, day, hour, minute, and second components are padded with leading zeros to their maximum width, and there is one space between date and time in datetime values.</span></span> <span data-ttu-id="0b615-212">Il y a également un espace entre l'heure et le décalage horaire dans une valeur datetimeoffset.</span><span class="sxs-lookup"><span data-stu-id="0b615-212">There is also one space between the time and timezone offset in a datetimeoffset value.</span></span> <span data-ttu-id="0b615-213">Un décalage horaire est toujours précédé d'un signe ; quand le décalage est nul, le signe est un plus (+).</span><span class="sxs-lookup"><span data-stu-id="0b615-213">A timezone offset is always preceded by a sign; when the offset is zero, this sign is a plus (+).</span></span> <span data-ttu-id="0b615-214">Les fractions de seconde sont complétées si nécessaire avec des zéros à droite, jusqu'à la précision maximale définie pour la colonne.</span><span class="sxs-lookup"><span data-stu-id="0b615-214">Fractional seconds are padded with trailing zeros if necessary, up to the defined precision for the column.</span></span> <span data-ttu-id="0b615-215">Pour les colonnes datetime, il y a trois chiffres de fractions de seconde.</span><span class="sxs-lookup"><span data-stu-id="0b615-215">For datetime columns, there are three fractional seconds digits.</span></span> <span data-ttu-id="0b615-216">Pour les colonnes smalldatetime, il n'y a pas de chiffres de fractions de seconde et les secondes sont toujours égales à zéro.</span><span class="sxs-lookup"><span data-stu-id="0b615-216">For smalldatetime columns, there are no fractional seconds' digits, and the seconds will always be zero.</span></span>  
  
 <span data-ttu-id="0b615-217">Une chaîne vide n'est pas un littéral de date et d'heure valide et ne représente pas une valeur NULL.</span><span class="sxs-lookup"><span data-stu-id="0b615-217">An empty string is not a valid date/time literal and it does not represent a NULL value.</span></span> <span data-ttu-id="0b615-218">La tentative de convertir une chaîne vide en valeur date/time provoque l'erreur SQLState 22018 et le message « Valeur de caractère non valide pour la spécification de la casse ».</span><span class="sxs-lookup"><span data-stu-id="0b615-218">An attempt to convert an empty string to a date/time value will result in SQLState 22018 error and the message "Invalid character value for cast specification".</span></span>  
  
 <span data-ttu-id="0b615-219">Les conversions de paramètres de chaîne attendent des chaînes au même format, si ce n'est que le signe d'une valeur timezone avec les heures et les minutes nulles peut être plus ou moins, et que les zéros à droite sont autorisés pour les fractions de seconde composées au plus de 9 chiffres.</span><span class="sxs-lookup"><span data-stu-id="0b615-219">Conversions from string parameters will expect strings in the same format, with the exceptions that the sign of a timezone with zero hours and zero minutes can be either plus or minus, and trailing zeros are allowed for fractional seconds up to a maximum of 9 digits.</span></span> <span data-ttu-id="0b615-220">Un composant heure peut se terminer avec une virgule décimale et aucun chiffre de fractions de seconde.</span><span class="sxs-lookup"><span data-stu-id="0b615-220">A time component can terminate with a decimal point and no fractional seconds digits.</span></span>  
  
 <span data-ttu-id="0b615-221">Actuellement, le pilote autorise un espace supplémentaire autour des caractères de ponctuation et l'espace entre l'heure et le décalage horaire est facultatif.</span><span class="sxs-lookup"><span data-stu-id="0b615-221">Currently, the driver allows additional white space around punctuation characters and the space between time and timezone offset is optional.</span></span> <span data-ttu-id="0b615-222">Toutefois, il se peut qu'il en aille différemment dans une version ultérieure ; les applications ne doivent pas s'appuyer sur le comportement actuel.</span><span class="sxs-lookup"><span data-stu-id="0b615-222">However, this might change in a future release; applications should not rely on the current behavior.</span></span>  
  
## <a name="data-formats-data-structures"></a><span data-ttu-id="0b615-223">Formats de données : structures de données</span><span class="sxs-lookup"><span data-stu-id="0b615-223">Data Formats: Data Structures</span></span>  
 <span data-ttu-id="0b615-224">Dans les structures décrites ci-après, ODBC spécifie les contraintes suivantes, extraites du calendrier grégorien :</span><span class="sxs-lookup"><span data-stu-id="0b615-224">In the structures described below, ODBC specifies the following constraints, which are taken from the Gregorian calendar:</span></span>  
  
-   <span data-ttu-id="0b615-225">La plage des mois s'étend de 1 à 12.</span><span class="sxs-lookup"><span data-stu-id="0b615-225">Month range is 1 through 12.</span></span>  
  
-   <span data-ttu-id="0b615-226">La plage des jours s'étend de 1 au nombre de jours dans le mois, et doit être cohérente avec les années et les mois  en tenant compte des années bissextiles.</span><span class="sxs-lookup"><span data-stu-id="0b615-226">Day field range is 1 through the number of days in the month, and must be consistent with year and month fields, taking account of leap years.</span></span>  
  
-   <span data-ttu-id="0b615-227">La plage des heures s'étend de 0 à 23.</span><span class="sxs-lookup"><span data-stu-id="0b615-227">Hour range is 0 through 23.</span></span>  
  
-   <span data-ttu-id="0b615-228">La plage des minutes s'étend de 0 à 59.</span><span class="sxs-lookup"><span data-stu-id="0b615-228">Minute range is 0 through 59.</span></span>  
  
-   <span data-ttu-id="0b615-229">La plage des secondes est 0 comprise entre 0 et 61.9 (n).</span><span class="sxs-lookup"><span data-stu-id="0b615-229">Seconds range is 0 through 61.9(n).</span></span> <span data-ttu-id="0b615-230">Ceci permet d’ajouter jusqu’à deux secondes intercalaires pour conserver la synchronisation avec l’heure sidérale.</span><span class="sxs-lookup"><span data-stu-id="0b615-230">This allows up to two leap seconds to maintain synchronization with sidereal time.</span></span>  
  
     <span data-ttu-id="0b615-231">Notez que, comme [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] n'autorise pas les secondes intercalaires, les valeurs de de secondes supérieures à 59 provoquent une erreur de serveur.</span><span class="sxs-lookup"><span data-stu-id="0b615-231">Note that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] does not allow leap seconds, so second values greater than 59 will cause a server error.</span></span>  
  
 <span data-ttu-id="0b615-232">Les implémentations pour les structs ODBC existants suivants ont été modifiées afin de prendre en charge les nouveaux types de données date et time [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0b615-232">Implementations for the following existing ODBC structs have been modified to support the new [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date and time data types.</span></span> <span data-ttu-id="0b615-233">Toutefois, les définitions n'ont pas changé.</span><span class="sxs-lookup"><span data-stu-id="0b615-233">The definitions, however, have not changed.</span></span>  
  
-   <span data-ttu-id="0b615-234">DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-234">DATE_STRUCT</span></span>  
  
-   <span data-ttu-id="0b615-235">TIME_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-235">TIME_STRUCT</span></span>  
  
-   <span data-ttu-id="0b615-236">TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-236">TIMESTAMP_STRUCT</span></span>  
  
 <span data-ttu-id="0b615-237">Il existe aussi deux nouveaux structs :</span><span class="sxs-lookup"><span data-stu-id="0b615-237">There are also two new structs:</span></span>  
  
-   <span data-ttu-id="0b615-238">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-238">SQL_SS_TIME2_STRUCT</span></span>  
  
-   <span data-ttu-id="0b615-239">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-239">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>  
  
### <a name="sql_ss_time2_struct"></a><span data-ttu-id="0b615-240">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-240">SQL_SS_TIME2_STRUCT</span></span>  
 <span data-ttu-id="0b615-241">Ce struct est complété jusqu'à 12 octets sur les systèmes d'exploitation 32 bits et 64 bits.</span><span class="sxs-lookup"><span data-stu-id="0b615-241">This struct is padded to 12 bytes on both 32-bit and 64-bit operating systems.</span></span>  
  
```  
typedef struct tagSS_TIME2_STRUCT {  
   SQLUSMALLINT hour;  
   SQLUSMALLINT minute;  
   SQLUSMALLINT second;  
   SQLUINTEGER fraction;  
} SQL_SS_TIME2_STRUCT;  
```  
  
### <a name="sql_ss_timestampoffset_struct"></a><span data-ttu-id="0b615-242">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="0b615-242">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>  
  
```  
typedef struct tagSS_TIMESTAMPOFFSET_STRUCT {  
   SQLSMALLINT year;  
   SQLUSMALLINT month;  
   SQLUSMALLINT day;  
   SQLUSMALLINT hour;  
   SQLUSMALLINT minute;  
   SQLUSMALLINT second;  
   SQLUINTEGER fraction;  
   SQLSMALLINT timezone_hour;  
   SQLSMALLINT timezone_minute;  
} SQL_SS_TIMESTAMPOFFSET_STRUCT;  
```  
  
 <span data-ttu-id="0b615-243">Si `timezone_hour` est négatif, `timezone_minute` doit être négatif ou égal à zéro.</span><span class="sxs-lookup"><span data-stu-id="0b615-243">If the `timezone_hour` is negative, the `timezone_minute` must be negative or zero.</span></span> <span data-ttu-id="0b615-244">Si `timezone_hour` est positif, `timezone_minute` doit être positif ou égal à zéro.</span><span class="sxs-lookup"><span data-stu-id="0b615-244">If the `timezone_hour` is positive, the `timezone_minute` must be positive or zero.</span></span> <span data-ttu-id="0b615-245">Si `timezone_hour` est égal à zéro, `timezone_minute` peut avoir une valeur comprise entre - 59 et + 59.</span><span class="sxs-lookup"><span data-stu-id="0b615-245">If the `timezone_hour` is zero, the s`timezone_minute` may have any value in the range -59 through +59.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0b615-246">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="0b615-246">See Also</span></span>  
 [<span data-ttu-id="0b615-247">Améliorations de la date et de l’heure &#40;ODBC&#41;</span><span class="sxs-lookup"><span data-stu-id="0b615-247">Date and Time Improvements &#40;ODBC&#41;</span></span>](date-and-time-improvements-odbc.md)  
  
  
