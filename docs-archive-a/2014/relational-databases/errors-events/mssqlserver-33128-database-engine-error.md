---
title: MSSQLSERVER_33128 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
helpviewer_keywords:
- 33128 (Database Engine error)
ms.assetid: 12c1096f-d120-439b-85f3-f794859503c9
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 158cc609a18cf3fe7b76708e351b78263cd80a9e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87604507"
---
# <a name="mssqlserver_33128"></a><span data-ttu-id="7cf95-102">MSSQLSERVER_33128</span><span class="sxs-lookup"><span data-stu-id="7cf95-102">MSSQLSERVER_33128</span></span>
    
## <a name="details"></a><span data-ttu-id="7cf95-103">Détails</span><span class="sxs-lookup"><span data-stu-id="7cf95-103">Details</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="7cf95-104">Nom du produit</span><span class="sxs-lookup"><span data-stu-id="7cf95-104">Product Name</span></span>|<span data-ttu-id="7cf95-105">SQL Server</span><span class="sxs-lookup"><span data-stu-id="7cf95-105">SQL Server</span></span>|  
|<span data-ttu-id="7cf95-106">ID de l’événement</span><span class="sxs-lookup"><span data-stu-id="7cf95-106">Event ID</span></span>|<span data-ttu-id="7cf95-107">33128</span><span class="sxs-lookup"><span data-stu-id="7cf95-107">33128</span></span>|  
|<span data-ttu-id="7cf95-108">Source de l’événement</span><span class="sxs-lookup"><span data-stu-id="7cf95-108">Event Source</span></span>|<span data-ttu-id="7cf95-109">MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="7cf95-109">MSSQLSERVER</span></span>|  
|<span data-ttu-id="7cf95-110">Composant</span><span class="sxs-lookup"><span data-stu-id="7cf95-110">Component</span></span>|<span data-ttu-id="7cf95-111">SQLEngine</span><span class="sxs-lookup"><span data-stu-id="7cf95-111">SQLEngine</span></span>|  
|<span data-ttu-id="7cf95-112">Nom symbolique</span><span class="sxs-lookup"><span data-stu-id="7cf95-112">Symbolic Name</span></span>|<span data-ttu-id="7cf95-113">SEC_DEPRECATED_ALGO</span><span class="sxs-lookup"><span data-stu-id="7cf95-113">SEC_DEPRECATED_ALGO</span></span>|  
|<span data-ttu-id="7cf95-114">Texte du message</span><span class="sxs-lookup"><span data-stu-id="7cf95-114">Message Text</span></span>|<span data-ttu-id="7cf95-115">Échec du chiffrement.</span><span class="sxs-lookup"><span data-stu-id="7cf95-115">Encryption failed.</span></span> <span data-ttu-id="7cf95-116">La clé utilise l'algorithme déconseillé « %.\*ls » qui n'est plus pris en charge.</span><span class="sxs-lookup"><span data-stu-id="7cf95-116">Key uses deprecated algorithm '%.\*ls' which is no longer supported.</span></span>|  
  
## <a name="explanation"></a><span data-ttu-id="7cf95-117">Explication</span><span class="sxs-lookup"><span data-stu-id="7cf95-117">Explanation</span></span>  
 <span data-ttu-id="7cf95-118">Ce message s'affiche pour faire référence à l'algorithme de chiffrement RC4 (ou RC4_128).</span><span class="sxs-lookup"><span data-stu-id="7cf95-118">This message occurs when referencing the RC4 (or RC4_128) encryption algorithm.</span></span> <span data-ttu-id="7cf95-119">Les algorithmes RC4 et RC4_128 sont des algorithmes de chiffrement faible et sont déconseillés.</span><span class="sxs-lookup"><span data-stu-id="7cf95-119">RC4 and RC4_128 are weak algorithms and are deprecated.</span></span> <span data-ttu-id="7cf95-120">Utilisez à la place un algorithme plus fort, tel qu'un des algorithmes AES.</span><span class="sxs-lookup"><span data-stu-id="7cf95-120">Use a stronger algorithm such as one of the AES algorithms instead.</span></span>  
  
 <span data-ttu-id="7cf95-121">Si le niveau de compatibilité de la base de données est 90 ou 100, l'opération réussit, l'événement de dépréciation est déclenché et le message s'affiche uniquement dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-121">When the database compatibility level is 90 or 100, the operation succeeds, the deprecation event is raised, and the message appears only in the ring buffer.</span></span>  
  
 <span data-ttu-id="7cf95-122">Si le niveau de compatibilité de la base de données est 110 ou supérieur, les opérations de déchiffrement réussissent, l'événement de dépréciation est déclenché et le message s'affiche uniquement dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-122">When the database compatibility level is 110 or higher, decryption operations succeed, the deprecation event is raised, and the message appears only in the ring buffer.</span></span> <span data-ttu-id="7cf95-123">Les opérations de chiffrement échouent, l'événement de dépréciation est déclenché, et le message est affiché pour l'utilisateur, et le message apparaît dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-123">Encryption operations will fail, the deprecation event is raised, and the message is displayed for the user, and the message appears in the ring buffer.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7cf95-124">La mémoire tampon en anneau est un composant interne qui n'est pas entièrement documenté et qui n'est pas conçu pour être utilisé par les clients.</span><span class="sxs-lookup"><span data-stu-id="7cf95-124">The ring buffer is an internal component which is not fully documented and is not intended to be used by customers.</span></span> <span data-ttu-id="7cf95-125">Les messages de la mémoire tampon en anneau sont utiles lorsque vous contactez le support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7cf95-125">Messages from the ring buffer are useful when contacting [!INCLUDE[msCoName](../../includes/msconame-md.md)] Customer Support.</span></span> <span data-ttu-id="7cf95-126">Pour afficher la mémoire tampon en anneau, interrogez la vue de gestion dynamique sys.dm_os_ring_buffers.</span><span class="sxs-lookup"><span data-stu-id="7cf95-126">To view the ring buffer, query the sys.dm_os_ring_buffers dynamic management view.</span></span>  
  
|<span data-ttu-id="7cf95-127">State</span><span class="sxs-lookup"><span data-stu-id="7cf95-127">State</span></span>|<span data-ttu-id="7cf95-128">Description</span><span class="sxs-lookup"><span data-stu-id="7cf95-128">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="7cf95-129">1</span><span class="sxs-lookup"><span data-stu-id="7cf95-129">1</span></span>|<span data-ttu-id="7cf95-130">Une clé RC4 est utilisée dans la fonction intégrée encryptbykey().</span><span class="sxs-lookup"><span data-stu-id="7cf95-130">A RC4 key is used in the built-in encryptbykey() function.</span></span> <span data-ttu-id="7cf95-131">La fonction intégrée retourne NULL.</span><span class="sxs-lookup"><span data-stu-id="7cf95-131">Built-in function returns NULL.</span></span> <span data-ttu-id="7cf95-132">Ce message apparaît uniquement dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-132">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="7cf95-133">2</span><span class="sxs-lookup"><span data-stu-id="7cf95-133">2</span></span>|<span data-ttu-id="7cf95-134">Une clé RC4 est utilisée par la fonction intégrée decryptbykey().</span><span class="sxs-lookup"><span data-stu-id="7cf95-134">A RC4 key is used in by the built-in decryptbykey() function.</span></span> <span data-ttu-id="7cf95-135">Ce message apparaît uniquement dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-135">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="7cf95-136">3</span><span class="sxs-lookup"><span data-stu-id="7cf95-136">3</span></span>|<span data-ttu-id="7cf95-137">Une clé RC4 déconseillée est chiffrée par une clé symétrique.</span><span class="sxs-lookup"><span data-stu-id="7cf95-137">A deprecated RC4 key is being encrypted by a symmetric key.</span></span> <span data-ttu-id="7cf95-138">Message visible pour les utilisateurs et dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-138">Seen by users and in the ring buffer.</span></span> <span data-ttu-id="7cf95-139">Impossible de modifier les clés symétriques RC4 déconseillées avec un niveau de compatibilité de 110.</span><span class="sxs-lookup"><span data-stu-id="7cf95-139">Deprecated RC4 symmetric keys cannot be altered in compatibility level 110.</span></span> <span data-ttu-id="7cf95-140">Essayez d'utiliser des clés non-RC4 pour les opérations de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="7cf95-140">Try to use non-RC4 keys for crypto operations.</span></span> <span data-ttu-id="7cf95-141">Si nécessaire, définissez le niveau de compatibilité descendante à 90 ou 100.</span><span class="sxs-lookup"><span data-stu-id="7cf95-141">If necessary, set backward compatibility level to a 90 or 100.</span></span>|  
|<span data-ttu-id="7cf95-142">4</span><span class="sxs-lookup"><span data-stu-id="7cf95-142">4</span></span>|<span data-ttu-id="7cf95-143">Une clé non-RC4 est chiffrée par une clé symétrique RC4 déconseillée.</span><span class="sxs-lookup"><span data-stu-id="7cf95-143">A non-RC4 key is being encrypted by a deprecated RC4 symmetric key.</span></span> <span data-ttu-id="7cf95-144">Message visible pour les utilisateurs et dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-144">Seen by users and in the ring buffer.</span></span> <span data-ttu-id="7cf95-145">Modifiez l'application de façon à utiliser des clés symétriques non-RC4 ou définissez le niveau de compatibilité descendante à 90 ou 100.</span><span class="sxs-lookup"><span data-stu-id="7cf95-145">Modify the application to use non-RC4 symmetric keys or set backward compatibility level to 90 or 100.</span></span>|  
|<span data-ttu-id="7cf95-146">5</span><span class="sxs-lookup"><span data-stu-id="7cf95-146">5</span></span>|<span data-ttu-id="7cf95-147">Une clé RC4 déconseillée est déchiffrée par une clé symétrique.</span><span class="sxs-lookup"><span data-stu-id="7cf95-147">A deprecated RC4 key is being decrypted by a symmetric key.</span></span> <span data-ttu-id="7cf95-148">Ce message apparaît uniquement dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-148">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="7cf95-149">6</span><span class="sxs-lookup"><span data-stu-id="7cf95-149">6</span></span>|<span data-ttu-id="7cf95-150">Une clé non-RC4 est déchiffrée par une clé symétrique RC4.</span><span class="sxs-lookup"><span data-stu-id="7cf95-150">A non-RC4 key is being decrypted by an RC4 symmetric key.</span></span> <span data-ttu-id="7cf95-151">Ce message apparaît uniquement dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-151">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="7cf95-152">7</span><span class="sxs-lookup"><span data-stu-id="7cf95-152">7</span></span>|<span data-ttu-id="7cf95-153">Une clé RC4 symétrique est chiffrée par le certificat.</span><span class="sxs-lookup"><span data-stu-id="7cf95-153">A RC4 symmetric key is being encrypted by the certificate.</span></span> <span data-ttu-id="7cf95-154">Message visible pour les utilisateurs et dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-154">Seen by users and in the ring buffer.</span></span>|  
|<span data-ttu-id="7cf95-155">8</span><span class="sxs-lookup"><span data-stu-id="7cf95-155">8</span></span>|<span data-ttu-id="7cf95-156">Une clé RC4 symétrique est déchiffrée par le certificat.</span><span class="sxs-lookup"><span data-stu-id="7cf95-156">A RC4 symmetric key is being decrypted by the certificate.</span></span> <span data-ttu-id="7cf95-157">Ce message apparaît uniquement dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-157">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="7cf95-158">9</span><span class="sxs-lookup"><span data-stu-id="7cf95-158">9</span></span>|<span data-ttu-id="7cf95-159">Une clé RC4 symétrique est chiffrée par une clé EKM.</span><span class="sxs-lookup"><span data-stu-id="7cf95-159">A RC4 symmetric key is being encrypted by the EKM key.</span></span>|  
|<span data-ttu-id="7cf95-160">10</span><span class="sxs-lookup"><span data-stu-id="7cf95-160">10</span></span>|<span data-ttu-id="7cf95-161">Une clé RC4 symétrique est déchiffrée par une clé EKM.</span><span class="sxs-lookup"><span data-stu-id="7cf95-161">A RC4 symmetric key is being decrypted by the EKM key.</span></span> <span data-ttu-id="7cf95-162">Ce message apparaît uniquement dans la mémoire tampon en anneau.</span><span class="sxs-lookup"><span data-stu-id="7cf95-162">This message only appears in the ring buffer.</span></span>|  
  
## <a name="user-action"></a><span data-ttu-id="7cf95-163">Action de l'utilisateur</span><span class="sxs-lookup"><span data-stu-id="7cf95-163">User Action</span></span>  
 <span data-ttu-id="7cf95-164">Utilisez à la place un algorithme plus fort, tel qu'un des algorithmes AES.</span><span class="sxs-lookup"><span data-stu-id="7cf95-164">Use a stronger algorithm such as one of the AES algorithms instead.</span></span> <span data-ttu-id="7cf95-165">(Recommandé)</span><span class="sxs-lookup"><span data-stu-id="7cf95-165">(Recommended)</span></span>  
  
 <span data-ttu-id="7cf95-166">Utilisez ALTER DATABASE SET COMPATIBILITY_LEVEL pour définir le niveau de compatibilité de la base de données à 100.</span><span class="sxs-lookup"><span data-stu-id="7cf95-166">Use ALTER DATABASE SET COMPATIBILITY_LEVEL to set the database to compatibility level 100.</span></span> <span data-ttu-id="7cf95-167">(Non recommandé.)</span><span class="sxs-lookup"><span data-stu-id="7cf95-167">(Not recommended.)</span></span>  
  
  
