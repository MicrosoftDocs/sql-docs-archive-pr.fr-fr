---
title: Compression de données | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- page compression [Database Engine]
- indexes [SQL Server], compressed
- compressed indexes [SQL Server]
- storage compression [Database Engine]
- tables [SQL Server], compressed
- storage [SQL Server], compressed
- compression [SQL Server]
- row compression [Database Engine]
- compression [SQL Server], about compressed tables and indexes
- data compression [Database Engine]
- compressed tables [SQL Server]
ms.assetid: 5f33e686-e115-4687-bd39-a00c48646513
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 48c4b11963d8e05ff7787ce9200329daf2e899ba
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87612963"
---
# <a name="data-compression"></a><span data-ttu-id="eaf56-102">Data Compression</span><span class="sxs-lookup"><span data-stu-id="eaf56-102">Data Compression</span></span>
  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="eaf56-103">prend en charge la compression de page et de ligne pour les tables et les index rowstore, et prend en charge la compression columnstore et d'archivage columnstore pour les tables et les index columnstore.</span><span class="sxs-lookup"><span data-stu-id="eaf56-103">supports row and page compression for rowstore tables and indexes, and supports columnstore and columnstore archival compression for columnstore tables and indexes.</span></span>  
  
 <span data-ttu-id="eaf56-104">Pour les tables et les index rowstore, utilisez la fonctionnalité de compression de données afin de réduire la taille de la base de données.</span><span class="sxs-lookup"><span data-stu-id="eaf56-104">For rowstore tables and indexes, use the data compression feature to help reduce the size of the database.</span></span> <span data-ttu-id="eaf56-105">Outre les économies d'espace, la compression des données peut améliorer les performances des charges de travail nécessitant de nombreuses E/S, car les données sont stockées dans beaucoup moins de pages et les requêtes doivent lire moins pages sur le disque.</span><span class="sxs-lookup"><span data-stu-id="eaf56-105">In addition to saving space, data compression can help improve performance of I/O intensive workloads because the data is stored in fewer pages and queries need to read fewer pages from disk.</span></span> <span data-ttu-id="eaf56-106">Toutefois, des ressources processeur supplémentaires sont nécessaires sur le serveur de base de données pour compresser et décompresser les données, alors que les données sont échangées avec l'application.</span><span class="sxs-lookup"><span data-stu-id="eaf56-106">However, extra CPU resources are required on the database server to compress and decompress the data, while data is exchanged with the application.</span></span> <span data-ttu-id="eaf56-107">La compression des lignes et des pages peut être configurée pour les objets de base de données suivants :</span><span class="sxs-lookup"><span data-stu-id="eaf56-107">You can configure row and page compression on the following database objects:</span></span>  
  
-   <span data-ttu-id="eaf56-108">Une table entière stockée en tant que segment de mémoire.</span><span class="sxs-lookup"><span data-stu-id="eaf56-108">A whole table that is stored as a heap.</span></span>  
  
-   <span data-ttu-id="eaf56-109">Une table entière stockée en tant qu'index cluster.</span><span class="sxs-lookup"><span data-stu-id="eaf56-109">A whole table that is stored as a clustered index.</span></span>  
  
-   <span data-ttu-id="eaf56-110">Un index non cluster entier.</span><span class="sxs-lookup"><span data-stu-id="eaf56-110">A whole nonclustered index.</span></span>  
  
-   <span data-ttu-id="eaf56-111">Une vue indexée entière.</span><span class="sxs-lookup"><span data-stu-id="eaf56-111">A whole indexed view.</span></span>  
  
-   <span data-ttu-id="eaf56-112">Pour les tables et les index partitionnés, l'option de compression peut être configurée pour chaque partition et les différentes partitions d'un objet n'ont pas le même paramètre de compression.</span><span class="sxs-lookup"><span data-stu-id="eaf56-112">For partitioned tables and indexes, you can configure the compression option for each partition, and the various partitions of an object do not have to have the same compression setting.</span></span>  
  
 <span data-ttu-id="eaf56-113">Pour les tables et les index columnstore, tous utilisent toujours la compression columnstore et celle-ci n'est pas configurable par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="eaf56-113">For columnstore tables and indexes, all columnstore tables and indexes always use columnstore compression and this is not user configurable.</span></span> <span data-ttu-id="eaf56-114">Utilisez la compression d'archivage columnstore pour limiter davantage la taille des données dans les cas où vous pouvez supporter du temps et des ressources processeur supplémentaires pour stocker et récupérer les données.</span><span class="sxs-lookup"><span data-stu-id="eaf56-114">Use columnstore archival compression to further reduce the data size for situations when you can afford extra time and CPU resources to store and retrieve the data.</span></span>  <span data-ttu-id="eaf56-115">La compression d'archivage columnstore peut être configurée pour les objets de base de données suivants :</span><span class="sxs-lookup"><span data-stu-id="eaf56-115">You can configure columnstore archival compression on the following database objects:</span></span>  
  
-   <span data-ttu-id="eaf56-116">Une table columnstore entière ou un index cluster columnstore entier.</span><span class="sxs-lookup"><span data-stu-id="eaf56-116">A whole columnstore table or a whole clustered columnstore index.</span></span>  <span data-ttu-id="eaf56-117">Étant donné qu'une table columnstore est stockée en tant qu'index cluster columnstore, les deux méthodes ont les mêmes résultats.</span><span class="sxs-lookup"><span data-stu-id="eaf56-117">Since a columnstore table is stored as a clustered columnstore index, both approaches have the same results.</span></span>  
  
-   <span data-ttu-id="eaf56-118">Un index columnstore non cluster entier.</span><span class="sxs-lookup"><span data-stu-id="eaf56-118">A whole nonclustered columnstore index.</span></span>  
  
-   <span data-ttu-id="eaf56-119">Pour les tables et les index columnstore partitionnés, l'option de compression d'archivage peut être configurée pour chaque partition et les différentes partitions d'un objet n'ont pas le même paramètre de compression d'archivage.</span><span class="sxs-lookup"><span data-stu-id="eaf56-119">For partitioned columnstore tables and columnstore indexes, you can configure the archival compression option for each partition, and the various partitions do not have to have the same archival compression setting.</span></span>  
  
## <a name="considerations-for-when-you-use-row-and-page-compression"></a><span data-ttu-id="eaf56-120">Considérations liées à l'utilisation de compression de page et de ligne</span><span class="sxs-lookup"><span data-stu-id="eaf56-120">Considerations for When You Use Row and Page Compression</span></span>  
 <span data-ttu-id="eaf56-121">En cas d'utilisation de la compression de page et de ligne, assurez-vous de prendre en compte les considérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="eaf56-121">When you use row and page compression, be aware the following considerations:</span></span>  
  
-   <span data-ttu-id="eaf56-122">Les détails de la compression des données sont susceptibles de changer sans information préalable dans les Service Packs ou les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="eaf56-122">The details of data compression are subject to change without notice in service packs or subsequent releases.</span></span>  
  
-   <span data-ttu-id="eaf56-123">La compression est disponible dans chaque édition de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eaf56-123">Compression is not available in every edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="eaf56-124">Pour plus d’informations, consultez [fonctionnalités prises en charge par les éditions de SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="eaf56-124">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
-   <span data-ttu-id="eaf56-125">La compression n'est pas disponible pour les tables système.</span><span class="sxs-lookup"><span data-stu-id="eaf56-125">Compression is not available for system tables.</span></span>  
  
-   <span data-ttu-id="eaf56-126">La compression permet de stocker davantage de lignes dans une page, mais elle ne modifie pas la taille maximale des lignes d'une table ou d'un index.</span><span class="sxs-lookup"><span data-stu-id="eaf56-126">Compression can allow more rows to be stored on a page, but does not change the maximum row size of a table or index.</span></span>  
  
-   <span data-ttu-id="eaf56-127">Une table ne peut pas être activée pour la compression lorsque la taille de ligne maximale plus la charge mémoire de compression dépasse la taille de ligne maximale de 8 060 octets.</span><span class="sxs-lookup"><span data-stu-id="eaf56-127">A table cannot be enabled for compression when the maximum row size plus the compression overhead exceeds the maximum row size of 8060 bytes.</span></span> <span data-ttu-id="eaf56-128">Par exemple, une table qui contient les colonnes C1 `char(8000)` et C2 `char(53)` ne peut pas être compressée en raison de la surcharge de compression supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="eaf56-128">For example, a table that has the columns c1`char(8000)` and c2`char(53)` cannot be compressed because of the additional compression overhead.</span></span> <span data-ttu-id="eaf56-129">Lorsque le format de stockage VarDecimal est utilisé, le contrôle de taille de ligne est effectué lorsque le format est activé.</span><span class="sxs-lookup"><span data-stu-id="eaf56-129">When the vardecimal storage format is used, the row-size check is performed when the format is enabled.</span></span> <span data-ttu-id="eaf56-130">Pour la compression de ligne et de page, le contrôle de taille de ligne est effectué lorsque l'objet est compressé initialement, puis vérifié à mesure que chaque ligne est insérée ou modifiée.</span><span class="sxs-lookup"><span data-stu-id="eaf56-130">For row and page compression, the row-size check is performed when the object is initially compressed, and then checked as each row is inserted or modified.</span></span> <span data-ttu-id="eaf56-131">La compression met en vigueur les deux règles suivantes :</span><span class="sxs-lookup"><span data-stu-id="eaf56-131">Compression enforces the following two rules:</span></span>  
  
    -   <span data-ttu-id="eaf56-132">Une mise à jour d'un type de longueur fixe doit toujours réussir.</span><span class="sxs-lookup"><span data-stu-id="eaf56-132">An update to a fixed-length type must always succeed.</span></span>  
  
    -   <span data-ttu-id="eaf56-133">La désactivation de la compression de données doit toujours réussir.</span><span class="sxs-lookup"><span data-stu-id="eaf56-133">Disabling data compression must always succeed.</span></span> <span data-ttu-id="eaf56-134">Même si la ligne compressée est adaptée à la taille de la page, ce qui signifie qu'elle est inférieure à 8 060 octets, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] empêche les mises à jour qui ne seraient pas adaptées à la taille de la ligne lorsqu'elle est décompressée.</span><span class="sxs-lookup"><span data-stu-id="eaf56-134">Even if the compressed row fits on the page, which means that it is less than 8060 bytes; [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] prevents updates that would not fit on the row when it is uncompressed.</span></span>  
  
-   <span data-ttu-id="eaf56-135">Lorsqu'une liste de partitions est spécifiée, le type de compression peut être défini sur ROW, PAGE ou NONE sur chacune des partitions.</span><span class="sxs-lookup"><span data-stu-id="eaf56-135">When a list of partitions is specified, the compression type can be set to ROW, PAGE, or NONE on individual partitions.</span></span> <span data-ttu-id="eaf56-136">Si la liste de partitions n'est pas spécifiée, toutes les partitions sont définies avec la propriété de compression de données spécifiée dans l'instruction.</span><span class="sxs-lookup"><span data-stu-id="eaf56-136">If the list of partitions is not specified, all partitions are set with the data compression property that is specified in the statement.</span></span> <span data-ttu-id="eaf56-137">Lorsqu'une table ou un index est créé, la compression de données est définie sur NONE, sauf indication contraire.</span><span class="sxs-lookup"><span data-stu-id="eaf56-137">When a table or index is created, data compression is set to NONE unless otherwise specified.</span></span> <span data-ttu-id="eaf56-138">Lorsqu'une table est modifiée, la compression existante est conservée, sauf indication contraire.</span><span class="sxs-lookup"><span data-stu-id="eaf56-138">When a table is modified, the existing compression is preserved unless otherwise specified.</span></span>  
  
-   <span data-ttu-id="eaf56-139">Si vous spécifiez une liste de partitions ou une partition hors limites, une erreur est générée.</span><span class="sxs-lookup"><span data-stu-id="eaf56-139">If you specify a list of partitions or a partition that is out of range, an error will be generated.</span></span>  
  
-   <span data-ttu-id="eaf56-140">Les index non cluster n'héritent pas de la propriété de compression de la table.</span><span class="sxs-lookup"><span data-stu-id="eaf56-140">Nonclustered indexes do not inherit the compression property of the table.</span></span> <span data-ttu-id="eaf56-141">Pour compresser des index, vous devez définir explicitement la propriété de compression des index.</span><span class="sxs-lookup"><span data-stu-id="eaf56-141">To compress indexes, you must explicitly set the compression property of the indexes.</span></span> <span data-ttu-id="eaf56-142">Par défaut, le paramètre de compression des index est défini sur NONE lorsque l'index est créé.</span><span class="sxs-lookup"><span data-stu-id="eaf56-142">By default, the compression setting for indexes will set to NONE when the index is created.</span></span>  
  
-   <span data-ttu-id="eaf56-143">Lorsqu'un index cluster est créé sur un segment de mémoire, l'index cluster hérite de l'état de compression du segment, à moins qu'un autre état de compression soit spécifié.</span><span class="sxs-lookup"><span data-stu-id="eaf56-143">When a clustered index is created on a heap, the clustered index inherits the compression state of the heap unless an alternative compression state is specified.</span></span>  
  
-   <span data-ttu-id="eaf56-144">Lorsqu'un segment de mémoire est configuré pour la compression de niveau page, les pages reçoivent la compression de niveau page uniquement des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="eaf56-144">When a heap is configured for page-level compression, pages receive page-level compression only in the following ways:</span></span>  
  
    -   <span data-ttu-id="eaf56-145">Les données pour lesquelles l'optimisation en bloc est activée sont importées.</span><span class="sxs-lookup"><span data-stu-id="eaf56-145">Data is bulk imported with bulk optimizations enabled.</span></span>  
  
    -   <span data-ttu-id="eaf56-146">Les données sont insérées via la syntaxe INSERT INTO... Syntaxe WITH (TABLOCK) et la table n'a pas d'index non-cluster.</span><span class="sxs-lookup"><span data-stu-id="eaf56-146">Data is inserted using INSERT INTO ... WITH (TABLOCK) syntax and the table does not have a nonclustered index.</span></span>  
  
    -   <span data-ttu-id="eaf56-147">Une table est reconstruite en exécutant l'instruction ALTER TABLE... REBUILD avec l'option de compression PAGE.</span><span class="sxs-lookup"><span data-stu-id="eaf56-147">A table is rebuilt by executing the ALTER TABLE ... REBUILD statement with the PAGE compression option.</span></span>  
  
-   <span data-ttu-id="eaf56-148">Les changements de page alloués dans un segment de mémoire dans le cadre des opérations DML n'utiliseront pas la compression PAGE tant que le segment de mémoire n'est pas reconstruit.</span><span class="sxs-lookup"><span data-stu-id="eaf56-148">New pages allocated in a heap as part of DML operations will not use PAGE compression until the heap is rebuilt.</span></span> <span data-ttu-id="eaf56-149">Reconstruisez le segment de mémoire en supprimant puis en réappliquant la compression, ou en créant et en supprimant un index cluster.</span><span class="sxs-lookup"><span data-stu-id="eaf56-149">Rebuild the heap by removing and reapplying compression, or by creating and removing a clustered index.</span></span>  
  
-   <span data-ttu-id="eaf56-150">La modification du paramètre de compression d'un segment de mémoire nécessite la reconstruction de tous les index non cluster sur la table afin qu'ils aient des pointeurs vers les nouveaux emplacements de ligne dans le segment de mémoire.</span><span class="sxs-lookup"><span data-stu-id="eaf56-150">Changing the compression setting of a heap requires all nonclustered indexes on the table to be rebuilt so that they have pointers to the new row locations in the heap.</span></span>  
  
-   <span data-ttu-id="eaf56-151">Vous pouvez activer ou désactiver la compression ROW ou PAGE en ligne ou hors connexion.</span><span class="sxs-lookup"><span data-stu-id="eaf56-151">You can enable or disable ROW or PAGE compression online or offline.</span></span> <span data-ttu-id="eaf56-152">L'activation de la compression sur un segment de mémoire est mono-thread pour une opération en ligne.</span><span class="sxs-lookup"><span data-stu-id="eaf56-152">Enabling compression on a heap is single threaded for an online operation.</span></span>  
  
-   <span data-ttu-id="eaf56-153">L'espace disque nécessaire pour activer ou désactiver la compression de ligne ou de page est le même que pour créer ou reconstruire un index.</span><span class="sxs-lookup"><span data-stu-id="eaf56-153">The disk space requirements for enabling or disabling row or page compression are the same as for creating or rebuilding an index.</span></span> <span data-ttu-id="eaf56-154">Pour les données partitionnées, vous pouvez réduire l'espace requis en activant ou désactivant la compression pour une partition à la fois.</span><span class="sxs-lookup"><span data-stu-id="eaf56-154">For partitioned data, you can reduce the space that is required by enabling or disabling compression for one partition at a time.</span></span>  
  
-   <span data-ttu-id="eaf56-155">Pour déterminer l'état de compression des partitions dans une table partitionnée, interrogez la colonne data_compression de l'affichage catalogue sys.partitions.</span><span class="sxs-lookup"><span data-stu-id="eaf56-155">To determine the compression state of partitions in a partitioned table, query the data_compression column of the sys.partitions catalog view.</span></span>  
  
-   <span data-ttu-id="eaf56-156">Lorsque vous compressez des index, les pages de niveau feuille peuvent être compressées avec la compression de ligne et de page.</span><span class="sxs-lookup"><span data-stu-id="eaf56-156">When you are compressing indexes, leaf-level pages can be compressed with both row and page compression.</span></span> <span data-ttu-id="eaf56-157">Les pages de niveau non feuille ne reçoivent pas de compression de page.</span><span class="sxs-lookup"><span data-stu-id="eaf56-157">Non-leaf-level pages do not receive page compression.</span></span>  
  
-   <span data-ttu-id="eaf56-158">À cause de leur taille, les types de données de grande valeur sont quelquefois stockés séparément des données de ligne normales sur des pages à fonction spéciale.</span><span class="sxs-lookup"><span data-stu-id="eaf56-158">Because of their size, large-value data types are sometimes stored separately from the normal row data on special purpose pages.</span></span> <span data-ttu-id="eaf56-159">La compression des données n'est pas disponible pour les données stockées séparément.</span><span class="sxs-lookup"><span data-stu-id="eaf56-159">Data compression is not available for the data that is stored separately.</span></span>  
  
-   <span data-ttu-id="eaf56-160">Les tables qui implémentait le format de stockage VarDecimal dans [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] conservent ce paramètre en cas de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="eaf56-160">Tables which implemented the vardecimal storage format in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] will retain that setting when upgraded.</span></span> <span data-ttu-id="eaf56-161">Vous pouvez appliquer la compression de ligne à une table qui a le format de stockage VarDecimal.</span><span class="sxs-lookup"><span data-stu-id="eaf56-161">You can apply row compression to a table that has the vardecimal storage format.</span></span> <span data-ttu-id="eaf56-162">Toutefois, la compression de ligne étant un sur-ensemble du format de stockage VarDecimal, il n'y a aucune raison de conserver le format de stockage VarDecimal.</span><span class="sxs-lookup"><span data-stu-id="eaf56-162">However, because row compression is a superset of the vardecimal storage format, there is no reason to retain the vardecimal storage format.</span></span> <span data-ttu-id="eaf56-163">Les valeurs décimales ne bénéficient d'aucune compression supplémentaire lorsque vous combinez le format de stockage VarDecimal avec la compression de ligne.</span><span class="sxs-lookup"><span data-stu-id="eaf56-163">Decimal values gain no additional compression when you combine the vardecimal storage format with row compression.</span></span> <span data-ttu-id="eaf56-164">Vous pouvez appliquer la compression de page à une table qui a le format de stockage VarDecimal ; toutefois, les colonnes au format de stockage VarDecimal ne bénéficieront probablement pas d'une compression supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="eaf56-164">You can apply page compression to a table that has the vardecimal storage format; however, the vardecimal storage format columns probably will not achieve additional compression.</span></span>  
  
    > [!NOTE]  
    >  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="eaf56-165">prend en charge le format de stockage VarDecimal ; toutefois, la compression au niveau ligne accomplissant les mêmes objectifs, le format de stockage VarDecimal est déconseillé.</span><span class="sxs-lookup"><span data-stu-id="eaf56-165">supports the vardecimal storage format; however, because row-level compression achieves the same goals, the vardecimal storage format is deprecated.</span></span> [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)]  
  
## <a name="using-columnstore-and-columnstore-archive-compression"></a><span data-ttu-id="eaf56-166">À l'aide de la compression Columnstore et de la compression d'archivage Columnstore</span><span class="sxs-lookup"><span data-stu-id="eaf56-166">Using Columnstore and Columnstore Archive Compression</span></span>  
  
||  
|-|  
|<span data-ttu-id="eaf56-167">**S'applique à**: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] via la [version actuelle](https://go.microsoft.com/fwlink/p/?LinkId=299658)).</span><span class="sxs-lookup"><span data-stu-id="eaf56-167">**Applies to**: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] through [current version](https://go.microsoft.com/fwlink/p/?LinkId=299658)).</span></span>|  
  
### <a name="basics"></a><span data-ttu-id="eaf56-168">Concepts de base</span><span class="sxs-lookup"><span data-stu-id="eaf56-168">Basics</span></span>  
 <span data-ttu-id="eaf56-169">Les tables et les index columnstore sont toujours enregistrés avec la compression columnstore.</span><span class="sxs-lookup"><span data-stu-id="eaf56-169">Columnstore tables and indexes are always stored with columnstore compression.</span></span> <span data-ttu-id="eaf56-170">Limitez encore davantage la taille des données columnstore en configurant une compression supplémentaire appelée compression d'archivage.</span><span class="sxs-lookup"><span data-stu-id="eaf56-170">You can further reduce the size of columnstore data by configuring an additional compression called archival compression.</span></span>  <span data-ttu-id="eaf56-171">Pour exécuter la compression d'archivage, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] exécute l'algorithme de compression Microsoft XPRESS sur les données.</span><span class="sxs-lookup"><span data-stu-id="eaf56-171">To perform archival compression, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] runs the Microsoft XPRESS compression algorithm on the data.</span></span> <span data-ttu-id="eaf56-172">Ajoutez ou supprimez la compression d'archivage en utilisant les types de compression de données suivants :</span><span class="sxs-lookup"><span data-stu-id="eaf56-172">Add or remove archival compression by using the following data compression types:</span></span>  
  
-   <span data-ttu-id="eaf56-173">Utilisez la compression des données `COLUMNSTORE_ARCHIVE` pour compresser les données columnstore au moyen de la compression d'archivage.</span><span class="sxs-lookup"><span data-stu-id="eaf56-173">Use `COLUMNSTORE_ARCHIVE` data compression to compress columnstore data with archival compression.</span></span>  
  
-   <span data-ttu-id="eaf56-174">Utilisez la compression des données **COLUMNSTORE** pour décompresser la compression d'archivage.</span><span class="sxs-lookup"><span data-stu-id="eaf56-174">Use **COLUMNSTORE** data compression to decompress archival compression.</span></span> <span data-ttu-id="eaf56-175">Les données résultantes continuent à être compressées au moyen de la compression columnstore.</span><span class="sxs-lookup"><span data-stu-id="eaf56-175">This resulting data will continue to be compressed with columnstore compression.</span></span>  
  
 <span data-ttu-id="eaf56-176">Pour ajouter la compression d’archivage, utilisez [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) ou [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) avec l’option REBUILD et DATA COMPRESSION = COLUMNSTORE.</span><span class="sxs-lookup"><span data-stu-id="eaf56-176">To add archival compression, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) or [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) with the REBUILD option and DATA COMPRESSION = COLUMNSTORE.</span></span>  
  
 <span data-ttu-id="eaf56-177">Exemples :</span><span class="sxs-lookup"><span data-stu-id="eaf56-177">Examples:</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE ON PARTITIONS (2,4)) ;  
  
```  
  
 <span data-ttu-id="eaf56-178">Pour supprimer la compression d’archivage et restaurer les données sur la compression columnstoue, utilisez [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) ou [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) avec l’option REBUILD et DATA COMPRESSION = COLUMNSTORE.</span><span class="sxs-lookup"><span data-stu-id="eaf56-178">To remove archival compression and restore the data to columnstore compression, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) or [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) with the REBUILD option and DATA COMPRESSION = COLUMNSTORE.</span></span>  
  
 <span data-ttu-id="eaf56-179">Exemples :</span><span class="sxs-lookup"><span data-stu-id="eaf56-179">Examples:</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  COLUMNSTORE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE ON PARTITIONS (2,4) ) ;  
  
```  
  
 <span data-ttu-id="eaf56-180">L'exemple suivant définit la compression des données à columnstore sur certaines partitions, et à archivage columnstore sur d'autres.</span><span class="sxs-lookup"><span data-stu-id="eaf56-180">This next example sets the data compression to columnstore on some partitions, and to columnstore archival on other partitions.</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (  
    DATA_COMPRESSION =  COLUMNSTORE ON PARTITIONS (4,5),  
    DATA COMPRESSION = COLUMNSTORE_ARCHIVE ON PARTITIONS (1,2,3)  
) ;  
```  
  
### <a name="performance"></a><span data-ttu-id="eaf56-181">Performances</span><span class="sxs-lookup"><span data-stu-id="eaf56-181">Performance</span></span>  
 <span data-ttu-id="eaf56-182">La compression des index columnstore avec compression d'archivage affecte les performances des index par rapport aux index columnstore sans compression d'archivage.</span><span class="sxs-lookup"><span data-stu-id="eaf56-182">Compressing columnstore indexes with archival compression will cause the index to perform slower than columnstore indexes that do not have the archival compression.</span></span>  <span data-ttu-id="eaf56-183">Utilisez la compression d'archivage uniquement lorsque vous pouvez vous permettre d'utiliser du temps et les ressources supplémentaires pour compresser et récupérer les données.</span><span class="sxs-lookup"><span data-stu-id="eaf56-183">Use archival compression only when you can afford to use extra time and CPU resources to compress and retrieve the data.</span></span>  
  
 <span data-ttu-id="eaf56-184">La baisse des performances offre l'avantage d'un stockage réduit, ce qui est utile pour les données auxquelles vous n'accédez pas fréquemment.</span><span class="sxs-lookup"><span data-stu-id="eaf56-184">The benefit of slower performance is reduced storage which is useful for data that is not frequently accessed.</span></span> <span data-ttu-id="eaf56-185">Par exemple, si vous disposez d'une partition pour chaque mois de données, et la majeure partie de votre activité est réalisée au cours des mois les plus récents, vous pouvez archiver les mois antérieurs afin de réduire les besoins de stockage.</span><span class="sxs-lookup"><span data-stu-id="eaf56-185">For example, if you have a partition for each month of data, and most of your activity is for the most recent months, you could archive older months to reduce the storage requirements.</span></span>  
  
### <a name="metadata"></a><span data-ttu-id="eaf56-186">Métadonnées</span><span class="sxs-lookup"><span data-stu-id="eaf56-186">Metadata</span></span>  
 <span data-ttu-id="eaf56-187">Les vues système suivantes contiennent des informations sur la compression de données pour les index cluster :</span><span class="sxs-lookup"><span data-stu-id="eaf56-187">The following system views contain information about data compression for clustered indexes:</span></span>  
  
-   <span data-ttu-id="eaf56-188">[sys. indexes &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql) -les `type` `type_desc` colonnes et incluent les COLUMNSTORE en cluster et les COLUMNSTORE non cluster.</span><span class="sxs-lookup"><span data-stu-id="eaf56-188">[sys.indexes &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql) - The `type` and `type_desc` columns include CLUSTERED COLUMNSTORE and NONCLUSTERED COLUMNSTORE.</span></span>  
  
-   <span data-ttu-id="eaf56-189">[sys. partitions &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-partitions-transact-sql) -les `data_compression` colonnes et `data_compression_desc` incluent COLUMNSTORE et COLUMNSTORE_ARCHIVE.</span><span class="sxs-lookup"><span data-stu-id="eaf56-189">[sys.partitions &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-partitions-transact-sql) - The `data_compression` and `data_compression_desc` columns include COLUMNSTORE and COLUMNSTORE_ARCHIVE.</span></span>  
  
 <span data-ttu-id="eaf56-190">La procédure [sp_estimate_data_compression_savings &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-estimate-data-compression-savings-transact-sql) ne s’applique pas aux index columnstore.</span><span class="sxs-lookup"><span data-stu-id="eaf56-190">The procedure [sp_estimate_data_compression_savings &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-estimate-data-compression-savings-transact-sql) does not apply to columnstore indexes.</span></span>  
  
## <a name="how-compression-affects-partitioned-tables-and-indexes"></a><span data-ttu-id="eaf56-191">Impact de la compression sur les tables et les index partitionnés</span><span class="sxs-lookup"><span data-stu-id="eaf56-191">How Compression Affects Partitioned Tables and Indexes</span></span>  
 <span data-ttu-id="eaf56-192">Lorsque vous utilisez la compression des données avec des tables et des index partitionnés, assurez-vous de prendre en compte les considérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="eaf56-192">When you use data compression with partitioned tables and indexes, be aware of the following considerations:</span></span>  
  
-   <span data-ttu-id="eaf56-193">Lorsque des partitions sont fractionnées à l'aide de l'instruction ALTER PARTITION, les deux partitions héritent de l'attribut de compression des données de la partition d'origine.</span><span class="sxs-lookup"><span data-stu-id="eaf56-193">When partitions are split by using the ALTER PARTITION statement, both partitions inherit the data compression attribute of the original partition.</span></span>  
  
-   <span data-ttu-id="eaf56-194">Lorsque deux partitions sont fusionnées, la partition résultante hérite de l'attribut de compression des données de la partition de destination.</span><span class="sxs-lookup"><span data-stu-id="eaf56-194">When two partitions are merged, the resultant partition inherits the data compression attribute of the destination partition.</span></span>  
  
-   <span data-ttu-id="eaf56-195">Pour changer une partition, la propriété de compression des données de la partition doit correspondre à la propriété de compression de la table.</span><span class="sxs-lookup"><span data-stu-id="eaf56-195">To switch a partition, the data compression property of the partition must match the compression property of the table.</span></span>  
  
-   <span data-ttu-id="eaf56-196">Il existe deux variantes de syntaxe que vous pouvez utiliser pour modifier la compression d'une table ou d'un index partitionné :</span><span class="sxs-lookup"><span data-stu-id="eaf56-196">There are two syntax variations that you can use to modify the compression of a partitioned table or index:</span></span>  
  
    -   <span data-ttu-id="eaf56-197">La syntaxe suivante reconstruit uniquement la partition référencée :</span><span class="sxs-lookup"><span data-stu-id="eaf56-197">The following syntax rebuilds only the referenced partition:</span></span>  
  
        ```  
        ALTER TABLE <table_name>   
        REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  <option>)  
        ```  
  
    -   <span data-ttu-id="eaf56-198">La syntaxe suivante reconstruit la table entière en utilisant le paramètre de compression existant pour toute partition qui n'est pas référencée :</span><span class="sxs-lookup"><span data-stu-id="eaf56-198">The following syntax rebuilds the whole table by using the existing compression setting for any partitions that are not referenced:</span></span>  
  
        ```  
        ALTER TABLE <table_name>   
        REBUILD PARTITION = ALL   
        WITH (DATA_COMPRESSION = PAGE ON PARTITIONS(<range>),  
        ... )  
        ```  
  
     <span data-ttu-id="eaf56-199">Les index partitionnés suivent le même principe à l'aide de l'instruction ALTER INDEX.</span><span class="sxs-lookup"><span data-stu-id="eaf56-199">Partitioned indexes follow the same principle using ALTER INDEX.</span></span>  
  
-   <span data-ttu-id="eaf56-200">Lorsqu'un index cluster est supprimé, les partitions des segments de mémoire correspondants conservent leur paramètre de compression des données, à moins que le schéma de partitionnement soit modifié.</span><span class="sxs-lookup"><span data-stu-id="eaf56-200">When a clustered index is dropped, the corresponding heap partitions retain their data compression setting unless the partitioning scheme is modified.</span></span> <span data-ttu-id="eaf56-201">Si le schéma de partitionnement est modifié, toutes les partitions sont reconstruites dans un état non compressé.</span><span class="sxs-lookup"><span data-stu-id="eaf56-201">If the partitioning scheme is changed, all partitions are rebuilt to an uncompressed state.</span></span> <span data-ttu-id="eaf56-202">Pour supprimer un index cluster et modifier le schéma de partitionnement, vous devez effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="eaf56-202">To drop a clustered index and change the partitioning scheme requires the following steps:</span></span>  
  
     1. <span data-ttu-id="eaf56-203">supprimer l'index cluster ;</span><span class="sxs-lookup"><span data-stu-id="eaf56-203">Drop the clustered index.</span></span>  
  
     2. <span data-ttu-id="eaf56-204">modifier la table en utilisant l'option ALTER TABLE ... REBUILD ... qui spécifie l'option de compression.</span><span class="sxs-lookup"><span data-stu-id="eaf56-204">Modify the table by using the ALTER TABLE ... REBUILD ... option that specifies the compression option.</span></span>  
  
     <span data-ttu-id="eaf56-205">La suppression d'un index cluster HORS CONNEXION est une opération très rapide, car seuls les niveaux supérieurs des index clusters sont supprimés.</span><span class="sxs-lookup"><span data-stu-id="eaf56-205">To drop a clustered index OFFLINE is a very fast operation, because only the upper levels of clustered indexes are removed.</span></span> <span data-ttu-id="eaf56-206">Lorsqu'un index cluster est supprimé EN LIGNE, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] doit reconstruire le segment de mémoire deux fois, une fois pour l'étape 1 et une fois pour l'étape 2.</span><span class="sxs-lookup"><span data-stu-id="eaf56-206">When a clustered index is dropped ONLINE, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must rebuild the heap two times, once for step 1 and once for step 2.</span></span>  
  
## <a name="how-compression-affects-replication"></a><span data-ttu-id="eaf56-207">Impact de la compression sur la réplication</span><span class="sxs-lookup"><span data-stu-id="eaf56-207">How Compression Affects Replication</span></span>  
 <span data-ttu-id="eaf56-208">Lorsque vous utilisez la compression des données avec la réplication, assurez-vous de prendre en compte les considérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="eaf56-208">When you are using data compression with replication, be aware of the following considerations:</span></span>  
  
-   <span data-ttu-id="eaf56-209">Lorsque l'Agent d'instantané génère le script de schéma initial, le nouveau schéma utilise les mêmes paramètres de compression pour la table et ses index.</span><span class="sxs-lookup"><span data-stu-id="eaf56-209">When the Snapshot Agent generates the initial schema script, the new schema will use the same compression settings for both the table and its indexes.</span></span> <span data-ttu-id="eaf56-210">La compression ne peut être activée simplement sur la table et pas sur l'index.</span><span class="sxs-lookup"><span data-stu-id="eaf56-210">Compression cannot be enabled on just the table and not the index.</span></span>  
  
-   <span data-ttu-id="eaf56-211">Pour la réplication transactionnelle, l'option de schéma d'article détermine les objets et propriétés dépendants qui doivent être écrits.</span><span class="sxs-lookup"><span data-stu-id="eaf56-211">For transactional replication the article schema option determines what dependent objects and properties have to be scripted.</span></span> <span data-ttu-id="eaf56-212">Pour plus d’informations, consultez [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eaf56-212">For more information, see [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span></span>  
  
     <span data-ttu-id="eaf56-213">L'Agent de distribution ne vérifie pas les Abonnés de bas niveau lorsqu'il applique des scripts.</span><span class="sxs-lookup"><span data-stu-id="eaf56-213">The Distribution Agent does not check for down-level Subscribers when it applies scripts.</span></span> <span data-ttu-id="eaf56-214">Si la réplication de compression est sélectionnée, la création de la table sur des Abonnés de bas niveau échoue.</span><span class="sxs-lookup"><span data-stu-id="eaf56-214">If the replication of compression is selected, creating the table on down-level Subscribers will fail.</span></span> <span data-ttu-id="eaf56-215">Dans le cas d'une topologie mixte, n'activez pas la réplication de compression.</span><span class="sxs-lookup"><span data-stu-id="eaf56-215">In the case of a mixed topology, do not enable the replication of compression.</span></span>  
  
-   <span data-ttu-id="eaf56-216">Pour la réplication de fusion, le niveau de compatibilité de la publication remplace les options de schéma et détermine les objets de schéma qui seront écrits.</span><span class="sxs-lookup"><span data-stu-id="eaf56-216">For merge replication, publication compatibility level overrides the schema options and determines the schema objects that will be scripted.</span></span>  
  
     <span data-ttu-id="eaf56-217">Dans le cas d'une topologie mixte, s'il n'est pas obligatoire de prendre en charge les nouvelles options de compression, le niveau de compatibilité de la publication doit être défini sur la version de l'Abonné de bas niveau.</span><span class="sxs-lookup"><span data-stu-id="eaf56-217">In the case of a mixed topology, if it is not required to support the new compression options, the publication compatibility level should be set to the down-level Subscriber version.</span></span> <span data-ttu-id="eaf56-218">Si la prise en charge est requise, compressez les tables sur l'Abonné après qu'elles ont été créées.</span><span class="sxs-lookup"><span data-stu-id="eaf56-218">If it is required, compress tables on the Subscriber after they have been created.</span></span>  
  
 <span data-ttu-id="eaf56-219">Le tableau suivant illustre les paramètres de réplication qui contrôlent la compression pendant la réplication.</span><span class="sxs-lookup"><span data-stu-id="eaf56-219">The following table shows replication settings that control compression during replication.</span></span>  
  
|<span data-ttu-id="eaf56-220">Intention de l'utilisateur</span><span class="sxs-lookup"><span data-stu-id="eaf56-220">User intent</span></span>|<span data-ttu-id="eaf56-221">Répliquer le schéma de partition pour une table ou un index</span><span class="sxs-lookup"><span data-stu-id="eaf56-221">Replicate partition scheme for a table or index</span></span>|<span data-ttu-id="eaf56-222">Répliquer les paramètres de compression</span><span class="sxs-lookup"><span data-stu-id="eaf56-222">Replicate compression settings</span></span>|<span data-ttu-id="eaf56-223">Comportement de script</span><span class="sxs-lookup"><span data-stu-id="eaf56-223">Scripting behavior</span></span>|  
|-----------------|-----------------------------------------------------|------------------------------------|------------------------|  
|<span data-ttu-id="eaf56-224">Répliquer le schéma de partition et activer la compression sur l'Abonné sur la partition.</span><span class="sxs-lookup"><span data-stu-id="eaf56-224">To replicate the partition scheme and enable compression on the Subscriber on the partition.</span></span>|<span data-ttu-id="eaf56-225">True</span><span class="sxs-lookup"><span data-stu-id="eaf56-225">True</span></span>|<span data-ttu-id="eaf56-226">True</span><span class="sxs-lookup"><span data-stu-id="eaf56-226">True</span></span>|<span data-ttu-id="eaf56-227">Inclut dans le script le schéma de partition et les paramètres de compression.</span><span class="sxs-lookup"><span data-stu-id="eaf56-227">Scripts both the partition scheme and the compression settings.</span></span>|  
|<span data-ttu-id="eaf56-228">Répliquer le schéma de partition mais ne pas compresser les données sur l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="eaf56-228">To replicate the partition scheme but not compress the data on the Subscriber.</span></span>|<span data-ttu-id="eaf56-229">Vrai</span><span class="sxs-lookup"><span data-stu-id="eaf56-229">True</span></span>|<span data-ttu-id="eaf56-230">Faux</span><span class="sxs-lookup"><span data-stu-id="eaf56-230">False</span></span>|<span data-ttu-id="eaf56-231">Exclut le schéma de partition du script, mais pas les paramètres de compression pour la partition.</span><span class="sxs-lookup"><span data-stu-id="eaf56-231">Scripts out the partition scheme but not the compression settings for the partition.</span></span>|  
|<span data-ttu-id="eaf56-232">Ne pas répliquer le schéma de partition et ne pas compresser les données sur l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="eaf56-232">To not replicate the partition scheme and not compress the data on the Subscriber.</span></span>|<span data-ttu-id="eaf56-233">False</span><span class="sxs-lookup"><span data-stu-id="eaf56-233">False</span></span>|<span data-ttu-id="eaf56-234">False</span><span class="sxs-lookup"><span data-stu-id="eaf56-234">False</span></span>|<span data-ttu-id="eaf56-235">Exclut du script la partition et les paramètres de compression.</span><span class="sxs-lookup"><span data-stu-id="eaf56-235">Does not script partition or compression settings.</span></span>|  
|<span data-ttu-id="eaf56-236">Compresser la table sur l'Abonné si toutes les partitions sont compressées sur le serveur de publication, mais ne pas répliquer le schéma de partition.</span><span class="sxs-lookup"><span data-stu-id="eaf56-236">To compress the table on the Subscriber if all the partitions are compressed on the Publisher, but not replicate the partition scheme.</span></span>|<span data-ttu-id="eaf56-237">Faux</span><span class="sxs-lookup"><span data-stu-id="eaf56-237">False</span></span>|<span data-ttu-id="eaf56-238">True</span><span class="sxs-lookup"><span data-stu-id="eaf56-238">True</span></span>|<span data-ttu-id="eaf56-239">Vérifie si toutes les partitions sont activées pour la compression.</span><span class="sxs-lookup"><span data-stu-id="eaf56-239">Checks if all the partitions are enabled for compression.</span></span><br /><br /> <span data-ttu-id="eaf56-240">Exclut la compression du script au niveau de la table.</span><span class="sxs-lookup"><span data-stu-id="eaf56-240">Scripts out compression at the table level.</span></span>|  
  
## <a name="how-compression-affects-other-sql-server-components"></a><span data-ttu-id="eaf56-241">Impact de la compression sur les autres composants SQL Server</span><span class="sxs-lookup"><span data-stu-id="eaf56-241">How Compression Affects Other SQL Server Components</span></span>  
 <span data-ttu-id="eaf56-242">La compression se produit dans le moteur de stockage et les données sont présentées à la plupart des autres composants de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dans un état non compressé.</span><span class="sxs-lookup"><span data-stu-id="eaf56-242">Compression occurs in the storage engine and the data is presented to most of the other components of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in an uncompressed state.</span></span> <span data-ttu-id="eaf56-243">Cela limite les effets de la compression sur les autres composants de la manière suivante :</span><span class="sxs-lookup"><span data-stu-id="eaf56-243">This limits the effects of compression on the other components to the following:</span></span>  
  
-   <span data-ttu-id="eaf56-244">Opérations d'importation et d'exportation en bloc</span><span class="sxs-lookup"><span data-stu-id="eaf56-244">Bulk import and export operations</span></span>  
  
     <span data-ttu-id="eaf56-245">Lorsque des données sont exportées, même au format natif, les données sont sorties au format de ligne non compressé.</span><span class="sxs-lookup"><span data-stu-id="eaf56-245">When data is exported, even in native format, the data is output in the uncompressed row format.</span></span> <span data-ttu-id="eaf56-246">La taille du fichier de données exporté peut par conséquent être beaucoup plus grande que les données sources.</span><span class="sxs-lookup"><span data-stu-id="eaf56-246">This can cause the size of exported data file to be significantly larger than the source data.</span></span>  
  
     <span data-ttu-id="eaf56-247">Lorsque des données sont importées, si la table cible a été activée pour la compression, les données sont converties par le moteur de stockage au format de ligne compressé.</span><span class="sxs-lookup"><span data-stu-id="eaf56-247">When data is imported, if the target table has been enabled for compression, the data is converted by the storage engine into compressed row format.</span></span> <span data-ttu-id="eaf56-248">Cela peut provoquer une augmentation de l'utilisation de l'UC, par rapport à une importation des données dans une table non compressée.</span><span class="sxs-lookup"><span data-stu-id="eaf56-248">This can cause increased CPU usage compared to when data is imported into an uncompressed table.</span></span>  
  
     <span data-ttu-id="eaf56-249">Lorsque des données sont importées en bloc dans un segment de mémoire avec la compression de page, l'opération d'importation en bloc tente de compresser les données avec la compression de page lorsque les données sont insérées.</span><span class="sxs-lookup"><span data-stu-id="eaf56-249">When data is bulk imported into a heap with page compression, the bulk import operation will try to compress the data with page compression when the data is inserted.</span></span>  
  
-   <span data-ttu-id="eaf56-250">La compression n'affecte pas la sauvegarde et la restauration.</span><span class="sxs-lookup"><span data-stu-id="eaf56-250">Compression does not affect backup and restore.</span></span>  
  
-   <span data-ttu-id="eaf56-251">La compression n'affecte pas la copie des journaux de transaction.</span><span class="sxs-lookup"><span data-stu-id="eaf56-251">Compression does not affect log shipping.</span></span>  
  
-   <span data-ttu-id="eaf56-252">La compression de données est incompatible avec les colonnes éparses.</span><span class="sxs-lookup"><span data-stu-id="eaf56-252">Data compression is incompatible with sparse columns.</span></span> <span data-ttu-id="eaf56-253">Par conséquent, les tables contenant des colonnes éparses ne peuvent pas être compressées et les colonnes éparses ne peuvent pas être ajoutées aux tables compressées.</span><span class="sxs-lookup"><span data-stu-id="eaf56-253">Therefore, tables containing sparse columns cannot be compressed nor can sparse columns be added to a compressed table.</span></span>  
  
-   <span data-ttu-id="eaf56-254">L'activation de la compression peut provoquer la modification des plans de requêtes, car les données sont stockées avec un nombre différent de pages et de lignes par page.</span><span class="sxs-lookup"><span data-stu-id="eaf56-254">Enabling compression can cause query plans to change because the data is stored using a different number of pages and number of rows per page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="eaf56-255">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="eaf56-255">See Also</span></span>  
 <span data-ttu-id="eaf56-256">[Implémentation de la compression de ligne](row-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="eaf56-256">[Row Compression Implementation](row-compression-implementation.md) </span></span>  
 <span data-ttu-id="eaf56-257">[Implémentation de la compression de page](page-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="eaf56-257">[Page Compression Implementation](page-compression-implementation.md) </span></span>  
 <span data-ttu-id="eaf56-258">[Implémentation de la compression Unicode](unicode-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="eaf56-258">[Unicode Compression Implementation](unicode-compression-implementation.md) </span></span>  
 <span data-ttu-id="eaf56-259">[CREATE PARTITION SCHEME &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-scheme-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="eaf56-259">[CREATE PARTITION SCHEME &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-scheme-transact-sql) </span></span>  
 <span data-ttu-id="eaf56-260">[CREATE PARTITION FUNCTION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-function-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="eaf56-260">[CREATE PARTITION FUNCTION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-function-transact-sql) </span></span>  
 <span data-ttu-id="eaf56-261">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="eaf56-261">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span></span>  
 <span data-ttu-id="eaf56-262">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="eaf56-262">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span></span>  
 <span data-ttu-id="eaf56-263">[CREATE INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-index-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="eaf56-263">[CREATE INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-index-transact-sql) </span></span>  
 [<span data-ttu-id="eaf56-264">ALTER INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eaf56-264">ALTER INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-index-transact-sql)  
  
  
