---
title: Mise à niveau de la fonction de recherche en texte intégral | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text search [SQL Server], installing
- migrating full-text indexes [SQL Server]
- upgrading Full-Text Search
- installing Full-Text Search
- full-text search [SQL Server], upgrading
ms.assetid: 2fee4691-f2b5-472f-8ccc-fa625b654520
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d2bdf0bdee452101bbafb8108426faf6604e7626
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87612213"
---
# <a name="upgrade-full-text-search"></a><span data-ttu-id="198aa-102">Mise à niveau de la fonction de recherche en texte intégral</span><span class="sxs-lookup"><span data-stu-id="198aa-102">Upgrade Full-Text Search</span></span>
  <span data-ttu-id="198aa-103">La mise à niveau de recherche en texte intégral vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] est effectuée pendant l'installation et lorsque les fichiers de base de données et les catalogues de texte intégral de la version antérieure de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont joints, restaurés ou copiés à l'aide de l'Assistant Copie de base de données.</span><span class="sxs-lookup"><span data-stu-id="198aa-103">Upgrading full-text search to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is done during setup and when database files and full-text catalogs from the earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are attached, restored, or copied using the Copy Database Wizard.</span></span>  
  
 <span data-ttu-id="198aa-104">Cette rubrique traite les aspects suivants de la mise à niveau de la recherche en texte intégral :</span><span class="sxs-lookup"><span data-stu-id="198aa-104">This topic discusses the following aspects of upgrading full-text search:</span></span>  
  
-   [<span data-ttu-id="198aa-105">Mise à niveau d'une instance de serveur</span><span class="sxs-lookup"><span data-stu-id="198aa-105">Upgrading a Server Instance</span></span>](#Upgrade_Server)  
  
-   [<span data-ttu-id="198aa-106">Options de mise à niveau de texte intégral</span><span class="sxs-lookup"><span data-stu-id="198aa-106">Full-Text Upgrade Options</span></span>](#FT_Upgrade_Options)  
  
-   [<span data-ttu-id="198aa-107">Considérations relatives au choix d'une option de mise à niveau de texte intégral</span><span class="sxs-lookup"><span data-stu-id="198aa-107">Considerations for Choosing a Full-Text Upgrade Option</span></span>](#Choosing_Upgade_Option)  
  
-   [<span data-ttu-id="198aa-108">Migration d'index de recherche en texte intégral lors de la mise à niveau d'une base de données vers SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="198aa-108">Migrating Full-Text Indexes When Upgrading a Database to SQL Server 2014</span></span>](#Upgrade_Db)  
  
-   [<span data-ttu-id="198aa-109">Considérations relatives à la restauration d'un catalogue de texte intégral SQL Server 2005 vers SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="198aa-109">Considerations for Restoring a SQL Server 2005 Full-Text Catalog to SQL Server 2014</span></span>](#Considerations_for_Restore)  
  
-   [<span data-ttu-id="198aa-110">Attachement d'une base de données SQL Server 2005 à SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="198aa-110">Attaching a SQL Server 2005 database to SQL Server 2014</span></span>](#Attaching_2005_ft_catalogs)  
  
##  <a name="upgrading-a-server-instance"></a><a name="Upgrade_Server"></a><span data-ttu-id="198aa-111">Mise à niveau d’une instance de serveur</span><span class="sxs-lookup"><span data-stu-id="198aa-111">Upgrading a Server Instance</span></span>  
 <span data-ttu-id="198aa-112">Pour une mise à niveau sur place, une instance de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] est installée côte à côte avec l'ancienne version de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], et les données sont migrées.</span><span class="sxs-lookup"><span data-stu-id="198aa-112">For an in-place upgrade, an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is set up side-by-side with the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and data is migrated.</span></span> <span data-ttu-id="198aa-113">Si l'ancienne version de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] intégrait la recherche en texte intégral, une nouvelle version de cette fonctionnalité est installée automatiquement.</span><span class="sxs-lookup"><span data-stu-id="198aa-113">If the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] had full-text search installed, a new version of full-text search is automatically installed.</span></span> <span data-ttu-id="198aa-114">Une installation côte à côte signifie que chacun des composants suivants existe au niveau de l'instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="198aa-114">Side-by-side install means that each of the following components exists at the instance-level of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="198aa-115">Analyseurs lexicaux, générateurs de formes dérivées et filtres</span><span class="sxs-lookup"><span data-stu-id="198aa-115">Word breakers, stemmers, and filters</span></span>  
 <span data-ttu-id="198aa-116">Chaque instance utilise désormais son propre ensemble d'analyseurs lexicaux, de générateur de formes dérivées et de filtres, au lieu de s'appuyer sur la version de système d'exploitation de ces composants.</span><span class="sxs-lookup"><span data-stu-id="198aa-116">Each instance now uses its own set of word breakers, stemmers, and filters, rather than relying on the operating system version of these components.</span></span> <span data-ttu-id="198aa-117">Ces composants sont également plus faciles à inscrire et à configurer au niveau de l'instance.</span><span class="sxs-lookup"><span data-stu-id="198aa-117">These components are also easier to register and configure at a per-instance level.</span></span> <span data-ttu-id="198aa-118">Pour plus d’informations, consultez [Configurer et gérer les analyseurs lexicaux et générateurs de formes dérivées pour la recherche](configure-and-manage-word-breakers-and-stemmers-for-search.md) et [Configurer et gérer des filtres pour la recherche](configure-and-manage-filters-for-search.md).</span><span class="sxs-lookup"><span data-stu-id="198aa-118">For more information, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) and [Configure and Manage Filters for Search](configure-and-manage-filters-for-search.md).</span></span>  
  
 <span data-ttu-id="198aa-119">Hôte de démon de filtre</span><span class="sxs-lookup"><span data-stu-id="198aa-119">Filter daemon host</span></span>  
 <span data-ttu-id="198aa-120">Les démons de filtre de texte intégral sont des processus qui se chargent en toute sécurité ; par ailleurs, ils gèrent l'exécution des composants extensibles externes utilisés pour un index et une requête, par exemple les analyseurs lexicaux, les générateurs de formes dérivées et les filtres, sans altérer l'intégrité du moteur de texte intégral.</span><span class="sxs-lookup"><span data-stu-id="198aa-120">The full-text filter daemon hosts are processes that safely load and drive extensible external components used for index and query, such as word breakers, stemmers, and filters, without compromising the integrity of the Full-Text Engine.</span></span> <span data-ttu-id="198aa-121">Une instance de serveur utilise un processus multithread pour tous les filtres multithreads et un processus monothread pour tous les filtres monothreads.</span><span class="sxs-lookup"><span data-stu-id="198aa-121">A server instance uses a multithreaded process for all multithreaded filters and a single-threaded process for all single-threaded filters.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] <span data-ttu-id="198aa-122">a introduit un compte de service pour le service de lancement FDHOST (MSSQLFDLauncher).</span><span class="sxs-lookup"><span data-stu-id="198aa-122">introduced a service account for the FDHOST Launcher service (MSSQLFDLauncher).</span></span> <span data-ttu-id="198aa-123">Ce service propage les informations sur le compte de services aux processus d'hôte de démon de filtre d'une instance spécifique de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="198aa-123">This service propagates the service account information to the filter daemon host processes of a specific instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="198aa-124">Pour plus d’informations sur la définition du compte de service, consultez [Définir le compte du service du Lanceur de démon de filtre de texte intégral](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).</span><span class="sxs-lookup"><span data-stu-id="198aa-124">For information about setting the service account, see [Set the Service Account for the Full-text Filter Daemon Launcher](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).</span></span>  
  
 <span data-ttu-id="198aa-125">Dans [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], chaque index de recherche en texte intégral réside dans un catalogue de texte intégral qui appartient à un groupe de fichiers, a un chemin d'accès physique et est traité en tant que fichier de base de données.</span><span class="sxs-lookup"><span data-stu-id="198aa-125">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], each full-text index resides in a full-text catalog that belongs to a filegroup, has a physical path, and is treated as a database file.</span></span> <span data-ttu-id="198aa-126">Dans [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] et versions ultérieures, un catalogue de texte intégral est un objet logique ou virtuel qui contient un groupe d'index de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="198aa-126">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical or virtual object that contains a group of full-text indexes.</span></span> <span data-ttu-id="198aa-127">Par conséquent, un nouveau catalogue de texte intégral n'est pas traité en tant que fichier de base de données avec un chemin d'accès physique.</span><span class="sxs-lookup"><span data-stu-id="198aa-127">Therefore, a new full-text catalog is not treated as a database file with a physical path.</span></span> <span data-ttu-id="198aa-128">Toutefois, un nouveau groupe de fichiers est créé sur le même disque pendant la mise à niveau de tout catalogue de texte intégral qui contient des fichiers de données.</span><span class="sxs-lookup"><span data-stu-id="198aa-128">However, during upgrade of any full-text catalog that contains data files, a new filegroup is created on same disk.</span></span> <span data-ttu-id="198aa-129">Cela maintient le comportement d'E/S de l'ancien disque après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="198aa-129">This maintains the old disk I/O behavior after upgrade.</span></span> <span data-ttu-id="198aa-130">Tout index de recherche en texte intégral de ce catalogue est placé dans le nouveau groupe de fichiers si le chemin d'accès racine existe.</span><span class="sxs-lookup"><span data-stu-id="198aa-130">Any full-text index from that catalog is placed in the new filegroup if the root path exists.</span></span> <span data-ttu-id="198aa-131">Si l'ancien chemin de catalogue de texte intégral est non valide, la mise à niveau conserve l'index de recherche en texte intégral dans le même groupe de fichiers comme table de base ou, pour une table partitionnée, dans le groupe de fichiers principal.</span><span class="sxs-lookup"><span data-stu-id="198aa-131">If the old full-text catalog path is invalid, the upgrade keeps the full-text index in the same filegroup as the base table or, for a partitioned table, in the primary filegroup.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]<span data-ttu-id="198aa-132">[!INCLUDE[tsql](../../includes/tsql-md.md)]Les instructions DDL qui spécifient des catalogues de texte intégral continuent de fonctionner correctement.</span><span class="sxs-lookup"><span data-stu-id="198aa-132">[!INCLUDE[tsql](../../includes/tsql-md.md)] DDL statements that specify full-text catalogs continue to work correctly.</span></span>  
  
##  <a name="full-text-upgrade-options"></a><a name="FT_Upgrade_Options"></a><span data-ttu-id="198aa-133">Options de mise à niveau de texte intégral</span><span class="sxs-lookup"><span data-stu-id="198aa-133">Full-Text Upgrade Options</span></span>  
 <span data-ttu-id="198aa-134">Lors de la mise à niveau d'une instance de serveur vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], l'interface utilisateur vous permet de choisir l'une des options de mise à niveau de texte intégral suivantes.</span><span class="sxs-lookup"><span data-stu-id="198aa-134">When upgrading a server instance to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the user interface allows you to choose one of the following full-text upgrade options.</span></span>  
  
 <span data-ttu-id="198aa-135">Importer</span><span class="sxs-lookup"><span data-stu-id="198aa-135">Import</span></span>  
 <span data-ttu-id="198aa-136">Les catalogues de texte intégral sont importés.</span><span class="sxs-lookup"><span data-stu-id="198aa-136">Full-text catalogs are imported.</span></span> <span data-ttu-id="198aa-137">En général, l'importation est considérablement plus rapide que lors d'une reconstruction (rebuild).</span><span class="sxs-lookup"><span data-stu-id="198aa-137">Typically, import is significantly faster than rebuild.</span></span> <span data-ttu-id="198aa-138">Par exemple, lorsque vous utilisez un seul processeur, l'importation s'exécute approximativement 10 fois plus vite que lors de la reconstruction.</span><span class="sxs-lookup"><span data-stu-id="198aa-138">For example, when using only one CPU, import runs about 10 times faster than rebuild.</span></span> <span data-ttu-id="198aa-139">Toutefois, un catalogue de texte intégral importé n'utilise pas les nouveaux analyseurs lexicaux installés avec la dernière version de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="198aa-139">However, an imported full-text catalog does not use the new word breakers installed with the latest version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="198aa-140">Pour garantir la cohérence dans les résultats de la requête, les catalogues de texte intégral doivent être reconstruits.</span><span class="sxs-lookup"><span data-stu-id="198aa-140">To ensure consistency in query results, full-text catalogs have to be rebuilt.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="198aa-141">Le processus de reconstruction peut s'exécuter en mode multithread, et si plus de 10 processeurs sont disponibles, la reconstruction peut s'effectuer plus vite que l'importation si vous la laissez utiliser tous les processeurs.</span><span class="sxs-lookup"><span data-stu-id="198aa-141">Rebuild can run in multi-threaded mode, and if more than 10 CPUs are available, rebuild might run faster than import if you allow rebuild to use all of the CPUs.</span></span>  
  
 <span data-ttu-id="198aa-142">Si aucun catalogue de texte intégral n'est disponible, les index de recherche en texte intégral associés sont reconstruits.</span><span class="sxs-lookup"><span data-stu-id="198aa-142">If a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span> <span data-ttu-id="198aa-143">Cette option est disponible uniquement pour les bases de données [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="198aa-143">This option is available for only [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] databases.</span></span>  
  
 <span data-ttu-id="198aa-144">Pour plus d'informations sur l'impact de l'importation de l'index de recherche en texte intégral, consultez « Considérations relatives au choix d'une option de mise à niveau », plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="198aa-144">For information about the impact of importing full-text index, see "Considerations for Choosing a Full-Text Upgrade Option," later in this topic.</span></span>  
  
 <span data-ttu-id="198aa-145">Reconstruire</span><span class="sxs-lookup"><span data-stu-id="198aa-145">Rebuild</span></span>  
 <span data-ttu-id="198aa-146">Les catalogues de texte intégral sont reconstruits à l'aide des analyseurs lexicaux nouveaux et améliorés.</span><span class="sxs-lookup"><span data-stu-id="198aa-146">Full-text catalogs are rebuilt using the new and enhanced word breakers.</span></span> <span data-ttu-id="198aa-147">La reconstruction des index peut prendre du temps, et une quantité importante de ressources en termes d'UC et de mémoire peut être requise après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="198aa-147">Rebuilding indexes can take a while, and a significant amount of CPU and memory might be required after the upgrade.</span></span>  
  
 <span data-ttu-id="198aa-148">Réinitialiser</span><span class="sxs-lookup"><span data-stu-id="198aa-148">Reset</span></span>  
 <span data-ttu-id="198aa-149">Les catalogues de texte intégral sont réinitialisés.</span><span class="sxs-lookup"><span data-stu-id="198aa-149">Full-text catalogs are reset.</span></span> <span data-ttu-id="198aa-150">Lors de la mise à niveau à partir de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], les catalogues de texte intégral sont supprimés, mais les métadonnées pour les catalogues de texte intégral et les index de recherche en texte intégral sont conservées.</span><span class="sxs-lookup"><span data-stu-id="198aa-150">When upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], full-text catalog files are removed, but the metadata for full-text catalogs and full-text indexes is retained.</span></span> <span data-ttu-id="198aa-151">Après leur mise à niveau, tous les index de recherche en texte intégral ont le suivi des modifications désactivé et aucune analyse n'est démarrée automatiquement.</span><span class="sxs-lookup"><span data-stu-id="198aa-151">After being upgraded, all full-text indexes are disabled for change tracking and crawls are not started automatically.</span></span> <span data-ttu-id="198aa-152">Le catalogue reste vide tant que vous n'avez pas procédé manuellement à une alimentation complète, au terme de la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="198aa-152">The catalog will remain empty until you manually issue a full population, after the upgrade completes.</span></span>  
  
##  <a name="considerations-for-choosing-a-full-text-upgrade-option"></a><a name="Choosing_Upgade_Option"></a><span data-ttu-id="198aa-153">Considérations relatives au choix d’une option de mise à niveau de texte intégral</span><span class="sxs-lookup"><span data-stu-id="198aa-153">Considerations for Choosing a Full-Text Upgrade Option</span></span>  
 <span data-ttu-id="198aa-154">Au moment de choisir l'option de mise à niveau pour votre mise à niveau, tenez compte des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="198aa-154">When choosing the upgrade option for your upgrade, consider the following:</span></span>  
  
-   <span data-ttu-id="198aa-155">Avez-vous besoin de cohérence dans les résultats de la requête ?</span><span class="sxs-lookup"><span data-stu-id="198aa-155">Do you require consistency in query results?</span></span>  
  
     [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="198aa-156">installe de nouveaux analyseurs lexicaux pour la recherche en texte intégral et sémantique.</span><span class="sxs-lookup"><span data-stu-id="198aa-156">installs new word breakers for use by Full-Text and Semantic Search.</span></span> <span data-ttu-id="198aa-157">Les analyseurs lexicaux sont utilisés au moment de l'indexation et au moment de la requête.</span><span class="sxs-lookup"><span data-stu-id="198aa-157">The word breakers are used both at indexing time and at query time.</span></span> <span data-ttu-id="198aa-158">Si vous ne reconstruisez pas les catalogues de texte intégral, vos résultats de recherche peuvent être incohérents.</span><span class="sxs-lookup"><span data-stu-id="198aa-158">If you do not rebuild the full-text catalogs, your search results may be inconsistent.</span></span> <span data-ttu-id="198aa-159">Si vous exécutez une requête de texte intégral qui recherche une expression qui est divisée différemment par l'analyseur lexical dans une version précédente de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] et l'analyseur lexical actuel, une ligne ou un document contenant l'expression peut ne pas être extrait.</span><span class="sxs-lookup"><span data-stu-id="198aa-159">If you issue a full-text query that looks for a phrase that is broken differently by the word breaker in a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and the current word breaker, a document or row containing the phrase might not be retrieved.</span></span> <span data-ttu-id="198aa-160">Cela est dû au fait que les expressions indexées ont été divisées à l'aide d'une logique différente de celle de la requête utilise.</span><span class="sxs-lookup"><span data-stu-id="198aa-160">This is because the indexed phrases were broken using different logic than the query is using.</span></span> <span data-ttu-id="198aa-161">La solution consiste à réalimenter (reconstruire) les catalogues de texte intégral avec les nouveaux analyseurs lexicaux afin que le temps d'indexation et le comportement de cette requête soient identiques.</span><span class="sxs-lookup"><span data-stu-id="198aa-161">The solution is to repopulate (rebuild) the full-text catalogs with the new word breakers so that index time and query time behavior are identical.</span></span> <span data-ttu-id="198aa-162">Vous pouvez choisir l'option Reconstruire pour y parvenir, ou vous pouvez reconstruire manuellement après le choix de l'option Importer.</span><span class="sxs-lookup"><span data-stu-id="198aa-162">You can choose the Rebuild option to accomplish this, or you can rebuild manually after choosing the Import option.</span></span>  
  
-   <span data-ttu-id="198aa-163">Certains index de recherche en texte intégral ont-ils été construits sur la base de colonnes clés de texte intégral de type Integer ?</span><span class="sxs-lookup"><span data-stu-id="198aa-163">Were any full-text indexes built on integer full-text key columns?</span></span>  
  
     <span data-ttu-id="198aa-164">La reconstruction effectue, dans quelques cas, des optimisations internes qui améliorent le performances des requêtes de l'index de recherche en texte intégral mis à niveau.</span><span class="sxs-lookup"><span data-stu-id="198aa-164">Rebuilding performs internal optimizations that improve the query performance of the upgraded full-text index in some cases.</span></span> <span data-ttu-id="198aa-165">Spécifiquement, si vous avez des catalogues de texte intégral qui contiennent des index de recherche en texte intégral dont la colonne clé de texte intégral de la table de base correspond à un type de données Integer, la reconstruction permet d'obtenir une performance idéale des requêtes de texte intégral après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="198aa-165">Specifically, if you have full-text catalogs that contain full-text indexes for which the full-text key column of the base table is an integer data type, rebuilding achieves ideal performance of full-text queries after upgrade.</span></span> <span data-ttu-id="198aa-166">Nous recommandons vivement que vous utilisiez l'option **Reconstruire** dans ce cas.</span><span class="sxs-lookup"><span data-stu-id="198aa-166">In this case, we highly recommend you to use the **Rebuild** option.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="198aa-167">Pour les index de texte intégral dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], nous recommandons que la colonne servant de clé de texte intégral corresponde à un type de données Integer.</span><span class="sxs-lookup"><span data-stu-id="198aa-167">For full-text indexes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], we recommend that the column serving as the full-text key be an integer data type.</span></span> <span data-ttu-id="198aa-168">Pour plus d’informations, consultez [Améliorer les performances des index de recherche en texte intégral](improve-the-performance-of-full-text-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="198aa-168">For more information, see [Improve the Performance of Full-Text Indexes](improve-the-performance-of-full-text-indexes.md).</span></span>  
  
-   <span data-ttu-id="198aa-169">Quelle est la priorité pour obtenir votre instance de serveur en ligne ?</span><span class="sxs-lookup"><span data-stu-id="198aa-169">What is the priority for getting your server instance online?</span></span>  
  
     <span data-ttu-id="198aa-170">L'importation ou la reconstruction pendant la mise à niveau mobilise beaucoup de ressources processeur, ce qui retarde la mise à niveau et en ligne du reste de l'instance serveur.</span><span class="sxs-lookup"><span data-stu-id="198aa-170">Importing or rebuilding during upgrade takes a lot of CPU resources, which delays getting the rest of the server instance upgraded and online.</span></span> <span data-ttu-id="198aa-171">Si le fait d'avoir l'instance de serveur en ligne dès que possible est important et si vous êtes disposé à exécuter une alimentation manuelle après la mise à niveau, la **réinitialisation** est appropriée.</span><span class="sxs-lookup"><span data-stu-id="198aa-171">If getting the server instance online as soon as possible is important and if you are willing to run a manual population after the upgrade, **Reset** is suitable.</span></span>  
  
## <a name="ensuring-consistent-query-results-after-importing-a-sql-server-2005-full-text-index"></a><span data-ttu-id="198aa-172">Garantie de résultats de requête cohérents après l'importation d'un index de recherche en texte intégral SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="198aa-172">Ensuring Consistent Query Results after Importing a SQL Server 2005 Full-Text Index</span></span>  
 <span data-ttu-id="198aa-173">Si un catalogue de texte intégral a été importé lors de la mise à niveau d'une base de données [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], des discordances entre la requête et le contenu de l'index de recherche en texte intégral peuvent parfois se produire à la suite de légères différences dans le comportement des analyseurs lexicaux anciens et nouveaux.</span><span class="sxs-lookup"><span data-stu-id="198aa-173">If a full-text catalog was imported when upgrading a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], mismatches between the query and the full-text index content might occur because of differences in the behavior of the old and new word breakers.</span></span> <span data-ttu-id="198aa-174">Dans ce cas, pour garantir une correspondance totale entre requêtes et contenu d'index de recherche en texte intégral, choisissez l'une des options suivantes :</span><span class="sxs-lookup"><span data-stu-id="198aa-174">In this case, to guarantee a total match between queries and the full-text index content, choose one of the following options:</span></span>  
  
-   <span data-ttu-id="198aa-175">reconstruisez le catalogue de texte intégral contenant l’index de recherche en texte intégral ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*nom_catalogue* REBUILD) ;</span><span class="sxs-lookup"><span data-stu-id="198aa-175">Rebuild the full-text catalog that contains the full-text index ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*catalog_name* REBUILD)</span></span>  
  
-   <span data-ttu-id="198aa-176">publiez un FULL POPULATION sur l’index de recherche en texte intégral ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *nom_table* START FULL POPULATION).</span><span class="sxs-lookup"><span data-stu-id="198aa-176">Issue a FULL POPULATION on the full-text index ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *table_name* START FULL POPULATION).</span></span>  
  
 <span data-ttu-id="198aa-177">Pour plus d’informations sur les analyseurs lexicaux, consultez [Configurer et gérer les analyseurs lexicaux et générateurs de formes dérivées pour la recherche](configure-and-manage-word-breakers-and-stemmers-for-search.md).</span><span class="sxs-lookup"><span data-stu-id="198aa-177">For more information about word breakers, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md).</span></span>  
  
## <a name="upgrading-noise-word-files-to-stoplists"></a><span data-ttu-id="198aa-178">Mise à niveau des fichiers de mots parasites vers des listes de mots vides</span><span class="sxs-lookup"><span data-stu-id="198aa-178">Upgrading Noise-Word Files to Stoplists</span></span>  
 <span data-ttu-id="198aa-179">Les mots parasites de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] ont été remplacés par les mots vides dans [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="198aa-179">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] noise words have been replaced by stopwords in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span> <span data-ttu-id="198aa-180">Lorsqu'une base de données est mise à niveau vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] à partir de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], les fichiers de mots parasites ne sont plus utilisés.</span><span class="sxs-lookup"><span data-stu-id="198aa-180">When a database is upgraded to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the noise-word files are no longer used.</span></span> <span data-ttu-id="198aa-181">Toutefois, les anciens fichiers de mots parasites sont stockés dans le dossier FTDATA\ FTNoiseThesaurusBak, et vous pouvez les utiliser ultérieurement lors de la mise à jour ou de la génération des listes de mots vides [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] correspondantes.</span><span class="sxs-lookup"><span data-stu-id="198aa-181">However, the old noise-word files are stored in the FTDATA\ FTNoiseThesaurusBak folder, and you can use them later when updating or building the corresponding [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] stoplists.</span></span>  
  
 <span data-ttu-id="198aa-182">Après avoir effectué une mise à niveau de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="198aa-182">After upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="198aa-183">Si vous n'avez jamais ajouté, modifié ou supprimé des fichiers de mots parasites de votre installation de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], la liste de mots vides système doit correspondre à vos besoins.</span><span class="sxs-lookup"><span data-stu-id="198aa-183">If you never added, modified, or deleted any noise-word files in your installation of [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the system stoplist should meet your needs.</span></span>  
  
-   <span data-ttu-id="198aa-184">Si vos fichiers de mots parasites ont été modifiés dans [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], ces changements sont perdus pendant la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="198aa-184">If your noise-word files were modified in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], those modifications are lost during upgrade.</span></span> <span data-ttu-id="198aa-185">Pour recréer ces mises à jour, vous devez recréer manuellement ces changements dans la liste de mots vides [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] correspondante.</span><span class="sxs-lookup"><span data-stu-id="198aa-185">To re-create those updates, you must manually recreate those modifications in the corresponding [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] stoplist.</span></span> <span data-ttu-id="198aa-186">Pour plus d’informations, consultez [ALTER FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="198aa-186">For more information, see [ALTER FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).</span></span>  
  
-   <span data-ttu-id="198aa-187">Si vous ne souhaitez pas appliquer de mots vides à vos index de recherche en texte intégral (par exemple, si vous avez supprimé ou effacé vos fichiers de mots parasites dans votre installation [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]), vous devez désactiver la liste de mots vides pour chaque index de recherche en texte intégral mis à niveau.</span><span class="sxs-lookup"><span data-stu-id="198aa-187">If you do not want to apply any stopwords to your full-text indexes (for example, if you deleted or erased your noise-word files in your [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] installation), you must turn off the stoplist for each upgraded full-text index.</span></span> <span data-ttu-id="198aa-188">Exécutez l’instruction [!INCLUDE[tsql](../../includes/tsql-md.md)] suivante (en remplaçant *database* par le nom de la base de données mise à niveau et *table* par le nom de la *table*) :</span><span class="sxs-lookup"><span data-stu-id="198aa-188">Run the following [!INCLUDE[tsql](../../includes/tsql-md.md)] statement (replacing *database* with the name of the upgraded database and *table* with the name of the *table*):</span></span>  
  
    ```  
    Use database;   
    ALTER FULLTEXT INDEX ON table  
       SET STOPLIST OFF;  
    GO  
    ```  
  
     <span data-ttu-id="198aa-189">La clause STOPLIST OFF supprime le filtrage par mot vide et déclenche une alimentation de la table, sans filtrer les mots considérés comme des mots parasites.</span><span class="sxs-lookup"><span data-stu-id="198aa-189">The STOPLIST OFF clause removes stop-word filtering, and it will trigger a population of the table, without filtering any words considered to be noise.</span></span>  
  
## <a name="backup-and-imported-full-text-catalogs"></a><span data-ttu-id="198aa-190">Sauvegarde et catalogues de texte intégral importés</span><span class="sxs-lookup"><span data-stu-id="198aa-190">Backup and Imported Full-Text Catalogs</span></span>  
 <span data-ttu-id="198aa-191">Pour les catalogues de texte intégral qui sont reconstruits ou réinitialisés pendant la mise à niveau (et pour les nouveaux catalogues de texte intégral), le catalogue de texte intégral est un concept logique et ne réside pas dans un groupe de fichiers.</span><span class="sxs-lookup"><span data-stu-id="198aa-191">For full-text catalogs that are rebuilt or reset during upgrade (and for new full-text catalogs), the fulltext catalog is a logical concept and does not reside in a filegroup.</span></span> <span data-ttu-id="198aa-192">Par conséquent, pour sauvegarder un catalogue de texte intégral dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], vous devez identifier tous les groupes de fichiers contenant un index de recherche en texte intégral du catalogue et les sauvegarder un par un.</span><span class="sxs-lookup"><span data-stu-id="198aa-192">Therefore, to back up a full-text catalog in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you must identify every filegroup that contains a full-text index of the catalog and back each of them up, one by one.</span></span> <span data-ttu-id="198aa-193">Pour plus d’informations, consultez [Sauvegarder et restaurer des catalogues et des index de recherche en texte intégral](back-up-and-restore-full-text-catalogs-and-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="198aa-193">For more information, see [Back Up and Restore Full-Text Catalogs and Indexes](back-up-and-restore-full-text-catalogs-and-indexes.md).</span></span>  
  
 <span data-ttu-id="198aa-194">Pour les catalogues de texte intégral importés à partir de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], le catalogue de texte intégral est encore un fichier de base de données dans son propre groupe de fichiers.</span><span class="sxs-lookup"><span data-stu-id="198aa-194">For full-text catalogs that have been imported from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the full-text catalog is still a database file in its own filegroup.</span></span> <span data-ttu-id="198aa-195">Le processus de sauvegarde [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] pour les catalogues de texte intégral s'applique encore mais le service MSFTESQL n'existe pas dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="198aa-195">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] backup process for full-text catalogs still applies except that the MSFTESQL service does not exist in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="198aa-196">Pour plus d’informations sur le processus [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , consultez [Sauvegarde et restauration d’un catalogue de texte intégral](https://go.microsoft.com/fwlink/?LinkId=209154) dans la documentation en ligne de SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="198aa-196">For information about the [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] process, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=209154) in SQL Server 2005 Books Online.</span></span>  
  
##  <a name="migrating-full-text-indexes-when-upgrading-a-database-to-sscurrent"></a><a name="Upgrade_Db"></a><span data-ttu-id="198aa-197">Migration d’index de recherche en texte intégral lors de la mise à niveau d’une base de données vers[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="198aa-197">Migrating Full-Text Indexes When Upgrading a Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="198aa-198">Les fichiers de base de données et les catalogues de texte intégral d'une version précédente de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] peuvent être mis à niveau vers une instance de serveur [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] existante en utilisant un attachement, une restauration ou l'Assistant Copie de base de données.</span><span class="sxs-lookup"><span data-stu-id="198aa-198">Database files and full-text catalogs from a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be upgraded to an existing [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance by using attach, restore, or the Copy Database Wizard.</span></span> [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] <span data-ttu-id="198aa-199">Les index de recherche en texte intégral sont, le cas échéant, importés, réinitialisés ou reconstruits.</span><span class="sxs-lookup"><span data-stu-id="198aa-199">full-text indexes, if any, are either imported, reset, or rebuilt.</span></span> <span data-ttu-id="198aa-200">La propriété de serveur **upgrade_option** détermine l’option de mise à niveau de texte intégral que l’instance de serveur utilise pendant ces mises à niveau de base de données.</span><span class="sxs-lookup"><span data-stu-id="198aa-200">The **upgrade_option** server property controls which full-text upgrade option the server instance uses during these database upgrades.</span></span>  
  
 <span data-ttu-id="198aa-201">Après avoir attaché, restauré ou copié une base de données [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], la base de données est immédiatement disponible et est ensuite automatiquement mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="198aa-201">After you attach, restore, or copy any [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the database becomes available immediately and is then automatically upgraded.</span></span> <span data-ttu-id="198aa-202">Selon le volume de données indexé, l'importation peut prendre plusieurs heures et la reconstruction jusqu'à dix fois plus longtemps.</span><span class="sxs-lookup"><span data-stu-id="198aa-202">Depending the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="198aa-203">Notez également que lorsque l'option de mise à niveau est Importer, si le catalogue de texte intégral n'est pas disponible, les index de recherche en texte intégral associés sont reconstruits.</span><span class="sxs-lookup"><span data-stu-id="198aa-203">Note also that when the upgrade option is set to import, if a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span>  
  
 <span data-ttu-id="198aa-204">**Pour modifier le comportement de mise à niveau de texte intégral sur une instance de serveur**</span><span class="sxs-lookup"><span data-stu-id="198aa-204">**To change full-text upgrade behavior on a server instance**</span></span>  
  
-   [!INCLUDE[tsql](../../includes/tsql-md.md)]<span data-ttu-id="198aa-205">: Utilisez l' **action \_ option de mise à niveau** du [ \_ \_ service SP de texte intégral](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)</span><span class="sxs-lookup"><span data-stu-id="198aa-205">: Use the **upgrade\_option** action of [sp\_fulltext\_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="198aa-206">**:** utilisez **l’option de mise à niveau de texte intégral** de la boîte de dialogue **Propriétés du serveur** .</span><span class="sxs-lookup"><span data-stu-id="198aa-206">**:** Use the **Full-Text Upgrade Option** of the **Server Properties** dialog box.</span></span> <span data-ttu-id="198aa-207">Pour plus d’informations, consultez [Gérer et surveiller la recherche en texte intégral pour une instance de serveur](manage-and-monitor-full-text-search-for-a-server-instance.md).</span><span class="sxs-lookup"><span data-stu-id="198aa-207">For more information, see [Manage and Monitor Full-Text Search for a Server Instance](manage-and-monitor-full-text-search-for-a-server-instance.md).</span></span>  
  
##  <a name="considerations-for-restoring-a-ssversion2005-full-text-catalog-to-sscurrent"></a><a name="Considerations_for_Restore"></a><span data-ttu-id="198aa-208">Considérations relatives à la restauration d’un [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] catalogue de texte intégral vers[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="198aa-208">Considerations for Restoring a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Full-Text Catalog to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="198aa-209">Une méthode de mise à niveau de données de texte intégral d'une base de données [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] est de restaurer une sauvegarde de la base de données complète vers [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="198aa-209">One method of upgrading fulltext data from a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is to restore a full database backup to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
 <span data-ttu-id="198aa-210">En important un catalogue [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , vous pouvez sauvegarder et restaurer la base de données et le fichier catalogue.</span><span class="sxs-lookup"><span data-stu-id="198aa-210">While importing a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalog, you can back up and restore the database and the catalog file.</span></span> <span data-ttu-id="198aa-211">Le comportement est identique à celui de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="198aa-211">The behavior is the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="198aa-212">La sauvegarde de base de données complète inclut alors le catalogue de texte intégral.</span><span class="sxs-lookup"><span data-stu-id="198aa-212">The full database backup will include the full-text catalog.</span></span> <span data-ttu-id="198aa-213">Pour faire référence au catalogue de texte intégral, utilisez son nom de fichier [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , sysft_+*nom-catalogue*.</span><span class="sxs-lookup"><span data-stu-id="198aa-213">To refer to the full-text catalog, use its [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] file name, sysft_+*catalog-name*.</span></span>  
  
-   <span data-ttu-id="198aa-214">Si le catalogue de texte intégral est hors connexion, la sauvegarde échouera.</span><span class="sxs-lookup"><span data-stu-id="198aa-214">If the full-text catalog is offline, the backup will fail.</span></span>  
  
 <span data-ttu-id="198aa-215">Pour plus d’informations sur la sauvegarde et la restauration de catalogues de texte intégral [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , consultez [Sauvegarde et restauration de catalogues de texte intégral](https://go.microsoft.com/fwlink/?LinkId=121052) et [Restauration et sauvegarde de fichiers et catalogues de texte intégral](https://go.microsoft.com/fwlink/?LinkId=121053)dans la documentation en ligne de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="198aa-215">For more information about backing up and restoring [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalogs, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121052) and [File Backup and Restore and Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121053)in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Books Online.</span></span>  
  
 <span data-ttu-id="198aa-216">Lorsque la base de données est restaurée sur [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], un nouveau fichier de base de données est crée pour le catalogue de texte intégral.</span><span class="sxs-lookup"><span data-stu-id="198aa-216">When the database is restored on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], a new database file will be created for the full-text catalog.</span></span> <span data-ttu-id="198aa-217">Le nom par défaut de ce fichier est ftrow_*nom-catalogue*.ndf.</span><span class="sxs-lookup"><span data-stu-id="198aa-217">The default name of this file is ftrow_*catalog-name*.ndf.</span></span> <span data-ttu-id="198aa-218">Par exemple, si *nom-catalogue* est `cat1`, le nom par défaut du fichier de base de données [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] serait `ftrow_cat1.ndf`.</span><span class="sxs-lookup"><span data-stu-id="198aa-218">For example, if you *catalog-name* is `cat1`, the default name of the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] database file would be `ftrow_cat1.ndf`.</span></span> <span data-ttu-id="198aa-219">Toutefois, si le nom par défaut est déjà utilisé dans le répertoire cible, le nouveau fichier de base de données est nommé `ftrow_` *Catalog-Name* `{` *GUID* `}.ndf` , où *GUID* est l’identificateur global unique du nouveau fichier.</span><span class="sxs-lookup"><span data-stu-id="198aa-219">But if the default name is already being used in the target directory, the new database file would be named `ftrow_`*catalog-name*`{`*GUID*`}.ndf`, where *GUID* is the Globally Unique Identifier of the new file.</span></span>  
  
 <span data-ttu-id="198aa-220">Après avoir importé les catalogues, les fichiers **sys.database_files** et **sys.master_file**sont mis à jour pour supprimer les entrées de catalogue et la colonne de **chemin d’accès** dans **sys.fulltext_catalogs** a la valeur Null.</span><span class="sxs-lookup"><span data-stu-id="198aa-220">After the catalogs have been imported, the **sys.database_files** and **sys.master_file**s are updated to remove the catalog entries and the **path** column in **sys.fulltext_catalogs** is set to NULL.</span></span>  
  
 <span data-ttu-id="198aa-221">**Pour sauvegarder une base de données**</span><span class="sxs-lookup"><span data-stu-id="198aa-221">**To back up a database**</span></span>  
  
-   [<span data-ttu-id="198aa-222">Sauvegardes complètes de bases de données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="198aa-222">Full Database Backups &#40;SQL Server&#41;</span></span>](../backup-restore/full-database-backups-sql-server.md)  
  
-   <span data-ttu-id="198aa-223">[Sauvegardes des journaux de transactions &#40;SQL Server&#41;](../backup-restore/transaction-log-backups-sql-server.md) (mode de récupération complète uniquement)</span><span class="sxs-lookup"><span data-stu-id="198aa-223">[Transaction Log Backups &#40;SQL Server&#41;](../backup-restore/transaction-log-backups-sql-server.md) (full recovery model only)</span></span>  
  
 <span data-ttu-id="198aa-224">**Pour restaurer une sauvegarde de la base de données**</span><span class="sxs-lookup"><span data-stu-id="198aa-224">**To restore a database backup**</span></span>  
  
-   [<span data-ttu-id="198aa-225">Restaurations complètes de bases de données &#40;mode de récupération simple&#41;</span><span class="sxs-lookup"><span data-stu-id="198aa-225">Complete Database Restores &#40;Simple Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-simple-recovery-model.md)  
  
-   [<span data-ttu-id="198aa-226">Restaurations complètes de bases de données &#40;mode de récupération complète&#41;</span><span class="sxs-lookup"><span data-stu-id="198aa-226">Complete Database Restores &#40;Full Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-full-recovery-model.md)  
  
### <a name="example"></a><span data-ttu-id="198aa-227">Exemple</span><span class="sxs-lookup"><span data-stu-id="198aa-227">Example</span></span>  
 <span data-ttu-id="198aa-228">L'exemple suivant utilise la clause MOVE dans l'instruction [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) , afin de restaurer une base de données [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] nommée `ftdb1`.</span><span class="sxs-lookup"><span data-stu-id="198aa-228">The following example uses the MOVE clause in the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement, to restore a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database named `ftdb1`.</span></span> <span data-ttu-id="198aa-229">Les fichiers catalogue, le journal et la base de données [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] sont déplacés vers les nouveaux emplacements sur l'instance de serveur [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , comme suit :</span><span class="sxs-lookup"><span data-stu-id="198aa-229">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database, log, and catalog files are moved to new locations on the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, as follows:</span></span>  
  
-   <span data-ttu-id="198aa-230">Le fichier de base de données, `ftdb1.mdf`, est déplacé vers `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`.</span><span class="sxs-lookup"><span data-stu-id="198aa-230">The database file, `ftdb1.mdf`, is moved to `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`.</span></span>  
  
-   <span data-ttu-id="198aa-231">Le fichier journal, `ftdb1_log.ldf` , est déplacé vers un répertoire de journal sur votre lecteur de disque journal, *log_drive* `:\` *log_directory* `\ftdb1_log.ldf` .</span><span class="sxs-lookup"><span data-stu-id="198aa-231">The log file, `ftdb1_log.ldf`, is moved to a log directory on your log disk drive, *log_drive*`:\`*log_directory*`\ftdb1_log.ldf`.</span></span>  
  
-   <span data-ttu-id="198aa-232">Les fichiers catalogue qui correspondent au catalogue `sysft_cat90` sont déplacés vers `C:\temp`.</span><span class="sxs-lookup"><span data-stu-id="198aa-232">The catalog files that correspond to the `sysft_cat90` catalog are moved to `C:\temp`.</span></span> <span data-ttu-id="198aa-233">Après avoir importé les index de recherche en texte intégral, ceux-ci sont automatiquement placés dans un fichier de base de données, C:\ftrow_sysft_cat90.ndf, et C:\temp est supprimé.</span><span class="sxs-lookup"><span data-stu-id="198aa-233">After the full-text indexes are imported, they will automatically be placed in a database file, C:\ftrow_sysft_cat90.ndf, and the C:\temp will be deleted.</span></span>  
  
```  
RESTORE DATABASE [ftdb1] FROM  DISK = N'C:\temp\ftdb1.bak' WITH  FILE = 1,  
   MOVE N'ftdb1' TO N'C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf',  
    MOVE N'ftdb1_log' TO N'log_drive:\log_directory\ftdb1_log.ldf',  
    MOVE N'sysft_cat90' TO N'C:\temp';  
```  
  
##  <a name="attaching-a-sql-server-2005-database-to-sscurrent"></a><a name="Attaching_2005_ft_catalogs"></a><span data-ttu-id="198aa-234">Attachement d’une base de données SQL Server 2005 à[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="198aa-234">Attaching a SQL Server 2005 Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="198aa-235">Dans [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] et les versions ultérieures, un catalogue de texte intégral est un concept logique qui renvoie à un groupe d'index de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="198aa-235">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical concept that refers to a group of full-text indexes.</span></span> <span data-ttu-id="198aa-236">Le catalogue de texte intégral est un objet virtuel qui n'appartient à aucun groupe de fichiers.</span><span class="sxs-lookup"><span data-stu-id="198aa-236">The full-text catalog is a virtual object that does not belong to any filegroup.</span></span> <span data-ttu-id="198aa-237">Cependant, lorsque vous attachez une base de données [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] qui contient des fichiers catalogue de texte intégral à une instance de serveur [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , les fichiers catalogue sont attachés à partir de leur emplacement précédent avec les autres fichiers de base de données, les mêmes que dans [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="198aa-237">However, when you attach a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database that contains full-text catalog files onto a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, the catalog files are attached from their previous location along with the other database files, the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span>  
  
 <span data-ttu-id="198aa-238">L'état de chaque catalogue de texte intégral attaché sur [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] est le même que lors du détachement de la base de données de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="198aa-238">The state of each attached full-text catalog on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is the same as when the database was detached from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="198aa-239">Si le remplissage de l'index de recherche en texte intégral est interrompu par l'opération de détachement, le remplissage reprend sur [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], et l'index de recherche en texte intégral devient disponible pour la recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="198aa-239">If any full-text index population was suspended by the detach operation, the population is resumed on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], and the full-text index becomes available for full-text search.</span></span>  
  
 <span data-ttu-id="198aa-240">Si [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] ne parvient pas à trouver un fichier catalogue de texte intégral ou si ce dernier a été déplacé durant l'opération d'attachement sans spécification du nouvel emplacement, le comportement dépend de l'option de mise à niveau de texte intégral sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="198aa-240">If [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] cannot find a full-text catalog file or if the full-text file was moved during the attach operation without specifying a new location, the behavior depends on the selected full-text upgrade option.</span></span> <span data-ttu-id="198aa-241">Si l’option de mise à niveau de texte intégral a la valeur **Importer** ou **Reconstruire**, le catalogue de texte intégral attaché est reconstruit.</span><span class="sxs-lookup"><span data-stu-id="198aa-241">If the full-text upgrade option is **Import** or **Rebuild**, the attached full-text catalog is rebuilt.</span></span> <span data-ttu-id="198aa-242">Si l’option de mise à niveau de texte intégral a la valeur **Réinitialiser**, le catalogue de texte intégral attaché est réinitialisé.</span><span class="sxs-lookup"><span data-stu-id="198aa-242">If the full-text upgrade option is **Reset**, the attached full-text catalog is reset.</span></span>  
  
 <span data-ttu-id="198aa-243">Pour plus d’informations sur le détachement et l’attachement d’une base de données, consultez [Attacher et détacher une base de données &#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql) et [sp_detach_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="198aa-243">For more information about detaching and attaching a database, see [Database Detach and Attach &#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql), and [sp_detach_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="198aa-244">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="198aa-244">See Also</span></span>  
 <span data-ttu-id="198aa-245">[Commencer à utiliser la recherche en texte intégral](get-started-with-full-text-search.md) </span><span class="sxs-lookup"><span data-stu-id="198aa-245">[Get Started with Full-Text Search](get-started-with-full-text-search.md) </span></span>  
 <span data-ttu-id="198aa-246">[Configurer et gérer les analyseurs lexicaux et les générateurs de formes dérivées pour la recherche](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span><span class="sxs-lookup"><span data-stu-id="198aa-246">[Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span></span>  
 [<span data-ttu-id="198aa-247">Configurer et gérer des filtres pour la recherche</span><span class="sxs-lookup"><span data-stu-id="198aa-247">Configure and Manage Filters for Search</span></span>](configure-and-manage-filters-for-search.md)  
  
  
