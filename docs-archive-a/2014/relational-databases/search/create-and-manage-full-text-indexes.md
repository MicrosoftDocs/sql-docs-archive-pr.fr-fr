---
title: Créer et gérer des index de recherche en texte intégral | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text indexes [SQL Server], about
ms.assetid: f8a98486-5438-44a8-b454-9e6ecbc74f83
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 603b5e6b929259dc8b1408c0c2a1afab383446e1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87700992"
---
# <a name="create-and-manage-full-text-indexes"></a><span data-ttu-id="b5b4b-102">Créer et gérer des index de recherche en texte intégral</span><span class="sxs-lookup"><span data-stu-id="b5b4b-102">Create and Manage Full-Text Indexes</span></span>
  <span data-ttu-id="b5b4b-103">Les informations contenues dans les index de recherche en texte intégral sont utilisées par le Moteur d'indexation et de recherche en texte intégral pour compiler des requêtes de texte intégral qui permettent de rechercher rapidement certains mots ou combinaisons de mots dans une table.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-103">The information in full-text indexes is used by the Full-Text Engine to compile full-text queries that can quickly search a table for particular words or combinations of words.</span></span> <span data-ttu-id="b5b4b-104">Un index de recherche en texte intégral stocke les informations se rapportant aux mots significatifs et à leur emplacement dans une ou plusieurs colonnes d'une table de base de données.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-104">A full-text index stores information about significant words and their location within one or more columns of a database table.</span></span> <span data-ttu-id="b5b4b-105">Un index de recherche en texte intégral est un type spécial d'index fonctionnel par jeton qui est construit et géré par le Moteur d'indexation et de recherche en texte intégral pour [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5b4b-105">A full-text index is a special type of token-based functional index that is built and maintained by the Full-Text Engine for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b5b4b-106">Le processus de création d'un index de texte intégral diffère du processus de création des autres types d'index.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-106">The process of building a full-text index differs from building other types of indexes.</span></span> <span data-ttu-id="b5b4b-107">Au lieu de construire une structure d'arbre B (B-tree) en fonction d'une valeur stockée dans une ligne particulière, le Moteur d'indexation et de recherche en texte intégral crée une structure d'index inversée, empilée, compressée et basée sur des jetons individuels provenant du texte indexé.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-107">Instead of constructing a B-tree structure based on a value stored in a particular row, the Full-Text Engine builds an inverted, stacked, compressed index structure based on individual tokens from the text being indexed.</span></span>  <span data-ttu-id="b5b4b-108">La taille d’un index de recherche en texte intégral est limitée uniquement par les ressources mémoire dont dispose l’ordinateur sur lequel l’instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] s’exécute.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-108">The size of a full-text index is limited only by the available memory resources of the computer on which the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running.</span></span>  
  
 <span data-ttu-id="b5b4b-109">À compter de [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], les index de recherche en texte intégral sont intégrés au Moteur de base de données, au lieu de résider dans le système de fichiers comme dans les versions antérieures de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5b4b-109">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the full-text indexes are integrated with the Database Engine, instead of residing in the file system as in previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b5b4b-110">Pour une nouvelle base de données, le catalogue de texte intégral est désormais un objet virtuel qui n'appartient à aucun groupe de fichiers ; il s'agit tout simplement d'un concept logique qui fait référence à un groupe d'index de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-110">For a new database, the full-text catalog is now a virtual object that does not belong to any filegroup; it is merely a logical concept that refers to a group of the full-text indexes.</span></span> <span data-ttu-id="b5b4b-111">Notez toutefois que pendant la mise à niveau d’une base de données [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , pour tout catalogue de texte intégral qui contient des fichiers de données, un nouveau groupe de fichiers est créé ; pour plus d’informations, consultez [Mise à niveau de la fonction de recherche en texte intégral](upgrade-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="b5b4b-111">Note, however, that during upgrade of a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database, any full-text catalog that contains data files, a new filegroup is created; for more information, see [Upgrade Full-Text Search](upgrade-full-text-search.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b5b4b-112">Dans [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] et les versions ultérieures, le moteur d'indexation et de recherche en texte intégral réside dans le processus [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , plutôt que dans un service séparé.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-112">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, the Full-Text Engine resides in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] process, rather than in a separate service.</span></span> <span data-ttu-id="b5b4b-113">L'intégration du Moteur d'indexation et de recherche en texte intégral dans le Moteur de base de données permet une simplification de la gestion de l'indexation et de la recherche en texte intégral, ainsi qu'une amélioration de l'optimisation des requêtes mixtes et des performances globales.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-113">Integrating the Full-Text Engine into the Database Engine improves full-text manageability, optimization of mixed query, and overall performance.</span></span>  
  
 <span data-ttu-id="b5b4b-114">Un seul index de recherche en texte intégral est autorisé par table.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-114">Only one full-text index is allowed per table.</span></span> <span data-ttu-id="b5b4b-115">Pour qu'un index de recherche en texte intégral puisse être créé sur une table, cette dernière doit posséder une colonne d'index unique, qui n'accepte pas les valeurs Null.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-115">For a full-text index to be created on a table, the table must have a single, unique nonnull column.</span></span> <span data-ttu-id="b5b4b-116">Vous pouvez créer un index de recherche en texte intégral sur des colonnes de type `char`, `varchar`, `nchar`, `nvarchar`, `text`, `ntext`, `image`, ,`xml`, `varbinary`, et `varbinary(max)` peut être indexé pour la recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-116">You can build a full-text index on columns of type `char`, `varchar`, `nchar`, `nvarchar`, `text`, `ntext`, `image`, `xml`, `varbinary`, and `varbinary(max)` can be indexed for full-text search.</span></span> <span data-ttu-id="b5b4b-117">Lorsque vous créez un index de recherche en texte intégral sur une colonne de type de données `varbinary`, `varbinary(max)`, `image`, ou `xml`, vous devez spécifier une colonne de type.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-117">Creating a full-text index on a column whose data type is  `varbinary`, `varbinary(max)`, `image`, or `xml` requires that you specify a type column.</span></span> <span data-ttu-id="b5b4b-118">Une *colonne de type* est une colonne de table dans laquelle vous stockez l’extension de fichier (.doc, .pdf, .xls, etc.) du document dans chaque ligne.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-118">A *type column* is a table column in which you store the file extension (.doc, .pdf, .xls, and so forth) of the document in each row.</span></span>  
  
 <span data-ttu-id="b5b4b-119">Le processus de création et de gestion d’un index de recherche en texte intégral est appelé *alimentation* (également appelé *analyse*).</span><span class="sxs-lookup"><span data-stu-id="b5b4b-119">The process of creating and maintaining a full-text index is called a *population* (also known as a *crawl*).</span></span> <span data-ttu-id="b5b4b-120">Il existe trois types d'alimentation de l'index de recherche en texte intégral : l'alimentation complète, l'alimentation basée sur le suivi des modifications et l'alimentation incrémentielle basée sur l'horodateur.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-120">There are three types of full-text index population: full population, change tracking-based population, and incremental timestamp-based population.</span></span> <span data-ttu-id="b5b4b-121">Pour plus d’informations, consultez [Alimenter des index de recherche en texte intégral](populate-full-text-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="b5b4b-121">For more information, see [Populate Full-Text Indexes](populate-full-text-indexes.md).</span></span>  
  
##  <a name="common-tasks"></a><a name="tasks"></a><span data-ttu-id="b5b4b-122">Tâches courantes</span><span class="sxs-lookup"><span data-stu-id="b5b4b-122">Common Tasks</span></span>  
 <span data-ttu-id="b5b4b-123">**Pour créer un index de recherche en texte intégral**</span><span class="sxs-lookup"><span data-stu-id="b5b4b-123">**To create a full-text index**</span></span>  
  
-   [<span data-ttu-id="b5b4b-124">CREATE FULLTEXT INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5b4b-124">CREATE FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-fulltext-index-transact-sql)  
  
 <span data-ttu-id="b5b4b-125">**Pour modifier un index de recherche en texte intégral**</span><span class="sxs-lookup"><span data-stu-id="b5b4b-125">**To alter a full-text index**</span></span>  
  
-   [<span data-ttu-id="b5b4b-126">ALTER FULLTEXT INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5b4b-126">ALTER FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-fulltext-index-transact-sql)  
  
 <span data-ttu-id="b5b4b-127">**Pour supprimer un index de recherche en texte intégral**</span><span class="sxs-lookup"><span data-stu-id="b5b4b-127">**To drop a full-text index**</span></span>  
  
-   [<span data-ttu-id="b5b4b-128">DROP FULLTEXT INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5b4b-128">DROP FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/drop-fulltext-index-transact-sql)  
  
 [<span data-ttu-id="b5b4b-129">Dans cette rubrique</span><span class="sxs-lookup"><span data-stu-id="b5b4b-129">In This Topic</span></span>](#top)  
  
##  <a name="full-text-index-structure"></a><a name="structure"></a><span data-ttu-id="b5b4b-130">Structure de l’index de recherche en texte intégral</span><span class="sxs-lookup"><span data-stu-id="b5b4b-130">Full-Text Index Structure</span></span>  
 <span data-ttu-id="b5b4b-131">La compréhension de la structure d'un index de recherche en texte intégral vous permet de comprendre également le fonctionnement du Moteur d'indexation et de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-131">A good understanding of the structure of a full-text index will help you understand how the Full-Text Engine works.</span></span> <span data-ttu-id="b5b4b-132">Cette rubrique utilise l'extrait suivant de la table **Document** dans [!INCLUDE[ssSampleDBCoShort](../../includes/sssampledbcoshort-md.md)] comme exemple de table.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-132">This topic uses the following excerpt of the **Document** table in [!INCLUDE[ssSampleDBCoShort](../../includes/sssampledbcoshort-md.md)] as an example table.</span></span> <span data-ttu-id="b5b4b-133">L'extrait suivant montre deux colonnes, la colonne **DocumentID** et la colonne **Title** , ainsi que trois lignes provenant de cette table.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-133">This excerpt shows only two columns, the **DocumentID** column and the **Title** column, and three rows from the table.</span></span>  
  
 <span data-ttu-id="b5b4b-134">Pour cet exemple, il faut partir de l’hypothèse qu’un index de recherche en texte intégral a été créé sur la colonne **Title** .</span><span class="sxs-lookup"><span data-stu-id="b5b4b-134">For this example, we will assume that a full-text index has been created on the **Title** column.</span></span>  
  
|<span data-ttu-id="b5b4b-135">DocumentID</span><span class="sxs-lookup"><span data-stu-id="b5b4b-135">DocumentID</span></span>|<span data-ttu-id="b5b4b-136">Intitulé</span><span class="sxs-lookup"><span data-stu-id="b5b4b-136">Title</span></span>|  
|----------------|-----------|  
|<span data-ttu-id="b5b4b-137">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-137">1</span></span>|<span data-ttu-id="b5b4b-138">Crank Arm and Tire Maintenance</span><span class="sxs-lookup"><span data-stu-id="b5b4b-138">Crank Arm and Tire Maintenance</span></span>|  
|<span data-ttu-id="b5b4b-139">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-139">2</span></span>|<span data-ttu-id="b5b4b-140">Front Reflector Bracket and Reflector Assembly 3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-140">Front Reflector Bracket and Reflector Assembly 3</span></span>|  
|<span data-ttu-id="b5b4b-141">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-141">3</span></span>|<span data-ttu-id="b5b4b-142">Front Reflector Bracket Installation</span><span class="sxs-lookup"><span data-stu-id="b5b4b-142">Front Reflector Bracket Installation</span></span>|  
  
 <span data-ttu-id="b5b4b-143">Par exemple, la table suivante, qui illustre le Fragment 1, décrit le contenu de l’index de recherche en texte intégral créé sur la colonne **Title** de la table **Document** .</span><span class="sxs-lookup"><span data-stu-id="b5b4b-143">For example, the following table, which shows Fragment 1, depicts the contents of the full-text index created on the **Title** column of the **Document** table.</span></span> <span data-ttu-id="b5b4b-144">Les index de recherche en texte intégral contiennent plus d'informations que les éléments présentés dans cette table.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-144">Full-text indexes contain more information than is presented in this table.</span></span> <span data-ttu-id="b5b4b-145">La table est une représentation logique d'un index de recherche en texte intégral et est fournie à des fins de démonstration uniquement.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-145">The table is a logical representation of a full-text index and is provided for demonstration purposes only.</span></span> <span data-ttu-id="b5b4b-146">Les lignes sont stockées dans un format compressé pour optimiser l'utilisation du disque.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-146">The rows are stored in a compressed format to optimize disk usage.</span></span>  
  
 <span data-ttu-id="b5b4b-147">Remarquez que les données ont été inversées par rapport aux documents d'origine.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-147">Notice that the data has been inverted from the original documents.</span></span> <span data-ttu-id="b5b4b-148">L'inversion se produit parce que les mots clés sont mappés aux ID de document.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-148">Inversion occurs because the keywords are mapped to the document IDs.</span></span> <span data-ttu-id="b5b4b-149">Pour cette raison, un index de recherche en texte intégral est souvent désigné par le nom d'un index inversé.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-149">For this reason, a full-text index is often referred to as an inverted index.</span></span>  
  
 <span data-ttu-id="b5b4b-150">Remarquez également que le mot clé « and » a été supprimé de l'index de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-150">Also notice that the keyword "and" has been removed from the full-text index.</span></span> <span data-ttu-id="b5b4b-151">Cela s'explique du fait que « and » est un mot vide, et que la suppression de mots vides d'un index de recherche en texte intégral peut induire des économies substantielles en termes d'espace disque, d'où une amélioration des performances des requêtes.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-151">This is done because "and" is a stopword, and removing stopwords from a full-text index can lead to substantial savings in disk space thereby improving query performance.</span></span> <span data-ttu-id="b5b4b-152">Pour plus d’informations sur les mots vides, consultez [Configurer et gérer les mots vides et listes de mots vides pour la recherche en texte intégral](configure-and-manage-stopwords-and-stoplists-for-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="b5b4b-152">For more information about stopwords, see [Configure and Manage Stopwords and Stoplists for Full-Text Search](configure-and-manage-stopwords-and-stoplists-for-full-text-search.md).</span></span>  
  
 <span data-ttu-id="b5b4b-153">**Fragment 1**</span><span class="sxs-lookup"><span data-stu-id="b5b4b-153">**Fragment 1**</span></span>  
  
|<span data-ttu-id="b5b4b-154">Mot clé</span><span class="sxs-lookup"><span data-stu-id="b5b4b-154">Keyword</span></span>|<span data-ttu-id="b5b4b-155">ColId</span><span class="sxs-lookup"><span data-stu-id="b5b4b-155">ColId</span></span>|<span data-ttu-id="b5b4b-156">DocId</span><span class="sxs-lookup"><span data-stu-id="b5b4b-156">DocId</span></span>|<span data-ttu-id="b5b4b-157">Occurrence</span><span class="sxs-lookup"><span data-stu-id="b5b4b-157">Occurrence</span></span>|  
|-------------|-----------|-----------|----------------|  
|<span data-ttu-id="b5b4b-158">Crank</span><span class="sxs-lookup"><span data-stu-id="b5b4b-158">Crank</span></span>|<span data-ttu-id="b5b4b-159">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-159">1</span></span>|<span data-ttu-id="b5b4b-160">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-160">1</span></span>|<span data-ttu-id="b5b4b-161">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-161">1</span></span>|  
|<span data-ttu-id="b5b4b-162">Arm</span><span class="sxs-lookup"><span data-stu-id="b5b4b-162">Arm</span></span>|<span data-ttu-id="b5b4b-163">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-163">1</span></span>|<span data-ttu-id="b5b4b-164">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-164">1</span></span>|<span data-ttu-id="b5b4b-165">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-165">2</span></span>|  
|<span data-ttu-id="b5b4b-166">Tire</span><span class="sxs-lookup"><span data-stu-id="b5b4b-166">Tire</span></span>|<span data-ttu-id="b5b4b-167">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-167">1</span></span>|<span data-ttu-id="b5b4b-168">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-168">1</span></span>|<span data-ttu-id="b5b4b-169">4</span><span class="sxs-lookup"><span data-stu-id="b5b4b-169">4</span></span>|  
|<span data-ttu-id="b5b4b-170">Maintenance</span><span class="sxs-lookup"><span data-stu-id="b5b4b-170">Maintenance</span></span>|<span data-ttu-id="b5b4b-171">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-171">1</span></span>|<span data-ttu-id="b5b4b-172">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-172">1</span></span>|<span data-ttu-id="b5b4b-173">5</span><span class="sxs-lookup"><span data-stu-id="b5b4b-173">5</span></span>|  
|<span data-ttu-id="b5b4b-174">Front</span><span class="sxs-lookup"><span data-stu-id="b5b4b-174">Front</span></span>|<span data-ttu-id="b5b4b-175">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-175">1</span></span>|<span data-ttu-id="b5b4b-176">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-176">2</span></span>|<span data-ttu-id="b5b4b-177">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-177">1</span></span>|  
|<span data-ttu-id="b5b4b-178">Front</span><span class="sxs-lookup"><span data-stu-id="b5b4b-178">Front</span></span>|<span data-ttu-id="b5b4b-179">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-179">1</span></span>|<span data-ttu-id="b5b4b-180">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-180">3</span></span>|<span data-ttu-id="b5b4b-181">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-181">1</span></span>|  
|<span data-ttu-id="b5b4b-182">Reflector</span><span class="sxs-lookup"><span data-stu-id="b5b4b-182">Reflector</span></span>|<span data-ttu-id="b5b4b-183">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-183">1</span></span>|<span data-ttu-id="b5b4b-184">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-184">2</span></span>|<span data-ttu-id="b5b4b-185">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-185">2</span></span>|  
|<span data-ttu-id="b5b4b-186">Reflector</span><span class="sxs-lookup"><span data-stu-id="b5b4b-186">Reflector</span></span>|<span data-ttu-id="b5b4b-187">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-187">1</span></span>|<span data-ttu-id="b5b4b-188">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-188">2</span></span>|<span data-ttu-id="b5b4b-189">5</span><span class="sxs-lookup"><span data-stu-id="b5b4b-189">5</span></span>|  
|<span data-ttu-id="b5b4b-190">Reflector</span><span class="sxs-lookup"><span data-stu-id="b5b4b-190">Reflector</span></span>|<span data-ttu-id="b5b4b-191">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-191">1</span></span>|<span data-ttu-id="b5b4b-192">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-192">3</span></span>|<span data-ttu-id="b5b4b-193">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-193">2</span></span>|  
|<span data-ttu-id="b5b4b-194">Bracket</span><span class="sxs-lookup"><span data-stu-id="b5b4b-194">Bracket</span></span>|<span data-ttu-id="b5b4b-195">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-195">1</span></span>|<span data-ttu-id="b5b4b-196">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-196">2</span></span>|<span data-ttu-id="b5b4b-197">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-197">3</span></span>|  
|<span data-ttu-id="b5b4b-198">Bracket</span><span class="sxs-lookup"><span data-stu-id="b5b4b-198">Bracket</span></span>|<span data-ttu-id="b5b4b-199">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-199">1</span></span>|<span data-ttu-id="b5b4b-200">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-200">3</span></span>|<span data-ttu-id="b5b4b-201">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-201">3</span></span>|  
|<span data-ttu-id="b5b4b-202">Assembly</span><span class="sxs-lookup"><span data-stu-id="b5b4b-202">Assembly</span></span>|<span data-ttu-id="b5b4b-203">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-203">1</span></span>|<span data-ttu-id="b5b4b-204">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-204">2</span></span>|<span data-ttu-id="b5b4b-205">6</span><span class="sxs-lookup"><span data-stu-id="b5b4b-205">6</span></span>|  
|<span data-ttu-id="b5b4b-206">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-206">3</span></span>|<span data-ttu-id="b5b4b-207">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-207">1</span></span>|<span data-ttu-id="b5b4b-208">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-208">2</span></span>|<span data-ttu-id="b5b4b-209">7</span><span class="sxs-lookup"><span data-stu-id="b5b4b-209">7</span></span>|  
|<span data-ttu-id="b5b4b-210">Installation</span><span class="sxs-lookup"><span data-stu-id="b5b4b-210">Installation</span></span>|<span data-ttu-id="b5b4b-211">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-211">1</span></span>|<span data-ttu-id="b5b4b-212">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-212">3</span></span>|<span data-ttu-id="b5b4b-213">4</span><span class="sxs-lookup"><span data-stu-id="b5b4b-213">4</span></span>|  
  
 <span data-ttu-id="b5b4b-214">La colonne **Keyword** contient la représentation d'un jeton unique extrait au moment de l'indexation.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-214">The **Keyword** column contains a representation of a single token extracted at indexing time.</span></span> <span data-ttu-id="b5b4b-215">Les analyseurs lexicaux déterminent le contenu d'un jeton.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-215">Word breakers determine what makes up a token.</span></span>  
  
 <span data-ttu-id="b5b4b-216">La colonne **ColId** contient une valeur qui correspond à une colonne particulière indexée en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-216">The **ColId** column contains a value that corresponds to a particular column that is full-text indexed.</span></span>  
  
 <span data-ttu-id="b5b4b-217">La `DocId` colonne contient des valeurs pour un entier sur huit octets qui correspond à une valeur de clé de texte intégral particulière dans une table indexée de texte intégral.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-217">The `DocId` column contains values for an eight-byte integer that maps to a particular full-text key value in a full-text indexed table.</span></span> <span data-ttu-id="b5b4b-218">Ce mappage est nécessaire lorsque la clé de texte intégral n'est pas un type de données integer.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-218">This mapping is necessary when the full-text key is not an integer data type.</span></span> <span data-ttu-id="b5b4b-219">Dans ce cas, les mappages entre les valeurs de clé de texte intégral et `DocId` les valeurs sont conservés dans une table distincte appelée table de mappage des ID de l’ensemble de clés.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-219">In such cases, mappings between full-text key values and `DocId` values are maintained in a separate table called the DocId Mapping table.</span></span> <span data-ttu-id="b5b4b-220">Pour lancer une requête à propos de ces mappages, utilisez la procédure stockée système [sp_fulltext_keymapping](/sql/relational-databases/system-stored-procedures/sp-fulltext-keymappings-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="b5b4b-220">To query for these mappings use the [sp_fulltext_keymappings](/sql/relational-databases/system-stored-procedures/sp-fulltext-keymappings-transact-sql) system stored procedure.</span></span> <span data-ttu-id="b5b4b-221">Pour satisfaire à un critère de recherche, les valeurs DocId de la table précitée doivent être jointes avec la table de mappage DocId pour extraire des lignes de la table de base qui est interrogée.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-221">To satisfy a search condition, DocId values from the above table need to be joined with the DocId Mapping table to retrieve rows from the base table being queried.</span></span> <span data-ttu-id="b5b4b-222">Lorsque la valeur de clé de texte intégral de la table de base est un type de données Integer, la valeur sert directement de DocId et aucun mappage n'est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-222">If the full-text key value of the base table is an integer type, the value directly serves as the DocId and no mapping is necessary.</span></span> <span data-ttu-id="b5b4b-223">Par conséquent, l'utilisation de valeurs de clé de texte intégral Integer peut contribuer à optimiser des requêtes de texte intégral.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-223">Therefore, using integer full-text key values can help optimize full-text queries.</span></span>  
  
 <span data-ttu-id="b5b4b-224">La colonne **Occurrence** contient une valeur entière.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-224">The **Occurrence** column contains an integer value.</span></span> <span data-ttu-id="b5b4b-225">Pour chaque valeur DocId, il existe une liste de valeurs d'occurrences qui correspondent aux décalages de mots relatifs du mot clé spécifique contenu dans DocId.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-225">For each DocId value, there is a list of occurrence values that correspond to the relative word offsets of the particular keyword within that DocId.</span></span> <span data-ttu-id="b5b4b-226">Les valeurs d'occurrences servent à déterminer les correspondances d'expressions ou de proximité, par exemple lorsque des expressions ont des valeurs d'occurrences adjacentes numériquement.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-226">Occurrence values are useful in determining phrase or proximity matches, for example, phrases have numerically adjacent occurrence values.</span></span> <span data-ttu-id="b5b4b-227">Elles servent également à calculer les scores de pertinence ; par exemple, le nombre d'occurrences d'un mot clé dans DocId peut être utilisé pour l'établissement d'un score.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-227">They are also useful in computing relevance scores; for example, the number of occurrences of a keyword in a DocId may be used in scoring.</span></span>  
  
 [<span data-ttu-id="b5b4b-228">Dans cette rubrique</span><span class="sxs-lookup"><span data-stu-id="b5b4b-228">In This Topic</span></span>](#top)  
  
##  <a name="full-text-index-fragments"></a><a name="fragments"></a><span data-ttu-id="b5b4b-229">Fragments d’index de recherche en texte intégral</span><span class="sxs-lookup"><span data-stu-id="b5b4b-229">Full-Text Index Fragments</span></span>  
 <span data-ttu-id="b5b4b-230">L'index de recherche en texte intégral logique est habituellement fractionné entre plusieurs tables internes.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-230">The logical full-text index is usually split across multiple internal tables.</span></span> <span data-ttu-id="b5b4b-231">Chaque table interne est appelé fragment d'index de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-231">Each internal table is called a full-text index fragment.</span></span> <span data-ttu-id="b5b4b-232">Quelques-uns de ces fragments peuvent contenir des données plus récentes que d'autres.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-232">Some of these fragments might contain newer data than others.</span></span> <span data-ttu-id="b5b4b-233">Par exemple, si un utilisateur met à jour la ligne suivante dont DocId est 3 et que la table effectue un suivi automatique des modifications, un nouveau fragment est créé.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-233">For example, if a user updates the following row whose DocId is 3 and the table is auto change-tracked, a new fragment is created.</span></span>  
  
|<span data-ttu-id="b5b4b-234">DocumentID</span><span class="sxs-lookup"><span data-stu-id="b5b4b-234">DocumentID</span></span>|<span data-ttu-id="b5b4b-235">Intitulé</span><span class="sxs-lookup"><span data-stu-id="b5b4b-235">Title</span></span>|  
|----------------|-----------|  
|<span data-ttu-id="b5b4b-236">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-236">3</span></span>|<span data-ttu-id="b5b4b-237">Rear Reflector</span><span class="sxs-lookup"><span data-stu-id="b5b4b-237">Rear Reflector</span></span>|  
  
 <span data-ttu-id="b5b4b-238">Dans l'exemple suivant, qui illustre le Fragment 2, le fragment contient des données plus récentes à propos de DocId 3 par rapport à Fragment 1.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-238">In the following example, which shows Fragment 2, the fragment contains newer data about DocId 3 compared to Fragment 1.</span></span> <span data-ttu-id="b5b4b-239">Par conséquent, lorsque l'utilisateur émet des requêtes concernant « Rear Reflector », les données de Fragment 2 sont utilisées pour DocId 3.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-239">Therefore, when the user queries for "Rear Reflector" the data from Fragment 2 is used for DocId 3.</span></span> <span data-ttu-id="b5b4b-240">Chaque fragment est marqué avec un horodateur de création qui peut être interrogé à l’aide de la vue de catalogue [sys.fulltext_index_fragments](/sql/relational-databases/system-catalog-views/sys-fulltext-index-fragments-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="b5b4b-240">Each fragment is marked with a creation timestamp that can be queried by using the [sys.fulltext_index_fragments](/sql/relational-databases/system-catalog-views/sys-fulltext-index-fragments-transact-sql) catalog view.</span></span>  
  
 <span data-ttu-id="b5b4b-241">**Fragment 2**</span><span class="sxs-lookup"><span data-stu-id="b5b4b-241">**Fragment 2**</span></span>  
  
|<span data-ttu-id="b5b4b-242">Mot clé</span><span class="sxs-lookup"><span data-stu-id="b5b4b-242">Keyword</span></span>|<span data-ttu-id="b5b4b-243">ColId</span><span class="sxs-lookup"><span data-stu-id="b5b4b-243">ColId</span></span>|<span data-ttu-id="b5b4b-244">DocId</span><span class="sxs-lookup"><span data-stu-id="b5b4b-244">DocId</span></span>|<span data-ttu-id="b5b4b-245">Occ</span><span class="sxs-lookup"><span data-stu-id="b5b4b-245">Occ</span></span>|  
|-------------|-----------|-----------|---------|  
|<span data-ttu-id="b5b4b-246">Rear</span><span class="sxs-lookup"><span data-stu-id="b5b4b-246">Rear</span></span>|<span data-ttu-id="b5b4b-247">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-247">1</span></span>|<span data-ttu-id="b5b4b-248">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-248">3</span></span>|<span data-ttu-id="b5b4b-249">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-249">1</span></span>|  
|<span data-ttu-id="b5b4b-250">Reflector</span><span class="sxs-lookup"><span data-stu-id="b5b4b-250">Reflector</span></span>|<span data-ttu-id="b5b4b-251">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-251">1</span></span>|<span data-ttu-id="b5b4b-252">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-252">3</span></span>|<span data-ttu-id="b5b4b-253">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-253">2</span></span>|  
  
 <span data-ttu-id="b5b4b-254">Comme on peut le constater d'après Fragment 2, les requêtes de texte intégral doivent interroger chaque fragment en interne et ignorer les entrées plus anciennes.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-254">As can be seen from Fragment 2, full-text queries need to query each fragment internally and discard older entries.</span></span> <span data-ttu-id="b5b4b-255">Par conséquent, trop de fragments d'index de recherche en texte intégral dans l'index de texte intégral peut conduire à une dégradation substantielle dans les performances des requêtes.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-255">Therefore, too many full-text index fragments in the full-text index can lead to substantial degradation in query performance.</span></span> <span data-ttu-id="b5b4b-256">Pour réduire le nombre de fragments, réorganisez le catalogue de texte intégral en utilisant l’option REORGANIZE de l’instruction [!INCLUDE[tsql](../../includes/tsql-md.md)][ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5b4b-256">To reduce the number of fragments, reorganize the fulltext catalog by using the REORGANIZE option of the [ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)[!INCLUDE[tsql](../../includes/tsql-md.md)] statement.</span></span> <span data-ttu-id="b5b4b-257">Cette instruction effectue une *fusion principale*, c’est-à-dire une fusion de tous les fragments en un fragment unique plus grand, et supprime toutes les entrées obsolètes de l’index de recherche en texte intégral.</span><span class="sxs-lookup"><span data-stu-id="b5b4b-257">This statement performs a *master merge*, which merges the fragments into a single larger fragment and removes all obsolete entries from the full-text index.</span></span>  
  
 <span data-ttu-id="b5b4b-258">Une fois réorganisé, l'index de l'exemple contient les lignes suivantes :</span><span class="sxs-lookup"><span data-stu-id="b5b4b-258">After being reorganized, the example index would contain the following rows:</span></span>  
  
|<span data-ttu-id="b5b4b-259">Mot clé</span><span class="sxs-lookup"><span data-stu-id="b5b4b-259">Keyword</span></span>|<span data-ttu-id="b5b4b-260">ColId</span><span class="sxs-lookup"><span data-stu-id="b5b4b-260">ColId</span></span>|<span data-ttu-id="b5b4b-261">DocId</span><span class="sxs-lookup"><span data-stu-id="b5b4b-261">DocId</span></span>|<span data-ttu-id="b5b4b-262">Occ</span><span class="sxs-lookup"><span data-stu-id="b5b4b-262">Occ</span></span>|  
|-------------|-----------|-----------|---------|  
|<span data-ttu-id="b5b4b-263">Crank</span><span class="sxs-lookup"><span data-stu-id="b5b4b-263">Crank</span></span>|<span data-ttu-id="b5b4b-264">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-264">1</span></span>|<span data-ttu-id="b5b4b-265">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-265">1</span></span>|<span data-ttu-id="b5b4b-266">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-266">1</span></span>|  
|<span data-ttu-id="b5b4b-267">Arm</span><span class="sxs-lookup"><span data-stu-id="b5b4b-267">Arm</span></span>|<span data-ttu-id="b5b4b-268">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-268">1</span></span>|<span data-ttu-id="b5b4b-269">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-269">1</span></span>|<span data-ttu-id="b5b4b-270">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-270">2</span></span>|  
|<span data-ttu-id="b5b4b-271">Tire</span><span class="sxs-lookup"><span data-stu-id="b5b4b-271">Tire</span></span>|<span data-ttu-id="b5b4b-272">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-272">1</span></span>|<span data-ttu-id="b5b4b-273">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-273">1</span></span>|<span data-ttu-id="b5b4b-274">4</span><span class="sxs-lookup"><span data-stu-id="b5b4b-274">4</span></span>|  
|<span data-ttu-id="b5b4b-275">Maintenance</span><span class="sxs-lookup"><span data-stu-id="b5b4b-275">Maintenance</span></span>|<span data-ttu-id="b5b4b-276">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-276">1</span></span>|<span data-ttu-id="b5b4b-277">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-277">1</span></span>|<span data-ttu-id="b5b4b-278">5</span><span class="sxs-lookup"><span data-stu-id="b5b4b-278">5</span></span>|  
|<span data-ttu-id="b5b4b-279">Front</span><span class="sxs-lookup"><span data-stu-id="b5b4b-279">Front</span></span>|<span data-ttu-id="b5b4b-280">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-280">1</span></span>|<span data-ttu-id="b5b4b-281">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-281">2</span></span>|<span data-ttu-id="b5b4b-282">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-282">1</span></span>|  
|<span data-ttu-id="b5b4b-283">Rear</span><span class="sxs-lookup"><span data-stu-id="b5b4b-283">Rear</span></span>|<span data-ttu-id="b5b4b-284">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-284">1</span></span>|<span data-ttu-id="b5b4b-285">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-285">3</span></span>|<span data-ttu-id="b5b4b-286">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-286">1</span></span>|  
|<span data-ttu-id="b5b4b-287">Reflector</span><span class="sxs-lookup"><span data-stu-id="b5b4b-287">Reflector</span></span>|<span data-ttu-id="b5b4b-288">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-288">1</span></span>|<span data-ttu-id="b5b4b-289">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-289">2</span></span>|<span data-ttu-id="b5b4b-290">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-290">2</span></span>|  
|<span data-ttu-id="b5b4b-291">Reflector</span><span class="sxs-lookup"><span data-stu-id="b5b4b-291">Reflector</span></span>|<span data-ttu-id="b5b4b-292">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-292">1</span></span>|<span data-ttu-id="b5b4b-293">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-293">2</span></span>|<span data-ttu-id="b5b4b-294">5</span><span class="sxs-lookup"><span data-stu-id="b5b4b-294">5</span></span>|  
|<span data-ttu-id="b5b4b-295">Reflector</span><span class="sxs-lookup"><span data-stu-id="b5b4b-295">Reflector</span></span>|<span data-ttu-id="b5b4b-296">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-296">1</span></span>|<span data-ttu-id="b5b4b-297">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-297">3</span></span>|<span data-ttu-id="b5b4b-298">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-298">2</span></span>|  
|<span data-ttu-id="b5b4b-299">Bracket</span><span class="sxs-lookup"><span data-stu-id="b5b4b-299">Bracket</span></span>|<span data-ttu-id="b5b4b-300">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-300">1</span></span>|<span data-ttu-id="b5b4b-301">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-301">2</span></span>|<span data-ttu-id="b5b4b-302">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-302">3</span></span>|  
|<span data-ttu-id="b5b4b-303">Assembly</span><span class="sxs-lookup"><span data-stu-id="b5b4b-303">Assembly</span></span>|<span data-ttu-id="b5b4b-304">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-304">1</span></span>|<span data-ttu-id="b5b4b-305">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-305">2</span></span>|<span data-ttu-id="b5b4b-306">6</span><span class="sxs-lookup"><span data-stu-id="b5b4b-306">6</span></span>|  
|<span data-ttu-id="b5b4b-307">3</span><span class="sxs-lookup"><span data-stu-id="b5b4b-307">3</span></span>|<span data-ttu-id="b5b4b-308">1</span><span class="sxs-lookup"><span data-stu-id="b5b4b-308">1</span></span>|<span data-ttu-id="b5b4b-309">2</span><span class="sxs-lookup"><span data-stu-id="b5b4b-309">2</span></span>|<span data-ttu-id="b5b4b-310">7</span><span class="sxs-lookup"><span data-stu-id="b5b4b-310">7</span></span>|  
  
 [<span data-ttu-id="b5b4b-311">Dans cette rubrique</span><span class="sxs-lookup"><span data-stu-id="b5b4b-311">In This Topic</span></span>](#top)  
  
  
