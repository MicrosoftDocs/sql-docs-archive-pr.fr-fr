---
title: Broker:Conversation, classe d’événements | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Broker:Conversation event class
ms.assetid: 784707b5-cc67-46a3-8ae6-8f8ecf4b27c0
author: stevestein
ms.author: sstein
ms.openlocfilehash: 921b23c6aab8be27534d67d7a85bd7adc8258409
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87705132"
---
# <a name="brokerconversation-event-class"></a><span data-ttu-id="ce52a-102">Broker:Conversation, classe d'événements</span><span class="sxs-lookup"><span data-stu-id="ce52a-102">Broker:Conversation Event Class</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="ce52a-103">génère un événement **Broker:Conversation** pour indiquer la progression d'une conversation Service Broker.</span><span class="sxs-lookup"><span data-stu-id="ce52a-103">generates a **Broker:Conversation** event to report the progress of a Service Broker conversation.</span></span>  
  
## <a name="brokerconversation-event-class-data-columns"></a><span data-ttu-id="ce52a-104">Colonnes de données de la classe d'événements Broker:Conversation</span><span class="sxs-lookup"><span data-stu-id="ce52a-104">Broker:Conversation Event Class Data Columns</span></span>  
  
|<span data-ttu-id="ce52a-105">Colonne de données</span><span class="sxs-lookup"><span data-stu-id="ce52a-105">Data column</span></span>|<span data-ttu-id="ce52a-106">Type</span><span class="sxs-lookup"><span data-stu-id="ce52a-106">Type</span></span>|<span data-ttu-id="ce52a-107">Description</span><span class="sxs-lookup"><span data-stu-id="ce52a-107">Description</span></span>|<span data-ttu-id="ce52a-108">Numéro de colonne</span><span class="sxs-lookup"><span data-stu-id="ce52a-108">Column number</span></span>|<span data-ttu-id="ce52a-109">Filtrable</span><span class="sxs-lookup"><span data-stu-id="ce52a-109">Filterable</span></span>|  
|-----------------|----------|-----------------|-------------------|----------------|  
|<span data-ttu-id="ce52a-110">**ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="ce52a-110">**ApplicationName**</span></span>|`nvarchar`|<span data-ttu-id="ce52a-111">Nom de l'application cliente qui a créé la connexion à une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ce52a-111">The name of the client application that created the connection to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ce52a-112">Cette colonne contient des valeurs transmises par l'application à la place du nom affiché du programme.</span><span class="sxs-lookup"><span data-stu-id="ce52a-112">This column is populated with the values passed by the application instead of the displayed name of the program.</span></span>|<span data-ttu-id="ce52a-113">10</span><span class="sxs-lookup"><span data-stu-id="ce52a-113">10</span></span>|<span data-ttu-id="ce52a-114">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-114">Yes</span></span>|  
|<span data-ttu-id="ce52a-115">**ClientProcessID**</span><span class="sxs-lookup"><span data-stu-id="ce52a-115">**ClientProcessID**</span></span>|`int`|<span data-ttu-id="ce52a-116">ID affecté par l'ordinateur hôte au processus dans lequel s'exécute l'application cliente.</span><span class="sxs-lookup"><span data-stu-id="ce52a-116">The ID assigned by the host computer to the process where the client application is running.</span></span> <span data-ttu-id="ce52a-117">Cette colonne de données est remplie si l'ID du processus du client est fourni par le client.</span><span class="sxs-lookup"><span data-stu-id="ce52a-117">This data column is populated if the client process ID is provided by the client.</span></span>|<span data-ttu-id="ce52a-118">9</span><span class="sxs-lookup"><span data-stu-id="ce52a-118">9</span></span>|<span data-ttu-id="ce52a-119">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-119">Yes</span></span>|  
|<span data-ttu-id="ce52a-120">**DatabaseID**</span><span class="sxs-lookup"><span data-stu-id="ce52a-120">**DatabaseID**</span></span>|`int`|<span data-ttu-id="ce52a-121">ID de la base de données spécifiée par l'instruction USE *base de données* .</span><span class="sxs-lookup"><span data-stu-id="ce52a-121">The ID of the database that is specified by the USE *database* statement.</span></span> <span data-ttu-id="ce52a-122">Si aucune instruction USE *base de données*n’a été spécifiée, il s’agit de l’ID de la base de données par défaut.</span><span class="sxs-lookup"><span data-stu-id="ce52a-122">If no USE *database*statement has been issued, the ID of the default database.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="ce52a-123">affiche le nom de la base de données si la colonne de données **ServerName** du serveur est capturée dans la trace et que le serveur est disponible.</span><span class="sxs-lookup"><span data-stu-id="ce52a-123">displays the name of the database if the **ServerName** data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="ce52a-124">Déterminez la valeur d’une base de données à l’aide de la fonction **DB_ID** .</span><span class="sxs-lookup"><span data-stu-id="ce52a-124">Determine the value for a database by using the **DB_ID** function.</span></span>|<span data-ttu-id="ce52a-125">3</span><span class="sxs-lookup"><span data-stu-id="ce52a-125">3</span></span>|<span data-ttu-id="ce52a-126">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-126">Yes</span></span>|  
|<span data-ttu-id="ce52a-127">**EventClass**</span><span class="sxs-lookup"><span data-stu-id="ce52a-127">**EventClass**</span></span>|`int`|<span data-ttu-id="ce52a-128">Type de classe d'événements capturée.</span><span class="sxs-lookup"><span data-stu-id="ce52a-128">The type of event class captured.</span></span> <span data-ttu-id="ce52a-129">La valeur est toujours **124** pour **Broker:Conversation**.</span><span class="sxs-lookup"><span data-stu-id="ce52a-129">Always **124** for **Broker:Conversation**.</span></span>|<span data-ttu-id="ce52a-130">27</span><span class="sxs-lookup"><span data-stu-id="ce52a-130">27</span></span>|<span data-ttu-id="ce52a-131">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-131">No</span></span>|  
|<span data-ttu-id="ce52a-132">**EventSequence**</span><span class="sxs-lookup"><span data-stu-id="ce52a-132">**EventSequence**</span></span>|`int`|<span data-ttu-id="ce52a-133">Numéro de séquence de cet événement.</span><span class="sxs-lookup"><span data-stu-id="ce52a-133">Sequence number for this event.</span></span>|<span data-ttu-id="ce52a-134">51</span><span class="sxs-lookup"><span data-stu-id="ce52a-134">51</span></span>|<span data-ttu-id="ce52a-135">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-135">No</span></span>|  
|<span data-ttu-id="ce52a-136">**EventSubClass**</span><span class="sxs-lookup"><span data-stu-id="ce52a-136">**EventSubClass**</span></span>|`nvarchar`|<span data-ttu-id="ce52a-137">Type de sous-classe d'événements.</span><span class="sxs-lookup"><span data-stu-id="ce52a-137">The type of event subclass.</span></span> <span data-ttu-id="ce52a-138">Cela fournit plus d'informations sur chaque classe d'événements.</span><span class="sxs-lookup"><span data-stu-id="ce52a-138">This provides more information about each event class.</span></span>|<span data-ttu-id="ce52a-139">21</span><span class="sxs-lookup"><span data-stu-id="ce52a-139">21</span></span>|<span data-ttu-id="ce52a-140">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-140">Yes</span></span>|  
|<span data-ttu-id="ce52a-141">**GUID**</span><span class="sxs-lookup"><span data-stu-id="ce52a-141">**GUID**</span></span>|`uniqueidentifier`|<span data-ttu-id="ce52a-142">ID de conversation du dialogue.</span><span class="sxs-lookup"><span data-stu-id="ce52a-142">The conversation ID of the dialog.</span></span> <span data-ttu-id="ce52a-143">Cet identifiant est transmis en tant que partie intégrante du message et est partagé par les deux intervenants de la conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-143">This identifier is transmitted as part of the message, and is shared between both sides of the conversation.</span></span>|<span data-ttu-id="ce52a-144">54</span><span class="sxs-lookup"><span data-stu-id="ce52a-144">54</span></span>|<span data-ttu-id="ce52a-145">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-145">No</span></span>|  
|<span data-ttu-id="ce52a-146">**HostName**</span><span class="sxs-lookup"><span data-stu-id="ce52a-146">**HostName**</span></span>|`nvarchar`|<span data-ttu-id="ce52a-147">Nom de l'ordinateur sur lequel s'exécute le client.</span><span class="sxs-lookup"><span data-stu-id="ce52a-147">The name of the computer on which the client is running.</span></span> <span data-ttu-id="ce52a-148">Cette colonne de données est remplie si le nom de l'hôte est fourni par le client.</span><span class="sxs-lookup"><span data-stu-id="ce52a-148">This data column is populated if the host name is provided by the client.</span></span> <span data-ttu-id="ce52a-149">Pour déterminer le nom d’hôte, utilisez la fonction **HOST_NAME** .</span><span class="sxs-lookup"><span data-stu-id="ce52a-149">To determine the host name, use the **HOST_NAME** function.</span></span>|<span data-ttu-id="ce52a-150">8</span><span class="sxs-lookup"><span data-stu-id="ce52a-150">8</span></span>|<span data-ttu-id="ce52a-151">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-151">Yes</span></span>|  
|<span data-ttu-id="ce52a-152">**IsSystem**</span><span class="sxs-lookup"><span data-stu-id="ce52a-152">**IsSystem**</span></span>|`int`|<span data-ttu-id="ce52a-153">Indique si l'événement s'est produit sur un processus système ou sur un processus utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ce52a-153">Indicates whether the event occurred on a system process or a user process.</span></span><br /><br /> <span data-ttu-id="ce52a-154">0 = utilisateur</span><span class="sxs-lookup"><span data-stu-id="ce52a-154">0 = user</span></span><br /><br /> <span data-ttu-id="ce52a-155">1 = système</span><span class="sxs-lookup"><span data-stu-id="ce52a-155">1 = system</span></span>|<span data-ttu-id="ce52a-156">60</span><span class="sxs-lookup"><span data-stu-id="ce52a-156">60</span></span>|<span data-ttu-id="ce52a-157">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-157">No</span></span>|  
|<span data-ttu-id="ce52a-158">**LoginSid**</span><span class="sxs-lookup"><span data-stu-id="ce52a-158">**LoginSid**</span></span>|`image`|<span data-ttu-id="ce52a-159">Numéro d'identification de sécurité (SID) de l'utilisateur connecté.</span><span class="sxs-lookup"><span data-stu-id="ce52a-159">The security identification number (SID) of the logged-in user.</span></span> <span data-ttu-id="ce52a-160">Chaque connexion possède un SID unique au niveau du serveur.</span><span class="sxs-lookup"><span data-stu-id="ce52a-160">Each SID is unique for each login in the server.</span></span>|<span data-ttu-id="ce52a-161">41</span><span class="sxs-lookup"><span data-stu-id="ce52a-161">41</span></span>|<span data-ttu-id="ce52a-162">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-162">Yes</span></span>|  
|<span data-ttu-id="ce52a-163">**MethodName**</span><span class="sxs-lookup"><span data-stu-id="ce52a-163">**MethodName**</span></span>|`nvarchar`|<span data-ttu-id="ce52a-164">Groupe de conversations auquel la conversation appartient.</span><span class="sxs-lookup"><span data-stu-id="ce52a-164">The conversation group that the conversation belongs to.</span></span>|<span data-ttu-id="ce52a-165">47</span><span class="sxs-lookup"><span data-stu-id="ce52a-165">47</span></span>|<span data-ttu-id="ce52a-166">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-166">No</span></span>|  
|<span data-ttu-id="ce52a-167">**NTDomainName**</span><span class="sxs-lookup"><span data-stu-id="ce52a-167">**NTDomainName**</span></span>|`nvarchar`|<span data-ttu-id="ce52a-168">Domaine Windows auquel appartient l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ce52a-168">The Windows domain to which the user belongs.</span></span>|<span data-ttu-id="ce52a-169">7</span><span class="sxs-lookup"><span data-stu-id="ce52a-169">7</span></span>|<span data-ttu-id="ce52a-170">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-170">Yes</span></span>|  
|<span data-ttu-id="ce52a-171">**NTUserName**</span><span class="sxs-lookup"><span data-stu-id="ce52a-171">**NTUserName**</span></span>|`nvarchar`|<span data-ttu-id="ce52a-172">Nom de l'utilisateur propriétaire de la connexion ayant généré l'événement.</span><span class="sxs-lookup"><span data-stu-id="ce52a-172">The name of the user that owns the connection that generated this event.</span></span>|<span data-ttu-id="ce52a-173">6</span><span class="sxs-lookup"><span data-stu-id="ce52a-173">6</span></span>|<span data-ttu-id="ce52a-174">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-174">Yes</span></span>|  
|<span data-ttu-id="ce52a-175">**ObjectName**</span><span class="sxs-lookup"><span data-stu-id="ce52a-175">**ObjectName**</span></span>|`nvarchar`|<span data-ttu-id="ce52a-176">Descripteur de conversation du dialogue.</span><span class="sxs-lookup"><span data-stu-id="ce52a-176">The conversation handle of the dialog.</span></span>|<span data-ttu-id="ce52a-177">34</span><span class="sxs-lookup"><span data-stu-id="ce52a-177">34</span></span>|<span data-ttu-id="ce52a-178">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-178">No</span></span>|  
|<span data-ttu-id="ce52a-179">**Priorité**</span><span class="sxs-lookup"><span data-stu-id="ce52a-179">**Priority**</span></span>|`int`|<span data-ttu-id="ce52a-180">Niveau de priorité de la conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-180">The priority level of the conversation</span></span>|<span data-ttu-id="ce52a-181">5</span><span class="sxs-lookup"><span data-stu-id="ce52a-181">5</span></span>|<span data-ttu-id="ce52a-182">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-182">Yes</span></span>|  
|<span data-ttu-id="ce52a-183">**RoleName**</span><span class="sxs-lookup"><span data-stu-id="ce52a-183">**RoleName**</span></span>|`nvarchar`|<span data-ttu-id="ce52a-184">Rôle du descripteur de conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-184">The role of the conversation handle.</span></span> <span data-ttu-id="ce52a-185">Il peut prendre la valeur **initiator** ou la valeur **target**.</span><span class="sxs-lookup"><span data-stu-id="ce52a-185">This is either **initiator** or **target**.</span></span>|<span data-ttu-id="ce52a-186">38</span><span class="sxs-lookup"><span data-stu-id="ce52a-186">38</span></span>|<span data-ttu-id="ce52a-187">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-187">No</span></span>|  
|<span data-ttu-id="ce52a-188">**ServerName**</span><span class="sxs-lookup"><span data-stu-id="ce52a-188">**ServerName**</span></span>|`nvarchar`|<span data-ttu-id="ce52a-189">Nom de l'instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tracée.</span><span class="sxs-lookup"><span data-stu-id="ce52a-189">The name of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is being traced.</span></span>|<span data-ttu-id="ce52a-190">26</span><span class="sxs-lookup"><span data-stu-id="ce52a-190">26</span></span>|<span data-ttu-id="ce52a-191">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-191">No</span></span>|  
|<span data-ttu-id="ce52a-192">**Niveau de gravité**</span><span class="sxs-lookup"><span data-stu-id="ce52a-192">**Severity**</span></span>|`int`|<span data-ttu-id="ce52a-193">Gravité de l'erreur [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] éventuellement indiquée par cet événement.</span><span class="sxs-lookup"><span data-stu-id="ce52a-193">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error severity, if this event reports an error.</span></span>|<span data-ttu-id="ce52a-194">29</span><span class="sxs-lookup"><span data-stu-id="ce52a-194">29</span></span>|<span data-ttu-id="ce52a-195">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-195">No</span></span>|  
|<span data-ttu-id="ce52a-196">**SPID**</span><span class="sxs-lookup"><span data-stu-id="ce52a-196">**SPID**</span></span>|`int`|<span data-ttu-id="ce52a-197">ID de processus serveur qui est affecté par [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] au processus associé au client.</span><span class="sxs-lookup"><span data-stu-id="ce52a-197">The server process ID that is assigned by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to the process that is associated with the client.</span></span>|<span data-ttu-id="ce52a-198">12</span><span class="sxs-lookup"><span data-stu-id="ce52a-198">12</span></span>|<span data-ttu-id="ce52a-199">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-199">Yes</span></span>|  
|<span data-ttu-id="ce52a-200">**StartTime**</span><span class="sxs-lookup"><span data-stu-id="ce52a-200">**StartTime**</span></span>|`datetime`|<span data-ttu-id="ce52a-201">Heure de début de l'événement, si disponible.</span><span class="sxs-lookup"><span data-stu-id="ce52a-201">The time when the event started, when available.</span></span>|<span data-ttu-id="ce52a-202">14</span><span class="sxs-lookup"><span data-stu-id="ce52a-202">14</span></span>|<span data-ttu-id="ce52a-203">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-203">Yes</span></span>|  
|<span data-ttu-id="ce52a-204">**TextData**</span><span class="sxs-lookup"><span data-stu-id="ce52a-204">**TextData**</span></span>|`ntext`|<span data-ttu-id="ce52a-205">État actuel de la conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-205">The current state of the conversation.</span></span> <span data-ttu-id="ce52a-206">Celui-ci peut avoir l'une des valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="ce52a-206">One of the following:</span></span><br /><br /> <span data-ttu-id="ce52a-207">**Donc**.</span><span class="sxs-lookup"><span data-stu-id="ce52a-207">**SO**.</span></span> <span data-ttu-id="ce52a-208">Démarrée en sortie.</span><span class="sxs-lookup"><span data-stu-id="ce52a-208">Started outbound.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="ce52a-209">a traité une instruction BEGIN CONVERSATION pour cette conversation, mais aucun message n'a été envoyé.</span><span class="sxs-lookup"><span data-stu-id="ce52a-209">processed a BEGIN CONVERSATION for this conversation, but no messages have been sent.</span></span><br /><br /> <span data-ttu-id="ce52a-210">**Si**.</span><span class="sxs-lookup"><span data-stu-id="ce52a-210">**SI**.</span></span> <span data-ttu-id="ce52a-211">Démarré en entrée.</span><span class="sxs-lookup"><span data-stu-id="ce52a-211">Started inbound.</span></span> <span data-ttu-id="ce52a-212">Une autre instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)] a démarré une nouvelle conversation avec l’instance actuelle, mais cette dernière n’a pas fini de recevoir le premier message.</span><span class="sxs-lookup"><span data-stu-id="ce52a-212">Another instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] started a new conversation with the current instance, but the current instance has not finished receiving the first message.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="ce52a-213">peut créer la conversation dans cet état si le premier message est fragmenté ou si [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] reçoit les messages dans le désordre.</span><span class="sxs-lookup"><span data-stu-id="ce52a-213">might create the conversation in this state if the first message is fragmented or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives messages out of order.</span></span> <span data-ttu-id="ce52a-214">Toutefois, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] peut créer la conversation dans l'état CO si la première transmission reçue pour cette conversation contient la totalité du premier message.</span><span class="sxs-lookup"><span data-stu-id="ce52a-214">However, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might create the conversation in the CO state if the first transmission that was received for the conversation contains the complete first message.</span></span><br /><br /> <span data-ttu-id="ce52a-215">**Co**.</span><span class="sxs-lookup"><span data-stu-id="ce52a-215">**CO**.</span></span> <span data-ttu-id="ce52a-216">Conversation en cours.</span><span class="sxs-lookup"><span data-stu-id="ce52a-216">Conversing.</span></span> <span data-ttu-id="ce52a-217">La conversation est établie et ses deux parties peuvent envoyer des messages.</span><span class="sxs-lookup"><span data-stu-id="ce52a-217">The conversation is established, and both sides of the conversation can send messages.</span></span> <span data-ttu-id="ce52a-218">L'essentiel de la communication pour un service classique a lieu lorsque la conversation se trouve dans cet état.</span><span class="sxs-lookup"><span data-stu-id="ce52a-218">Most communication for a typical service happens when the conversation is in this state.</span></span><br /><br /> <span data-ttu-id="ce52a-219">**Di**.</span><span class="sxs-lookup"><span data-stu-id="ce52a-219">**DI**.</span></span> <span data-ttu-id="ce52a-220">Déconnecté en entrée.</span><span class="sxs-lookup"><span data-stu-id="ce52a-220">Disconnected inbound.</span></span> <span data-ttu-id="ce52a-221">La partie distante de la conversation a émis une instruction END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="ce52a-221">The remote side of the conversation has issued an END CONVERSATION.</span></span> <span data-ttu-id="ce52a-222">La conversation demeure dans cet état jusqu'à ce que la partie locale de la conversation émette une instruction END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="ce52a-222">The conversation remains in this state until the local side of the conversation issues an END CONVERSATION.</span></span> <span data-ttu-id="ce52a-223">Une application peut encore recevoir des messages pour la conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-223">An application can still receive messages for the conversation.</span></span> <span data-ttu-id="ce52a-224">Dans la mesure où la partie distante de la conversation a terminé celle-ci, une application ne peut pas envoyer de messages sur cette conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-224">Because the remote side of the conversation has ended the conversation, an application cannot send messages on this conversation.</span></span> <span data-ttu-id="ce52a-225">Lorsqu'une application émet une instruction END CONVERSATION, la conversation passe à l'état CD (fermée).</span><span class="sxs-lookup"><span data-stu-id="ce52a-225">When an application issues an END CONVERSATION, the conversation moves to the Closed (CD) state.</span></span><br /><br /> <span data-ttu-id="ce52a-226">**Faire**.</span><span class="sxs-lookup"><span data-stu-id="ce52a-226">**DO**.</span></span> <span data-ttu-id="ce52a-227">Déconnecté en sortie.</span><span class="sxs-lookup"><span data-stu-id="ce52a-227">Disconnected outbound.</span></span> <span data-ttu-id="ce52a-228">La partie locale de la conversation a émis une instruction END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="ce52a-228">The local side of the conversation has issued an END CONVERSATION.</span></span> <span data-ttu-id="ce52a-229">La conversation reste dans cet état jusqu'à ce que le côté distant accuse réception de la commande END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="ce52a-229">The conversation remains in this state until the remote side of the conversation acknowledges the END CONVERSATION.</span></span> <span data-ttu-id="ce52a-230">Une application ne peut pas envoyer ou recevoir des messages pour la conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-230">An application cannot send or receive messages for the conversation.</span></span> <span data-ttu-id="ce52a-231">Lorsque la partie distante de la conversation accuse réception de l'instruction END CONVERSATION, la conversation passe en état CD (fermée).</span><span class="sxs-lookup"><span data-stu-id="ce52a-231">When the remote side of the conversation acknowledges the END CONVERSATION, the conversation moves to the Closed (CD) state.</span></span><br /><br /> <span data-ttu-id="ce52a-232">**Er**.</span><span class="sxs-lookup"><span data-stu-id="ce52a-232">**ER**.</span></span> <span data-ttu-id="ce52a-233">Erreur.</span><span class="sxs-lookup"><span data-stu-id="ce52a-233">Error.</span></span> <span data-ttu-id="ce52a-234">Une erreur s'est produite sur ce point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="ce52a-234">An error has occurred on this endpoint.</span></span> <span data-ttu-id="ce52a-235">Les colonnes Error, Severity et State contiennent des informations sur l'erreur spécifique qui s'est produite.</span><span class="sxs-lookup"><span data-stu-id="ce52a-235">The Error, Severity, and State columns contain information about the specific error that occurred.</span></span><br /><br /> <span data-ttu-id="ce52a-236">**CD**.</span><span class="sxs-lookup"><span data-stu-id="ce52a-236">**CD**.</span></span> <span data-ttu-id="ce52a-237">Fermé.</span><span class="sxs-lookup"><span data-stu-id="ce52a-237">Closed.</span></span> <span data-ttu-id="ce52a-238">Le point de terminaison de la conversation n'est plus en cours d'utilisation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-238">The conversation endpoint is no longer in use.</span></span>|<span data-ttu-id="ce52a-239">1</span><span class="sxs-lookup"><span data-stu-id="ce52a-239">1</span></span>|<span data-ttu-id="ce52a-240">Oui</span><span class="sxs-lookup"><span data-stu-id="ce52a-240">Yes</span></span>|  
|<span data-ttu-id="ce52a-241">**ID de transaction**</span><span class="sxs-lookup"><span data-stu-id="ce52a-241">**Transaction ID**</span></span>|`bigint`|<span data-ttu-id="ce52a-242">ID affecté à la transaction par le système.</span><span class="sxs-lookup"><span data-stu-id="ce52a-242">The system-assigned ID of the transaction.</span></span>|<span data-ttu-id="ce52a-243">4</span><span class="sxs-lookup"><span data-stu-id="ce52a-243">4</span></span>|<span data-ttu-id="ce52a-244">Non</span><span class="sxs-lookup"><span data-stu-id="ce52a-244">No</span></span>|  
  
 <span data-ttu-id="ce52a-245">Le tableau ci-dessous répertorie les valeurs des sous-classes pour cette classe d'événements.</span><span class="sxs-lookup"><span data-stu-id="ce52a-245">The following table lists the subclass values for this event class.</span></span>  
  
|<span data-ttu-id="ce52a-246">id</span><span class="sxs-lookup"><span data-stu-id="ce52a-246">ID</span></span>|<span data-ttu-id="ce52a-247">Sous-classe</span><span class="sxs-lookup"><span data-stu-id="ce52a-247">Subclass</span></span>|<span data-ttu-id="ce52a-248">Description</span><span class="sxs-lookup"><span data-stu-id="ce52a-248">Description</span></span>|  
|--------|--------------|-----------------|  
|<span data-ttu-id="ce52a-249">1</span><span class="sxs-lookup"><span data-stu-id="ce52a-249">1</span></span>|<span data-ttu-id="ce52a-250">SEND Message</span><span class="sxs-lookup"><span data-stu-id="ce52a-250">SEND Message</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-251">génère un événement d' **envoi de message** lorsque le [!INCLUDE[ssDE](../../includes/ssde-md.md)] exécute une instruction Send.</span><span class="sxs-lookup"><span data-stu-id="ce52a-251">generates a **SEND Message** event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes a SEND statement.</span></span>|  
|<span data-ttu-id="ce52a-252">2</span><span class="sxs-lookup"><span data-stu-id="ce52a-252">2</span></span>|<span data-ttu-id="ce52a-253">END CONVERSATION</span><span class="sxs-lookup"><span data-stu-id="ce52a-253">END CONVERSATION</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-254">génère un événement **end conversation** lorsque le [!INCLUDE[ssDE](../../includes/ssde-md.md)] exécute une instruction end conversation qui n’inclut pas la clause with Error.</span><span class="sxs-lookup"><span data-stu-id="ce52a-254">generates an **END CONVERSATION** event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes an END CONVERSATION statement that does not include the WITH ERROR clause.</span></span>|  
|<span data-ttu-id="ce52a-255">3</span><span class="sxs-lookup"><span data-stu-id="ce52a-255">3</span></span>|<span data-ttu-id="ce52a-256">END CONVERSATION WITH ERROR</span><span class="sxs-lookup"><span data-stu-id="ce52a-256">END CONVERSATION WITH ERROR</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-257">génère un événement **end conversation with Error** lorsque le [!INCLUDE[ssDE](../../includes/ssde-md.md)] exécute une instruction end conversation qui comprend la clause with Error.</span><span class="sxs-lookup"><span data-stu-id="ce52a-257">generates an **END CONVERSATION WITH ERROR** event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes an END CONVERSATION statement that includes the WITH ERROR clause.</span></span>|  
|<span data-ttu-id="ce52a-258">4</span><span class="sxs-lookup"><span data-stu-id="ce52a-258">4</span></span>|<span data-ttu-id="ce52a-259">Broker Initiated Error</span><span class="sxs-lookup"><span data-stu-id="ce52a-259">Broker Initiated Error</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-260">génère un événement d' **erreur initié par le Broker** chaque fois que [!INCLUDE[ssSB](../../includes/sssb-md.md)] crée un message d’erreur.</span><span class="sxs-lookup"><span data-stu-id="ce52a-260">generates a **Broker Initiated Error** event whenever [!INCLUDE[ssSB](../../includes/sssb-md.md)] creates an error message.</span></span> <span data-ttu-id="ce52a-261">Par exemple, lorsque [!INCLUDE[ssSB](../../includes/sssb-md.md)] ne parvient pas à acheminer un message pour un dialogue, il crée un message d'erreur pour celui-ci et génère cet événement.</span><span class="sxs-lookup"><span data-stu-id="ce52a-261">For example, when [!INCLUDE[ssSB](../../includes/sssb-md.md)] cannot successfully route a message for a dialog, the broker creates an error message for the dialog and generates this event.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="ce52a-262">ne génère pas cet événement lorsqu'une application termine une conversation par une erreur.</span><span class="sxs-lookup"><span data-stu-id="ce52a-262">does not generate this event when an application program ends a conversation with an error.</span></span>|  
|<span data-ttu-id="ce52a-263">5</span><span class="sxs-lookup"><span data-stu-id="ce52a-263">5</span></span>|<span data-ttu-id="ce52a-264">Terminate Dialog</span><span class="sxs-lookup"><span data-stu-id="ce52a-264">Terminate Dialog</span></span>|[!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="ce52a-265">a mis fin au dialogue.</span><span class="sxs-lookup"><span data-stu-id="ce52a-265">terminated the dialog.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="ce52a-266">agit ainsi en réponse à des conditions qui empêchent la poursuite du dialogue mais qui ne correspondent ni à des erreurs ni à la fin normale d'une conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-266">terminates dialogs in response to conditions that prevent the dialog from continuing, but which are not errors or the normal end of a conversation.</span></span> <span data-ttu-id="ce52a-267">Par exemple, la suppression d'un service amène [!INCLUDE[ssSB](../../includes/sssb-md.md)] à mettre fin à tous les dialogues associés à ce service.</span><span class="sxs-lookup"><span data-stu-id="ce52a-267">For example, dropping a service causes [!INCLUDE[ssSB](../../includes/sssb-md.md)] to terminate all dialogs for that service.</span></span>|  
|<span data-ttu-id="ce52a-268">6</span><span class="sxs-lookup"><span data-stu-id="ce52a-268">6</span></span>|<span data-ttu-id="ce52a-269">Received Sequenced Message</span><span class="sxs-lookup"><span data-stu-id="ce52a-269">Received Sequenced Message</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-270">génère une classe d’événements **received Sequenced message** lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] reçoit un message qui contient un numéro de séquence de message.</span><span class="sxs-lookup"><span data-stu-id="ce52a-270">generates a **Received Sequenced Message** event class when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives a message that contains a message sequence number.</span></span> <span data-ttu-id="ce52a-271">Tous les types de messages définis par l'utilisateur sont des messages séquencés.</span><span class="sxs-lookup"><span data-stu-id="ce52a-271">All user-defined message types are sequenced messages.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="ce52a-272">génère un message non séquencé dans deux cas :</span><span class="sxs-lookup"><span data-stu-id="ce52a-272">generates an unsequenced message in two cases:</span></span><br /><br /> <span data-ttu-id="ce52a-273">Les messages d'erreur générés par [!INCLUDE[ssSB](../../includes/sssb-md.md)] ne sont pas séquencés.</span><span class="sxs-lookup"><span data-stu-id="ce52a-273">Error messages generated by [!INCLUDE[ssSB](../../includes/sssb-md.md)] are unsequenced.</span></span><br /><br /> <span data-ttu-id="ce52a-274">Les accusés de réception des messages peuvent être non séquencés.</span><span class="sxs-lookup"><span data-stu-id="ce52a-274">Message acknowledgements might be unsequenced.</span></span> <span data-ttu-id="ce52a-275">Par souci d’efficacité, [!INCLUDE[ssSB](../../includes/sssb-md.md)] inclut tout accusé de réception disponible d’un message dans le cadre d’un message séquencé.</span><span class="sxs-lookup"><span data-stu-id="ce52a-275">For efficiency, [!INCLUDE[ssSB](../../includes/sssb-md.md)] includes message any available acknowledgement as part of a sequenced message .</span></span> <span data-ttu-id="ce52a-276">Toutefois, si une application n'envoie pas un message séquencé au point de terminaison distant pendant un certain temps, [!INCLUDE[ssSB](../../includes/sssb-md.md)] crée un message non séquencé pour l'accusé de réception du message.</span><span class="sxs-lookup"><span data-stu-id="ce52a-276">However, if an application does not send a sequenced message to the remote endpoint within a certain period of time, [!INCLUDE[ssSB](../../includes/sssb-md.md)] creates an unsequenced message for the message acknowledgement.</span></span>|  
|<span data-ttu-id="ce52a-277">7</span><span class="sxs-lookup"><span data-stu-id="ce52a-277">7</span></span>|<span data-ttu-id="ce52a-278">Received END CONVERSATION</span><span class="sxs-lookup"><span data-stu-id="ce52a-278">Received END CONVERSATION</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="ce52a-279">génère un événement Received END CONVERSATION lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] reçoit un message End Dialog de l’autre partie de la conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-279">generates a Received END CONVERSATION event when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives an End Dialog message from the other side of the conversation.</span></span>|  
|<span data-ttu-id="ce52a-280">8</span><span class="sxs-lookup"><span data-stu-id="ce52a-280">8</span></span>|<span data-ttu-id="ce52a-281">Received END CONVERSATION WITH ERROR</span><span class="sxs-lookup"><span data-stu-id="ce52a-281">Received END CONVERSATION WITH ERROR</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-282">génère un événement **received end conversation with Error** lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] reçoit une erreur définie par l’utilisateur de l’autre côté de la conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-282">generates a **Received END CONVERSATION WITH ERROR** event when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives a user-defined error from the other side of the conversation.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="ce52a-283">ne génère pas cet événement lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] reçoit une erreur définie par le Broker.</span><span class="sxs-lookup"><span data-stu-id="ce52a-283">does not generate this event when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives a broker-defined error.</span></span>|  
|<span data-ttu-id="ce52a-284">9</span><span class="sxs-lookup"><span data-stu-id="ce52a-284">9</span></span>|<span data-ttu-id="ce52a-285">Received Broker Error Message</span><span class="sxs-lookup"><span data-stu-id="ce52a-285">Received Broker Error Message</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-286">génère un événement **received Broker Error message** lorsque [!INCLUDE[ssSB](../../includes/sssb-md.md)] reçoit un message d’erreur défini par le Broker de l’autre côté de la conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-286">generates a **Received Broker Error Message** event when [!INCLUDE[ssSB](../../includes/sssb-md.md)] receives a broker-defined error message from the other side of the conversation.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="ce52a-287">ne génère pas cet événement lorsque [!INCLUDE[ssSB](../../includes/sssb-md.md)] reçoit un message d'erreur généré par une application.</span><span class="sxs-lookup"><span data-stu-id="ce52a-287">does not generate this event when [!INCLUDE[ssSB](../../includes/sssb-md.md)] receives an error message that was generated by an application.</span></span><br /><br /> <span data-ttu-id="ce52a-288">Par exemple, si la base de données actuelle contient un itinéraire par défaut vers une base de données de transfert, [!INCLUDE[ssSB](../../includes/sssb-md.md)] achemine un message avec un nom de service inconnu vers la base de données de transfert.</span><span class="sxs-lookup"><span data-stu-id="ce52a-288">For example, if the current database contains a default route to a forwarding database, [!INCLUDE[ssSB](../../includes/sssb-md.md)] routes a message with an unknown service name to the forwarding database.</span></span> <span data-ttu-id="ce52a-289">Si celle-ci ne peut pas acheminer le message, le Broker qu'elle contient crée un message d'erreur et le renvoie à la base de données active.</span><span class="sxs-lookup"><span data-stu-id="ce52a-289">If that database cannot route the message, the broker in that database creates an error message and returns that error message to the current database.</span></span> <span data-ttu-id="ce52a-290">Lorsque la base de données active reçoit l’erreur générée par le Broker en provenance de la base de données de transfert, elle génère un événement **Received Broker Error Message** .</span><span class="sxs-lookup"><span data-stu-id="ce52a-290">When the current database receives the broker-generated error from the forwarding database, the current database generates a **Received Broker Error Message** event.</span></span>|  
|<span data-ttu-id="ce52a-291">10</span><span class="sxs-lookup"><span data-stu-id="ce52a-291">10</span></span>|<span data-ttu-id="ce52a-292">Received END CONVERSATION Ack</span><span class="sxs-lookup"><span data-stu-id="ce52a-292">Received END CONVERSATION Ack</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-293">génère une classe d’événements **received end conversation ACK** lorsque l’autre partie d’une conversation accuse réception d’une boîte de dialogue de fin ou d’un message d’erreur envoyé par ce côté de la conversation.</span><span class="sxs-lookup"><span data-stu-id="ce52a-293">generates a **Received END CONVERSATION Ack** event class when the other side of a conversation acknowledges an End Dialog or Error message sent by this side of the conversation.</span></span>|  
|<span data-ttu-id="ce52a-294">11</span><span class="sxs-lookup"><span data-stu-id="ce52a-294">11</span></span>|<span data-ttu-id="ce52a-295">BEGIN DIALOG</span><span class="sxs-lookup"><span data-stu-id="ce52a-295">BEGIN DIALOG</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-296">génère un événement **Begin Dialog** lorsque l’moteur de base de données exécute une commande BEGIN DIALOG.</span><span class="sxs-lookup"><span data-stu-id="ce52a-296">generates a **BEGIN DIALOG** event when the Database Engine executes a BEGIN DIALOG command.</span></span>|  
|<span data-ttu-id="ce52a-297">12</span><span class="sxs-lookup"><span data-stu-id="ce52a-297">12</span></span>|<span data-ttu-id="ce52a-298">Dialog Created</span><span class="sxs-lookup"><span data-stu-id="ce52a-298">Dialog Created</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="ce52a-299">génère un événement de **boîte de dialogue créé** lorsque [!INCLUDE[ssSB](../../includes/sssb-md.md)] crée un point de terminaison pour un dialogue.</span><span class="sxs-lookup"><span data-stu-id="ce52a-299">generates a **Dialog Created** event when [!INCLUDE[ssSB](../../includes/sssb-md.md)] creates an endpoint for a dialog.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="ce52a-300">crée un point de terminaison toutes les fois qu'un nouveau dialogue est établi, que la base de données actuelle soit l'initiateur ou la cible du dialogue.</span><span class="sxs-lookup"><span data-stu-id="ce52a-300">creates an endpoint whenever a new dialog is established, regardless of whether the current database is the initiator or the target of the dialog.</span></span>|  
|<span data-ttu-id="ce52a-301">13</span><span class="sxs-lookup"><span data-stu-id="ce52a-301">13</span></span>|<span data-ttu-id="ce52a-302">END CONVERSATION WITH CLEANUP</span><span class="sxs-lookup"><span data-stu-id="ce52a-302">END CONVERSATION WITH CLEANUP</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="ce52a-303">génère un événement END CONVERSATION WITH CLEANUP lorsque le [!INCLUDE[ssDE](../../includes/ssde-md.md)] exécute une instruction END CONVERSATION qui comporte la clause WITH CLEANUP.</span><span class="sxs-lookup"><span data-stu-id="ce52a-303">generates an END CONVERSATION WITH CLEANUP event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes an END CONVERSATION statement that includes the WITH CLEANUP clause.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="ce52a-304">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ce52a-304">See Also</span></span>  
 [<span data-ttu-id="ce52a-305">SQL Server Service Broker</span><span class="sxs-lookup"><span data-stu-id="ce52a-305">SQL Server Service Broker</span></span>](../../database-engine/configure-windows/sql-server-service-broker.md)  
  
  
