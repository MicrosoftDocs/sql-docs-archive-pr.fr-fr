---
title: Audit Broker Conversation, classe d’événements | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Audit Broker Conversation event class
ms.assetid: d58e3577-e297-42e5-b8fe-206665a75d13
author: stevestein
ms.author: sstein
ms.openlocfilehash: 46c09737aeafffd04f3dc2c129692bbf78d2c096
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87701213"
---
# <a name="audit-broker-conversation-event-class"></a><span data-ttu-id="b3e7c-102">Classe d'événement Audit Broker Conversation</span><span class="sxs-lookup"><span data-stu-id="b3e7c-102">Audit Broker Conversation Event Class</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="b3e7c-103">crée un événement **Audit Broker Conversation** pour renvoyer des messages d’audit relatifs à la sécurité du dialogue de Service Broker.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-103">creates an **Audit Broker Conversation** event to report audit messages related to Service Broker dialog security.</span></span>  
  
## <a name="audit-broker-conversation-event-class-data-columns"></a><span data-ttu-id="b3e7c-104">Colonnes de données de la classe d'événements Audit Broker Conversation</span><span class="sxs-lookup"><span data-stu-id="b3e7c-104">Audit Broker Conversation Event Class Data Columns</span></span>  
  
|<span data-ttu-id="b3e7c-105">Colonne de données</span><span class="sxs-lookup"><span data-stu-id="b3e7c-105">Data column</span></span>|<span data-ttu-id="b3e7c-106">Type</span><span class="sxs-lookup"><span data-stu-id="b3e7c-106">Type</span></span>|<span data-ttu-id="b3e7c-107">Description</span><span class="sxs-lookup"><span data-stu-id="b3e7c-107">Description</span></span>|<span data-ttu-id="b3e7c-108">Numéro de colonne</span><span class="sxs-lookup"><span data-stu-id="b3e7c-108">Column number</span></span>|<span data-ttu-id="b3e7c-109">Filtrable</span><span class="sxs-lookup"><span data-stu-id="b3e7c-109">Filterable</span></span>|  
|-----------------|----------|-----------------|-------------------|----------------|  
|<span data-ttu-id="b3e7c-110">**ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-110">**ApplicationName**</span></span>|<span data-ttu-id="b3e7c-111">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-111">**nvarchar**</span></span>|<span data-ttu-id="b3e7c-112">Nom de l'application cliente qui a créé la connexion à une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b3e7c-112">The name of the client application that created the connection to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b3e7c-113">Cette colonne est remplie avec les valeurs passées par l'application plutôt que par le nom affiché du programme.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-113">This column is populated with the values passed by the application rather than the displayed name of the program.</span></span>|<span data-ttu-id="b3e7c-114">10</span><span class="sxs-lookup"><span data-stu-id="b3e7c-114">10</span></span>|<span data-ttu-id="b3e7c-115">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-115">Yes</span></span>|  
|<span data-ttu-id="b3e7c-116">**BigintData1**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-116">**BigintData1**</span></span>|<span data-ttu-id="b3e7c-117">**bigint**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-117">**bigint**</span></span>|<span data-ttu-id="b3e7c-118">Numéro de séquence du message.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-118">The message sequence number of the message.</span></span>|<span data-ttu-id="b3e7c-119">52</span><span class="sxs-lookup"><span data-stu-id="b3e7c-119">52</span></span>|<span data-ttu-id="b3e7c-120">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-120">No</span></span>|  
|<span data-ttu-id="b3e7c-121">**ClientProcessID**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-121">**ClientProcessID**</span></span>|<span data-ttu-id="b3e7c-122">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-122">**int**</span></span>|<span data-ttu-id="b3e7c-123">ID affecté par l'ordinateur hôte au processus dans lequel s'exécute l'application cliente.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-123">The ID assigned by the host computer to the process where the client application is running.</span></span> <span data-ttu-id="b3e7c-124">Cette colonne de données est remplie si l'ID du processus du client est fourni par le client.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-124">This data column is populated if the client process ID is provided by the client.</span></span>|<span data-ttu-id="b3e7c-125">9</span><span class="sxs-lookup"><span data-stu-id="b3e7c-125">9</span></span>|<span data-ttu-id="b3e7c-126">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-126">Yes</span></span>|  
|<span data-ttu-id="b3e7c-127">**DatabaseID**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-127">**DatabaseID**</span></span>|<span data-ttu-id="b3e7c-128">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-128">**int**</span></span>|<span data-ttu-id="b3e7c-129">ID de la base de données spécifiée par l'instruction USE *database* ou celui de la base de données par défaut si aucune instruction USE *database* n'a été spécifiée pour une instance donnée.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-129">The ID of the database specified by the USE *database* statement, or the ID of the default database if no USE *database* statement has been issued for a given instance.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="b3e7c-130">affiche le nom de la base de données si la colonne de données **ServerName** du serveur est capturée dans la trace et que le serveur est disponible.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-130">displays the name of the database if the **ServerName** data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="b3e7c-131">Déterminez la valeur pour une base de données à l'aide de la fonction DB_ID.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-131">Determine the value for a database by using the DB_ID function.</span></span>|<span data-ttu-id="b3e7c-132">3</span><span class="sxs-lookup"><span data-stu-id="b3e7c-132">3</span></span>|<span data-ttu-id="b3e7c-133">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-133">Yes</span></span>|  
|<span data-ttu-id="b3e7c-134">**Error**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-134">**Error**</span></span>|<span data-ttu-id="b3e7c-135">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-135">**int**</span></span>|<span data-ttu-id="b3e7c-136">Numéro de l'erreur [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] si cet événement signale une erreur.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-136">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error number, if this event reports an error.</span></span>|<span data-ttu-id="b3e7c-137">31</span><span class="sxs-lookup"><span data-stu-id="b3e7c-137">31</span></span>|<span data-ttu-id="b3e7c-138">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-138">No</span></span>|  
|<span data-ttu-id="b3e7c-139">**EventClass**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-139">**EventClass**</span></span>|<span data-ttu-id="b3e7c-140">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-140">**int**</span></span>|<span data-ttu-id="b3e7c-141">Type de classe d'événements capturée.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-141">The type of event class captured.</span></span> <span data-ttu-id="b3e7c-142">Toujours **158** pour **Audit Broker Conversation**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-142">Always **158** for **Audit Broker Conversation**.</span></span>|<span data-ttu-id="b3e7c-143">27</span><span class="sxs-lookup"><span data-stu-id="b3e7c-143">27</span></span>|<span data-ttu-id="b3e7c-144">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-144">No</span></span>|  
|<span data-ttu-id="b3e7c-145">**EventSubClass**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-145">**EventSubClass**</span></span>|<span data-ttu-id="b3e7c-146">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-146">**int**</span></span>|<span data-ttu-id="b3e7c-147">Type de sous-classe d’événements, qui fournit des informations complémentaires concernant chaque classe d’événements.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-147">The type of event subclass, providing further information about each event class.</span></span> <span data-ttu-id="b3e7c-148">Le tableau suivant répertorie les valeurs des sous-classes d'événements pour cet événement.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-148">The table below lists the event subclass values for this event.</span></span>|<span data-ttu-id="b3e7c-149">21</span><span class="sxs-lookup"><span data-stu-id="b3e7c-149">21</span></span>|<span data-ttu-id="b3e7c-150">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-150">Yes</span></span>|  
|<span data-ttu-id="b3e7c-151">**FileName**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-151">**FileName**</span></span>|<span data-ttu-id="b3e7c-152">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-152">**nvarchar**</span></span>|<span data-ttu-id="b3e7c-153">Raison de l'échec de la connexion.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-153">The reason for the login failure.</span></span> <span data-ttu-id="b3e7c-154">Si la connexion réussit, cette colonne est vide.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-154">If the login succeeded, this column is empty.</span></span>|<span data-ttu-id="b3e7c-155">36</span><span class="sxs-lookup"><span data-stu-id="b3e7c-155">36</span></span>|<span data-ttu-id="b3e7c-156">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-156">No</span></span>|  
|<span data-ttu-id="b3e7c-157">**GUID**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-157">**GUID**</span></span>|<span data-ttu-id="b3e7c-158">**uniqueidentifier**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-158">**uniqueidentifier**</span></span>|<span data-ttu-id="b3e7c-159">ID de conversation du dialogue.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-159">The conversation id of the dialog.</span></span> <span data-ttu-id="b3e7c-160">Cet identifiant est transmis en tant que partie intégrante du message et est partagé par les deux intervenants de la conversation.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-160">This identifier is transmitted as part of the message, and is shared between both sides of the conversation.</span></span>|<span data-ttu-id="b3e7c-161">54</span><span class="sxs-lookup"><span data-stu-id="b3e7c-161">54</span></span>|<span data-ttu-id="b3e7c-162">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-162">No</span></span>|  
|<span data-ttu-id="b3e7c-163">**HostName**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-163">**HostName**</span></span>|<span data-ttu-id="b3e7c-164">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-164">**nvarchar**</span></span>|<span data-ttu-id="b3e7c-165">Nom de l'ordinateur sur lequel s'exécute le client.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-165">The name of the computer on which the client is running.</span></span> <span data-ttu-id="b3e7c-166">Cette colonne de données est remplie si le nom de l'hôte est fourni par le client.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-166">This data column is populated if the host name is provided by the client.</span></span> <span data-ttu-id="b3e7c-167">Pour déterminer le nom de l’hôte, utilisez la fonction **HOST_NAME** .</span><span class="sxs-lookup"><span data-stu-id="b3e7c-167">To determine the host name, use the **HOST_NAME** function.</span></span>|<span data-ttu-id="b3e7c-168">8</span><span class="sxs-lookup"><span data-stu-id="b3e7c-168">8</span></span>|<span data-ttu-id="b3e7c-169">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-169">Yes</span></span>|  
|<span data-ttu-id="b3e7c-170">**IntegerData**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-170">**IntegerData**</span></span>|<span data-ttu-id="b3e7c-171">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-171">**int**</span></span>|<span data-ttu-id="b3e7c-172">Numéro de fragment du message.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-172">The fragment number of the message.</span></span>|<span data-ttu-id="b3e7c-173">25</span><span class="sxs-lookup"><span data-stu-id="b3e7c-173">25</span></span>|<span data-ttu-id="b3e7c-174">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-174">No</span></span>|  
|<span data-ttu-id="b3e7c-175">**NTDomainName**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-175">**NTDomainName**</span></span>|<span data-ttu-id="b3e7c-176">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-176">**nvarchar**</span></span>|<span data-ttu-id="b3e7c-177">Domaine Windows auquel appartient l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-177">The Windows domain to which the user belongs.</span></span>|<span data-ttu-id="b3e7c-178">7</span><span class="sxs-lookup"><span data-stu-id="b3e7c-178">7</span></span>|<span data-ttu-id="b3e7c-179">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-179">Yes</span></span>|  
|<span data-ttu-id="b3e7c-180">**NTUserName**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-180">**NTUserName**</span></span>|<span data-ttu-id="b3e7c-181">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-181">**nvarchar**</span></span>|<span data-ttu-id="b3e7c-182">Nom de l'utilisateur propriétaire de la connexion ayant généré l'événement.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-182">The name of the user that owns the connection that generated this event.</span></span>|<span data-ttu-id="b3e7c-183">6</span><span class="sxs-lookup"><span data-stu-id="b3e7c-183">6</span></span>|<span data-ttu-id="b3e7c-184">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-184">Yes</span></span>|  
|<span data-ttu-id="b3e7c-185">**ObjectId**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-185">**ObjectId**</span></span>|<span data-ttu-id="b3e7c-186">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-186">**int**</span></span>|<span data-ttu-id="b3e7c-187">ID utilisateur du service cible.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-187">The user ID of the target service.</span></span>|<span data-ttu-id="b3e7c-188">22</span><span class="sxs-lookup"><span data-stu-id="b3e7c-188">22</span></span>|<span data-ttu-id="b3e7c-189">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-189">No</span></span>|  
|<span data-ttu-id="b3e7c-190">**RoleName**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-190">**RoleName**</span></span>|<span data-ttu-id="b3e7c-191">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-191">**nvarchar**</span></span>|<span data-ttu-id="b3e7c-192">Rôle du descripteur de conversation.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-192">The role of the conversation handle.</span></span> <span data-ttu-id="b3e7c-193">Il peut prendre la valeur **initiator** ou la valeur **target**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-193">This is either **initiator** or **target**.</span></span>|<span data-ttu-id="b3e7c-194">38</span><span class="sxs-lookup"><span data-stu-id="b3e7c-194">38</span></span>|<span data-ttu-id="b3e7c-195">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-195">No</span></span>|  
|<span data-ttu-id="b3e7c-196">**ServerName**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-196">**ServerName**</span></span>|<span data-ttu-id="b3e7c-197">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-197">**nvarchar**</span></span>|<span data-ttu-id="b3e7c-198">Nom de l'instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tracée.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-198">The name of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] being traced.</span></span>|<span data-ttu-id="b3e7c-199">26</span><span class="sxs-lookup"><span data-stu-id="b3e7c-199">26</span></span>|<span data-ttu-id="b3e7c-200">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-200">No</span></span>|  
|<span data-ttu-id="b3e7c-201">**Niveau de gravité**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-201">**Severity**</span></span>|<span data-ttu-id="b3e7c-202">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-202">**int**</span></span>|<span data-ttu-id="b3e7c-203">Gravité de l'erreur [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] éventuellement indiquée par cet événement.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-203">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error severity, if this event reports an error.</span></span>|<span data-ttu-id="b3e7c-204">29</span><span class="sxs-lookup"><span data-stu-id="b3e7c-204">29</span></span>|<span data-ttu-id="b3e7c-205">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-205">No</span></span>|  
|<span data-ttu-id="b3e7c-206">**SPID**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-206">**SPID**</span></span>|<span data-ttu-id="b3e7c-207">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-207">**int**</span></span>|<span data-ttu-id="b3e7c-208">ID du processus serveur affecté par [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] au processus associé au client.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-208">The server process ID assigned by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to the process associated with the client.</span></span>|<span data-ttu-id="b3e7c-209">12</span><span class="sxs-lookup"><span data-stu-id="b3e7c-209">12</span></span>|<span data-ttu-id="b3e7c-210">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-210">Yes</span></span>|  
|<span data-ttu-id="b3e7c-211">**StartTime**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-211">**StartTime**</span></span>|<span data-ttu-id="b3e7c-212">**datetime**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-212">**datetime**</span></span>|<span data-ttu-id="b3e7c-213">Heure de début de l'événement, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-213">The time at which the event started, when available.</span></span>|<span data-ttu-id="b3e7c-214">14</span><span class="sxs-lookup"><span data-stu-id="b3e7c-214">14</span></span>|<span data-ttu-id="b3e7c-215">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-215">Yes</span></span>|  
|<span data-ttu-id="b3e7c-216">**State**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-216">**State**</span></span>|<span data-ttu-id="b3e7c-217">**int**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-217">**int**</span></span>|<span data-ttu-id="b3e7c-218">Indique l'emplacement dans le code source [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] qui a produit l'événement.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-218">Indicates the location within the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] source code that produced the event.</span></span> <span data-ttu-id="b3e7c-219">Chaque emplacement susceptible de générer cet événement possède un code d'état spécifique.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-219">Each location that may produce this event has a different state code.</span></span> <span data-ttu-id="b3e7c-220">Un spécialiste de l'assistance technique Microsoft peut se servir de ce code d'état afin de déterminer où l'événement s'est produit.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-220">A Microsoft support engineer can use this state code to find where the event was produced.</span></span>|<span data-ttu-id="b3e7c-221">30</span><span class="sxs-lookup"><span data-stu-id="b3e7c-221">30</span></span>|<span data-ttu-id="b3e7c-222">Non</span><span class="sxs-lookup"><span data-stu-id="b3e7c-222">No</span></span>|  
|<span data-ttu-id="b3e7c-223">**TextData**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-223">**TextData**</span></span>|<span data-ttu-id="b3e7c-224">**ntext**</span><span class="sxs-lookup"><span data-stu-id="b3e7c-224">**ntext**</span></span>|<span data-ttu-id="b3e7c-225">En cas d'erreurs, contient un message qui décrit la raison de l'échec.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-225">For errors, contains a message that describes the reason for the failure.</span></span> <span data-ttu-id="b3e7c-226">L’une des valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="b3e7c-226">One of the following values:</span></span><br /><br /> <span data-ttu-id="b3e7c-227">**Le certificat est introuvable**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-227">**Cert not found**.</span></span> <span data-ttu-id="b3e7c-228">L'utilisateur spécifié pour la sécurité du protocole du dialogue n'a pas de certificat.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-228">The user specified for dialog protocol security has no certificate.</span></span><br /><br /> <span data-ttu-id="b3e7c-229">**Période non valide**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-229">**Not in valid time period**.</span></span> <span data-ttu-id="b3e7c-230">L'utilisateur spécifié pour la sécurité du protocole de dialogue a un certificat, mais ce dernier est arrivé à expiration.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-230">The user specified for dialog protocol security has a certificate, but the certificate has expired.</span></span><br /><br /> <span data-ttu-id="b3e7c-231">**Le certificat est trop volumineux pour une allocation de mémoire**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-231">**Cert too large for memory allocation**.</span></span> <span data-ttu-id="b3e7c-232">L'utilisateur spécifié pour la sécurité du protocole de dialogue a un certificat, mais ce dernier est trop volumineux.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-232">The user specified for dialog protocol security has a certificate, but the certificate is too large.</span></span> <span data-ttu-id="b3e7c-233">La taille maximale que Service Broker prend en charge pour les certificats est de 32 768 octets.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-233">The maximum certificate size that Service Broker supports is 32,768 bytes.</span></span><br /><br /> <span data-ttu-id="b3e7c-234">**Clé privée introuvable**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-234">**Private key not found**.</span></span> <span data-ttu-id="b3e7c-235">L'utilisateur spécifié pour la sécurité du protocole de dialogue a un certificat, mais ce dernier n'est associé à aucune clé privée.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-235">The user specified for dialog protocol security has a certificate, but there is no private key associated with that certificate.</span></span><br /><br /> <span data-ttu-id="b3e7c-236">**La taille de la clé privée du certificat est incompatible avec le fournisseur de services de chiffrement**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-236">**The cert's private key size is incompatible with the crypto provider**.</span></span> <span data-ttu-id="b3e7c-237">Du fait de sa taille, la clé privée qui accompagne le certificat rend le traitement impossible.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-237">The private key for the certificate has a key size that cannot be successfully processed.</span></span> <span data-ttu-id="b3e7c-238">La taille d'une clé privée doit être un multiple de 64 octets.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-238">The private key size must be a multiple of 64 bytes.</span></span><br /><br /> <span data-ttu-id="b3e7c-239">**La taille de la clé publique du certificat est incompatible avec le fournisseur de services de chiffrement**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-239">**The cert's public key size is incompatible with the crypto provider**.</span></span> <span data-ttu-id="b3e7c-240">Du fait de sa taille, la clé publique qui accompagne le certificat rend le traitement impossible.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-240">The public key for the certificate has a key size that cannot be successfully processed.</span></span> <span data-ttu-id="b3e7c-241">La taille d'une clé publique doit être un multiple de 64 octets.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-241">The public key size must be a multiple of 64 bytes.</span></span><br /><br /> <span data-ttu-id="b3e7c-242">**La taille de la clé privée du certificat est incompatible avec la clé d’échange de clés chiffrées**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-242">**The cert's private key size is incompatible with the encrypted key exchange key**.</span></span> <span data-ttu-id="b3e7c-243">La taille de la clé spécifiée dans la clé d'échange de clés ne correspond pas à la taille de la clé privée définie pour le certificat.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-243">The key size specified in the key exchange key does not match the size of the private key for the certificate.</span></span> <span data-ttu-id="b3e7c-244">Cela indique généralement que le certificat sur l'ordinateur distant ne correspond pas au certificat figurant dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-244">This generally indicates that the certificate on the remote computer does not match the certificate in the database.</span></span><br /><br /> <span data-ttu-id="b3e7c-245">**La taille de la clé publique du certificat est incompatible avec la signature de l’en-tête de sécurité**.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-245">**The cert's public key size is incompatible with the security header's signature**.</span></span> <span data-ttu-id="b3e7c-246">L'en-tête de sécurité contient une signature qu'il est impossible de valider par rapport à la clé publique du certificat.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-246">The security header contains a signature that cannot be validated with the certificate's public key.</span></span> <span data-ttu-id="b3e7c-247">Cela indique généralement que le certificat sur l'ordinateur distant ne correspond pas au certificat figurant dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-247">This generally indicates that the certificate on the remote computer does not match the certificate in the database.</span></span>|<span data-ttu-id="b3e7c-248">1</span><span class="sxs-lookup"><span data-stu-id="b3e7c-248">1</span></span>|<span data-ttu-id="b3e7c-249">Oui</span><span class="sxs-lookup"><span data-stu-id="b3e7c-249">Yes</span></span>|  
  
 <span data-ttu-id="b3e7c-250">Le tableau suivant répertorie les valeurs des sous-classes pour cette classe d'événements.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-250">The table below lists the subclass values for this event class.</span></span>  
  
|<span data-ttu-id="b3e7c-251">id</span><span class="sxs-lookup"><span data-stu-id="b3e7c-251">ID</span></span>|<span data-ttu-id="b3e7c-252">Sous-classe</span><span class="sxs-lookup"><span data-stu-id="b3e7c-252">Subclass</span></span>|<span data-ttu-id="b3e7c-253">Description</span><span class="sxs-lookup"><span data-stu-id="b3e7c-253">Description</span></span>|  
|--------|--------------|-----------------|  
|<span data-ttu-id="b3e7c-254">1</span><span class="sxs-lookup"><span data-stu-id="b3e7c-254">1</span></span>|<span data-ttu-id="b3e7c-255">Aucun en-tête de sécurité</span><span class="sxs-lookup"><span data-stu-id="b3e7c-255">No Security Header</span></span>|<span data-ttu-id="b3e7c-256">Au cours d'une conversation sécurisée, Service Broker a reçu un message sans clé de session.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-256">During a secure conversation, Service Broker received a message that did not contain a session key.</span></span> <span data-ttu-id="b3e7c-257">Une fois la conversation sécurisée établie, le protocole de dialogue requiert que tous les messages de la conversation comportent une clé de session.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-257">Once a secure conversation is established, the dialog protocol requires that all messages in the conversation contain a session key.</span></span>|  
|<span data-ttu-id="b3e7c-258">2</span><span class="sxs-lookup"><span data-stu-id="b3e7c-258">2</span></span>|<span data-ttu-id="b3e7c-259">Aucun certificat</span><span class="sxs-lookup"><span data-stu-id="b3e7c-259">No Certificate</span></span>|<span data-ttu-id="b3e7c-260">Service Broker n'a pas pu trouver un certificat valide pour l'un des participants à la conversation.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-260">Service Broker could not locate a usable certificate for one of the participants in the conversation.</span></span> <span data-ttu-id="b3e7c-261">Pour sécuriser une conversation, la base de données doit contenir un certificat pour l'émetteur et le destinataire de la conversation.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-261">To secure a conversation, the database must contain a certificate for both the sender and the recipient of the conversation.</span></span>|  
|<span data-ttu-id="b3e7c-262">3</span><span class="sxs-lookup"><span data-stu-id="b3e7c-262">3</span></span>|<span data-ttu-id="b3e7c-263">Signature incorrecte</span><span class="sxs-lookup"><span data-stu-id="b3e7c-263">Invalid Signature</span></span>|<span data-ttu-id="b3e7c-264">Service Broker n'a pas pu vérifier la signature du message fournie par l'émetteur à l'aide de la clé publique figurant dans son certificat.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-264">Broker could not verify the message signature supplied by the sender using the public key in the sender's certificate.</span></span> <span data-ttu-id="b3e7c-265">Cela peut indiquer que le message est corrompu ou endommagé, que les services distants et locaux ne sont pas configurés avec le même certificat d'utilisateur ou que le certificat est arrivé à expiration.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-265">This may indicate that the message is corrupt, that the message has been tampered with, that the remote service and the local service are not configured with the same user certificate, or that the certificate is out of date.</span></span>|  
|<span data-ttu-id="b3e7c-266">4</span><span class="sxs-lookup"><span data-stu-id="b3e7c-266">4</span></span>|<span data-ttu-id="b3e7c-267">Échec de l'exécution en tant que cible</span><span class="sxs-lookup"><span data-stu-id="b3e7c-267">Run As Target Failure</span></span>|<span data-ttu-id="b3e7c-268">L'utilisateur de destination ne dispose pas des autorisations de réception voulues sur la file d'attente de destination.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-268">The destination user does not have receive permissions on the destination queue.</span></span> <span data-ttu-id="b3e7c-269">Pour empêcher les utilisateurs non habilités de recevoir des messages, Service Broker n'empile pas les messages à destination d'un utilisateur ne disposant pas des autorisations appropriées sur la file d'attente, que l'initiateur ait ou non le droit d'empiler les messages.</span><span class="sxs-lookup"><span data-stu-id="b3e7c-269">To prevent unauthorized users from receiving messages, Service Broker does not enqueue messages with a destination user that cannot receive from the queue, regardless of whether the initiating user has permission to enqueue messages.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="b3e7c-270">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b3e7c-270">See Also</span></span>  
 [<span data-ttu-id="b3e7c-271">SQL Server Service Broker</span><span class="sxs-lookup"><span data-stu-id="b3e7c-271">SQL Server Service Broker</span></span>](../../database-engine/configure-windows/sql-server-service-broker.md)  
  
  
