---
title: Extraire une DAC d’une base de données | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- sql12.swb.extractdacwizard.buildandsave.f1
- sql12.swb.extractdacwizard.setdacproperties.f1
- sql12.swb.extractdacwizard.validationandsummary.f1
- sql12.swb.extractdacwizard.introduction.f1
- sql12.swb.extractdacwizard.selectdatapage.f1
helpviewer_keywords:
- extract DAC
- How to [DAC], extract
- data-tier application [SQL Server], extract
- wizard [DAC], extract
ms.assetid: ae52a723-91c4-43fd-bcc7-f8de1d1f90e5
author: stevestein
ms.author: sstein
ms.openlocfilehash: bd024af9c201563773e20bae7e5fded1985abbe1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87614122"
---
# <a name="extract-a-dac-from-a-database"></a><span data-ttu-id="b1a20-102">Extraire une DAC d'une base de données</span><span class="sxs-lookup"><span data-stu-id="b1a20-102">Extract a DAC From a Database</span></span>
  <span data-ttu-id="b1a20-103">Utilisez **l’Assistant Extraire l’application de la couche Données** ou un script Windows PowerShell pour extraire un package d’application de la couche Données (DAC) d’une base de données SQL Server existante.</span><span class="sxs-lookup"><span data-stu-id="b1a20-103">Use either the **Extract Data-tier Application Wizard** or a Windows PowerShell script to extract a data-tier application (DAC) package from an existing SQL Server database.</span></span> <span data-ttu-id="b1a20-104">Le processus d'extraction crée un fichier de package de DAC qui contient les définitions des objets de base de données et de leurs éléments associés au niveau de l'instance.</span><span class="sxs-lookup"><span data-stu-id="b1a20-104">The extraction process creates a DAC package file that contains definitions of the database objects and their related instance-level elements.</span></span> <span data-ttu-id="b1a20-105">Par exemple, un fichier de package DAC contient les tables de base de données, procédures stockées, vues, utilisateurs, ainsi que les connexions mappées aux utilisateurs de base de données.</span><span class="sxs-lookup"><span data-stu-id="b1a20-105">For example, a DAC package file contains the database tables, stored procedures, views, and users, along with the logins that map to the database users.</span></span>  
  
-   <span data-ttu-id="b1a20-106">**Avant de commencer :**  [Limitations et restrictions](#LimitationsRestrictions), [Autorisations](#Permissions)</span><span class="sxs-lookup"><span data-stu-id="b1a20-106">**Before you begin:**  [Limitations and Restrictions](#LimitationsRestrictions), [Permissions](#Permissions)</span></span>  
  
-   <span data-ttu-id="b1a20-107">**Pour extraire une DAC en utilisant :**  [L'Assistant Extraire l'application de la couche Données](#UsingDACExtractWizard), [PowerShell](#ExtractDACPowerShell)</span><span class="sxs-lookup"><span data-stu-id="b1a20-107">**To extract a DAC, using:**  [The Extract Data-tier Application Wizard](#UsingDACExtractWizard), [PowerShell](#ExtractDACPowerShell)</span></span>  
  
## <a name="before-you-begin"></a><span data-ttu-id="b1a20-108">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="b1a20-108">Before You Begin</span></span>  
 <span data-ttu-id="b1a20-109">Vous pouvez extraire une DAC des bases de données qui résident sur les instances de [!INCLUDE[ssSDS](../../includes/sssds-md.md)]ou [!INCLUDE[ssVersion2000](../../includes/ssversion2000-md.md)] Service Pack 4 (SP4) ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="b1a20-109">You can extract a DAC from databases residing on instances of [!INCLUDE[ssSDS](../../includes/sssds-md.md)], or [!INCLUDE[ssVersion2000](../../includes/ssversion2000-md.md)] Service Pack 4 or later.</span></span> <span data-ttu-id="b1a20-110">Si le processus d'extraction est exécuté sur une base de données déployée à partir d'une DAC, seules les définitions des objets de la base de données sont extraites.</span><span class="sxs-lookup"><span data-stu-id="b1a20-110">If the extraction process is run against a database that was deployed from a DAC, only the definitions of the objects in the database are extracted.</span></span> <span data-ttu-id="b1a20-111">Le processus ne référence pas la DAC inscrite dans `msdb` (**Master** dans [!INCLUDE[ssSDS](../../includes/sssds-md.md)] ).</span><span class="sxs-lookup"><span data-stu-id="b1a20-111">The process does not reference the DAC registered in `msdb` (**master** in [!INCLUDE[ssSDS](../../includes/sssds-md.md)]).</span></span> <span data-ttu-id="b1a20-112">Le processus d'extraction n'inscrit pas la définition de la DAC dans l'instance actuelle du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="b1a20-112">The extraction process does not register the DAC definition in the current instance of the Database Engine.</span></span> <span data-ttu-id="b1a20-113">Pour plus d'informations sur l'inscription d'une DAC, consultez [Register a Database As a DAC](register-a-database-as-a-dac.md).</span><span class="sxs-lookup"><span data-stu-id="b1a20-113">For more information about registering a DAC, see [Register a Database As a DAC](register-a-database-as-a-dac.md).</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="LimitationsRestrictions"></a> <span data-ttu-id="b1a20-114">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="b1a20-114">Limitations and Restrictions</span></span>  
 <span data-ttu-id="b1a20-115">Une DAC peut uniquement être extraite d'une base de données dans [!INCLUDE[ssSDS](../../includes/sssds-md.md)]ou [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 4 (SP4) ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="b1a20-115">A DAC can only be extracted from a database in [!INCLUDE[ssSDS](../../includes/sssds-md.md)], or [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 4 (SP4) or later.</span></span> <span data-ttu-id="b1a20-116">Vous ne pouvez pas extraire une DAC si la base de données possède des objets qui ne sont pas pris en charge dans une DAC, ou des utilisateurs à relation contenant-contenu.</span><span class="sxs-lookup"><span data-stu-id="b1a20-116">You cannot extract a DAC if the database has objects that are not supported in a DAC, or contained users.</span></span> <span data-ttu-id="b1a20-117">Pour plus d'informations sur les types d'objets pris en charge dans une DAC, consultez [DAC Support For SQL Server Objects and Versions](dac-support-for-sql-server-objects-and-versions.md).</span><span class="sxs-lookup"><span data-stu-id="b1a20-117">For more information about the types of objects supported in a DAC, see [DAC Support For SQL Server Objects and Versions](dac-support-for-sql-server-objects-and-versions.md).</span></span>  
  
###  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="b1a20-118">Autorisations</span><span class="sxs-lookup"><span data-stu-id="b1a20-118">Permissions</span></span>  
 <span data-ttu-id="b1a20-119">L’extraction d’un DAC requiert au moins des autorisations ALTER ANY LOGIN et VIEW DEFINITION de la portée de la base de données, ainsi que des autorisations SELECT sur **sys.sql_expression_dependencies**.</span><span class="sxs-lookup"><span data-stu-id="b1a20-119">Extracting a DAC requires at least ALTER ANY LOGIN and database scope VIEW DEFINITION permissions, as well as SELECT permissions on **sys.sql_expression_dependencies**.</span></span> <span data-ttu-id="b1a20-120">L'extraction d'un DAC peut être réalisée par les membres du rôle serveur fixe securityadmin également membres du rôle de base de données fixe database_owner dans la base de données de laquelle est extrait le DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-120">Extracting a DAC can be done by members of the securityadmin fixed server role who are also members of the database_owner fixed database role in the database from which the DAC is extracted.</span></span> <span data-ttu-id="b1a20-121">Les membres du rôle serveur fixe sysadmin ou le compte d’administrateur système intégré de SQL Server nommé **sa** peuvent également extraire une DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-121">Members of the sysadmin fixed server role or the built-in SQL Server system administrator account named **sa** can also extract a DAC.</span></span>  
  
##  <a name="using-the-extract-data-tier-application-wizard"></a><a name="UsingDACExtractWizard"></a><span data-ttu-id="b1a20-122">Utilisation de l’Assistant extraire l’application de la couche données</span><span class="sxs-lookup"><span data-stu-id="b1a20-122">Using the Extract Data-tier Application Wizard</span></span>  
 <span data-ttu-id="b1a20-123">**Pour extraire une DAC à l'aide d'un Assistant**</span><span class="sxs-lookup"><span data-stu-id="b1a20-123">**To Extract a DAC Using a Wizard**</span></span>  
  
1.  <span data-ttu-id="b1a20-124">Dans l' **Explorateur d'objets**, développez le nœud de l'instance contenant la base de données à partir de laquelle la DAC doit être extraite.</span><span class="sxs-lookup"><span data-stu-id="b1a20-124">In **Object Explorer**, expand the node for the instance containing the database from which the DAC is to be extracted.</span></span>  
  
2.  <span data-ttu-id="b1a20-125">Développez le nœud **Bases de données** .</span><span class="sxs-lookup"><span data-stu-id="b1a20-125">Expand the **Databases** node.</span></span>  
  
3.  <span data-ttu-id="b1a20-126">Cliquez avec le bouton droit sur le nœud de la base de données à partir de laquelle la DAC doit être extraite, pointez sur **Tâches**, puis sélectionnez **Extraire une application de la couche Données**.</span><span class="sxs-lookup"><span data-stu-id="b1a20-126">Right-click the node for the database from which the DAC is to be extracted, point to **Tasks**, and then select **Extract Data-tier Application...**</span></span>  
  
4.  <span data-ttu-id="b1a20-127">Renseignez les boîtes de dialogue de l'Assistant :</span><span class="sxs-lookup"><span data-stu-id="b1a20-127">Complete the wizard dialogs:</span></span>  
  
    1.  [<span data-ttu-id="b1a20-128">Page Introduction</span><span class="sxs-lookup"><span data-stu-id="b1a20-128">Introduction Page</span></span>](#Introduction)  
  
    2.  [<span data-ttu-id="b1a20-129">Page Sélectionner les données</span><span class="sxs-lookup"><span data-stu-id="b1a20-129">Select Data Page</span></span>](#SelectData)  
  
    3.  [<span data-ttu-id="b1a20-130">Page Définir les propriétés</span><span class="sxs-lookup"><span data-stu-id="b1a20-130">Set Properties Page</span></span>](#SetProperties)  
  
    4.  [<span data-ttu-id="b1a20-131">Page Validation et résumé</span><span class="sxs-lookup"><span data-stu-id="b1a20-131">Validation and Summary Page</span></span>](#ValidateSummary)  
  
    5.  [<span data-ttu-id="b1a20-132">Page Générer le package</span><span class="sxs-lookup"><span data-stu-id="b1a20-132">Build Package Page</span></span>](#BuildPackage)  
  
###  <a name="introduction-page"></a><a name="Introduction"></a> <span data-ttu-id="b1a20-133">Page Introduction</span><span class="sxs-lookup"><span data-stu-id="b1a20-133">Introduction Page</span></span>  
 <span data-ttu-id="b1a20-134">Cette page décrit les étapes à suivre pour extraire une application de la couche Données.</span><span class="sxs-lookup"><span data-stu-id="b1a20-134">This page describes the steps for extracting a data-tier application.</span></span>  
  
 <span data-ttu-id="b1a20-135">**Ne plus afficher cette page.**</span><span class="sxs-lookup"><span data-stu-id="b1a20-135">**Do not show this page again.**</span></span> <span data-ttu-id="b1a20-136">- Cochez la case pour ne plus afficher la page à l'avenir.</span><span class="sxs-lookup"><span data-stu-id="b1a20-136">- Click the check box to stop the page from being displayed in the future.</span></span>  
  
 <span data-ttu-id="b1a20-137">**Suivant >** : passe à la page **Choisir une méthode**.</span><span class="sxs-lookup"><span data-stu-id="b1a20-137">**Next >** - Proceeds to the **Choose Method** page.</span></span>  
  
 <span data-ttu-id="b1a20-138">**Annuler** - Termine l’Assistant sans extraire une application de la couche Données de la base de données.</span><span class="sxs-lookup"><span data-stu-id="b1a20-138">**Cancel** - Ends the wizard without extracting a data-tier application from the database.</span></span>  
  
###  <a name="select-data-page"></a><a name="SelectData"></a><span data-ttu-id="b1a20-139">Page Sélectionner les données</span><span class="sxs-lookup"><span data-stu-id="b1a20-139">Select Data Page</span></span>  
 <span data-ttu-id="b1a20-140">Utilisez cette page de l'Assistant pour sélectionner la données de référence que vous souhaitez inclure dans votre fichier de package d'application de la couche Données (DAC).</span><span class="sxs-lookup"><span data-stu-id="b1a20-140">Use this page of the wizard to select the reference data that you want to include in your data-tier application (DAC) package file.</span></span> <span data-ttu-id="b1a20-141">L'inclusion de données dans votre package DAC est facultative.</span><span class="sxs-lookup"><span data-stu-id="b1a20-141">Including data in your DAC package is optional.</span></span> <span data-ttu-id="b1a20-142">Le package DAC inclura déjà le schéma de tous les objets de base de données pris en charge, ainsi que les objets d'instance relatifs à votre base de données.</span><span class="sxs-lookup"><span data-stu-id="b1a20-142">The DAC package will already include the schema of all supported database objects and instance objects related to your database.</span></span>  
  
 <span data-ttu-id="b1a20-143">Vous pouvez inclure jusqu'à 10 Mo de données de référence dans votre fichier de package DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-143">You can include up to 10 MB of reference data in your DAC package file.</span></span> <span data-ttu-id="b1a20-144">Toutefois, pour que les tables soient inclues dans la DAC, elles ne doivent pas contenir de types de données d’objet BLOB tels que **image** ou **varchar(max)**.</span><span class="sxs-lookup"><span data-stu-id="b1a20-144">However, for tables to be included in the DAC, they may not contain binary large object (BLOB) data types such as **image** or **varchar(max)**.</span></span> <span data-ttu-id="b1a20-145">Pour extraire des quantités de données plus importantes pour le transfert vers une autre base de données, utilisez SQL Server Integration Services, l'utilitaire de copie en bloc ou l'un des nombreuses autres techniques de migration des données.</span><span class="sxs-lookup"><span data-stu-id="b1a20-145">To extract larger amounts of data for transferring to another database, use SQL Server Integration Services, the bulk copy utility, or one of many other data migration techniques.</span></span>  
  
 <span data-ttu-id="b1a20-146">**Table de base de données** - Cochez la case en regard des tables de base de données qui contiennent les données que vous souhaitez inclure dans votre package DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-146">**Database table** - Select the check box next to the database tables which contain the data that you want to include in your DAC package.</span></span> <span data-ttu-id="b1a20-147">Vous pouvez sélectionner jusqu'à dix tables qui ont 10 000 lignes au maximum.</span><span class="sxs-lookup"><span data-stu-id="b1a20-147">You can select up to ten tables that have 10,000 rows or less.</span></span>  
  
###  <a name="set-properties-page"></a><a name="SetProperties"></a> <span data-ttu-id="b1a20-148">Page Définir les propriétés</span><span class="sxs-lookup"><span data-stu-id="b1a20-148">Set Properties Page</span></span>  
 <span data-ttu-id="b1a20-149">Utilisez cette page de l'Assistant pour décrire l'application de la couche Données (DAC).</span><span class="sxs-lookup"><span data-stu-id="b1a20-149">Use this page of the wizard to describe the data-tier application (DAC).</span></span> <span data-ttu-id="b1a20-150">Ces propriétés sont utilisées pour identifier la DAC et aider à la distinguer des autres.</span><span class="sxs-lookup"><span data-stu-id="b1a20-150">These properties are used to identify the DAC and help distinguish it from others.</span></span>  
  
 <span data-ttu-id="b1a20-151">**Nom** - Ce nom identifie la DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-151">**Name** - This name identifies the DAC.</span></span> <span data-ttu-id="b1a20-152">Il peut être différent du nom du fichier de package de DAC et doit décrire votre application.</span><span class="sxs-lookup"><span data-stu-id="b1a20-152">It can be different than the name of the DAC package file and should describe your application.</span></span> <span data-ttu-id="b1a20-153">Par exemple, si la base de données est utilisée pour une application financière, vous pouvez nommer la DAC Finance.</span><span class="sxs-lookup"><span data-stu-id="b1a20-153">For example, if the database is used for a finance application, you may wish to name the DAC Finance.</span></span>  
  
 <span data-ttu-id="b1a20-154">**Version (utiliser x.x.x.x, où x est un nombre)** - Valeur numérique qui identifie la version de la DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-154">**Version (use xx.xx.xx.xx, where x is a number)** - A numeric value that identifies the version of the DAC.</span></span> <span data-ttu-id="b1a20-155">La version de la DAC est utilisée dans Visual Studio pour identifier la version de la DAC sur laquelle les développeurs travaillent.</span><span class="sxs-lookup"><span data-stu-id="b1a20-155">The DAC version is used in Visual Studio to identify the version of the DAC that developers are working on.</span></span> <span data-ttu-id="b1a20-156">Lors du déploiement d’une DAC, la version est stockée dans la `msdb` base de données et peut être affichée ultérieurement sous le nœud applications de la **couche données** dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b1a20-156">When deploying a DAC, the version is stored in the `msdb` database and can later be viewed under the **Data-tier Applications** node in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="b1a20-157">**Description** : Facultatif.</span><span class="sxs-lookup"><span data-stu-id="b1a20-157">**Description:** - Optional.</span></span> <span data-ttu-id="b1a20-158">Décrit la DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-158">Describes the DAC.</span></span> <span data-ttu-id="b1a20-159">Lors du déploiement d’une DAC, la description est stockée dans la `msdb` base de données et peut être affichée ultérieurement sous le nœud applications de la **couche données** dans [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b1a20-159">When deploying a DAC, the description is stored in the `msdb` database and can later be viewed under the **Data-tier Applications** node in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  
 <span data-ttu-id="b1a20-160">**Enregistrer le fichier de package DAC (inclure l’extension .dacpac dans le nom du fichier)** - Enregistre la DAC dans un fichier de package DAC, avec une extension .dacpac.</span><span class="sxs-lookup"><span data-stu-id="b1a20-160">**Save to DAC package file (include .dacpac extension with file name):** - Saves the DAC to a DAC package file, with a .dacpac extension.</span></span> <span data-ttu-id="b1a20-161">Cliquez sur le bouton **Parcourir** pour spécifier le nom et l'emplacement du fichier.</span><span class="sxs-lookup"><span data-stu-id="b1a20-161">Click the **Browse** button to specify a name and location for the file.</span></span>  
  
 <span data-ttu-id="b1a20-162">**Remplacer le fichier existant** - Cochez la case pour remplacer le fichier du package DAC s’il en existe déjà un du même nom.</span><span class="sxs-lookup"><span data-stu-id="b1a20-162">**Overwrite existing file** - Select this check box to replace the DAC package file if one already exists with the same name.</span></span>  
  
###  <a name="validation-and-summary-page"></a><a name="ValidateSummary"></a> <span data-ttu-id="b1a20-163">Page Validation et résumé</span><span class="sxs-lookup"><span data-stu-id="b1a20-163">Validation and Summary Page</span></span>  
 <span data-ttu-id="b1a20-164">Dans cette page, l'Assistant vérifie que tous les objets de base de données sont pris en charge par une application de la couche Données (DAC).</span><span class="sxs-lookup"><span data-stu-id="b1a20-164">On this page, the wizard validates that all database objects are supported by a data-tier application (DAC).</span></span> <span data-ttu-id="b1a20-165">Il vérifie également les dépendances entre les objets de base de données afin de déterminer l'ensemble d'objets qui peuvent être inclus avec succès dans la DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-165">It also checks dependencies across database objects to determine the set of objects that can be successfully included in the DAC.</span></span> <span data-ttu-id="b1a20-166">Après cela, il affiche le rapport de validation et résume les options que vous avez sélectionnées dans cet Assistant.</span><span class="sxs-lookup"><span data-stu-id="b1a20-166">After that, it displays the validation report and summarizes the options that you have selected in this wizard.</span></span> <span data-ttu-id="b1a20-167">Pour modifier une option, cliquez sur **Précédent**.</span><span class="sxs-lookup"><span data-stu-id="b1a20-167">To change an option, click **Previous**.</span></span> <span data-ttu-id="b1a20-168">Pour commencer à extraire une DAC, cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="b1a20-168">To begin extracting a DAC, click **Next**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b1a20-169">Si un ou plusieurs objets ne sont pas pris en charge par une DAC, le bouton **Suivant** est désactivé et le processus d'extraction peut être interrompu.</span><span class="sxs-lookup"><span data-stu-id="b1a20-169">If one or more objects are not supported by a DAC, then the **Next** button is disabled and the extraction process may not continue.</span></span> <span data-ttu-id="b1a20-170">Dans ces cas-là, il est recommandé de supprimer les objets non pris en charge, puis de réexécuter cet Assistant.</span><span class="sxs-lookup"><span data-stu-id="b1a20-170">In such cases, it is recommended to remove the non-supported objects and then run this wizard again.</span></span>  
  
 <span data-ttu-id="b1a20-171">**Résumé** - Un résumé des options que vous avez sélectionnées est affiché sous **Propriétés de la DAC**.</span><span class="sxs-lookup"><span data-stu-id="b1a20-171">**Summary** - A summary of the options you have selected are listed under **DAC properties**.</span></span> <span data-ttu-id="b1a20-172">Les résultats de la validation apparaissent sous **Objets de DAC**.</span><span class="sxs-lookup"><span data-stu-id="b1a20-172">The results of the validation are listed under **DAC objects**.</span></span> <span data-ttu-id="b1a20-173">Il existe trois types de résultats de validation :</span><span class="sxs-lookup"><span data-stu-id="b1a20-173">There are three types of results from the validation:</span></span>  
  
-   <span data-ttu-id="b1a20-174">**Objets inclus dans la DAC avec succès**: ces objets et leurs dépendances sont pris en charge et peuvent être inclus avec succès dans la DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-174">**Objects included in DAC successfully**: these objects and their dependencies are supported, and can be included in the DAC successfully.</span></span>  
  
-   <span data-ttu-id="b1a20-175">**Objets inclus dans la DAC avec avertissements**: ces objets sont pris en charge, mais dépendent d'autres objets qui ne sont pas pris en charge dans une DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-175">**Objects included in DAC with warnings**: these objects are supported, but depend on other objects that are not supported in a DAC.</span></span>  
  
-   <span data-ttu-id="b1a20-176">**Objets non inclus dans la DAC**: ces objets ne sont pas pris en charge et doivent être supprimés de la base de données avant d'extraire une DAC avec succès.</span><span class="sxs-lookup"><span data-stu-id="b1a20-176">**Objects not included in DAC**: these objects are not supported and must be removed from the database before successfully extracting a DAC.</span></span>  
  
 <span data-ttu-id="b1a20-177">Le processus de validation vérifie plusieurs niveaux de dépendances.</span><span class="sxs-lookup"><span data-stu-id="b1a20-177">The validation process checks multiple levels of dependencies.</span></span> <span data-ttu-id="b1a20-178">Par exemple, si une procédure stockée dépend d'une table qui utilise le type de données CLR non pris en charge, la procédure stockée apparaît sous **Objets inclus dans la DAC avec avertissements**.</span><span class="sxs-lookup"><span data-stu-id="b1a20-178">For example, if a stored procedure depends on a table that uses the unsupported CLR data type, the stored procedure will be listed under **Objects included in DAC with warnings**.</span></span>  
  
 <span data-ttu-id="b1a20-179">Si un ou plusieurs objets ne sont pas pris en charge par une DAC, le bouton **Suivant** est désactivé et le processus d'extraction est interrompu.</span><span class="sxs-lookup"><span data-stu-id="b1a20-179">If one or more objects are not supported by a DAC, then the **Next** button is disabled and the extraction process will not continue.</span></span> <span data-ttu-id="b1a20-180">Dans ces cas-là, il est recommandé de supprimer les objets non pris en charge, puis de réexécuter cet Assistant.</span><span class="sxs-lookup"><span data-stu-id="b1a20-180">In such cases, it is recommended to remove the objects that are not supported and then run this wizard again.</span></span>  
  
 <span data-ttu-id="b1a20-181">**Enregistrer le rapport** - Vous permet d’enregistrer un fichier HTML qui répertorie tous les objets sous le nœud **Objets de DAC** dans le résumé.</span><span class="sxs-lookup"><span data-stu-id="b1a20-181">**Save Report** - Enables you to save an HTML-based file that lists all of the objects under the **DAC Objects** node in the summary.</span></span> <span data-ttu-id="b1a20-182">Ce rapport peut être utile lorsque certains de vos objets de base de données ne sont pas pris en charge dans une DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-182">This report can be useful when some of your database objects are not supported in a DAC.</span></span> <span data-ttu-id="b1a20-183">Utilisez le rapport pour changer ou supprimer des objets qui ne sont pas pris en charge, avant d'essayer d'extraire de nouveau la DAC.</span><span class="sxs-lookup"><span data-stu-id="b1a20-183">Use the report to change or remove objects that are not supported, before trying to extract the DAC again.</span></span>  
  
###  <a name="build-package-page"></a><a name="BuildPackage"></a><span data-ttu-id="b1a20-184">Page créer un package</span><span class="sxs-lookup"><span data-stu-id="b1a20-184">Build Package Page</span></span>  
 <span data-ttu-id="b1a20-185">Utilisez cette page pour surveiller la progression de l'Assistant à mesure qu'il extrait l'application de la couche Données (DAC).</span><span class="sxs-lookup"><span data-stu-id="b1a20-185">Use this page to monitor the progress of the wizard as it extracts the data-tier application (DAC).</span></span>  
  
 <span data-ttu-id="b1a20-186">**Action** - Pendant l’action **Créer et enregistrer le fichier de package de DAC** , l’Assistant extrait une DAC de votre base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b1a20-186">**Action** - During the **Create and save DAC package file** action, the wizard extracts a DAC from your SQL Server database.</span></span> <span data-ttu-id="b1a20-187">Ensuite, un package de DAC est créé en mémoire et enregistré à l'emplacement que vous avez spécifié.</span><span class="sxs-lookup"><span data-stu-id="b1a20-187">Then, a DAC package is created in memory and saved to the location you specified.</span></span> <span data-ttu-id="b1a20-188">Cliquez sur les liens dans la colonne **Résultat** pour consulter le résultat de l'étape correspondante.</span><span class="sxs-lookup"><span data-stu-id="b1a20-188">Click on the links in the **Result** column to see the outcome of the corresponding step.</span></span>  
  
 <span data-ttu-id="b1a20-189">**Enregistrer le rapport** - Enregistre les résultats de la progression de l’Assistant dans un fichier.</span><span class="sxs-lookup"><span data-stu-id="b1a20-189">**Save Report** - Click to save the results of the wizard's progress to a file.</span></span>  
  
 <span data-ttu-id="b1a20-190">**Terminer** - Ferme l’Assistant une fois le traitement terminé ou si une erreur se produit.</span><span class="sxs-lookup"><span data-stu-id="b1a20-190">**Finish** - Click to close the wizard after processing has completed, or if an error occurs.</span></span>  
  
##  <a name="extract-a-dac-using-powershell"></a><a name="ExtractDACPowerShell"></a><span data-ttu-id="b1a20-191">Extraire une DAC à l’aide de PowerShell</span><span class="sxs-lookup"><span data-stu-id="b1a20-191">Extract a DAC Using PowerShell</span></span>  
 <span data-ttu-id="b1a20-192">**Pour extraire une DAC d’une base de données à l’aide de la méthode Extract() dans un script PowerShell**</span><span class="sxs-lookup"><span data-stu-id="b1a20-192">**To extract a DAC from a database using the Extract() method in a PowerShell script**</span></span>  
  
1.  <span data-ttu-id="b1a20-193">Créez un objet serveur SMO et affectez-lui l'instance qui contient la base de données à partir de laquelle la DAC doit être extraite.</span><span class="sxs-lookup"><span data-stu-id="b1a20-193">Create a SMO Server object and set it to the instance that contains the database from which the DAC is to be extracted.</span></span>  
  
2.  <span data-ttu-id="b1a20-194">Ajoutez une variable qui spécifie le nom de la base de données.</span><span class="sxs-lookup"><span data-stu-id="b1a20-194">Add a variable that specifies the name of the database.</span></span>  
  
3.  <span data-ttu-id="b1a20-195">Spécifiez les métadonnées pour la DAC, par exemple le nom de la DAC, la version et la description.</span><span class="sxs-lookup"><span data-stu-id="b1a20-195">Specify the metadata for the DAC, such as the DAC name, version, and description.</span></span>  
  
4.  <span data-ttu-id="b1a20-196">Spécifiez le chemin d'accès et le nom du fichier de package DAC extrait.</span><span class="sxs-lookup"><span data-stu-id="b1a20-196">Specify the path and file name for the extracted DAC package file.</span></span>  
  
5.  <span data-ttu-id="b1a20-197">Exécutez la méthode Extract avec les informations spécifiées ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="b1a20-197">Run the Extract method with the information specified above.</span></span>  
  
### <a name="example-powershell"></a><span data-ttu-id="b1a20-198">Exemple (PowerShell)</span><span class="sxs-lookup"><span data-stu-id="b1a20-198">Example (PowerShell)</span></span>  
 <span data-ttu-id="b1a20-199">L'exemple suivant extrait une DAC nommée MyApplication d'une base de données nommée MyDB.</span><span class="sxs-lookup"><span data-stu-id="b1a20-199">The following example extracts a DAC named MyApplication from a database named MyDB.</span></span>  
  
```powershell
## Set a SMO Server object to the default instance on the local computer.  
CD SQLSERVER:\SQL\localhost\DEFAULT  
$srv = Get-Item .  
  
## Specify the database to extract to a DAC.  
$dbname = "MyDB"  
  
## Specify the DAC metadata.  
$applicationname = "MyApplication"  
$version = "1.0.0.0"  
$description = "This DAC defines the database used by my application."  
  
## Specify the location and name for the extracted DAC package.  
$dacpacPath = "C:\MyDACs\MyApplication.dacpac"  
  
## Extract the DAC.  
$extractionunit = New-Object Microsoft.SqlServer.Management.Dac.DacExtractionUnit($srv, $dbname, $applicationname, $version)  
$extractionunit.Description = $description  
$extractionunit.Extract($dacpacPath)  
```  
  
## <a name="see-also"></a><span data-ttu-id="b1a20-200">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b1a20-200">See Also</span></span>  
 [<span data-ttu-id="b1a20-201">Applications de la couche Données</span><span class="sxs-lookup"><span data-stu-id="b1a20-201">Data-tier Applications</span></span>](data-tier-applications.md)  
