---
title: Mettre à niveau une application de la couche Données | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- sql12.swb.upgradedacwizard.reviewpolicy.f1
- sql12.swb.upgradedacwizard.selectoptions.f1
- sql12.swb.upgradedacwizard.selectpackage.f1
- sql12.swb.upgradedacwizard.reviewplan.f1
- sql12.swb.upgradedacwizard.checkdrift.f1
- sql12.swb.upgradedacwizard.summary.f1
- sql12.swb.upgradedacwizard.upgradedac.f1
- sql12.swb.upgradedacwizard.introduction.f1
helpviewer_keywords:
- upgrade DAC
- data-tier application [SQL Server], upgrade
- wizard [DAC], upgrade
- How to [DAC], upgrade
ms.assetid: c117df94-f02b-403f-9383-ec5b3ac3763c
author: stevestein
ms.author: sstein
ms.openlocfilehash: 0e597d02af28a16539b50ff76503059278ef7a03
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87614121"
---
# <a name="upgrade-a-data-tier-application"></a><span data-ttu-id="55012-102">Upgrade a Data-tier Application</span><span class="sxs-lookup"><span data-stu-id="55012-102">Upgrade a Data-tier Application</span></span>
  <span data-ttu-id="55012-103">Utilisez l'Assistant Mise à niveau de l'application de la couche Données ou bien un script Windows PowerShell pour modifier le schéma et les propriétés d'une application de la couche Données (DAC) actuellement déployée pour qu'ils correspondent à ceux définis dans la nouvelle version de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-103">Use either the Upgrade Data-tier Application Wizard or a Windows PowerShell script to change the schema and properties of a currently deployed data-tier application (DAC) to match the schema and properties defined in a new version of the DAC.</span></span>  
  
-   <span data-ttu-id="55012-104">**Avant de commencer :**  [Choix des options de mise à niveau de la DAC](#ChoseDACUpgOptions), [Limitations et restrictions](#LimitationsRestrictions), [Prérequis](#Prerequisites), [Sécurité](#Security), [Autorisations](#Permissions)</span><span class="sxs-lookup"><span data-stu-id="55012-104">**Before you begin:**  [Choosing DAC Upgrade Options](#ChoseDACUpgOptions), [Limitations and Restrictions](#LimitationsRestrictions), [Prerequisites](#Prerequisites), [Security](#Security), [Permissions](#Permissions)</span></span>  
  
-   <span data-ttu-id="55012-105">**Pour mettre à niveau une DAC à l’aide de** :  [l’Assistant Mise à niveau de l’application de la couche Données](#UsingDACUpgradeWizard), [PowerShell](#UpgradeDACPowerShell)</span><span class="sxs-lookup"><span data-stu-id="55012-105">**To upgrade a DAC, using:**  [The Upgrade Data-tier Application Wizard](#UsingDACUpgradeWizard), [PowerShell](#UpgradeDACPowerShell)</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="55012-106">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="55012-106">Before You Begin</span></span>  
 <span data-ttu-id="55012-107">La mise à niveau d'une DAC est un processus sur place qui modifie le schéma de la base de données existante de manière à ce qu'il corresponde au schéma défini dans une nouvelle version de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-107">A DAC upgrade is an in-place process that alters the schema of the existing database to match the schema defined in a new version of the DAC.</span></span> <span data-ttu-id="55012-108">La nouvelle version de la DAC est fournie dans un fichier de package DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-108">The new version of the DAC is supplied in a DAC package file.</span></span> <span data-ttu-id="55012-109">Pour plus d’informations sur la création d’un package DAC, consultez [Applications de la couche Données](data-tier-applications.md).</span><span class="sxs-lookup"><span data-stu-id="55012-109">For more information about creating a DAC package, see [Data-tier Applications](data-tier-applications.md).</span></span>  
  
###  <a name="choosing-dac-upgrade-options"></a><a name="ChoseDACUpgOptions"></a> <span data-ttu-id="55012-110">Choix des options de mise à niveau de la DAC</span><span class="sxs-lookup"><span data-stu-id="55012-110">Choosing DAC Upgrade Options</span></span>  
 <span data-ttu-id="55012-111">Il existe quatre options de mise à niveau dans le cadre d'une mise à niveau sur place :</span><span class="sxs-lookup"><span data-stu-id="55012-111">There are four upgrade options for an in-place upgrade:</span></span>  
  
-   <span data-ttu-id="55012-112">**Ignorer la perte de données** : si `True` la valeur est, la mise à niveau se poursuivra même si certaines opérations entraînent la perte de données.</span><span class="sxs-lookup"><span data-stu-id="55012-112">**Ignore Data Loss** - If `True`, the upgrade will proceed even if some of the operations result in the loss of data.</span></span> <span data-ttu-id="55012-113">Si sa valeur est `False`, ces opérations mettent fin à la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-113">If `False`, these operations will terminate the upgrade.</span></span> <span data-ttu-id="55012-114">Par exemple, si l'une des tables de la base de données actuelle n'est pas présente dans le schéma de la nouvelle DAC, la table est supprimée si la valeur `True` est spécifiée.</span><span class="sxs-lookup"><span data-stu-id="55012-114">For example, if a table in the current database is not present in the schema of the new DAC, the table will be dropped if `True` is specified.</span></span> <span data-ttu-id="55012-115">La valeur par défaut est `True`.</span><span class="sxs-lookup"><span data-stu-id="55012-115">The default setting is `True`.</span></span>  
  
-   <span data-ttu-id="55012-116">**Bloquer sur les modifications** : si `True` la mise à niveau est terminée, la mise à niveau est interrompue si le schéma de la base de données est différent de celui défini dans la DAC précédente.</span><span class="sxs-lookup"><span data-stu-id="55012-116">**Block on Changes** - If `True`, the upgrade is terminated if the database schema is different than that defined in the previous DAC.</span></span> <span data-ttu-id="55012-117">Si la valeur est `False`, la mise à niveau continue, même si des modifications sont détectées.</span><span class="sxs-lookup"><span data-stu-id="55012-117">If `False`, the upgrade continues even if changes are detected.</span></span> <span data-ttu-id="55012-118">La valeur par défaut est `False`.</span><span class="sxs-lookup"><span data-stu-id="55012-118">The default setting is `False`.</span></span>  
  
-   <span data-ttu-id="55012-119">**Restauration en cas d’échec** : si `True` la mise à niveau est incluse dans une transaction, et si des erreurs sont rencontrées, une restauration est tentée.</span><span class="sxs-lookup"><span data-stu-id="55012-119">**Rollback on Failure** - If `True`, the upgrade is enclosed in a transaction, and if errors are encountered a rollback will be attempted.</span></span> <span data-ttu-id="55012-120">Si la valeur est `False`, toutes les modifications sont validées au fur et à mesure qu'elles sont effectuées. Par conséquent, si des erreurs se produisent, vous pourrez avoir à restaurer une sauvegarde de la base de données.</span><span class="sxs-lookup"><span data-stu-id="55012-120">If `False`, all changes are committed as they are made and if errors occur you may have to restore a previous backup of the database.</span></span> <span data-ttu-id="55012-121">La valeur par défaut est `False`.</span><span class="sxs-lookup"><span data-stu-id="55012-121">The default setting is `False`.</span></span>  
  
-   <span data-ttu-id="55012-122">**Ignorer la validation de stratégie** -si `True` la stratégie de sélection du serveur DAC n’est pas évaluée.</span><span class="sxs-lookup"><span data-stu-id="55012-122">**Skip Policy Validation** - If `True`, the DAC server selection policy is not evaluated.</span></span> <span data-ttu-id="55012-123">Si la valeur est `False`, la stratégie est évaluée et la mise à niveau s'arrête en cas d'erreur de validation.</span><span class="sxs-lookup"><span data-stu-id="55012-123">If `False`, the policy is evaluated and the upgrade terminates if there is a validation error.</span></span> <span data-ttu-id="55012-124">La valeur par défaut est `False`.</span><span class="sxs-lookup"><span data-stu-id="55012-124">The default setting is `False`.</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="LimitationsRestrictions"></a> <span data-ttu-id="55012-125">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="55012-125">Limitations and Restrictions</span></span>  
 <span data-ttu-id="55012-126">Les mises à niveau d'une DAC ne peuvent être effectuées que dans [!INCLUDE[ssSDS](../../includes/sssds-md.md)]ou dans [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 4 (SP4) ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="55012-126">DAC uprades can only be performed in [!INCLUDE[ssSDS](../../includes/sssds-md.md)], or [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 4 (SP4) or later.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="55012-127">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="55012-127">Prerequisites</span></span>  
 <span data-ttu-id="55012-128">Par mesure de prudence, il est recommandé d'effectuer une sauvegarde complète de la base de données avant de la mettre à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-128">It is prudent to take a full database backup before starting the upgrade.</span></span> <span data-ttu-id="55012-129">Si une erreur se produit lors d'une mise à niveau et que toutes ses modifications ne peuvent pas être restaurées, vous devrez peut-être restaurer la sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="55012-129">If an upgrade encounters an error and cannot roll back all of its changes, you may need to restore the backup.</span></span>  
  
 <span data-ttu-id="55012-130">Avant de démarrer la mise à niveau, plusieurs actions peuvent être entreprises pour valider le package DAC et les actions de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-130">Before starting the upgrade, there are several actions that you should take to validate the DAC package and the upgrade actions.</span></span> <span data-ttu-id="55012-131">Pour plus d'informations sur la façon de procéder à ces vérifications, consultez [Validate a DAC Package](validate-a-dac-package.md).</span><span class="sxs-lookup"><span data-stu-id="55012-131">For more information about how to perform these checks, see [Validate a DAC Package](validate-a-dac-package.md).</span></span>  
  
-   <span data-ttu-id="55012-132">Nous vous recommandons de pas effectuer de mise à niveau en utilisant un package DAC provenant de sources inconnues ou non approuvées.</span><span class="sxs-lookup"><span data-stu-id="55012-132">We recommend that you do not upgrade by using a DAC package from unknown or untrusted sources.</span></span> <span data-ttu-id="55012-133">De tels packages peuvent contenir du code malveillant susceptible d'exécuter un code Transact-SQL indésirable ou de provoquer des erreurs en modifiant le schéma.</span><span class="sxs-lookup"><span data-stu-id="55012-133">Such packages could contain malicious code that might execute unintended Transact-SQL code or cause errors by modifying the schema.</span></span> <span data-ttu-id="55012-134">Avant d'utiliser un package provenant d'une source inconnue ou non approuvée, décompressez la DAC et vérifiez le code, par exemple les procédures stockées ou autre code défini par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="55012-134">Before you use a package from an unknown or untrusted source, unpack the DAC and examine the code, such as stored procedures or other user-defined code.</span></span>  
  
-   <span data-ttu-id="55012-135">Si des modifications ont été apportées à la base de données actuelle après le déploiement de la dernière version de la DAC, certaines d'entre elles risquent d'empêcher la réussite de la mise à niveau, ou bien risquent d'être supprimées par la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-135">If changes have been made to the current database after the last version of the DAC was deployed, some of the changes may prevent the successful completion of the upgrade, or be removed by the upgrade.</span></span> <span data-ttu-id="55012-136">Vous devez d'abord générer un rapport afin de passer en revue toutes les modifications apportées à la base de données.</span><span class="sxs-lookup"><span data-stu-id="55012-136">You should first generate and review a report of any such changes made in the database.</span></span>  
  
-   <span data-ttu-id="55012-137">Par mesure de prudence, il est recommandé de générer une liste des modifications qui seront apportées au schéma lors de la mise à niveau, et de passer en revue la liste à la recherche d'éventuels problèmes.</span><span class="sxs-lookup"><span data-stu-id="55012-137">It is prudent to generate a list of the schema changes the upgrade will perform, and review the list for any problems.</span></span>  
  
 <span data-ttu-id="55012-138">Le nom d'application dans le package DAC doit correspondre au nom d'application de la DAC actuellement déployée.</span><span class="sxs-lookup"><span data-stu-id="55012-138">The application name in the DAC package must match the application name of the currently deployed DAC.</span></span> <span data-ttu-id="55012-139">Par exemple, si la DAC actuelle a pour nom d'application **GeneralLedger**, vous pouvez effectuer la mise à niveau uniquement à l'aide d'un package DAC ayant également pour nom d'application **GeneralLedger**.</span><span class="sxs-lookup"><span data-stu-id="55012-139">For example, if the current DAC has an application name of **GeneralLedger**, you can only upgrade by using a DAC package that also has an application name of **GeneralLedger**.</span></span>  
  
 <span data-ttu-id="55012-140">Vérifiez que le journal des transactions contient suffisamment d'espace pour enregistrer toutes les modifications.</span><span class="sxs-lookup"><span data-stu-id="55012-140">Ensure there is enough transaction log space available to log all of the modifications.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="55012-141">Sécurité</span><span class="sxs-lookup"><span data-stu-id="55012-141">Security</span></span>  
 <span data-ttu-id="55012-142">Pour améliorer la sécurité, les connexions d'authentification SQL Server sont stockées dans un package DAC sans mot de passe.</span><span class="sxs-lookup"><span data-stu-id="55012-142">To improve security, SQL Server Authentication logins are stored in a DAC package without a password.</span></span> <span data-ttu-id="55012-143">Lorsque le package est déployé ou mis à niveau, la connexion est créée en tant que connexion désactivée avec un mot de passe généré.</span><span class="sxs-lookup"><span data-stu-id="55012-143">When the package is deployed or upgraded, the login is created as a disabled login with a generated password.</span></span> <span data-ttu-id="55012-144">Pour activer les connexions, connectez-vous à l'aide d'une connexion qui possède l'autorisation ALTER ANY LOGIN et utilisez ALTER LOGIN pour activer la connexion et affecter un nouveau mot de passe pouvant être communiqué à l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="55012-144">To enable the logins, log in using a login that has ALTER ANY LOGIN permission and use ALTER LOGIN to enable the login and assign a new password that can be communicated to the user.</span></span> <span data-ttu-id="55012-145">Cela n'est pas nécessaire pour les connexions d'authentification Windows car leurs mots de passe ne sont pas gérés par SQL Server.</span><span class="sxs-lookup"><span data-stu-id="55012-145">This is not needed for Windows Authentication logins because their passwords are not managed by SQL Server.</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="55012-146">Autorisations</span><span class="sxs-lookup"><span data-stu-id="55012-146">Permissions</span></span>  
 <span data-ttu-id="55012-147">Une DAC ne peut être mise à niveau que par les membres des rôles serveur fixes **sysadmin** ou **serveradmin** , ou par les connexions situées dans le rôle serveur fixe **dbcreator** et disposant d'autorisations ALTER ANY LOGIN.</span><span class="sxs-lookup"><span data-stu-id="55012-147">A DAC can only be upgraded by members of the **sysadmin** or **serveradmin** fixed server roles, or by logins that are in the **dbcreator** fixed server role and have ALTER ANY LOGIN permissions.</span></span> <span data-ttu-id="55012-148">La connexion doit être propriétaire de la base de données existante.</span><span class="sxs-lookup"><span data-stu-id="55012-148">The login must be the owner of the existing database.</span></span> <span data-ttu-id="55012-149">Le compte d’administrateur système [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] intégré nommé **sa** peut aussi mettre à niveau une DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-149">The built-in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system administrator account named **sa** can also upgrade a DAC.</span></span>  
  
##  <a name="using-the-upgrade-data-tier-application-wizard"></a><a name="UsingDACUpgradeWizard"></a> <span data-ttu-id="55012-150">Utilisation de l'Assistant Mise à niveau de l'application de la couche Données</span><span class="sxs-lookup"><span data-stu-id="55012-150">Using the Upgrade Data-tier Application Wizard</span></span>  
 <span data-ttu-id="55012-151">**Pour mettre à niveau une DAC à l'aide d'un Assistant**</span><span class="sxs-lookup"><span data-stu-id="55012-151">**To Upgrade a DAC Using a Wizard**</span></span>  
  
1.  <span data-ttu-id="55012-152">Dans l' **Explorateur d'objets**, développez le nœud pour l'instance qui contient la DAC à mettre à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-152">In **Object Explorer**, expand the node for the instance containing the DAC to be upgraded.</span></span>  
  
2.  <span data-ttu-id="55012-153">Développez le nœud **Gestion** , puis le nœud **Applications de la couche Données** .</span><span class="sxs-lookup"><span data-stu-id="55012-153">Expand the **Management** node, and then expand the **Data-tier Applications** node.</span></span>  
  
3.  <span data-ttu-id="55012-154">Cliquez avec le bouton droit sur le nœud de la DAC à mettre à niveau, puis sélectionnez **Mettre à niveau l’application de la couche Données...** .</span><span class="sxs-lookup"><span data-stu-id="55012-154">Right-click the node for the DAC to be upgraded, and then select **Upgrade Data-tier Application...**</span></span>  
  
4.  <span data-ttu-id="55012-155">Renseignez les boîtes de dialogue de l'Assistant :</span><span class="sxs-lookup"><span data-stu-id="55012-155">Complete the wizard dialogs:</span></span>  
  
    1.  [<span data-ttu-id="55012-156">Page Introduction</span><span class="sxs-lookup"><span data-stu-id="55012-156">Introduction Page</span></span>](#Introduction)  
  
    2.  [<span data-ttu-id="55012-157">Page Sélectionner un package</span><span class="sxs-lookup"><span data-stu-id="55012-157">Select Package Page</span></span>](#Select_dac_package)  
  
    3.  [<span data-ttu-id="55012-158">Page Vérifier la stratégie</span><span class="sxs-lookup"><span data-stu-id="55012-158">Review Policy Page</span></span>](#Review_policy)  
  
    4.  [<span data-ttu-id="55012-159">Page Détecter les modifications</span><span class="sxs-lookup"><span data-stu-id="55012-159">Detect Change Page</span></span>](#Detect_change)  
  
    5.  [<span data-ttu-id="55012-160">Réviser le plan de mise à niveau</span><span class="sxs-lookup"><span data-stu-id="55012-160">Review the Upgrade Plan</span></span>](#ReviewUpgPlan)  
  
    6.  [<span data-ttu-id="55012-161">Page Résumé</span><span class="sxs-lookup"><span data-stu-id="55012-161">Summary Page</span></span>](#Summary)  
  
    7.  [<span data-ttu-id="55012-162">Page Mettre à niveau la DAC</span><span class="sxs-lookup"><span data-stu-id="55012-162">Upgrade DAC Page</span></span>](#Upgrade)  
  
##  <a name="introduction-page"></a><a name="Introduction"></a> <span data-ttu-id="55012-163">Page Introduction</span><span class="sxs-lookup"><span data-stu-id="55012-163">Introduction Page</span></span>  
 <span data-ttu-id="55012-164">Cette page décrit les étapes de mise à niveau d'une application de couche Données.</span><span class="sxs-lookup"><span data-stu-id="55012-164">This page describes the steps for upgrading a data-tier application.</span></span>  
  
 <span data-ttu-id="55012-165">**Ne plus afficher cette page.**</span><span class="sxs-lookup"><span data-stu-id="55012-165">**Do not show this page again.**</span></span> <span data-ttu-id="55012-166">- Cochez la case pour ne plus afficher la page à l'avenir.</span><span class="sxs-lookup"><span data-stu-id="55012-166">- Click the check box to stop the page from being displayed in the future.</span></span>  
  
 <span data-ttu-id="55012-167">**Suivant >** : passe à la page **Sélectionner un package**.</span><span class="sxs-lookup"><span data-stu-id="55012-167">**Next >** - Proceeds to the **Select Package** page.</span></span>  
  
 <span data-ttu-id="55012-168">**Annuler** : met fin à l’Assistant sans mettre à niveau la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-168">**Cancel** - Terminates the wizard without upgrading the DAC.</span></span>  
  
##  <a name="select-package-page"></a><a name="Select_dac_package"></a> <span data-ttu-id="55012-169">Page Sélectionner un package</span><span class="sxs-lookup"><span data-stu-id="55012-169">Select Package Page</span></span>  
 <span data-ttu-id="55012-170">Utilisez cette page pour spécifier le package DAC qui contient la nouvelle version de l'application de couche Données.</span><span class="sxs-lookup"><span data-stu-id="55012-170">Use this page to specify the DAC package that contains the new version of the data-tier application.</span></span> <span data-ttu-id="55012-171">La page passe par deux états.</span><span class="sxs-lookup"><span data-stu-id="55012-171">The page transitions through two states.</span></span>  
  
### <a name="select-the-dac-package"></a><span data-ttu-id="55012-172">Sélectionner le package DAC</span><span class="sxs-lookup"><span data-stu-id="55012-172">Select the DAC Package</span></span>  
 <span data-ttu-id="55012-173">Utilisez l'état initial de la page pour choisir le package DAC à déployer.</span><span class="sxs-lookup"><span data-stu-id="55012-173">Use the initial state of the page to choose the DAC package to deploy.</span></span> <span data-ttu-id="55012-174">Le package de la DAC doit être un fichier de package de DAC valide et doit avoir une extension .dacpac.</span><span class="sxs-lookup"><span data-stu-id="55012-174">The DAC package must be a valid DAC package file and must have a .dacpac extension.</span></span> <span data-ttu-id="55012-175">Le nom d'application de la DAC dans le package de DAC doit être le même que le nom d'application de la DAC actuelle.</span><span class="sxs-lookup"><span data-stu-id="55012-175">The DAC application name in the DAC package must be the same as the application name of the current DAC.</span></span>  
  
 <span data-ttu-id="55012-176">**Package de DAC** : spécifie le chemin et le nom de fichier du package DAC qui contient la nouvelle version de l’application de couche Données.</span><span class="sxs-lookup"><span data-stu-id="55012-176">**DAC Package** - Specify the path and file name of the DAC package that contains the new version of the data-tier application.</span></span> <span data-ttu-id="55012-177">Vous pouvez sélectionner le bouton **Parcourir** à droite de la zone pour accéder à l'emplacement du package de DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-177">You can select the **Browse** button at the right of the box to browse to the location of the DAC package.</span></span>  
  
 <span data-ttu-id="55012-178">**Nom de l’application** : zone en lecture seule qui affiche le nom d’application de la DAC, attribué au moment de sa création ou de son extraction d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="55012-178">**Application Name** - A read-only box that displays the DAC application name assigned when the DAC was authored or extracted from a database.</span></span>  
  
 <span data-ttu-id="55012-179">**Version** : zone en lecture seule qui affiche la version affectée au moment où la DAC a été créée ou extraite d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="55012-179">**Version** - A read-only box that displays the version assigned when the DAC was authored or extracted from a database.</span></span>  
  
 <span data-ttu-id="55012-180">**Description** : zone en lecture seule qui affiche la description écrite au moment où la DAC a été créée ou extraite d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="55012-180">**Description** - A read-only box that displays the description written when the DAC was authored or extracted from a database.</span></span>  
  
 <span data-ttu-id="55012-181">\*\* \< Précédent\*\* : renvoie à la page **Introduction** .</span><span class="sxs-lookup"><span data-stu-id="55012-181">**\< Previous** - Returns to the **Introduction** page.</span></span>  
  
 <span data-ttu-id="55012-182">**Suivant >** : affiche une barre de progression dès que l’Assistant confirme que le fichier sélectionné est un package DAC valide.</span><span class="sxs-lookup"><span data-stu-id="55012-182">**Next >** - Displays a progress bar as the wizard confirms that the selected file is a valid DAC package.</span></span>  
  
 <span data-ttu-id="55012-183">**Annuler** : met fin à l’Assistant sans mettre à niveau la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-183">**Cancel** - Terminates the wizard without upgrading the DAC.</span></span>  
  
### <a name="validating-the-dac-package"></a><span data-ttu-id="55012-184">Validation du package DAC</span><span class="sxs-lookup"><span data-stu-id="55012-184">Validating the DAC Package</span></span>  
 <span data-ttu-id="55012-185">Affiche une barre de progression quand l'Assistant confirme que le fichier sélectionné est un package DAC valide.</span><span class="sxs-lookup"><span data-stu-id="55012-185">Displays a progress bar as the wizard confirms that the selected file is a valid DAC package.</span></span> <span data-ttu-id="55012-186">Si le package de DAC est validé, l'Assistant passe à la page **Vérifier la stratégie** .</span><span class="sxs-lookup"><span data-stu-id="55012-186">If the DAC package is validated, the wizard proceeds to the **Review Policy** page.</span></span> <span data-ttu-id="55012-187">Si le fichier n'est pas un package DAC valide, l'Assistant reste sur la page **Sélectionner un package DAC** .</span><span class="sxs-lookup"><span data-stu-id="55012-187">If the file is not a valid DAC package, the wizard remains on the **Select DAC Package** page.</span></span> <span data-ttu-id="55012-188">Sélectionnez un autre package DAC valide ou annulez l'Assistant et générez un nouveau package DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-188">Either select another valid DAC package or cancel the wizard and generate a new DAC package.</span></span>  
  
 <span data-ttu-id="55012-189">**Validation du contenu de la DAC** : barre de progression qui indique l’état actuel de la validation.</span><span class="sxs-lookup"><span data-stu-id="55012-189">**Validating the contents of the DAC** - The progress bar that reports the current status of the validation process.</span></span>  
  
 <span data-ttu-id="55012-190">\*\* \< Précédent\*\* : revient à l’état initial de la page **Sélectionner un package** .</span><span class="sxs-lookup"><span data-stu-id="55012-190">**\< Previous** - Returns to the initial state of the **Select Package** page.</span></span>  
  
 <span data-ttu-id="55012-191">**Suivant >** : passe à la dernière version de la page **Sélectionner un package**.</span><span class="sxs-lookup"><span data-stu-id="55012-191">**Next >** - Proceeds to the final version of the **Select Package** page.</span></span>  
  
 <span data-ttu-id="55012-192">**Annuler** : met fin à l’Assistant sans déployer la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-192">**Cancel** - Terminates the wizard without deploying the DAC.</span></span>  
  
##  <a name="review-policy-page"></a><a name="Review_policy"></a> <span data-ttu-id="55012-193">Page Vérifier la stratégie</span><span class="sxs-lookup"><span data-stu-id="55012-193">Review Policy Page</span></span>  
 <span data-ttu-id="55012-194">Utilisez cette page pour vérifier les résultats de l'évaluation de la stratégie de sélection du serveur de la DAC, si la DAC a une stratégie.</span><span class="sxs-lookup"><span data-stu-id="55012-194">Use this page to review the results of evaluating the DAC server selection policy, if the DAC has a policy.</span></span> <span data-ttu-id="55012-195">La stratégie de sélection du serveur de la DAC est facultative et est affectée à une DAC créée dans Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="55012-195">The DAC server selection policy is optional, and is assigned to a DAC authored in Microsoft Visual Studio.</span></span> <span data-ttu-id="55012-196">La stratégie utilise les facettes de la stratégie de sélection du serveur pour spécifier les conditions que doit remplir une instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)] pour héberger la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-196">The policy uses the server selection policy facets to specify conditions an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] should meet to host the DAC.</span></span>  
  
 <span data-ttu-id="55012-197">**Résultats de l’évaluation des conditions de stratégie** : rapport en lecture seule indiquant si les évaluations des conditions de la stratégie de sélection du serveur de la DAC sont remplies.</span><span class="sxs-lookup"><span data-stu-id="55012-197">**Evaluation results of policy conditions** - A read-only report showing whether the evaluations of the conditions in the DAC server selection policy succeeded.</span></span> <span data-ttu-id="55012-198">Les résultats de l'évaluation de chaque condition sont indiqués sur des lignes distinctes.</span><span class="sxs-lookup"><span data-stu-id="55012-198">The results of evaluating each condition are reported on a separate line.</span></span>  
  
 <span data-ttu-id="55012-199">**Ignorez les violations de stratégie** : utilisez cette case à cocher pour poursuivre la mise à niveau en cas d’échec d’une ou plusieurs conditions de stratégie.</span><span class="sxs-lookup"><span data-stu-id="55012-199">**Ignore policy violations** - Use this check box to proceed with the upgrade if one or more of the policy conditions failed.</span></span> <span data-ttu-id="55012-200">Ne sélectionnez cette option que si vous êtes sûr que toutes les conditions qui ont échoué n'empêcheront pas l'opération de la DAC de réussir.</span><span class="sxs-lookup"><span data-stu-id="55012-200">Only select this option if you are sure that all of the conditions which failed will not prevent the successful operation of the DAC.</span></span>  
  
 <span data-ttu-id="55012-201">\*\* \< Précédent\*\* : renvoie à la page **Sélectionner un package** .</span><span class="sxs-lookup"><span data-stu-id="55012-201">**\< Previous** - Returns to the **Select Package** page.</span></span>  
  
 <span data-ttu-id="55012-202">**Suivant >** : passe à la page **Détecter les modifications**.</span><span class="sxs-lookup"><span data-stu-id="55012-202">**Next >** - Proceeds to the **Detect Change** page.</span></span>  
  
 <span data-ttu-id="55012-203">**Annuler** : met fin à l’Assistant sans mettre à niveau la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-203">**Cancel** - Terminates the wizard without upgrading the DAC.</span></span>  
  
##  <a name="detect-change-page"></a><a name="Detect_change"></a> <span data-ttu-id="55012-204">Page Détecter les modifications</span><span class="sxs-lookup"><span data-stu-id="55012-204">Detect Change Page</span></span>  
 <span data-ttu-id="55012-205">Cette page indique les résultats de recherche des Assistants portant sur les modifications effectuées dans la base de données qui font différer le schéma de sa définition enregistrée dans les métadonnées de la DAC, dans **msdb**.</span><span class="sxs-lookup"><span data-stu-id="55012-205">Use this page reports the results of the wizards check for changes made to the database that make it's schema different than the schema definition stored in the DAC metadata in **msdb**.</span></span> <span data-ttu-id="55012-206">Par exemple, si les instructions CREATE, ALTER ou DROP ont été utilisées pour ajouter, modifier ou supprimer des objets de la base de données, après le déploiement d'origine de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-206">For example, if CREATE, ALTER, or DROP statements have been used to add, change, or remove objects from the database after the DAC was originally deployed.</span></span> <span data-ttu-id="55012-207">La page affiche d'abord une barre de progression, puis signale les résultats de l'analyse.</span><span class="sxs-lookup"><span data-stu-id="55012-207">The page first displays a progress bar, and then reports the results of the analysis.</span></span>  
  
 <span data-ttu-id="55012-208">**Détection des modifications. Cette opération peut prendre quelques minutes** : affiche une barre de progression pendant que l’Assistant recherche des différences entre le schéma actuel de la base de données et les objets dans la définition de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-208">**Detecting change, this may take a few minutes** - Displays a progress bar as the wizard checks for differences between the current schema of the database and the objects in the DAC definition.</span></span>  
  
 <span data-ttu-id="55012-209">**Résultats de la détection des modifications:** : indique que l’analyse est terminée et affiche les résultats au-dessous.</span><span class="sxs-lookup"><span data-stu-id="55012-209">**Change detection results:** - Indicates that the analysis has completed and the results are reported below.</span></span>  
  
 <span data-ttu-id="55012-210">**La base de données DatabaseName n’a pas changé** : l’Assistant n’a pas détecté de différences entre les objets définis dans la base de données et leurs équivalents dans la définition de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-210">**The database DatabaseName has not changed** - The wizard detected no differences in the objects defined in the database and their counterparts in the DAC definition.</span></span>  
  
 <span data-ttu-id="55012-211">**La base de données DatabaseName a changé** : l’Assistant a détecté des modifications entre les objets dans la base de données et leurs équivalents dans la définition de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-211">**The database DatabaseName has changed** - The wizard detected changes between the objects in the database and their counterparts in the DAC definition.</span></span>  
  
 <span data-ttu-id="55012-212">**Poursuivre malgré la perte possible des modifications** : indique que vous êtes conscient que certains objets ou données dans la base de données actuelle ne seront pas présents dans la nouvelle base de données, et que vous souhaitez poursuivre la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-212">**Proceed despite possible loss of changes** - Specifies that you understand some of the objects or data in the current database will not be present in the new database, and that you are willing to proceed with the upgrade.</span></span> <span data-ttu-id="55012-213">Vous ne devez sélectionner ce bouton que si vous avez analysé le rapport des modifications et si vous connaissez la procédure à effectuer pour transférer manuellement tous les objets ou données nécessaires dans la nouvelle base de données.</span><span class="sxs-lookup"><span data-stu-id="55012-213">You should select this button only if you have analyzed the change report and understand the steps you must perform to manually transfer any objects or data required in the new database.</span></span> <span data-ttu-id="55012-214">Si vous n'en êtes pas sûr, cliquez sur le bouton **Enregistrer le rapport** pour enregistrer le rapport des modifications, puis sur **Annuler**.</span><span class="sxs-lookup"><span data-stu-id="55012-214">If you are not sure, click the **Save Report** button to save the change report, then click **Cancel**.</span></span> <span data-ttu-id="55012-215">Analysez le rapport, organisez le transfert de tous les objets et données nécessaires une fois la mise à niveau terminée, puis redémarrez l'Assistant.</span><span class="sxs-lookup"><span data-stu-id="55012-215">Analyze the report, plan how to transfer any required objects and data after the upgrade completes, then restart the wizard.</span></span>  
  
 <span data-ttu-id="55012-216">**Enregistrer le rapport** : cliquez sur ce bouton pour enregistrer un rapport des modifications détectées par l’Assistant entre les objets de la base de données et leurs équivalents dans la définition de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-216">**Save Report** - Click the button to save a report of the changes the wizard detected between the objects in the database and their counterparts in the DAC definition.</span></span> <span data-ttu-id="55012-217">Vous pouvez ensuite vérifier le rapport pour déterminer si vous devez prendre des mesures, une fois la mise à niveau terminée, pour incorporer dans la nouvelle base de données tout ou partie des objets répertoriés dans le rapport.</span><span class="sxs-lookup"><span data-stu-id="55012-217">You can then review the report to determine if you need to take actions after the upgrade completes to incorporate some or all of the objects listed in the report into the new database.</span></span>  
  
 <span data-ttu-id="55012-218">\*\* \< Précédent\*\* : revient à la page **Sélectionner le package DAC** .</span><span class="sxs-lookup"><span data-stu-id="55012-218">**\< Previous** - Returns to the **Select DAC Package** page.</span></span>  
  
 <span data-ttu-id="55012-219">**Suivant >** : passe à la page **Options**.</span><span class="sxs-lookup"><span data-stu-id="55012-219">**Next >** - Proceeds to the **Options** page.</span></span>  
  
 <span data-ttu-id="55012-220">**Annuler** : met fin à l’Assistant sans déployer la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-220">**Cancel** - Terminates the wizard without deploying the DAC.</span></span>  
  
## <a name="options-page"></a><span data-ttu-id="55012-221">Page Options</span><span class="sxs-lookup"><span data-stu-id="55012-221">Options Page</span></span>  
 <span data-ttu-id="55012-222">Utilisez cette page pour sélectionner l'option de restauration en cas de échec de la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-222">Use this page to select the rollback on failure option for the upgrade.</span></span>  
  
 <span data-ttu-id="55012-223">**Restauration en cas d’échec** - Sélectionnez cette option pour inclure la mise à niveau dans une transaction que l’Assistant peut tenter de restaurer en cas de erreur.</span><span class="sxs-lookup"><span data-stu-id="55012-223">**Rollback on failure** - Select this option to enclose the upgrade in a transaction which the wizard can attempt to roll back if errors occur.</span></span> <span data-ttu-id="55012-224">Pour plus d'informations sur l'option, consultez [Choix des options de mise à niveau de la DAC](#ChoseDACUpgOptions).</span><span class="sxs-lookup"><span data-stu-id="55012-224">For more information about the option, see [Choosing DAC Upgrade Options](#ChoseDACUpgOptions).</span></span>  
  
 <span data-ttu-id="55012-225">**Paramètres par défaut** : rétablit la valeur par défaut (False) de l’option.</span><span class="sxs-lookup"><span data-stu-id="55012-225">**Restore Defaults** - Returns the option to its default setting of false.</span></span>  
  
 <span data-ttu-id="55012-226">\*\* \< Précédent\*\* : renvoie à la page **détecter les modifications** .</span><span class="sxs-lookup"><span data-stu-id="55012-226">**\< Previous** - Returns to the **Detect Change** page.</span></span>  
  
 <span data-ttu-id="55012-227">**Suivant >** : passe à la page **Vérifier le plan de mise à niveau**.</span><span class="sxs-lookup"><span data-stu-id="55012-227">**Next >** - Proceeds to the **Review the Upgrade Plan** page.</span></span>  
  
 <span data-ttu-id="55012-228">**Annuler** : met fin à l’Assistant sans déployer la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-228">**Cancel** - Terminates the wizard without deploying the DAC.</span></span>  
  
##  <a name="review-the-upgrade-plan-page"></a><a name="ReviewUpgPlan"></a> <span data-ttu-id="55012-229">Page Vérifier le plan de mise à niveau</span><span class="sxs-lookup"><span data-stu-id="55012-229">Review the Upgrade Plan Page</span></span>  
 <span data-ttu-id="55012-230">Utilisez cette page pour vérifier les actions qui sont effectuées par le processus de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-230">Use this page to do review the actions that will be taken by the upgrade process.</span></span> <span data-ttu-id="55012-231">Ne poursuivez l'opération que si vous êtes sûr que la mise à niveau s'effectuera sans créer de problèmes.</span><span class="sxs-lookup"><span data-stu-id="55012-231">Only proceed when you are confident the upgrade will not create problems.</span></span>  
  
 <span data-ttu-id="55012-232">**Les actions suivantes permettront de mettre à niveau la DAC.**</span><span class="sxs-lookup"><span data-stu-id="55012-232">**The following actions will be used to upgrade the DAC.**</span></span> <span data-ttu-id="55012-233">- Vérifiez les informations affichées pour vous assurer que les actions prises seront correctes.</span><span class="sxs-lookup"><span data-stu-id="55012-233">- Review the information displayed to ensure the actions taken will be correct.</span></span> <span data-ttu-id="55012-234">La colonne **Action** affiche les actions, telles que les instructions Transact-SQL, qui seront exécutées pour effectuer la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-234">The **Action** column displays the actions, such as Transact-SQL statements, that will be run to perform the upgrade.</span></span> <span data-ttu-id="55012-235">La colonne **Perte de données** contiendra un avertissement si l'action associée risque de supprimer des données.</span><span class="sxs-lookup"><span data-stu-id="55012-235">The **Data Loss** column will contain a warning if the associated action could delete data.</span></span>  
  
 <span data-ttu-id="55012-236">**Actualiser** - Actualise la liste des actions.</span><span class="sxs-lookup"><span data-stu-id="55012-236">**Refresh** - refreshes the action list.</span></span>  
  
 <span data-ttu-id="55012-237">**Enregistrer le rapport d’action** - Enregistre le contenu de la fenêtre d’action dans un fichier HTML.</span><span class="sxs-lookup"><span data-stu-id="55012-237">**Save Action Report** - saves the contents of the action window to an HTML file.</span></span>  
  
 <span data-ttu-id="55012-238">**Poursuivre malgré la perte possible des modifications** : indique que vous êtes conscient que certains objets ou données dans la base de données actuelle ne seront pas présents dans la nouvelle base de données, et que vous souhaitez poursuivre la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-238">**Proceed despite possible loss of changes** - Specifies that you understand some of the objects or data in the current database will not be present in the new database, and that you are willing to proceed with the upgrade.</span></span> <span data-ttu-id="55012-239">Vous ne devez sélectionner ce bouton que si vous avez analysé le rapport des modifications et si vous connaissez la procédure à effectuer pour transférer manuellement tous les objets ou données nécessaires dans la nouvelle base de données.</span><span class="sxs-lookup"><span data-stu-id="55012-239">You should select this button only if you have analyzed the change report and understand the steps you must perform to manually transfer any objects or data required in the new database.</span></span> <span data-ttu-id="55012-240">Si vous n’en êtes pas sûr, cliquez sur le bouton **Enregistrer le rapport d’action** pour enregistrer le rapport des modifications et sur le bouton **Enregistrer les scripts** pour enregistrer le script Transact-SQL, puis cliquez sur **Annuler**.</span><span class="sxs-lookup"><span data-stu-id="55012-240">If you are not sure, click the **Save Action Report** button to save the change report and the **Save Scripts** button to save the Transact-SQL script, then click **Cancel**.</span></span> <span data-ttu-id="55012-241">Analysez le rapport et le script, organisez le transfert de tous les objets et données nécessaires une fois la mise à niveau terminée, puis redémarrez l'Assistant.</span><span class="sxs-lookup"><span data-stu-id="55012-241">Analyze the report and script, and then plan how to transfer any required objects and data after the upgrade completes, then restart the wizard.</span></span>  
  
 <span data-ttu-id="55012-242">**Enregistrer les scripts** : enregistre les instructions Transact-SQL qui permettront d’effectuer la mise à niveau vers un fichier texte.</span><span class="sxs-lookup"><span data-stu-id="55012-242">**Save Scripts** - saves the Transact-SQL statements that will be used to perform the upgrade to a text file.</span></span>  
  
 <span data-ttu-id="55012-243">**Paramètres par défaut** : rétablit la valeur par défaut (False) de l’option.</span><span class="sxs-lookup"><span data-stu-id="55012-243">**Restore Defaults** - Returns the option to its default setting of false.</span></span>  
  
 <span data-ttu-id="55012-244">\*\* \< Précédent\*\* : renvoie à la page **détecter les modifications** .</span><span class="sxs-lookup"><span data-stu-id="55012-244">**\< Previous** - Returns to the **Detect Change** page.</span></span>  
  
 <span data-ttu-id="55012-245">**Suivant >** : passe à la page **Résumé**.</span><span class="sxs-lookup"><span data-stu-id="55012-245">**Next >** - Proceeds to the **Summary** page.</span></span>  
  
 <span data-ttu-id="55012-246">**Annuler** : met fin à l’Assistant sans déployer la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-246">**Cancel** - Terminates the wizard without deploying the DAC.</span></span>  
  
##  <a name="summary-page"></a><a name="Summary"></a> <span data-ttu-id="55012-247">Page Résumé</span><span class="sxs-lookup"><span data-stu-id="55012-247">Summary Page</span></span>  
 <span data-ttu-id="55012-248">Utilisez cette page pour effectuer une vérification finale des actions que l'Assistant prendra lors de la mise à niveau de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-248">Use this page to do a final review of the actions the wizard will take when upgrading the DAC.</span></span>  
  
 <span data-ttu-id="55012-249">**Les paramètres suivants seront utilisés pour mettre à niveau votre DAC.**</span><span class="sxs-lookup"><span data-stu-id="55012-249">**The following settings will be used to upgrade your DAC.**</span></span> <span data-ttu-id="55012-250">- Vérifiez les informations affichées pour vous assurer que les actions prises seront correctes.</span><span class="sxs-lookup"><span data-stu-id="55012-250">- Review the information displayed to ensure the actions taken will be correct.</span></span> <span data-ttu-id="55012-251">La fenêtre affiche la DAC que vous avez sélectionnée pour être mise à niveau, et le package de DAC qui contient la nouvelle version de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-251">The window displays the DAC you selected to be upgraded, and the DAC package containing the new version of the DAC.</span></span> <span data-ttu-id="55012-252">La fenêtre s'affiche également si la version actuelle de la base de données est identique à la définition de la DAC actuelle, ou si la base de données a été modifiée.</span><span class="sxs-lookup"><span data-stu-id="55012-252">The window also displays whether the current version of the database is the same as the current DAC definition, or if the database has changed.</span></span>  
  
 <span data-ttu-id="55012-253">\*\* \< Précédent\*\* : vous renvoie à la page **vérifier le plan de mise à niveau** .</span><span class="sxs-lookup"><span data-stu-id="55012-253">**\< Previous** - Returns you to the **Review the Upgrade Plan** page.</span></span>  
  
 <span data-ttu-id="55012-254">**Suivant >** : déploie la DAC et affiche les résultats dans la page **Mettre à niveau la DAC**.</span><span class="sxs-lookup"><span data-stu-id="55012-254">**Next >** - Deploys the DAC and displays the results in the **Upgrade DAC** page.</span></span>  
  
 <span data-ttu-id="55012-255">**Annuler** : met fin à l’Assistant sans déployer la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-255">**Cancel** - Terminates the wizard without deploying the DAC.</span></span>  
  
##  <a name="upgrade-dac-page"></a><a name="Upgrade"></a> <span data-ttu-id="55012-256">Page Mettre à niveau la DAC</span><span class="sxs-lookup"><span data-stu-id="55012-256">Upgrade DAC Page</span></span>  
 <span data-ttu-id="55012-257">Cette page signale la réussite ou l'échec de l'opération de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-257">This page reports the success or failure of the upgrade operation.</span></span>  
  
 <span data-ttu-id="55012-258">**Mise à niveau de la DAC** : signale la réussite ou l’échec de chaque action entreprise pour mettre à niveau la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-258">**Upgrading the DAC** - Reports the success or failure of each action taken to upgrade the DAC.</span></span> <span data-ttu-id="55012-259">Examinez les informations pour déterminer la réussite ou l'échec de chaque action.</span><span class="sxs-lookup"><span data-stu-id="55012-259">Review the information to determine the success or failure of each action.</span></span> <span data-ttu-id="55012-260">Toute action pour laquelle une erreur s'est produite aura un lien dans la colonne **Résultat** .</span><span class="sxs-lookup"><span data-stu-id="55012-260">Any action that encountered an error will have a link in the **Result** column.</span></span> <span data-ttu-id="55012-261">Sélectionnez le lien pour consulter le rapport de d'erreur de cette action.</span><span class="sxs-lookup"><span data-stu-id="55012-261">Select the link to view a report of the error for that action.</span></span>  
  
 <span data-ttu-id="55012-262">**Enregistrer le rapport** : sélectionnez ce bouton pour enregistrer le rapport de mise à niveau dans un fichier HTML.</span><span class="sxs-lookup"><span data-stu-id="55012-262">**Save Report** - Select this button to save the upgrade report to an HTML file.</span></span> <span data-ttu-id="55012-263">Le fichier signale l'état de chaque action, notamment toutes les erreurs générées par chacune des actions.</span><span class="sxs-lookup"><span data-stu-id="55012-263">The file reports the status of each action, including all errors generated by any of the actions.</span></span> <span data-ttu-id="55012-264">Le dossier par défaut est un dossier SQL Server Management Studio\DAC Packages dans le dossier Documents de votre compte Windows.</span><span class="sxs-lookup"><span data-stu-id="55012-264">The default folder is a SQL Server Management Studio\DAC Packages folder in the Documents folder of your Windows account.</span></span>  
  
 <span data-ttu-id="55012-265">**Terminer** : met fin à l’Assistant.</span><span class="sxs-lookup"><span data-stu-id="55012-265">**Finish** - Terminates the wizard.</span></span>  
  
##  <a name="using-powershell"></a><a name="UpgradeDACPowerShell"></a> <span data-ttu-id="55012-266">Utilisation de PowerShell</span><span class="sxs-lookup"><span data-stu-id="55012-266">Using PowerShell</span></span>  
 <span data-ttu-id="55012-267">**Pour mettre à niveau une DAC à l’aide de la méthode IncrementalUpgrade() dans un script PowerShell**</span><span class="sxs-lookup"><span data-stu-id="55012-267">**To upgrade a DAC using the IncrementalUpgrade() method in a PowerShell script**</span></span>  
  
1.  <span data-ttu-id="55012-268">Créez un objet serveur SMO et affectez-lui l'instance qui contient la DAC à mettre à niveau.</span><span class="sxs-lookup"><span data-stu-id="55012-268">Create a SMO Server object and set it to the instance that contains the DAC to be upgraded.</span></span>  
  
2.  <span data-ttu-id="55012-269">Ouvrez un objet `ServerConnection` et connectez-vous à la même instance.</span><span class="sxs-lookup"><span data-stu-id="55012-269">Open a `ServerConnection` object and connect to the same instance.</span></span>  
  
3.  <span data-ttu-id="55012-270">Utilisez `System.IO.File` pour charger le fichier de package DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-270">Use `System.IO.File` to load the DAC package file.</span></span>  
  
4.  <span data-ttu-id="55012-271">Utilisez `add_DacActionStarted` et `add_DacActionFinished` pour vous abonner aux événements de mise à niveau de la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-271">Use `add_DacActionStarted` and `add_DacActionFinished` to subscribe to the DAC upgrade events.</span></span>  
  
5.  <span data-ttu-id="55012-272">Définissez `DacUpgradeOptions`.</span><span class="sxs-lookup"><span data-stu-id="55012-272">Set the `DacUpgradeOptions`.</span></span>  
  
6.  <span data-ttu-id="55012-273">Utilisez la méthode `IncrementalUpgrade` pour mettre à niveau la DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-273">Use the `IncrementalUpgrade` method to upgrade the DAC.</span></span>  
  
7.  <span data-ttu-id="55012-274">Fermez le flux de fichier utilisé pour lire le fichier de package DAC.</span><span class="sxs-lookup"><span data-stu-id="55012-274">Close the file stream used to read the DAC package file.</span></span>  
  
### <a name="example-powershell"></a><span data-ttu-id="55012-275">Exemple (PowerShell)</span><span class="sxs-lookup"><span data-stu-id="55012-275">Example (PowerShell)</span></span>  
 <span data-ttu-id="55012-276">L'exemple suivant met à niveau la DAC nommée MyApplication sur une instance par défaut du [!INCLUDE[ssDE](../../includes/ssde-md.md)]en utilisant une nouvelle version de DAC dans un package MyApplicationVNext.dacpac.</span><span class="sxs-lookup"><span data-stu-id="55012-276">The following example upgrades a DAC named MyApplication on a default instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], using a new DAC version in a MyApplicationVNext.dacpac package.</span></span>  
  
```powershell
## Set a SMO Server object to the default instance on the local computer.  
CD SQLSERVER:\SQL\localhost\DEFAULT  
$srv = Get-Item .  
  
## Open a Common.ServerConnection to the same instance.  
$serverconnection = New-Object Microsoft.SqlServer.Management.Common.ServerConnection($srv.ConnectionContext.SqlConnectionObject)  
$serverconnection.Connect()  
$dacstore = New-Object Microsoft.SqlServer.Management.Dac.DacStore($serverconnection)  
  
## Load the DAC package file.  
$dacpacPath = "C:\MyDACs\MyApplicationVNext.dacpac"  
$fileStream = [System.IO.File]::Open($dacpacPath,[System.IO.FileMode]::OpenOrCreate)  
$dacType = [Microsoft.SqlServer.Management.Dac.DacType]::Load($fileStream)  
  
## Subscribe to the DAC upgrade events.  
$dacstore.add_DacActionStarted({Write-Host `n`nStarting at $(get-date) :: $_.Description})  
$dacstore.add_DacActionFinished({Write-Host Completed at $(get-date) :: $_.Description})  
  
## Upgrade the DAC and close the package.  
$dacName  = "MyApplication"  
  
## Set the upgrade options.  
$upgradeProperties = New-Object Microsoft.SqlServer.Management.Dac.DacUpgradeOptions  
$upgradeProperties.blockonchanges = $true  
$upgradeProperties.ignoredataloss = $false  
$upgradeProperties.rollbackonfailure = $true  
$ upgradeProperties.skippolicyvalidation = $false  
  
## Upgrade the DAC  
$dacstore.IncrementalUpgrade($dacName, $dacType, $upgradeProperties)  
## Close the package file.  
$fileStream.Close()  
```  
  
## <a name="see-also"></a><span data-ttu-id="55012-277">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="55012-277">See Also</span></span>  
 <span data-ttu-id="55012-278">[Applications de la couche Données](data-tier-applications.md) </span><span class="sxs-lookup"><span data-stu-id="55012-278">[Data-tier Applications](data-tier-applications.md) </span></span>  
 [<span data-ttu-id="55012-279">SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="55012-279">SQL Server PowerShell</span></span>](../../powershell/sql-server-powershell.md)  
