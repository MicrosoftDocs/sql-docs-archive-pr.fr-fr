---
title: Traduction automatique de données caractères | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
helpviewer_keywords:
- result sets [ODBC], autotranslating character data
- data types [ODBC], autotranslating character data
- ACPs
- SQL Server Native Client ODBC driver, result sets
- ODBC applications, result sets
- AutoTranslate feature
- ANSI code pages
- character data autotranslation [ODBC]
- autotranslating character data
- SQL Server Native Client ODBC driver, data types
- ODBC data types, autotranslating character data
ms.assetid: 86a8adda-c5ad-477f-870f-cb370c39ee13
author: rothja
ms.author: jroth
ms.openlocfilehash: 91dd1714d553f201c1cab78bbca77d2445b42923
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87709343"
---
# <a name="autotranslation-of-character-data"></a><span data-ttu-id="6f3b1-102">Traduction automatique de données caractères</span><span class="sxs-lookup"><span data-stu-id="6f3b1-102">Autotranslation of Character Data</span></span>
  <span data-ttu-id="6f3b1-103">Les données de type caractère, telles que les variables de caractères ANSI déclarées avec SQL_C_CHAR ou les données stockées dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à l’aide des types de données **char**, **varchar**ou **Text** , ne peuvent représenter qu’un nombre limité de caractères.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-103">Character data, such as ANSI character variables declared with SQL_C_CHAR or data stored in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using the **char**, **varchar**, or **text** data types, can represent only a limited number of characters.</span></span> <span data-ttu-id="6f3b1-104">Les données caractères stockées à l'aide d'un octet par caractère ne peuvent représenter que 256 caractères.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-104">Character data stored using one byte per character can only represent 256 characters.</span></span> <span data-ttu-id="6f3b1-105">Les valeurs stockées dans les variables SQL_C_CHAR sont interprétées à l'aide de la page de codes ANSI (ACP) de l'ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-105">The values stored in SQL_C_CHAR variables are interpreted using the ANSI code page (ACP) of the client computer.</span></span> <span data-ttu-id="6f3b1-106">Les valeurs stockées à l’aide des types de données **char**, **varchar**ou **Text** sur le serveur sont évaluées à l’aide de l’ACP du serveur.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-106">The values stored using **char**, **varchar**, or **text** data types on the server are evaluated using the ACP of the server.</span></span>  
  
 <span data-ttu-id="6f3b1-107">Si le serveur et le client ont tous les deux le même ACP, ils n’ont aucun problème pour interpréter les valeurs stockées dans les objets SQL_C_CHAR, **char**, **varchar**ou **Text** .</span><span class="sxs-lookup"><span data-stu-id="6f3b1-107">If both the server and the client have the same ACP, then they have no problems in interpreting the values stored in SQL_C_CHAR, **char**, **varchar**, or **text** objects.</span></span> <span data-ttu-id="6f3b1-108">Si le serveur et le client ont des codes ANSI différents, SQL_C_CHAR données du client peuvent être interprétées comme un caractère différent sur le serveur s’il est utilisé dans les colonnes de **type char**, **varchar**ou **Text** , les variables ou les paramètres.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-108">If the server and client have different ACPs, then SQL_C_CHAR data from the client may be interpreted as a different character on the server if it is used in **char**, **varchar**, or **text** columns, variables, or parameters.</span></span> <span data-ttu-id="6f3b1-109">Par exemple, un octet de caractère contenant la valeur 0xA5 est interprété comme le caractère ?</span><span class="sxs-lookup"><span data-stu-id="6f3b1-109">For example, a character byte containing the value 0xA5 is interpreted as the character ??</span></span> <span data-ttu-id="6f3b1-110">sur un ordinateur qui utilise la page de codes 437 et est interprété comme le signe yen ( ??) sur un ordinateur exécutant la page de codes 1252.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-110">on a computer using code page 437 and is interpreted as the yen sign (??) on a computer running code page 1252.</span></span>  
  
 <span data-ttu-id="6f3b1-111">Les données Unicode sont stockées à l'aide de deux octets par caractère.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-111">Unicode data is stored using two bytes per character.</span></span> <span data-ttu-id="6f3b1-112">Tous les caractères étendus étant couverts par la spécification Unicode, tous les caractères Unicode sont interprétés de la même façon par tous les ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-112">All extended characters are covered by the Unicode specification, so all Unicode characters are interpreted the same by all computers.</span></span>  
  
 <span data-ttu-id="6f3b1-113">La fonctionnalité de traduction automatique du [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pilote ODBC native client tente de réduire les problèmes de déplacement de données de caractères entre un client et un serveur qui ont des pages de codes différentes.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-113">The AutoTranslate feature of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC driver attempts to minimize the problems in moving character data between a client and a server that have different code pages.</span></span> <span data-ttu-id="6f3b1-114">La conversion automatique peut être définie dans la chaîne de connexion de [SQLDriverConnect](../native-client-odbc-api/sqldriverconnect.md), dans la chaîne de configuration de [SQLConfigDataSource](../native-client-odbc-api/sqlconfigdatasource.md)ou lors de la configuration de sources de données pour le [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pilote ODBC Native Client à l’aide de l’administrateur ODBC.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-114">AutoTranslate can be set in the connect string of [SQLDriverConnect](../native-client-odbc-api/sqldriverconnect.md), in the configuration string of [SQLConfigDataSource](../native-client-odbc-api/sqlconfigdatasource.md), or when configuring data sources for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC driver using ODBC Administrator.</span></span>  
  
 <span data-ttu-id="6f3b1-115">Lorsque la conversion automatique est définie sur « non », aucune conversion n’est effectuée sur les données déplacées entre les variables de SQL_C_CHAR sur le client et les colonnes de **type char**, **varchar**ou **Text** , les variables ou les paramètres d’une [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] base de données.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-115">When AutoTranslate is set to "no", no conversions are done on data moved between SQL_C_CHAR variables on the client and **char**, **varchar**, or **text** columns, variables, or parameters in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="6f3b1-116">Les modèles binaires peuvent être interprétés différemment sur les ordinateurs client et serveur si les données contiennent des caractères étendus et que les deux ordinateurs ont des pages de codes différentes.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-116">The bit patterns may be interpreted differently on the client and server computers if the data contains extended characters and the two computers have different code pages.</span></span> <span data-ttu-id="6f3b1-117">Les données seront interprétées de la même façon si les deux ordinateurs ont la même page de codes.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-117">The data will be interpreted the same if both computers have the same code page.</span></span>  
  
 <span data-ttu-id="6f3b1-118">Lorsque la conversion automatique est définie sur « Oui », le [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pilote ODBC Native Client utilise Unicode pour convertir les données déplacées entre les variables de SQL_C_CHAR sur le client et les colonnes de **type char**, **varchar**ou **Text** , les variables ou les paramètres d’une [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] base de données :</span><span class="sxs-lookup"><span data-stu-id="6f3b1-118">When AutoTranslate is set to "yes", the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC driver uses Unicode to convert data moved between SQL_C_CHAR variables on the client and **char**, **varchar**, or **text** columns, variables, or parameters in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database:</span></span>  
  
-   <span data-ttu-id="6f3b1-119">Lorsque des données sont envoyées à partir d’une variable de SQL_C_CHAR sur le client vers une colonne de **type char**, **varchar**ou **Text** , une variable ou un paramètre d’une [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] base de données, le pilote ODBC convertit d’abord de SQL_C_CHAR en Unicode à l’aide de l’ACP du client, puis de retour Unicode en caractères à l’aide de l’ACP du serveur.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-119">When data is sent from an SQL_C_CHAR variable on the client to a **char**, **varchar**, or **text** column, variable, or parameter in an [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database, the ODBC driver first converts from SQL_C_CHAR to Unicode using the ACP of the client, then from Unicode back to character using the ACP of the server.</span></span>  
  
-   <span data-ttu-id="6f3b1-120">Lorsque des données sont envoyées à partir d’une colonne de **type char**, **varchar**ou **Text** , d’une variable ou d’un paramètre d’une [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] base de données vers une variable de SQL_C_CHAR sur le client, le [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pilote ODBC native client convertit d’abord le caractère en Unicode à l’aide de l’ACP du serveur, puis de l’Unicode à SQL_C_CHAR à l’aide de l’ACP du client.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-120">When data is sent from a **char**, **varchar**, or **text** column, variable, or parameter in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database to a SQL_C_CHAR variable on the client, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC driver first converts from character to Unicode using the ACP of the server, then from Unicode back to SQL_C_CHAR using the ACP of the client.</span></span>  
  
 <span data-ttu-id="6f3b1-121">Étant donné que toutes ces conversions sont effectuées par le [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pilote ODBC Native Client qui s’exécute sur le client, le serveur ACP doit être l’une des pages de codes installées sur l’ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-121">Because all of these conversions are done by the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC driver executing on the client, the server ACP must be one of the code pages installed on the client computer.</span></span>  
  
 <span data-ttu-id="6f3b1-122">Le fait d'effectuer les conversions de caractères via Unicode garantit une conversion correcte de tous les caractères qui existent dans les deux pages de codes.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-122">Making the character conversions through Unicode ensures the proper conversion of all characters that exist in both code pages.</span></span> <span data-ttu-id="6f3b1-123">Si, toutefois, un caractère existe dans une page de codes mais pas dans une autre, le caractère ne peut pas être représenté dans la page de codes cible.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-123">If a character exists in one code page but not another, however, then the character cannot be represented in the target code page.</span></span> <span data-ttu-id="6f3b1-124">Par exemple, la page de codes 1252 contient le symbole de marque déposée ( ??), contrairement à la page de codes 437.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-124">For example, code page 1252 has the registered trademark symbol (??), while code page 437 does not.</span></span>  
  
 <span data-ttu-id="6f3b1-125">Le paramètre AutoTranslate n'a aucun effet sur ces conversions :</span><span class="sxs-lookup"><span data-stu-id="6f3b1-125">The AutoTranslate setting has no effect on these conversions:</span></span>  
  
-   <span data-ttu-id="6f3b1-126">Déplacement de données entre des variables de type caractère SQL_C_CHAR client et des colonnes, des variables ou des paramètres Unicode **nchar**, **nvarchar**ou **ntext** dans des [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] bases de données.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-126">Moving data between character SQL_C_CHAR client variables and Unicode **nchar**, **nvarchar**, or **ntext** columns, variables, or parameters in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases.</span></span>  
  
-   <span data-ttu-id="6f3b1-127">Déplacement de données entre les variables Unicode SQL_C_WCHAR client et les colonnes de **type**Character, **varchar**ou **Text** , les variables ou les paramètres dans les [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] bases de données.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-127">Moving data between Unicode SQL_C_WCHAR client variables and character **char**, **varchar**, or **text** columns, variables, or parameters in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases.</span></span>  
  
 <span data-ttu-id="6f3b1-128">Les données doivent toujours être converties lorsqu'elles sont déplacées du type caractère vers le type Unicode.</span><span class="sxs-lookup"><span data-stu-id="6f3b1-128">Data always must be converted when moved from character to Unicode.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6f3b1-129">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6f3b1-129">See Also</span></span>  
 <span data-ttu-id="6f3b1-130">[Traitement des résultats &#40;ODBC&#41;](processing-results-odbc.md) </span><span class="sxs-lookup"><span data-stu-id="6f3b1-130">[Processing Results &#40;ODBC&#41;](processing-results-odbc.md) </span></span>  
 [<span data-ttu-id="6f3b1-131">Prise en charge d'Unicode et du classement</span><span class="sxs-lookup"><span data-stu-id="6f3b1-131">Collation and Unicode Support</span></span>](../collations/collation-and-unicode-support.md)  
  
  
