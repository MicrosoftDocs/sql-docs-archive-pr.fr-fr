---
title: Objets de configuration de la messagerie de base de données | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- sql12.swb.sqlimail.manageexistingaccount.f1
- sql12.swb.sqlimail.addaccounttoprofile.f1
- sql12.swb.sqlmailconfiguration.f1
- sql12.swb.sqlimail.profileandaccountmanagement.f1
- sql12.swb.sqlimail.manageprofilesecurity.principalview.f1
- sql12.swb.sqlimail.newsqlimailaccount.f1
- sql12.swb.sqlimail.configuresystem.f1
- sql12.swb.sqlimail.selectconfiguration.f1
- sql12.swb.sqlimail.newprofile.f1
- sql12.swb.sqlimail.manageexistingprofile.f1
- sql12.swb.sqlimail.welcome.f1
- sql12.swb.sqlimail.manageprofilesecurity.profileview.f1
- sql12.swb.sqlimail.completewizard.f1
- sql12.swb.sqlimail.newaccount.f1
helpviewer_keywords:
- Database Mail [SQL Server], configuration objects
- Database Mail [SQL Server], accounts
- configuration objects [Database Mail]
- Database Mail [SQL Server], profiles
- profiles [SQL Server], Database Mail
- accounts [Database Mail]
ms.assetid: 03f6e4c0-04ff-490a-bd91-637806215bd1
author: stevestein
ms.author: sstein
ms.openlocfilehash: 45dd4bfc8cdb382f9ad093e92c5939986a9db8e0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87709627"
---
# <a name="database-mail-configuration-objects"></a><span data-ttu-id="6bdf3-102">Objets de configuration de la messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-102">Database Mail Configuration Objects</span></span>
  <span data-ttu-id="6bdf3-103">Database Mail comprend deux objets de configuration : les objets de configuration de base de données vous permettent de configurer les paramètres que Database Mail doit utiliser lors de l’envoi d’un e-mail à partir de votre application de base de données ou de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-103">Database Mail has two configuration objects: The database configuration objects provide a way for you to configure the settings that Database mail should use when sending an email from your database application or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent.</span></span>  
  
-   <span data-ttu-id="6bdf3-104">Comptes de messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-104">Database Mail accounts</span></span>  
  
-   <span data-ttu-id="6bdf3-105">Profils de messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-105">Database Mail profiles</span></span>  
  
  
##  <a name="database-mail-configuration-object-relationship"></a><a name="VisualElement"></a> <span data-ttu-id="6bdf3-106">Relation entre les objets configuration de la messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-106">Database Mail Configuration Object Relationship</span></span>  
 <span data-ttu-id="6bdf3-107">La figure montre deux profils, trois comptes et trois utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-107">The illustration shows two profiles, three accounts, and three users.</span></span> <span data-ttu-id="6bdf3-108">L'Utilisateur 1 a accès au Profil 1, lequel utilise le Compte 1 et le Compte 2.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-108">User 1 has access to Profile 1, which uses Account 1 and Account 2.</span></span> <span data-ttu-id="6bdf3-109">L'Utilisateur 3 a accès au Profil 2, lequel utilise le Compte 2 et le Compte 3.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-109">User 3 has access to Profile 2, which uses Account 2 and Account 3.</span></span> <span data-ttu-id="6bdf3-110">L'Utilisateur 2 a accès au Profil 1 et au Profil 2.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-110">User 2 has access to both Profile 1 and Profile 2.</span></span>  
  
 <span data-ttu-id="6bdf3-111">![Relations des utilisateurs, profils et comptes](../../database-engine/media/databasemailprofileaccount.gif "Relations des utilisateurs, profils et comptes")</span><span class="sxs-lookup"><span data-stu-id="6bdf3-111">![Relationship of users, profiles, and accounts](../../database-engine/media/databasemailprofileaccount.gif "Relationship of users, profiles, and accounts")</span></span>  
  
  
##  <a name="database-mail-account"></a><a name="DBAccount"></a> <span data-ttu-id="6bdf3-112">Compte de messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-112">Database Mail Account</span></span>  
 <span data-ttu-id="6bdf3-113">Un compte de messagerie de base de données contient les informations qui permettent à Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] d'envoyer des messages électroniques à un serveur SMTP.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-113">A Database Mail account contains the information that Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] uses to send e-mail messages to an SMTP server.</span></span> <span data-ttu-id="6bdf3-114">Chacun contient des informations propres à un serveur de messagerie particulier.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-114">Each account contains information for one e-mail server.</span></span>  
  
 <span data-ttu-id="6bdf3-115">Une messagerie de base de données accepte trois méthodes d'authentification pour communiquer avec un serveur SMTP :</span><span class="sxs-lookup"><span data-stu-id="6bdf3-115">A Database Mail supports three methods of authentication to communicate with an SMTP server:</span></span>  
  
-   <span data-ttu-id="6bdf3-116">Authentification Windows : Database Mail utilise les informations d’identification du compte de service Windows du [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)] pour l’authentification sur le serveur SMTP.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-116">Windows Authentication: Database Mail uses the credentials of the [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)] Windows service account for authentication on the SMTP server.</span></span>  
  
-   <span data-ttu-id="6bdf3-117">Authentification de base :  Database Mail utilise le nom d’utilisateur et le mot de passe spécifiés pour s’authentifier sur le serveur SMTP.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-117">Basic Authentication:  Database Mail uses the username and password specified to authenticate on the SMTP server.</span></span>  
  
-   <span data-ttu-id="6bdf3-118">Authentification anonyme :  Le serveur SMTP ne demande aucune authentification.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-118">Anonymous Authentication:  The SMTP server does not require any authentication.</span></span>  <span data-ttu-id="6bdf3-119">La messagerie de base de données n'utilise pas d'informations d'identification pour s'authentifier sur le serveur SMTP.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-119">Database Mail will not use any credentials to authenticate on the SMTP server.</span></span>  
  
 <span data-ttu-id="6bdf3-120">Les informations de compte sont stockées dans la base de données **msdb** .</span><span class="sxs-lookup"><span data-stu-id="6bdf3-120">Account information is stored in the **msdb** database.</span></span> <span data-ttu-id="6bdf3-121">Chaque compte comprend les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="6bdf3-121">Each account consists of the following information:</span></span>  
  
-   <span data-ttu-id="6bdf3-122">Nom du compte</span><span class="sxs-lookup"><span data-stu-id="6bdf3-122">The name of the account.</span></span>  
  
-   <span data-ttu-id="6bdf3-123">Description du compte</span><span class="sxs-lookup"><span data-stu-id="6bdf3-123">A description of the account.</span></span>  
  
-   <span data-ttu-id="6bdf3-124">Adresse de messagerie du compte</span><span class="sxs-lookup"><span data-stu-id="6bdf3-124">The e-mail address of the account.</span></span>  
  
-   <span data-ttu-id="6bdf3-125">Nom d'affichage du compte</span><span class="sxs-lookup"><span data-stu-id="6bdf3-125">The display name for the account.</span></span>  
  
-   <span data-ttu-id="6bdf3-126">Adresse de messagerie de réponse à utiliser pour le compte</span><span class="sxs-lookup"><span data-stu-id="6bdf3-126">The e-mail address to use as the reply-to information for the account.</span></span>  
  
-   <span data-ttu-id="6bdf3-127">Nom du serveur de messagerie</span><span class="sxs-lookup"><span data-stu-id="6bdf3-127">The name of the e-mail server.</span></span>  
  
-   <span data-ttu-id="6bdf3-128">Type du serveur de messagerie.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-128">The type of the e-mail server.</span></span> <span data-ttu-id="6bdf3-129">Pour [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], il s’agit toujours de SMTP (Simple Mail Transfer Protocol).</span><span class="sxs-lookup"><span data-stu-id="6bdf3-129">For [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], this is always Simple Mail Transfer Protocol(SMTP).</span></span>  
  
-   <span data-ttu-id="6bdf3-130">Numéro de port du serveur de messagerie</span><span class="sxs-lookup"><span data-stu-id="6bdf3-130">The port number of the e-mail server.</span></span>  
  
-   <span data-ttu-id="6bdf3-131">Une colonne de bits indiquant si la connexion au serveur de messagerie SMTP s'effectue via SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="6bdf3-131">A bit column indicating whether the connection to the SMTP mail server is made using Secure Sockets Layer (SSL).</span></span>  
  
-   <span data-ttu-id="6bdf3-132">Une colonne de bits indiquant si la connexion au serveur SMTP s'effectue au moyen des informations d'identification configurées pour [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6bdf3-132">A bit column indicating whether the connection to the SMTP server is made using the credentials configured for the [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="6bdf3-133">Nom d'utilisateur à utiliser pour l'authentification auprès du serveur de messagerie, si celui-ci requiert l'authentification</span><span class="sxs-lookup"><span data-stu-id="6bdf3-133">The user name to use for authentication to the e-mail server, if the e-mail server requires authentication.</span></span>  
  
-   <span data-ttu-id="6bdf3-134">Mot de passe à utiliser pour l'authentification auprès du serveur de messagerie, si celui-ci requiert l'authentification</span><span class="sxs-lookup"><span data-stu-id="6bdf3-134">The password to use for authentication to the e-mail server, if the e-mail server requires authentication.</span></span>  
  
 <span data-ttu-id="6bdf3-135">L'Assistant Configuration de la messagerie de base de données permet de créer et de gérer des comptes facilement.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-135">The Database Mail Configuration Wizard provides a convenient way to create and manage accounts.</span></span> <span data-ttu-id="6bdf3-136">Vous pouvez également utiliser les procédures stockées de configuration de **msdb** pour créer et gérer des comptes.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-136">You can also use the configuration stored procedures in **msdb** to create and manage accounts.</span></span>  
  
  
##  <a name="database-mail-profile"></a><a name="DBProfile"></a> <span data-ttu-id="6bdf3-137">Profil de messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-137">Database Mail Profile</span></span>  
 <span data-ttu-id="6bdf3-138">Un profil de messagerie de base de données est une collection triée de comptes de messagerie de base de données apparentés.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-138">A Database Mail profile is an ordered collection of related Database Mail accounts.</span></span> <span data-ttu-id="6bdf3-139">Les applications qui envoient du courrier à l'aide de la messagerie de base de données spécifient des profils au lieu d'utiliser directement des comptes.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-139">Applications that send e-mail using Database Mail specify profiles, instead of using accounts directly.</span></span> <span data-ttu-id="6bdf3-140">Séparer les informations sur les serveurs de messagerie des objets utilisés par l'application permet d'améliorer la flexibilité et la fiabilité : les profils assurent le basculement automatique ; ainsi, si un serveur de messagerie ne répond pas, la messagerie de base de données peut envoyer directement le courrier à un autre serveur de messagerie.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-140">Separating information about the individual e-mail servers from the objects that the application uses improves flexibility and reliability: profiles provide automatic failover, so that if one e-mail server is unresponsive, Database Mail can automatically send mail to another e-mail server.</span></span> <span data-ttu-id="6bdf3-141">Les administrateurs de base de données peuvent ajouter, supprimer ou reconfigurer des comptes sans avoir à modifier le code de l'application, ni les étapes de travail.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-141">Database administrators can add, remove, or reconfigure accounts without requiring changes to application code or job steps.</span></span>  
  
 <span data-ttu-id="6bdf3-142">En outre, les profils permettent aux administrateurs de base de données de contrôler l'accès à la messagerie électronique.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-142">Profiles also help database administrators control access to e-mail.</span></span> <span data-ttu-id="6bdf3-143">L’adhésion à **DatabaseMailUserRole** est obligatoire pour envoyer des messages à l’aide de la messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-143">Membership in the **DatabaseMailUserRole** is required to send Database Mail.</span></span> <span data-ttu-id="6bdf3-144">Les profils offrent une souplesse supplémentaire aux administrateurs en leur permettant de contrôler les expéditeurs de messages et les comptes utilisés.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-144">Profiles provide additional flexibility for administrators to control who sends mail and which accounts are used.</span></span>  
  
 <span data-ttu-id="6bdf3-145">Un profil peut être public ou privé.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-145">A profile may be public or private.</span></span>  
  
 <span data-ttu-id="6bdf3-146">Les**profils publics** sont disponibles pour tous les membres du rôle de base de données **DatabaseMailUserRole** de la base de données **msdb** .</span><span class="sxs-lookup"><span data-stu-id="6bdf3-146">**Public profiles** are available for all members of the **DatabaseMailUserRole** database role in the **msdb** database.</span></span> <span data-ttu-id="6bdf3-147">Ils permettent à tous les membres du rôle **DatabaseMailUserRole** d’envoyer des messages électroniques en utilisant ce profil.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-147">They allow all members of the **DatabaseMailUserRole** role to send e-mail using the profile.</span></span>  
  
 <span data-ttu-id="6bdf3-148">Les**profils privés** sont définis pour les principaux de sécurité dans la base de données **msdb** .</span><span class="sxs-lookup"><span data-stu-id="6bdf3-148">**Private profiles** are defined for security principals in the **msdb** database.</span></span> <span data-ttu-id="6bdf3-149">Ils permettent uniquement aux utilisateurs de base de données spécifiés, aux rôles et aux membres du rôle de serveur fixe **sysadmin** d’envoyer du courrier en utilisant ce profil.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-149">They allow only specified database users, roles, and members of the **sysadmin** fixed server role to send e-mail using the profile.</span></span> <span data-ttu-id="6bdf3-150">Par défaut, un profil est privé et permet l’accès uniquement aux membres du rôle de serveur fixe **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="6bdf3-150">By default, a profile is private, and allows access only to members of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="6bdf3-151">Pour utiliser un profil privé, **sysadmin** doit attribuer aux utilisateurs l’autorisation d’utiliser le profil.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-151">To use a private profile, **sysadmin** must grant users permission to use the profile.</span></span> <span data-ttu-id="6bdf3-152">En outre, l’autorisation EXECUTE de la procédure stockée **sp_send_dbmail** est attribuée seulement aux membres du rôle **DatabaseMailUserRole**.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-152">Additionally, EXECUTE permission on the **sp_send_dbmail** stored procedure is only granted to members of the **DatabaseMailUserRole**.</span></span> <span data-ttu-id="6bdf3-153">Un administrateur système doit ajouter l’utilisateur au rôle de base de données **DatabaseMailUserRole** pour que l’utilisateur puisse envoyer des messages électroniques.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-153">A system administrator must add the user to the **DatabaseMailUserRole** database role for the user to send e-mail messages.</span></span>  
  
 <span data-ttu-id="6bdf3-154">Les profils améliorent la fiabilité dans les situations où un serveur de messagerie n'est plus accessible ou en mesure de traiter les messages.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-154">Profiles improve reliability in cases where an e-mail server becomes unreachable or unable to process messages.</span></span> <span data-ttu-id="6bdf3-155">Chaque compte du profil possède un numéro de séquence.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-155">Each account in the profile has a sequence number.</span></span> <span data-ttu-id="6bdf3-156">Le numéro de séquence détermine l'ordre d'utilisation des comptes de messagerie de base de données dans le profil.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-156">The sequence number determines the order in which Database Mail uses accounts in the profile.</span></span> <span data-ttu-id="6bdf3-157">Pour un nouveau message électronique, la messagerie de base de données utilise le dernier compte qui a envoyé un message correctement ou, si aucun message n'a été envoyé, le compte qui possède le plus petit numéro de séquence.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-157">For a new e-mail message, Database Mail uses the last account that sent a message successfully, or the account that has the lowest sequence number if no message has yet been sent.</span></span> <span data-ttu-id="6bdf3-158">Si ce compte échoue, la messagerie de base de données utilise le compte qui possède le numéro de séquence plus élevé suivant, et ainsi de suite jusqu'à ce qu'elle envoie le message correctement ou que le compte qui possède le numéro de séquence le plus élevé échoue.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-158">Should that account fail, Database Mail uses the account with the next highest sequence number, and so on until either Database Mail sends the message successfully, or the account with the highest sequence number fails.</span></span> <span data-ttu-id="6bdf3-159">Si le compte qui a le numéro de séquence le plus élevé échoue, la messagerie de base de données interrompt les tentatives d’envoi du courrier électronique pour la durée configurée dans le paramètre **AccountRetryDelay** de **sysmail_configure_sp**, puis relance le processus de tentative d’envoi du courrier électronique en commençant à partir du numéro de séquence le moins élevé.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-159">If the account with the highest sequence number fails, the Database Mail pauses attempts to send the mail for the amount of time configured in the **AccountRetryDelay** parameter of **sysmail_configure_sp**, then starts the process of attempting to send the mail again, starting with the lowest sequence number.</span></span> <span data-ttu-id="6bdf3-160">Utilisez le paramètre **AccountRetryAttempts** de **sysmail_configure_sp**pour configurer le nombre de fois que le processus de messagerie externe tente d’envoyer le message électronique à l’aide de chaque compte du profil spécifié.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-160">Use the **AccountRetryAttempts** parameter of **sysmail_configure_sp**, to configure the number of times that the external mail process attempts to send the e-mail message using each account in the specified profile.</span></span>  
  
 <span data-ttu-id="6bdf3-161">Si plusieurs comptes possèdent le même numéro de séquence, la messagerie de base de données utilise uniquement l'un d'eux pour un message électronique donné.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-161">If more than one account exists with the same sequence number, Database Mail only uses one of those accounts for a given e-mail message.</span></span> <span data-ttu-id="6bdf3-162">Dans ce cas, la messagerie de base de données exclut toute garantie en ce qui concerne le compte utilisé pour ce numéro de séquence ou l'utilisation du même compte d'un message à un autre.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-162">In this case, Database Mail makes no guarantees as to which of the accounts is used for that sequence number or that the same account is used from message to message.</span></span>  
  
  
##  <a name="database-mail-configuration-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="6bdf3-163">Tâches de configuration de la messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-163">Database Mail Configuration Tasks</span></span>  
 <span data-ttu-id="6bdf3-164">Le tableau suivant décrit les tâches de configuration de la messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-164">The following table describes the Database Mail configuration tasks.</span></span>  
  
|<span data-ttu-id="6bdf3-165">Tâche de configuration</span><span class="sxs-lookup"><span data-stu-id="6bdf3-165">Configuration Task</span></span>|<span data-ttu-id="6bdf3-166">Lien de rubrique</span><span class="sxs-lookup"><span data-stu-id="6bdf3-166">Topic Link</span></span>|  
|------------------------|----------------|  
|<span data-ttu-id="6bdf3-167">Décrit comment créer des comptes de messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-167">Describes how to create a Database Mail accounts</span></span>|[<span data-ttu-id="6bdf3-168">Créer un compte de messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-168">Create a Database Mail Account</span></span>](create-a-database-mail-account.md)|  
|<span data-ttu-id="6bdf3-169">Décrit comment créer des profils de messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-169">Describes how to Create Database Mail profiles</span></span>|[<span data-ttu-id="6bdf3-170">Créer un profil de messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-170">Create a Database Mail Profile</span></span>](create-a-database-mail-profile.md)|  
|<span data-ttu-id="6bdf3-171">Décrit comment configurer la messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-171">Describes how to Configure Database mail</span></span>|[<span data-ttu-id="6bdf3-172">Configurer Database Mail</span><span class="sxs-lookup"><span data-stu-id="6bdf3-172">Configure Database Mail</span></span>](configure-database-mail.md)|  
|<span data-ttu-id="6bdf3-173">Décrit comment créer un script de configuration de messagerie de base de données à l'aide de modèles</span><span class="sxs-lookup"><span data-stu-id="6bdf3-173">Describes how to create a Database Mail configuration script using templates</span></span>||  
  
  
##  <a name="additional-database-configuration-tasks-system-stored-procedures"></a><a name="Add_Tasks"></a> <span data-ttu-id="6bdf3-174">Tâches de configuration de base de données supplémentaires (procédures stockées système)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-174">Additional Database Configuration Tasks (System Stored Procedures)</span></span>  
 <span data-ttu-id="6bdf3-175">Les procédures stockées pour la configuration de la messagerie de base de données se situent dans la base de données **msdb** .</span><span class="sxs-lookup"><span data-stu-id="6bdf3-175">Database Mail configuration stored procedures are located in the **msdb** database.</span></span>  
  
 <span data-ttu-id="6bdf3-176">Les tableaux suivants répertorient les procédures stockées utilisées pour la configuration et la gestion de la messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-176">The following tables list the stored procedures used for configuring and managing Database Mail.</span></span>  
  
### <a name="database-mail-settings"></a><span data-ttu-id="6bdf3-177">Paramètres de messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-177">Database Mail Settings</span></span>  
  
|<span data-ttu-id="6bdf3-178">Nom</span><span class="sxs-lookup"><span data-stu-id="6bdf3-178">Name</span></span>|<span data-ttu-id="6bdf3-179">Description</span><span class="sxs-lookup"><span data-stu-id="6bdf3-179">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="6bdf3-180">sysmail_configure_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-180">sysmail_configure_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-configure-sp-transact-sql)|<span data-ttu-id="6bdf3-181">Modifie les paramètres de configuration de la messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-181">Changes configuration settings for Database Mail.</span></span>|  
|[<span data-ttu-id="6bdf3-182">sysmail_help_configure_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-182">sysmail_help_configure_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-help-configure-sp-transact-sql)|<span data-ttu-id="6bdf3-183">Affiche les paramètres de configuration pour la messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-183">Displays configuration settings for Database Mail.</span></span>|  
  
### <a name="accounts-and-profiles"></a><span data-ttu-id="6bdf3-184">Comptes et profils</span><span class="sxs-lookup"><span data-stu-id="6bdf3-184">Accounts and Profiles</span></span>  
  
|<span data-ttu-id="6bdf3-185">Nom</span><span class="sxs-lookup"><span data-stu-id="6bdf3-185">Name</span></span>|<span data-ttu-id="6bdf3-186">Description</span><span class="sxs-lookup"><span data-stu-id="6bdf3-186">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="6bdf3-187">sysmail_add_profileaccount_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-187">sysmail_add_profileaccount_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-add-profileaccount-sp-transact-sql)|<span data-ttu-id="6bdf3-188">Ajoute un compte de messagerie dans un profil de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-188">Adds a mail account to a Database Mail profile.</span></span>|  
|[<span data-ttu-id="6bdf3-189">sysmail_delete_account_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-189">sysmail_delete_account_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-delete-account-sp-transact-sql)|<span data-ttu-id="6bdf3-190">Supprime un compte de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-190">Deletes a Database Mail account.</span></span>|  
|[<span data-ttu-id="6bdf3-191">sysmail_delete_profile_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-191">sysmail_delete_profile_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-delete-profile-sp-transact-sql)|<span data-ttu-id="6bdf3-192">Supprime un profil de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-192">Deletes a Database Mail profile.</span></span>|  
|[<span data-ttu-id="6bdf3-193">sysmail_delete_profileaccount_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-193">sysmail_delete_profileaccount_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-delete-profileaccount-sp-transact-sql)|<span data-ttu-id="6bdf3-194">Supprime un compte d'un profil de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-194">Removes an account from a Database Mail profile.</span></span>|  
|[<span data-ttu-id="6bdf3-195">sysmail_help_account_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-195">sysmail_help_account_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-help-account-sp-transact-sql)|<span data-ttu-id="6bdf3-196">Affiche des informations concernant les comptes de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-196">Lists information about Database Mail accounts.</span></span>|  
|[<span data-ttu-id="6bdf3-197">sysmail_help_profile_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-197">sysmail_help_profile_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-help-profile-sp-transact-sql)|<span data-ttu-id="6bdf3-198">Affiche des informations concernant un ou plusieurs profils de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-198">Lists information about one or more Database Mail profiles.</span></span>|  
|[<span data-ttu-id="6bdf3-199">sysmail_help_profileaccount_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-199">sysmail_help_profileaccount_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-help-profileaccount-sp-transact-sql)|<span data-ttu-id="6bdf3-200">Affiche les comptes associés à un ou plusieurs profils de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-200">Lists the accounts associated with one or more Database Mail profiles.</span></span>|  
|[<span data-ttu-id="6bdf3-201">sysmail_update_account_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-201">sysmail_update_account_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-update-account-sp-transact-sql)|<span data-ttu-id="6bdf3-202">Met à jour les informations dans un compte de messagerie de base de données existant.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-202">Updates the information in an existing Database Mail account.</span></span>|  
|[<span data-ttu-id="6bdf3-203">sysmail_update_profile_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-203">sysmail_update_profile_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-update-profile-sp-transact-sql)|<span data-ttu-id="6bdf3-204">Modifie la description ou le nom d'un profil de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-204">Changes the description or name of a Database Mail profile.</span></span>|  
|[<span data-ttu-id="6bdf3-205">sysmail_update_profileaccount_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-205">sysmail_update_profileaccount_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-update-profileaccount-sp-transact-sql)|<span data-ttu-id="6bdf3-206">Met à jour le numéro de séquence d'un compte dans un profil de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-206">Updates the sequence number of an account within a Database Mail profile.</span></span>|  
  
### <a name="security"></a><span data-ttu-id="6bdf3-207">Sécurité</span><span class="sxs-lookup"><span data-stu-id="6bdf3-207">Security</span></span>  
  
|<span data-ttu-id="6bdf3-208">Nom</span><span class="sxs-lookup"><span data-stu-id="6bdf3-208">Name</span></span>|<span data-ttu-id="6bdf3-209">Description</span><span class="sxs-lookup"><span data-stu-id="6bdf3-209">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="6bdf3-210">sysmail_add_principalprofile_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-210">sysmail_add_principalprofile_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-add-principalprofile-sp-transact-sql)|<span data-ttu-id="6bdf3-211">Autorise un principal de la base de données à utiliser un profil de messagerie de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-211">Grants permission for a database principal to use a Database Mail profile.</span></span>|  
|[<span data-ttu-id="6bdf3-212">sysmail_delete_principalprofile_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-212">sysmail_delete_principalprofile_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-delete-principalprofile-sp-transact-sql)|<span data-ttu-id="6bdf3-213">Supprime l'autorisation d'utiliser un profil de messagerie de base de données public ou privé accordée à un utilisateur de base de données.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-213">Removes permission for a database user to use a public or private Database Mail profile.</span></span>|  
|[<span data-ttu-id="6bdf3-214">sysmail_help_principalprofile_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-214">sysmail_help_principalprofile_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-help-principalprofile-sp-transact-sql)|<span data-ttu-id="6bdf3-215">Affiche les informations de profil de messagerie de base de données pour l'utilisateur de base de données spécifié.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-215">Lists Database Mail profile information for a given database user.</span></span>|  
|[<span data-ttu-id="6bdf3-216">sysmail_update_principalprofile_sp (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6bdf3-216">sysmail_update_principalprofile_sp (Transact-SQL)</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-update-principalprofile-sp-transact-sql)|<span data-ttu-id="6bdf3-217">Met à jour les informations liées aux autorisations de l'utilisateur de base de données spécifié.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-217">Updates the permission information for a given database user.</span></span>|  
  
### <a name="system-state"></a><span data-ttu-id="6bdf3-218">État du système</span><span class="sxs-lookup"><span data-stu-id="6bdf3-218">System State</span></span>  
  
|<span data-ttu-id="6bdf3-219">Nom</span><span class="sxs-lookup"><span data-stu-id="6bdf3-219">Name</span></span>|<span data-ttu-id="6bdf3-220">Description</span><span class="sxs-lookup"><span data-stu-id="6bdf3-220">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="6bdf3-221">sysmail_start_sp &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="6bdf3-221">sysmail_start_sp &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-start-sp-transact-sql)|<span data-ttu-id="6bdf3-222">Démarre le programme externe de messagerie de base de données et la file d'attente du Service Broker SQL associé.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-222">Starts the Database Mail external program and the associated SQL Service Broker queue.</span></span>|  
|[<span data-ttu-id="6bdf3-223">sysmail_stop_sp &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="6bdf3-223">sysmail_stop_sp &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-stop-sp-transact-sql)|<span data-ttu-id="6bdf3-224">Arrête le programme externe de messagerie de base de données et la file d'attente du Service Broker SQL associé.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-224">Stops the Database Mail external program and the associated SQL Service Broker queue.</span></span>|  
|[<span data-ttu-id="6bdf3-225">sysmail_help_status_sp &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="6bdf3-225">sysmail_help_status_sp &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sysmail-help-status-sp-transact-sql)|<span data-ttu-id="6bdf3-226">Indique si la messagerie de base de données est démarrée.</span><span class="sxs-lookup"><span data-stu-id="6bdf3-226">Indicates if Database Mail is started.</span></span>|  
  
##  <a name="additional-references"></a><a name="RelatedContent"></a> <span data-ttu-id="6bdf3-227">Références supplémentaires</span><span class="sxs-lookup"><span data-stu-id="6bdf3-227">Additional References</span></span>  
  
-   [<span data-ttu-id="6bdf3-228">Journal et audits de la messagerie de base de données</span><span class="sxs-lookup"><span data-stu-id="6bdf3-228">Database Mail Log and Audits</span></span>](database-mail-log-and-audits.md)  
  
  
  
