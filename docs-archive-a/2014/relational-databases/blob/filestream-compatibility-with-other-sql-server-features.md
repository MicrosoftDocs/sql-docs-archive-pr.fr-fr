---
title: Compatibilité de FILESTREAM avec d’autres fonctionnalités SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: filestream
ms.topic: conceptual
helpviewer_keywords:
- FILESTREAM [SQL Server], other SQL Server features and
- FILESTREAM [SQL Server], limitations
ms.assetid: d2c145dc-d49a-4f5b-91e6-89a2b0adb4f3
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 53bb99ea094261fd96f2a821dfaa5203e9796d8c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87600090"
---
# <a name="filestream-compatibility-with-other-sql-server-features"></a><span data-ttu-id="83cbf-102">Compatibilité de FILESTREAM avec d'autres fonctionnalités SQL Server</span><span class="sxs-lookup"><span data-stu-id="83cbf-102">FILESTREAM Compatibility with Other SQL Server Features</span></span>
  <span data-ttu-id="83cbf-103">Les données FILESTREAM figurant dans le système de fichiers, cette rubrique fournit quelques considérations, indications et limitations relatives à l'utilisation de FILESTREAM avec les fonctionnalités suivantes de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="83cbf-103">Because FILESTREAM data is in the file system, this topic provides some considerations, guidelines, and limitations for using FILESTREAM with the following features in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span></span>  
  
-   [<span data-ttu-id="83cbf-104">SQL Server Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="83cbf-104">SQL Server Integration Services (SSIS)</span></span>](#ssis)  
  
-   [<span data-ttu-id="83cbf-105">Requêtes distribuées et serveurs liés</span><span class="sxs-lookup"><span data-stu-id="83cbf-105">Distributed Queries and Linked Servers</span></span>](#distqueries)  
  
-   [<span data-ttu-id="83cbf-106">Chiffrement</span><span class="sxs-lookup"><span data-stu-id="83cbf-106">Encryption</span></span>](#encryption)  
  
-   [<span data-ttu-id="83cbf-107">Instantanés de base de données</span><span class="sxs-lookup"><span data-stu-id="83cbf-107">Database Snapshots</span></span>](#DatabaseSnapshot)  
  
-   [<span data-ttu-id="83cbf-108">Réplication</span><span class="sxs-lookup"><span data-stu-id="83cbf-108">Replication</span></span>](#Replication)  
  
-   [<span data-ttu-id="83cbf-109">Copie des journaux de transaction</span><span class="sxs-lookup"><span data-stu-id="83cbf-109">Log Shipping</span></span>](#LogShipping)  
  
-   [<span data-ttu-id="83cbf-110">Mise en miroir de bases de données</span><span class="sxs-lookup"><span data-stu-id="83cbf-110">Database Mirroring</span></span>](#DatabaseMirroring)  
  
-   [<span data-ttu-id="83cbf-111">Indexation de texte intégral</span><span class="sxs-lookup"><span data-stu-id="83cbf-111">Full-Text Indexing</span></span>](#FullText)  
  
-   [<span data-ttu-id="83cbf-112">Clustering de basculement</span><span class="sxs-lookup"><span data-stu-id="83cbf-112">Failover Clustering</span></span>](#FailoverClustering)  
  
-   [<span data-ttu-id="83cbf-113">SQL Server Express</span><span class="sxs-lookup"><span data-stu-id="83cbf-113">SQL Server Express</span></span>](#SQLServerExpress)  
  
-   [<span data-ttu-id="83cbf-114">Bases de données autonomes</span><span class="sxs-lookup"><span data-stu-id="83cbf-114">Contained Databases</span></span>](#contained)  
  
##  <a name="sql-server-integration-services-ssis"></a><a name="ssis"></a> <span data-ttu-id="83cbf-115">SQL Server Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="83cbf-115">SQL Server Integration Services (SSIS)</span></span>  
 <span data-ttu-id="83cbf-116">SQL Server Integration Services (SSIS) gère les données FILESTREAM dans le flux de données comme toutes les autres données BLOB en utilisant le type de données SSIS DT_IMAGE.</span><span class="sxs-lookup"><span data-stu-id="83cbf-116">SQL Server Integration Services (SSIS) handles FILESTREAM data in the data flow like any other BLOB data by using the DT_IMAGE SSIS data type.</span></span>  
  
 <span data-ttu-id="83cbf-117">Vous pouvez utiliser la transformation d'importation de colonne pour charger des fichiers du système de fichiers dans une colonne FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-117">You can use the Import Column transformation to load files from the file system into a FILESTREAM column.</span></span> <span data-ttu-id="83cbf-118">Vous pouvez également utiliser la transformation d'exportation de colonne pour extraire des fichiers d'une colonne FILESTREAM à un autre emplacement dans le système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="83cbf-118">You can also use the Export Column transformation to extract files from a FILESTREAM column to another location in the file system.</span></span>  
  
##  <a name="distributed-queries-and-linked-servers"></a><a name="distqueries"></a> <span data-ttu-id="83cbf-119">Requêtes distribuées et serveurs liés</span><span class="sxs-lookup"><span data-stu-id="83cbf-119">Distributed Queries and Linked Servers</span></span>  
 <span data-ttu-id="83cbf-120">Vous pouvez utiliser des données FILESTREAM via des requêtes distribuées et des serveurs liés en les traitant comme des `varbinary(max)` données.</span><span class="sxs-lookup"><span data-stu-id="83cbf-120">You can work with FILESTREAM data through distributed queries and linked servers by treating it as `varbinary(max)` data.</span></span> <span data-ttu-id="83cbf-121">Vous ne pouvez pas utiliser la fonction FILESTREAM **PathName()** dans les requêtes distribuées qui utilisent un nom en quatre parties, même quand le nom fait référence au serveur local.</span><span class="sxs-lookup"><span data-stu-id="83cbf-121">You cannot use the FILESTREAM **PathName()** function in distributed queries that use a four-part name, even when the name refers to the local server.</span></span> <span data-ttu-id="83cbf-122">En revanche, vous pouvez utiliser **PathName()** dans la requête interne d’une requête directe qui utilise **OPENQUERY()** .</span><span class="sxs-lookup"><span data-stu-id="83cbf-122">However you can use **PathName()** in the inner query of a pass-through query that uses **OPENQUERY()**.</span></span>  
  
##  <a name="encryption"></a><a name="encryption"></a> <span data-ttu-id="83cbf-123">Chiffrement</span><span class="sxs-lookup"><span data-stu-id="83cbf-123">Encryption</span></span>  
 <span data-ttu-id="83cbf-124">Les données FILESTREAM ne sont pas chiffrées, même lorsque le chiffrement transparent des données est activé.</span><span class="sxs-lookup"><span data-stu-id="83cbf-124">FILESTREAM data is not encrypted even when transparent data encryption is enabled.</span></span>  
  
##  <a name="database-snapshots"></a><a name="DatabaseSnapshot"></a> <span data-ttu-id="83cbf-125">Instantanés de base de données</span><span class="sxs-lookup"><span data-stu-id="83cbf-125">Database Snapshots</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="83cbf-126">ne prend pas en charge les [instantanés de base de données](../databases/database-snapshots-sql-server.md) pour les groupes de fichiers FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-126">does not support [database snapshots](../databases/database-snapshots-sql-server.md) for FILESTREAM filegroups.</span></span> <span data-ttu-id="83cbf-127">Si un groupe de fichiers FILESTREAM est inclus dans une clause CREATE DATABASE ON, l'instruction échoue et une erreur est levée.</span><span class="sxs-lookup"><span data-stu-id="83cbf-127">If a FILESTREAM filegroup is included in a CREATE DATABASE ON clause, the statement will fail and an error will be raised.</span></span>  
  
 <span data-ttu-id="83cbf-128">Lorsque vous utilisez FILESTREAM, vous pouvez créer des instantanés de base de données de groupes de fichiers standard (non-FILESTREAM).</span><span class="sxs-lookup"><span data-stu-id="83cbf-128">When you are using FILESTREAM, you can create database snapshots of standard (non-FILESTREAM) filegroups.</span></span> <span data-ttu-id="83cbf-129">Les groupes de fichiers FILESTREAM sont marqués comme hors connexion pour ces instantanés de base de données.</span><span class="sxs-lookup"><span data-stu-id="83cbf-129">The FILESTREAM filegroups are marked as offline for those database snapshots.</span></span>  
  
 <span data-ttu-id="83cbf-130">Une instruction SELECT exécutée sur une table FILESTREAM dans un instantané de base de données ne doit pas inclure de colonne FILESTREAM ; autrement, le message d'erreur suivant est retourné :</span><span class="sxs-lookup"><span data-stu-id="83cbf-130">A SELECT statement that is executed on a FILESTREAM table in a database snapshot must not include a FILESTREAM column; otherwise, the following error message will be returned:</span></span>  
  
 `Could not continue scan with NOLOCK due to data movement.`  
  
##  <a name="replication"></a><a name="Replication"></a> <span data-ttu-id="83cbf-131">Replication</span><span class="sxs-lookup"><span data-stu-id="83cbf-131">Replication</span></span>  
 <span data-ttu-id="83cbf-132">Une colonne `varbinary(max)` qui a l'attribut FILESTREAM activé sur le serveur de publication peut être répliquée sur un abonné avec ou sans l'attribut FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-132">A `varbinary(max)` column that has the FILESTREAM attribute enabled at the Publisher can be replicated to a Subscriber with or without the FILESTREAM attribute.</span></span> <span data-ttu-id="83cbf-133">Pour spécifier la façon dont la colonne est répliquée, utilisez la boîte de dialogue **Propriétés de l'article - \<Article>** ou le paramètre @schema_option de [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) ou [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="83cbf-133">To specify the way in which the column is replicated, use the **Article Properties - \<Article>** dialog box or the @schema_option parameter of [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) or [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="83cbf-134">Les données répliquées sur une colonne `varbinary(max)` qui n'a pas l'attribut FILESTREAM ne doivent pas dépasser la limite de 2 Go pour ce type de données, autrement une erreur d'exécution est générée.</span><span class="sxs-lookup"><span data-stu-id="83cbf-134">Data that is replicated to a `varbinary(max)` column that does not have the FILESTREAM attribute must not exceed the 2-GB limit for that data type; otherwise, a run-time error is generated.</span></span> <span data-ttu-id="83cbf-135">Nous vous recommandons de répliquer l’attribut FILESTREAM, sauf si vous répliquez des données vers les [!INCLUDE[ssVersion2005](../../includes/ssversion2000-md.md)] abonnés n’est pas prise en charge, quelle que soit l’option de schéma spécifiée.</span><span class="sxs-lookup"><span data-stu-id="83cbf-135">We recommend that you replicate the FILESTREAM attribute, unless you are replicating data to [!INCLUDE[ssVersion2005](../../includes/ssversion2000-md.md)] Subscribers is not supported, regardless of the schema option that is specified.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="83cbf-136">La réplication de grandes valeurs de données à partir d'Abonnés [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] vers [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] est limitée à des valeurs de données de 256 Mo maximum.</span><span class="sxs-lookup"><span data-stu-id="83cbf-136">Replicating large data values from [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Subscribers is limited to a maximum of 256 MB data values.</span></span> <span data-ttu-id="83cbf-137">Pour plus d'informations, consultez [Spécifications de capacité maximale](https://go.microsoft.com/fwlink/?LinkId=103810).</span><span class="sxs-lookup"><span data-stu-id="83cbf-137">For more information, see [Maximum Capacity Specifications](https://go.microsoft.com/fwlink/?LinkId=103810).</span></span>  
  
### <a name="considerations-for-transactional-replication"></a><span data-ttu-id="83cbf-138">Considérations relatives à la réplication transactionnelle</span><span class="sxs-lookup"><span data-stu-id="83cbf-138">Considerations for Transactional Replication</span></span>  
 <span data-ttu-id="83cbf-139">Si vous utilisez des colonnes FILESTREAM dans des tables publiées pour la réplication transactionnelle, notez les considérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="83cbf-139">If you use FILESTREAM columns in tables that are published for transactional replication, note the following considerations:</span></span>  
  
-   <span data-ttu-id="83cbf-140">Si des tables incluent des colonnes qui ont l’attribut FILESTREAM, vous ne pouvez pas utiliser la valeur *database snapshot* ou *database snapshot character* pour la propriété @sync_method de [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="83cbf-140">If any tables include columns that have the FILESTREAM attribute, you cannot use values of *database snapshot* or *database snapshot character* for the @sync_method property of [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql).</span></span>  
  
-   <span data-ttu-id="83cbf-141">L'option max text repl size spécifie la quantité maximale de données qui peuvent être insérées dans une colonne publiée pour la réplication.</span><span class="sxs-lookup"><span data-stu-id="83cbf-141">The max text repl size option specifies the maximum amount of data that can be inserted into a column that is published for replication.</span></span> <span data-ttu-id="83cbf-142">Cette option peut être utilisée pour contrôler la taille des données FILESTREAM répliquées.</span><span class="sxs-lookup"><span data-stu-id="83cbf-142">This option can be used to control the size of FILESTREAM data that is replicated.</span></span>  
  
-   <span data-ttu-id="83cbf-143">Si vous spécifiez l'option de schéma pour répliquer l'attribut FILESTREAM, mais que vous filtrez la colonne `uniqueidentifier` requise par FILESTREAM ou que vous spécifiez qu'il ne faut pas répliquer la contrainte UNIQUE pour la colonne, la réplication ne réplique pas l'attribut FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-143">If you specify the schema option to replicate the FILESTREAM attribute, but you filter out the `uniqueidentifier` column that FILESTREAM requires or you specify not to replicate the UNIQUE constraint for the column, replication does not replicate the FILESTREAM attribute.</span></span> <span data-ttu-id="83cbf-144">La colonne est répliquée uniquement en tant que colonne `varbinary(max)`.</span><span class="sxs-lookup"><span data-stu-id="83cbf-144">The column is replicated only as a `varbinary(max)` column.</span></span>  
  
### <a name="considerations-for-merge-replication"></a><span data-ttu-id="83cbf-145">Considérations relatives à la réplication de fusion</span><span class="sxs-lookup"><span data-stu-id="83cbf-145">Considerations for Merge Replication</span></span>  
 <span data-ttu-id="83cbf-146">Si vous utilisez des colonnes FILESTREAM dans des tables publiées pour la réplication de fusion, notez les considérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="83cbf-146">If you use FILESTREAM columns in tables that are published for merge replication, note the following considerations:</span></span>  
  
-   <span data-ttu-id="83cbf-147">La réplication de fusion et FILESTREAM requièrent une colonne de type de données `uniqueidentifier` afin d'identifier chaque ligne dans une table.</span><span class="sxs-lookup"><span data-stu-id="83cbf-147">Both merge replication and FILESTREAM require a column of data type `uniqueidentifier` to identify each row in a table.</span></span> <span data-ttu-id="83cbf-148">La réplication de fusion ajoute automatiquement une colonne si la table n'en a pas.</span><span class="sxs-lookup"><span data-stu-id="83cbf-148">Merge replication automatically adds a column if the table does not have one.</span></span> <span data-ttu-id="83cbf-149">La réplication de fusion requiert que la propriété ROWGUIDCOL de la colonne soit définie et que la valeur par défaut soit NEWID() ou NEWSEQUENTIALID().</span><span class="sxs-lookup"><span data-stu-id="83cbf-149">Merge replication requires that the column have the ROWGUIDCOL property set and a default of NEWID() or NEWSEQUENTIALID().</span></span> <span data-ttu-id="83cbf-150">En plus de ces spécifications, FILESTREAM requiert qu'une contrainte UNIQUE soit définie pour la colonne.</span><span class="sxs-lookup"><span data-stu-id="83cbf-150">In addition to these requirements, FILESTREAM requires that a UNIQUE constraint be defined for the column.</span></span> <span data-ttu-id="83cbf-151">Ces exigences entraînent les conséquences suivantes :</span><span class="sxs-lookup"><span data-stu-id="83cbf-151">These requirements have the following consequences:</span></span>  
  
    -   <span data-ttu-id="83cbf-152">Si vous ajoutez une colonne FILESTREAM à une table qui est déjà publiée pour la réplication de fusion, assurez-vous que la colonne `uniqueidentifier` a une contrainte UNIQUE.</span><span class="sxs-lookup"><span data-stu-id="83cbf-152">If you add a FILESTREAM column to a table that is already published for merge replication, make sure that the `uniqueidentifier` column has a UNIQUE constraint.</span></span> <span data-ttu-id="83cbf-153">Si elle n'a pas de contrainte UNIQUE, ajoutez une contrainte nommée à la table dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="83cbf-153">If it does not have a UNIQUE constraint, add a named constraint to the table in the publication database.</span></span> <span data-ttu-id="83cbf-154">Par défaut, la réplication de fusion publiera cette modification de schéma et elle s'appliquera à chaque base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="83cbf-154">By default, merge replication will publish this schema change, and it will be applied to each subscription database.</span></span>  
  
         <span data-ttu-id="83cbf-155">Si vous ajoutez une contrainte UNIQUE manuellement comme décrit et que vous souhaitez supprimer la réplication de fusion, vous devez d'abord supprimer la contrainte UNIQUE, sinon la suppression de réplication échouera.</span><span class="sxs-lookup"><span data-stu-id="83cbf-155">If you add a UNIQUE constraint manually as described and you want to remove merge replication, you must first remove the UNIQUE constraint; otherwise, replication removal will fail.</span></span>  
  
    -   <span data-ttu-id="83cbf-156">Par défaut, la réplication de fusion utilise NEWSEQUENTIALID() car ses performances peuvent être supérieures à celles de NEWID().</span><span class="sxs-lookup"><span data-stu-id="83cbf-156">By default, merge replication uses NEWSEQUENTIALID() because it can provide better performance than NEWID().</span></span> <span data-ttu-id="83cbf-157">Si vous ajoutez une colonne `uniqueidentifier` à une table qui sera publiée pour la réplication de fusion, spécifiez NEWSEQUENTIALID() comme valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="83cbf-157">If you add a `uniqueidentifier` column to a table that will be published for merge replication, specify NEWSEQUENTIALID() as the default.</span></span>  
  
-   <span data-ttu-id="83cbf-158">La réplication de fusion inclut une optimisation pour répliquer de grands types d'objets.</span><span class="sxs-lookup"><span data-stu-id="83cbf-158">Merge replication includes an optimization for replicating large object types.</span></span> <span data-ttu-id="83cbf-159">Cette optimisation est contrôlée par le paramètre @stream_blob_columns de [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="83cbf-159">This optimization is controlled by the @stream_blob_columns parameter of [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="83cbf-160">Si vous définissez l'option de schéma de façon à répliquer l'attribut FILESTREAM, la valeur de paramètre @stream_blob_columns a la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="83cbf-160">If you set the schema option to replicate the FILESTREAM attribute, the @stream_blob_columns parameter value is set to `true`.</span></span> <span data-ttu-id="83cbf-161">Cette optimisation peut être substituée en utilisant [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="83cbf-161">This optimization can be overridden by using [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="83cbf-162">Cette procédure stockée vous permet de définir @stream_blob_columns sur `false`.</span><span class="sxs-lookup"><span data-stu-id="83cbf-162">This stored procedure enables you to set @stream_blob_columns to `false`.</span></span> <span data-ttu-id="83cbf-163">Si vous ajoutez une colonne FILESTREAM à une table qui est déjà publiée pour la réplication de fusion, nous vous recommandons d'affecter la valeur `true` à l'option en utilisant sp_changemergearticle.</span><span class="sxs-lookup"><span data-stu-id="83cbf-163">If you add a FILESTREAM column to a table that is already published for merge replication, we recommend that you set the option to `true` by using sp_changemergearticle.</span></span>  
  
-   <span data-ttu-id="83cbf-164">L'activation de l'option de schéma pour FILESTREAM après qu'un article a été créé peut provoquer l'échec de la réplication si les données dans une colonne FILESTREAM dépassent 2 Go et qu'il y a un conflit pendant la réplication.</span><span class="sxs-lookup"><span data-stu-id="83cbf-164">Enabling the schema option for FILESTREAM after an article is created can cause replication to fail if the data in a FILESTREAM column exceeds 2 GB and there is a conflict during replication.</span></span> <span data-ttu-id="83cbf-165">Si vous pensez que cette situation surviendra, il est recommandé de supprimer et de recréer l'article de table avec l'option de schéma FILESTREAM appropriée activée au moment de la création.</span><span class="sxs-lookup"><span data-stu-id="83cbf-165">If you expect this situation to arise, it is recommended that you drop and re-create the table article with the appropriate FILESTREAM schema option enabled at creation time.</span></span>  
  
-   <span data-ttu-id="83cbf-166">La réplication de fusion peut synchroniser des données FILESTREAM sur une connexion HTTPS en utilisant la [Synchronisation Web](../replication/merge/merge-replication.md).</span><span class="sxs-lookup"><span data-stu-id="83cbf-166">Merge replication can synchronize FILESTREAM data over an HTTPS connection by using [Web Synchronization](../replication/merge/merge-replication.md).</span></span> <span data-ttu-id="83cbf-167">Ces données ne peuvent pas dépasser la limite de 50 Mo pour la Synchronisation Web, sinon une erreur d'exécution est générée.</span><span class="sxs-lookup"><span data-stu-id="83cbf-167">This data cannot exceed the 50 MB limit for Web Synchronization; otherwise, a run-time error is generated.</span></span>  
  
##  <a name="log-shipping"></a><a name="LogShipping"></a> <span data-ttu-id="83cbf-168">Copie des journaux de transaction</span><span class="sxs-lookup"><span data-stu-id="83cbf-168">Log Shipping</span></span>  
 <span data-ttu-id="83cbf-169">La[copie des journaux de transaction](../../database-engine/log-shipping/about-log-shipping-sql-server.md) prend en charge FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-169">[Log shipping](../../database-engine/log-shipping/about-log-shipping-sql-server.md) supports FILESTREAM.</span></span> <span data-ttu-id="83cbf-170">Les serveurs principaux et secondaires doivent exécuter [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]ou une version ultérieure, et FILESTREAM doit être activé.</span><span class="sxs-lookup"><span data-stu-id="83cbf-170">Both the primary and secondary servers must be running [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], or a later version, and have FILESTREAM enabled.</span></span>  
  
##  <a name="database-mirroring"></a><a name="DatabaseMirroring"></a> <span data-ttu-id="83cbf-171">Mise en miroir de bases de données</span><span class="sxs-lookup"><span data-stu-id="83cbf-171">Database Mirroring</span></span>  
 <span data-ttu-id="83cbf-172">La mise en miroir de bases de données ne prend pas en charge FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-172">Database mirroring does not support FILESTREAM.</span></span> <span data-ttu-id="83cbf-173">Un groupe de fichiers FILESTREAM ne peut pas être créé sur le serveur principal.</span><span class="sxs-lookup"><span data-stu-id="83cbf-173">A FILESTREAM filegroup cannot be created on the principal server.</span></span> <span data-ttu-id="83cbf-174">La mise en miroir de bases de données ne peut pas être configurée pour une base de données qui contient des groupes de fichiers FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-174">Database mirroring cannot be configured for a database that contains FILESTREAM filegroups.</span></span>  
  
##  <a name="full-text-indexing"></a><a name="FullText"></a> <span data-ttu-id="83cbf-175">Indexation de texte intégral</span><span class="sxs-lookup"><span data-stu-id="83cbf-175">Full-Text Indexing</span></span>  
 <span data-ttu-id="83cbf-176">L' [indexation de texte intégral](../indexes/indexes.md) fonctionne avec une colonne FILESTREAM de la même façon qu’avec une `varbinary(max)` colonne.</span><span class="sxs-lookup"><span data-stu-id="83cbf-176">[Full-text indexing](../indexes/indexes.md) works with a FILESTREAM column in the same way that it does with a `varbinary(max)` column.</span></span> <span data-ttu-id="83cbf-177">La table FILESTREAM doit avoir une colonne qui contient l'extension de nom de fichier pour chaque objet blob FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-177">The FILESTREAM table must have a column that contains the file name extension for each FILESTREAM BLOB.</span></span> <span data-ttu-id="83cbf-178">Pour plus d’informations, consultez [Exécuter une requête avec une recherche en texte intégral](../search/query-with-full-text-search.md), [Configurer et gérer des filtres pour la recherche](../search/configure-and-manage-filters-for-search.md) et [sys.fulltext_document_types &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-fulltext-document-types-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="83cbf-178">For more information, see [Query with Full-Text Search](../search/query-with-full-text-search.md), [Configure and Manage Filters for Search](../search/configure-and-manage-filters-for-search.md), and [sys.fulltext_document_types &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-fulltext-document-types-transact-sql).</span></span>  
  
 <span data-ttu-id="83cbf-179">Le moteur de texte intégral indexe le contenu des objets blob FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-179">The full-text engine indexes the contents of the FILESTREAM BLOBs.</span></span> <span data-ttu-id="83cbf-180">L'indexation de fichiers tels que des images peut ne pas être utile.</span><span class="sxs-lookup"><span data-stu-id="83cbf-180">Indexing files such as images might not be useful.</span></span> <span data-ttu-id="83cbf-181">Lorsqu'un objet blob FILESTREAM est mis à jour, il est réindexé.</span><span class="sxs-lookup"><span data-stu-id="83cbf-181">When a FILESTREAM BLOB is updated it is reindexed.</span></span>  
  
##  <a name="failover-clustering"></a><a name="FailoverClustering"></a> <span data-ttu-id="83cbf-182">Clustering de basculement</span><span class="sxs-lookup"><span data-stu-id="83cbf-182">Failover Clustering</span></span>  
 <span data-ttu-id="83cbf-183">Pour le clustering de basculement, les groupes de fichiers FILESTREAM doivent être mis sur un disque partagé.</span><span class="sxs-lookup"><span data-stu-id="83cbf-183">For failover clustering, FILESTREAM filegroups must be put on a shared disk.</span></span> <span data-ttu-id="83cbf-184">FILESTREAM doit être activé sur chaque nœud dans le cluster qui hébergera l'instance FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-184">FILESTREAM must be enabled on each node in the cluster that will host the FILESTREAM instance.</span></span> <span data-ttu-id="83cbf-185">Pour plus d’informations, consultez [Configurer FILESTREAM sur un cluster de basculement](set-up-filestream-on-a-failover-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="83cbf-185">For more information, see [Set Up FILESTREAM on a Failover Cluster](set-up-filestream-on-a-failover-cluster.md).</span></span>  
  
##  <a name="sql-server-express"></a><a name="SQLServerExpress"></a> <span data-ttu-id="83cbf-186">SQL Server Express</span><span class="sxs-lookup"><span data-stu-id="83cbf-186">SQL Server Express</span></span>  
 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] <span data-ttu-id="83cbf-187">prend en charge FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-187">supports FILESTREAM.</span></span> <span data-ttu-id="83cbf-188">La limite de taille de base de données de 10 Go n'inclut pas le conteneur de données FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="83cbf-188">The 10-GB database size limit does not include the FILESTREAM data container.</span></span>  
  
##  <a name="contained-databases"></a><a name="contained"></a> <span data-ttu-id="83cbf-189">Bases de données autonomes</span><span class="sxs-lookup"><span data-stu-id="83cbf-189">Contained Databases</span></span>  
 <span data-ttu-id="83cbf-190">La fonctionnalité FILESTREAM requiert une configuration spécifique hors de la base de données.</span><span class="sxs-lookup"><span data-stu-id="83cbf-190">The FILESTREAM feature requires some configuration outside of the database.</span></span> <span data-ttu-id="83cbf-191">Par conséquent, une base de données qui utilise FILESTREAM ou FileTable n'est pas entièrement contenue.</span><span class="sxs-lookup"><span data-stu-id="83cbf-191">Therefore a database that uses FILESTREAM or FileTable is not fully contained.</span></span>  
  
 <span data-ttu-id="83cbf-192">Vous pouvez définir l’autonomie de la base de données sur PARTIAL si vous souhaitez utiliser certaines fonctionnalités des bases de données autonomes, telles que les utilisateurs autonomes.</span><span class="sxs-lookup"><span data-stu-id="83cbf-192">You can set database containment to PARTIAL if you want to use certain features of contained databases, such as contained users.</span></span> <span data-ttu-id="83cbf-193">Dans ce cas, toutefois, vous devez savoir qu'une partie des paramètres de la base de données ne sont pas contenus dans la base de données et ne sont pas automatiquement déplacés avec celle-ci.</span><span class="sxs-lookup"><span data-stu-id="83cbf-193">In this case, however, you must be aware that some of the database settings are not contained in the database and are not automatically moved when the database moves.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="83cbf-194">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="83cbf-194">See Also</span></span>  
 [<span data-ttu-id="83cbf-195">Objets binaires volumineux &#40;Objet BLOB&#41; Données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="83cbf-195">Binary Large Object &#40;Blob&#41; Data &#40;SQL Server&#41;</span></span>](binary-large-object-blob-data-sql-server.md)  
  
  
