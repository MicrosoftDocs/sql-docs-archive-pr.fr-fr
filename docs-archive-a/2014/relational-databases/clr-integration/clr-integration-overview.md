---
title: Vue d’ensemble de l’intégration du CLR | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- common language runtime [SQL Server], about CLR integration
- extended stored procedures [SQL Server], vs. managed code
- objects [CLR integration]
- Transact-SQL vs. managed code
- managed code [SQL Server], vs. Transact-SQL
- managed code [SQL Server], vs. extended stored procedures
- execution at client vs. execution at server [CLR integration]
ms.assetid: 5aa176da-3652-4afa-a742-4c40c77ce5c3
author: rothja
ms.author: jroth
ms.openlocfilehash: ab7bb50109fa6b0a313da24f0e6164350a6160e3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87704151"
---
# <a name="overview-of-clr-integration"></a><span data-ttu-id="b3a49-102">Vue d'ensemble de l'intégration du CLR</span><span class="sxs-lookup"><span data-stu-id="b3a49-102">Overview of CLR Integration</span></span>
  <span data-ttu-id="b3a49-103">Le CLR (Common Language Runtime) est le cœur de Microsoft .NET Framework et fournit l'environnement d'exécution de la totalité du code .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="b3a49-103">The common language runtime (CLR) is the heart of the Microsoft .NET Framework and provides the execution environment for all .NET Framework code.</span></span> <span data-ttu-id="b3a49-104">Le code qui s'exécute au sein du CLR est désigné sous le nom de code managé.</span><span class="sxs-lookup"><span data-stu-id="b3a49-104">Code that runs within the CLR is referred to as managed code.</span></span> <span data-ttu-id="b3a49-105">Le CLR fournit divers fonctions et services requis pour l'exécution du programme, y compris la compilation juste-à-temps (JIT), l'allocation et la gestion de la mémoire, la mise en application de la cohérence des types, la gestion des exceptions, la gestion des threads et la sécurité.</span><span class="sxs-lookup"><span data-stu-id="b3a49-105">The CLR provides various functions and services required for program execution, including just-in-time (JIT) compilation, allocating and managing memory, enforcing type safety, exception handling, thread management, and security.</span></span>  <span data-ttu-id="b3a49-106">Pour plus d'informations, consultez la documentation du Kit de développement (SDK) .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="b3a49-106">See the .NET Framework SDK for more information.</span></span>  
  
 <span data-ttu-id="b3a49-107">Avec le CLR hébergé dans Microsoft SQL Server (intégration du CLR), vous pouvez créer des procédures stockées, des déclencheurs, des fonctions définies par l'utilisateur, des types définis par l'utilisateur et des agrégats définis par l'utilisateur en code managé.</span><span class="sxs-lookup"><span data-stu-id="b3a49-107">With the CLR hosted in Microsoft SQL Server (called CLR integration), you can author stored procedures, triggers, user-defined functions, user-defined types, and user-defined aggregates in managed code.</span></span> <span data-ttu-id="b3a49-108">Comme le code managé est compilé en code natif avant l'exécution, vous pouvez obtenir une amélioration significative des performances dans certains scénarios.</span><span class="sxs-lookup"><span data-stu-id="b3a49-108">Because managed code compiles to native code prior to execution, you can achieve significant performance increases in some scenarios.</span></span>  
  
 <span data-ttu-id="b3a49-109">Le code managé utilise la sécurité d'accès du code pour empêcher les assemblys d'effectuer certaines opérations.</span><span class="sxs-lookup"><span data-stu-id="b3a49-109">Managed code uses Code Access Security (CAS) to prevent assemblies from performing certain operations.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="b3a49-110">utilise la sécurité d'accès du code pour aider à sécuriser le code managé et empêcher que le système d'exploitation ou le serveur de base de données ne soit menacé.</span><span class="sxs-lookup"><span data-stu-id="b3a49-110">uses CAS to help secure the managed code and prevent compromise of the operating system or database server.</span></span>  
  
## <a name="advantages-of-clr-integration"></a><span data-ttu-id="b3a49-111">Avantages de l'intégration du CLR</span><span class="sxs-lookup"><span data-stu-id="b3a49-111">Advantages of CLR Integration</span></span>  
 [!INCLUDE[tsql](../../../includes/tsql-md.md)] <span data-ttu-id="b3a49-112">est conçu spécifiquement pour l'accès direct aux données et les manipulations de la base de données.</span><span class="sxs-lookup"><span data-stu-id="b3a49-112">is specifically designed for direct data access and manipulation in the database.</span></span> <span data-ttu-id="b3a49-113">Même si [!INCLUDE[tsql](../../../includes/tsql-md.md)] convient parfaitement pour accéder aux données et les gérer, ce n'est pas un langage de programmation à part entière.</span><span class="sxs-lookup"><span data-stu-id="b3a49-113">While [!INCLUDE[tsql](../../../includes/tsql-md.md)] excels at data access and management, it is not a full-fledged programming language.</span></span> <span data-ttu-id="b3a49-114">Par exemple, [!INCLUDE[tsql](../../../includes/tsql-md.md)] ne prend pas en charge les tableaux, les collections, les boucles for-each, le décalage de bits ou les classes.</span><span class="sxs-lookup"><span data-stu-id="b3a49-114">For example, [!INCLUDE[tsql](../../../includes/tsql-md.md)] does not support arrays, collections, for-each loops, bit shifting, or classes.</span></span> <span data-ttu-id="b3a49-115">Bien que certaines de ces constructions puissent être simulées dans [!INCLUDE[tsql](../../../includes/tsql-md.md)], le code managé a intégré leur prise en charge.</span><span class="sxs-lookup"><span data-stu-id="b3a49-115">While some of these constructs can be simulated in [!INCLUDE[tsql](../../../includes/tsql-md.md)], managed code has integrated support for these constructs.</span></span> <span data-ttu-id="b3a49-116">Selon le scénario, ces fonctionnalités peuvent fournir une raison attrayante d'implémenter certaines fonctionnalités de base de données en code managé.</span><span class="sxs-lookup"><span data-stu-id="b3a49-116">Depending on the scenario, these features can provide a compelling reason to implement certain database functionality in managed code.</span></span>  
  
 <span data-ttu-id="b3a49-117">Microsoft Visual Basic .NET et Microsoft Visual C# offrent des fonctions orientées objet telles que l'encapsulation, l'héritage et le polymorphisme.</span><span class="sxs-lookup"><span data-stu-id="b3a49-117">Microsoft Visual Basic .NET and Microsoft Visual C# offer object-oriented capabilities such as encapsulation, inheritance, and polymorphism.</span></span> <span data-ttu-id="b3a49-118">Le code connexe peut désormais être aisément organisé en classes et en espaces de noms.</span><span class="sxs-lookup"><span data-stu-id="b3a49-118">Related code can now be easily organized into classes and namespaces.</span></span> <span data-ttu-id="b3a49-119">Lorsque vous travaillez avec un code serveur volumineux, cela vous permet de l'organiser et de le gérer plus facilement.</span><span class="sxs-lookup"><span data-stu-id="b3a49-119">When you are working with large amounts of server code, this allows you to more easily organize and maintain your code.</span></span>  
  
 <span data-ttu-id="b3a49-120">Le code managé est mieux adapté que [!INCLUDE[tsql](../../../includes/tsql-md.md)] pour les calculs et les logiques d'exécution élaborées, et des fonctionnalités étendues prennent en charge nombre de tâches complexes, comme la manipulation des chaînes et des expressions régulières.</span><span class="sxs-lookup"><span data-stu-id="b3a49-120">Managed code is better suited than [!INCLUDE[tsql](../../../includes/tsql-md.md)] for calculations and complicated execution logic, and features extensive support for many complex tasks, including string handling and regular expressions.</span></span> <span data-ttu-id="b3a49-121">Avec les fonctionnalités proposées dans la bibliothèque .NET Framework, vous avez accès aux milliers de classes et routines prégénérées.</span><span class="sxs-lookup"><span data-stu-id="b3a49-121">With the functionality found in the .NET Framework Library, you have access to thousands of pre-built classes and routines.</span></span> <span data-ttu-id="b3a49-122">Il est possible d'accéder simplement à celles-ci à partir d'une procédure stockée, d'un déclencheur ou d'une fonction définie par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b3a49-122">These can be easily accessed from any stored procedure, trigger or user defined function.</span></span> <span data-ttu-id="b3a49-123">La bibliothèque des classes de base (BCL, Base Class Library) inclut les classes qui fournissent les fonctionnalités de manipulation de chaînes, d'opérations mathématiques avancées, d'accès aux fichiers, de chiffrement, etc.</span><span class="sxs-lookup"><span data-stu-id="b3a49-123">The Base Class Library (BCL) includes classes that provide functionality for string manipulation, advanced math operations, file access, cryptography, and more.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b3a49-124">Alors que la plupart de ces classes sont disponibles pour être utilisées au sein du code CLR de SQL Server, celles qui ne sont pas adaptées à une utilisation côté serveur (par exemple, les classes de fenêtrage) ne sont pas disponibles.</span><span class="sxs-lookup"><span data-stu-id="b3a49-124">While many of these classes are available for use from within CLR code in SQL Server, those that are not appropriate for server-side use (for example, windowing classes), are not available.</span></span> <span data-ttu-id="b3a49-125">Pour plus d’informations, consultez [.NET Framework les bibliothèques prises en charge](database-objects/supported-net-framework-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="b3a49-125">For more information, see [Supported .NET Framework Libraries](database-objects/supported-net-framework-libraries.md).</span></span>  
  
 <span data-ttu-id="b3a49-126">L'un des avantages du code managé est la cohérence des types, ou l'assurance que le code n'accède aux types que de façon bien définie et autorisée.</span><span class="sxs-lookup"><span data-stu-id="b3a49-126">One of the benefits of managed code is type safety, or the assurance that code accesses types only in well-defined, permissible ways.</span></span> <span data-ttu-id="b3a49-127">Avant que le code managé ne soit exécuté, le CLR vérifie que le code ne présente pas de risque.</span><span class="sxs-lookup"><span data-stu-id="b3a49-127">Before managed code is executed, the CLR verifies that the code is safe.</span></span> <span data-ttu-id="b3a49-128">Par exemple, il est procédé à un contrôle du code pour s'assurer qu'aucune mémoire ne soit lue qui n'ait été préalablement écrite.</span><span class="sxs-lookup"><span data-stu-id="b3a49-128">For example, the code is checked to ensure that no memory is read that has not previously been written.</span></span> <span data-ttu-id="b3a49-129">Le CLR peut également aider à vérifier que le code ne manipule pas une mémoire non managée.</span><span class="sxs-lookup"><span data-stu-id="b3a49-129">The CLR can also help ensure that code does not manipulate unmanaged memory.</span></span>  
  
 <span data-ttu-id="b3a49-130">L'intégration du CLR offre la possibilité de meilleures performances.</span><span class="sxs-lookup"><span data-stu-id="b3a49-130">CLR integration offers the potential for improved performance.</span></span> <span data-ttu-id="b3a49-131">Pour plus d’informations, consultez [performances de l’intégration du CLR](clr-integration-architecture-performance.md).</span><span class="sxs-lookup"><span data-stu-id="b3a49-131">For information, see [Performance of CLR Integration](clr-integration-architecture-performance.md).</span></span>  
  
## <a name="choosing-between-transact-sql-and-managed-code"></a><span data-ttu-id="b3a49-132">Choix entre Transact-SQL et le code managé</span><span class="sxs-lookup"><span data-stu-id="b3a49-132">Choosing Between Transact-SQL and Managed Code</span></span>  
 <span data-ttu-id="b3a49-133">Lors de l'écriture des procédures stockées, des déclencheurs et des fonctions définies par l'utilisateur, vous devez choisir entre l'utilisation du langage [!INCLUDE[tsql](../../../includes/tsql-md.md)] traditionnel et celle d'un langage .NET Framework, tel que Visual Basic .NET ou Visual C#.</span><span class="sxs-lookup"><span data-stu-id="b3a49-133">When writing stored procedures, triggers, and user-defined functions, one decision you must make is whether to use traditional [!INCLUDE[tsql](../../../includes/tsql-md.md)], or a .NET Framework language such as Visual Basic .NET or Visual C#.</span></span> <span data-ttu-id="b3a49-134">Utilisez [!INCLUDE[tsql](../../../includes/tsql-md.md)] lorsque le code effectue principalement un accès aux données avec une logique procédurale nulle ou minime.</span><span class="sxs-lookup"><span data-stu-id="b3a49-134">Use [!INCLUDE[tsql](../../../includes/tsql-md.md)] when the code will mostly perform data access with little or no procedural logic.</span></span> <span data-ttu-id="b3a49-135">Utilisez le code managé pour les fonctions gourmandes en ressources processeur et les procédures qui affichent une logique complexe, ou lorsque vous souhaitez utiliser la bibliothèque de classes de base du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="b3a49-135">Use managed code for CPU-intensive functions and procedures that feature complex logic, or when you want to make use of the BCL of the .NET Framework.</span></span>  
  
### <a name="choosing-between-execution-in-the-server-and-execution-in-the-client"></a><span data-ttu-id="b3a49-136">Choix entre exécution dans le serveur et exécution dans le client</span><span class="sxs-lookup"><span data-stu-id="b3a49-136">Choosing Between Execution in the Server and Execution in the Client</span></span>  
 <span data-ttu-id="b3a49-137">Autre facteur de votre décision relative au choix de [!INCLUDE[tsql](../../../includes/tsql-md.md)] ou du code managé, l'emplacement où vous souhaitez que votre code réside, à savoir sur le serveur ou sur l'ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="b3a49-137">Another factor in your decision about whether to use [!INCLUDE[tsql](../../../includes/tsql-md.md)] or managed code is where you would like your code to reside, the server computer or the client computer.</span></span> <span data-ttu-id="b3a49-138">[!INCLUDE[tsql](../../../includes/tsql-md.md)] et le code managé peuvent tous deux être exécutés sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="b3a49-138">Both [!INCLUDE[tsql](../../../includes/tsql-md.md)] and managed code can be run on the server.</span></span> <span data-ttu-id="b3a49-139">Le code et les données se retrouvent ensemble, et vous permettent de tirer parti de la puissance de traitement du serveur.</span><span class="sxs-lookup"><span data-stu-id="b3a49-139">This places code and data close together, and allows you to take advantage of the processing power of the server.</span></span> <span data-ttu-id="b3a49-140">En revanche, vous pouvez souhaiter éviter de placer les tâches intensives du processeur sur votre serveur de base de données.</span><span class="sxs-lookup"><span data-stu-id="b3a49-140">On the other hand, you may wish to avoid placing processor intensive tasks on your database server.</span></span> <span data-ttu-id="b3a49-141">Aujourd'hui, la plupart des ordinateurs clients sont très puissants et il se peut que vous souhaitiez tirer parti de cette puissance de traitement en plaçant autant de code que possible sur le client.</span><span class="sxs-lookup"><span data-stu-id="b3a49-141">Most client computers today are very powerful, and you may wish to take advantage of this processing power by placing as much code as possible on the client.</span></span> <span data-ttu-id="b3a49-142">Le code managé peut s'exécuter sur un ordinateur client, contrairement à [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b3a49-142">Managed code can run on a client computer, while [!INCLUDE[tsql](../../../includes/tsql-md.md)] cannot.</span></span>  
  
## <a name="choosing-between-extended-stored-procedures-and-managed-code"></a><span data-ttu-id="b3a49-143">Choix entre procédures stockées étendues et code managé</span><span class="sxs-lookup"><span data-stu-id="b3a49-143">Choosing Between Extended Stored Procedures and Managed Code</span></span>  
 <span data-ttu-id="b3a49-144">Les procédures stockées étendues peuvent être créées pour remplir une fonctionnalité inaccessible via les procédures stockées [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b3a49-144">Extended stored procedures can be built to perform functionality not possible with [!INCLUDE[tsql](../../../includes/tsql-md.md)] stored procedures.</span></span> <span data-ttu-id="b3a49-145">Toutefois, les procédures stockées étendues peuvent compromettre l'intégrité du processus [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], contrairement au code managé qui est soumis à une vérification pour être certain qu'il ne présente aucun risque.</span><span class="sxs-lookup"><span data-stu-id="b3a49-145">Extended stored procedures can, however, compromise the integrity of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] process, while managed code that is verified to be type-safe cannot.</span></span> <span data-ttu-id="b3a49-146">En outre, la gestion de la mémoire, la planification des threads et des fibres, et les services de synchronisation sont plus profondément intégrés entre le code managé du CLR et [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b3a49-146">Further, memory management, scheduling of threads and fibers, and synchronization services are more deeply integrated between the managed code of the CLR and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b3a49-147">Avec l'intégration du CLR, vous avez une solution plus sécurisée que les procédures stockées étendues pour écrire les procédures stockées qui vous sont nécessaires pour exécuter des tâches qui ne peuvent l'être dans [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b3a49-147">With CLR integration, you have a more secure way than extended stored procedures to write the stored procedures you need to perform tasks not possible in [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="b3a49-148">Pour plus d’informations sur l’intégration du CLR et les procédures stockées étendues, consultez [performances de l’intégration du CLR](clr-integration-architecture-performance.md).</span><span class="sxs-lookup"><span data-stu-id="b3a49-148">For more information about CLR integration and extended stored procedures, see [Performance of CLR Integration](clr-integration-architecture-performance.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b3a49-149">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b3a49-149">See Also</span></span>  
 <span data-ttu-id="b3a49-150">[Installation du .NET Framework](https://technet.microsoft.com/library/ms166014\(v=SQL.105\).aspx) </span><span class="sxs-lookup"><span data-stu-id="b3a49-150">[Installing the .NET Framework](https://technet.microsoft.com/library/ms166014\(v=SQL.105\).aspx) </span></span>  
 <span data-ttu-id="b3a49-151">[Architecture de l’intégration du CLR](../../database-engine/dev-guide/architecture-of-clr-integration.md) </span><span class="sxs-lookup"><span data-stu-id="b3a49-151">[Architecture of CLR Integration](../../database-engine/dev-guide/architecture-of-clr-integration.md) </span></span>  
 <span data-ttu-id="b3a49-152">[Accès aux données à partir des objets de base de données CLR](data-access/data-access-from-clr-database-objects.md) </span><span class="sxs-lookup"><span data-stu-id="b3a49-152">[Data Access from CLR Database Objects](data-access/data-access-from-clr-database-objects.md) </span></span>  
 [<span data-ttu-id="b3a49-153">Mise en route avec l'intégration du CLR</span><span class="sxs-lookup"><span data-stu-id="b3a49-153">Getting Started with CLR Integration</span></span>](database-objects/getting-started-with-clr-integration.md)  
  
  
