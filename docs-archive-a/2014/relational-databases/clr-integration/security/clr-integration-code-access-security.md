---
title: Sécurité d’accès du code d’intégration du CLR | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- UNSAFE assemblies
- permissions [CLR integration]
- common language runtime [SQL Server], security
- SAFE assemblies
- code access security [CLR integration]
- EXTERNAL_ACCESS assemblies
ms.assetid: 2111cfe0-d5e0-43b1-93c3-e994ac0e9729
author: rothja
ms.author: jroth
ms.openlocfilehash: 75b283da2760b39349351802a83caae04e546c06
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87604030"
---
# <a name="clr-integration-code-access-security"></a><span data-ttu-id="54604-102">Sécurité d'accès du code de l'intégration du CLR</span><span class="sxs-lookup"><span data-stu-id="54604-102">CLR Integration Code Access Security</span></span>
  <span data-ttu-id="54604-103">Le common language runtime (CLR) prend en charge un modèle de sécurité appelé sécurité d’accès du code pour le code managé.</span><span class="sxs-lookup"><span data-stu-id="54604-103">The common language runtime (CLR) supports a security model called code access security for managed code.</span></span> <span data-ttu-id="54604-104">Dans ce modèle, les autorisations sont accordées aux assemblys selon l'identité du code.</span><span class="sxs-lookup"><span data-stu-id="54604-104">In this model, permissions are granted to assemblies based on the identity of the code.</span></span> <span data-ttu-id="54604-105">Pour plus d'informations, consultez la section relative à la sécurité d'accès du code dans le kit de développement logiciel (SDK) .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="54604-105">For more information, see the "Code Access Security" section in the .NET Framework software development kit.</span></span>  
  
 <span data-ttu-id="54604-106">La stratégie de sécurité qui détermine les autorisations accordée aux assemblys est définie dans trois emplacements différents :</span><span class="sxs-lookup"><span data-stu-id="54604-106">The security policy that determines the permissions granted to assemblies is defined in three different places:</span></span>  
  
-   <span data-ttu-id="54604-107">Stratégie de l'ordinateur : il s'agit de la stratégie appliquée pour tout le code managé qui s'exécute sur l'ordinateur sur lequel [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est installé.</span><span class="sxs-lookup"><span data-stu-id="54604-107">Machine policy: This is the policy in effect for all managed code running in the machine on which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span>  
  
-   <span data-ttu-id="54604-108">Stratégie de l'utilisateur : il s'agit de la stratégie appliquée pour le code managé hébergé par un processus.</span><span class="sxs-lookup"><span data-stu-id="54604-108">User policy: This is the policy in effect for managed code hosted by a process.</span></span> <span data-ttu-id="54604-109">Pour le [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="54604-109">For [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service is running.</span></span>  
  
-   <span data-ttu-id="54604-110">Stratégie de l'hôte : il s'agit de la stratégie configurée par l'hôte du CLR (dans ce cas, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) qui est appliquée pour le code managé qui s'exécute sur cet hôte.</span><span class="sxs-lookup"><span data-stu-id="54604-110">Host policy: This is the policy set up by the host of the CLR (in this case, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) that is in effect for managed code running in that host.</span></span>  
  
 <span data-ttu-id="54604-111">Le mécanisme de sécurité d'accès du code pris en charge par le CLR est basé sur la supposition que le module d'exécution peut héberger à la fois du code d'un niveau de confiance total et d'un niveau de confiance partiel.</span><span class="sxs-lookup"><span data-stu-id="54604-111">The code access security mechanism supported by the CLR is based on the assumption that the runtime can host both fully trusted and partially trusted code.</span></span> <span data-ttu-id="54604-112">Les ressources protégées par la sécurité d’accès du code CLR sont généralement encapsulées par les interfaces de programmation d’applications managées qui requirethe l’autorisation correspondante avant d’autoriser l’accès à la ressource.</span><span class="sxs-lookup"><span data-stu-id="54604-112">The resources that are protected by CLR code access security are typically wrapped by managed application programming interfaces that requirethe corresponding permission before allowing access to the resource.</span></span> <span data-ttu-id="54604-113">Demandfor l’autorisation est satisfaite uniquement si tous les appelants (au niveau de l’assembly) dans la pile des appels ont l’autorisation de ressource correspondante.</span><span class="sxs-lookup"><span data-stu-id="54604-113">The demandfor the permission is satisfied only if all the callers (at the assembly level) in the call stack have the corresponding resource permission.</span></span>  
  
 <span data-ttu-id="54604-114">L’ensemble des autorisations de sécurité d’accès du code qui sont accordées au code managé lors de l’exécution de dans [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] octroie un jeu d’autorisations à un assembly chargé dans [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , le jeu d’autorisations éventuellement accordé au code utilisateur peut être restreint davantage par les stratégies de l’utilisateur et de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="54604-114">The set of code access security permissions that are granted to managed code when running inside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] grants a set of permissions to an assembly loaded in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], the eventual set of permissions given to user code may be restricted further by the user and machine-level policies.</span></span>  
  
## <a name="sql-server-host-policy-level-permission-sets"></a><span data-ttu-id="54604-115">Jeux d'autorisations au niveau stratégie de l'hôte de SQL Server</span><span class="sxs-lookup"><span data-stu-id="54604-115">SQL Server Host Policy Level Permission Sets</span></span>  
 <span data-ttu-id="54604-116">Le jeu d'autorisations de sécurité d'accès du code accordées aux assemblys par le niveau de stratégie de l'hôte [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est déterminé par le jeu d'autorisations spécifié lors de la création de l'assembly.</span><span class="sxs-lookup"><span data-stu-id="54604-116">The set of code access security permissions granted to assemblies by the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy level is determined by the permission set specified when creating the assembly.</span></span> <span data-ttu-id="54604-117">Il existe trois jeux d’autorisations : `SAFE` , `EXTERNAL_ACCESS` et `UNSAFE` (spécifiés à l’aide de l’option **PERMISSION_SET** de[Create assembly &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-assembly-transact-sql)).</span><span class="sxs-lookup"><span data-stu-id="54604-117">There are three permission sets: `SAFE`, `EXTERNAL_ACCESS` and `UNSAFE` (specified using the **PERMISSION_SET** option of[CREATE ASSEMBLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-assembly-transact-sql)).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]<span data-ttu-id="54604-118">.</span><span class="sxs-lookup"><span data-stu-id="54604-118">.</span></span> <span data-ttu-id="54604-119">Cette stratégie n'est pas destinée au domaine d'application par défaut appliqué lorsque [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] crée une instance du CLR.</span><span class="sxs-lookup"><span data-stu-id="54604-119">This policy is not meant for the default application domain that would be in effect when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] creates an instance of the CLR.</span></span>  
  
 <span data-ttu-id="54604-120">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]Fixedpolicy pour les assemblys système et la stratégie spécifiée par l’utilisateur pour les assemblys utilisateur.</span><span class="sxs-lookup"><span data-stu-id="54604-120">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fixedpolicy for system assemblies and user-specified policy for user assemblies.</span></span>  
  
 <span data-ttu-id="54604-121">La stratégie fixe pour les assemblys CLR et les assemblys système [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] leur accorde une confiance totale.</span><span class="sxs-lookup"><span data-stu-id="54604-121">The fixed policy for CLR assemblies and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] system assemblies grants them full trust.</span></span>  
  
 <span data-ttu-id="54604-122">La partie spécifiée par l'utilisateur de la stratégie de l'hôte [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est basée sur le propriétaire de l'assembly spécifiant un des trois compartiments d'autorisation pour chaque assembly.</span><span class="sxs-lookup"><span data-stu-id="54604-122">The user-specified portion of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy is based on the assembly owner specifying one of three permission buckets for each assembly.</span></span> <span data-ttu-id="54604-123">Pour plus d'informations sur les autorisations de sécurité répertoriées ci-dessous, consultez le kit de développement logiciel SDK .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="54604-123">For more information about the security permissions listed below, see the .NET Framework SDK.</span></span>  
  
### <a name="safe"></a><span data-ttu-id="54604-124">SAFE</span><span class="sxs-lookup"><span data-stu-id="54604-124">SAFE</span></span>  
 <span data-ttu-id="54604-125">Seul le calcul interne et l’accès aux données locales sont autorisés.</span><span class="sxs-lookup"><span data-stu-id="54604-125">Only internal computation and local data access are allowed.</span></span> <span data-ttu-id="54604-126">`SAFE` est le jeu d'autorisations le plus restrictif.</span><span class="sxs-lookup"><span data-stu-id="54604-126">`SAFE` is the most restrictive permission set.</span></span> <span data-ttu-id="54604-127">Le code exécuté par un assembly à l'aide des autorisations `SAFE` ne peut pas accéder aux ressources système externes telles que les fichiers, le réseau, les variables d'environnement ou le Registre.</span><span class="sxs-lookup"><span data-stu-id="54604-127">Code executed by an assembly with `SAFE` permissions cannot access external system resources such as files, the network, environment variables, or the registry.</span></span>  
  
 <span data-ttu-id="54604-128">Les assemblys `SAFE` ont les autorisations et valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="54604-128">`SAFE` assemblies have the following permissions and values:</span></span>  
  
|<span data-ttu-id="54604-129">Autorisation</span><span class="sxs-lookup"><span data-stu-id="54604-129">Permission</span></span>|<span data-ttu-id="54604-130">Valeur(s)/description</span><span class="sxs-lookup"><span data-stu-id="54604-130">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`SecurityPermission`|<span data-ttu-id="54604-131">`Execution:` autorisation d'exécuter le code managé.</span><span class="sxs-lookup"><span data-stu-id="54604-131">`Execution:` Permission to execute managed code.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="54604-132">`Context connection = true`, `context connection = yes`: seule la connexion contextuelle peut être utilisée et la chaîne de connexion peut spécifier uniquement une valeur de « context connection=true » ou « context connection=yes ».</span><span class="sxs-lookup"><span data-stu-id="54604-132">`Context connection = true`, `context connection = yes`: Only the context-connection can be used and the connection string can only specify a value of "context connection=true" or "context connection=yes".</span></span><br /><br /> <span data-ttu-id="54604-133">**AllowBlankPassword = false :**  Les mots de passe vides ne sont pas autorisés.</span><span class="sxs-lookup"><span data-stu-id="54604-133">**AllowBlankPassword = false:**  Blank passwords are not permitted.</span></span>|  
  
### <a name="external_access"></a><span data-ttu-id="54604-134">EXTERNAL_ACCESS</span><span class="sxs-lookup"><span data-stu-id="54604-134">EXTERNAL_ACCESS</span></span>  
 <span data-ttu-id="54604-135">Les assemblys EXTERNAL_ACCESS ont les mêmes autorisations que les `SAFE` assemblys, avec la capacité supplémentaire d’accéder aux ressources système externes telles que les fichiers, les réseaux, les variables d’environnement et le registre.</span><span class="sxs-lookup"><span data-stu-id="54604-135">EXTERNAL_ACCESS assemblies have the same permissions as `SAFE` assemblies, with the additional ability to access external system resources such as files, networks, environmental variables, and the registry.</span></span>  
  
 <span data-ttu-id="54604-136">Les assemblys `EXTERNAL_ACCESS` ont également les autorisations et valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="54604-136">`EXTERNAL_ACCESS` assemblies also have the following permissions and values:</span></span>  
  
|<span data-ttu-id="54604-137">Autorisation</span><span class="sxs-lookup"><span data-stu-id="54604-137">Permission</span></span>|<span data-ttu-id="54604-138">Valeur(s)/description</span><span class="sxs-lookup"><span data-stu-id="54604-138">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`DistributedTransactionPermission`|<span data-ttu-id="54604-139">`Unrestricted:`Les transactions distribuées sont autorisées.</span><span class="sxs-lookup"><span data-stu-id="54604-139">`Unrestricted:` Distributed transactions are allowed.</span></span>|  
|`DNSPermission`|<span data-ttu-id="54604-140">`Unrestricted:`Autorisation de demander des informations à partir de serveurs de noms de domaine.</span><span class="sxs-lookup"><span data-stu-id="54604-140">`Unrestricted:` Permission to request information from Domain Name Servers.</span></span>|  
|`EnvironmentPermission`|<span data-ttu-id="54604-141">`Unrestricted:` l'accès complet aux variables du système et de l'environnement utilisateur est accordé.</span><span class="sxs-lookup"><span data-stu-id="54604-141">`Unrestricted:` Full access to system and user environment variables is allowed.</span></span>|  
|`EventLogPermission`|<span data-ttu-id="54604-142">`Administer:` les actions suivantes sont autorisées : création d'une source d'événement, lecture de journaux existants, suppression de sources d'événements ou de journaux, réponse aux entrées, effacement d'un journal des événements, écoute des événements et accès à une collection de tous les journaux des événements.</span><span class="sxs-lookup"><span data-stu-id="54604-142">`Administer:` The following actions are allowed: creating an event source, reading existing logs, deleting event sources or logs, responding to entries, clearing an event log, listening to events, and accessing a collection of all event logs.</span></span>|  
|`FileIOPermission`|<span data-ttu-id="54604-143">`Unrestricted:` l'accès complet aux fichiers et aux dossiers est accordé.</span><span class="sxs-lookup"><span data-stu-id="54604-143">`Unrestricted:` Full access to files and folders is allowed.</span></span>|  
|`KeyContainerPermission`|<span data-ttu-id="54604-144">`Unrestricted:` l'accès complet aux conteneurs de clés est accordé.</span><span class="sxs-lookup"><span data-stu-id="54604-144">`Unrestricted:` Full access to key containers is allowed.</span></span>|  
|`NetworkInformationPermission`|<span data-ttu-id="54604-145">`Access:` l'exécution de requêtes ping est autorisée.</span><span class="sxs-lookup"><span data-stu-id="54604-145">`Access:` Pinging is permitted.</span></span>|  
|`RegistryPermission`|<span data-ttu-id="54604-146">Autorise des droits de lecture à `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG` et `HKEY_USERS.`</span><span class="sxs-lookup"><span data-stu-id="54604-146">Allows read rights to `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG`, and `HKEY_USERS.`</span></span>|  
|`SecurityPermission`|<span data-ttu-id="54604-147">`Assertion:` possibilité de déclarer que tous les appelants de ce code ont l'autorisation requise pour l'opération.</span><span class="sxs-lookup"><span data-stu-id="54604-147">`Assertion:` Ability to assert that all the callers of this code have the requisite permission for the operation.</span></span><br /><br /> <span data-ttu-id="54604-148">`ControlPrincipal:` possibilité de manipuler l'objet principal</span><span class="sxs-lookup"><span data-stu-id="54604-148">`ControlPrincipal:` Ability to manipulate the principal object.</span></span><br /><br /> <span data-ttu-id="54604-149">`Execution:` autorisation d'exécuter le code managé.</span><span class="sxs-lookup"><span data-stu-id="54604-149">`Execution:` Permission to execute managed code.</span></span><br /><br /> <span data-ttu-id="54604-150">`SerializationFormatter:` possibilité de fournir des services de sérialisation.</span><span class="sxs-lookup"><span data-stu-id="54604-150">`SerializationFormatter:` Ability to provide serialization services.</span></span>|  
|<span data-ttu-id="54604-151">**SmtpPermission**</span><span class="sxs-lookup"><span data-stu-id="54604-151">**SmtpPermission**</span></span>|<span data-ttu-id="54604-152">`Access:` les connexions sortantes au port 25 hôte SMTP sont autorisées.</span><span class="sxs-lookup"><span data-stu-id="54604-152">`Access:` Outbound connections to SMTP host port 25 are allowed.</span></span>|  
|`SocketPermission`|<span data-ttu-id="54604-153">`Connect:` les connexions sortantes (tous les ports, tous les protocoles) sur une adresse de transport sont autorisées.</span><span class="sxs-lookup"><span data-stu-id="54604-153">`Connect:` Outbound connections (all ports, all protocols) on a transport address are allowed.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="54604-154">`Unrestricted:` l'accès complet à la source de données est accordé.</span><span class="sxs-lookup"><span data-stu-id="54604-154">`Unrestricted:` Full access to the datasource is allowed.</span></span>|  
|`StorePermission`|<span data-ttu-id="54604-155">`Unrestricted:` l'accès complet aux magasins de certificats X.509 est accordé.</span><span class="sxs-lookup"><span data-stu-id="54604-155">`Unrestricted:` Full access to X.509 certificate stores is allowed.</span></span>|  
|`WebPermission`|<span data-ttu-id="54604-156">`Connect:` les connexions sortantes aux ressources Web sont autorisées.</span><span class="sxs-lookup"><span data-stu-id="54604-156">`Connect:` Outbound connections to web resources are allowed.</span></span>|  
  
### <a name="unsafe"></a><span data-ttu-id="54604-157">UNSAFE</span><span class="sxs-lookup"><span data-stu-id="54604-157">UNSAFE</span></span>  
 <span data-ttu-id="54604-158">UNSAFE offre aux assemblies un accès sans restriction aux ressources, à la fois à l'intérieur et à l'extérieur de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="54604-158">UNSAFE allows assemblies unrestricted access to resources, both within and outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="54604-159">Le code qui s'exécute dans un assembly `UNSAFE` peut également appeler du code non managé.</span><span class="sxs-lookup"><span data-stu-id="54604-159">Code executing from within an `UNSAFE` assembly can also call unmanaged code.</span></span>  
  
 <span data-ttu-id="54604-160">Les assemblys `UNSAFE` dispose de l'approbation `FullTrust`.</span><span class="sxs-lookup"><span data-stu-id="54604-160">`UNSAFE` assemblies are given `FullTrust`.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="54604-161">`SAFE` est le paramètre recommandé pour les autorisations des assemblys qui effectuent des calculs et des tâches de gestion des données sans accéder à des ressources extérieures à [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="54604-161">`SAFE` is the recommended permission setting for assemblies that perform computation and data management tasks without accessing resources outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="54604-162">`EXTERNAL_ACCESS`par défaut, les assemblys s’exécutent en tant que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] compte de service, l’autorisation d’exécuter ne `EXTERNAL_ACCESS` doit être accordée qu’aux connexions approuvées pour s’exécuter en tant que compte de service.</span><span class="sxs-lookup"><span data-stu-id="54604-162">`EXTERNAL_ACCESS` assemblies by default execute as the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account, permission to execute `EXTERNAL_ACCESS` should only be given to logins trusted to run as the service account.</span></span> <span data-ttu-id="54604-163">Du point de vue de la sécurité, les assemblys `EXTERNAL_ACCESS` et `UNSAFE` sont identiques.</span><span class="sxs-lookup"><span data-stu-id="54604-163">From a security perspective, `EXTERNAL_ACCESS` and `UNSAFE` assemblies are identical.</span></span> <span data-ttu-id="54604-164">Toutefois, les assemblys `EXTERNAL_ACCESS` fournissent différentes protections en matière de fiabilité et de robustesse absentes des assemblys `UNSAFE`.</span><span class="sxs-lookup"><span data-stu-id="54604-164">However, `EXTERNAL_ACCESS` assemblies provide various reliability and robustness protections that are not in `UNSAFE` assemblies.</span></span> <span data-ttu-id="54604-165">La spécification de `UNSAFE` permet au code de l’assembly d’effectuer des opérations illégales sur le [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="54604-165">Specifying `UNSAFE` allows the code in the assembly to perform illegal operations against the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="54604-166">Pour plus d’informations sur la création d’assemblys CLR dans [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , consultez [gestion des assemblys d’intégration du CLR](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="54604-166">For more information about creating CLR assemblies in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [Managing CLR Integration Assemblies](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md).</span></span>  
  
## <a name="accessing-external-resources"></a><span data-ttu-id="54604-167">Accès aux ressources externes</span><span class="sxs-lookup"><span data-stu-id="54604-167">Accessing External Resources</span></span>  
 <span data-ttu-id="54604-168">Si un type défini par l'utilisateur (UDT), une procédure stockée ou autre type d'assembly de construction est inscrit avec le jeu d'autorisations `SAFE`, le code managé qui s'exécute dans la construction ne peut pas accéder aux ressources externes.</span><span class="sxs-lookup"><span data-stu-id="54604-168">If a user-defined type (UDT), stored procedure, or other type of construct assembly is registered with the `SAFE` permission set, then managed code executing in the construct is unable to access external resources.</span></span> <span data-ttu-id="54604-169">Toutefois, si le jeu d'autorisations `EXTERNAL_ACCESS` ou `UNSAFE` est spécifié et que le code managé tente d'accéder aux ressources externes, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applique les règles suivantes :</span><span class="sxs-lookup"><span data-stu-id="54604-169">However, if either the `EXTERNAL_ACCESS` or `UNSAFE` permission sets are specified, and managed code attempts to access external resources, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applies the following rules:</span></span>  
  
|<span data-ttu-id="54604-170">Si</span><span class="sxs-lookup"><span data-stu-id="54604-170">If</span></span>|<span data-ttu-id="54604-171">Alors</span><span class="sxs-lookup"><span data-stu-id="54604-171">Then</span></span>|  
|--------|----------|  
|<span data-ttu-id="54604-172">Le contexte d'exécution correspond à une connexion [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="54604-172">The execution context corresponds to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login.</span></span>|<span data-ttu-id="54604-173">Les tentatives d'accéder aux ressources externes sont refusées et une exception de sécurité est levée.</span><span class="sxs-lookup"><span data-stu-id="54604-173">Attempts to access external resources are denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="54604-174">Le contexte d'exécution correspond à une connexion Windows et le contexte d'exécution est l'appelant d'origine.</span><span class="sxs-lookup"><span data-stu-id="54604-174">The execution context corresponds to a Windows login and the execution context is the original caller.</span></span>|<span data-ttu-id="54604-175">La ressource externe est accédée sous le contexte de sécurité du compte de service [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="54604-175">The external resource is accessed under the security context of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account.</span></span>|  
|<span data-ttu-id="54604-176">L'appelant n'est pas l'appelant d'origine.</span><span class="sxs-lookup"><span data-stu-id="54604-176">The caller is not the original caller.</span></span>|<span data-ttu-id="54604-177">L'accès est refusé et une exception de sécurité est levée.</span><span class="sxs-lookup"><span data-stu-id="54604-177">Access is denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="54604-178">Le contexte d’exécution correspond à une connexion Windows et le contexte d’exécution est l’appelant d’origine et l’appelant a été représenté.</span><span class="sxs-lookup"><span data-stu-id="54604-178">The execution context corresponds to a Windows login and the execution context is the original caller and the caller has been impersonated.</span></span>|<span data-ttu-id="54604-179">L'accès s'effectue en utilisant le contexte de sécurité de l'appelant, et non le compte de service.</span><span class="sxs-lookup"><span data-stu-id="54604-179">Access uses the caller security context; not the service account.</span></span>|  
  
## <a name="permission-set-summary"></a><span data-ttu-id="54604-180">Synthèse des jeux d'autorisations</span><span class="sxs-lookup"><span data-stu-id="54604-180">Permission Set Summary</span></span>  
 <span data-ttu-id="54604-181">Le graphique suivant résume les restrictions et autorisations accordées aux jeux d'autorisations `SAFE`, `EXTERNAL_ACCESS` et `UNSAFE`.</span><span class="sxs-lookup"><span data-stu-id="54604-181">The following chart summarizes the restrictions and permissions granted to the `SAFE`, `EXTERNAL_ACCESS`, and `UNSAFE` permission sets.</span></span>  
  
|||||  
|-|-|-|-|  
||`SAFE`|`EXTERNAL_ACCESS`|`UNSAFE`|  
|`Code Access Security Permissions`|<span data-ttu-id="54604-182">Exécution uniquement</span><span class="sxs-lookup"><span data-stu-id="54604-182">Execute only</span></span>|<span data-ttu-id="54604-183">Exécution + accès aux ressources externes</span><span class="sxs-lookup"><span data-stu-id="54604-183">Execute + access to external resources</span></span>|<span data-ttu-id="54604-184">Illimité (y compris P/Invoke)</span><span class="sxs-lookup"><span data-stu-id="54604-184">Unrestricted (including P/Invoke)</span></span>|  
|`Programming model restrictions`|<span data-ttu-id="54604-185">Oui</span><span class="sxs-lookup"><span data-stu-id="54604-185">Yes</span></span>|<span data-ttu-id="54604-186">Oui</span><span class="sxs-lookup"><span data-stu-id="54604-186">Yes</span></span>|<span data-ttu-id="54604-187">Sans restriction</span><span class="sxs-lookup"><span data-stu-id="54604-187">No restrictions</span></span>|  
|`Verifiability requirement`|<span data-ttu-id="54604-188">Oui</span><span class="sxs-lookup"><span data-stu-id="54604-188">Yes</span></span>|<span data-ttu-id="54604-189">Oui</span><span class="sxs-lookup"><span data-stu-id="54604-189">Yes</span></span>|<span data-ttu-id="54604-190">Non</span><span class="sxs-lookup"><span data-stu-id="54604-190">No</span></span>|  
|`Local data access`|<span data-ttu-id="54604-191">Oui</span><span class="sxs-lookup"><span data-stu-id="54604-191">Yes</span></span>|<span data-ttu-id="54604-192">Oui</span><span class="sxs-lookup"><span data-stu-id="54604-192">Yes</span></span>|<span data-ttu-id="54604-193">Oui</span><span class="sxs-lookup"><span data-stu-id="54604-193">Yes</span></span>|  
|`Ability to call native code`|<span data-ttu-id="54604-194">Non</span><span class="sxs-lookup"><span data-stu-id="54604-194">No</span></span>|<span data-ttu-id="54604-195">Non</span><span class="sxs-lookup"><span data-stu-id="54604-195">No</span></span>|<span data-ttu-id="54604-196">Oui</span><span class="sxs-lookup"><span data-stu-id="54604-196">Yes</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="54604-197">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="54604-197">See Also</span></span>  
 <span data-ttu-id="54604-198">[Sécurité de l’intégration du CLR](clr-integration-security.md) </span><span class="sxs-lookup"><span data-stu-id="54604-198">[CLR Integration Security](clr-integration-security.md) </span></span>  
 <span data-ttu-id="54604-199">[Attributs de protection de l’hôte et programmation de l’intégration du CLR](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span><span class="sxs-lookup"><span data-stu-id="54604-199">[Host Protection Attributes and CLR Integration Programming](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span></span>  
 <span data-ttu-id="54604-200">[Restrictions du modèle de programmation de l’intégration du CLR](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span><span class="sxs-lookup"><span data-stu-id="54604-200">[CLR Integration Programming Model Restrictions](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span></span>  
 [<span data-ttu-id="54604-201">Environnement hébergé CLR</span><span class="sxs-lookup"><span data-stu-id="54604-201">CLR Hosted Environment</span></span>](../clr-integration-architecture-clr-hosted-environment.md)  
  
  
