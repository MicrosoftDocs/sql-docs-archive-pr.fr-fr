---
title: Démarrer et utiliser l’Assistant Paramétrage du moteur de base de données | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
f1_keywords:
- sql12.dta.advancedtuningoptions.f1
- sql12.dta.general.f1
- sql12.dta.tuningoptions.f1
- sql12.dta.workload.f1
- sql12.dta.progress.f1
- sql12.dta.options.f1
helpviewer_keywords:
- Database Engine Tuning Advisor [SQL Server], starting
ms.assetid: a4e3226a-3917-4ec8-bdf0-472879d231c9
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 46f8e49de657d7021d846c7e57022a580b877f8e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87701094"
---
# <a name="start-and-use-the-database-engine-tuning-advisor"></a><span data-ttu-id="7e8e6-102">Démarrer et utiliser l'Assistant Paramétrage du moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="7e8e6-102">Start and Use the Database Engine Tuning Advisor</span></span>
  <span data-ttu-id="7e8e6-103">Cette rubrique décrit comment démarrer et utiliser l'Assistant Paramétrage du moteur de base de données dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-103">This topic describes how to start and use Database Engine Tuning Advisor in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="7e8e6-104">Pour plus d’informations sur l’affichage et l’utilisation des résultats après avoir paramétré une base de données, consultez [Afficher et utiliser la sortie de l’Assistant Paramétrage du moteur de base de données](database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-104">For information about how to view and work with the results after you tune a database, see [View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md).</span></span>  
  
##  <a name="initialize-the-database-engine-tuning-advisor"></a><a name="Initialize"></a> <span data-ttu-id="7e8e6-105">Initialiser l'Assistant Paramétrage du moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="7e8e6-105">Initialize the Database Engine Tuning Advisor</span></span>  
 <span data-ttu-id="7e8e6-106">Pour la première utilisation, un utilisateur membre du rôle serveur fixe **sysadmin** doit initialiser l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-106">On first use, a user who is member of the **sysadmin** fixed server role must initialize the Database Engine Tuning Advisor.</span></span> <span data-ttu-id="7e8e6-107">Cela est dû au fait que plusieurs tables système doivent être créées dans la base de données `msdb` pour prendre en charge les opérations de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-107">This is because several system tables must be created in the `msdb` database to support tuning operations.</span></span> <span data-ttu-id="7e8e6-108">L’initialisation permet aussi aux utilisateurs membres du rôle de base de données fixe **db_owner** de paramétrer des charges de travail sur les tables des bases de données dont ils sont propriétaires.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-108">Initialization also enables users that are members of the **db_owner** fixed database role to tune workloads on tables in databases that they own.</span></span>  
  
 <span data-ttu-id="7e8e6-109">Un utilisateur disposant d'autorisations d'administrateur système doit exécuter l'une des actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-109">A user that has system administrator permissions must perform either of the following actions:</span></span>  
  
-   <span data-ttu-id="7e8e6-110">Utiliser l'interface utilisateur graphique de l'Assistant Paramétrage du moteur de base de données pour se connecter à une instance de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-110">Use the Database Engine Tuning Advisor graphical user interface to connect to an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="7e8e6-111">Pour plus d'informations, consultez [Démarrer l'Assistant Paramétrage du moteur de base de données](#Start) plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-111">For more information, see [Start the Database Engine Tuning Advisor](#Start) later in this topic.</span></span>  
  
-   <span data-ttu-id="7e8e6-112">Recourir à l’utilitaire **dta** pour paramétrer la première charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-112">Use the **dta** utility to tune the first workload.</span></span> <span data-ttu-id="7e8e6-113">Pour plus d'informations, consultez [Utilisation de l'utilitaire dta](#dta) , plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-113">For more information, see [Use the dta Utility](#dta) later in this topic.</span></span>  
  
##  <a name="start-the-database-engine-tuning-advisor"></a><a name="Start"></a> <span data-ttu-id="7e8e6-114">Démarrer l'Assistant Paramétrage du moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="7e8e6-114">Start the Database Engine Tuning Advisor</span></span>  
 <span data-ttu-id="7e8e6-115">Vous pouvez démarrer l'interface utilisateur graphique de l'Assistant Paramétrage du moteur de base de données de plusieurs façons différentes pour prendre en charge le paramétrage des bases de données dans de nombreux scénarios.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-115">You can start the Database Engine Tuning Advisor graphical user interface (GUI) in several different ways to support database tuning in a variety of scenarios.</span></span> <span data-ttu-id="7e8e6-116">L'Assistant Paramétrage du moteur de base de données peut être démarré : à partir du menu **Démarrer** , du menu **Outils** dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], de l'éditeur de requête dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], et du menu **Outils** dans [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-116">The different ways to start Database Engine Tuning Advisor include: from the **Start** menu, from the **Tools** menu in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], from the Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and from the **Tools** menu in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span></span> <span data-ttu-id="7e8e6-117">Lorsque vous démarrez l'Assistant Paramétrage du moteur de base de données pour la première fois, l'application affiche une boîte de dialogue **Se connecter au serveur** dans laquelle vous pouvez spécifier l'instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à laquelle vous souhaitez vous connecter.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-117">When you first start Database Engine Tuning Advisor, the application displays a **Connect to Server** dialog box where you can specify the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance to which you want to connect.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="7e8e6-118">Ne démarrez pas l'Assistant Paramétrage du moteur de base de données lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] est exécuté en mode mono-utilisateur.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-118">Do not start Database Engine Tuning Advisor when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running in single-user mode.</span></span> <span data-ttu-id="7e8e6-119">Si vous tentez de le démarrer alors que le serveur est en mode mono-utilisateur, une erreur est renvoyée et l'Assistant ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-119">If you attempt to start it while the server is in single-user mode, an error will be returned and Database Engine Tuning Advisor will not start.</span></span> <span data-ttu-id="7e8e6-120">Pour plus d’informations sur le mode mono-utilisateur, consultez [Démarrer SQL Server en mode mono-utilisateur](../../database-engine/configure-windows/start-sql-server-in-single-user-mode.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-120">For more information about single-user mode, see [Start SQL Server in Single-User Mode](../../database-engine/configure-windows/start-sql-server-in-single-user-mode.md).</span></span>  
  
#### <a name="to-start-database-engine-tuning-advisor-from-the-windows-start-menu"></a><span data-ttu-id="7e8e6-121">Pour démarrer l'Assistant Paramétrage du moteur de base de données à partir du menu Démarrer de Windows</span><span class="sxs-lookup"><span data-stu-id="7e8e6-121">To start Database Engine Tuning Advisor from the Windows Start menu</span></span>  
  
1.  <span data-ttu-id="7e8e6-122">Dans le menu **Démarrer** , pointez sur **Tous les programmes**, sur **Microsoft SQL Server**, sur **Outils de performances**, puis cliquez sur **Assistant Paramétrage du moteur de base de données**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-122">On the **Start** menu, point to **All Programs**, point to **Microsoft SQL Server**, point to **Performance Tools**, and then click **Database Engine Tuning Advisor**.</span></span>  
  
#### <a name="to-start-the-database-engine-tuning-advisor-in-sql-server-management-studio"></a><span data-ttu-id="7e8e6-123">Pour démarrer l'Assistant Paramétrage du moteur de base de données dans SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="7e8e6-123">To start the Database Engine Tuning Advisor in SQL Server Management Studio</span></span>  
  
1.  <span data-ttu-id="7e8e6-124">Dans le menu **Outils** de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], cliquez sur **Assistant Paramétrage du moteur de base de données**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-124">On the [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] **Tools** menu, click **Database Engine Tuning Advisor**.</span></span>  
  
#### <a name="to-start-the-database-engine-tuning-advisor-from-the-sql-server-management-studio-query-editor"></a><span data-ttu-id="7e8e6-125">Pour démarrer l'Assistant Paramétrage du moteur de base de données à partir de l'Éditeur de requête SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="7e8e6-125">To start the Database Engine Tuning Advisor from the SQL Server Management Studio Query Editor</span></span>  
  
1.  <span data-ttu-id="7e8e6-126">Ouvrez un fichier de script [!INCLUDE[tsql](../../includes/tsql-md.md)] dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-126">Open a [!INCLUDE[tsql](../../includes/tsql-md.md)] script file in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="7e8e6-127">Pour plus d’informations, consultez [Éditeurs de texte et de requête &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-127">For more information, see [Query and Text Editors &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span></span>  
  
2.  <span data-ttu-id="7e8e6-128">Sélectionnez une requête dans le script [!INCLUDE[tsql](../../includes/tsql-md.md)] ou sélectionnez le script en entier, cliquez avec le bouton droit sur la sélection, puis choisissez **Analyser la requête dans l’Assistant Paramétrage de base de données**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-128">Select a query in the [!INCLUDE[tsql](../../includes/tsql-md.md)] script, or select the entire script, right-click the selection, and choose **Analyze Query in Database Engine Tuning Advisor**.</span></span> <span data-ttu-id="7e8e6-129">L'interface utilisateur graphique de l'Assistant Paramétrage du moteur de base de données s'ouvre et importe le script sous forme de charge de travail de fichier XML.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-129">The Database Engine Tuning Advisor GUI opens and imports the script as an XML file workload.</span></span> <span data-ttu-id="7e8e6-130">Vous pouvez spécifier un nom de session et des options de paramétrage pour paramétrer les requêtes [!INCLUDE[tsql](../../includes/tsql-md.md)] sélectionnées en tant que charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-130">You can specify a session name and tuning options to tune the selected [!INCLUDE[tsql](../../includes/tsql-md.md)] queries as your workload.</span></span>  
  
#### <a name="to-start-the-database-engine-tuning-advisor-in-sql-server-profiler"></a><span data-ttu-id="7e8e6-131">Pour démarrer l'Assistant Paramétrage du moteur de base de données dans le Générateur de profils SQL Server Profiler</span><span class="sxs-lookup"><span data-stu-id="7e8e6-131">To start the Database Engine Tuning Advisor in SQL Server Profiler</span></span>  
  
1.  <span data-ttu-id="7e8e6-132">Dans le menu **Outils** du Générateur de profils SQL Server Profiler, cliquez sur **Assistant Paramétrage du moteur de base de données**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-132">On the SQL Server Profiler **Tools** menu, click **Database Engine Tuning Advisor**.</span></span>  
  
##  <a name="create-a-workload"></a><a name="Create"></a> <span data-ttu-id="7e8e6-133">Créer une charge de travail</span><span class="sxs-lookup"><span data-stu-id="7e8e6-133">Create a Workload</span></span>  
 <span data-ttu-id="7e8e6-134">Une charge de travail est un ensemble d'instructions [!INCLUDE[tsql](../../includes/tsql-md.md)] qui s'exécute sur une ou plusieurs bases de données que vous souhaitez paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-134">A workload is a set of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that execute against a database or databases that you want to tune.</span></span> <span data-ttu-id="7e8e6-135">L'Assistant Paramétrage du moteur de base de données analyse ces charges de travail pour recommander des index ou des stratégies de partitionnement qui amélioreront les performances des requêtes de votre serveur.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-135">Database Engine Tuning Advisor analyzes these workloads to recommend indexes or partitioning strategies that will improve your server's query performance.</span></span>  
  
 <span data-ttu-id="7e8e6-136">Vous pouvez créer une charge de travail à l'aide de l'une des méthodes suivantes.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-136">You can create a workload by using one of the following methods.</span></span>  
  
-   <span data-ttu-id="7e8e6-137">Utilisez le cache du plan comme charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-137">Use the plan cache as a workload.</span></span> <span data-ttu-id="7e8e6-138">Vous pouvez ainsi éviter d'avoir à créer manuellement une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-138">By doing this, you can avoid having to manually create a workload.</span></span> <span data-ttu-id="7e8e6-139">Pour plus d'informations, consultez [Paramétrer une base de données](#Tune) , plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-139">For more information, see [Tune a Database](#Tune) later in this topic.</span></span>  
  
-   <span data-ttu-id="7e8e6-140">Utilisez l'Éditeur de requête de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ou votre éditeur de texte préféré pour créer manuellement des charges de travail par script [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-140">Use the Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or your favorite text editor to manually create [!INCLUDE[tsql](../../includes/tsql-md.md)] script workloads.</span></span>  
  
-   <span data-ttu-id="7e8e6-141">Utilisez [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] pour créer des charges de travail par fichier de trace ou par table de trace.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-141">Use [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] to create trace file or trace table workloads</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="7e8e6-142">Lors de l'utilisation d'une table de trace comme charge de travail, cette table doit exister sur le même serveur que celui où l'Assistant Paramétrage du moteur de base de données effectue le paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-142">When using a trace table as a workload, that table must exist on the same server where Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="7e8e6-143">Si vous créez une table de trace sur un autre serveur, alors déplacez-la sur celui où l'Assistant Paramétrage du moteur de base de données effectue le paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-143">If you create the trace table on a different server, then move it to the server where Database Engine Tuning Advisor is tuning.</span></span>  
  
-   <span data-ttu-id="7e8e6-144">Les charges de travail peuvent également être intégrées à un fichier d'entrée XML, où vous pouvez également spécifier un poids pour chaque événement.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-144">Workloads can also be embedded in an XML input file, where you can also specify a weight for each event.</span></span> <span data-ttu-id="7e8e6-145">Pour plus d'informations sur la spécification des charges de travail incorporées, consultez [Créer un fichier d'entrée XML](#XMLInput) plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-145">For more information about specifying embedded workloads, see [Create an XML Input File](#XMLInput) later in this topic.</span></span>  
  
###  <a name="to-create-transact-sql-script-workloads"></a><a name="SSMS"></a> <span data-ttu-id="7e8e6-146">Pour créer des charges de travail par script Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="7e8e6-146">To create Transact-SQL script workloads</span></span>  
  
1.  <span data-ttu-id="7e8e6-147">Lancez l'éditeur de requête dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-147">Launch the Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="7e8e6-148">Pour plus d’informations, consultez [Éditeurs de texte et de requête &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-148">For more information, see [Query and Text Editors &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span></span>  
  
2.  <span data-ttu-id="7e8e6-149">Tapez votre script [!INCLUDE[tsql](../../includes/tsql-md.md)] dans l'éditeur de requête.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-149">Type your [!INCLUDE[tsql](../../includes/tsql-md.md)] script into the Query Editor.</span></span> <span data-ttu-id="7e8e6-150">Ce script doit contenir un ensemble d'instructions [!INCLUDE[tsql](../../includes/tsql-md.md)] qui s'exécutent sur la ou les bases de données que vous voulez paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-150">This script should contain a set of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that execute against the database or databases that you want to tune.</span></span>  
  
3.  <span data-ttu-id="7e8e6-151">Enregistrez le fichier avec une extension **.sql** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-151">Save the file with a **.sql** extension.</span></span> <span data-ttu-id="7e8e6-152">L’interface utilisateur graphique de l’Assistant Paramétrage du moteur de base de données et l’utilitaire en ligne de commande **dta** peuvent utiliser ce script [!INCLUDE[tsql](../../includes/tsql-md.md)] comme charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-152">The Database Engine Tuning Advisor GUI and the command-line **dta** utility can use this [!INCLUDE[tsql](../../includes/tsql-md.md)] script as a workload.</span></span>  
  
###  <a name="to-create-trace-file-and-trace-table-workloads"></a><a name="Profiler"></a> <span data-ttu-id="7e8e6-153">Pour créer des charges de travail par fichier de trace et par table de trace</span><span class="sxs-lookup"><span data-stu-id="7e8e6-153">To create trace file and trace table workloads</span></span>  
  
1.  <span data-ttu-id="7e8e6-154">Lancez le [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] au moyen de l'une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-154">Launch [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] by using one of the following methods:</span></span>  
  
    -   <span data-ttu-id="7e8e6-155">Dans le menu **Démarrer** , pointez sur **Tous les programmes**, sur **Microsoft SQL Server**, sur **Outils de performances**, puis cliquez sur **SQL Server Profiler**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-155">On the **Start** menu, point to **All Programs**, **Microsoft SQL Server**, **Performance Tools**, and then click **SQL Server Profiler**.</span></span>  
  
    -   <span data-ttu-id="7e8e6-156">Dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], cliquez sur le menu **Outils** , puis sur **SQL Server Profiler**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-156">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], click the **Tools** menu, and then click **SQL Server Profiler**.</span></span>  
  
2.  <span data-ttu-id="7e8e6-157">Créez un fichier ou une table de trace comme décrit dans les procédures suivantes, qui utilise le modèle **Réglage** de [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-157">Create a trace file or table as described in the following procedures that uses the [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] **Tuning** template:</span></span>  
  
    -   [<span data-ttu-id="7e8e6-158">Créer une trace &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="7e8e6-158">Create a Trace &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/create-a-trace-sql-server-profiler.md)  
  
    -   [<span data-ttu-id="7e8e6-159">Enregistrer des résultats d’une trace dans un fichier &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="7e8e6-159">Save Trace Results to a File &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/save-trace-results-to-a-file-sql-server-profiler.md)  
  
         <span data-ttu-id="7e8e6-160">L'Assistant Paramétrage du moteur de base de données suppose que le fichier de trace de la charge de travail est un fichier de substitution.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-160">Database Engine Tuning Advisor assumes that the workload trace file is a rollover file.</span></span> <span data-ttu-id="7e8e6-161">Pour plus d'informations sur les fichiers de substitution, consultez [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-161">For more information about rollover files, see [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span></span>  
  
    -   [<span data-ttu-id="7e8e6-162">Enregistrer des résultats d’une trace dans une table &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="7e8e6-162">Save Trace Results to a Table &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/save-trace-results-to-a-table-sql-server-profiler.md)  
  
         <span data-ttu-id="7e8e6-163">Vérifiez que le suivi de trace s'est arrêté avant d'utiliser une table de trace en tant que charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-163">Make sure that tracing has stopped before using a trace table as a workload.</span></span>  
  
 <span data-ttu-id="7e8e6-164">Il est recommandé d'utiliser le modèle Tuning de SQL Server Profiler pour capturer les charges de travail pour l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-164">We recommend that you use the SQL Server Profiler Tuning template for capturing workloads for Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="7e8e6-165">Si vous souhaitez utiliser votre propre modèle, vérifiez que les événements de trace suivants sont capturés :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-165">If you want to use your own template, ensure that the following trace events are captured:</span></span>  
  
-   <span data-ttu-id="7e8e6-166">**RPC:Completed**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-166">**RPC:Completed**</span></span>  
  
-   <span data-ttu-id="7e8e6-167">**SQL:BatchCompleted**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-167">**SQL:BatchCompleted**</span></span>  
  
-   <span data-ttu-id="7e8e6-168">**SP:StmtCompleted**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-168">**SP:StmtCompleted**</span></span>  
  
 <span data-ttu-id="7e8e6-169">Vous pouvez également utiliser les versions **Starting** de ces événements trace.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-169">You can also use the **Starting** versions of these trace events.</span></span> <span data-ttu-id="7e8e6-170">Par exemple, **SQL:BatchStarting**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-170">For example, **SQL:BatchStarting**.</span></span> <span data-ttu-id="7e8e6-171">Toutefois, les versions **Completed** de ces événements trace contiennent la colonne **Duration** , qui permet à l'Assistant Paramétrage du moteur de base de données de paramétrer plus efficacement la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-171">However, the **Completed** versions of these trace events include the **Duration** column, which allows Database Engine Tuning Advisor to more effectively tune the workload.</span></span> <span data-ttu-id="7e8e6-172">L'Assistant Paramétrage du moteur de base de données ne paramètre pas d'autres types d'événements trace.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-172">Database Engine Tuning Advisor does not tune other types of trace events.</span></span> <span data-ttu-id="7e8e6-173">Pour plus d'informations sur ces événements trace, consultez [Stored Procedures Event Category](../event-classes/stored-procedures-event-category.md) et [TSQL Event Category](../event-classes/tsql-event-category.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-173">For more information about these trace events, see [Stored Procedures Event Category](../event-classes/stored-procedures-event-category.md) and [TSQL Event Category](../event-classes/tsql-event-category.md).</span></span> <span data-ttu-id="7e8e6-174">Pour plus d’informations sur l’utilisation des procédures stockées Trace SQL pour créer une charge de travail par fichier de trace, consultez [Créer une trace &#40;Transact-SQL&#41;](../sql-trace/create-a-trace-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-174">For information about using the SQL Trace stored procedures to create a trace file workload, see [Create a Trace &#40;Transact-SQL&#41;](../sql-trace/create-a-trace-transact-sql.md).</span></span>  
  
### <a name="trace-file-or-trace-table-workloads-that-contain-the-loginname-data-column"></a><span data-ttu-id="7e8e6-175">Charges de travail de fichiers ou de tables de trace contenant la colonne de données LoginName</span><span class="sxs-lookup"><span data-stu-id="7e8e6-175">Trace File or Trace Table Workloads That Contain the LoginName Data Column</span></span>  
 <span data-ttu-id="7e8e6-176">L'Assistant Paramétrage du moteur de base de données soumet les requêtes Showplan dans le cadre du processus de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-176">Database Engine Tuning Advisor submits Showplan requests as part of the tuning process.</span></span> <span data-ttu-id="7e8e6-177">Lorsqu'un fichier ou une table de trace contenant la colonne de données **LoginName** est consommé comme charge de travail, l'Assistant Paramétrage du moteur de base de données emprunte l'identité de l'utilisateur spécifié dans **LoginName**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-177">When a trace table or file that contains the **LoginName** data column is consumed as a workload, Database Engine Tuning Advisor impersonates the user specified in **LoginName**.</span></span> <span data-ttu-id="7e8e6-178">Si cet utilisateur ne détient pas l'autorisation SHOWPLAN qui lui permet d'exécuter et de produire des Showplans pour les instructions contenues dans la trace, l'Assistant Paramétrage du moteur de base de données ne paramètre pas ces instructions.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-178">If this user has not been granted the SHOWPLAN permission, which enables the user to execute and produce Showplans for the statements contained in the trace, Database Engine Tuning Advisor will not tune those statements.</span></span>  
  
##### <a name="to-avoid-granting-the-showplan-permission-to-each-user-specified-in-the-loginname-column-of-the-trace"></a><span data-ttu-id="7e8e6-179">Pour éviter d'avoir à octroyer l'autorisation SHOWPLAN à chaque utilisateur spécifié dans la colonne LoginName de la trace</span><span class="sxs-lookup"><span data-stu-id="7e8e6-179">To avoid granting the SHOWPLAN permission to each user specified in the LoginName column of the trace</span></span>  
  
1.  <span data-ttu-id="7e8e6-180">Paramétrez la charge de travail de fichier de trace et de table de trace.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-180">Tune the trace file or table workload.</span></span> <span data-ttu-id="7e8e6-181">Pour plus d'informations, consultez [Paramétrer une base de données](#Tune) , plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-181">For more information, see [Tune a Database](#Tune) later in this topic.</span></span>  
  
2.  <span data-ttu-id="7e8e6-182">Contrôlez dans le journal de paramétrage quelles instructions n'ont pas été paramétrées en raison d'autorisations inadéquates.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-182">Check the tuning log for statements that were not tuned due to inadequate permissions.</span></span> <span data-ttu-id="7e8e6-183">Pour plus d’informations, consultez [Afficher et utiliser la sortie de l’Assistant Paramétrage du moteur de base de données](database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-183">For more information, see [View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md).</span></span>  
  
3.  <span data-ttu-id="7e8e6-184">Créez une nouvelle charge de travail en supprimant la colonne **LoginName** dans les événements qui n'ont pas été paramétrés, puis sauvegardez uniquement les événements non paramétrés dans un nouveau fichier de trace ou une nouvelle table de trace.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-184">Create a new workload by deleting the **LoginName** column from the events that were not tuned, and then save only the untuned events in a new trace file or table.</span></span> <span data-ttu-id="7e8e6-185">Pour plus d’informations sur la suppression des colonnes de données à partir d’une trace, consultez [Spécifier les événements et les colonnes de données d’un fichier de trace &#40;SQL Server Profiler&#41;](../../tools/sql-server-profiler/specify-events-and-data-columns-for-a-trace-file-sql-server-profiler.md) ou [Modifier une trace existante &#40;Transact-SQL&#41;](../sql-trace/modify-an-existing-trace-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-185">For more information about deleting data columns from a trace, see [Specify Events and Data Columns for a Trace File &#40;SQL Server Profiler&#41;](../../tools/sql-server-profiler/specify-events-and-data-columns-for-a-trace-file-sql-server-profiler.md) or [Modify an Existing Trace &#40;Transact-SQL&#41;](../sql-trace/modify-an-existing-trace-transact-sql.md).</span></span>  
  
4.  <span data-ttu-id="7e8e6-186">Soumettez de nouveau la nouvelle charge de travail sans la colonne **LoginName** à l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-186">Resubmit the new workload without the **LoginName** column to Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="7e8e6-187">L'Assistant Paramétrage du moteur de base de données va procéder au paramétrage de cette nouvelle charge de travail, parce qu'aucune information de connexion n'est spécifiée dans la trace.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-187">Database Engine Tuning Advisor will tune the new workload because login information is not specified in the trace.</span></span> <span data-ttu-id="7e8e6-188">S’il n’existe pas de **LoginName** pour une instruction, l’Assistant Paramétrage du moteur de base de données paramètre cette instruction en empruntant l’identité de l’utilisateur qui a démarré la session de paramétrage (membre du rôle serveur fixe **sysadmin** ou du rôle de base de données fixe **db_owner** ).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-188">If the **LoginName** does not exist for a statement, Database Engine Tuning Advisor tunes that statement by impersonating the user who started the tuning session (a member of either the **sysadmin** fixed server role or the **db_owner** fixed database role).</span></span>  
  
##  <a name="tune-a-database"></a><a name="Tune"></a> <span data-ttu-id="7e8e6-189">Paramétrer une base de données</span><span class="sxs-lookup"><span data-stu-id="7e8e6-189">Tune a Database</span></span>  
 <span data-ttu-id="7e8e6-190">Pour paramétrer une base de données, vous pouvez travailler dans l'interface utilisateur graphique de l'Assistant Paramétrage du moteur de base de données ou dans l'utilitaire **dta** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-190">To tune a database, you can use the Database Engine Tuning Advisor GUI or the **dta** utility.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7e8e6-191">Assurez-vous que la trace est terminée avant d'utiliser une table de trace en tant que charge de travail pour l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-191">Make sure that tracing has stopped before using a trace table as a workload for Database Engine Tuning Advisor.</span></span> <span data-ttu-id="7e8e6-192">L'Assistant Paramétrage du moteur de base de données ne permet pas d'utiliser comme charge de travail une table de trace dans laquelle des événements de trace sont en cours d'écriture.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-192">Database Engine Tuning Advisor does not support using a trace table to which trace events are still being written as a workload.</span></span>  
  
### <a name="use-the-database-engine-tuning-advisor-graphical-user-interface"></a><span data-ttu-id="7e8e6-193">Travailler dans l'interface utilisateur graphique de l'Assistant Paramétrage du moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="7e8e6-193">Use the Database Engine Tuning Advisor Graphical User Interface</span></span>  
 <span data-ttu-id="7e8e6-194">Dans l'interface utilisateur graphique de l'Assistant Paramétrage du moteur de base de données, vous pouvez paramétrer une base de données au moyen du cache du plan, de fichiers de charge de travail ou de tables de charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-194">On the Database Engine Tuning Advisor GUI, you can tune a database by using the plan cache, workload files, or workload tables.</span></span> <span data-ttu-id="7e8e6-195">Vous pouvez utiliser l'interface utilisateur graphique de l'Assistant Paramétrage du moteur de base de données pour visualiser de façon simple les résultats de votre session de paramétrage en cours et des sessions précédentes.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-195">You can use the Database Engine Tuning Advisor GUI to easily view the results of your current tuning session and results of previous tuning sessions.</span></span> <span data-ttu-id="7e8e6-196">Pour plus d'informations sur les options de l'interface utilisateur, consultez [Descriptions de l'interface utilisateur](#UI) plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-196">For information about user interface options, see [User Interface Descriptions](#UI) later in this topic.</span></span> <span data-ttu-id="7e8e6-197">Pour plus d’informations sur l’utilisation des résultats après avoir paramétré une base de données, consultez [Afficher et utiliser la sortie de l’Assistant Paramétrage du moteur de base de données](database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-197">For more information about working with the output after you tune a database, see [View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md).</span></span>  
  
####  <a name="to-tune-a-database-by-using-the-plan-cache"></a><a name="PlanCache"></a> <span data-ttu-id="7e8e6-198">Pour paramétrer une base de données à l'aide du cache du plan</span><span class="sxs-lookup"><span data-stu-id="7e8e6-198">To tune a database by using the plan cache</span></span>  
  
1.  <span data-ttu-id="7e8e6-199">Lancez l'Assistant Paramétrage du moteur de base de données, puis connectez-vous à une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-199">Launch Database Engine Tuning Advisor, and log into an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="7e8e6-200">Pour plus d'informations, consultez [Démarrer l'Assistant Paramétrage du moteur de base de données](#Start) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-200">For more information, see [Start the Database Engine Tuning Advisor](#Start) earlier in this topic.</span></span>  
  
2.  <span data-ttu-id="7e8e6-201">Sous l'onglet **Général** , tapez un nom dans la zone **Nom de session** pour créer une nouvelle session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-201">On the **General** tab, type a name in **Session name** to create a new tuning session.</span></span> <span data-ttu-id="7e8e6-202">Vous devez configurer les champs figurant sous l'onglet **Général** avant de démarrer une session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-202">You must configure the fields in the **General** tab before starting a tuning session.</span></span> <span data-ttu-id="7e8e6-203">Il n'est pas nécessaire de modifier les paramètres de l'onglet **Options de paramétrage** avant de lancer une session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-203">It is not necessary to modify the settings of the **Tuning Options** tab before starting a tuning session.</span></span>  
  
3.  <span data-ttu-id="7e8e6-204">Sélectionnez **Cache du plan** comme option de charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-204">Select **Plan Cache** as the workload option.</span></span> <span data-ttu-id="7e8e6-205">L'Assistant Paramétrage du moteur de base de données sélectionne les 1 000 principaux événements du cache du plan à utiliser pour l'analyse.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-205">Database Engine Tuning Advisor selects the top 1,000 events from the plan cache to use for analysis.</span></span>  
  
4.  <span data-ttu-id="7e8e6-206">Sélectionnez la ou les bases de données à paramétrer et, éventuellement, choisissez une ou plusieurs tables de chaque base de données dans **Tables sélectionnées**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-206">Select the database or databases that you want to tune, and optionally from **Selected Tables**, choose one or more tables from each database.</span></span> <span data-ttu-id="7e8e6-207">Pour inclure des entrées du cache pour toutes les bases de données, dans **Options de paramétrage**, cliquez sur **Options avancées** et activez la case à cocher **Inclure les événements du cache du plan de toutes les bases de données**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-207">To include cache entries for all databases, from **Tuning Options**, click **Advanced Options** and then check **Include plan cache events from all databases**.</span></span>  
  
5.  <span data-ttu-id="7e8e6-208">Activez la case à cocher **Enregistrer le journal de paramétrage** pour enregistrer une copie du journal de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-208">Check **Save tuning log** to save a copy of the tuning log.</span></span> <span data-ttu-id="7e8e6-209">Désactivez-la si vous ne souhaitez pas en enregistrer une copie.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-209">Clear the check box if you do not want to save a copy of the tuning log.</span></span>  
  
     <span data-ttu-id="7e8e6-210">Vous pouvez consulter le journal de paramétrage en ouvrant la session et en sélectionnant l'onglet **Progression** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-210">You can view the tuning log after analysis by opening the session and selecting the **Progress** tab.</span></span>  
  
6.  <span data-ttu-id="7e8e6-211">Cliquez sur l'onglet **Options de paramétrage** , puis effectuez une sélection parmi les options proposées.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-211">Click the **Tuning Options** tab and select from the options listed there.</span></span>  
  
7.  <span data-ttu-id="7e8e6-212">Cliquez sur **Démarrer l'analyse**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-212">Click **Start Analysis**.</span></span>  
  
     <span data-ttu-id="7e8e6-213">Si vous souhaitez arrêter la session de paramétrage après son démarrage, choisissez une des options suivantes dans le menu **Actions** :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-213">If you want to stop the tuning session after it has started, choose one of the following options on the **Actions** menu:</span></span>  
  
    -   <span data-ttu-id="7e8e6-214">**Arrêter l’analyse (avec recommandations)** arrête la session de paramétrage et vous demande de spécifier si l’Assistant Paramétrage du moteur de base de données doit générer des recommandations sur la base de l’analyse réalisée jusqu’à ce point.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-214">**Stop Analysis (With Recommendations)** stops the tuning session and prompts you to decide whether you want Database Engine Tuning Advisor to generate recommendations based on the analysis done up to this point.</span></span>  
  
    -   <span data-ttu-id="7e8e6-215">**Arrêter l'analyse** arrête la session de paramétrage sans générer de recommandation.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-215">**Stop Analysis** stops the tuning session without generating any recommendations.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7e8e6-216">La suspension de l'Assistant Paramétrage du moteur de base de données n'est pas acceptée.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-216">Pausing Database Engine Tuning Advisor is not supported.</span></span> <span data-ttu-id="7e8e6-217">Si vous cliquez sur le bouton de barre d’outils **Démarrer l’analyse** après avoir cliqué soit sur **Arrêter l’analyse** soit sur **Arrêter l’analyse (avec recommandations)** , l’Assistant Paramétrage du moteur de base de données démarre une nouvelle session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-217">If you click the **Start Analysis** toolbar button after clicking either the **Stop Analysis** or **Stop Analysis (With Recommendations)** toolbar buttons, Database Engine Tuning Advisor starts a new tuning session.</span></span>  
  
##### <a name="to-tune-a-database-using-a-workload-file-or-table-as-input"></a><span data-ttu-id="7e8e6-218">Pour paramétrer une base de données en utilisant un fichier ou une table de charge de travail comme entrée</span><span class="sxs-lookup"><span data-stu-id="7e8e6-218">To tune a database using a workload file or table as input</span></span>  
  
1.  <span data-ttu-id="7e8e6-219">Déterminez les fonctionnalités de base de données (index, vues indexées, partitionnement) que l'Assistant Paramétrage du moteur de base de données doit ajouter, supprimer ou conserver pendant l'analyse.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-219">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="7e8e6-220">Créez une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-220">Create a workload.</span></span> <span data-ttu-id="7e8e6-221">Pour plus d'informations, consultez [Créer une charge de travail](#Create) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-221">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="7e8e6-222">Lancez l’Assistant Paramétrage du moteur de base de données, puis connectez-vous à une instance de [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-222">Launch Database Engine Tuning Advisor, and log into an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="7e8e6-223">Pour plus d'informations, consultez [Démarrer l'Assistant Paramétrage du moteur de base de données](#Start) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-223">For more information, see [Start the Database Engine Tuning Advisor](#Start) earlier in this topic.</span></span>  
  
4.  <span data-ttu-id="7e8e6-224">Sous l'onglet **Général** , tapez un nom dans la zone **Nom de session** pour créer une nouvelle session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-224">On the **General** tab, type a name in **Session name** to create a new tuning session.</span></span>  
  
5.  <span data-ttu-id="7e8e6-225">Choisissez **Fichier de charge de travail** ou **Table de charge de travail** , puis tapez le chemin d'accès au fichier ou le nom de la table dans la zone de texte adjacente.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-225">Choose either a **Workload File** or **Table** and type either the path to the file, or the name of the table in the adjacent text box.</span></span>  
  
     <span data-ttu-id="7e8e6-226">La table doit être spécifiée dans le format suivant :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-226">The format for specifying a table is</span></span>  
  
    ```  
  
    database_name.schema_name.table_name  
    ```  
  
     <span data-ttu-id="7e8e6-227">Pour rechercher un fichier ou une table de charge de travail, cliquez sur **Parcourir**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-227">To search for a workload file or table, click **Browse**.</span></span> <span data-ttu-id="7e8e6-228">L'Assistant Paramétrage du moteur de base de données part de l'hypothèse que les fichiers de charge de travail sont des fichiers de substitution.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-228">Database Engine Tuning Advisor assumes that workload files are rollover files.</span></span> <span data-ttu-id="7e8e6-229">Pour plus d'informations sur les fichiers de substitution, consultez [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-229">For more information about rollover files, see [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span></span>  
  
     <span data-ttu-id="7e8e6-230">Lorsque vous utilisez une table de trace comme charge de travail, cette table doit exister sur le serveur en cours de paramétrage par l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-230">When using a trace table as a workload, that table must exist on the same server that Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="7e8e6-231">Si vous créez la table de trace sur un autre serveur, déplacez-le sur le serveur que paramètre l'Assistant Paramétrage du moteur de base de données avant de l'utiliser comme charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-231">If you create the trace table on a different server, move it to the server that Database Engine Tuning Advisor is tuning before using it as your workload.</span></span>  
  
6.  <span data-ttu-id="7e8e6-232">Sélectionnez les bases de données et tables auxquelles vous souhaitez appliquer la charge de travail sélectionnée à l'étape 5.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-232">Select the databases and tables against which you wish to run the workload that you selected in step 5.</span></span> <span data-ttu-id="7e8e6-233">Pour sélectionner les tables, cliquez sur la flèche **Tables sélectionnées** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-233">To select the tables, click the **Selected Tables** arrow.</span></span>  
  
7.  <span data-ttu-id="7e8e6-234">Activez la case à cocher **Enregistrer le journal de paramétrage** pour enregistrer une copie du journal de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-234">Check **Save tuning log** to save a copy of the tuning log.</span></span> <span data-ttu-id="7e8e6-235">Désactivez-la si vous ne souhaitez pas en enregistrer une copie.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-235">Clear the check box if you do not want to save a copy of the tuning log.</span></span>  
  
     <span data-ttu-id="7e8e6-236">Vous pouvez consulter le journal de paramétrage en ouvrant la session et en sélectionnant l'onglet **Progression** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-236">You can view the tuning log after analysis by opening the session and selecting the **Progress** tab.</span></span>  
  
8.  <span data-ttu-id="7e8e6-237">Cliquez sur l'onglet **Options de paramétrage** , puis effectuez une sélection parmi les options proposées.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-237">Click the **Tuning Options** tab and select from the options listed there.</span></span>  
  
9. <span data-ttu-id="7e8e6-238">Cliquez sur le bouton **Démarrer l'analyse** situé dans la barre d'outils.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-238">Click the **Start Analysis** button in the toolbar.</span></span>  
  
     <span data-ttu-id="7e8e6-239">Si vous souhaitez arrêter la session de paramétrage après son démarrage, choisissez une des options suivantes dans le menu **Actions** :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-239">If you want to stop the tuning session after it has started, choose one of the following options on the **Actions** menu:</span></span>  
  
    -   <span data-ttu-id="7e8e6-240">**Arrêter l’analyse (avec recommandations)** arrête la session de paramétrage et vous demande de spécifier si l’Assistant Paramétrage du moteur de base de données doit générer des recommandations sur la base de l’analyse réalisée jusqu’à ce point.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-240">**Stop Analysis (With Recommendations)** stops the tuning session and prompts you to decide whether you want Database Engine Tuning Advisor to generate recommendations based on the analysis done up to this point.</span></span>  
  
    -   <span data-ttu-id="7e8e6-241">**Arrêter l'analyse** arrête la session de paramétrage sans générer de recommandation.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-241">**Stop Analysis** stops the tuning session without generating any recommendations.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7e8e6-242">La suspension de l'Assistant Paramétrage du moteur de base de données n'est pas acceptée.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-242">Pausing Database Engine Tuning Advisor is not supported.</span></span> <span data-ttu-id="7e8e6-243">Si vous cliquez sur le bouton de barre d’outils **Démarrer l’analyse** après avoir cliqué soit sur **Arrêter l’analyse** soit sur **Arrêter l’analyse (avec recommandations)** , l’Assistant Paramétrage du moteur de base de données démarre une nouvelle session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-243">If you click the **Start Analysis** toolbar button after clicking either the **Stop Analysis** or **Stop Analysis (With Recommendations)** toolbar buttons, Database Engine Tuning Advisor starts a new tuning session.</span></span>  
  
###  <a name="use-the-dta-utility"></a><a name="dta"></a> <span data-ttu-id="7e8e6-244">Utilisation de l'utilitaire dta</span><span class="sxs-lookup"><span data-stu-id="7e8e6-244">Use the dta Utility</span></span>  
 <span data-ttu-id="7e8e6-245">L' [utilitaire dta](../../tools/dta/dta-utility.md) fournit un fichier exécutable d'invite de commandes qui vous permet de paramétrer des bases de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-245">The [dta utility](../../tools/dta/dta-utility.md) provides a command prompt executable file that you can use to tune databases.</span></span> <span data-ttu-id="7e8e6-246">Il vous permet d'utiliser l'Assistant Paramétrage du moteur de base de données dans les scripts et les fichiers de commandes.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-246">It enables you to use Database Engine Tuning Advisor functionality in batch files and scripts.</span></span> <span data-ttu-id="7e8e6-247">L’utilitaire **dta** accepte les entrées de cache du plan, les fichiers de trace, les tables de trace et les scripts [!INCLUDE[tsql](../../includes/tsql-md.md)] en tant que charges de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-247">The **dta** utility takes plan cache entries, trace files, trace tables, and [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts as workloads.</span></span> <span data-ttu-id="7e8e6-248">Il accepte également les entrées XML qui sont conformes aux schéma XML de l'Assistant Paramétrage du moteur de base de données, qui est disponible sur ce [site Web de Microsoft](https://go.microsoft.com/fwlink/?linkid=43100).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-248">It also takes XML input that conforms to the Database Engine Tuning Advisor XML schema, which is available at this [Microsoft Web site](https://go.microsoft.com/fwlink/?linkid=43100).</span></span>  
  
 <span data-ttu-id="7e8e6-249">Prenez en considération les points suivants avant de paramétrer une charge de travail à l’aide de l’utilitaire **dta** :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-249">Consider the following before you begin tuning a workload with the **dta** utility:</span></span>  
  
-   <span data-ttu-id="7e8e6-250">Lorsque vous utilisez une table de trace comme charge de travail, cette table doit exister sur le serveur en cours de paramétrage par l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-250">When using a trace table as a workload, that table must exist on the same server that Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="7e8e6-251">Si vous créez la table de trace sur un autre serveur, vous devez ensuite la déplacer sur le serveur que l'Assistant Paramétrage du moteur de base de données est en train de paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-251">If you create the trace table on a different server, then move it to the server that Database Engine Tuning Advisor is tuning.</span></span>  
  
-   <span data-ttu-id="7e8e6-252">Assurez-vous que la trace est terminée avant d'utiliser une table de trace en tant que charge de travail pour l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-252">Make sure that tracing has stopped before using a trace table as a workload for Database Engine Tuning Advisor.</span></span> <span data-ttu-id="7e8e6-253">L'Assistant Paramétrage du moteur de base de données ne permet pas d'utiliser comme charge de travail une table de trace dans laquelle des événements de trace sont en cours d'écriture.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-253">Database Engine Tuning Advisor does not support using a trace table to which trace events are still being written as a workload.</span></span>  
  
-   <span data-ttu-id="7e8e6-254">Si une session de paramétrage s’exécute plus longtemps que prévu, vous pouvez appuyer sur Ctrl+C pour l’arrêter et générer des recommandations basées sur l’analyse effectuée à ce stade par l’utilitaire **dta** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-254">If a tuning session continues running longer than you had anticipated it would run, you can press CTRL+C to stop the tuning session and generate recommendations based on the analysis **dta** has completed up to this point.</span></span> <span data-ttu-id="7e8e6-255">Un message vous demande de déterminer si vous souhaitez générer ou non des recommandations.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-255">You will be prompted to decide whether you want to generate recommendations or not.</span></span> <span data-ttu-id="7e8e6-256">Appuyez de nouveau sur CTRL+C pour arrêter la session de réglage sans générer de recommandations.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-256">Press CTRL+C again to stop the tuning session without generating recommendations.</span></span>  
  
 <span data-ttu-id="7e8e6-257">Pour plus d’informations sur la syntaxe de l’utilitaire **dta** ainsi que des exemples, voir [dta Utility](../../tools/dta/dta-utility.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-257">For more information about **dta** utility syntax and examples, see [dta Utility](../../tools/dta/dta-utility.md).</span></span>  
  
##### <a name="to-tune-a-database-by-using-the-plan-cache"></a><span data-ttu-id="7e8e6-258">Pour paramétrer une base de données à l'aide du cache du plan</span><span class="sxs-lookup"><span data-stu-id="7e8e6-258">To tune a database by using the plan cache</span></span>  
  
1.  <span data-ttu-id="7e8e6-259">Spécifiez l’option **-ip** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-259">Specify the **-ip** option.</span></span> <span data-ttu-id="7e8e6-260">Les 1 000 premiers événements du cache du plan pour les bases de données sélectionnées sont analysés.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-260">The top 1,000 plan cache events for the selected databases are analyzed.</span></span>  
  
     <span data-ttu-id="7e8e6-261">À partir d'une invite de commandes, saisissez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-261">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -E -D DatabaseName -ip -s SessionName  
    ```  
  
2.  <span data-ttu-id="7e8e6-262">Pour modifier le nombre d’événements à utiliser pour l’analyse, spécifiez l’option **-n**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-262">To modify the number of events to use for analysis, specify the **-n** option.</span></span> <span data-ttu-id="7e8e6-263">L'exemple suivant augmente le nombre d'entrées du cache à 2 000.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-263">The following example increases the number of cache entries to 2,000.</span></span>  
  
    ```  
    dta -E -D DatabaseName -ip -n 2000-s SessionName1  
    ```  
  
3.  <span data-ttu-id="7e8e6-264">Pour analyser les événements pour toutes les bases de données de l’instance, spécifiez l’option **-ipf** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-264">To analyze events for all databases in the instance, specify the **-ipf** option.</span></span>  
  
    ```  
    dta -E -D DatabaseName -ip -ipf -n 2000 -s SessionName2  
    ```  
  
##### <a name="to-tune-a-database-by-using-a-workload-and-dta-utility-default-settings"></a><span data-ttu-id="7e8e6-265">Pour paramétrer une base de données en utilisant les paramètres par défaut d'une charge de travail et de l'utilitaire dta</span><span class="sxs-lookup"><span data-stu-id="7e8e6-265">To tune a database by using a workload and dta utility default settings</span></span>  
  
1.  <span data-ttu-id="7e8e6-266">Déterminez les fonctionnalités de base de données (index, vues indexées, partitionnement) que l'Assistant Paramétrage du moteur de base de données doit ajouter, supprimer ou conserver pendant l'analyse.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-266">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="7e8e6-267">Créez une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-267">Create a workload.</span></span> <span data-ttu-id="7e8e6-268">Pour plus d'informations, consultez [Créer une charge de travail](#Create) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-268">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="7e8e6-269">À partir d'une invite de commandes, saisissez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-269">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -E -D DatabaseName -if WorkloadFile -s SessionName  
    ```  
  
     <span data-ttu-id="7e8e6-270">où `-E` spécifie que la session de paramétrage utilise une connexion approuvée (au lieu d'un ID de connexion et d'un mot de passe), et `-D` indique le nom de la base de données à paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-270">where `-E` specifies that your tuning session uses a trusted connection (instead of a login ID and password), `-D` specifies the name of the database you want to tune.</span></span> <span data-ttu-id="7e8e6-271">Par défaut, l'utilitaire se connecte à l'instance par défaut de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sur l'ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-271">By default, the utility connects to the default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the local computer.</span></span> <span data-ttu-id="7e8e6-272">(Utilisez l'option `-S` pour spécifier une base de données distante, comme le montre la procédure suivante, ou pour spécifier une instance nommée.) L'option `-if` spécifie le nom et le chemin d'accès d'un fichier de charge de travail (qui peut être un script [!INCLUDE[tsql](../../includes/tsql-md.md)] ou un fichier de trace) tandis que l'option `-s` spécifie un nom pour la session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-272">(Use the `-S` option to specify a remote database as shown in the following procedure, or to specify a named instance.) The `-if` option specifies the name and path to a workload file (which can be a [!INCLUDE[tsql](../../includes/tsql-md.md)] script or a trace file), and `-s` specifies a name for your tuning session.</span></span>  
  
     <span data-ttu-id="7e8e6-273">Les quatre options indiquées ici (nom de base de données, charge de travail, type de connexion et nom de session) sont obligatoires.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-273">The four options shown here (database name, workload, connection type, and session name) are mandatory.</span></span>  
  
##### <a name="to-tune-a-remote-database-or-a-named-instance-for-a-specific-duration"></a><span data-ttu-id="7e8e6-274">Pour paramétrer une base de données distante ou une instance nommée pour une durée spécifique</span><span class="sxs-lookup"><span data-stu-id="7e8e6-274">To tune a remote database or a named instance for a specific duration</span></span>  
  
1.  <span data-ttu-id="7e8e6-275">Déterminez les fonctionnalités de base de données (index, vues indexées, partitionnement) que l'Assistant Paramétrage du moteur de base de données doit ajouter, supprimer ou conserver pendant l'analyse.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-275">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="7e8e6-276">Créez une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-276">Create a workload.</span></span> <span data-ttu-id="7e8e6-277">Pour plus d'informations, consultez [Créer une charge de travail](#Create) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-277">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="7e8e6-278">À partir d'une invite de commandes, saisissez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-278">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -S ServerName\Instance -D DatabaseName -it WorkloadTableName   
    -U LoginID -P Password -s SessionName -A TuningTimeInMinutes  
    ```  
  
     <span data-ttu-id="7e8e6-279">où l'option `-S` spécifie un nom de serveur distant et une instance distante (ou une instance nommée sur le serveur local) et l'option `-D` indique le nom de la base de données à paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-279">where `-S` specifies a remote server name and instance (or a named instance on the local server) and `-D` specifies the name of the database you want to tune.</span></span> <span data-ttu-id="7e8e6-280">L'option `-it` spécifie le nom de la table de charge de travail, les options `-U` et `-P` définissent l'ID de connexion et le mot de passe permettant d'accéder à la base de données distante, l'option `-s` indique le nom de la session de paramétrage tandis que l'option `-A` précise, en minutes, la durée de la session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-280">The `-it` option specifies the name of the workload table, `-U` and `-P` specify the login ID and password to the remote database, `-s` specifies the tuning session name, and `-A` specifies the tuning session duration in minutes.</span></span> <span data-ttu-id="7e8e6-281">Par défaut, l’utilitaire **dta** utilise une durée de paramétrage de 8 heures.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-281">By default, the **dta** utility uses an 8-hour tuning duration.</span></span> <span data-ttu-id="7e8e6-282">Si vous voulez que l’Assistant Paramétrage du moteur de base de données paramètre une charge de travail pour une durée illimitée, spécifiez **0** (zéro) pour l’option `-A` .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-282">If you would like Database Engine Tuning Advisor to tune a workload for an unlimited amount of time, specify **0** (zero) with the `-A` option.</span></span>  
  
##### <a name="to-tune-a-database-using-an-xml-input-file"></a><span data-ttu-id="7e8e6-283">Pour paramétrer une base de données à l'aide d'un fichier d'entrée XML</span><span class="sxs-lookup"><span data-stu-id="7e8e6-283">To tune a database using an XML input file</span></span>  
  
1.  <span data-ttu-id="7e8e6-284">Déterminez les fonctionnalités de base de données (index, vues indexées, partitionnement) que l'Assistant Paramétrage du moteur de base de données doit ajouter, supprimer ou conserver pendant l'analyse.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-284">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="7e8e6-285">Créez une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-285">Create a workload.</span></span> <span data-ttu-id="7e8e6-286">Pour plus d'informations, consultez [Créer une charge de travail](#Create) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-286">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="7e8e6-287">Créez un fichier d'entrée XML.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-287">Create an XML input file.</span></span> <span data-ttu-id="7e8e6-288">Pour plus d'informations, consultez [Créer des fichiers d'entrée XML](#XMLInput) plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-288">For more information, see [Create XML Input Files](#XMLInput) later in this topic.</span></span>  
  
4.  <span data-ttu-id="7e8e6-289">À partir d'une invite de commandes, saisissez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-289">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -E -S ServerName\Instance -s SessionName -ix PathToXMLInputFile  
    ```  
  
     <span data-ttu-id="7e8e6-290">où l'option `-E` spécifie une connexion approuvée, l'option `-S` définit un serveur distant et une instance distante, ou une instance nommée sur le serveur local, l'option `-s` indique le nom d'une session de paramétrage, tandis que l'option `-ix` spécifie le fichier d'entrée XML à utiliser pour la session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-290">where `-E` specifies a trusted connection, `-S` specifies a remote server and instance, or a named instance on the local server, `-s` specifies a tuning session name, and `-ix` specifies the XML input file to use for the tuning session.</span></span>  
  
5.  <span data-ttu-id="7e8e6-291">Une fois que l'utilitaire a terminé de paramétrer la charge de travail, vous pouvez visualiser les résultats des sessions de paramétrage à l'aide de l'interface utilisateur graphique de l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-291">After the utility finishes tuning the workload, you can view the results of tuning sessions with the Database Engine Tuning Advisor GUI.</span></span> <span data-ttu-id="7e8e6-292">Par ailleurs, à l’aide de l’option **-ox** , vous pouvez aussi demander à ce que les recommandations de paramétrage soient écrites dans un fichier XML.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-292">As an alternative, you can also specify that the tuning recommendations be written to an XML file with the **-ox** option.</span></span> <span data-ttu-id="7e8e6-293">Pour plus d’informations, consultez [dta Utility](../../tools/dta/dta-utility.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-293">For more information, see [dta Utility](../../tools/dta/dta-utility.md).</span></span>  
  
##  <a name="create-an-xml-input-file"></a><a name="XMLInput"></a> <span data-ttu-id="7e8e6-294">Créer un fichier d'entrée XML</span><span class="sxs-lookup"><span data-stu-id="7e8e6-294">Create an XML Input File</span></span>  
 <span data-ttu-id="7e8e6-295">Si vous êtes développeur XML expérimenté, vous pouvez créer des fichiers formatés en XML que l'Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] peut utiliser pour paramétrer les charges de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-295">If you are an experienced XML developer, you can create XML-formatted files that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor can use to tune workloads.</span></span> <span data-ttu-id="7e8e6-296">Pour créer ces fichiers XML, utilisez vos outils XML préférés pour modifier un exemple de fichier ou pour générer une instance à partir du schéma XML de l'Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-296">To create these XML files, use your favorite XML tools to edit a sample file or to generate an instance from the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema.</span></span>  
  
 <span data-ttu-id="7e8e6-297">Le schéma XML de l’Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] est disponible dans votre installation [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à l’emplacement suivant :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-297">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema is available in your [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation in the following location:</span></span>  
  
 <span data-ttu-id="7e8e6-298">C:\Program Files\Microsoft SQL Server\100\Tools\Binn\schemas\sqlserver\2004\07\dta\dtaschema.xsd</span><span class="sxs-lookup"><span data-stu-id="7e8e6-298">C:\Program Files\Microsoft SQL Server\100\Tools\Binn\schemas\sqlserver\2004\07\dta\dtaschema.xsd</span></span>  
  
 <span data-ttu-id="7e8e6-299">Le schéma XML de l'Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] est également disponible en ligne sur ce [site Web de Microsoft](https://go.microsoft.com/fwlink/?linkid=43100&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-299">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema is also available online at this [Microsoft Web site](https://go.microsoft.com/fwlink/?linkid=43100&clcid=0x409).</span></span>  
  
 <span data-ttu-id="7e8e6-300">Cette adresse URL pointe vers une page contenant de nombreux schémas XML [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-300">This URL takes you to a page where many [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] XML schemas are available.</span></span> <span data-ttu-id="7e8e6-301">Parcourez la page pour atteindre la ligne correspondant à l'Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-301">Scroll down the page until you reach the row for [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor.</span></span>  
  
#### <a name="to-create-an-xml-input-file-to-tune-workloads"></a><span data-ttu-id="7e8e6-302">Pour créer un fichier d'entrée XML pour paramétrer les charges de travail</span><span class="sxs-lookup"><span data-stu-id="7e8e6-302">To create an XML input file to tune workloads</span></span>  
  
1.  <span data-ttu-id="7e8e6-303">Créez une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-303">Create a workload.</span></span> <span data-ttu-id="7e8e6-304">Vous pouvez utiliser un fichier ou une table de trace à l'aide du modèle de paramétrage de [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], ou bien créer un script [!INCLUDE[tsql](../../includes/tsql-md.md)] qui reproduit une charge de travail représentative de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-304">You can use a trace file or table by using the tuning template in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], or create a [!INCLUDE[tsql](../../includes/tsql-md.md)] script that reproduces a representative workload for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="7e8e6-305">Pour plus d'informations, consultez [Créer une charge de travail](#Create) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-305">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
2.  <span data-ttu-id="7e8e6-306">Créez un fichier d'entrée XML par l'une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-306">Create an XML input file by one of the following methods:</span></span>  
  
    -   <span data-ttu-id="7e8e6-307">Copiez et collez l’un des [exemples de fichier d’entrée XML &#40;Assistant Paramétrage de base de données&#41;](../../tools/dta/xml-input-file-samples-dta.md) dans votre éditeur XML préféré.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-307">Copy and paste one of the [XML Input File Samples &#40;DTA&#41;](../../tools/dta/xml-input-file-samples-dta.md) into your favorite XML editor.</span></span> <span data-ttu-id="7e8e6-308">Modifiez les valeurs pour qu'elles traduisent les arguments appropriés à votre installation [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , puis enregistrez les fichiers XML.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-308">Change the values to specify the appropriate arguments for your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation, and save the XML file.</span></span>  
  
    -   <span data-ttu-id="7e8e6-309">À l'aide de votre outil XML préféré, générez une instance à partir du schéma XML de l'Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-309">Using your favorite XML tool, generate an instance from the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema.</span></span>  
  
3.  <span data-ttu-id="7e8e6-310">Après avoir créé le fichier d’entrée XML, utilisez-le comme entrée dans l’utilitaire en ligne de commande **dta** pour paramétrer la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-310">After creating the XML input file, use it as input to the **dta** command-line utility to tune the workload.</span></span> <span data-ttu-id="7e8e6-311">Pour plus d'informations sur l'utilisation de fichiers d'entrée XML avec cet utilitaire, consultez la section [Utiliser l'utilitaire dta](#dta) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-311">For information about using XML input files with this utility, see the section [Use the dta Utililty](#dta) earlier in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7e8e6-312">Si vous voulez utiliser une charge de travail inline, qui est une charge de travail spécifiée directement dans le fichier d’entrée XML, utilisez l’[exemple de fichier d’entrée XML avec une charge de travail Inline &#40;Assistant Paramétrage de base de données&#41;](../../tools/dta/xml-input-file-sample-with-inline-workload-dta.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-312">If you want to use an inline workload, which is a workload that is specified directly in the XML input file, use the sample [XML Input File Sample with Inline Workload &#40;DTA&#41;](../../tools/dta/xml-input-file-sample-with-inline-workload-dta.md).</span></span>  
  
##  <a name="user-interface-descriptions"></a><a name="UI"></a> <span data-ttu-id="7e8e6-313">Descriptions de l'interface utilisateur</span><span class="sxs-lookup"><span data-stu-id="7e8e6-313">User Interface Descriptions</span></span>  
  
### <a name="tools-menuoptions-page"></a><span data-ttu-id="7e8e6-314">Menu Outils/page Options</span><span class="sxs-lookup"><span data-stu-id="7e8e6-314">Tools Menu/Options Page</span></span>  
 <span data-ttu-id="7e8e6-315">Utilisez cette boîte de dialogue pour spécifier les paramètres de configuration généraux de l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-315">Use this dialog box to specify general configuration parameters for the Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="7e8e6-316">**Au démarrage**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-316">**On startup**</span></span>  
 <span data-ttu-id="7e8e6-317">Indiquez l’action que doit effectuer l’Assistant Paramétrage du moteur de base de données pendant son démarrage : s’ouvrir sans connexion de base de données, afficher une boîte de dialogue **Nouvelle connexion** , afficher une nouvelle session ou charger la dernière session.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-317">Specify what Database Engine Tuning Advisor should do when it is started: open without a database connection, show a **New Connection** dialog box, show a new session, or load the last loaded session.</span></span>  
  
 <span data-ttu-id="7e8e6-318">**Modifier la police**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-318">**Change font**</span></span>  
 <span data-ttu-id="7e8e6-319">Spécifiez la police d'affichage utilisée pour les tables de l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-319">Specify the display font used by Database Engine Tuning Advisor tables.</span></span>  
  
 <span data-ttu-id="7e8e6-320">**Nombre d'éléments dans les listes des derniers fichiers utilisés**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-320">**Number of items in most recently used lists**</span></span>  
 <span data-ttu-id="7e8e6-321">Indiquez le nombre de sessions ou de fichiers à afficher sous **Sessions récentes** ou **Fichiers récents** dans le menu **Fichier** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-321">Specify the number of sessions or files to display under **Recent Sessions** or **Recent Files** in the **File** menu.</span></span>  
  
 <span data-ttu-id="7e8e6-322">**Mémoriser mes dernières options de paramétrage**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-322">**Remember my last tuning options**</span></span>  
 <span data-ttu-id="7e8e6-323">Conserve les options de paramétrage d'une session à l'autre.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-323">Retain tuning options between sessions.</span></span> <span data-ttu-id="7e8e6-324">Option sélectionnée par défaut.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-324">Selected by default.</span></span> <span data-ttu-id="7e8e6-325">Désactivez cette case à cocher pour toujours débuter avec les paramètres par défaut de l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-325">Clear this check box to always start with the Database Engine Tuning Advisor defaults.</span></span>  
  
 <span data-ttu-id="7e8e6-326">**Demander avant de supprimer définitivement les sessions**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-326">**Ask before permanently deleting sessions**</span></span>  
 <span data-ttu-id="7e8e6-327">Affiche une boîte de dialogue de confirmation avant de supprimer des sessions.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-327">Display a confirmation dialog box before deleting sessions.</span></span>  
  
 <span data-ttu-id="7e8e6-328">**Demander avant d'arrêter l'analyse de la session**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-328">**Ask before stopping session analysis**</span></span>  
 <span data-ttu-id="7e8e6-329">Affiche une boîte de dialogue de confirmation avant d'arrêter l'analyse d'une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-329">Display a confirmation dialog box before stopping analysis of a workload.</span></span>  
  
#### <a name="general-tab-options"></a><span data-ttu-id="7e8e6-330">Options de l'onglet Général</span><span class="sxs-lookup"><span data-stu-id="7e8e6-330">General Tab Options</span></span>  
 <span data-ttu-id="7e8e6-331">Vous devez configurer les champs figurant sous l'onglet **Général** avant de démarrer une session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-331">You must configure the fields in the **General** tab before starting a tuning session.</span></span> <span data-ttu-id="7e8e6-332">Vous n'avez pas à modifier les paramètres de l'onglet **Options de paramétrage** avant de lancer une session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-332">You do not have to modify the settings of the **Tuning Options** tab before starting a tuning session.</span></span>  
  
 <span data-ttu-id="7e8e6-333">**Nom de session**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-333">**Session name**</span></span>  
 <span data-ttu-id="7e8e6-334">Donnez un nom à la session.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-334">Specify a name for the session.</span></span> <span data-ttu-id="7e8e6-335">Le nom de session associe un nom à la session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-335">The session name associates a name with a tuning session.</span></span> <span data-ttu-id="7e8e6-336">Vous pouvez faire référence à ce nom pour revenir ultérieurement à la session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-336">You can refer to this name to review the tuning session later.</span></span>  
  
 <span data-ttu-id="7e8e6-337">**File**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-337">**File**</span></span>  
 <span data-ttu-id="7e8e6-338">Spécifiez un fichier de script ou de trace .sql pour une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-338">Specify a .sql script or trace file for a workload.</span></span> <span data-ttu-id="7e8e6-339">Indiquez le chemin d'accès et le nom de fichier dans la zone de texte correspondante.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-339">Specify the path and filename in the associated text box.</span></span> <span data-ttu-id="7e8e6-340">L'Assistant Paramétrage du moteur de base de données suppose que le fichier de trace de la charge de travail est un fichier de substitution.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-340">Database Engine Tuning Advisor assumes that the workload trace file is a rollover file.</span></span> <span data-ttu-id="7e8e6-341">Pour plus d'informations sur les fichiers de substitution, consultez [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e6-341">For more information about rollover files, see [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span></span>  
  
 <span data-ttu-id="7e8e6-342">**Table**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-342">**Table**</span></span>  
 <span data-ttu-id="7e8e6-343">Spécifiez une table de trace pour une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-343">Specify a trace table for a workload.</span></span> <span data-ttu-id="7e8e6-344">Indiquez le nom complet de la table de trace dans la zone de texte correspondante sous la forme suivante :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-344">Specify the fully qualified name of the trace table in the associated text box as follows:</span></span>  
  
```  
database_name.owner_name.table_name  
```  
  
-   <span data-ttu-id="7e8e6-345">Vérifiez que le suivi de trace s'est arrêté avant d'utiliser une table de trace en tant que charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-345">Make sure that tracing has stopped before using a trace table as a workload.</span></span>  
  
-   <span data-ttu-id="7e8e6-346">La table de trace doit se trouver sur le serveur que l'Assistant Paramétrage du moteur de base de données est en train de paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-346">The trace table must exist on the same server that Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="7e8e6-347">Si vous créez la table de trace sur un autre serveur, vous devez ensuite la déplacer sur le serveur que l'Assistant Paramétrage du moteur de base de données est en train de paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-347">If you create the trace table on a different server, then move it to the server that Database Engine Tuning Advisor is tuning.</span></span>  
  
 <span data-ttu-id="7e8e6-348">**Cache du plan**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-348">**Plan Cache**</span></span>  
 <span data-ttu-id="7e8e6-349">Spécifiez le cache du plan comme charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-349">Specify the plan cache as a workload.</span></span> <span data-ttu-id="7e8e6-350">Vous pouvez ainsi éviter d'avoir à créer manuellement une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-350">By doing this, you can avoid having to manually create a workload.</span></span> <span data-ttu-id="7e8e6-351">L'Assistant Paramétrage du moteur de base de données sélectionne les 1 000 événements principaux à utiliser pour l'analyse.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-351">Database Engine Tuning Advisor selects the top 1,000 events to use for analysis.</span></span>  
  
 <span data-ttu-id="7e8e6-352">**Xml**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-352">**Xml**</span></span>  
 <span data-ttu-id="7e8e6-353">Ce champ n'apparaît pas sauf si vous importez une requête de charge de travail à partir de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-353">This does not appear unless you import a workload query from [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="7e8e6-354">Pour importer une requête de charge de travail à partir de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="7e8e6-354">To import a workload query from [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]:</span></span>  
  
1.  <span data-ttu-id="7e8e6-355">Tapez une requête dans l'éditeur de requête et mettez-la en surbrillance.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-355">Type a query into Query Editor and highlight it.</span></span>  
  
2.  <span data-ttu-id="7e8e6-356">Cliquez avec le bouton droit sur la requête en surbrillance et cliquez sur **Analyser la requête dans l’Assistant Paramétrage de base de données**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-356">Right-click the highlighted query and click **Analyze Query in Database Engine Tuning Advisor**.</span></span>  
  
 <span data-ttu-id="7e8e6-357">**Rechercher [un fichier ou une table] de charge de travail**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-357">**Browse for a workload [file or table]**</span></span>  
 <span data-ttu-id="7e8e6-358">Quand **Fichier** ou **Table** est sélectionné en tant que source de charge de travail, utilisez ce bouton d’exploration pour sélectionner la cible.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-358">When **File** or **Table** is selected as the workload source, use this browse button to select the target.</span></span>  
  
 <span data-ttu-id="7e8e6-359">**Afficher un aperçu de la charge de travail XML**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-359">**Preview the XML workload**</span></span>  
 <span data-ttu-id="7e8e6-360">Affichez une charge de travail XML qui a été importée à partir de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e8e6-360">View an XML-formatted workload that has been imported from [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="7e8e6-361">**Base de données pour l'analyse de la charge de travail**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-361">**Database for workload analysis**</span></span>  
 <span data-ttu-id="7e8e6-362">Spécifiez la première base de données à laquelle l'Assistant Paramétrage du moteur de base de données se connecte lors du paramétrage d'une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-362">Specify the first database to which Database Engine Tuning Advisor connects when tuning a workload.</span></span> <span data-ttu-id="7e8e6-363">Dès que le paramétrage commence, l'Assistant Paramétrage du moteur de base de données se connecte aux bases de données spécifiées par les instructions `USE DATABASE` contenues dans la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-363">After tuning begins, Database Engine Tuning Advisor connects to the databases specified by the `USE DATABASE` statements contained in the workload.</span></span>  
  
 <span data-ttu-id="7e8e6-364">**Sélectionnez les bases de données et les tables à analyser**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-364">**Select databases and tables to tune**</span></span>  
 <span data-ttu-id="7e8e6-365">Spécifiez les bases de données et les tables à paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-365">Specify the databases and tables to be tuned.</span></span> <span data-ttu-id="7e8e6-366">Pour sélectionner toutes les bases de données, activez la case à cocher de l'en-tête de la colonne **Nom** .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-366">To specify all of the databases, select the check box in the **Name** column heading.</span></span> <span data-ttu-id="7e8e6-367">Pour sélectionner seulement certaines bases de données, activez la case à cocher en regard du nom de chaque base de données à paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-367">To specify certain databases, select the check box next to the database name.</span></span> <span data-ttu-id="7e8e6-368">Par défaut, toutes les tables des bases de données sélectionnées sont automatiquement incluses dans la session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-368">By default, all of the tables for selected databases are automatically included in the tuning session.</span></span> <span data-ttu-id="7e8e6-369">Pour exclure certaines tables, cliquez sur la flèche de la colonne **Tables sélectionnées** , puis désactivez la case à cocher en regard des tables que vous ne voulez pas paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-369">To exclude tables, click the arrow in the **Selected Tables** column, and then clear the check boxes next to the tables that you do not want to tune.</span></span>  
  
 <span data-ttu-id="7e8e6-370">Flèche de déroulement**Tables sélectionnées**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-370">**Selected Tables** down arrow</span></span>  
 <span data-ttu-id="7e8e6-371">Développe la liste des tables pour vous permettre de sélectionner chacune des tables à paramétrer.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-371">Expand the tables list to allow selecting individual tables for tuning.</span></span>  
  
 <span data-ttu-id="7e8e6-372">**Enregistrer le journal de paramétrage**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-372">**Save tuning log**</span></span>  
 <span data-ttu-id="7e8e6-373">Créez un journal et enregistrez les erreurs pendant la session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-373">Create a log and record errors during the session.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7e8e6-374">L'Assistant Paramétrage du moteur de base de données ne met pas automatiquement à jour les informations sur les lignes pour les tables qui sont affichées sous l'onglet **Général** . Il se base à la place sur les métadonnées de la base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-374">Database Engine Tuning Advisor does not automatically update the rows information for the tables displayed on the **General** tab. Instead it relies upon the metadata in the database.</span></span> <span data-ttu-id="7e8e6-375">Si vous pensez que les informations sur les lignes ne sont plus à jour, exécutez la commande DBCC UPDATEUSAGE pour les objets concernés.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-375">If you suspect that the rows information is outdated, run the DBCC UPDATEUSAGE command for the relevant objects.</span></span>  
  
##### <a name="tuning-tab-options"></a><span data-ttu-id="7e8e6-376">Options de l'onglet Paramétrage</span><span class="sxs-lookup"><span data-stu-id="7e8e6-376">Tuning Tab Options</span></span>  
 <span data-ttu-id="7e8e6-377">Utilisez l'onglet **Options de paramétrage** pour modifier les paramètres par défaut des options de paramétrage générales.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-377">Use the **Tuning Options** tab to modify default settings of general tuning options.</span></span> <span data-ttu-id="7e8e6-378">Vous n'avez pas à modifier les paramètres de l'onglet **Options de paramétrage** avant de lancer une session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-378">You do not have to modify the settings of the **Tuning Options** tab before starting a tuning session.</span></span>  
  
 <span data-ttu-id="7e8e6-379">**Limiter la durée du paramétrage**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-379">**Limit tuning time**</span></span>  
 <span data-ttu-id="7e8e6-380">Limite la durée de la session de paramétrage actuelle.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-380">Limits the time for the current tuning session.</span></span> <span data-ttu-id="7e8e6-381">L'augmentation de la durée du paramétrage améliore la qualité des recommandations.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-381">Providing more time for turning improves the quality of the recommendations.</span></span> <span data-ttu-id="7e8e6-382">Pour obtenir des recommandations optimales, n'activez pas cette option.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-382">To ensure the best recommendations, do not select this option.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="7e8e6-383">consomme des ressources système pendant l'analyse.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-383">Tuning Advisor consumes system resources during analysis.</span></span> <span data-ttu-id="7e8e6-384">Utilisez l'option **Limiter la durée du paramétrage** pour arrêter le paramétrage avant des périodes de lourdes charges de travail anticipées sur le serveur qui est paramétré.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-384">Use **Limit tuning time** to stop tuning before periods of anticipated heavy workload on the server being tuned.</span></span>  
  
 <span data-ttu-id="7e8e6-385">**Options avancées**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-385">**Advanced Options**</span></span>  
 <span data-ttu-id="7e8e6-386">Utilisez la boîte de dialogue **Options de paramétrage avancées** pour configurer l’espace maximal, le nombre de colonnes clés maximal et les recommandations d’index en ligne.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-386">Use the **Advanced Tuning Options** dialog box to configure the maximum space, maximum key columns, and online index recommendations.</span></span>  
  
 <span data-ttu-id="7e8e6-387">**Définir une quantité d'espace max. pour les recommandations (Mo)**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-387">**Define max. space for recommendations (MB)**</span></span>  
 <span data-ttu-id="7e8e6-388">Tapez la quantité d'espace maximale pouvant être utilisée par les structures PDS (Physical Design Structures) recommandées par l'Assistant Paramétrage du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-388">Type the maximum amount of space to be used by physical design structures recommended by Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="7e8e6-389">Si aucune valeur n'est entrée dans cette zone, l'Assistant Paramétrage du moteur de base de données prend en compte la plus petite limite d'espace suivante :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-389">If no value is entered here, Database Engine Tuning Advisor assumes the smaller of the following space limits:</span></span>  
  
-   <span data-ttu-id="7e8e6-390">Le triple de la taille actuelle des données brutes, qui inclut la taille totale des segments et les index cluster des tables de la base de données.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-390">Three times the current raw data size, which includes the total size of heaps and clustered indexes on tables in the database.</span></span>  
  
-   <span data-ttu-id="7e8e6-391">L'espace libre disponible sur tous les lecteurs de disques connectés, plus la taille des données brutes.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-391">The free space on all attached disk drives plus the raw data size.</span></span>  
  
 <span data-ttu-id="7e8e6-392">**Inclure les événements du cache du plan de toutes les bases de données**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-392">**Include plan cache events from all databases**</span></span>  
 <span data-ttu-id="7e8e6-393">Spécifiez que les événements du cache du plan de toutes les bases de données sont analysés.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-393">Specify that plan cache events from all databases are analyzed.</span></span>  
  
 <span data-ttu-id="7e8e6-394">**Nombre de colonnes max. par index**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-394">**Max. columns per index**</span></span>  
 <span data-ttu-id="7e8e6-395">Spécifiez le nombre maximal de colonnes à inclure dans un index quelconque.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-395">Specify the maximum number of columns to include in any index.</span></span> <span data-ttu-id="7e8e6-396">La valeur par défaut est 1023.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-396">The default is 1023.</span></span>  
  
 <span data-ttu-id="7e8e6-397">**Toutes les recommandations sont hors connexion**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-397">**All recommendations are offline**</span></span>  
 <span data-ttu-id="7e8e6-398">Génère les meilleures recommandations possibles, mais sans recommander que les structures PDS (Physical Design Structure) soient créées en ligne.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-398">Generate the best recommendations possible, but do not recommend that any physical design structures be created online.</span></span>  
  
 <span data-ttu-id="7e8e6-399">**Générer des recommandations en ligne dès que possible**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-399">**Generate online recommendations where possible**</span></span>  
 <span data-ttu-id="7e8e6-400">Lorsque vous créez des instructions [!INCLUDE[tsql](../../includes/tsql-md.md)] pour exécuter les recommandations, choisissez des méthodes pouvant être exécutées avec le serveur en ligne et ce, même si une méthode plus rapide est disponible.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-400">When creating [!INCLUDE[tsql](../../includes/tsql-md.md)] statements to implement the recommendations, choose methods that can be implemented with the server online, even if a faster offline method is available.</span></span>  
  
 <span data-ttu-id="7e8e6-401">**Générer uniquement des recommandations en ligne**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-401">**Generate only online recommendations**</span></span>  
 <span data-ttu-id="7e8e6-402">Génère uniquement des recommandations qui permettent au serveur de rester en ligne.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-402">Only make recommendations that allow the server to stay online.</span></span>  
  
 <span data-ttu-id="7e8e6-403">**Arrêter à**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-403">**Stop at**</span></span>  
 <span data-ttu-id="7e8e6-404">Spécifiez la date et l'heure d'arrêt de l'Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7e8e6-404">Provide the date and time when [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor should stop.</span></span>  
  
 <span data-ttu-id="7e8e6-405">**Index et vues indexées**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-405">**Indexes and indexed views**</span></span>  
 <span data-ttu-id="7e8e6-406">Activez cette case à cocher pour inclure des recommandations sur l'ajout d'index cluster, d'index non-cluster et de vues indexées.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-406">Check this box to include recommendations for adding clustered indexes, nonclustered indexes, and indexed views.</span></span>  
  
 <span data-ttu-id="7e8e6-407">**Vues indexées**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-407">**Indexed views**</span></span>  
 <span data-ttu-id="7e8e6-408">Incluez uniquement des recommandations relatives à l'ajout de vues indexées.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-408">Only include recommendations for adding indexed views.</span></span> <span data-ttu-id="7e8e6-409">Les index cluster et non-cluster ne sont pas concernés par les recommandations.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-409">Clustered and nonclustered indexes will not be recommended.</span></span>  
  
 <span data-ttu-id="7e8e6-410">**Inclure les index filtrés**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-410">**Include filtered indexes**</span></span>  
 <span data-ttu-id="7e8e6-411">Incluez des recommandations relatives à l'ajout d'index filtrés.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-411">Include recommendations for adding filtered indexes.</span></span> <span data-ttu-id="7e8e6-412">Cette option est disponible si vous sélectionnez l’une de ces structures d’étude de réalisation : **Index et vues indexées**, **Index** ou **Index non-cluster**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-412">This option is available if you select one of these physical design structures: **Indexes and indexed views**, **Indexes**, or **Nonclustered indexes**.</span></span>  
  
 <span data-ttu-id="7e8e6-413">**Index**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-413">**Indexes**</span></span>  
 <span data-ttu-id="7e8e6-414">Incluez uniquement des recommandations relatives à l'ajout d'index cluster et non-cluster.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-414">Only include recommendations for adding clustered and nonclustered indexes.</span></span> <span data-ttu-id="7e8e6-415">Les vues indexées ne sont pas concernées par les recommandations.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-415">Indexed views will not be recommended.</span></span>  
  
 <span data-ttu-id="7e8e6-416">**Index non cluster**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-416">**Nonclustered indexes**</span></span>  
 <span data-ttu-id="7e8e6-417">Incluez des recommandations pour les index non-cluster uniquement.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-417">Include recommendations for only nonclustered indexes.</span></span> <span data-ttu-id="7e8e6-418">Les index cluster et les vues indexées ne sont pas concernés par les recommandations.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-418">Clustered indexes and indexed views will not be recommended.</span></span>  
  
 <span data-ttu-id="7e8e6-419">**Évaluer l'utilisation des structures PDS (Physical Design Structures) existantes uniquement**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-419">**Evaluate utilization of existing PDS only**</span></span>  
 <span data-ttu-id="7e8e6-420">Évaluez l'efficacité des index actuels, mais n'incluez pas de recommandation pour des index ou des vues indexées supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-420">Evaluate the effectiveness of the current indexes but do not recommend additional indexes or indexed views.</span></span>  
  
 <span data-ttu-id="7e8e6-421">**Aucun partitionnement**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-421">**No partitioning**</span></span>  
 <span data-ttu-id="7e8e6-422">Ne recommandez pas le partitionnement.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-422">Do not recommend partitioning.</span></span>  
  
 <span data-ttu-id="7e8e6-423">**Partitionnement complet**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-423">**Full partitioning**</span></span>  
 <span data-ttu-id="7e8e6-424">Incluez des recommandations pour le partitionnement.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-424">Include recommendations for partitioning.</span></span>  
  
 <span data-ttu-id="7e8e6-425">**Partitionnement aligné**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-425">**Aligned partitioning**</span></span>  
 <span data-ttu-id="7e8e6-426">Les nouveaux partitionnements recommandés sont alignés pour faciliter la gestion des partitionnements.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-426">New recommended partitions will be aligned to make partitions easy to maintain.</span></span>  
  
 <span data-ttu-id="7e8e6-427">**Ne pas conserver de structures PDS (Physical Design Structures) existantes**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-427">**Do not keep any existing PDS**</span></span>  
 <span data-ttu-id="7e8e6-428">Recommandez la suppression des index, vues et partitionnements existants inutiles.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-428">Recommend dropping unnecessary existing indexes, views, and partitioning.</span></span> <span data-ttu-id="7e8e6-429">Si une structure PDS existante est utile à la charge de travail, l'Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] ne recommande pas sa suppression.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-429">If an existing physical design structure (PDS) is useful to the workload, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor does not recommend dropping it.</span></span>  
  
 <span data-ttu-id="7e8e6-430">**Conserver les index uniquement**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-430">**Keep indexes only**</span></span>  
 <span data-ttu-id="7e8e6-431">Conservez tous les index existants, mais recommandez la suppression des vues indexées et des partitionnements inutiles.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-431">Keep all existing indexes but recommend dropping unnecessary indexed views, and partitioning.</span></span>  
  
 <span data-ttu-id="7e8e6-432">**Conserver toutes les structures PDS (Physical Design Structures) existantes**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-432">**Keep all existing PDS**</span></span>  
 <span data-ttu-id="7e8e6-433">Conservez tous les index, vues indexées et partitionnements existants.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-433">Keep all existing indexes, indexed views, and partitioning.</span></span>  
  
 <span data-ttu-id="7e8e6-434">**Conserver les index cluster uniquement**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-434">**Keep clustered indexes only**</span></span>  
 <span data-ttu-id="7e8e6-435">Conservez tous les index cluster existants, mais recommandez la suppression des vues indexées, des partitionnements et des index non-cluster inutiles.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-435">Keep all existing clustered indexes but recommend dropping unnecessary indexed views, partitions, and nonclustered indexes.</span></span>  
  
 <span data-ttu-id="7e8e6-436">**Conserver le partitionnement aligné**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-436">**Keep aligned partitioning**</span></span>  
 <span data-ttu-id="7e8e6-437">Conservez les structures de partitionnement qui sont actuellement alignées, mais recommandez la suppression des vues indexées, des index et des partitionnements non alignés inutiles.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-437">Keep partitioning structures that are currently aligned, but recommend dropping unnecessary indexed views, indexes, and non-aligned partitioning.</span></span> <span data-ttu-id="7e8e6-438">Tout partitionnement supplémentaire recommandé sera aligné sur le schéma de partitionnement actuel.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-438">Any additional partitioning recommended will align with the current partitioning scheme.</span></span>  
  
###### <a name="progress-tab-options"></a><span data-ttu-id="7e8e6-439">Options de l'onglet Progression</span><span class="sxs-lookup"><span data-stu-id="7e8e6-439">Progress Tab Options</span></span>  
 <span data-ttu-id="7e8e6-440">L'onglet **Progression** de l'Assistant Paramétrage du moteur de base de données apparaît lorsque l'Assistant commence l'analyse d'une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-440">The **Progress** tab of Database Engine Tuning Advisor appears after Database Engine Tuning Advisor begins analyzing a workload.</span></span>  
  
 <span data-ttu-id="7e8e6-441">Si vous souhaitez arrêter la session de paramétrage après son démarrage, choisissez une des options suivantes dans le menu **Actions** :</span><span class="sxs-lookup"><span data-stu-id="7e8e6-441">If you want to stop the tuning session after it has started, choose one of the following options on the **Actions** menu:</span></span>  
  
-   <span data-ttu-id="7e8e6-442">**Arrêter l’analyse (avec recommandations)** arrête la session de paramétrage et vous demande de spécifier si l’Assistant Paramétrage du moteur de base de données doit générer des recommandations sur la base de l’analyse réalisée jusqu’à ce point.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-442">**Stop Analysis (With Recommendations)** stops the tuning session and prompts you to decide whether you want Database Engine Tuning Advisor to generate recommendations based on the analysis done up to this point.</span></span>  
  
-   <span data-ttu-id="7e8e6-443">**Arrêter l'analyse** arrête la session de paramétrage sans générer de recommandation.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-443">**Stop Analysis** stops the tuning session without generating any recommendations.</span></span>  
  
 <span data-ttu-id="7e8e6-444">**Progression du paramétrage**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-444">**Tuning Progress**</span></span>  
 <span data-ttu-id="7e8e6-445">Indique l'état actuel de la progression.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-445">Indicates the current status of the progress.</span></span> <span data-ttu-id="7e8e6-446">Cette option contient le nombre d'actions exécutées ainsi que le nombre d'erreurs, de réussites et de messages d'avertissement reçus.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-446">Contains the number of actions performed, and the number of error, success, and warning messages received.</span></span>  
  
 <span data-ttu-id="7e8e6-447">**Détails**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-447">**Details**</span></span>  
 <span data-ttu-id="7e8e6-448">Contient une icône indiquant l'état.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-448">Contains an icon indicating status.</span></span>  
  
 <span data-ttu-id="7e8e6-449">**Action**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-449">**Action**</span></span>  
 <span data-ttu-id="7e8e6-450">Affiche les étapes en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-450">Displays the steps being performed.</span></span>  
  
 <span data-ttu-id="7e8e6-451">**État**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-451">**Status**</span></span>  
 <span data-ttu-id="7e8e6-452">Affiche l'état de l'étape de l'action.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-452">Displays the status of the action step.</span></span>  
  
 <span data-ttu-id="7e8e6-453">**Message**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-453">**Message**</span></span>  
 <span data-ttu-id="7e8e6-454">Contient tous les messages éventuellement renvoyés par les étapes de l'action.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-454">Contains any messages returned by the action steps.</span></span>  
  
 <span data-ttu-id="7e8e6-455">**Journal des paramétrages**</span><span class="sxs-lookup"><span data-stu-id="7e8e6-455">**Tuning Log**</span></span>  
 <span data-ttu-id="7e8e6-456">Contient des informations relatives à la session de paramétrage actuelle.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-456">Contains information regarding this tuning session.</span></span> <span data-ttu-id="7e8e6-457">Pour imprimer le journal, cliquez avec le bouton droit sur celui-ci, puis cliquez sur **Imprimer**.</span><span class="sxs-lookup"><span data-stu-id="7e8e6-457">To print this log, right-click the log, and then click **Print**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7e8e6-458">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7e8e6-458">See Also</span></span>  
 <span data-ttu-id="7e8e6-459">[Afficher et utiliser la sortie de l'Assistant Paramétrage du moteur de base de données](database-engine-tuning-advisor.md) </span><span class="sxs-lookup"><span data-stu-id="7e8e6-459">[View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md) </span></span>  
 [<span data-ttu-id="7e8e6-460">Utilitaire dta</span><span class="sxs-lookup"><span data-stu-id="7e8e6-460">dta Utility</span></span>](../../tools/dta/dta-utility.md)  
  
  
