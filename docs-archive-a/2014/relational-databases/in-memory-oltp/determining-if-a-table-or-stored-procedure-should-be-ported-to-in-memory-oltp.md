---
title: Déterminer si une procédure stockée ou une table doit être déplacée vers l’OLTP en mémoire | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
helpviewer_keywords:
- Analyze, Migrate, Report
- AMR
ms.assetid: c1ef96f1-290d-4952-8369-2f49f27afee2
author: rothja
ms.author: jroth
ms.openlocfilehash: 8e517cff394bc0c813e34763469f75147a0a16c5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87605428"
---
# <a name="determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp"></a><span data-ttu-id="02daa-102">Déterminer si un tableau ou une procédure stockée doit être déplacée vers l'OLTP en mémoire</span><span class="sxs-lookup"><span data-stu-id="02daa-102">Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP</span></span>
  <span data-ttu-id="02daa-103">Le collecteur de performances de transaction dans [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] vous aide à évaluer si l’OLTP en mémoire améliore les performances de votre application de base de données.</span><span class="sxs-lookup"><span data-stu-id="02daa-103">The transaction performance collector in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] helps you evaluate if In-Memory OLTP will improve your database application's performance.</span></span> <span data-ttu-id="02daa-104">Le rapport d'analyse des performances de transaction indique également le volume de travail nécessaire pour activer l'OLTP en mémoire dans votre application.</span><span class="sxs-lookup"><span data-stu-id="02daa-104">The transaction performance analysis report also indicates how much work you must do to enable In-Memory OLTP in your application.</span></span> <span data-ttu-id="02daa-105">Après avoir identifié une table sur disque pour la fonctionnalité OLTP en mémoire, utilisez le [Conseiller d’optimisation de la mémoire](memory-optimization-advisor.md)pour migrer la table.</span><span class="sxs-lookup"><span data-stu-id="02daa-105">After you identify a disk-based table to port to In-Memory OLTP, you can use the [Memory Optimization Advisor](memory-optimization-advisor.md), to help you migrate the table.</span></span> <span data-ttu-id="02daa-106">De même, le [Conseiller de compilation native](native-compilation-advisor.md) vous aide à déplacer une procédure stockée vers une procédure stockée compilée en mode natif.</span><span class="sxs-lookup"><span data-stu-id="02daa-106">Similarly, the [Native Compilation Advisor](native-compilation-advisor.md) will help you port a stored procedure to a natively compiled stored procedure.</span></span>  
  
 <span data-ttu-id="02daa-107">Cette rubrique explique comment :</span><span class="sxs-lookup"><span data-stu-id="02daa-107">This topic will discuss how to:</span></span>  
  
-   <span data-ttu-id="02daa-108">configurer l'entrepôt de données de gestion ;</span><span class="sxs-lookup"><span data-stu-id="02daa-108">Configure Management Data Warehouse.</span></span>  
  
-   <span data-ttu-id="02daa-109">configurer la collecte de données ;</span><span class="sxs-lookup"><span data-stu-id="02daa-109">Configure data collection.</span></span>  
  
-   <span data-ttu-id="02daa-110">générer des rapports d'analyse des performances de transaction pour identifier les tables et les procédures stockées ayant un impact sur les performances.</span><span class="sxs-lookup"><span data-stu-id="02daa-110">Generate transaction performance analysis reports to identify performance-critical tables and stored procedures.</span></span>  
  
 <span data-ttu-id="02daa-111">Pour plus d’informations sur les méthodologies de migration, consultez [OLTP en mémoire - Modèles de charge de travail courants et considérations relatives à la migration](https://msdn.microsoft.com/library/dn673538.aspx).</span><span class="sxs-lookup"><span data-stu-id="02daa-111">For information about migration methodologies, see [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx).</span></span>  
  
 <span data-ttu-id="02daa-112">Le collecteur de performances et les rapports d'évaluation des performances de transaction vous aident à effectuer les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="02daa-112">The transaction performance collector and the transaction performance analysis reports help you accomplish the following tasks:</span></span>  
  
-   <span data-ttu-id="02daa-113">Analyse de votre charge de travail afin de déterminer si l'OLTP en mémoire va améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="02daa-113">Analyze your workload to determine if In-Memory OLTP will improve performance.</span></span> <span data-ttu-id="02daa-114">Le collecteur de performances de transaction collecte et évalue les caractéristiques des performances de votre charge de travail.</span><span class="sxs-lookup"><span data-stu-id="02daa-114">The transaction performance collector collects and evaluates the performance characteristics of your workload.</span></span> <span data-ttu-id="02daa-115">.</span><span class="sxs-lookup"><span data-stu-id="02daa-115">.</span></span> <span data-ttu-id="02daa-116">Le rapport d'analyse des performances de transaction recommande ensuite les tables et les procédures stockées qui tireront le plus parti de la migration vers l'OLTP en mémoire.</span><span class="sxs-lookup"><span data-stu-id="02daa-116">The transaction performance analysis report then recommends tables and stored procedures that would benefit most from conversion to In-Memory OLTP.</span></span>  
  
-   <span data-ttu-id="02daa-117">Aide pour la planification et l'exécution de votre migration vers l'OLTP en mémoire.</span><span class="sxs-lookup"><span data-stu-id="02daa-117">Help you plan and execute your migration to In-Memory OLTP.</span></span> <span data-ttu-id="02daa-118">Le chemin de migration d'une table sur disque vers une table mémoire optimisée peut prendre beaucoup de temps.</span><span class="sxs-lookup"><span data-stu-id="02daa-118">The migration path from a disk based table to a memory-optimized table can be time consuming.</span></span> <span data-ttu-id="02daa-119">Le Conseiller d'optimisation de la mémoire vous aide à identifier les incompatibilités dans votre table que vous devez supprimer avant de déplacer la table vers l'OLTP en mémoire.</span><span class="sxs-lookup"><span data-stu-id="02daa-119">The Memory-Optimization Advisor helps you identify the incompatibilities in your table that you must remove before moving the table to In-Memory OLTP.</span></span> <span data-ttu-id="02daa-120">Le gestionnaire d'optimisation de la mémoire vous aide également à comprendre l'impact que la migration d'une table vers une table mémoire optimisée aura sur votre application.</span><span class="sxs-lookup"><span data-stu-id="02daa-120">The Memory-Optimization Advisor also helps you understand the impact that the migration of a table to a memory-optimized table will have on your application.</span></span>  
  
     <span data-ttu-id="02daa-121">Déterminez si votre application va tirer parti de l'OLTP en mémoire, lorsque vous souhaitez planifier votre migration vers l'OLTP en mémoire et lorsque vous travaillez pour migrer certaines de vos tables et procédures stockées vers l'OLTP en mémoire.</span><span class="sxs-lookup"><span data-stu-id="02daa-121">You can see if your application would benefit from In-Memory OLTP, when you want to plan your migration to In-Memory OLTP, and whenever you work to migrate some of your tables and stored procedures to In-Memory OLTP.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="02daa-122">Les performances d'un système de base de données dépendent de différents facteurs, tous ne pouvant pas être observés et mesurés par le collecteur de performances de transaction.</span><span class="sxs-lookup"><span data-stu-id="02daa-122">The performance of a database system is dependent on a variety of factors, not all of which the transaction performance collector can observe and measure.</span></span> <span data-ttu-id="02daa-123">Par conséquent, le rapport d'analyse des performances de transaction ne garantit pas que les gains de performances réels correspondront aux prédictions, si des prédictions sont faites.</span><span class="sxs-lookup"><span data-stu-id="02daa-123">Therefore, the transaction performance analysis report does not guarantee actual performance gains will match its predictions, if any predictions are made.</span></span>  
  
 <span data-ttu-id="02daa-124">Le collecteur de performances de transaction et la capacité à générer un rapport d’analyse des performances de transaction sont installés lorsque vous sélectionnez **outils de gestion-de base** ou **outils de gestion-avancé lors de** l’installation de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="02daa-124">The transaction performance collector and the ability to generate a transaction performance analysis report are installed when you select **Management Tools-Basic** or **Management Tools-Advanced** when you install [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="02daa-125">Bonnes pratiques</span><span class="sxs-lookup"><span data-stu-id="02daa-125">Best Practices</span></span>  
 <span data-ttu-id="02daa-126">Le flux de travail recommandé est illustré dans l'organigramme suivant.</span><span class="sxs-lookup"><span data-stu-id="02daa-126">The recommended workflow is illustrated in the following flowchart.</span></span> <span data-ttu-id="02daa-127">Les nœuds jaunes représentent les procédures facultatives :</span><span class="sxs-lookup"><span data-stu-id="02daa-127">The yellow nodes represent optional procedures:</span></span>  
  
 <span data-ttu-id="02daa-128">![Flux de travail AMR](../../database-engine/media/amr-1.gif "Flux de travail AMR")</span><span class="sxs-lookup"><span data-stu-id="02daa-128">![AMR workflow](../../database-engine/media/amr-1.gif "AMR workflow")</span></span>  
  
 <span data-ttu-id="02daa-129">Vous pouvez utiliser n'importe quelle méthode pour déterminer vos performances de référence, y compris, notamment, les journaux du compteur de performances ou le moniteur d'activité [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="02daa-129">You can use any method to establish a performance baseline, including but not limited to using performance counter logs or the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Activity Monitor.</span></span> <span data-ttu-id="02daa-130">Les informations à utiliser pour déterminer vos performances de base et vos comparaisons sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="02daa-130">The information to use in your performance baseline and your comparisons are:</span></span>  
  
-   <span data-ttu-id="02daa-131">Consommation de l'UC de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="02daa-131">CPU consumption of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="02daa-132">Consommation de mémoire de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="02daa-132">Memory consumption of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="02daa-133">Activité des E/S de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="02daa-133">I/O activity of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="02daa-134">Débit de l'instance lors du traitement des transactions.</span><span class="sxs-lookup"><span data-stu-id="02daa-134">Transaction throughput of the instance while processing transactions.</span></span>  
  
 <span data-ttu-id="02daa-135">Le collecteur de performances de transaction capture les données toutes les 15 minutes.</span><span class="sxs-lookup"><span data-stu-id="02daa-135">The transaction performance collector captures data every 15 minutes.</span></span> <span data-ttu-id="02daa-136">Pour obtenir des résultats utilisables, exécutez le collecteur de performances de transaction pendant au moins une heure.</span><span class="sxs-lookup"><span data-stu-id="02daa-136">To obtain usable results, run the transaction performance collector for at least one hour.</span></span> <span data-ttu-id="02daa-137">Pour obtenir de meilleurs résultats, exécutez le collecteur de performances de transaction aussi longtemps que nécessaire pour capturer des données pour vos principaux scénarios.</span><span class="sxs-lookup"><span data-stu-id="02daa-137">To obtain best results, run the transaction performance collector for as much time as needed to capture data for your primary scenarios.</span></span> <span data-ttu-id="02daa-138">Générez un rapport d'évaluation des performances de transaction uniquement après avoir terminé de regrouper les données.</span><span class="sxs-lookup"><span data-stu-id="02daa-138">Generate a transaction performance analysis report only after you have finished gathering data.</span></span>  
  
 <span data-ttu-id="02daa-139">Configurez le collecteur de performances de transaction de façon à ce qu'il s'exécute sur votre instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dans l'environnement de production et collecte les données sur une instance de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dans votre environnement de développement (test) pour garantir une charge minimale.</span><span class="sxs-lookup"><span data-stu-id="02daa-139">Configure the transaction performance collector to run on your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance in production and collect the data on a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance in your development (test) environment to ensure minimum overhead.</span></span> <span data-ttu-id="02daa-140">Pour plus d’informations sur l’enregistrement de données dans une base de données de Data Warehouse de gestion sur une instance distante [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , consultez [configurer la collecte de données sur une instance de SQL Server à distance](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md#xxx).</span><span class="sxs-lookup"><span data-stu-id="02daa-140">For information on how to save data in a Management Data Warehouse database on a remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance, see [Configure Data Collection on a Remote SQL Server Instance](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md#xxx).</span></span>  
  
## <a name="performance-impacts"></a><span data-ttu-id="02daa-141">Impacts sur les performances</span><span class="sxs-lookup"><span data-stu-id="02daa-141">Performance Impacts</span></span>  
 <span data-ttu-id="02daa-142">Le collecteur de performances de transaction comprend deux jeux d'éléments de collecte de données :</span><span class="sxs-lookup"><span data-stu-id="02daa-142">The transaction performance collector consists of two data collection sets:</span></span>  
  
-   <span data-ttu-id="02daa-143">Analyse de l'utilisation des tables</span><span class="sxs-lookup"><span data-stu-id="02daa-143">Table Usage Analysis</span></span>  
  
-   <span data-ttu-id="02daa-144">Analyse des procédures stockées</span><span class="sxs-lookup"><span data-stu-id="02daa-144">Stored Procedure Analysis</span></span>  
  
 <span data-ttu-id="02daa-145">Les jeux d'éléments de collecte collectent des données de trois vues de gestion dynamique toutes les quinze minutes, puis téléchargent les données dans la base de données configurée pour faire office d'entrepôt de données de gestion.</span><span class="sxs-lookup"><span data-stu-id="02daa-145">The collection sets collect data from three dynamic management views (DMV) every fifteen minutes, and upload the data to the database configured to act as the Management Data Warehouse.</span></span> <span data-ttu-id="02daa-146">Le téléchargement des données collectées a un faible impact sur les performances.</span><span class="sxs-lookup"><span data-stu-id="02daa-146">Uploading the collected data incurs minimal performance impact.</span></span>  
  
## <a name="use-the-transaction-performance-collector"></a><span data-ttu-id="02daa-147">Utiliser le collecteur de performances de transaction</span><span class="sxs-lookup"><span data-stu-id="02daa-147">Use the Transaction Performance Collector</span></span>  
 <span data-ttu-id="02daa-148">Les étapes suivantes requièrent [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] dans [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="02daa-148">The following steps require [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="02daa-149">Ne modifiez pas le schéma (par exemple, en ajoutant ou en supprimant des bases de données ou des tables) lors du profilage.</span><span class="sxs-lookup"><span data-stu-id="02daa-149">Do not change the schema (for example, add or remove databases or create or drop tables) during profiling.</span></span> <span data-ttu-id="02daa-150">Si vous modifiez le schéma d'une base de données pendant la collecte des données, la base de données peut ne pas être correctement incluse dans le rapport.</span><span class="sxs-lookup"><span data-stu-id="02daa-150">If you change the schema of a database while collecting data, the database may not be accurately included in the report.</span></span>  
  
### <a name="configure-management-data-warehouse"></a><span data-ttu-id="02daa-151">Configurer l'entrepôt de données de gestion</span><span class="sxs-lookup"><span data-stu-id="02daa-151">Configure Management Data Warehouse</span></span>  
 <span data-ttu-id="02daa-152">L'entrepôt de données de gestion doit être configuré pour utiliser le collecteur de performances de transaction.</span><span class="sxs-lookup"><span data-stu-id="02daa-152">Management Data Warehouse must be configured to use the transaction performance collector.</span></span>  
  
 <span data-ttu-id="02daa-153">La version de l'instance [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sur laquelle vous allez collecter les données (profil) doit être identique ou antérieure à celle de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] où l'entrepôt de données de gestion est configuré.</span><span class="sxs-lookup"><span data-stu-id="02daa-153">The version of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that you will collect data on (profile) should be the same version or older than the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] where Management Data Warehouse is configured.</span></span>  
  
1.  <span data-ttu-id="02daa-154">Dans l’Explorateur d’objets, développez **Gestion**.</span><span class="sxs-lookup"><span data-stu-id="02daa-154">In Object Explorer, expand **Management**.</span></span>  
  
2.  <span data-ttu-id="02daa-155">Cliquez avec le bouton droit sur **collecte de données** , sélectionnez **tâches** , puis configurer le **Data Warehouse de gestion**.</span><span class="sxs-lookup"><span data-stu-id="02daa-155">Right click **Data Collection** and select **Tasks** and then **Configure Management Data Warehouse**.</span></span> <span data-ttu-id="02daa-156">L' **Assistant Configuration de Data Warehouse de gestion** démarre.</span><span class="sxs-lookup"><span data-stu-id="02daa-156">The **Configure Management Data Warehouse Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="02daa-157">Cliquez sur **suivant** pour sélectionner la base de données qui fera office de Data Warehouse de gestion.</span><span class="sxs-lookup"><span data-stu-id="02daa-157">Click **Next** to select the database that will act as the Management Data Warehouse.</span></span>  
  
4.  <span data-ttu-id="02daa-158">Cliquez sur **nouveau** pour créer une nouvelle base de données qui contiendra les données de profil.</span><span class="sxs-lookup"><span data-stu-id="02daa-158">Click **New** to create a new database to hold the profile data.</span></span> <span data-ttu-id="02daa-159">Une fois que vous avez terminé la création de la base de données, cliquez sur **suivant** dans l’Assistant.</span><span class="sxs-lookup"><span data-stu-id="02daa-159">After you finish creating the database, click **Next** in the wizard.</span></span>  
  
5.  <span data-ttu-id="02daa-160">L'étape suivante de l'Assistant vous permet d'ajouter des utilisateurs et des noms de connexion.</span><span class="sxs-lookup"><span data-stu-id="02daa-160">The next step in the wizard lets you add users and logins.</span></span> <span data-ttu-id="02daa-161">Vous pouvez mapper les noms de connexion aux appartenances aux rôles pour l'instance de l'entrepôt de données de gestion (MDW).</span><span class="sxs-lookup"><span data-stu-id="02daa-161">You may map logins to role memberships for the MDW instance.</span></span> <span data-ttu-id="02daa-162">Cela n'est pas obligatoire pour collecter des données sur l'instance locale.</span><span class="sxs-lookup"><span data-stu-id="02daa-162">This is not required to collect data from the local instance.</span></span> <span data-ttu-id="02daa-163">Si vous ne collectez pas de données depuis l'instance locale, vous pouvez accorder l'appartenance au rôle de base de données `mdw_admin` au compte qui exécutera les transactions qui seront profilées.</span><span class="sxs-lookup"><span data-stu-id="02daa-163">If you are not collecting data from the local instance, you can grant database role membership `mdw_admin` to the account that will run transactions that will be profiled.</span></span> <span data-ttu-id="02daa-164">Quand vous avez terminé, cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="02daa-164">When done, click **Next**.</span></span>  
  
6.  <span data-ttu-id="02daa-165">Vérifiez que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent s'exécute.</span><span class="sxs-lookup"><span data-stu-id="02daa-165">Make sure that [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent is running.</span></span>  
  
7.  <span data-ttu-id="02daa-166">Dans l’écran suivant, cliquez sur **Terminer** pour quitter l’Assistant.</span><span class="sxs-lookup"><span data-stu-id="02daa-166">On the next screen, click **Finish** to exit the wizard.</span></span>  
  
### <a name="configure-data-collection-on-a-local-ssnoversion-instance"></a><span data-ttu-id="02daa-167">Configurer la collecte de données sur une instance locale de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="02daa-167">Configure Data Collection on a Local [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance</span></span>  
 <span data-ttu-id="02daa-168">La collecte de données requiert le démarrage de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="02daa-168">Data collection requires [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent to be started.</span></span> <span data-ttu-id="02daa-169">Vous ne devez configurer qu'un collecteur de données sur un serveur.</span><span class="sxs-lookup"><span data-stu-id="02daa-169">You only need to configure one data collector on a server.</span></span>  
  
 <span data-ttu-id="02daa-170">Un collecteur de données peut être configuré sur un SQL Server 2012 ou une version ultérieure de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="02daa-170">A data collector can be configured on a SQL Server 2012 or later version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="02daa-171">Pour configurer la collecte de données à télécharger vers une base de données de l'entrepôt de données de gestion sur la même instance, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="02daa-171">To configure data collection to upload to a Management Data Warehouse database on the same instance,</span></span>  
  
1.  <span data-ttu-id="02daa-172">Dans l' **Explorateur d’objets**, développez **gestion**.</span><span class="sxs-lookup"><span data-stu-id="02daa-172">In **Object Explorer**, expand **Management**.</span></span>  
  
2.  <span data-ttu-id="02daa-173">Cliquez avec le bouton droit sur **collecte de données**, sélectionnez **tâches**, puis configurer la **collecte de données**.</span><span class="sxs-lookup"><span data-stu-id="02daa-173">Right click **Data Collection**, select **Tasks**, and then **Configure Data Collection**.</span></span> <span data-ttu-id="02daa-174">L' **Assistant Configuration** de la collecte de données démarre.</span><span class="sxs-lookup"><span data-stu-id="02daa-174">The **Configure Data Collection Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="02daa-175">Cliquez sur **suivant** pour sélectionner la base de données qui collectera les données de profil.</span><span class="sxs-lookup"><span data-stu-id="02daa-175">Click **Next** to select the database that will collect the profile data.</span></span>  
  
4.  <span data-ttu-id="02daa-176">Sélectionnez l'instance [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] active et une base de données d'entrepôt de données de gestion sur cette instance.</span><span class="sxs-lookup"><span data-stu-id="02daa-176">Select the current [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance and a Management Data Warehouse database on that instance.</span></span>  
  
5.  <span data-ttu-id="02daa-177">Dans la zone intitulée **Sélectionner les ensembles de collecteurs de données que vous souhaitez activer**, sélectionnez **jeux d’ensembles**de collecte de performances de transaction.</span><span class="sxs-lookup"><span data-stu-id="02daa-177">In the box labeled **Select data collector sets you want to enable**, select **Transaction Performance Collection Sets**.</span></span> <span data-ttu-id="02daa-178">Quand vous avez terminé, cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="02daa-178">Click **Next** when done.</span></span>  
  
6.  <span data-ttu-id="02daa-179">Vérifiez les sélections.</span><span class="sxs-lookup"><span data-stu-id="02daa-179">Verify the selections.</span></span> <span data-ttu-id="02daa-180">Cliquez sur **précédent** pour modifier les paramètres.</span><span class="sxs-lookup"><span data-stu-id="02daa-180">Click **Back** to modify the settings.</span></span> <span data-ttu-id="02daa-181">Cliquez sur **Terminer** lorsque vous avez terminé.</span><span class="sxs-lookup"><span data-stu-id="02daa-181">Click **Finish** when done.</span></span>  
  
###  <a name="configure-data-collection-on-a-remote-ssnoversion-instance"></a><a name="xxx"></a><span data-ttu-id="02daa-182">Configurer la collecte de données sur une instance distante [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="02daa-182">Configure Data Collection on a Remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance</span></span>  
 <span data-ttu-id="02daa-183">La collecte de données nécessite que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] soit démarré sur l'instance qui va collecter les données.</span><span class="sxs-lookup"><span data-stu-id="02daa-183">Data collection requires [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent to be started on the instance that will collect the data.</span></span>  
  
 <span data-ttu-id="02daa-184">Un collecteur de données peut être configuré sur un SQL Server 2012 ou une version ultérieure de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="02daa-184">A data collector can be configured on a SQL Server 2012 or later version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="02daa-185">Vous avez besoin d'un proxy [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent créé avec des informations d'identification correctes pour qu'un collecteur de données télécharge des données dans une base de données d'entrepôt de données de gestion sur une instance différente de celle où les transactions seront profilées.</span><span class="sxs-lookup"><span data-stu-id="02daa-185">You need a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy established with the correct credential for a data collector to upload data to a Management Data Warehouse database on an instance that is different from where transactions will be profiled.</span></span> <span data-ttu-id="02daa-186">Pour activer un proxy [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent, vous devez d'abord créer des informations d'identification avec un nom de connexion spécifique au domaine.</span><span class="sxs-lookup"><span data-stu-id="02daa-186">To enable a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy, you must first establish a credential with a domain-enabled login.</span></span> <span data-ttu-id="02daa-187">La connexion activée pour le domaine doit être membre du groupe `mdw_admin` pour la base de données de l'entrepôt de données de gestion.</span><span class="sxs-lookup"><span data-stu-id="02daa-187">The domain-enabled login must be a member of `mdw_admin` group for the Management Data Warehouse database.</span></span> <span data-ttu-id="02daa-188">Pour plus d’informations sur la création d’informations d’identification [, consultez Procédure : créer des informations d’identification (SQL Server Management Studio)](../security/authentication-access/create-a-credential.md) .</span><span class="sxs-lookup"><span data-stu-id="02daa-188">See [How to: Create a Credential (SQL Server Management Studio)](../security/authentication-access/create-a-credential.md) for information on how to create a credential.</span></span>  
  
 <span data-ttu-id="02daa-189">Pour configurer la collecte de données à télécharger vers une base de données de l'entrepôt de données de gestion sur une autre instance, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="02daa-189">To configure data collection to upload to a Management Data Warehouse database on a different instance,</span></span>  
  
1.  <span data-ttu-id="02daa-190">Sur l’instance qui contient les objets sur disque que vous souhaitez migrer vers l’OLTP en mémoire, développez le nœud **gestion** dans l’Explorateur d’objets.</span><span class="sxs-lookup"><span data-stu-id="02daa-190">On the instance that contains the disk-based objects that you want to migrate to In-Memory OLTP, expand the **Management** node in Object Explorer.</span></span>  
  
2.  <span data-ttu-id="02daa-191">Cliquez avec le bouton droit sur **collecte de données** , puis sélectionnez **tâches** et configurer la **collecte de données**.</span><span class="sxs-lookup"><span data-stu-id="02daa-191">Right click **Data Collection** and select **Tasks** and then **Configure Data Collection**.</span></span> <span data-ttu-id="02daa-192">L' **Assistant Configuration** de la collecte de données démarre.</span><span class="sxs-lookup"><span data-stu-id="02daa-192">The **Configure Data Collection Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="02daa-193">Cliquez sur **suivant** pour sélectionner la base de données qui collectera les données de profil.</span><span class="sxs-lookup"><span data-stu-id="02daa-193">Click **Next** to select the database that will collect the profile data.</span></span>  
  
4.  <span data-ttu-id="02daa-194">Assurez-vous qu'il existe un entrepôt de données de gestion sur l'autre instance [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="02daa-194">Make sure that a Management Data Warehouse database exists on the other [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>  
  
5.  <span data-ttu-id="02daa-195">Sélectionnez une autre instance [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et une base de données d'entrepôt de données de gestion sur cette instance.</span><span class="sxs-lookup"><span data-stu-id="02daa-195">Select another [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance and a Management Data Warehouse database on that instance.</span></span>  
  
     <span data-ttu-id="02daa-196">La version de l'instance [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sur laquelle vous allez collecter les données (profil) doit être identique ou antérieure à celle de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] où l'entrepôt de données de gestion est configuré.</span><span class="sxs-lookup"><span data-stu-id="02daa-196">The version of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that you will collect data on (profile) should be the same version or older than the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] where Management Data Warehouse is configured.</span></span>  
  
6.  <span data-ttu-id="02daa-197">Dans la zone intitulée **Sélectionner les ensembles de collecteurs de données que vous souhaitez activer**, sélectionnez **jeux d’ensembles**de collecte de performances de transaction.</span><span class="sxs-lookup"><span data-stu-id="02daa-197">In the box labeled **Select data collector sets you want to enable**, select **Transaction Performance Collection Sets**.</span></span>  
  
7.  <span data-ttu-id="02daa-198">Sélectionnez **utiliser un [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] proxy d’agent pour les chargements distants**.</span><span class="sxs-lookup"><span data-stu-id="02daa-198">Select **Use a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy for remote uploads**.</span></span>  
  
8.  <span data-ttu-id="02daa-199">Quand vous avez terminé, cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="02daa-199">Click **Next** when done.</span></span>  
  
9. <span data-ttu-id="02daa-200">Sélectionnez le proxy.</span><span class="sxs-lookup"><span data-stu-id="02daa-200">Select the proxy.</span></span>  
  
     <span data-ttu-id="02daa-201">Si vous souhaitez créer un proxy [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent,</span><span class="sxs-lookup"><span data-stu-id="02daa-201">If you want to create a new [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy,</span></span>  
  
    1.  <span data-ttu-id="02daa-202">Cliquez sur **nouveau** pour afficher la boîte de dialogue **nouveau compte de proxy** .</span><span class="sxs-lookup"><span data-stu-id="02daa-202">Click **New** to display the **New Proxy Account** dialog box.</span></span>  
  
    2.  <span data-ttu-id="02daa-203">Dans la boîte de dialogue **nouveau compte de proxy** , entrez le nom du proxy, sélectionnez les informations d’identification et entrez éventuellement une description.</span><span class="sxs-lookup"><span data-stu-id="02daa-203">In the **New Proxy Account** dialog box, enter the name of the proxy, select the credential, and optionally enter a description.</span></span> <span data-ttu-id="02daa-204">Ensuite, cliquez sur **principaux**.</span><span class="sxs-lookup"><span data-stu-id="02daa-204">Then, click **Principals**.</span></span>  
  
    3.  <span data-ttu-id="02daa-205">Cliquez sur **Ajouter** , puis sélectionnez rôle **msdb** .</span><span class="sxs-lookup"><span data-stu-id="02daa-205">Click **Add** and select **Msdb** role.</span></span>  
  
    4.  <span data-ttu-id="02daa-206">Sélectionnez `dc_proxy` et cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="02daa-206">Select `dc_proxy` and click **OK**.</span></span> <span data-ttu-id="02daa-207">Cliquez à nouveau sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="02daa-207">Then click **OK** again.</span></span>  
  
     <span data-ttu-id="02daa-208">Une fois le proxy approprié sélectionné, cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="02daa-208">After the correct proxy is selected, click **Next**.</span></span>  
  
10. <span data-ttu-id="02daa-209">Pour configurer les jeux d’entités système, activez la case à cocher **ensembles d’collections système** , puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="02daa-209">To configure System Collection Sets, check **System Collection Sets** and click **Next**.</span></span>  
  
11. <span data-ttu-id="02daa-210">Vérifiez les sélections.</span><span class="sxs-lookup"><span data-stu-id="02daa-210">Verify the selections.</span></span> <span data-ttu-id="02daa-211">Cliquez sur **précédent** pour modifier les paramètres.</span><span class="sxs-lookup"><span data-stu-id="02daa-211">Click **Back** to modify the settings.</span></span> <span data-ttu-id="02daa-212">Clicck **Terminer** lorsque vous avez terminé.</span><span class="sxs-lookup"><span data-stu-id="02daa-212">Clicck **Finish** when done.</span></span>  
  
 <span data-ttu-id="02daa-213">Les jeux d'éléments de collecte de données doivent maintenant être configurés et exécutés sur votre instance.</span><span class="sxs-lookup"><span data-stu-id="02daa-213">Data collection sets should now be configured and running on your instance.</span></span>  
  
### <a name="generate-reports"></a><span data-ttu-id="02daa-214">Générer des rapports</span><span class="sxs-lookup"><span data-stu-id="02daa-214">Generate Reports</span></span>  
 <span data-ttu-id="02daa-215">Vous pouvez générer des rapports d’analyse des performances de transaction en cliquant avec le bouton droit sur la base de données du Data Warehouse de gestion et en sélectionnant **rapports**, puis **gestion Data Warehouse**et **vue d’ensemble**de l’analyse des performances des transactions.</span><span class="sxs-lookup"><span data-stu-id="02daa-215">You can generate transaction performance analysis reports by right clicking the database of the Management Data Warehouse and selecting **Reports**, then **Management Data Warehouse**, and then **Transaction Performance Analysis Overview**.</span></span>  
  
 <span data-ttu-id="02daa-216">Le rapport collecte des informations sur toutes les bases de données utilisateur sur le serveur de charge de travail.</span><span class="sxs-lookup"><span data-stu-id="02daa-216">The report collects information about all user databases on the workload server.</span></span> <span data-ttu-id="02daa-217">Si la base de données de l'entrepôt de données de gestion (MDW) se trouve sur l'ordinateur local, la base de données MDW s'affiche dans le rapport.</span><span class="sxs-lookup"><span data-stu-id="02daa-217">If your Management Data Warehouse (MDW) database is on the local computer, you will see the MDW database(s) in the report.</span></span>  
  
 <span data-ttu-id="02daa-218">Une procédure stockée avec un rapport élevé temps UC/temps écoulé est un candidat pour la migration.</span><span class="sxs-lookup"><span data-stu-id="02daa-218">A stored procedure with high ratio of CPU time to elapsed time is a candidate for migration.</span></span> <span data-ttu-id="02daa-219">Le rapport affiche toutes les références de table, car les procédures stockées compilées en mode natif ne peuvent référencer que les tables mémoire optimisées, ce qui augmente le coût de migration.</span><span class="sxs-lookup"><span data-stu-id="02daa-219">The report shows all table references, because natively compiled stored procedures can only reference memory-optimized tables, which can add to the migration cost.</span></span>  
  
 <span data-ttu-id="02daa-220">Le rapport détaillé d'une table comprend trois sections :</span><span class="sxs-lookup"><span data-stu-id="02daa-220">The details report for a table consists of three sections:</span></span>  
  
-   <span data-ttu-id="02daa-221">Section des statistiques d'analyse</span><span class="sxs-lookup"><span data-stu-id="02daa-221">Scan Statistics Section</span></span>  
  
     <span data-ttu-id="02daa-222">Cette section comprend une seule table contenant les statistiques collectées à propos des analyses sur la table de base de données.</span><span class="sxs-lookup"><span data-stu-id="02daa-222">This section includes a single table that shows the statistics that were collected about scans on the database table.</span></span> <span data-ttu-id="02daa-223">Les colonnes sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="02daa-223">The columns are:</span></span>  
  
    -   <span data-ttu-id="02daa-224">Pourcentage du total des accès.</span><span class="sxs-lookup"><span data-stu-id="02daa-224">Percent of total accesses.</span></span> <span data-ttu-id="02daa-225">Pourcentage des analyses et des recherches sur cette table, par rapport à l'activité de la base de données totale.</span><span class="sxs-lookup"><span data-stu-id="02daa-225">The percentage of scans and seeks on this table with respect to the activity of the entire database.</span></span> <span data-ttu-id="02daa-226">Plus ce pourcentage est élevé, plus la table est sollicitée par rapport aux autres tables de la base de données.</span><span class="sxs-lookup"><span data-stu-id="02daa-226">The higher this percentage, the more heavily used the table is compared to other tables in the database.</span></span>  
  
    -   <span data-ttu-id="02daa-227">Statistiques de recherche/Statistiques d'analyse de plage.</span><span class="sxs-lookup"><span data-stu-id="02daa-227">Lookup Statistics/Range Scan Statistics.</span></span> <span data-ttu-id="02daa-228">Cette colonne indique le nombre de recherches de point et d'analyses de plage (analyses d'index et de table) effectuées sur la table pendant le profilage.</span><span class="sxs-lookup"><span data-stu-id="02daa-228">This column records the number of point lookups and range scans (index scans and table scans) conducted on the table during profiling.</span></span> <span data-ttu-id="02daa-229">La moyenne par transaction est une estimation.</span><span class="sxs-lookup"><span data-stu-id="02daa-229">Average per transaction is an estimate.</span></span>  
  
    -   <span data-ttu-id="02daa-230">Gain d'interopérabilité et gain natif.</span><span class="sxs-lookup"><span data-stu-id="02daa-230">Interop Gain and Native Gain.</span></span> <span data-ttu-id="02daa-231">Ces colonnes estiment les avantages au niveau des performances que la recherche de point et l'analyse de plage pourraient offrir si la table était convertie en table mémoire optimisée.</span><span class="sxs-lookup"><span data-stu-id="02daa-231">These columns estimate the amount of performance benefit a point lookup or range scan would have if the table is converted to a memory-optimized table.</span></span>  
  
-   <span data-ttu-id="02daa-232">Section des statistiques de contention</span><span class="sxs-lookup"><span data-stu-id="02daa-232">Contention Statistics Section</span></span>  
  
     <span data-ttu-id="02daa-233">Cette section comprend un tableau indiquant la contention sur la table de base de données.</span><span class="sxs-lookup"><span data-stu-id="02daa-233">This section includes a table that shows contention on the database table.</span></span> <span data-ttu-id="02daa-234">Pour plus d’informations sur les verrous internes et les verrous de base de données, consultez [architecture de verrouillage](https://msdn.microsoft.com/library/aa224738\(v=sql.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="02daa-234">For more information regarding database latches and locks, please see [Locking Architecture](https://msdn.microsoft.com/library/aa224738\(v=sql.80\).aspx).</span></span> <span data-ttu-id="02daa-235">Les colonnes sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="02daa-235">The columns are as follows:</span></span>  
  
    -   <span data-ttu-id="02daa-236">Pourcentage du total des attentes.</span><span class="sxs-lookup"><span data-stu-id="02daa-236">Percent of total waits.</span></span> <span data-ttu-id="02daa-237">Pourcentage des attentes attribuables à un verrou interne et un verrou sur cette table de base de données par rapport à l'activité de la base de données.</span><span class="sxs-lookup"><span data-stu-id="02daa-237">The percentage of latch and lock waits on this database table compared to activity of the database.</span></span> <span data-ttu-id="02daa-238">Plus ce pourcentage est élevé, plus la table est sollicitée par rapport aux autres tables de la base de données.</span><span class="sxs-lookup"><span data-stu-id="02daa-238">The higher this percentage, the more heavily used the table is compared to other tables in the database.</span></span>  
  
    -   <span data-ttu-id="02daa-239">Statistiques des verrous internes.</span><span class="sxs-lookup"><span data-stu-id="02daa-239">Latch Statistics.</span></span> <span data-ttu-id="02daa-240">Ces colonnes indiquent le nombre d'attentes attribuables à un verrou interne pour les requêtes impliquant cette table.</span><span class="sxs-lookup"><span data-stu-id="02daa-240">These columns record the number of latch waits for queries involving for this table.</span></span> <span data-ttu-id="02daa-241">Pour plus d’informations sur les verrous internes, consultez [verrouillage](https://msdn.microsoft.com/library/aa224727\(v=SQL.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="02daa-241">For information on latches, see [Latching](https://msdn.microsoft.com/library/aa224727\(v=SQL.80\).aspx).</span></span> <span data-ttu-id="02daa-242">Plus ce nombre est élevé, plus il y a de contention de verrous internes sur la table.</span><span class="sxs-lookup"><span data-stu-id="02daa-242">The higher this number, the more latch contention on the table.</span></span>  
  
    -   <span data-ttu-id="02daa-243">Statistiques des verrous.</span><span class="sxs-lookup"><span data-stu-id="02daa-243">Lock Statistics.</span></span> <span data-ttu-id="02daa-244">Ce groupe de colonnes indique le nombre d'acquisitions et d'attentes attribuables à des verrous de page pour les requêtes de cette table.</span><span class="sxs-lookup"><span data-stu-id="02daa-244">This group of columns record the number of page lock acquisitions and waits for queries for this table.</span></span> <span data-ttu-id="02daa-245">Pour plus d’informations sur les verrous, consultez [comprendre le verrouillage dans SQL Server](https://msdn.microsoft.com/library/aa213039\(v=SQL.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="02daa-245">For more information on locks, see [Understanding Locking in SQL Server](https://msdn.microsoft.com/library/aa213039\(v=SQL.80\).aspx).</span></span> <span data-ttu-id="02daa-246">Plus le nombre d'attentes est élevé, plus il y a de contention de verrous sur la table.</span><span class="sxs-lookup"><span data-stu-id="02daa-246">The more waits, the more lock contention on the table.</span></span>  
  
-   <span data-ttu-id="02daa-247">Section des difficultés de migration</span><span class="sxs-lookup"><span data-stu-id="02daa-247">Migration Difficulties Section</span></span>  
  
     <span data-ttu-id="02daa-248">Cette section comprend un tableau des difficultés rencontrées pour convertir cette table de base de données en une table mémoire optimisée.</span><span class="sxs-lookup"><span data-stu-id="02daa-248">This section includes a table that shows the difficulty of converting this database table to a memory-optimized table.</span></span> <span data-ttu-id="02daa-249">Plus le taux de difficultés est élevé, plus il est difficile de convertir la table.</span><span class="sxs-lookup"><span data-stu-id="02daa-249">A higher difficulty rating indicates more difficultly to convert the table.</span></span> <span data-ttu-id="02daa-250">Pour afficher les détails permettant de convertir cette table de base de données, utilisez le [conseiller d’optimisation](memory-optimization-advisor.md)de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="02daa-250">To see details to convert this database table, please use the [Memory Optimization Advisor](memory-optimization-advisor.md).</span></span>  
  
 <span data-ttu-id="02daa-251">Les statistiques d’analyse et de contention du rapport Détails de la table sont collectées et agrégées à partir de [sys. dm_db_index_operational_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-operational-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="02daa-251">Scan and contention statistics on the table details report is gathered and aggregated from [sys.dm_db_index_operational_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-operational-stats-transact-sql).</span></span>  
  
 <span data-ttu-id="02daa-252">Le rapport détaillé d'une procédure stockée comprend deux sections :</span><span class="sxs-lookup"><span data-stu-id="02daa-252">The details report for a stored procedure consists of two sections:</span></span>  
  
-   <span data-ttu-id="02daa-253">Section des statistiques d'exécution</span><span class="sxs-lookup"><span data-stu-id="02daa-253">Execution Statistics Section</span></span>  
  
     <span data-ttu-id="02daa-254">Cette section comprend un tableau contenant les statistiques collectées à propos des exécutions de la procédure stockée.</span><span class="sxs-lookup"><span data-stu-id="02daa-254">This section includes a table that shows the statistics that were collected about the stored procedure's executions.</span></span> <span data-ttu-id="02daa-255">Les colonnes sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="02daa-255">The columns are as follows:</span></span>  
  
    -   <span data-ttu-id="02daa-256">Heure de mise en cache.</span><span class="sxs-lookup"><span data-stu-id="02daa-256">Cached Time.</span></span> <span data-ttu-id="02daa-257">Heure à laquelle ce plan d'exécution est mis en cache.</span><span class="sxs-lookup"><span data-stu-id="02daa-257">The time this execution plan is cached.</span></span> <span data-ttu-id="02daa-258">Si la procédure stockée supprime le cache du plan et recommence, il y aura des heures pour chaque cache.</span><span class="sxs-lookup"><span data-stu-id="02daa-258">If the stored procedure drops out of the plan cache and re-enters, there will be times for each cache.</span></span>  
  
    -   <span data-ttu-id="02daa-259">Temps processeur total.</span><span class="sxs-lookup"><span data-stu-id="02daa-259">Total CPU Time.</span></span> <span data-ttu-id="02daa-260">Temps processeur total consommé par la procédure stockée pendant le profilage.</span><span class="sxs-lookup"><span data-stu-id="02daa-260">The total CPU time that the stored procedure consumed during profiling.</span></span> <span data-ttu-id="02daa-261">Plus ce nombre est élevé, plus la procédure stockée utilise de temps de processeur.</span><span class="sxs-lookup"><span data-stu-id="02daa-261">The higher this number, the more CPU the stored procedure used.</span></span>  
  
    -   <span data-ttu-id="02daa-262">Durée totale d'exécution.</span><span class="sxs-lookup"><span data-stu-id="02daa-262">Total Execution Time.</span></span> <span data-ttu-id="02daa-263">Durée d'exécution totale de la procédure stockée pendant le profilage.</span><span class="sxs-lookup"><span data-stu-id="02daa-263">The total amount of execution time the stored procedure used during profiling.</span></span> <span data-ttu-id="02daa-264">Plus la différence entre ce chiffre et le temps processeur est élevée, moins le temps processeur est utilisé efficacement par la procédure stockée.</span><span class="sxs-lookup"><span data-stu-id="02daa-264">The higher the difference between this number and the CPU time is, the less efficiently the stored procedure is using the CPU.</span></span>  
  
    -   <span data-ttu-id="02daa-265">Total des absences dans le cache.</span><span class="sxs-lookup"><span data-stu-id="02daa-265">Total Cache Missed.</span></span> <span data-ttu-id="02daa-266">Nombre d’absences dans le cache (lectures depuis un stockage physique) causées par les exécutions de la procédure stockée pendant le profilage.</span><span class="sxs-lookup"><span data-stu-id="02daa-266">The number of cache misses (reads from physical storage) that is caused by the stored procedure's executions during profiling.</span></span>  
  
    -   <span data-ttu-id="02daa-267">Nombre d'exécutions.</span><span class="sxs-lookup"><span data-stu-id="02daa-267">Execution Count.</span></span> <span data-ttu-id="02daa-268">Nombre de fois que la procédure stockée est exécutée pendant le profilage.</span><span class="sxs-lookup"><span data-stu-id="02daa-268">The number of times this stored procedure executed during profiling.</span></span>  
  
-   <span data-ttu-id="02daa-269">Section des références de table</span><span class="sxs-lookup"><span data-stu-id="02daa-269">Table References Section</span></span>  
  
     <span data-ttu-id="02daa-270">Cette section comprend un tableau répertoriant les tables auxquelles cette procédure stockée se réfère.</span><span class="sxs-lookup"><span data-stu-id="02daa-270">This section includes a table that shows the tables to which this stored procedure refers.</span></span> <span data-ttu-id="02daa-271">Avant de convertir la procédure stockée en une procédure stockée compilée en mode natif, toutes ces tables doivent être converties en tables mémoire optimisées, et résider sur le même serveur et la même base de données.</span><span class="sxs-lookup"><span data-stu-id="02daa-271">Before converting the stored procedure into a natively compiled stored procedure, all of these tables must be converted to memory-optimized tables, and they must stay on the same server and database.</span></span>  
  
 <span data-ttu-id="02daa-272">Les statistiques d’exécution du rapport Détails de la procédure stockée sont collectées et agrégées à partir de [sys. dm_exec_procedure_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-procedure-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="02daa-272">Execution Statistics on the stored procedure details report is gathered and aggregated from [sys.dm_exec_procedure_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-procedure-stats-transact-sql).</span></span> <span data-ttu-id="02daa-273">Les références sont obtenues à partir de [sys. sql_expression_dependencies &#40;Transact-sql&#41;](/sql/relational-databases/system-catalog-views/sys-sql-expression-dependencies-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="02daa-273">The references are obtained from [sys.sql_expression_dependencies &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-expression-dependencies-transact-sql).</span></span>  
  
 <span data-ttu-id="02daa-274">Pour afficher des détails sur la façon de convertir une procédure stockée en procédure stockée compilée en mode natif, utilisez le [conseiller de compilation native](native-compilation-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="02daa-274">To see details about how to convert a stored procedure to a natively compiled stored procedure, please use the [Native Compilation Advisor](native-compilation-advisor.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="02daa-275">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="02daa-275">See Also</span></span>  
 [<span data-ttu-id="02daa-276">Migration vers OLTP en mémoire</span><span class="sxs-lookup"><span data-stu-id="02daa-276">Migrating to In-Memory OLTP</span></span>](migrating-to-in-memory-oltp.md)  
  
  
