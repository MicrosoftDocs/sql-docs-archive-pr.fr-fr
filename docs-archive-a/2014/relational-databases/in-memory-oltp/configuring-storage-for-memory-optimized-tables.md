---
title: Configuration du stockage des tables optimisées en mémoire | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: 6e005de0-3a77-4b91-b497-14cc0f9f6605
author: CarlRabeler
ms.author: carlrab
ms.openlocfilehash: 4e6e5f5a931669e2fc07cb957e60fd9c77b9b735
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87708368"
---
# <a name="configuring-storage-for-memory-optimized-tables"></a><span data-ttu-id="93c10-102">Configuration du stockage des tables optimisées en mémoire</span><span class="sxs-lookup"><span data-stu-id="93c10-102">Configuring Storage for Memory-Optimized Tables</span></span>
  <span data-ttu-id="93c10-103">Vous devez configurer des opérations d'entrée/sortie par seconde (IOPS) et la capacité de stockage.</span><span class="sxs-lookup"><span data-stu-id="93c10-103">You need to configure storage capacity and input/output operations per second (IOPS).</span></span>  
  
## <a name="storage-capacity"></a><span data-ttu-id="93c10-104">Capacité de stockage</span><span class="sxs-lookup"><span data-stu-id="93c10-104">Storage Capacity</span></span>  
 <span data-ttu-id="93c10-105">Utilisez les informations contenues dans [Estimer les besoins en mémoire des tables optimisées en mémoire](memory-optimized-tables.md) pour estimer la taille en mémoire des tables durables optimisées en mémoire de la base de données.</span><span class="sxs-lookup"><span data-stu-id="93c10-105">Use the information in [Estimate Memory Requirements for Memory-Optimized Tables](memory-optimized-tables.md) to estimate the in-memory size of the database's durable memory-optimized tables.</span></span> <span data-ttu-id="93c10-106">Les index n'étant pas conservés pour les tables mémoire optimisées, n'incluez pas la taille des index.</span><span class="sxs-lookup"><span data-stu-id="93c10-106">Because indexes are not persisted for memory-optimized tables, do not include the size of indexes.</span></span> <span data-ttu-id="93c10-107">Une fois que vous avez déterminé la taille, vous devez fournir l'espace disque correspondant à quatre fois la taille des tables durables en mémoire.</span><span class="sxs-lookup"><span data-stu-id="93c10-107">Once you determine the size, you need to provide disk space that is four times the size of durable, in-memory tables.</span></span>  
  
## <a name="storage-performance"></a><span data-ttu-id="93c10-108">Performances de stockage</span><span class="sxs-lookup"><span data-stu-id="93c10-108">Storage Performance</span></span>  
 [!INCLUDE[hek_2](../../includes/hek-2-md.md)] <span data-ttu-id="93c10-109">peut augmenter considérablement le débit de la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="93c10-109">can significantly increase your workload throughput.</span></span> <span data-ttu-id="93c10-110">Par conséquent, il est important de s'assurer que les E/S ne forment pas un goulet d'étranglement.</span><span class="sxs-lookup"><span data-stu-id="93c10-110">Therefore, it is important to ensure that IO is not a bottleneck.</span></span>  
  
-   <span data-ttu-id="93c10-111">Lorsque vous migrez des tables sur disque vers des tables mémoire optimisées, vérifiez que le journal des transactions se trouve sur un support de stockage capable de prendre en charge le surcroît d'activité du journal des transactions.</span><span class="sxs-lookup"><span data-stu-id="93c10-111">When migrating disk-based tables to memory-optimized tables, make sure that the transaction log is on a storage media that can support increased transaction log activity.</span></span> <span data-ttu-id="93c10-112">Par exemple, si votre support de stockage prend en charge des opérations du journal des transactions à 100 Mo/s et que les tables mémoire optimisées offrent des performances cinq fois supérieures, le support de stockage du journal des transactions doit être en mesure de prendre en charge une amélioration des performances cinq fois supérieure, pour empêcher l'activité du journal des transactions de devenir un goulot d'étranglement des performances.</span><span class="sxs-lookup"><span data-stu-id="93c10-112">For example, if your storage media supports transaction log operations at 100 MB/sec, and memory-optimized tables result in five times greater performance, the transaction log's storage media must be able to also support five times performance improvement, to prevent the transaction log activity from becoming a performance bottleneck.</span></span>  
  
-   <span data-ttu-id="93c10-113">Les tables mémoire optimisées sont conservées dans des fichiers distribués sur un ou plusieurs conteneurs.</span><span class="sxs-lookup"><span data-stu-id="93c10-113">Memory-optimized tables are persisted in files distributed across one or more containers.</span></span> <span data-ttu-id="93c10-114">Chaque conteneur doit généralement être mappé à son propre axe, et est utilisé pour augmenter la capacité de stockage et améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="93c10-114">Each container should typically be mapped to its own spindle and is used both for increased storage capacity and improved performance.</span></span> <span data-ttu-id="93c10-115">Vous devez vous assurer que les IOPS séquentielles du support de stockage peuvent prendre en charge une augmentation de 3 fois du débit du journal des transactions.</span><span class="sxs-lookup"><span data-stu-id="93c10-115">You need to ensure that sequential IOPS of the storage media can support a 3 times increase in transaction log throughput.</span></span>  
  
     <span data-ttu-id="93c10-116">Par exemple, si les tables optimisées en mémoire génèrent 500 Mo/sec d’activité dans le journal des transactions, le stockage des tables optimisées en mémoire doit prendre en charge 1,5 Go/s. La nécessité de prendre en charge une augmentation 3 fois du débit du journal des transactions provient de l’observation que les paires de fichiers de données et Delta sont d’abord écrites avec les données initiales, puis doivent être lues/réécrites dans le cadre d’une opération de fusion.</span><span class="sxs-lookup"><span data-stu-id="93c10-116">For example, if memory-optimized tables generate 500MB/sec of activity in the transaction log, the storage for memory-optimized tables must support 1.5GB/sec. The need to support a 3 times increase in transaction log throughput comes from the observation that the data and delta file pairs are first written with the initial data and then need to be read/re-written as part of a merge operation.</span></span>  
  
     <span data-ttu-id="93c10-117">Le temps de récupération des tables mémoire optimisées est un autre facteur entrant en compte dans l'estimation du débit pour le stockage.</span><span class="sxs-lookup"><span data-stu-id="93c10-117">Another factor in estimating throughput for storage is the recovery time for memory-optimized tables.</span></span> <span data-ttu-id="93c10-118">Les données des tables durables doivent être lues en mémoire avant qu'une base de données puisse être mise à la disposition des applications.</span><span class="sxs-lookup"><span data-stu-id="93c10-118">Data from durable tables must be read into memory before a database is made available to applications.</span></span> <span data-ttu-id="93c10-119">Généralement, le chargement de données dans les tables mémoire optimisées peut être effectué à la vitesse des opérations d’E/S par seconde (IOPS).</span><span class="sxs-lookup"><span data-stu-id="93c10-119">Commonly, loading data into memory-optimized tables can be done at the speed of IOPS.</span></span> <span data-ttu-id="93c10-120">Si le stockage total des tables durables, mémoire optimisées, s'élève à 60 Go et que vous souhaitez pouvoir charger ces données en une minute, les IOPS du stockage doivent être définies à 1 Go/sec.</span><span class="sxs-lookup"><span data-stu-id="93c10-120">So if the total storage for durable, memory-optimized tables is 60 GB and you want to be able to load this data in 1 minute, the IOPS for the storage must be set at 1 GB/sec.</span></span>  
  
-   <span data-ttu-id="93c10-121">Si vous avez un nombre pair d'axes, vous devez créer deux fois le nombre de conteneurs, chaque paire étant mappée au même axe.</span><span class="sxs-lookup"><span data-stu-id="93c10-121">If you have even number of spindles, you should create two times the number of containers, each pair mapped to the same spindle.</span></span> <span data-ttu-id="93c10-122">Cela est nécessaire pour répartir les IOPS et le stockage.</span><span class="sxs-lookup"><span data-stu-id="93c10-122">This is needed to spread the IOPS and the storage.</span></span> <span data-ttu-id="93c10-123">Pour plus d’informations, consultez [le groupe de fichiers mémoire optimisé](the-memory-optimized-filegroup.md).</span><span class="sxs-lookup"><span data-stu-id="93c10-123">For more information, see [The Memory Optimized Filegroup](the-memory-optimized-filegroup.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="93c10-124">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="93c10-124">See Also</span></span>  
 [<span data-ttu-id="93c10-125">Création et gestion du stockage des objets à mémoire optimisée</span><span class="sxs-lookup"><span data-stu-id="93c10-125">Creating and Managing Storage for Memory-Optimized Objects</span></span>](creating-and-managing-storage-for-memory-optimized-objects.md)  
  
  
