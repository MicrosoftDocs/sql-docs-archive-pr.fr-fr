---
title: Conseiller d’optimisation de la mémoire | Microsoft Docs
ms.custom: ''
ms.date: 10/26/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
f1_keywords:
- sql12.swb.memoryoptimizationwizard.f1
- swb.memoryoptimizationwizard.f1
ms.assetid: 181989c2-9636-415a-bd1d-d304fc920b8a
author: rothja
ms.author: jroth
ms.openlocfilehash: cd0e08ab6d6a7bb2cfbf1892d6f2e4649e4a9735
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698208"
---
# <a name="memory-optimization-advisor"></a><span data-ttu-id="87bd2-102">Conseiller d'optimisation de la mémoire</span><span class="sxs-lookup"><span data-stu-id="87bd2-102">Memory Optimization Advisor</span></span>
  <span data-ttu-id="87bd2-103">L'outil de génération de rapports sur les performances des transactions (voir [Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)) vous indique quelles tables de votre base de données tireront parti de l'utilisation de la fonctionnalité OLTP en mémoire.</span><span class="sxs-lookup"><span data-stu-id="87bd2-103">Transaction performance reports tool (see [Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)) informs you about which tables in your database will benefit if ported to use In-Memory OLTP.</span></span> <span data-ttu-id="87bd2-104">Après avoir identifié une table que vous souhaitez déplacer pour utiliser l'OLTP en mémoire, utilisez le Conseiller d'optimisation de la mémoire pour vous aider à migrer la table de base de données sur disque vers l'OLTP en mémoire.</span><span class="sxs-lookup"><span data-stu-id="87bd2-104">After you identify a table that you would like to port to use In-Memory OLTP, you can use the memory optimization advisor to help you migrate the disk-based database table to In-Memory OLTP.</span></span>  
  
 <span data-ttu-id="87bd2-105">Pour démarrer, connectez-vous à l'instance contenant la table de base de données sur disque.</span><span class="sxs-lookup"><span data-stu-id="87bd2-105">To begin, connect to the instance that contains the disk-based database table.</span></span> <span data-ttu-id="87bd2-106">Vous pouvez vous connecter à une instance [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ou [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="87bd2-106">You can connect to a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance.</span></span> <span data-ttu-id="87bd2-107">Toutefois, si vous souhaitez effectuer une opération de migration avec le conseiller, vous devez vous connecter à une instance [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] sur laquelle la fonctionnalité OLTP en mémoire est activée.</span><span class="sxs-lookup"><span data-stu-id="87bd2-107">However, if you wish to perform a migration operation with the advisor, you must connect to a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance on which In-Memory OLTP functionality is enabled.</span></span> <span data-ttu-id="87bd2-108">Pour plus d'informations sur les spécifications applicables à la fonctionnalité OLTP en mémoire, consultez [Requirements for Using Memory-Optimized Tables](memory-optimized-tables.md).</span><span class="sxs-lookup"><span data-stu-id="87bd2-108">For more information about In-Memory OLTP requirements, see [Requirements for Using Memory-Optimized Tables](memory-optimized-tables.md).</span></span>  
  
 <span data-ttu-id="87bd2-109">Pour plus d’informations sur les méthodologies de migration, consultez [OLTP en mémoire - Modèles de charge de travail courants et considérations relatives à la migration](https://msdn.microsoft.com/library/dn673538.aspx).</span><span class="sxs-lookup"><span data-stu-id="87bd2-109">For information about migration methodologies, see [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx).</span></span>  
  
## <a name="walkthrough-using-the-memory-optimization-advisor"></a><span data-ttu-id="87bd2-110">Procédure pas à pas d'utilisation du Conseiller d'optimisation de la mémoire</span><span class="sxs-lookup"><span data-stu-id="87bd2-110">Walkthrough Using the Memory-Optimization Advisor</span></span>  
 <span data-ttu-id="87bd2-111">Dans l’ **Explorateur d’objets**, cliquez avec le bouton droit sur la table que vous souhaitez convertir, puis sélectionnez **Conseiller d’optimisation de la mémoire**.</span><span class="sxs-lookup"><span data-stu-id="87bd2-111">In **Object Explorer**, right click the table you want to convert, and select **Memory-Optimization Advisor**.</span></span> <span data-ttu-id="87bd2-112">Ce faisant, vous affichez la page d'accueil du **Conseiller d'optimisation de la mémoire de la table**.</span><span class="sxs-lookup"><span data-stu-id="87bd2-112">This will display the welcome page for the **Table Memory Optimization Advisor**.</span></span>  
  
### <a name="memory-optimization-checklist"></a><span data-ttu-id="87bd2-113">Liste de contrôle de l'optimisation de la mémoire</span><span class="sxs-lookup"><span data-stu-id="87bd2-113">Memory Optimization Checklist</span></span>  
 <span data-ttu-id="87bd2-114">Lorsque vous cliquez sur **Suivant** dans la page d'accueil du **Conseiller d'optimisation de la mémoire de la table**, vous voyez la liste de contrôle d'optimisation de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="87bd2-114">When you click **Next** in the welcome page for the **Table Memory Optimization Advisor**, you will see the memory optimization checklist.</span></span> <span data-ttu-id="87bd2-115">Les tables mémoire optimisées ne prennent pas en charge toutes les fonctionnalités d'une table sur disque.</span><span class="sxs-lookup"><span data-stu-id="87bd2-115">Memory-optimized tables do not support all the features in a disk-based table.</span></span> <span data-ttu-id="87bd2-116">La liste de contrôle d'optimisation de la mémoire indique si la table sur disque utilise des fonctionnalités qui ne sont pas compatibles avec une table mémoire optimisée.</span><span class="sxs-lookup"><span data-stu-id="87bd2-116">The memory optimization checklist reports if the disk-based table uses any features that are incompatible with a memory-optimized table.</span></span> <span data-ttu-id="87bd2-117">Le **Conseiller d’optimisation de la mémoire de la table** ne modifie pas la table sur disque pour qu’elle puisse être migrée afin d’utiliser l’OLTP en mémoire.</span><span class="sxs-lookup"><span data-stu-id="87bd2-117">The **Table Memory Optimization Advisor** does not modify the disk-based table so that it can be migrated to use In-Memory OLTP.</span></span> <span data-ttu-id="87bd2-118">Vous devez effectuer ces modifications avant de poursuivre la migration.</span><span class="sxs-lookup"><span data-stu-id="87bd2-118">You must make those changes before continuing migration.</span></span> <span data-ttu-id="87bd2-119">Pour chaque incompatibilité trouvée, le **Conseiller d’optimisation de la mémoire de la table** affiche un lien vers des informations qui peuvent vous aider à modifier les tables sur disque.</span><span class="sxs-lookup"><span data-stu-id="87bd2-119">For each incompatibility found, the **Table Memory Optimization Advisor** displays a link to information that can help you modify your disk-based tables.</span></span>  
  
 <span data-ttu-id="87bd2-120">Pour conserver une liste de ces incompatibilités dans le but de planifier la migration, cliquez sur **Générer le rapport** afin de générer une liste HTML.</span><span class="sxs-lookup"><span data-stu-id="87bd2-120">If you wish to keep a list of these incompatibilities, to plan your migration, click the **Generate Report** to generate a HTML list.</span></span>  
  
 <span data-ttu-id="87bd2-121">Si la table ne comporte aucune incompatibilité et que vous êtes connecté à une instance de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] avec l’OLTP en mémoire, cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="87bd2-121">If your table has no incompatibilities and you are connected to a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance with In-Memory OLTP, click **Next**.</span></span>  
  
### <a name="memory-optimization-warnings"></a><span data-ttu-id="87bd2-122">Avertissements de l'optimisation de la mémoire</span><span class="sxs-lookup"><span data-stu-id="87bd2-122">Memory Optimization Warnings</span></span>  
 <span data-ttu-id="87bd2-123">La page suivante, relative aux avertissements d'optimisation de la mémoire, contient une liste des problèmes qui n'empêchent pas la table d'être migrée en vue d'utiliser l'OLTP en mémoire, mais qui peuvent entraîner l'échec du comportement d'autres objets (tels que des procédures stockées ou des fonctions CLR) ou un comportement inattendu.</span><span class="sxs-lookup"><span data-stu-id="87bd2-123">The next page, memory optimization warnings, contains a list of issues that do not prevent the table from being migrated to use In-Memory OLTP, but that may cause the behavior of other objects (such as stored procedures or CLR functions) to fail or result in unexpected behavior.</span></span>  
  
 <span data-ttu-id="87bd2-124">Les premiers avertissements de la liste sont donnés à titre d'information et peuvent ne pas s'appliquer à votre table.</span><span class="sxs-lookup"><span data-stu-id="87bd2-124">The first several warnings in the list are informational and may or may not apply to your table.</span></span> <span data-ttu-id="87bd2-125">Les liens figurant dans la colonne droite de la table vous permettront d'obtenir plus d'informations.</span><span class="sxs-lookup"><span data-stu-id="87bd2-125">Links in the right-hand column of the table will take you to more information.</span></span>  
  
 <span data-ttu-id="87bd2-126">La table d'avertissement affiche également des conditions d'avertissement potentielles qui ne sont pas présentes dans votre table.</span><span class="sxs-lookup"><span data-stu-id="87bd2-126">The warning table will also display potential warning conditions that are not present in your table.</span></span>  
  
 <span data-ttu-id="87bd2-127">Les avertissements pouvant donner lieu à une action présentent un triangle jaune dans la colonne gauche.</span><span class="sxs-lookup"><span data-stu-id="87bd2-127">Actionable warnings will have a yellow triangle in the left-hand column.</span></span> <span data-ttu-id="87bd2-128">En présence d'avertissements pouvant donner lieu à une action, vous devez mettre fin à la migration, remédier aux avertissements, puis redémarrer le processus.</span><span class="sxs-lookup"><span data-stu-id="87bd2-128">If there are actionable warnings, you should exit the migration, resolve the warnings, and then restart the process.</span></span> <span data-ttu-id="87bd2-129">Si vous ne résolvez pas les avertissements, la table migrée peut provoquer un échec.</span><span class="sxs-lookup"><span data-stu-id="87bd2-129">If you do not resolve the warnings, your migrated table may cause a failure.</span></span>  
  
 <span data-ttu-id="87bd2-130">Cliquez sur **Générer le rapport** pour générer un rapport HTML de ces avertissements.</span><span class="sxs-lookup"><span data-stu-id="87bd2-130">Click **Generate Report** to generate an HTML report of these warnings.</span></span> <span data-ttu-id="87bd2-131">Cliquez sur **Suivant** pour continuer.</span><span class="sxs-lookup"><span data-stu-id="87bd2-131">Click **Next** to proceed.</span></span>  
  
### <a name="review-optimization-options"></a><span data-ttu-id="87bd2-132">Vérification des options d'optimisation</span><span class="sxs-lookup"><span data-stu-id="87bd2-132">Review Optimization Options</span></span>  
 <span data-ttu-id="87bd2-133">L'écran suivant vous permet de modifier des options pour la migration vers l'OLTP en mémoire :</span><span class="sxs-lookup"><span data-stu-id="87bd2-133">The next screen lets you modify options for the migration to In-Memory OLTP:</span></span>  
  
 <span data-ttu-id="87bd2-134">Groupe de fichiers mémoire optimisé</span><span class="sxs-lookup"><span data-stu-id="87bd2-134">Memory-optimized filegroup</span></span>  
 <span data-ttu-id="87bd2-135">Nom du groupe de fichiers mémoire optimisé.</span><span class="sxs-lookup"><span data-stu-id="87bd2-135">The name for your memory-optimized filegroup.</span></span> <span data-ttu-id="87bd2-136">Une base de données doit posséder un groupe de fichiers mémoire optimisé avec au moins un fichier pour qu'une table mémoire optimisée puisse être créée.</span><span class="sxs-lookup"><span data-stu-id="87bd2-136">A database must have a memory-optimized filegroup with at least one file before a memory-optimized table can be created.</span></span>  
  
 <span data-ttu-id="87bd2-137">Si aucun groupe de fichiers mémoire optimisé n'est présent, vous pouvez modifier le nom par défaut.</span><span class="sxs-lookup"><span data-stu-id="87bd2-137">If you do not have a memory-optimized filegroup, you can change the default name.</span></span> <span data-ttu-id="87bd2-138">Les groupes de fichiers mémoire optimisés ne peuvent pas être supprimés.</span><span class="sxs-lookup"><span data-stu-id="87bd2-138">Memory-optimized filegroups cannot be deleted.</span></span> <span data-ttu-id="87bd2-139">L'existence d'un groupe de fichiers mémoire optimisé peut désactiver certaines fonctionnalités au niveau de la base de données telles que l'instruction AUTO CLOSE et la mise en miroir de bases de données.</span><span class="sxs-lookup"><span data-stu-id="87bd2-139">The existence of a memory-optimized filegroup may disable some database-level features such as AUTO CLOSE and database mirroring.</span></span>  
  
 <span data-ttu-id="87bd2-140">Si une base de données comporte déjà un groupe de fichiers mémoire optimisé, ce champ indiquera son nom et vous ne pourrez pas modifier la valeur de ce champ.</span><span class="sxs-lookup"><span data-stu-id="87bd2-140">If a database already has a memory-optimized file group, this field will be pre-populated with its name and you will not be able to change the value of this field.</span></span>  
  
 <span data-ttu-id="87bd2-141">Nom du fichier logique et chemin d'accès au fichier</span><span class="sxs-lookup"><span data-stu-id="87bd2-141">Logical file name and File path</span></span>  
 <span data-ttu-id="87bd2-142">Nom du fichier qui contient la table mémoire optimisée.</span><span class="sxs-lookup"><span data-stu-id="87bd2-142">The name of the file that will contain the memory-optimized table.</span></span> <span data-ttu-id="87bd2-143">Une base de données doit posséder un groupe de fichiers mémoire optimisé avec au moins un fichier pour qu'une table mémoire optimisée puisse être créée.</span><span class="sxs-lookup"><span data-stu-id="87bd2-143">A database must have a memory-optimized file group with at least one file before a memory-optimized table can be created.</span></span>  
  
 <span data-ttu-id="87bd2-144">En l'absence de groupe de fichiers mémoire optimisé existant, vous pouvez modifier le nom par défaut et le chemin d'accès du fichier à créer à la fin du processus de migration.</span><span class="sxs-lookup"><span data-stu-id="87bd2-144">If you do not have an existing memory-optimized file group, you can change the default name and path of the file to be created at the end of the migration process.</span></span>  
  
 <span data-ttu-id="87bd2-145">Si vous disposez d'un groupe de fichiers mémoire optimisé, ces champs sont remplis à l'avance et vous ne pouvez pas modifier les valeurs.</span><span class="sxs-lookup"><span data-stu-id="87bd2-145">If you have an existing memory-optimized filegroup, these fields will be pre-populated and you will not be able to change the values.</span></span>  
  
 <span data-ttu-id="87bd2-146">Changer le nom de la table d'origine pour</span><span class="sxs-lookup"><span data-stu-id="87bd2-146">Rename the original table as</span></span>  
 <span data-ttu-id="87bd2-147">À la fin du processus de migration, une nouvelle table mémoire optimisée est créée avec le nom actuel de la table.</span><span class="sxs-lookup"><span data-stu-id="87bd2-147">At the end of the migration process, a new memory-optimized table will be created with the current name of the table.</span></span> <span data-ttu-id="87bd2-148">Pour éviter un conflit de nom, la table actuelle doit être renommée.</span><span class="sxs-lookup"><span data-stu-id="87bd2-148">To avoid a name conflict, the current table must be renamed.</span></span> <span data-ttu-id="87bd2-149">Vous pouvez modifier le nom dans ce champ.</span><span class="sxs-lookup"><span data-stu-id="87bd2-149">You may change that name in this field.</span></span>  
  
 <span data-ttu-id="87bd2-150">Coût mémoire actuel estimé (Mo)</span><span class="sxs-lookup"><span data-stu-id="87bd2-150">Estimated current memory cost (MB)</span></span>  
 <span data-ttu-id="87bd2-151">Le Conseiller d'optimisation de la mémoire estime la quantité de mémoire utilisée par la nouvelle table mémoire optimisée en fonction des métadonnées de la table sur disque.</span><span class="sxs-lookup"><span data-stu-id="87bd2-151">The Memory-Optimization Advisor estimates the amount of memory the new memory-optimized table will consume based on metadata of the disk-based table.</span></span> <span data-ttu-id="87bd2-152">Le calcul de la taille de la table est expliqué dans [Taille de la table et des lignes dans les tables optimisées en mémoire](table-and-row-size-in-memory-optimized-tables.md).</span><span class="sxs-lookup"><span data-stu-id="87bd2-152">The calculation of the table size is explained in [Table and Row Size in Memory-Optimized Tables](table-and-row-size-in-memory-optimized-tables.md).</span></span>  
  
 <span data-ttu-id="87bd2-153">Si la capacité de mémoire allouée n'est pas suffisante, la migration peut échouer.</span><span class="sxs-lookup"><span data-stu-id="87bd2-153">If sufficient memory is not allotted, the migration process may fail.</span></span>  
  
 <span data-ttu-id="87bd2-154">Copier également les données de la table dans la nouvelle table mémoire optimisée</span><span class="sxs-lookup"><span data-stu-id="87bd2-154">Also copy table data to the new memory optimized table</span></span>  
 <span data-ttu-id="87bd2-155">Sélectionnez cette option si vous souhaitez également déplacer les données de la table actuelle vers la nouvelle table mémoire optimisée.</span><span class="sxs-lookup"><span data-stu-id="87bd2-155">Select this option if you wish to also move the data in the current table to the new memory-optimized table.</span></span> <span data-ttu-id="87bd2-156">Si cette option n'est pas sélectionnée, la nouvelle table mémoire optimisée est créée sans lignes.</span><span class="sxs-lookup"><span data-stu-id="87bd2-156">If this option is not selected, the new memory-optimized table will be created with no rows.</span></span>  
  
 <span data-ttu-id="87bd2-157">La table sera migrée sous forme de table durable par défaut</span><span class="sxs-lookup"><span data-stu-id="87bd2-157">The table will be migrated as a durable table by default</span></span>  
 <span data-ttu-id="87bd2-158">L'OLTP en mémoire prend en charge les tables non durables avec des performances supérieures par rapport aux tables mémoire optimisées durables.</span><span class="sxs-lookup"><span data-stu-id="87bd2-158">In-Memory OLTP supports non-durable tables with superior performance compared to durable memory-optimized tables.</span></span> <span data-ttu-id="87bd2-159">Toutefois, les données d'une table non durable seront perdues lors du redémarrage du serveur.</span><span class="sxs-lookup"><span data-stu-id="87bd2-159">However, data in a non-durable table will be lost upon server restart.</span></span>  
  
 <span data-ttu-id="87bd2-160">Si cette option est sélectionnée, le Conseiller d'optimisation de la mémoire crée une table non durable au lieu d'une table durable.</span><span class="sxs-lookup"><span data-stu-id="87bd2-160">If this option is selected, the Memory-Optimization Advisor will create a non-durable table instead of a durable table.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="87bd2-161">Sélectionnez cette option uniquement si vous comprenez le risque de perte de données associé aux tables non durables.</span><span class="sxs-lookup"><span data-stu-id="87bd2-161">Select this option only if you understand the risk of data loss associated with non-durable tables.</span></span>  
  
 <span data-ttu-id="87bd2-162">Cliquez sur **Suivant** pour continuer.</span><span class="sxs-lookup"><span data-stu-id="87bd2-162">Click **Next** to continue.</span></span>  
  
### <a name="review-primary-key-conversion"></a><span data-ttu-id="87bd2-163">Vérifier la conversion de la clé primaire</span><span class="sxs-lookup"><span data-stu-id="87bd2-163">Review Primary Key Conversion</span></span>  
 <span data-ttu-id="87bd2-164">L'écran suivant est **Vérifier la conversion de la clé primaire**.</span><span class="sxs-lookup"><span data-stu-id="87bd2-164">The next screen is **Review Primary Key Conversion**.</span></span> <span data-ttu-id="87bd2-165">Le Conseiller d'optimisation de la mémoire détecte s'il existe une ou plusieurs clés primaires dans la table, puis remplit la liste des colonnes à partir des métadonnées de clé primaire.</span><span class="sxs-lookup"><span data-stu-id="87bd2-165">The Memory-Optimization Advisor will detect if there are one or more primary keys in the table, and populates the list of columns based on the primary key metadata.</span></span> <span data-ttu-id="87bd2-166">Sinon, si vous souhaitez effectuer une migration vers une table mémoire optimisée durable, vous devez créer une clé primaire.</span><span class="sxs-lookup"><span data-stu-id="87bd2-166">Otherwise, if you wish to migrate to a durable memory-optimized table, you must create a primary key.</span></span>  
  
 <span data-ttu-id="87bd2-167">S’il n’existe aucune clé primaire et que la table est migrée vers une table non durable, cet écran ne s’affiche pas.</span><span class="sxs-lookup"><span data-stu-id="87bd2-167">If a primary key doesn't exist and the table is being migrated to a non-durable table, this screen will not appear.</span></span>  
  
 <span data-ttu-id="87bd2-168">Pour les colonnes textuelles (colonnes avec les types `char`, `nchar`, `varchar` et `nvarchar`), vous devez sélectionner un classement approprié.</span><span class="sxs-lookup"><span data-stu-id="87bd2-168">For textual columns (columns with types `char`, `nchar`, `varchar`, and `nvarchar`) you must select an appropriate collation.</span></span> <span data-ttu-id="87bd2-169">L'OLTP en mémoire prend uniquement en charge les classements BIN2 pour les colonnes d'une table mémoire optimisée, mais ne prend pas en charge les classements présentant des caractères supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="87bd2-169">In-Memory OLTP only supports BIN2 collations for columns on a memory-optimized table and it does not support collations with supplementary characters.</span></span> <span data-ttu-id="87bd2-170">Consultez [Collations and Code Pages](../../database-engine/collations-and-code-pages.md) pour plus d'informations sur les classements pris en charge et l'impact potentiel d'une modification du classement.</span><span class="sxs-lookup"><span data-stu-id="87bd2-170">See [Collations and Code Pages](../../database-engine/collations-and-code-pages.md) for information on the collations supported and the potential impact of a change in collation.</span></span>  
  
 <span data-ttu-id="87bd2-171">Vous pouvez configurer les paramètres suivants pour la clé primaire :</span><span class="sxs-lookup"><span data-stu-id="87bd2-171">You can configure the following parameters for the primary key:</span></span>  
  
 <span data-ttu-id="87bd2-172">Sélectionnez un nouveau nom pour cette clé primaire</span><span class="sxs-lookup"><span data-stu-id="87bd2-172">Select a new name for this primary key</span></span>  
 <span data-ttu-id="87bd2-173">Le nom de la clé primaire de cette table doit être unique dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="87bd2-173">The primary key name for this table must be unique inside the database.</span></span> <span data-ttu-id="87bd2-174">Vous pouvez modifier le nom de la clé primaire ici.</span><span class="sxs-lookup"><span data-stu-id="87bd2-174">You may change the name of the primary key here.</span></span>  
  
 <span data-ttu-id="87bd2-175">Sélectionnez le type de cette clé primaire</span><span class="sxs-lookup"><span data-stu-id="87bd2-175">Select the type of this primary key</span></span>  
 <span data-ttu-id="87bd2-176">L'OLTP en mémoire prend en charge deux types d'index sur une table mémoire optimisée :</span><span class="sxs-lookup"><span data-stu-id="87bd2-176">In-Memory OLTP supports two types of indexes on a memory-optimized table:</span></span>  
  
-   <span data-ttu-id="87bd2-177">Index NONCLUSTERED HASH.</span><span class="sxs-lookup"><span data-stu-id="87bd2-177">A NONCLUSTERED HASH index.</span></span> <span data-ttu-id="87bd2-178">Cet index est idéal pour les index avec un grand nombre de recherches de point.</span><span class="sxs-lookup"><span data-stu-id="87bd2-178">This index is best for indexes with many point lookups.</span></span> <span data-ttu-id="87bd2-179">Vous pouvez configurer le nombre de compartiments de cet index dans le champ **Nombre de compartiments** .</span><span class="sxs-lookup"><span data-stu-id="87bd2-179">You may configure the bucket count for this index in the **Bucket Count** field.</span></span>  
  
-   <span data-ttu-id="87bd2-180">Index NONCLUSTERED.</span><span class="sxs-lookup"><span data-stu-id="87bd2-180">A NONCLUSTERED index.</span></span> <span data-ttu-id="87bd2-181">Ce type d'index est idéal pour les index avec de nombreuses requêtes de plage.</span><span class="sxs-lookup"><span data-stu-id="87bd2-181">This type of index is best for indexes with many range queries.</span></span> <span data-ttu-id="87bd2-182">Vous pouvez configurer l'ordre de tri de chaque colonne dans la liste **Trier par colonne et ordre** .</span><span class="sxs-lookup"><span data-stu-id="87bd2-182">You may configure the sort order for each column in the **Sort column and order** list.</span></span>  
  
 <span data-ttu-id="87bd2-183">Pour connaître le type d’index le plus approprié pour votre clé primaire, consultez [Index de hachage](../../database-engine/hash-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="87bd2-183">To understand the type of index best for your primary key, see [Hash Indexes](../../database-engine/hash-indexes.md).</span></span>  
  
 <span data-ttu-id="87bd2-184">Cliquez sur **Suivant** après avoir effectué vos choix de clé primaire.</span><span class="sxs-lookup"><span data-stu-id="87bd2-184">Click **Next** after you make your primary key choices.</span></span>  
  
### <a name="review-index-conversion"></a><span data-ttu-id="87bd2-185">Vérifier la conversion de l'index</span><span class="sxs-lookup"><span data-stu-id="87bd2-185">Review Index Conversion</span></span>  
 <span data-ttu-id="87bd2-186">La page suivante est **Vérifier la conversion de l'index**.</span><span class="sxs-lookup"><span data-stu-id="87bd2-186">The next page is **Review Index Conversion**.</span></span> <span data-ttu-id="87bd2-187">Le Conseiller d'optimisation de la mémoire détecte s'il existe un ou plusieurs index dans la table, puis remplit la liste de colonnes et le type de données.</span><span class="sxs-lookup"><span data-stu-id="87bd2-187">The Memory-Optimization Advisor will detect if there are one or more indexes in the table, and populates the list of columns and data type.</span></span> <span data-ttu-id="87bd2-188">Les paramètres que vous pouvez configurer dans la page **Vérifier la conversion de l'index** sont similaires à ceux de la page précédente, **Vérifier la conversion de la clé primaire** .</span><span class="sxs-lookup"><span data-stu-id="87bd2-188">The parameters you can configure in the **Review Index Conversion** page are similar to the previous, **Review Primary Key Conversion** page.</span></span>  
  
 <span data-ttu-id="87bd2-189">Si la table ne possède qu’une clé primaire et qu’elle est migrée vers une table durable, cet écran ne s’affiche pas.</span><span class="sxs-lookup"><span data-stu-id="87bd2-189">If the table only has a primary key and it's being migrated to a durable table, this screen will not appear.</span></span>  
  
 <span data-ttu-id="87bd2-190">Après avoir pris une décision pour chaque index de la table, cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="87bd2-190">After you make a decision for every index in your table, click **Next**.</span></span>  
  
### <a name="verify-migration-actions"></a><span data-ttu-id="87bd2-191">Vérifier les actions de migration</span><span class="sxs-lookup"><span data-stu-id="87bd2-191">Verify Migration Actions</span></span>  
 <span data-ttu-id="87bd2-192">La page suivante est **Vérifier les actions de migration**.</span><span class="sxs-lookup"><span data-stu-id="87bd2-192">The next page is **Verify Migration Actions**.</span></span> <span data-ttu-id="87bd2-193">Pour créer un script de l'opération de migration, cliquez sur **Script** pour générer un script [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="87bd2-193">To script the migration operation, click **Script** to generate a [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="87bd2-194">Vous pouvez ensuite modifier et exécuter le script.</span><span class="sxs-lookup"><span data-stu-id="87bd2-194">You may then modify and execute the script.</span></span> <span data-ttu-id="87bd2-195">Cliquez sur **Migrer** pour démarrer la migration de la table.</span><span class="sxs-lookup"><span data-stu-id="87bd2-195">Click **Migrate** to begin the table migration.</span></span>  
  
 <span data-ttu-id="87bd2-196">Une fois le traitement terminé, actualisez l’ **Explorateur d’objets** pour afficher la nouvelle table optimisée en mémoire et l’ancienne table sur disque.</span><span class="sxs-lookup"><span data-stu-id="87bd2-196">After the process is finished, refresh **Object Explorer** to see the new memory-optimized table and the old disk-based table.</span></span> <span data-ttu-id="87bd2-197">Vous pouvez conserver l'ancienne table ou la supprimer, à votre convenance personnelle.</span><span class="sxs-lookup"><span data-stu-id="87bd2-197">You can keep the old table or delete it at your convenience.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="87bd2-198">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="87bd2-198">See Also</span></span>  
 [<span data-ttu-id="87bd2-199">Migration vers OLTP en mémoire</span><span class="sxs-lookup"><span data-stu-id="87bd2-199">Migrating to In-Memory OLTP</span></span>](migrating-to-in-memory-oltp.md)  
  
  
