---
title: À propos du suivi des modifications (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- data changes [SQL Server]
- tracking data changes [SQL Server]
- change tracking [SQL Server], about change tracking
- change tracking [SQL Server]
- data [SQL Server], changing
ms.assetid: 5e0ef05a-8317-4c98-be20-b19d4cd78f12
author: rothja
ms.author: jroth
ms.openlocfilehash: 4e8a817421aeca7906d31e4a70c25a12b6af7c0d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87611648"
---
# <a name="about-change-tracking-sql-server"></a><span data-ttu-id="b59d0-102">À propos du suivi des modifications (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="b59d0-102">About Change Tracking (SQL Server)</span></span>
  <span data-ttu-id="b59d0-103">Le suivi des modifications est une solution légère qui fournit un mécanisme efficace de suivi des modifications pour les applications.</span><span class="sxs-lookup"><span data-stu-id="b59d0-103">Change tracking is a lightweight solution that provides an efficient change tracking mechanism for applications.</span></span> <span data-ttu-id="b59d0-104">En règle générale, les développeurs d’applications devaient implémenter des mécanismes personnalisés de suivi des modifications pour permettre aux applications d’effectuer des requêtes portant sur les modifications apportées aux données d’une base de données et d’accéder aux informations liées à ces modifications.</span><span class="sxs-lookup"><span data-stu-id="b59d0-104">Typically, to enable applications to query for changes to data in a database and access information that is related to the changes, application developers had to implement custom change tracking mechanisms.</span></span> <span data-ttu-id="b59d0-105">La création de ces mécanismes impliquait généralement un grand nombre de travaux et implique souvent l’utilisation d’une combinaison de déclencheurs, de `timestamp` colonnes, de nouvelles tables pour stocker les informations de suivi et de processus de nettoyage personnalisés.</span><span class="sxs-lookup"><span data-stu-id="b59d0-105">Creating these mechanisms usually involved a lot of work and frequently involved using a combination of triggers, `timestamp` columns, new tables to store tracking information, and custom cleanup processes.</span></span>  
  
 <span data-ttu-id="b59d0-106">La quantité d'informations relatives aux modifications varie selon les types d'applications.</span><span class="sxs-lookup"><span data-stu-id="b59d0-106">Different types of applications have different requirements for how much information they need about the changes.</span></span> <span data-ttu-id="b59d0-107">Les applications peuvent utiliser le suivi des modifications pour répondre aux questions suivantes sur les modifications apportées à une table utilisateur :</span><span class="sxs-lookup"><span data-stu-id="b59d0-107">Applications can use change tracking to answer the following questions about the changes that have been made to a user table:</span></span>  
  
-   <span data-ttu-id="b59d0-108">Quelles lignes ont changé pour une table utilisateur ?</span><span class="sxs-lookup"><span data-stu-id="b59d0-108">What rows have changed for a user table?</span></span>  
  
    -   <span data-ttu-id="b59d0-109">Seul le fait qu'une ligne a changé est requis, et non le nombre de fois que la ligne a été modifiée ou les valeurs des modifications intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="b59d0-109">Only the fact that a row has changed is required, not how many times the row has changed or the values of any intermediate changes.</span></span>  
  
    -   <span data-ttu-id="b59d0-110">Les données les plus récentes peuvent être obtenues directement à partir de la table qui fait l'objet du suivi.</span><span class="sxs-lookup"><span data-stu-id="b59d0-110">The latest data can be obtained directly from the table that is being tracked.</span></span>  
  
-   <span data-ttu-id="b59d0-111">Est-ce qu'une ligne a changé ?</span><span class="sxs-lookup"><span data-stu-id="b59d0-111">Has a row changed?</span></span>  
  
    -   <span data-ttu-id="b59d0-112">Le fait qu'une ligne a changé et les informations sur la modification doivent être disponibles et enregistrées au moment où la modification a été apportée dans la même transaction.</span><span class="sxs-lookup"><span data-stu-id="b59d0-112">The fact that a row has changed and information about the change must be available and recorded at the time that the change was made in the same transaction.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b59d0-113">Si une application requiert des informations sur toutes les modifications apportées et les valeurs intermédiaires des données modifiées, il peut être plus approprié d'utiliser la capture de données modifiées plutôt que le suivi des modifications.</span><span class="sxs-lookup"><span data-stu-id="b59d0-113">If an application requires information about all the changes that were made and the intermediate values of the changed data, using change data capture, instead of change tracking, might be appropriate.</span></span> <span data-ttu-id="b59d0-114">Pour plus d’informations, consultez [À propos de la capture de données modifiées &#40;SQL Server&#41;](../track-changes/about-change-data-capture-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="b59d0-114">For more information, see [About Change Data Capture &#40;SQL Server&#41;](../track-changes/about-change-data-capture-sql-server.md).</span></span>  
  
## <a name="one-way-and-two-way-synchronization-applications"></a><span data-ttu-id="b59d0-115">Applications de synchronisation monodirectionnelle et bidirectionnelle</span><span class="sxs-lookup"><span data-stu-id="b59d0-115">One-Way and Two-Way Synchronization Applications</span></span>  
 <span data-ttu-id="b59d0-116">Les applications qui doivent synchroniser des données avec une instance du [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] doivent être en mesure de rechercher les modifications.</span><span class="sxs-lookup"><span data-stu-id="b59d0-116">Applications that have to synchronize data with an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] must be able to query for changes.</span></span> <span data-ttu-id="b59d0-117">Le suivi des modifications peut servir de base aux applications de synchronisation monodirectionnelle et bidirectionnelle.</span><span class="sxs-lookup"><span data-stu-id="b59d0-117">Change tracking can be used as a foundation for both one-way and two-way synchronization applications.</span></span>  
  
### <a name="one-way-synchronization-applications"></a><span data-ttu-id="b59d0-118">Applications de synchronisation monodirectionnelle</span><span class="sxs-lookup"><span data-stu-id="b59d0-118">One-Way Synchronization Applications</span></span>  
 <span data-ttu-id="b59d0-119">Il est possible de créer des applications de synchronisation monodirectionnelle, comme les applications clientes ou de mise en cache de couche intermédiaire, qui utilisent le suivi des modifications.</span><span class="sxs-lookup"><span data-stu-id="b59d0-119">One-way synchronization applications, such as a client or mid-tier caching application, can be built that use change tracking.</span></span> <span data-ttu-id="b59d0-120">Comme le montre l’illustration suivante, une application de mise en cache requiert que les données soient stockées dans le [!INCLUDE[ssDE](../../includes/ssde-md.md)] et mises en cache dans d’autres banques de données.</span><span class="sxs-lookup"><span data-stu-id="b59d0-120">As shown in the following illustration, a caching application requires data to be stored in the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and to be cached in other data stores.</span></span> <span data-ttu-id="b59d0-121">L'application doit être en mesure de maintenir le cache à jour avec toutes les modifications apportées aux tables de la base de données.</span><span class="sxs-lookup"><span data-stu-id="b59d0-121">The application must be able to keep the cache up-to-date with any changes that have been made to the database tables.</span></span> <span data-ttu-id="b59d0-122">Il n'y a pas de modifications à retransmettre au [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b59d0-122">There are no changes to pass back to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="b59d0-123">![Présente des applications de synchronisation monodirectionnelle](../../database-engine/media/one-waysync.gif "Présente des applications de synchronisation monodirectionnelle")</span><span class="sxs-lookup"><span data-stu-id="b59d0-123">![Shows one-way synchronization applications](../../database-engine/media/one-waysync.gif "Shows one-way synchronization applications")</span></span>  
  
### <a name="two-way-synchronization-applications"></a><span data-ttu-id="b59d0-124">Applications de synchronisation bidirectionnelle</span><span class="sxs-lookup"><span data-stu-id="b59d0-124">Two-Way Synchronization Applications</span></span>  
 <span data-ttu-id="b59d0-125">Il est aussi possible de créer des applications de synchronisation bidirectionnelle qui utilisent le suivi des modifications.</span><span class="sxs-lookup"><span data-stu-id="b59d0-125">Two-way synchronization applications can also be built that use change tracking.</span></span> <span data-ttu-id="b59d0-126">Dans ce scénario, les données d'une instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)] sont synchronisées avec une ou plusieurs banques de données.</span><span class="sxs-lookup"><span data-stu-id="b59d0-126">In this scenario, the data in an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is synchronized with one or more data stores.</span></span> <span data-ttu-id="b59d0-127">Les données de ces banques peuvent être mises à jour et les modifications doivent être resynchronisées avec le [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b59d0-127">The data in those stores can be updated and the changes must be synchronized back to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="b59d0-128">![Présente des applications de synchronisation bidirectionnelle](../../database-engine/media/two-waysync.gif "Présente des applications de synchronisation bidirectionnelle")</span><span class="sxs-lookup"><span data-stu-id="b59d0-128">![Shows two-way synchronization applications](../../database-engine/media/two-waysync.gif "Shows two-way synchronization applications")</span></span>  
  
 <span data-ttu-id="b59d0-129">Un bon exemple d'application de synchronisation bidirectionnelle est une application qui n'est connectée que de manière occasionnelle.</span><span class="sxs-lookup"><span data-stu-id="b59d0-129">A good example of two-way synchronization application is an occasionally connected application.</span></span> <span data-ttu-id="b59d0-130">Dans ce type d'application, une application cliente interroge et met à jour une banque locale.</span><span class="sxs-lookup"><span data-stu-id="b59d0-130">In this type of application, a client application queries and updates a local store.</span></span> <span data-ttu-id="b59d0-131">Lorsqu'une connexion est disponible entre un client et un serveur, l'application effectue une synchronisation avec le serveur et les données modifiées circulent dans les deux directions.</span><span class="sxs-lookup"><span data-stu-id="b59d0-131">When a connection is available between a client and server, the application will synchronize with a server, and changed data flows in both directions.</span></span>  
  
 <span data-ttu-id="b59d0-132">Les applications de synchronisation bidirectionnelle doivent être en mesure de détecter les conflits.</span><span class="sxs-lookup"><span data-stu-id="b59d0-132">The two-way synchronization applications must be able to detect conflicts.</span></span> <span data-ttu-id="b59d0-133">Un conflit peut se produire si les mêmes données ont été modifiées dans les deux banques de données entre deux synchronisations.</span><span class="sxs-lookup"><span data-stu-id="b59d0-133">A conflict would occur if the same data was changed in both data stores in the time between synchronizations.</span></span> <span data-ttu-id="b59d0-134">Dotée d'une fonctionnalité de détection des conflits, une application peut faire en sorte que les modifications ne soient pas perdues.</span><span class="sxs-lookup"><span data-stu-id="b59d0-134">With the ability to detect conflicts, an application can make sure that changes are not lost.</span></span>  
  
## <a name="how-change-tracking-works"></a><span data-ttu-id="b59d0-135">Mode de fonctionnement du suivi des modifications</span><span class="sxs-lookup"><span data-stu-id="b59d0-135">How Change Tracking Works</span></span>  
 <span data-ttu-id="b59d0-136">Pour configurer le suivi des modifications, vous pouvez utiliser des instructions DDL ou [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b59d0-136">To configure change tracking, you can use DDL statements or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="b59d0-137">Pour plus d’informations, consultez [Activer et désactiver le suivi des modifications &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="b59d0-137">For more information, see [Enable and Disable Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md).</span></span> <span data-ttu-id="b59d0-138">Pour effectuer le suivi des modifications, il est nécessaire de l'activer d'abord pour la base de données, puis pour les tables à suivre au sein de cette base de données.</span><span class="sxs-lookup"><span data-stu-id="b59d0-138">To track changes, change tracking must first be enabled for the database and then enabled for the tables that you want to track within that database.</span></span> <span data-ttu-id="b59d0-139">Aucune modification de la définition de table n’est requise et aucun déclencheur n’est créé.</span><span class="sxs-lookup"><span data-stu-id="b59d0-139">The table definition does not have to be changed in any way, and no triggers are created.</span></span>  
  
 <span data-ttu-id="b59d0-140">À l'issue de la configuration du suivi des modifications pour une table, toute instruction DML qui affecte des lignes dans la table provoquera l'enregistrement d'informations de suivi des modifications pour chaque ligne modifiée.</span><span class="sxs-lookup"><span data-stu-id="b59d0-140">After change tracking is configured for a table, any DML statement that affects rows in the table will cause change tracking information for each modified row to be recorded.</span></span> <span data-ttu-id="b59d0-141">Pour rechercher les lignes qui ont changé et obtenir des informations sur les modifications, vous pouvez utiliser des [fonctions de suivi des modifications](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b59d0-141">To query for the rows that have changed and to obtain information about the changes, you can use [change tracking functions](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql).</span></span>  
  
 <span data-ttu-id="b59d0-142">Les valeurs de la colonne clé primaire sont les seules informations de la table faisant l'objet d'un suivi à être enregistrées avec les informations de modification.</span><span class="sxs-lookup"><span data-stu-id="b59d0-142">The values of the primary key column is only information from the tracked table that is recorded with the change information.</span></span> <span data-ttu-id="b59d0-143">Ces valeurs identifient les lignes qui ont été modifiées.</span><span class="sxs-lookup"><span data-stu-id="b59d0-143">These values identify the rows that have been changed.</span></span> <span data-ttu-id="b59d0-144">Pour obtenir les données les plus récentes pour ces lignes, une application peut utiliser les valeurs de la colonne clé primaire pour joindre la table source à la table faisant l'objet du suivi.</span><span class="sxs-lookup"><span data-stu-id="b59d0-144">To obtain the latest data for those rows, an application can use the primary key column values to join the source table with the tracked table.</span></span>  
  
 <span data-ttu-id="b59d0-145">Les informations sur la modification apportée à chaque ligne peuvent également être obtenues en utilisant le suivi des modifications.</span><span class="sxs-lookup"><span data-stu-id="b59d0-145">Information about the change that was made to each row can also be obtained by using change tracking.</span></span> <span data-ttu-id="b59d0-146">Il peut s'agir du type d'opération DML qui a provoqué la modification (insertion, mise à jour ou suppression) ou des colonnes modifiées dans le cadre d'une opération de mise à jour.</span><span class="sxs-lookup"><span data-stu-id="b59d0-146">For example, the type of DML operation that caused the change (insert, update, or delete) or the columns that were changed as part of an update operation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b59d0-147">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b59d0-147">See Also</span></span>  
 <span data-ttu-id="b59d0-148">[Activer et désactiver les Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="b59d0-148">[Enable and Disable Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md) </span></span>  
 <span data-ttu-id="b59d0-149">[Travailler avec Change Tracking &#40;SQL Server&#41;](../track-changes/work-with-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="b59d0-149">[Work with Change Tracking &#40;SQL Server&#41;](../track-changes/work-with-change-tracking-sql-server.md) </span></span>  
 <span data-ttu-id="b59d0-150">[Gérer Change Tracking &#40;SQL Server&#41;](../track-changes/manage-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="b59d0-150">[Manage Change Tracking &#40;SQL Server&#41;](../track-changes/manage-change-tracking-sql-server.md) </span></span>  
 [<span data-ttu-id="b59d0-151">Suivi des modifications de données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="b59d0-151">Track Data Changes &#40;SQL Server&#41;</span></span>](../track-changes/track-data-changes-sql-server.md)  
  
  
