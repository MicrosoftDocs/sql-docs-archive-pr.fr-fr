---
title: OPENXML (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: conceptual
helpviewer_keywords:
- ColPattern [XML in SQL Server]
- OPENXML statement, about OPENXML statement
- writing XML, OPENXML statement
- OPENXML statement, querying XML
- attribute-centric mapping
- SELECT statement [SQL Server], OPENXML keyword
- column patterns [XML in SQL Server]
- row patterns [XML in SQL Server]
- rowpattern [XML in SQL Server]
- queries [XML in SQL Server], OPENXML statement
- XML [SQL Server], OPENXML statement
- element-centric mapping [SQL Server]
ms.assetid: 060126fc-ed0f-478f-830a-08e418d410dc
author: rothja
ms.author: jroth
ms.openlocfilehash: 1849029e6654fcd629499cceeff9957e5389370f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87710404"
---
# <a name="openxml-sql-server"></a><span data-ttu-id="53f3b-102">OPENXML (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="53f3b-102">OPENXML (SQL Server)</span></span>
  <span data-ttu-id="53f3b-103">OPENXML, un mot clé [!INCLUDE[tsql](../../includes/tsql-md.md)] , fournit un ensemble de lignes sur des documents XML en mémoire qui est similaire à une table ou à une vue.</span><span class="sxs-lookup"><span data-stu-id="53f3b-103">OPENXML, a [!INCLUDE[tsql](../../includes/tsql-md.md)] keyword, provides a rowset over in-memory XML documents that is similar to a table or a view.</span></span> <span data-ttu-id="53f3b-104">OPENXML permet l'accès aux données XML comme s'il s'agissait d'un ensemble de lignes relationnelles.</span><span class="sxs-lookup"><span data-stu-id="53f3b-104">OPENXML allows access to XML data as though it is a relational rowset.</span></span> <span data-ttu-id="53f3b-105">Pour cela, il fournit une vue sous forme d'un ensemble de lignes de la représentation interne d'un document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-105">It does this by providing a rowset view of the internal representation of an XML document.</span></span> <span data-ttu-id="53f3b-106">Les enregistrements de l'ensemble de lignes peuvent être stockés dans des tables de base de données.</span><span class="sxs-lookup"><span data-stu-id="53f3b-106">The records in the rowset can be stored in database tables.</span></span>

 <span data-ttu-id="53f3b-107">OPENXML peut être utilisé dans des instructions SELECT et SELECT INTO, partout où des fournisseurs d'ensemble de lignes, une vue ou OPENROWSET peuvent apparaître comme source.</span><span class="sxs-lookup"><span data-stu-id="53f3b-107">OPENXML can be used in SELECT and SELECT INTO statements wherever rowset providers, a view, or OPENROWSET can appear as the source.</span></span> <span data-ttu-id="53f3b-108">Pour plus d’informations sur la syntaxe d’OPENXML, consultez [OPENXML &#40;Transact-SQL&#41;](/sql/t-sql/functions/openxml-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="53f3b-108">For information about the syntax of OPENXML, see [OPENXML &#40;Transact-SQL&#41;](/sql/t-sql/functions/openxml-transact-sql).</span></span>

 <span data-ttu-id="53f3b-109">Pour écrire des requêtes sur un document XML à l’aide d’OPENXML, vous devez d’abord appeler `sp_xml_preparedocument` .</span><span class="sxs-lookup"><span data-stu-id="53f3b-109">To write queries against an XML document by using OPENXML, you must first call `sp_xml_preparedocument`.</span></span> <span data-ttu-id="53f3b-110">Cela permet d'analyser le document XML et de retourner un descripteur au document analysé qui est prêt à être utilisé.</span><span class="sxs-lookup"><span data-stu-id="53f3b-110">This parses the XML document and returns a handle to the parsed document that is ready for consumption.</span></span> <span data-ttu-id="53f3b-111">Le document analysé est une représentation sous forme d'arborescence de modèle DOM (document model) de différents nœuds dans le document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-111">The parsed document is a document object model (DOM) tree representation of various nodes in the XML document.</span></span> <span data-ttu-id="53f3b-112">Ce descripteur de document est transmis à OPENXML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-112">The document handle is passed to OPENXML.</span></span> <span data-ttu-id="53f3b-113">OPENXML fournit alors une vue sous forme d'ensemble de lignes du document, en fonction des paramètres transmis.</span><span class="sxs-lookup"><span data-stu-id="53f3b-113">OPENXML then provides a rowset view of the document, based on the parameters passed to it.</span></span>

> [!NOTE]
>  <span data-ttu-id="53f3b-114">`sp_xml_preparedocument`utilise une version SQL mise à jour de l’analyseur MSXML, Msxmlsql.dll.</span><span class="sxs-lookup"><span data-stu-id="53f3b-114">`sp_xml_preparedocument` uses a SQL-updated version of the MSXML parser, Msxmlsql.dll.</span></span> <span data-ttu-id="53f3b-115">Cette version de l'analyseur MSXML a été conçue pour prendre en charge [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] et offre une compatibilité descendante avec MSXML version 2.6.</span><span class="sxs-lookup"><span data-stu-id="53f3b-115">This version of the MSXML parser was designed to support [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and remain backward compatible with MSXML version 2.6.</span></span>

 <span data-ttu-id="53f3b-116">Pour libérer de la mémoire, vous devez supprimer la représentation interne d’un document XML de la mémoire en appelant la procédure stockée système **sp_xml_removedocument** .</span><span class="sxs-lookup"><span data-stu-id="53f3b-116">The internal representation of an XML document must be removed from memory by calling the **sp_xml_removedocument** system stored procedure to free the memory.</span></span>

 <span data-ttu-id="53f3b-117">L'illustration ci-dessous montre ce processus.</span><span class="sxs-lookup"><span data-stu-id="53f3b-117">The following illustration shows the process.</span></span>

 <span data-ttu-id="53f3b-118">![Analyse de XML avec OPENXML](../../database-engine/media/xmlsp.gif "Analyse de XML avec OPENXML")</span><span class="sxs-lookup"><span data-stu-id="53f3b-118">![Parsing XML with OPENXML](../../database-engine/media/xmlsp.gif "Parsing XML with OPENXML")</span></span>

 <span data-ttu-id="53f3b-119">Notez que pour comprendre le fonctionnement de OPENXML, vous devez connaître les requêtes XPath et les données XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-119">Note that to understand OPENXML, familiarity with XPath queries and an understanding of XML is required.</span></span> <span data-ttu-id="53f3b-120">Pour plus d’informations sur la prise en charge de XPath dans SQL Server, consultez [Utilisation des requêtes XPath dans SQLXML 4.0](../sqlxml-annotated-xsd-schemas-xpath-queries/using-xpath-queries-in-sqlxml-4-0.md).</span><span class="sxs-lookup"><span data-stu-id="53f3b-120">For more information about XPath support in SQL Server, see [Using XPath Queries in SQLXML 4.0](../sqlxml-annotated-xsd-schemas-xpath-queries/using-xpath-queries-in-sqlxml-4-0.md).</span></span>

> [!NOTE]
>  <span data-ttu-id="53f3b-121">OpenXML permet de paramétrer sous forme de variables les modèles XPath de ligne et de colonne.</span><span class="sxs-lookup"><span data-stu-id="53f3b-121">OpenXML allows the row and column XPath patterns to be parameterized as variables.</span></span> <span data-ttu-id="53f3b-122">Un tel paramétrage peut mener à des injections d'expressions XPath, si le programmeur expose le paramétrage à des utilisateurs extérieurs (par exemple, si les paramètres sont fournis via une procédure stockée appelée de manière externe).</span><span class="sxs-lookup"><span data-stu-id="53f3b-122">Such parameterization could lead to XPath expression injections, if the programmer exposes the parameterization to outside users (for example, if the parameters are provided via an externally called stored procedure).</span></span> <span data-ttu-id="53f3b-123">Pour éviter de tels problèmes potentiels de sécurité, il est conseillé de ne jamais exposer les paramètres XPath à des appelants externes.</span><span class="sxs-lookup"><span data-stu-id="53f3b-123">To avoid such potential security issues, it is recommended that XPath parameters should never be exposed to external callers.</span></span>

## <a name="example"></a><span data-ttu-id="53f3b-124">Exemple</span><span class="sxs-lookup"><span data-stu-id="53f3b-124">Example</span></span>
 <span data-ttu-id="53f3b-125">L'exemple ci-dessous montre l'utilisation de `OPENXML` dans une instruction `INSERT` et une instruction `SELECT` .</span><span class="sxs-lookup"><span data-stu-id="53f3b-125">The following example shows the use of `OPENXML` in an `INSERT` statement and a `SELECT` statement.</span></span> <span data-ttu-id="53f3b-126">L'exemple de document XML comprend les éléments `<Customers>` et `<Orders>` .</span><span class="sxs-lookup"><span data-stu-id="53f3b-126">The sample XML document contains `<Customers>` and `<Orders>` elements.</span></span>

 <span data-ttu-id="53f3b-127">D'abord, la procédure stockée `sp_xml_preparedocument` analyse le document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-127">First, the `sp_xml_preparedocument` stored procedure parses the XML document.</span></span> <span data-ttu-id="53f3b-128">Le document analysé est une représentation sous forme d'arborescence des différents nœuds du document XML : éléments, attributs, textes, commentaires, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="53f3b-128">The parsed document is a tree representation of the nodes (elements, attributes, text, and comments) in the XML document.</span></span> <span data-ttu-id="53f3b-129">`OPENXML` fait ensuite référence à ce document XML analysé et fournit une vue sous forme d'ensemble de lignes de tout ou partie de ce document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-129">`OPENXML` then refers to this parsed XML document and provides a rowset view of all or parts of this XML document.</span></span> <span data-ttu-id="53f3b-130">Une instruction `INSERT` utilisant `OPENXML` peut ainsi insérer des données dans une table de base de données à partir de ce type d'ensemble de lignes.</span><span class="sxs-lookup"><span data-stu-id="53f3b-130">An `INSERT` statement using `OPENXML` can insert data from such a rowset into a database table.</span></span> <span data-ttu-id="53f3b-131">Vous pouvez utiliser plusieurs appels à `OPENXML` pour fournir une vue d'un ensemble de lignes provenant de différentes parties du document XML puis traiter celles-ci en les insérant par exemple dans différentes tables.</span><span class="sxs-lookup"><span data-stu-id="53f3b-131">Several `OPENXML` calls can be used to provide a rowset view of various parts of the XML document and process them, for example, by inserting them into different tables.</span></span> <span data-ttu-id="53f3b-132">Cette opération est également qualifiée de fragmentation de données XML dans des tables.</span><span class="sxs-lookup"><span data-stu-id="53f3b-132">This process is also referred to as shredding XML into tables.</span></span>

 <span data-ttu-id="53f3b-133">Dans l'exemple suivant, un document XML est fragmenté de telle sorte que les éléments `<Customers>` sont stockés dans la table `Customers` et les éléments `<Orders>` sont stockés dans la table `Orders` à l'aide de deux instructions `INSERT` .</span><span class="sxs-lookup"><span data-stu-id="53f3b-133">In the following example, an XML document is shredded in a way that `<Customers>` elements are stored in the `Customers` table and `<Orders>` elements are stored in the `Orders` table by using two `INSERT` statements.</span></span> <span data-ttu-id="53f3b-134">Cet exemple illustre également une instruction `SELECT` associée à `OPENXML` qui récupère les données des colonnes `CustomerID` et `OrderDate` du document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-134">The example also shows a `SELECT` statement with `OPENXML` that retrieves `CustomerID` and `OrderDate` from the XML document.</span></span> <span data-ttu-id="53f3b-135">Dans la dernière étape du processus, la procédure stockée `sp_xml_removedocument`est appelée.</span><span class="sxs-lookup"><span data-stu-id="53f3b-135">The last step in the process is to call `sp_xml_removedocument`.</span></span> <span data-ttu-id="53f3b-136">Ceci permet en effet de libérer la mémoire allouée à la représentation en arborescence XML interne créée lors de la phase d'analyse.</span><span class="sxs-lookup"><span data-stu-id="53f3b-136">This is done in order to release the memory allocated to contain the internal XML tree representation that was created during the parse phase.</span></span>

```
-- Create tables for later population using OPENXML.
CREATE TABLE Customers (CustomerID varchar(20) primary key,
                ContactName varchar(20), 
                CompanyName varchar(20));
GO
CREATE TABLE Orders( CustomerID varchar(20), OrderDate datetime);
GO
DECLARE @docHandle int;
DECLARE @xmlDocument nvarchar(max); -- or xml type
SET @xmlDocument = N'<ROOT>
<Customers CustomerID="XYZAA" ContactName="Joe" CompanyName="Company1">
<Orders CustomerID="XYZAA" OrderDate="2000-08-25T00:00:00"/>
<Orders CustomerID="XYZAA" OrderDate="2000-10-03T00:00:00"/>
</Customers>
<Customers CustomerID="XYZBB" ContactName="Steve"
CompanyName="Company2">No Orders yet!
</Customers>
</ROOT>';
EXEC sp_xml_preparedocument @docHandle OUTPUT, @xmlDocument;
-- Use OPENXML to provide rowset consisting of customer data.
INSERT Customers 
SELECT * 
FROM OPENXML(@docHandle, N'/ROOT/Customers') 
  WITH Customers;
-- Use OPENXML to provide rowset consisting of order data.
INSERT Orders 
SELECT * 
FROM OPENXML(@docHandle, N'//Orders') 
  WITH Orders;
-- Using OPENXML in a SELECT statement.
SELECT * FROM OPENXML(@docHandle, N'/ROOT/Customers/Orders') WITH (CustomerID nchar(5) '../@CustomerID', OrderDate datetime);
-- Remove the internal representation of the XML document.
EXEC sp_xml_removedocument @docHandle; 
```

 <span data-ttu-id="53f3b-137">L'illustration suivante montre l'arborescence XML analysée du document XML précédent créé à l'aide de sp_xml_preparedocument.</span><span class="sxs-lookup"><span data-stu-id="53f3b-137">The following illustration shows the parsed XML tree of the previous XML document that was created by using sp_xml_preparedocument.</span></span>

 <span data-ttu-id="53f3b-138">![Arborescence XML analysée](../../database-engine/media/xmlparsedtree.gif "Arborescence XML analysée")</span><span class="sxs-lookup"><span data-stu-id="53f3b-138">![Parsed XML tree](../../database-engine/media/xmlparsedtree.gif "Parsed XML tree")</span></span>

## <a name="openxml-parameters"></a><span data-ttu-id="53f3b-139">Paramètres OPENXML</span><span class="sxs-lookup"><span data-stu-id="53f3b-139">OPENXML Parameters</span></span>
 <span data-ttu-id="53f3b-140">Les paramètres OPENXML comprennent :</span><span class="sxs-lookup"><span data-stu-id="53f3b-140">The parameters to OPENXML include the following:</span></span>

-   <span data-ttu-id="53f3b-141">Un descripteur de document XML (*idoc*)</span><span class="sxs-lookup"><span data-stu-id="53f3b-141">An XML document handle (*idoc*)</span></span>

-   <span data-ttu-id="53f3b-142">Une expression XPath identifiant les nœuds à mapper avec les lignes (*rowpattern*)</span><span class="sxs-lookup"><span data-stu-id="53f3b-142">An XPath expression to identify the nodes to be mapped to rows (*rowpattern*)</span></span>

-   <span data-ttu-id="53f3b-143">Une description de l'ensemble de lignes à générer</span><span class="sxs-lookup"><span data-stu-id="53f3b-143">A description of the rowset to be generated</span></span>

-   <span data-ttu-id="53f3b-144">Un mappage entre les colonnes de l'ensemble de lignes et les nœuds XML</span><span class="sxs-lookup"><span data-stu-id="53f3b-144">Mapping between the rowset columns and the XML nodes</span></span>

### <a name="xml-document-handle-idoc"></a><span data-ttu-id="53f3b-145">Descripteur de document XML (idoc)</span><span class="sxs-lookup"><span data-stu-id="53f3b-145">XML Document Handle (idoc)</span></span>
 <span data-ttu-id="53f3b-146">Le descripteur de document est retourné par la `sp_xml_preparedocument` procédure stockée.</span><span class="sxs-lookup"><span data-stu-id="53f3b-146">The document handle is returned by the `sp_xml_preparedocument` stored procedure.</span></span>

### <a name="xpath-expression-to-identify-the-nodes-to-be-processed-rowpattern"></a><span data-ttu-id="53f3b-147">Expression XPath identifiant les nœuds à traiter (rowpattern)</span><span class="sxs-lookup"><span data-stu-id="53f3b-147">XPath Expression to Identify the Nodes to Be Processed (rowpattern)</span></span>
 <span data-ttu-id="53f3b-148">L'expression XPath spécifiée comme paramètre *rowpattern* identifie un ensemble de nœuds dans le document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-148">The XPath expression specified as *rowpattern* identifies a set of nodes in the XML document.</span></span> <span data-ttu-id="53f3b-149">Chaque nœud identifié par *rowpattern* correspond à une ligne unique de l'ensemble de lignes généré par OPENXML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-149">Each node that is identified by *rowpattern* corresponds to a single row in the rowset that is generated by OPENXML.</span></span>

 <span data-ttu-id="53f3b-150">Les nœuds identifiés par l'expression XPath peuvent être des nœuds XML quelconques dans le document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-150">The nodes identified by the XPath expression can be any XML node in the XML document.</span></span> <span data-ttu-id="53f3b-151">Si *rowpattern* identifie un ensemble d'éléments dans le document XML, il existe une seule ligne dans l'ensemble de lignes pour chaque nœud d'élément identifié.</span><span class="sxs-lookup"><span data-stu-id="53f3b-151">If *rowpattern* identifies a set of elements in the XML document, there is one row in the rowset for each element node identified.</span></span> <span data-ttu-id="53f3b-152">Par exemple, si *rowpattern* s'achève au niveau d'un attribut, une ligne est créée pour chaque nœud d'attribut sélectionné par *rowpattern*.</span><span class="sxs-lookup"><span data-stu-id="53f3b-152">For example, if *rowpattern* ends in an attribute, a row is created for each attribute node selected by *rowpattern*.</span></span>

### <a name="description-of-the-rowset-to-be-generated"></a><span data-ttu-id="53f3b-153">Description de l'ensemble de lignes à générer</span><span class="sxs-lookup"><span data-stu-id="53f3b-153">Description of the Rowset to Be Generated</span></span>
 <span data-ttu-id="53f3b-154">Un schéma d'ensemble de lignes est utilisé par OPENXML pour générer l'ensemble de lignes résultant.</span><span class="sxs-lookup"><span data-stu-id="53f3b-154">A rowset schema is used by OPENXML to generate the resulting rowset.</span></span> <span data-ttu-id="53f3b-155">Vous pouvez utiliser les options suivantes lorsque vous spécifiez un schéma d'ensemble de lignes.</span><span class="sxs-lookup"><span data-stu-id="53f3b-155">You can use the following options when specifying a rowset schema.</span></span>

#### <a name="using-the-edge-table-format"></a><span data-ttu-id="53f3b-156">Utilisation du format de table du bord</span><span class="sxs-lookup"><span data-stu-id="53f3b-156">Using the Edge Table Format</span></span>
 <span data-ttu-id="53f3b-157">Vous devez utiliser le format de table du bord pour spécifier un schéma d'ensemble de lignes.</span><span class="sxs-lookup"><span data-stu-id="53f3b-157">You should use the edge table format to specify a rowset schema.</span></span> <span data-ttu-id="53f3b-158">N'utilisez pas la clause WITH.</span><span class="sxs-lookup"><span data-stu-id="53f3b-158">Do not use the WITH clause.</span></span>

 <span data-ttu-id="53f3b-159">Lorsque vous procédez ainsi, OPENXML retourne un ensemble de lignes dans le format de table du bord.</span><span class="sxs-lookup"><span data-stu-id="53f3b-159">When you do this, OPENXML returns a rowset in the edge table format.</span></span> <span data-ttu-id="53f3b-160">Ce format est appelé ainsi parce que chaque bord de l'arborescence du document XML analysé est mappé avec une ligne de l'ensemble de lignes.</span><span class="sxs-lookup"><span data-stu-id="53f3b-160">This is referred to as an edge table, because every edge in the parsed XML document tree maps to a row in the rowset.</span></span>

 <span data-ttu-id="53f3b-161">Les tables du bord représentent au sein d'une table unique la structure à granularité fine d'un document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-161">Edge tables represent within a single table the fine-grained XML document structure.</span></span> <span data-ttu-id="53f3b-162">Cette structure inclut les noms des éléments et attributs, la hiérarchie du document, les espaces de noms et les instructions de traitement.</span><span class="sxs-lookup"><span data-stu-id="53f3b-162">This structure includes the element and attribute names, the document hierarchy, the namespaces, and the processing instructions.</span></span> <span data-ttu-id="53f3b-163">Le format de table du bord vous permet d'obtenir des informations supplémentaires non présentées par le biais des métapropriétés.</span><span class="sxs-lookup"><span data-stu-id="53f3b-163">The edge table format allows you to obtain additional information that is not exposed through the metaproperties.</span></span> <span data-ttu-id="53f3b-164">Pour plus d'informations sur les métapropriétés, consultez [Specify Metaproperties in OPENXML](../xml/specify-metaproperties-in-openxml.md).</span><span class="sxs-lookup"><span data-stu-id="53f3b-164">For more information about metaproperties, see [Specify Metaproperties in OPENXML](../xml/specify-metaproperties-in-openxml.md).</span></span>

 <span data-ttu-id="53f3b-165">Les informations supplémentaires fournies par une table du bord vous permettent de stocker et d'interroger le type de données d'un élément et d'un attribut, le type de nœud, ainsi que de stocker et d'interroger les informations sur la structure d'un document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-165">The additional information provided by an edge table allows you to store and query the data type of an element and attribute, and the node type, and also store and query information about the XML document structure.</span></span> <span data-ttu-id="53f3b-166">Ces informations supplémentaires peuvent également vous permettre d'élaborer votre propre système de gestion de documents XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-166">With this additional information, it may also be possible to build your own XML document management system.</span></span>

 <span data-ttu-id="53f3b-167">En utilisant une table du bord, vous pouvez écrire des procédures stockées qui acceptent des documents XML comme entrée de type BLOB (Binary Large Object), qui génèrent la table du bord, puis extraient et analysent le document à un niveau plus détaillé.</span><span class="sxs-lookup"><span data-stu-id="53f3b-167">By using an edge table, you can write stored procedures that take XML documents as binary large object (BLOB) input, produce the edge table, and then extract and analyze the document on a more detailed level.</span></span> <span data-ttu-id="53f3b-168">Ce niveau détaillé peut inclure la recherche de la hiérarchie du document, des noms des éléments et des attributs, des espaces de noms et des instructions de traitement.</span><span class="sxs-lookup"><span data-stu-id="53f3b-168">This detailed level could include finding the document hierarchy, the element and attribute names, the namespaces, and the processing instructions.</span></span>

 <span data-ttu-id="53f3b-169">La table du bord peut également faire office de format de stockage pour les documents XML, lorsque le mappage avec d'autres formats relationnels n'est pas logique et qu'un champ ntext ne fournit pas suffisamment d'informations structurelles.</span><span class="sxs-lookup"><span data-stu-id="53f3b-169">The edge table also can serve as a storage format for XML documents when mapping to other relational formats is not logical and an ntext field is not providing enough structural information.</span></span>

 <span data-ttu-id="53f3b-170">Dans les situations où vous pouvez utiliser un analyseur XML pour examiner un document XML, vous pouvez utiliser une table du bord à la place pour obtenir les mêmes informations.</span><span class="sxs-lookup"><span data-stu-id="53f3b-170">In situations where you can use an XML parser to examine an XML document, you can use an edge table instead to obtain the same information.</span></span>

 <span data-ttu-id="53f3b-171">Le tableau ci-dessous décrit la structure de la table du bord.</span><span class="sxs-lookup"><span data-stu-id="53f3b-171">The following table describes the structure of the edge table.</span></span>

|<span data-ttu-id="53f3b-172">Nom de la colonne</span><span class="sxs-lookup"><span data-stu-id="53f3b-172">Column name</span></span>|<span data-ttu-id="53f3b-173">Type de données</span><span class="sxs-lookup"><span data-stu-id="53f3b-173">Data type</span></span>|<span data-ttu-id="53f3b-174">Description</span><span class="sxs-lookup"><span data-stu-id="53f3b-174">Description</span></span>|
|-----------------|---------------|-----------------|
|<span data-ttu-id="53f3b-175">**id**</span><span class="sxs-lookup"><span data-stu-id="53f3b-175">**id**</span></span>|<span data-ttu-id="53f3b-176">**bigint**</span><span class="sxs-lookup"><span data-stu-id="53f3b-176">**bigint**</span></span>|<span data-ttu-id="53f3b-177">ID unique du nœud du document.</span><span class="sxs-lookup"><span data-stu-id="53f3b-177">Is the unique ID of the document node.</span></span><br /><br /> <span data-ttu-id="53f3b-178">L'ID de l'élément racine a pour valeur 0.</span><span class="sxs-lookup"><span data-stu-id="53f3b-178">The root element has an ID value of 0.</span></span> <span data-ttu-id="53f3b-179">Les valeurs négatives d'ID sont réservées.</span><span class="sxs-lookup"><span data-stu-id="53f3b-179">The negative ID values are reserved.</span></span>|
|<span data-ttu-id="53f3b-180">**parentid**</span><span class="sxs-lookup"><span data-stu-id="53f3b-180">**parentid**</span></span>|<span data-ttu-id="53f3b-181">**bigint**</span><span class="sxs-lookup"><span data-stu-id="53f3b-181">**bigint**</span></span>|<span data-ttu-id="53f3b-182">Identifie le parent du nœud.</span><span class="sxs-lookup"><span data-stu-id="53f3b-182">Identifies the parent of the node.</span></span> <span data-ttu-id="53f3b-183">Le parent identifié par cet ID n'est pas nécessairement l'élément parent.</span><span class="sxs-lookup"><span data-stu-id="53f3b-183">The parent identified by this ID is not necessarily the parent element.</span></span> <span data-ttu-id="53f3b-184">Toutefois, cela dépend du NodeType du nœud dont le parent est identifié par cet ID.</span><span class="sxs-lookup"><span data-stu-id="53f3b-184">However, this depends on the NodeType of the node whose parent is identified by this ID.</span></span> <span data-ttu-id="53f3b-185">Par exemple, si le nœud est un nœud texte, son parent peut être un nœud d'attribut.</span><span class="sxs-lookup"><span data-stu-id="53f3b-185">For example, if the node is a text node, its parent may be an attribute node.</span></span><br /><br /> <span data-ttu-id="53f3b-186">Si le nœud se situe au niveau supérieur du document XML, son **ParentID** a pour valeur NULL.</span><span class="sxs-lookup"><span data-stu-id="53f3b-186">If the node is at the top level in the XML document, its **ParentID** is NULL.</span></span>|
|<span data-ttu-id="53f3b-187">**node type**</span><span class="sxs-lookup"><span data-stu-id="53f3b-187">**node type**</span></span>|<span data-ttu-id="53f3b-188">**int**</span><span class="sxs-lookup"><span data-stu-id="53f3b-188">**int**</span></span>|<span data-ttu-id="53f3b-189">Identifie le type de nœud et est un entier qui correspond à la numérotation des types de nœud XML de modèle d'objet XML (DOM).</span><span class="sxs-lookup"><span data-stu-id="53f3b-189">Identifies the node type and is an integer that corresponds to the XML object model (DOM) node type numbering.</span></span><br /><br /> <span data-ttu-id="53f3b-190">Valeurs susceptibles d'apparaître dans cette colonne pour indiquer le type de nœud :</span><span class="sxs-lookup"><span data-stu-id="53f3b-190">Following are the values that can appear in this column to indicate the node type:</span></span><br /><br /> <span data-ttu-id="53f3b-191">**1** = Nœud d’élément</span><span class="sxs-lookup"><span data-stu-id="53f3b-191">**1** = Element node</span></span><br /><br /> <span data-ttu-id="53f3b-192">**2** = Nœud d’attribut</span><span class="sxs-lookup"><span data-stu-id="53f3b-192">**2** = Attribute node</span></span><br /><br /> <span data-ttu-id="53f3b-193">**3** = Nœud texte</span><span class="sxs-lookup"><span data-stu-id="53f3b-193">**3** = Text node</span></span><br /><br /> <span data-ttu-id="53f3b-194">**4** = Nœud de section CDATA</span><span class="sxs-lookup"><span data-stu-id="53f3b-194">**4** = CDATA section node</span></span><br /><br /> <span data-ttu-id="53f3b-195">**5** = Nœud de référence d’entité</span><span class="sxs-lookup"><span data-stu-id="53f3b-195">**5** = Entity reference node</span></span><br /><br /> <span data-ttu-id="53f3b-196">**6** = Nœud d’entité</span><span class="sxs-lookup"><span data-stu-id="53f3b-196">**6** = Entity node</span></span><br /><br /> <span data-ttu-id="53f3b-197">**7** = Nœud d’instructions de traitement</span><span class="sxs-lookup"><span data-stu-id="53f3b-197">**7** = Processing instruction node</span></span><br /><br /> <span data-ttu-id="53f3b-198">**8** = Nœud de commentaire</span><span class="sxs-lookup"><span data-stu-id="53f3b-198">**8** = Comment node</span></span><br /><br /> <span data-ttu-id="53f3b-199">**9** = Nœud de document</span><span class="sxs-lookup"><span data-stu-id="53f3b-199">**9** = Document node</span></span><br /><br /> <span data-ttu-id="53f3b-200">**10** = Nœud de type de document</span><span class="sxs-lookup"><span data-stu-id="53f3b-200">**10** = Document Type node</span></span><br /><br /> <span data-ttu-id="53f3b-201">**11** = Nœud de fragment de document</span><span class="sxs-lookup"><span data-stu-id="53f3b-201">**11** = Document Fragment node</span></span><br /><br /> <span data-ttu-id="53f3b-202">**12** = Nœud de notation</span><span class="sxs-lookup"><span data-stu-id="53f3b-202">**12** = Notation node</span></span><br /><br /> <span data-ttu-id="53f3b-203">Pour plus d'informations, consultez la rubrique « Propriété nodeType » dans le Kit de développement logiciel Microsoft XML (MSXML).</span><span class="sxs-lookup"><span data-stu-id="53f3b-203">For more information, see the "nodeType Property" topic in the Microsoft XML (MSXML) SDK.</span></span>|
|<span data-ttu-id="53f3b-204">**localname**</span><span class="sxs-lookup"><span data-stu-id="53f3b-204">**localname**</span></span>|<span data-ttu-id="53f3b-205">**nvarchar(max)**</span><span class="sxs-lookup"><span data-stu-id="53f3b-205">**nvarchar(max)**</span></span>|<span data-ttu-id="53f3b-206">Fournit le nom local de l'élément ou de l'attribut.</span><span class="sxs-lookup"><span data-stu-id="53f3b-206">Gives the local name of the element or attribute.</span></span> <span data-ttu-id="53f3b-207">A pour valeur NULL si l'objet DOM est dépourvu de nom.</span><span class="sxs-lookup"><span data-stu-id="53f3b-207">Is NULL if the DOM object does not have a name.</span></span>|
|<span data-ttu-id="53f3b-208">**prefix**</span><span class="sxs-lookup"><span data-stu-id="53f3b-208">**prefix**</span></span>|<span data-ttu-id="53f3b-209">**nvarchar(max)**</span><span class="sxs-lookup"><span data-stu-id="53f3b-209">**nvarchar(max)**</span></span>|<span data-ttu-id="53f3b-210">Préfixe de l'espace de noms du nom de nœud.</span><span class="sxs-lookup"><span data-stu-id="53f3b-210">Is the namespace prefix of the node name.</span></span>|
|<span data-ttu-id="53f3b-211">**namespaceuri**</span><span class="sxs-lookup"><span data-stu-id="53f3b-211">**namespaceuri**</span></span>|<span data-ttu-id="53f3b-212">**nvarchar(max)**</span><span class="sxs-lookup"><span data-stu-id="53f3b-212">**nvarchar(max)**</span></span>|<span data-ttu-id="53f3b-213">URI de l'espace de noms du nœud.</span><span class="sxs-lookup"><span data-stu-id="53f3b-213">Is the namespace URI of the node.</span></span> <span data-ttu-id="53f3b-214">Si la valeur est NULL, aucun espace de noms n'est présent.</span><span class="sxs-lookup"><span data-stu-id="53f3b-214">If the value is NULL, no namespace is present.</span></span>|
|<span data-ttu-id="53f3b-215">**datatype**</span><span class="sxs-lookup"><span data-stu-id="53f3b-215">**datatype**</span></span>|<span data-ttu-id="53f3b-216">**nvarchar(max)**</span><span class="sxs-lookup"><span data-stu-id="53f3b-216">**nvarchar(max)**</span></span>|<span data-ttu-id="53f3b-217">Type de données réel de la ligne d'élément ou d'attribut, NULL sinon.</span><span class="sxs-lookup"><span data-stu-id="53f3b-217">Is the actual data type of the element or attribute row and is otherwise NULL.</span></span> <span data-ttu-id="53f3b-218">Le type de données est déduit de la DTD en ligne ou du schéma en ligne.</span><span class="sxs-lookup"><span data-stu-id="53f3b-218">The data type is inferred from the inline DTD or from the inline schema.</span></span>|
|<span data-ttu-id="53f3b-219">**prev**</span><span class="sxs-lookup"><span data-stu-id="53f3b-219">**prev**</span></span>|<span data-ttu-id="53f3b-220">**bigint**</span><span class="sxs-lookup"><span data-stu-id="53f3b-220">**bigint**</span></span>|<span data-ttu-id="53f3b-221">ID XML de l'élément frère précédent.</span><span class="sxs-lookup"><span data-stu-id="53f3b-221">Is the XML ID of the previous sibling element.</span></span> <span data-ttu-id="53f3b-222">Vaut NULL en l'absence de frère précédent direct.</span><span class="sxs-lookup"><span data-stu-id="53f3b-222">Is NULL if there is no direct previous sibling.</span></span>|
|<span data-ttu-id="53f3b-223">**text**</span><span class="sxs-lookup"><span data-stu-id="53f3b-223">**text**</span></span>|<span data-ttu-id="53f3b-224">**ntext**</span><span class="sxs-lookup"><span data-stu-id="53f3b-224">**ntext**</span></span>|<span data-ttu-id="53f3b-225">Contient la valeur d'attribut ou le contenu de l'élément dans sa forme textuelle.</span><span class="sxs-lookup"><span data-stu-id="53f3b-225">Contains the attribute value or the element content in text form.</span></span> <span data-ttu-id="53f3b-226">Ou a pour valeur NULL, si l'entrée de la table du bord ne nécessite pas de valeur.</span><span class="sxs-lookup"><span data-stu-id="53f3b-226">Or is NULL, if the edge table entry does not need a value.</span></span>|

#### <a name="using-the-with-clause-to-specify-an-existing-table"></a><span data-ttu-id="53f3b-227">Utilisation de la clause WITH pour spécifier une table existante</span><span class="sxs-lookup"><span data-stu-id="53f3b-227">Using the WITH Clause to Specify an Existing Table</span></span>
 <span data-ttu-id="53f3b-228">Vous pouvez utiliser la clause WITH pour spécifier le nom d'une table existante.</span><span class="sxs-lookup"><span data-stu-id="53f3b-228">You can use the WITH clause to specify the name of an existing table.</span></span> <span data-ttu-id="53f3b-229">Pour cela, spécifiez simplement le nom d'une table existante dont le schéma permet à OPENXML de générer l'ensemble de lignes.</span><span class="sxs-lookup"><span data-stu-id="53f3b-229">To do this, just specify an existing table name whose schema can be used by OPENXML to generate the rowset.</span></span>

#### <a name="using-the-with-clause-to-specify-a-schema"></a><span data-ttu-id="53f3b-230">Utilisation de la clause WITH pour spécifier un schéma</span><span class="sxs-lookup"><span data-stu-id="53f3b-230">Using the WITH Clause to Specify a Schema</span></span>
 <span data-ttu-id="53f3b-231">Vous pouvez utiliser la clause WITH pour spécifier un schéma complet.</span><span class="sxs-lookup"><span data-stu-id="53f3b-231">You can use the WITH Clause to specify a complete schema.</span></span> <span data-ttu-id="53f3b-232">Lors de la spécification du schéma d'ensemble de lignes, vous définissez les noms de colonnes et leurs types de données, ainsi que leur mappage avec le document XML.</span><span class="sxs-lookup"><span data-stu-id="53f3b-232">In specifying the rowset schema, you specify the column names, their data types, and their mapping to the XML document.</span></span>

 <span data-ttu-id="53f3b-233">Vous pouvez spécifier le modèle de colonne à l'aide du paramètre ColPattern dans SchemaDeclaration.</span><span class="sxs-lookup"><span data-stu-id="53f3b-233">You can specify the column pattern by using the ColPattern parameter in the SchemaDeclaration.</span></span> <span data-ttu-id="53f3b-234">Le modèle de colonne spécifié permet de mapper une colonne d'un ensemble de lignes avec le nœud XML identifié par rowpattern et de déterminer le type de mappage.</span><span class="sxs-lookup"><span data-stu-id="53f3b-234">The specified column pattern is used to map a rowset column to the XML node that is identified by rowpattern and is also used to determine the type of mapping.</span></span>

 <span data-ttu-id="53f3b-235">Si ColPattern n'est spécifié pour aucune colonne, la colonne de l'ensemble de lignes est mappée avec le nœud XML portant le même nom, en fonction du mappage défini par le paramètre *flags* .</span><span class="sxs-lookup"><span data-stu-id="53f3b-235">If ColPattern is not specified for a column, the rowset column maps to the XML node with the same name, based on the mapping specified by the *flags* parameter.</span></span> <span data-ttu-id="53f3b-236">Cependant, si ColPattern est spécifié dans le cadre de la définition de schéma dans la clause WITH, il remplace le mappage défini dans le paramètre *flags* .</span><span class="sxs-lookup"><span data-stu-id="53f3b-236">However, if ColPattern is specified as part of the schema specification in the WITH clause, it overwrites the mapping that is specified in the *flags* parameter.</span></span>

### <a name="mapping-between-the-rowset-columns-and-the-xml-nodes"></a><span data-ttu-id="53f3b-237">Un mappage entre les colonnes de l'ensemble de lignes et les nœuds XML</span><span class="sxs-lookup"><span data-stu-id="53f3b-237">Mapping Between the Rowset Columns and the XML Nodes</span></span>
 <span data-ttu-id="53f3b-238">Dans l’instruction OPENXML, vous pouvez éventuellement spécifier le type de mappage, tel que centré sur les attributs ou centré sur les éléments, entre les colonnes de l’ensemble de lignes et les nœuds XML identifiés par *rowpattern*.</span><span class="sxs-lookup"><span data-stu-id="53f3b-238">In the OPENXML statement, you can optionally specify the type of mapping, such as attribute-centric or element-centric, between the rowset columns and the XML nodes that are identified by the *rowpattern*.</span></span> <span data-ttu-id="53f3b-239">Cette information est utilisée dans la transformation entre les nœuds XML et les colonnes de l'ensemble de lignes.</span><span class="sxs-lookup"><span data-stu-id="53f3b-239">This information is used in the transformation between the XML nodes and the rowset columns.</span></span>

 <span data-ttu-id="53f3b-240">Vous pouvez spécifier le mappage de deux façons et vous pouvez également spécifier cela :</span><span class="sxs-lookup"><span data-stu-id="53f3b-240">You can specify the mapping in two ways, and you can also specify both:</span></span>

-   <span data-ttu-id="53f3b-241">en utilisant le paramètre *flags*</span><span class="sxs-lookup"><span data-stu-id="53f3b-241">By using the *flags* parameter</span></span>

     <span data-ttu-id="53f3b-242">Le mappage spécifié par le paramètre *flags* suppose une correspondance de nom dans laquelle les nœuds XML sont mappés avec les colonnes correspondantes du même nom dans l'ensemble de lignes.</span><span class="sxs-lookup"><span data-stu-id="53f3b-242">The mapping that is specified by the *flags* parameter assumes name correspondence in which the XML nodes map to the corresponding rowset columns with same name.</span></span>

-   <span data-ttu-id="53f3b-243">en utilisant le paramètre *ColPattern*</span><span class="sxs-lookup"><span data-stu-id="53f3b-243">By using the *ColPattern* parameter</span></span>

     <span data-ttu-id="53f3b-244">L'expression XPath*ColPattern*est spécifiée dans le paramètre *SchemaDeclaration* de la clause WITH.</span><span class="sxs-lookup"><span data-stu-id="53f3b-244">*ColPattern*, an XPath expression, is specified as part of *SchemaDeclaration* in the WITH clause.</span></span> <span data-ttu-id="53f3b-245">Le mappage spécifié dans *ColPattern* remplace celui défini par le paramètre *flags* .</span><span class="sxs-lookup"><span data-stu-id="53f3b-245">The mapping specified in *ColPattern* overwrites the mapping specified by the *flags* parameter.</span></span>

     <span data-ttu-id="53f3b-246">Vous pouvez utiliser*ColPattern* pour spécifier le type de mappage, tel que centré sur les attributs ou centré sur les éléments, qui remplace ou améliore le mappage par défaut indiqué par le paramètre *flags*.</span><span class="sxs-lookup"><span data-stu-id="53f3b-246">*ColPattern* can be used to specify the type of mapping, such as attribute-centric or element-centric, that overwrites or enhances the default mapping indicated by the *flags*.</span></span>

     <span data-ttu-id="53f3b-247">*ColPattern* est spécifié dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="53f3b-247">*ColPattern* is specified under the following circumstances:</span></span>

    -   <span data-ttu-id="53f3b-248">le nom de colonne de l'ensemble de lignes est différent du nom d'élément ou d'attribut avec lequel il est mappé.</span><span class="sxs-lookup"><span data-stu-id="53f3b-248">The column name in the rowset is different from the element or attribute name to which it is mapped.</span></span> <span data-ttu-id="53f3b-249">Dans ce cas, *ColPattern* permet d'identifier le nom d'élément ou d'attribut XML avec lequel la colonne de l'ensemble de lignes est mappée.</span><span class="sxs-lookup"><span data-stu-id="53f3b-249">In this case, *ColPattern* is used to identify the XML element and attribute name to which the rowset column maps.</span></span>

    -   <span data-ttu-id="53f3b-250">vous souhaitez mapper un attribut de métapropriété avec la colonne.</span><span class="sxs-lookup"><span data-stu-id="53f3b-250">You want to map a metaproperty attribute to the column.</span></span> <span data-ttu-id="53f3b-251">Dans ce cas, *ColPattern* permet d'identifier la métapropriété avec laquelle la colonne de l'ensemble de lignes est mappée.</span><span class="sxs-lookup"><span data-stu-id="53f3b-251">In this case, *ColPattern* is used to identify the metaproperty to which the rowset column maps.</span></span> <span data-ttu-id="53f3b-252">Pour plus d’informations sur les métapropriétés, consultez [Spécifier des métapropriétés dans OPENXML](../xml/specify-metaproperties-in-openxml.md).</span><span class="sxs-lookup"><span data-stu-id="53f3b-252">For more information about how to use metaproperties, see [Specify Metaproperties in OPENXML](../xml/specify-metaproperties-in-openxml.md).</span></span>

 <span data-ttu-id="53f3b-253">Les deux paramètres *flags* et *ColPattern* sont facultatifs.</span><span class="sxs-lookup"><span data-stu-id="53f3b-253">Both the *flags* and *ColPattern* parameters are optional.</span></span> <span data-ttu-id="53f3b-254">Si aucun mappage n'est spécifié, le mappage centré sur les attributs est supposé.</span><span class="sxs-lookup"><span data-stu-id="53f3b-254">If no mapping is specified, attribute-centric mapping is assumed.</span></span> <span data-ttu-id="53f3b-255">Le mappage centré sur les attributs est la valeur par défaut du paramètre *flags* .</span><span class="sxs-lookup"><span data-stu-id="53f3b-255">Attribute-centric mapping is the default value of the *flags* parameter.</span></span>

#### <a name="attribute-centric-mapping"></a><span data-ttu-id="53f3b-256">mappage centré sur les attributs</span><span class="sxs-lookup"><span data-stu-id="53f3b-256">Attribute-centric Mapping</span></span>
 <span data-ttu-id="53f3b-257">L’affectation de la valeur 1 au paramètre *flags* dans OPENXML (XML_ATTRIBUTES) permet de spécifier le mappage **centré sur les attributs** .</span><span class="sxs-lookup"><span data-stu-id="53f3b-257">Setting the *flags* parameter in OPENXML to 1 (XML_ATTRIBUTES) specifies **attribute-centric** mapping.</span></span> <span data-ttu-id="53f3b-258">Si le paramètre *flags* contient XML_ATTRIBUTES, l’ensemble de lignes exposé fournit ou utilise des lignes où chaque élément XML est représenté sous la forme de ligne.</span><span class="sxs-lookup"><span data-stu-id="53f3b-258">If *flags* contains XML_ ATTRIBUTES, the exposed rowset provides or consumes rows where each XML element is represented as a row.</span></span> <span data-ttu-id="53f3b-259">Les attributs XML sont mappés avec les attributs définis dans SchemaDeclaration ou fournis par le paramètre Tablename de la clause WITH, en fonction de la correspondance de noms.</span><span class="sxs-lookup"><span data-stu-id="53f3b-259">The XML attributes are mapped to the attributes that are defined in the SchemaDeclaration or that are provided by the Tablename of the WITH clause, based on name correspondence.</span></span> <span data-ttu-id="53f3b-260">La correspondance de noms indique une situation dans laquelle les attributs XML d'un nom donné sont stockés dans une colonne de l'ensemble de lignes portant le même nom.</span><span class="sxs-lookup"><span data-stu-id="53f3b-260">Name correspondence means that the XML attributes of a particular name are stored in a column in the rowset with the same name.</span></span>

 <span data-ttu-id="53f3b-261">Si le nom de colonne diffère du nom d'attribut avec lequel il est mappé, *ColPattern* doit être spécifié.</span><span class="sxs-lookup"><span data-stu-id="53f3b-261">If the column name is different from the attribute name that it maps to, *ColPattern* must be specified.</span></span>

 <span data-ttu-id="53f3b-262">Si l'attribut XML possède un qualificateur d'espace de nom, le nom de colonne dans l'ensemble de lignes doit également comprendre le qualificateur.</span><span class="sxs-lookup"><span data-stu-id="53f3b-262">If the XML attribute has a namespace qualifier, the column name in the rowset must also have the qualifier.</span></span>

#### <a name="element-centric-mapping"></a><span data-ttu-id="53f3b-263">Mappage centré sur les éléments</span><span class="sxs-lookup"><span data-stu-id="53f3b-263">Element-centric Mapping</span></span>
 <span data-ttu-id="53f3b-264">L’affectation de la valeur 2 au paramètre *flags* dans OPENXML (XML_ELEMENTS) permet de spécifier le mappage **centré sur les éléments** .</span><span class="sxs-lookup"><span data-stu-id="53f3b-264">Setting the *flags* parameter in OPENXML to 2 (XML_ELEMENTS) specifies **element-centric** mapping.</span></span> <span data-ttu-id="53f3b-265">Il diffère du mappage **centré sur les attributs** sur les points suivants :</span><span class="sxs-lookup"><span data-stu-id="53f3b-265">It is similar to **attribute-centric** mapping, except for the following differences:</span></span>

-   <span data-ttu-id="53f3b-266">La correspondance de noms de l'exemple de mappage, le mappage d'une colonne avec un élément XML de même nom, choisit les sous-éléments non complexes, à moins qu'un modèle de niveau colonne soit spécifié.</span><span class="sxs-lookup"><span data-stu-id="53f3b-266">The name correspondence of the mapping example, a column mapping to an XML element with the same name chooses the noncomplex subelements, unless a column-level pattern is specified.</span></span> <span data-ttu-id="53f3b-267">Dans le processus de récupération, si le sous-élément est complexe car il contient des sous-éléments supplémentaires, la colonne a pour valeur NULL.</span><span class="sxs-lookup"><span data-stu-id="53f3b-267">In the retrieval process, if the subelement is complex because it contains additional subelements, the column is set to NULL.</span></span> <span data-ttu-id="53f3b-268">Les valeurs d'attribut des sous-éléments sont alors ignorées.</span><span class="sxs-lookup"><span data-stu-id="53f3b-268">Attribute values of the subelements are then ignored.</span></span>

-   <span data-ttu-id="53f3b-269">Pour plusieurs sous-éléments du même nom, le premier nœud est retourné.</span><span class="sxs-lookup"><span data-stu-id="53f3b-269">For multiple subelements that have the same name, the first node is returned.</span></span>

## <a name="see-also"></a><span data-ttu-id="53f3b-270">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="53f3b-270">See Also</span></span>
 <span data-ttu-id="53f3b-271">[sp_xml_preparedocument &#40;Transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sp-xml-preparedocument-transact-sql) [sp_xml_removedocument &#40;transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sp-xml-removedocument-transact-sql) [OPENXML &#40;Transact-SQL&#41;](/sql/t-sql/functions/openxml-transact-sql) [données XML](../xml/xml-data-sql-server.md) &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="53f3b-271">[sp_xml_preparedocument &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-xml-preparedocument-transact-sql) [sp_xml_removedocument &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-xml-removedocument-transact-sql) [OPENXML &#40;Transact-SQL&#41;](/sql/t-sql/functions/openxml-transact-sql) [XML Data &#40;SQL Server&#41;](../xml/xml-data-sql-server.md)</span></span>


