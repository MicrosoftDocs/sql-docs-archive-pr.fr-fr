---
title: Utiliser le mode EXPLICIT avec FOR XML | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: conceptual
helpviewer_keywords:
- EXPLICIT FOR XML mode
- FOR XML clause, EXPLICIT mode
- FOR XML EXPLICIT mode
ms.assetid: 8b26e8ce-5465-4e7a-b237-98d0f4578ab1
author: rothja
ms.author: jroth
ms.openlocfilehash: 7e3db80333c74166301fcff7bb25edea4aca38a2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87604408"
---
# <a name="use-explicit-mode-with-for-xml"></a><span data-ttu-id="e4984-102">Utiliser le mode EXPLICIT avec FOR XML</span><span class="sxs-lookup"><span data-stu-id="e4984-102">Use EXPLICIT Mode with FOR XML</span></span>
  <span data-ttu-id="e4984-103">Comme indiqué dans la rubrique traitant de la [Construction de code XML à l’aide de FOR XML](../xml/for-xml-sql-server.md), les modes RAW et AUTO ne permettent pas de contrôler de façon précise la forme du document XML généré à partir du résultat d’une requête.</span><span class="sxs-lookup"><span data-stu-id="e4984-103">As described in the topic, [Constructing XML Using FOR XML](../xml/for-xml-sql-server.md), RAW and AUTO mode do not provide much control over the shape of the XML generated from a query result.</span></span> <span data-ttu-id="e4984-104">Toutefois, le mode EXPLICIT offre la plus grande souplesse pour générer le document XML à partir du résultat d'une requête.</span><span class="sxs-lookup"><span data-stu-id="e4984-104">However, EXPLICIT mode provides the most flexibility in generating the XML you want from a query result.</span></span>  
  
 <span data-ttu-id="e4984-105">La requête en mode EXPLICIT doit être écrite de telle sorte que les informations supplémentaires sur le document XML, telles que l'imbrication attendue dans celui-ci, soient explicitement spécifiées comme une partie de la requête.</span><span class="sxs-lookup"><span data-stu-id="e4984-105">The EXPLICIT mode query must be written in a specific way so that the additional information about the required XML, such as expected nesting in the XML, is explicitly specified as part of the query.</span></span> <span data-ttu-id="e4984-106">Suivant le document XML demandé, l'écriture de requêtes en mode EXPLICIT peut s'avérer peu pratique.</span><span class="sxs-lookup"><span data-stu-id="e4984-106">Depending on the XML you request, writing EXPLICIT mode queries can be cumbersome.</span></span> <span data-ttu-id="e4984-107">L’ [utilisation du mode PATH](../xml/use-path-mode-with-for-xml.md) avec imbrication peut vous apparaître comme une solution plus simple pour écrire des requêtes en mode EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="e4984-107">You may find that [Using PATH Mode](../xml/use-path-mode-with-for-xml.md) with nesting is a simpler alternative to writing EXPLICIT mode queries.</span></span>  
  
 <span data-ttu-id="e4984-108">Étant donné que vous décrivez en mode EXPLICIT le document XML souhaité dans le cadre de la requête, vous devez veiller à ce que sa forme générée soit correcte et valide.</span><span class="sxs-lookup"><span data-stu-id="e4984-108">Because you describe the XML you want as part of the query in EXPLICIT mode, you must ensure that the generated XML is well formed and valid.</span></span>  
  
## <a name="rowset-processing-in-explicit-mode"></a><span data-ttu-id="e4984-109">Traitement de l'ensemble de lignes en mode EXPLICIT</span><span class="sxs-lookup"><span data-stu-id="e4984-109">Rowset Processing in EXPLICIT Mode</span></span>  
 <span data-ttu-id="e4984-110">Le mode EXPLICIT transforme l'ensemble de lignes issu de l'exécution de la requête en un document XML.</span><span class="sxs-lookup"><span data-stu-id="e4984-110">The EXPLICIT mode transforms the rowset that results from the query execution into an XML document.</span></span> <span data-ttu-id="e4984-111">Pour cela, l'ensemble de lignes doit être d'un format spécifique.</span><span class="sxs-lookup"><span data-stu-id="e4984-111">In order for EXPLICIT mode to produce the XML document, the rowset must have a specific format.</span></span> <span data-ttu-id="e4984-112">Cela suppose que vous écriviez la requête SELECT qui génère l’ensemble de lignes, la **table universelle**, dans un format spécifique afin que la logique de traitement puisse produire le document XML souhaité.</span><span class="sxs-lookup"><span data-stu-id="e4984-112">This requires that you write the SELECT query to produce the rowset, the **universal table**, with a specific format so the processing logic can then produce the XML you want.</span></span>  
  
 <span data-ttu-id="e4984-113">Dans un premier temps, la requête doit générer les deux colonnes de métadonnées suivantes :</span><span class="sxs-lookup"><span data-stu-id="e4984-113">First, the query must produce the following two metadata columns:</span></span>  
  
-   <span data-ttu-id="e4984-114">La première colonne doit fournir le numéro de balise, de type entier, de l’élément actuel et le nom de la colonne doit être **Tag**.</span><span class="sxs-lookup"><span data-stu-id="e4984-114">The first column must provide the tag number, integer type, of the current element, and the column name must be **Tag**.</span></span> <span data-ttu-id="e4984-115">La requête doit fournir un numéro de balise unique pour chaque élément à construire à partir de l'ensemble de lignes.</span><span class="sxs-lookup"><span data-stu-id="e4984-115">Your query must provide a unique tag number for each element that will be constructed from the rowset.</span></span>  
  
-   <span data-ttu-id="e4984-116">La seconde colonne doit fournir un numéro de balise de l’élément parent et porter le nom **Parent**.</span><span class="sxs-lookup"><span data-stu-id="e4984-116">The second column must provide a tag number of the parent element, and this column name must be **Parent**.</span></span> <span data-ttu-id="e4984-117">Ainsi, les colonnes Tag et Parent fournissent les informations de hiérarchie.</span><span class="sxs-lookup"><span data-stu-id="e4984-117">In this way, the Tag and the Parent column provide hierarchy information.</span></span>  
  
 <span data-ttu-id="e4984-118">Ces valeurs de colonnes de métadonnées, associées aux informations des noms de colonnes, permettent de générer le document XML souhaité.</span><span class="sxs-lookup"><span data-stu-id="e4984-118">These metadata column values, together with the information in the column names, are used to produce the XML you want.</span></span> <span data-ttu-id="e4984-119">La requête doit fournir les noms de colonnes d'une manière spécifique.</span><span class="sxs-lookup"><span data-stu-id="e4984-119">Note that your query must provide column names in a specific way.</span></span> <span data-ttu-id="e4984-120">En outre, la valeur 0 ou NULL dans la colonne **Parent** . indique que l’élément correspondant n’a pas de parent.</span><span class="sxs-lookup"><span data-stu-id="e4984-120">Also note that a 0 or NULL in the **Parent** column indicates that the corresponding element has no parent.</span></span> <span data-ttu-id="e4984-121">L'élément est ajouté au document XML en tant qu'élément de niveau supérieur.</span><span class="sxs-lookup"><span data-stu-id="e4984-121">The element is added to the XML as a top-level element.</span></span>  
  
 <span data-ttu-id="e4984-122">Pour comprendre comment la table universelle générée par une requête est traitée en vue de produire un document XML, supposons que vous ayez écrit une requête qui génère la table universelle suivante :</span><span class="sxs-lookup"><span data-stu-id="e4984-122">To understand how the universal table generated by a query is processed into generating XML result, assume that you have written a query that produces this universal table:</span></span>  
  
 <span data-ttu-id="e4984-123">![Exemple de table universelle](../../database-engine/media/xmlutable.gif "Exemple de table universelle")</span><span class="sxs-lookup"><span data-stu-id="e4984-123">![Sample universal table](../../database-engine/media/xmlutable.gif "Sample universal table")</span></span>  
  
 <span data-ttu-id="e4984-124">Notez les points suivants à propos de cette table universelle :</span><span class="sxs-lookup"><span data-stu-id="e4984-124">Note the following about this universal table:</span></span>  
  
-   <span data-ttu-id="e4984-125">Les deux premières colonnes sont **Tag** et **Parent** et sont des colonnes de métadonnées.</span><span class="sxs-lookup"><span data-stu-id="e4984-125">The first two columns are **Tag** and **Parent** and are meta columns.</span></span> <span data-ttu-id="e4984-126">Ces valeurs déterminent la hiérarchie.</span><span class="sxs-lookup"><span data-stu-id="e4984-126">These values determine the hierarchy.</span></span>  
  
-   <span data-ttu-id="e4984-127">Les noms de colonnes sont spécifiés d'une certaine manière, décrite plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="e4984-127">The column names are specified in a certain way, as described later in this topic.</span></span>  
  
-   <span data-ttu-id="e4984-128">Lors de la génération du document XML à partir de cette table universelle, les données de celle-ci sont partitionnées verticalement en groupes de colonnes.</span><span class="sxs-lookup"><span data-stu-id="e4984-128">In generating the XML from this universal table, the data in this table is partitioned vertically into column groups.</span></span> <span data-ttu-id="e4984-129">Le regroupement est déterminé en fonction de la valeur **Tag** et des noms de colonnes.</span><span class="sxs-lookup"><span data-stu-id="e4984-129">The grouping is determined based on the **Tag** value and the column names.</span></span> <span data-ttu-id="e4984-130">Lors de la construction du document XML, la logique de traitement sélectionne un groupe de colonnes par ligne et construit un élément.</span><span class="sxs-lookup"><span data-stu-id="e4984-130">In constructing XML, the processing logic selects one group of columns for each row and constructs an element.</span></span> <span data-ttu-id="e4984-131">Cet exemple repose sur les données suivantes :</span><span class="sxs-lookup"><span data-stu-id="e4984-131">The following applies in this example:</span></span>  
  
    -   <span data-ttu-id="e4984-132">Pour la valeur de colonne **Tag** 1 de la première ligne, les colonnes dont le nom comprend le même numéro de balise, **Customer!1!cid** et **Customer!1!name**, forment un groupe.</span><span class="sxs-lookup"><span data-stu-id="e4984-132">For **Tag** column value 1 in the first row, the columns whose names include the same tag number, **Customer!1!cid** and **Customer!1!name**, form a group.</span></span> <span data-ttu-id="e4984-133">Ces colonnes sont utilisées dans le traitement de la ligne et vous avez peut-être remarqué que l'élément généré présente la forme <`Customer id=... name=...`>.</span><span class="sxs-lookup"><span data-stu-id="e4984-133">These columns are used in processing the row, and you may have noticed that the shape of the generated element is <`Customer id=... name=...`>.</span></span> <span data-ttu-id="e4984-134">Le format des noms de colonnes est décrit plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="e4984-134">Column name format is described later in this topic.</span></span>  
  
    -   <span data-ttu-id="e4984-135">Pour les lignes possédant la valeur de colonne **Tag** 2, les colonnes **Order!2!id** et **Order!2!date** forment un groupe qui permet de construire les éléments <`Order id=... date=... /`>.</span><span class="sxs-lookup"><span data-stu-id="e4984-135">For rows with **Tag** column value 2, columns **Order!2!id** and **Order!2!date** form a group that is then used in constructing elements, <`Order id=... date=... /`>.</span></span>  
  
    -   <span data-ttu-id="e4984-136">Pour les lignes possédant la valeur de colonne **Tag** 3, les colonnes **OrderDetail!3!id!id** et **OrderDetail!3!pid!idref** forment un groupe.</span><span class="sxs-lookup"><span data-stu-id="e4984-136">For rows with **Tag** column value 3, columns **OrderDetail!3!id!id** and **OrderDetail!3!pid!idref** form a group.</span></span> <span data-ttu-id="e4984-137">Chacune de ces lignes génère un élément, <`OrderDetail id=... pid=...`>, à partir de ces colonnes.</span><span class="sxs-lookup"><span data-stu-id="e4984-137">Each of these rows generates an element, <`OrderDetail id=... pid=...`>, from these columns.</span></span>  
  
-   <span data-ttu-id="e4984-138">Lors de la génération de la hiérarchie XML, les lignes sont traitées dans l'ordre.</span><span class="sxs-lookup"><span data-stu-id="e4984-138">Note that in generating XML hierarchy, the rows are processed in order.</span></span> <span data-ttu-id="e4984-139">La hiérarchie XML est déterminée comme suit :</span><span class="sxs-lookup"><span data-stu-id="e4984-139">The XML hierarchy is determined as shown in the following:</span></span>  
  
    -   <span data-ttu-id="e4984-140">La première ligne spécifie la valeur **Tag** 1 et la valeur **Parent** NULL.</span><span class="sxs-lookup"><span data-stu-id="e4984-140">The first row specifies **Tag** value 1 and **Parent** value NULL.</span></span> <span data-ttu-id="e4984-141">Par conséquent, l'élément correspondant, <`Customer`>, est ajouté en tant qu'élément de niveau supérieur au document XML.</span><span class="sxs-lookup"><span data-stu-id="e4984-141">Therefore, the corresponding element, <`Customer`> element, is added as a top-level element in the XML.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
        ```  
  
    -   <span data-ttu-id="e4984-142">La deuxième ligne identifie la valeur **Tag** 2 et la valeur **Parent** 1.</span><span class="sxs-lookup"><span data-stu-id="e4984-142">The second row identifies **Tag** value 2 and **Parent** value 1.</span></span> <span data-ttu-id="e4984-143">Par conséquent, l'élément <`Order`> est ajouté en tant qu'enfant de l'élément <`Customer`>.</span><span class="sxs-lookup"><span data-stu-id="e4984-143">Therefore, the element, <`Order`> element, is added as a child of the <`Customer`> element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
        ```  
  
    -   <span data-ttu-id="e4984-144">La ligne suivante identifie la valeur **Tag** 3 et la valeur **Parent** 2.</span><span class="sxs-lookup"><span data-stu-id="e4984-144">The next two rows identify **Tag** value 3 and **Parent** value 2.</span></span> <span data-ttu-id="e4984-145">Les deux éléments <`OrderDetail`> sont donc ajoutés en tant qu'enfants de l'élément <`Order`>.</span><span class="sxs-lookup"><span data-stu-id="e4984-145">Therefore, the two elements, <`OrderDetail`> elements, are added as children of the <`Order`> element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
              <OrderDetail id="OD1" pid="P1"/>  
              <OrderDetail id="OD2" pid="P2"/>  
        ```  
  
    -   <span data-ttu-id="e4984-146">La dernière ligne identifie la valeur 2 comme numéro **Tag** et la valeur 1 comme numéro de balise **Parent** .</span><span class="sxs-lookup"><span data-stu-id="e4984-146">The last row identifies 2 as the **Tag** number and 1 as the **Parent** tag number.</span></span> <span data-ttu-id="e4984-147">Par conséquent, un autre élément enfant <`Order`> est ajouté à l'élément parent <`Customer`>.</span><span class="sxs-lookup"><span data-stu-id="e4984-147">Therefore, another <`Order`> element child is added to the <`Customer`> parent element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
              <OrderDetail id="OD1" pid="P1"/>  
              <OrderDetail id="OD2" pid="P2"/>  
           </Order>  
           <Order id="O2" date="3/29/1997">  
        </Customer>  
        ```  
  
 <span data-ttu-id="e4984-148">En résumé, les valeurs des colonnes de métadonnées **Tag** et **Parent** , les informations fournies dans les noms de colonnes et le classement correct des lignes génèrent le document XML souhaité lorsque vous utilisez le mode EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="e4984-148">To summarize, the values in the **Tag** and **Parent** meta columns, the information provided in the column names, and the correct ordering of the rows produce the XML you want when you use EXPLICIT mode.</span></span>  
  
### <a name="universal-table-row-ordering"></a><span data-ttu-id="e4984-149">Classement des lignes de la table universelle</span><span class="sxs-lookup"><span data-stu-id="e4984-149">Universal Table Row Ordering</span></span>  
 <span data-ttu-id="e4984-150">Lors de la construction du document XML, les lignes de la table universelle sont traitées dans l'ordre.</span><span class="sxs-lookup"><span data-stu-id="e4984-150">In constructing the XML, the rows in the universal table are processed in order.</span></span> <span data-ttu-id="e4984-151">Par conséquent, pour extraire les instances enfants adéquates associées à leur parent, vous devez trier les lignes de l'ensemble de lignes de manière à ce que chaque nœud parent soit immédiatement suivi de ses enfants.</span><span class="sxs-lookup"><span data-stu-id="e4984-151">Therefore, to retrieve the correct children instances associated with their parent, the rows in the rowset must be ordered so that each parent node is immediately followed by its children.</span></span>  
  
## <a name="specifying-column-names-in-a-universal-table"></a><span data-ttu-id="e4984-152">Spécification de noms de colonnes dans une table universelle</span><span class="sxs-lookup"><span data-stu-id="e4984-152">Specifying Column Names in a Universal Table</span></span>  
 <span data-ttu-id="e4984-153">Lors de l'écriture des requêtes en mode EXPLICIT, les noms de colonnes de l'ensemble de lignes obtenu doivent être spécifiés à l'aide du format ci-après.</span><span class="sxs-lookup"><span data-stu-id="e4984-153">When writing EXPLICIT mode queries, column names in the resulting rowset must be specified by using this format.</span></span> <span data-ttu-id="e4984-154">Ils fournissent des informations de transformation, dont les noms d'éléments et d'attributs, spécifiées à l'aide de directives.</span><span class="sxs-lookup"><span data-stu-id="e4984-154">They provide transformation information including element and attribute names and other additional information, specified by using directives.</span></span>  
  
 <span data-ttu-id="e4984-155">Voici le format général :</span><span class="sxs-lookup"><span data-stu-id="e4984-155">This is the general format:</span></span>  
  
```  
  
ElementName!TagNumber!AttributeName!Directive  
```  
  
 <span data-ttu-id="e4984-156">Voici la description des parties du format :</span><span class="sxs-lookup"><span data-stu-id="e4984-156">Following is the description of the parts of the format.</span></span>  
  
 <span data-ttu-id="e4984-157">*ElementName*</span><span class="sxs-lookup"><span data-stu-id="e4984-157">*ElementName*</span></span>  
 <span data-ttu-id="e4984-158">Identificateur générique obtenu de l'élément.</span><span class="sxs-lookup"><span data-stu-id="e4984-158">Is the resulting generic identifier of the element.</span></span> <span data-ttu-id="e4984-159">Par exemple, si **Customers** est spécifié en tant que *ElementName*, l’élément \<Customers> est généré.</span><span class="sxs-lookup"><span data-stu-id="e4984-159">For example, if **Customers** is specified as *ElementName*, the \<Customers> element is generated.</span></span>  
  
 <span data-ttu-id="e4984-160">*TagNumber*</span><span class="sxs-lookup"><span data-stu-id="e4984-160">*TagNumber*</span></span>  
 <span data-ttu-id="e4984-161">Valeur de balise unique affectée à un élément.</span><span class="sxs-lookup"><span data-stu-id="e4984-161">Is a unique tag value assigned to an element.</span></span> <span data-ttu-id="e4984-162">Cette valeur, associée aux deux colonnes de métadonnées **Tag** et **Parent**, détermine l’imbrication des éléments dans le document XML obtenu.</span><span class="sxs-lookup"><span data-stu-id="e4984-162">This value, with the help of the two metadata columns, **Tag** and **Parent**, determines the nesting of the elements in the resulting XML.</span></span>  
  
 <span data-ttu-id="e4984-163">*AttributeName*</span><span class="sxs-lookup"><span data-stu-id="e4984-163">*AttributeName*</span></span>  
 <span data-ttu-id="e4984-164">Fournit le nom de l’attribut à construire dans l’option *ElementName*spécifiée.</span><span class="sxs-lookup"><span data-stu-id="e4984-164">Provides the name of the attribute to construct in the specified *ElementName*.</span></span> <span data-ttu-id="e4984-165">Ce comportement est appliqué si l’option *Directive* n’est pas spécifiée.</span><span class="sxs-lookup"><span data-stu-id="e4984-165">This is the behavior if *Directive* is not specified.</span></span>  
  
 <span data-ttu-id="e4984-166">Si l’option *Directive* est spécifiée et que sa valeur est **xml**, **cdata**ou **element**, cette valeur est utilisée pour construire un élément enfant de *ElementName*et la valeur de la colonne est ajoutée à cet élément.</span><span class="sxs-lookup"><span data-stu-id="e4984-166">If *Directive* is specified and it is **xml**, **cdata**, or **element**, this value is used to construct an element child of *ElementName*, and the column value is added to it.</span></span>  
  
 <span data-ttu-id="e4984-167">Si vous spécifiez l’option *Directive*, l’option *AttributeName* peut être vide.</span><span class="sxs-lookup"><span data-stu-id="e4984-167">If you specify the *Directive*, the *AttributeName* can be empty.</span></span> <span data-ttu-id="e4984-168">Par exemple, ElementName!TagNumber!!Directive.</span><span class="sxs-lookup"><span data-stu-id="e4984-168">For example, ElementName!TagNumber!!Directive.</span></span> <span data-ttu-id="e4984-169">Dans ce cas, la valeur de la colonne est directement contenue dans l’option *ElementName*.</span><span class="sxs-lookup"><span data-stu-id="e4984-169">In this case, the column value is directly contained by the *ElementName*.</span></span>  
  
 <span data-ttu-id="e4984-170">*Directive*</span><span class="sxs-lookup"><span data-stu-id="e4984-170">*Directive*</span></span>  
 <span data-ttu-id="e4984-171">L’option*Directive* est facultative et permet de fournir des informations supplémentaires pour la construction du document XML.</span><span class="sxs-lookup"><span data-stu-id="e4984-171">*Directive* is optional and you can use it to provide additional information for construction of the XML.</span></span> <span data-ttu-id="e4984-172">La finalité de*Directive* est double.</span><span class="sxs-lookup"><span data-stu-id="e4984-172">*Directive* has two purposes.</span></span>  
  
 <span data-ttu-id="e4984-173">D'une part, elle permet d'encoder les valeurs sous la forme de mots clés ID, IDREF et IDREFS.</span><span class="sxs-lookup"><span data-stu-id="e4984-173">One of the purposes is to encode values as ID, IDREF, and IDREFS.</span></span> <span data-ttu-id="e4984-174">Vous pouvez spécifier les mots clés **ID**, **IDREF**et **IDREFS** en tant que *Directives*.</span><span class="sxs-lookup"><span data-stu-id="e4984-174">You can specify **ID**, **IDREF**, and **IDREFS** keywords as *Directives*.</span></span> <span data-ttu-id="e4984-175">Ces directives remplacent les types d'attributs.</span><span class="sxs-lookup"><span data-stu-id="e4984-175">These directives overwrite the attribute types.</span></span> <span data-ttu-id="e4984-176">Cela vous permet de créer des liens à l'intérieur du document.</span><span class="sxs-lookup"><span data-stu-id="e4984-176">This allows you to create intra-document links.</span></span>  
  
 <span data-ttu-id="e4984-177">D’autre part, l’option *Directive* vous permet d’indiquer comment vous souhaitez mapper les données de chaîne au document XML.</span><span class="sxs-lookup"><span data-stu-id="e4984-177">Also, you can use *Directive* to indicate how to map the string data to XML.</span></span> <span data-ttu-id="e4984-178">Les mots clés **hide**, **element, elementxsinil**, **xml**, **xmltext**et **cdata** peuvent être utilisés comme *Directive*.</span><span class="sxs-lookup"><span data-stu-id="e4984-178">The **hide**, **element, elementxsinil**, **xml**, **xmltext**, and **cdata** keywords can be used as the *Directive*.</span></span> <span data-ttu-id="e4984-179">La directive **hide** masque le nœud.</span><span class="sxs-lookup"><span data-stu-id="e4984-179">The **hide** directive hides the node.</span></span> <span data-ttu-id="e4984-180">Cela peut s'avérer utile pour extraire des valeurs à des fins de tri sans qu'elles apparaissent dans le document XML obtenu.</span><span class="sxs-lookup"><span data-stu-id="e4984-180">This is useful when you retrieve values only for sorting purposes, but you do not want them in the resulting XML.</span></span>  
  
 <span data-ttu-id="e4984-181">La directive **element** génère un élément contenu au lieu d’un attribut.</span><span class="sxs-lookup"><span data-stu-id="e4984-181">The **element** directive generates a contained element instead of an attribute.</span></span> <span data-ttu-id="e4984-182">Les données contenues sont encodées comme une entité.</span><span class="sxs-lookup"><span data-stu-id="e4984-182">The contained data is encoded as an entity.</span></span> <span data-ttu-id="e4984-183">Par exemple, le caractère **<** devient &lt;.</span><span class="sxs-lookup"><span data-stu-id="e4984-183">For example, the **<** character becomes &lt;.</span></span> <span data-ttu-id="e4984-184">Dans le cas des valeurs de colonne NULL, aucun élément n'est généré.</span><span class="sxs-lookup"><span data-stu-id="e4984-184">For NULL column values, no element is generated.</span></span> <span data-ttu-id="e4984-185">Si vous souhaitez qu’un élément soit généré pour les valeurs de colonne NULL, vous pouvez spécifier la directive **elementxsinil** .</span><span class="sxs-lookup"><span data-stu-id="e4984-185">If you want an element generated for null column values, you can specify the **elementxsinil** directive.</span></span> <span data-ttu-id="e4984-186">Cette opération génère un élément ayant l'attribut xsi:nil=TRUE.</span><span class="sxs-lookup"><span data-stu-id="e4984-186">This will generate an element that has the attribute xsi:nil=TRUE.</span></span>  
  
 <span data-ttu-id="e4984-187">La directive **xml** est identique à une directive **element** , sauf qu’aucun encodage d’entité ne se produit.</span><span class="sxs-lookup"><span data-stu-id="e4984-187">The **xml** directive is the same as an **element** directive, except that no entity encoding occurs.</span></span> <span data-ttu-id="e4984-188">Notez que la directive **element** peut être combinée avec le mot clé **ID**, **IDREF**ou **IDREFS**, tandis que la directive **xml** n’est autorisée avec aucune autre directive, sauf **hide**.</span><span class="sxs-lookup"><span data-stu-id="e4984-188">Note that the **element** directive can be combined with **ID**, **IDREF**, or **IDREFS**, whereas the **xml** directive is not allowed with any other directive, except **hide**.</span></span>  
  
 <span data-ttu-id="e4984-189">La directive **cdata** englobe les données à l’aide d’une section CDATA.</span><span class="sxs-lookup"><span data-stu-id="e4984-189">The **cdata** directive contains the data by wrapping it with a CDATA section.</span></span> <span data-ttu-id="e4984-190">Le contenu n'est pas encodé par entité.</span><span class="sxs-lookup"><span data-stu-id="e4984-190">The content is not entity encoded.</span></span> <span data-ttu-id="e4984-191">Le type de données d’origine doit être un type texte tel que **varchar**, **nvarchar**, **text**ou **ntext**.</span><span class="sxs-lookup"><span data-stu-id="e4984-191">The original data type must be a text type such as **varchar**, **nvarchar**, **text**, or **ntext**.</span></span> <span data-ttu-id="e4984-192">Cette directive ne peut être utilisée qu’avec **hide**.</span><span class="sxs-lookup"><span data-stu-id="e4984-192">This directive can be used only with **hide**.</span></span> <span data-ttu-id="e4984-193">Quand cette directive est utilisée, *AttributeName* ne doit pas être spécifié.</span><span class="sxs-lookup"><span data-stu-id="e4984-193">When this directive is used, *AttributeName* must not be specified.</span></span>  
  
 <span data-ttu-id="e4984-194">La combinaison de directives entre ces deux groupes est autorisée dans la plupart des cas, contrairement à la combinaison entre elles-mêmes.</span><span class="sxs-lookup"><span data-stu-id="e4984-194">Combining directives between these two groups is allowed in most cases, but combining them among themselves is not allowed.</span></span>  
  
 <span data-ttu-id="e4984-195">Si les options *Directive* et *AttributeName* ne sont pas spécifiées, par exemple **Customer!1**, une directive **element** est définie de manière implicite, telle que **Customer!1!!element**, et les données de colonnes figurent dans l’option *ElementName*.</span><span class="sxs-lookup"><span data-stu-id="e4984-195">If the *Directive* and the *AttributeName* is not specified, for example, **Customer!1**, an **element** directive is implied, such as **Customer!1!!element**, and column data is contained in the *ElementName*.</span></span>  
  
 <span data-ttu-id="e4984-196">Si la directive **xmltext** est spécifiée, le contenu des colonnes est englobé dans une balise unique intégrée au reste du document.</span><span class="sxs-lookup"><span data-stu-id="e4984-196">If the **xmltext** directive is specified, the column content is wrapped in a single tag that is integrated with the rest of the document.</span></span> <span data-ttu-id="e4984-197">Cette directive est utile pour extraire des données XML non consommées, en excès, stockées dans une colonne à l'aide de OPENXML.</span><span class="sxs-lookup"><span data-stu-id="e4984-197">This directive is useful in fetching overflow, unconsumed, XML data stored in a column by OPENXML.</span></span> <span data-ttu-id="e4984-198">Pour plus d’informations, consultez [OPENXML &#40;SQL Server&#41;](../xml/openxml-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="e4984-198">For more information, see [OPENXML &#40;SQL Server&#41;](../xml/openxml-sql-server.md).</span></span>  
  
 <span data-ttu-id="e4984-199">Si l’option *AttributeName* est définie, le nom de balise est remplacé par le nom spécifié.</span><span class="sxs-lookup"><span data-stu-id="e4984-199">If *AttributeName* is specified, the tag name is replaced by the specified name.</span></span> <span data-ttu-id="e4984-200">Sinon, l'attribut est ajouté à la liste actuelle des attributs des éléments d'encadrement par placement du contenu au début de l'imbrication sans encodage d'entité.</span><span class="sxs-lookup"><span data-stu-id="e4984-200">Otherwise, the attribute is appended to the current list of attributes of the enclosing elements by putting the content at the beginning of the containment without entity encoding.</span></span> <span data-ttu-id="e4984-201">La colonne à laquelle cette directive est associée doit être d’un type texte, tel que **varchar**, **nvarchar**, **char**, **nchar**, **text**ou **ntext**.</span><span class="sxs-lookup"><span data-stu-id="e4984-201">The column with this directive must be a text type, such as **varchar**, **nvarchar**, **char**, **nchar**, **text**, or **ntext**.</span></span> <span data-ttu-id="e4984-202">Cette directive ne peut être utilisée qu’avec **hide**.</span><span class="sxs-lookup"><span data-stu-id="e4984-202">This directive can be used only with **hide**.</span></span> <span data-ttu-id="e4984-203">Elle est utile pour extraire des données en excès stockées dans une colonne.</span><span class="sxs-lookup"><span data-stu-id="e4984-203">This directive is useful in fetching overflow data stored in a column.</span></span> <span data-ttu-id="e4984-204">Si le contenu ne présente pas un format XML correct, le comportement n'est pas défini.</span><span class="sxs-lookup"><span data-stu-id="e4984-204">If the content is not a well-formed XML, the behavior is undefined.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="e4984-205">Dans cette section</span><span class="sxs-lookup"><span data-stu-id="e4984-205">In This Section</span></span>  
 <span data-ttu-id="e4984-206">Les exemples suivants illustrent l'utilisation du mode EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="e4984-206">The following examples illustrate the use of EXPLICIT mode.</span></span>  
  
-   [<span data-ttu-id="e4984-207">Exemple : Récupération d’informations sur les employés</span><span class="sxs-lookup"><span data-stu-id="e4984-207">Example: Retrieving Employee Information</span></span>](../xml/example-retrieving-employee-information.md)  
  
-   [<span data-ttu-id="e4984-208">Exemple : Spécification de la directive ELEMENT</span><span class="sxs-lookup"><span data-stu-id="e4984-208">Example: Specifying the ELEMENT Directive</span></span>](../xml/example-specifying-the-element-directive.md)  
  
-   [<span data-ttu-id="e4984-209">Exemple : Spécification de la directive ELEMENTXSINIL</span><span class="sxs-lookup"><span data-stu-id="e4984-209">Example: Specifying the ELEMENTXSINIL Directive</span></span>](../xml/example-specifying-the-elementxsinil-directive.md)  
  
-   [<span data-ttu-id="e4984-210">Exemple : Construction de frères à l’aide du mode EXPLICIT</span><span class="sxs-lookup"><span data-stu-id="e4984-210">Example: Constructing Siblings with EXPLICIT Mode</span></span>](../xml/example-constructing-siblings-with-explicit-mode.md)  
  
-   [<span data-ttu-id="e4984-211">Exemple : Spécification des directives ID et IDREF</span><span class="sxs-lookup"><span data-stu-id="e4984-211">Example: Specifying the ID and IDREF Directives</span></span>](../xml/example-specifying-the-id-and-idref-directives.md)  
  
-   [<span data-ttu-id="e4984-212">Exemple : Spécification des directives ID et IDREFS</span><span class="sxs-lookup"><span data-stu-id="e4984-212">Example: Specifying the ID and IDREFS Directives</span></span>](../xml/example-specifying-the-id-and-idrefs-directives.md)  
  
-   [<span data-ttu-id="e4984-213">Exemple : Spécification de la directive HIDE</span><span class="sxs-lookup"><span data-stu-id="e4984-213">Example: Specifying the HIDE Directive</span></span>](../xml/example-specifying-the-hide-directive.md)  
  
-   [<span data-ttu-id="e4984-214">Exemple : Spécification de la directive ELEMENT et de l’encodage d’entité</span><span class="sxs-lookup"><span data-stu-id="e4984-214">Example: Specifying the ELEMENT Directive and Entity Encoding</span></span>](../xml/example-specifying-the-element-directive-and-entity-encoding.md)  
  
-   [<span data-ttu-id="e4984-215">Exemple : Spécification de la directive CDATA</span><span class="sxs-lookup"><span data-stu-id="e4984-215">Example: Specifying the CDATA Directive</span></span>](../xml/example-specifying-the-cdata-directive.md)  
  
-   [<span data-ttu-id="e4984-216">Exemple : Spécification de la directive XMLTEXT</span><span class="sxs-lookup"><span data-stu-id="e4984-216">Example: Specifying the XMLTEXT Directive</span></span>](../xml/example-specifying-the-xmltext-directive.md)  
  
## <a name="see-also"></a><span data-ttu-id="e4984-217">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="e4984-217">See Also</span></span>  
 <span data-ttu-id="e4984-218">[Utiliser le mode RAW avec FOR XML](../xml/use-raw-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="e4984-218">[Use RAW Mode with FOR XML](../xml/use-raw-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="e4984-219">[UTiliser le mode AUTO avec FOR XML](../xml/use-auto-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="e4984-219">[Use AUTO Mode with FOR XML](../xml/use-auto-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="e4984-220">[Utiliser le mode PATH avec FOR XML](../xml/use-path-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="e4984-220">[Use PATH Mode with FOR XML](../xml/use-path-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="e4984-221">[SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="e4984-221">[SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-transact-sql) </span></span>  
 [<span data-ttu-id="e4984-222">FOR XML &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="e4984-222">FOR XML &#40;SQL Server&#41;</span></span>](../xml/for-xml-sql-server.md)  
  
  
