---
title: SQL Server, objet Database Mirroring | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:Database Mirroring
- database mirroring [SQL Server], performance counters
- performance counters [SQL Server], database mirroring
- Database Mirroring object
ms.assetid: a27b51ee-7637-4525-9424-bcc16947dc13
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 4d4b1b9af5bced6933745d4214d3abcc15af4a60
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87612252"
---
# <a name="sql-server-database-mirroring-object"></a><span data-ttu-id="df566-102">SQL Server, objet Database Mirroring</span><span class="sxs-lookup"><span data-stu-id="df566-102">SQL Server, Database Mirroring Object</span></span>
  <span data-ttu-id="df566-103">L’objet de performance **SQLServer:Database Mirroring** contient des compteurs de performances qui font état d’informations sur la mise en miroir de bases de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="df566-103">The **SQLServer:Database Mirroring** performance object contains performance counters that report information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database mirroring.</span></span> <span data-ttu-id="df566-104">Le tableau ci-dessous répertorie les compteurs inclus dans cet objet.</span><span class="sxs-lookup"><span data-stu-id="df566-104">The table below lists the counters that this object contains.</span></span>  
  
|<span data-ttu-id="df566-105">Nom</span><span class="sxs-lookup"><span data-stu-id="df566-105">Name</span></span>|<span data-ttu-id="df566-106">Description</span><span class="sxs-lookup"><span data-stu-id="df566-106">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="df566-107">**Octets reçus/s**</span><span class="sxs-lookup"><span data-stu-id="df566-107">**Bytes Received/sec**</span></span>|<span data-ttu-id="df566-108">Nombre d'octets reçus par seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-108">Number of bytes received per second.</span></span>|  
|<span data-ttu-id="df566-109">**Octets envoyés/s**</span><span class="sxs-lookup"><span data-stu-id="df566-109">**Bytes Sent/sec**</span></span>|<span data-ttu-id="df566-110">Nombre d'octets envoyés par seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-110">Number of bytes sent per second.</span></span>|  
|<span data-ttu-id="df566-111">**Octets de journal reçus/s**</span><span class="sxs-lookup"><span data-stu-id="df566-111">**Log Bytes Received/sec**</span></span>|<span data-ttu-id="df566-112">Nombre d'octets du journal reçus par seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-112">Number of bytes of log received per second.</span></span>|  
|<span data-ttu-id="df566-113">**Octets du journal restaurés à partir du cache/s**</span><span class="sxs-lookup"><span data-stu-id="df566-113">**Log Bytes Redone from Cache/sec**</span></span>|<span data-ttu-id="df566-114">Nombre d'octets du journal restaurés qui ont été obtenus à partir du cache du journal de mise en miroir au cours de la dernière seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-114">Number of redone log bytes that were obtained from the mirroring log cache, in the last second.</span></span><br /><br /> <span data-ttu-id="df566-115">Ce compteur est uniquement utilisé sur le serveur miroir.</span><span class="sxs-lookup"><span data-stu-id="df566-115">This counter is used on only the mirror server.</span></span> <span data-ttu-id="df566-116">Sur le serveur principal, la valeur est toujours 0.</span><span class="sxs-lookup"><span data-stu-id="df566-116">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="df566-117">**Octets du journal envoyés du cache/s**</span><span class="sxs-lookup"><span data-stu-id="df566-117">**Log Bytes Sent from Cache/sec**</span></span>|<span data-ttu-id="df566-118">Nombre d'octets du journal envoyés qui ont été obtenus à partir du cache du journal de mise en miroir au cours de la dernière seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-118">Number of sent log bytes that were obtained from the mirroring log cache, in the last second.</span></span><br /><br /> <span data-ttu-id="df566-119">Ce compteur est uniquement utilisé sur le serveur principal.</span><span class="sxs-lookup"><span data-stu-id="df566-119">This counter is used on only the principal server.</span></span> <span data-ttu-id="df566-120">Sur le serveur miroir, la valeur est toujours 0.</span><span class="sxs-lookup"><span data-stu-id="df566-120">On the mirror server the value is always 0.</span></span>|  
|<span data-ttu-id="df566-121">**Octets du journal envoyés/s**</span><span class="sxs-lookup"><span data-stu-id="df566-121">**Log Bytes Sent/sec**</span></span>|<span data-ttu-id="df566-122">Nombre d'octets du journal envoyés par seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-122">Number of bytes of log sent per second.</span></span>|  
|<span data-ttu-id="df566-123">**Octets compressés du journal reçus/s**</span><span class="sxs-lookup"><span data-stu-id="df566-123">**Log Compressed Bytes Rcvd/sec**</span></span>|<span data-ttu-id="df566-124">Nombre d'octets compressés du journal reçus au cours de la dernière seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-124">Number of compressed bytes of log received, in the last second.</span></span>|  
|<span data-ttu-id="df566-125">**Octets compressés du journal envoyés/s**</span><span class="sxs-lookup"><span data-stu-id="df566-125">**Log Compressed Bytes Sent/sec**</span></span>|<span data-ttu-id="df566-126">Nombre d'octets compressés du journal envoyés au cours de la dernière seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-126">Number of compressed bytes of log sent, in the last second.</span></span>|  
|<span data-ttu-id="df566-127">**Temps de renforcement de journal (ms)**</span><span class="sxs-lookup"><span data-stu-id="df566-127">**Log Harden Time (ms)**</span></span>|<span data-ttu-id="df566-128">Temps en millisecondes passé par les blocs du journal en attente de renforcement sur disque au cours de la dernière seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-128">Milliseconds that log blocks waited to be hardened to disk, in the last second.</span></span>|  
|<span data-ttu-id="df566-129">**Enregistrer les Ko restants pour l'annulation**</span><span class="sxs-lookup"><span data-stu-id="df566-129">**Log Remaining for Undo KB**</span></span>|<span data-ttu-id="df566-130">Nombre total de kilo-octets du journal qui restent à analyser par le nouveau serveur miroir après le basculement.</span><span class="sxs-lookup"><span data-stu-id="df566-130">Total kilobytes of log that remain to be scanned by the new mirror server after failover.</span></span><br /><br /> <span data-ttu-id="df566-131">Ce compteur est uniquement utilisé sur le serveur miroir pendant la phase de restauration.</span><span class="sxs-lookup"><span data-stu-id="df566-131">This counter is used on only the mirror server during the undo phase.</span></span> <span data-ttu-id="df566-132">Lorsque la phase de restauration est terminée, le compteur est réinitialisé à 0.</span><span class="sxs-lookup"><span data-stu-id="df566-132">After the undo phase completes, the counter is reset to 0.</span></span> <span data-ttu-id="df566-133">Sur le serveur principal, la valeur est toujours 0.</span><span class="sxs-lookup"><span data-stu-id="df566-133">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="df566-134">**Enregistrer les Ko analysés pour l'annulation**</span><span class="sxs-lookup"><span data-stu-id="df566-134">**Log Scanned for Undo KB**</span></span>|<span data-ttu-id="df566-135">Nombre total de kilo-octets de journal qui ont été analysés par le nouveau serveur miroir depuis le basculement.</span><span class="sxs-lookup"><span data-stu-id="df566-135">Total kilobytes of log that have been scanned by the new mirror server since failover.</span></span><br /><br /> <span data-ttu-id="df566-136">Ce compteur est uniquement utilisé sur le serveur miroir pendant la phase de restauration.</span><span class="sxs-lookup"><span data-stu-id="df566-136">This counter is used on only the mirror server during the undo phase.</span></span> <span data-ttu-id="df566-137">Lorsque la phase de restauration est terminée, le compteur est réinitialisé à 0.</span><span class="sxs-lookup"><span data-stu-id="df566-137">After the undo phase completes, the counter is reset to 0.</span></span> <span data-ttu-id="df566-138">Sur le serveur principal, la valeur est toujours 0.</span><span class="sxs-lookup"><span data-stu-id="df566-138">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="df566-139">**Temps de contrôle du flux d'envoi du journal (ms)**</span><span class="sxs-lookup"><span data-stu-id="df566-139">**Log Send Flow Control Time (ms)**</span></span>|<span data-ttu-id="df566-140">Temps en millisecondes passé par les messages de flux du journal en attente de contrôle du flux d'envoi au cours de la dernière seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-140">Milliseconds that log stream messages waited for send flow control, in the last second.</span></span><br /><br /> <span data-ttu-id="df566-141">L'envoi de données et de métadonnées du journal au partenaire de mise en miroir est l'opération qui nécessite le plus de données dans la mise en miroir de bases de données et peut monopoliser les mémoires tampons d'envoi de la mise en miroir de bases de données et de Service Broker.</span><span class="sxs-lookup"><span data-stu-id="df566-141">Sending log data and metadata to the mirroring partner is the most data-intensive operation in database mirroring and might monopolize the database mirroring and Service Broker send buffers.</span></span> <span data-ttu-id="df566-142">Utilisez ce compteur pour surveiller l'utilisation de cette mémoire tampon par la session de mise en miroir de bases de données.</span><span class="sxs-lookup"><span data-stu-id="df566-142">Use this counter to monitor the use of this buffer by the database mirroring session.</span></span>|  
|<span data-ttu-id="df566-143">**Ko de la file d'attente d'envoi du journal**</span><span class="sxs-lookup"><span data-stu-id="df566-143">**Log Send Queue KB**</span></span>|<span data-ttu-id="df566-144">Nombre total de kilo-octets du journal qui n'ont pas été envoyés au serveur miroir.</span><span class="sxs-lookup"><span data-stu-id="df566-144">Total number of kilobytes of log that have not yet been sent to the mirror server.</span></span>|  
|<span data-ttu-id="df566-145">**Transactions d'écriture en miroir/s**</span><span class="sxs-lookup"><span data-stu-id="df566-145">**Mirrored Write Transactions/sec**</span></span>|<span data-ttu-id="df566-146">Nombre de transactions qui ont écrit dans la base de données mise en miroir et ont attendu que le journal soit envoyé au miroir pour être validées au cours de la dernière seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-146">Number of transactions that wrote to the mirrored database and waited for the log to be sent to the mirror in order to commit, in the last second.</span></span><br /><br /> <span data-ttu-id="df566-147">Ce compteur est incrémenté uniquement lorsque le serveur principal envoie activement des enregistrements du journal au serveur miroir.</span><span class="sxs-lookup"><span data-stu-id="df566-147">This counter is incremented only when the principal server is actively sending log records to the mirror server.</span></span>|  
|<span data-ttu-id="df566-148">**Pages envoyées/s**</span><span class="sxs-lookup"><span data-stu-id="df566-148">**Pages Sent/sec**</span></span>|<span data-ttu-id="df566-149">Nombre de pages envoyées par seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-149">Number of pages sent per second.</span></span>|  
|<span data-ttu-id="df566-150">**Réceptions/s**</span><span class="sxs-lookup"><span data-stu-id="df566-150">**Receives/sec**</span></span>|<span data-ttu-id="df566-151">Nombre de réceptions de messages de mise en miroir par seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-151">Number of mirroring messages received per second.</span></span>|  
|<span data-ttu-id="df566-152">**Octets restaurés par progression/s**</span><span class="sxs-lookup"><span data-stu-id="df566-152">**Redo Bytes/sec**</span></span>|<span data-ttu-id="df566-153">Nombre d'octets du journal restaurés par progression par seconde sur la base de données miroir.</span><span class="sxs-lookup"><span data-stu-id="df566-153">Number of bytes of log rolled forward on the mirror database per second.</span></span>|  
|<span data-ttu-id="df566-154">**Ko de la file d'attente de restauration par progression**</span><span class="sxs-lookup"><span data-stu-id="df566-154">**Redo Queue KB**</span></span>|<span data-ttu-id="df566-155">Nombre total de kilo-octets du journal renforcé qui doivent encore être appliqués à la base de données miroir pour la restaurer par progression.</span><span class="sxs-lookup"><span data-stu-id="df566-155">Total number of kilobytes of hardened log that currently remain to be applied to the mirror database to roll it forward.</span></span> <span data-ttu-id="df566-156">Envoi à la base de données principale à partir de la base de données miroir.</span><span class="sxs-lookup"><span data-stu-id="df566-156">This is sent to the Principal from the Mirror.</span></span>|  
|<span data-ttu-id="df566-157">**Temps d'accusé de réception/envoi**</span><span class="sxs-lookup"><span data-stu-id="df566-157">**Send/Receive Ack Time**</span></span>|<span data-ttu-id="df566-158">Temps en millisecondes pendant lequel les messages ont attendu l'accusé de réception du serveur partenaire au cours de la dernière seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-158">Milliseconds that messages waited for acknowledgement from the partner, in the last second.</span></span><br /><br /> <span data-ttu-id="df566-159">Ce compteur est utile pour résoudre un problème susceptible d'être provoqué par un goulot d'étranglement du réseau, tel que des basculements inexpliqués, une longue file d'attente d'envoi ou une latence élevée des transactions.</span><span class="sxs-lookup"><span data-stu-id="df566-159">This counter is helpful in troubleshooting a problem that might be caused by a network bottleneck, such as unexplained failovers, a large send queue, or high transaction latency.</span></span> <span data-ttu-id="df566-160">Dans ce type de situation, vous pouvez analyser la valeur de ce compteur pour déterminer si le réseau est à l'origine du problème.</span><span class="sxs-lookup"><span data-stu-id="df566-160">In such cases, you can analyze the value of this counter to determine whether the network is causing the problem.</span></span>|  
|<span data-ttu-id="df566-161">**Envois/s**</span><span class="sxs-lookup"><span data-stu-id="df566-161">**Sends/sec**</span></span>|<span data-ttu-id="df566-162">Nombre d'envois de messages de mise en miroir par seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-162">Number of mirroring messages sent per second.</span></span>|  
|<span data-ttu-id="df566-163">**Délai de transaction**</span><span class="sxs-lookup"><span data-stu-id="df566-163">**Transaction Delay**</span></span>|<span data-ttu-id="df566-164">Délai d'attente d'accusé de réception non terminé.</span><span class="sxs-lookup"><span data-stu-id="df566-164">Delay in waiting for unterminated commit acknowledgement.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="df566-165">Sur chaque partenaire, certains des compteurs affichent une valeur de zéro en fonction du rôle que le partenaire détient actuellement.</span><span class="sxs-lookup"><span data-stu-id="df566-165">On each partner, some of the counters show a zero value depending on what role the partner is currently performing.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="df566-166">Notes</span><span class="sxs-lookup"><span data-stu-id="df566-166">Remarks</span></span>  
 <span data-ttu-id="df566-167">Les compteurs de performances vous permettent d'analyser les performances de la mise en miroir de bases de données.</span><span class="sxs-lookup"><span data-stu-id="df566-167">The performance counters let you monitor database mirroring performance.</span></span> <span data-ttu-id="df566-168">Par exemple, vous pouvez examiner le compteur **Délai de transaction** pour savoir si la mise en miroir de bases de données a une incidence sur les performances du serveur principal, et vous pouvez examiner les compteurs **File d'attente de restauration par progression** et **File d'attente d'envoi du journal** pour savoir si la mise en miroir de la base de données est synchronisée avec la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="df566-168">For example, you can examine the **Transaction Delay** counter to see if database mirroring is impacting performance on the principal server, you can examine the **Redo Queue** and **Log Send Queue** counters to see how well the mirror database is keeping up with the principal database.</span></span> <span data-ttu-id="df566-169">Vous pouvez examiner le compteur **Octets du journal envoyés/s** pour analyser la quantité de journal envoyée par seconde.</span><span class="sxs-lookup"><span data-stu-id="df566-169">You can examine the **Log Bytes Sent/sec** counter to monitor the amount of log sent per second.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="df566-170">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="df566-170">See Also</span></span>  
 [<span data-ttu-id="df566-171">Analyser l’utilisation des ressources &#40;Moniteur système&#41;</span><span class="sxs-lookup"><span data-stu-id="df566-171">Monitor Resource Usage &#40;System Monitor&#41;</span></span>](monitor-resource-usage-system-monitor.md)  
  
  
