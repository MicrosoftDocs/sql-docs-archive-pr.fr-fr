---
title: SQL Server, objet Transactions | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:Transactions
- Transactions object
ms.assetid: 85240267-78fd-476a-9ef6-010d6cf32dd8
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 73071af197c042bf6ef044d6b9a625cffde296e9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87696752"
---
# <a name="sql-server-transactions-object"></a><span data-ttu-id="5a809-102">SQL Server, objet Transactions</span><span class="sxs-lookup"><span data-stu-id="5a809-102">SQL Server, Transactions Object</span></span>
  <span data-ttu-id="5a809-103">L’objet **Transactions** dans Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] fournit des compteurs pour analyser le nombre de transactions actives dans une instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)], ainsi que les effets de ces transactions sur les ressources, telles que la banque de versions de lignes avec isolement de capture instantanée dans **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="5a809-103">The **Transactions** object in Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides counters to monitor the number of transactions active in an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], and the effects of those transactions on resources such as the snapshot isolation row version store in **tempdb**.</span></span> <span data-ttu-id="5a809-104">Les transactions sont des unités logiques de travail, c'est-à-dire un ensemble d'opérations qui doivent toutes aboutir ou être toutes supprimées d'une base de données afin de maintenir l'intégrité logique des données.</span><span class="sxs-lookup"><span data-stu-id="5a809-104">Transactions are logical units of work; a set of operations that must either all succeed or all be erased from a database in order to maintain the logical integrity of the data.</span></span> <span data-ttu-id="5a809-105">Toutes les modifications de données dans les bases de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont effectuées dans des transactions.</span><span class="sxs-lookup"><span data-stu-id="5a809-105">All modifications of data in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases are made in transactions.</span></span>  
  
 <span data-ttu-id="5a809-106">Lorsqu'une base de données est configurée pour autoriser un niveau d'isolement d'instantané, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] doit gérer un enregistrement des modifications apportées à chaque ligne de la base de données.</span><span class="sxs-lookup"><span data-stu-id="5a809-106">When a database is set to allow snapshot isolation level, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must maintain a record of the modifications made to each row in a database.</span></span> <span data-ttu-id="5a809-107">Chaque fois qu'une ligne est modifiée, une copie de la ligne telle qu'elle existait avant la modification est enregistrée dans une banque de versions de lignes dans **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="5a809-107">Each time a row is modified, a copy of the row as it existed before the modification is recorded in a row version store in **tempdb**.</span></span> <span data-ttu-id="5a809-108">De nombreux compteurs de l'objet **Transaction** peuvent être utilisés pour analyser la taille et le taux de croissance de la banque de versions de lignes dans **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="5a809-108">Many of the counters in the **Transaction** object can be used to monitor the size and rate of growth of the row version store in **tempdb**.</span></span>  
  
 <span data-ttu-id="5a809-109">Les compteurs de l'objet **Transactions** relèvent toutes les transactions contenues dans une instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a809-109">The **Transactions** object counters report all transactions in one instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="5a809-110">Ce tableau décrit les compteurs **SQLServer:Transactions** .</span><span class="sxs-lookup"><span data-stu-id="5a809-110">This table describes the **SQLServer:Transactions** counters.</span></span>  
  
|<span data-ttu-id="5a809-111">Compteurs de transactions SQL Server</span><span class="sxs-lookup"><span data-stu-id="5a809-111">SQL Server Transactions counters</span></span>|<span data-ttu-id="5a809-112">Description</span><span class="sxs-lookup"><span data-stu-id="5a809-112">Description</span></span>|  
|--------------------------------------|-----------------|  
|<span data-ttu-id="5a809-113">**Espace disponible dans tempdb (Ko)**</span><span class="sxs-lookup"><span data-stu-id="5a809-113">**Free Space in tempdb (KB)**</span></span>|<span data-ttu-id="5a809-114">Quantité d’espace (en kilo-octets) disponible dans **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="5a809-114">The amount of space (in kilobytes) available in **tempdb**.</span></span> <span data-ttu-id="5a809-115">Il faut suffisamment d'espace libre pour contenir le magasin de versions avec niveau d'isolement d'instantané et tous les nouveaux objets temporaires créés dans cette instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a809-115">There must be enough free space to hold both the snapshot isolation level version store and all new temporary objects created in this instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>|  
|<span data-ttu-id="5a809-116">**Délai le plus long d'exécution de transaction**</span><span class="sxs-lookup"><span data-stu-id="5a809-116">**Longest Transaction Running Time**</span></span>|<span data-ttu-id="5a809-117">Durée d'attente (en secondes) depuis le démarrage de la transaction qui a été active plus longtemps que toute autre transaction actuelle.</span><span class="sxs-lookup"><span data-stu-id="5a809-117">The length of time (in seconds) since the start of the transaction that has been active longer than any other current transaction.</span></span> <span data-ttu-id="5a809-118">Ce compteur ne montre une activité que lorsque la base de données est exécutée avec le niveau d'isolement d'instantané de lecture validée.</span><span class="sxs-lookup"><span data-stu-id="5a809-118">This counter only shows activity when the database is under read committed snapshot isolation level.</span></span> <span data-ttu-id="5a809-119">Il ne consigne aucune activité si la base de données se trouve dans n'importe quel autre niveau d'isolement.</span><span class="sxs-lookup"><span data-stu-id="5a809-119">It does not log any activity if the database is in any other isolation level.</span></span>|  
|<span data-ttu-id="5a809-120">**Transactions de versions non liées à des instantanés**</span><span class="sxs-lookup"><span data-stu-id="5a809-120">**NonSnapshot Version Transactions**</span></span>|<span data-ttu-id="5a809-121">Nombre de transactions actives n'utilisant pas le niveau d'isolement d'instantané et ayant apporté des modifications aux données, qui ont généré des versions de lignes dans le magasin de versions **tempdb** .</span><span class="sxs-lookup"><span data-stu-id="5a809-121">The number of currently active transactions that are not using snapshot isolation level and have made data modifications that have generated row versions in the **tempdb** version store.</span></span>|  
|<span data-ttu-id="5a809-122">**Transactions d'instantanés**</span><span class="sxs-lookup"><span data-stu-id="5a809-122">**Snapshot Transactions**</span></span>|<span data-ttu-id="5a809-123">Nombre de transactions actives utilisant le niveau d'isolement d'instantané.</span><span class="sxs-lookup"><span data-stu-id="5a809-123">The number of currently active transactions using the snapshot isolation level.</span></span><br /><br /> <span data-ttu-id="5a809-124">Remarque : Le compteur d’objets **Transactions d’instantanés** répond lors du premier accès aux données et non lors de l’émission de l’instruction `BEGIN TRANSACTION`.</span><span class="sxs-lookup"><span data-stu-id="5a809-124">Note: The **Snapshot Transactions** object counter responds when the first data access occurs, not when the `BEGIN TRANSACTION` statement is issued.</span></span>|  
|<span data-ttu-id="5a809-125">**Transactions**</span><span class="sxs-lookup"><span data-stu-id="5a809-125">**Transactions**</span></span>|<span data-ttu-id="5a809-126">Nombre de transactions actives de tous types.</span><span class="sxs-lookup"><span data-stu-id="5a809-126">The number of currently active transactions of all types.</span></span>|  
|<span data-ttu-id="5a809-127">**Proportion de conflits de mise à jour**</span><span class="sxs-lookup"><span data-stu-id="5a809-127">**Update conflict ratio**</span></span>|<span data-ttu-id="5a809-128">Pourcentage des transactions utilisant le niveau d'isolement d'instantané et qui ont rencontré des conflits de mise à jour au cours de la dernière seconde.</span><span class="sxs-lookup"><span data-stu-id="5a809-128">The percentage of those transactions using the snapshot isolation level that have encountered update conflicts within the last second.</span></span> <span data-ttu-id="5a809-129">Un conflit de mise à jour se produit lorsqu'une transaction de niveau d'isolement d'instantané tente de modifier une ligne dont la dernière modification a été effectuée par une autre transaction qui n'était pas validée lors du démarrage de la transaction de niveau d'isolement d'instantané.</span><span class="sxs-lookup"><span data-stu-id="5a809-129">An update conflict occurs when a snapshot isolation level transaction attempts to modify a row that last was modified by another transaction that was not committed when the snapshot isolation level transaction started.</span></span>|  
|<span data-ttu-id="5a809-130">**Transactions d'instantanés de mise à jour**</span><span class="sxs-lookup"><span data-stu-id="5a809-130">**Update Snapshot Transactions**</span></span>|<span data-ttu-id="5a809-131">Nombre de transactions actives utilisant le niveau d'isolement d'instantané et qui ont modifié des données.</span><span class="sxs-lookup"><span data-stu-id="5a809-131">The number of currently active transactions using the snapshot isolation level and have modified data.</span></span>|  
|<span data-ttu-id="5a809-132">**Taux de nettoyage de version (Ko/s)**</span><span class="sxs-lookup"><span data-stu-id="5a809-132">**Version Cleanup rate (KB/s)**</span></span>|<span data-ttu-id="5a809-133">Taux (en kilo-octets par seconde) auquel des versions de lignes sont supprimées de la banque de versions avec isolement d’instantané dans **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="5a809-133">The rate (in kilobytes per second) at which row versions are removed from the snapshot isolation version store in **tempdb**.</span></span>|  
|<span data-ttu-id="5a809-134">**Taux de génération de version (Ko/s)**</span><span class="sxs-lookup"><span data-stu-id="5a809-134">**Version Generation rate (KB/s)**</span></span>|<span data-ttu-id="5a809-135">Taux (en kilo-octets par seconde) auquel de nouvelles versions de lignes sont ajoutées à la banque de versions avec isolement d’instantané dans **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="5a809-135">The rate (in kilobytes per second) at which new row versions are added to the snapshot isolation version store in **tempdb**.</span></span>|  
|<span data-ttu-id="5a809-136">**Taille du magasin de versions (Ko)**</span><span class="sxs-lookup"><span data-stu-id="5a809-136">**Version Store Size (KB)**</span></span>|<span data-ttu-id="5a809-137">Quantité d’espace (en kilo-octets) dans **tempdb** utilisée pour stocker des versions de lignes avec niveau d’isolement d’instantané.</span><span class="sxs-lookup"><span data-stu-id="5a809-137">The amount of space (in kilobytes) in **tempdb** being used to store snapshot isolation level row versions.</span></span>|  
|<span data-ttu-id="5a809-138">**Nombre d'unités dans le magasin de versions**</span><span class="sxs-lookup"><span data-stu-id="5a809-138">**Version Store unit count**</span></span>|<span data-ttu-id="5a809-139">Nombre d'unités d'allocation actives dans le magasin de versions avec isolement d'instantané dans **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="5a809-139">The number of active allocation units in the snapshot isolation version store in **tempdb**.</span></span>|  
|<span data-ttu-id="5a809-140">**Création d'unité dans le magasin de versions**</span><span class="sxs-lookup"><span data-stu-id="5a809-140">**Version Store unit creation**</span></span>|<span data-ttu-id="5a809-141">Nombre d'unités d'allocation ayant été créées dans le magasin d'isolement d'instantané depuis le démarrage de l'instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="5a809-141">The number of allocation units that have been created in the snapshot isolation store since the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] was started.</span></span>|  
|<span data-ttu-id="5a809-142">**Troncation d'unité dans le magasin de versions**</span><span class="sxs-lookup"><span data-stu-id="5a809-142">**Version Store unit truncation**</span></span>|<span data-ttu-id="5a809-143">Nombre d'unités d'allocation ayant été supprimées du magasin d'isolement d'instantané depuis le démarrage de l'instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="5a809-143">The number of allocation units that have been removed from the snapshot isolation store since the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] was started.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="5a809-144">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5a809-144">See Also</span></span>  
 [<span data-ttu-id="5a809-145">Analyser l’utilisation des ressources &#40;Moniteur système&#41;</span><span class="sxs-lookup"><span data-stu-id="5a809-145">Monitor Resource Usage &#40;System Monitor&#41;</span></span>](monitor-resource-usage-system-monitor.md)  
  
  
