---
title: SQL Server, objet SQL Statistics | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:SQL Statistics
- SQL Statistics object
ms.assetid: da7dbb4b-f632-45a0-b1ab-c35cc2695c86
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 8aba118f93a9a4f38179e8e7c5156eecc24012ef
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87696755"
---
# <a name="sql-server-sql-statistics-object"></a><span data-ttu-id="91dde-102">Objet SQLServer:SQL Statistics</span><span class="sxs-lookup"><span data-stu-id="91dde-102">SQL Server, SQL Statistics Object</span></span>
  <span data-ttu-id="91dde-103">L’objet **SQLServer:SQL Statistics** dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] fournit des compteurs pour surveiller la compilation et le type de demandes transmises à une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="91dde-103">The **SQLServer:SQL Statistics** object in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides counters to monitor compilation and the type of requests sent to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="91dde-104">La surveillance du nombre de compilations et de recompilations de requêtes, ainsi que le nombre de lots reçus par une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , vous donne une idée de la rapidité avec laquelle [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] traite les requêtes utilisateur et de l'efficacité avec laquelle l'optimiseur de requêtes traite les requêtes.</span><span class="sxs-lookup"><span data-stu-id="91dde-104">Monitoring the number of query compilations and recompilations and the number of batches received by an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] gives you an indication of how quickly [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is processing user queries and how effectively the query optimizer is processing the queries.</span></span>  
  
 <span data-ttu-id="91dde-105">La compilation constitue une partie significative du délai d'exécution d'une requête.</span><span class="sxs-lookup"><span data-stu-id="91dde-105">Compilation is a significant part of a query's turnaround time.</span></span> <span data-ttu-id="91dde-106">Pour économiser le coût de compilation, [!INCLUDE[ssDE](../../includes/ssde-md.md)] enregistre le plan de requête compilée dans un cache des requêtes.</span><span class="sxs-lookup"><span data-stu-id="91dde-106">In order to save the compilation cost, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] saves the compiled query plan in a query cache.</span></span> <span data-ttu-id="91dde-107">L'objectif du cache est de réduire la durée de compilation en conservant les requêtes compilées en vue d'une utilisation ultérieure, éliminant ainsi la nécessité de recompiler des requêtes si elles sont exécutées ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="91dde-107">The objective of the cache is to reduce compilation by storing compiled queries for later reuse, therefore ending the requirement to recompile queries when later executed.</span></span> <span data-ttu-id="91dde-108">Toutefois, chaque requête doit être compilée au moins une fois.</span><span class="sxs-lookup"><span data-stu-id="91dde-108">However, each unique query must be compiled at least one time.</span></span> <span data-ttu-id="91dde-109">La recompilation des requêtes peut être due aux facteurs suivants :</span><span class="sxs-lookup"><span data-stu-id="91dde-109">Query recompilations can be caused by the following factors:</span></span>  
  
-   <span data-ttu-id="91dde-110">modifications de schéma, y compris les modifications de schémas de base comme l'addition de colonnes ou d'index à une table, ou modifications de schémas statistiques comme l'insertion ou la suppression d'un nombre significatif de lignes dans une table ;</span><span class="sxs-lookup"><span data-stu-id="91dde-110">Schema changes, including base schema changes such as adding columns or indexes to a table, or statistics schema changes such as inserting or deleting a significant number of rows from a table.</span></span>  
  
-   <span data-ttu-id="91dde-111">modifications d'environnement (instruction SET).</span><span class="sxs-lookup"><span data-stu-id="91dde-111">Environment (SET statement) changes.</span></span> <span data-ttu-id="91dde-112">La modification des paramètres de session tels que ANSI_PADDING ou ANSI_NULLS peuvent provoquer la recompilation d'une requête.</span><span class="sxs-lookup"><span data-stu-id="91dde-112">Changes in session settings such as ANSI_PADDING or ANSI_NULLS can cause a query to be recompiled.</span></span>  
  
 <span data-ttu-id="91dde-113">Pour plus d’informations sur le paramétrage simple et forcé, consultez [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="91dde-113">For more information about simple and forced parameterization, see [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span></span>  
  
 <span data-ttu-id="91dde-114">Voici les compteurs **Statistiques SQL** de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="91dde-114">These are the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **SQL Statistics** counters.</span></span>  
  
|<span data-ttu-id="91dde-115">Compteurs statistiques SQL de SQL Server</span><span class="sxs-lookup"><span data-stu-id="91dde-115">SQL Server SQL Statistics counters</span></span>|<span data-ttu-id="91dde-116">Description</span><span class="sxs-lookup"><span data-stu-id="91dde-116">Description</span></span>|  
|----------------------------------------|-----------------|  
|<span data-ttu-id="91dde-117">**Nombre de tentatives d'autoparamétrage/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-117">**Auto-Param Attempts/sec**</span></span>|<span data-ttu-id="91dde-118">Nombre de tentatives d'autoparamétrage par seconde.</span><span class="sxs-lookup"><span data-stu-id="91dde-118">Number of auto-parameterization attempts per second.</span></span> <span data-ttu-id="91dde-119">Le total devrait être la somme des autoparamétrages qui sont sûrs, non sûrs ou qui ont échoué.</span><span class="sxs-lookup"><span data-stu-id="91dde-119">Total should be the sum of the failed, safe, and unsafe auto-parameterizations.</span></span> <span data-ttu-id="91dde-120">L'autoparamétrage a lieu lorsqu'une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tente de paramétrer une demande [!INCLUDE[tsql](../../../includes/tsql-md.md)] en remplaçant certains littéraux par des paramètres pour permettre la réutilisation du plan d'exécution résultant en cache sur plusieurs demandes d'apparence comparable.</span><span class="sxs-lookup"><span data-stu-id="91dde-120">Auto-parameterization occurs when an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tries to parameterize a [!INCLUDE[tsql](../../../includes/tsql-md.md)] request by replacing some literals with parameters so that reuse of the resulting cached execution plan across multiple similar-looking requests is possible.</span></span> <span data-ttu-id="91dde-121">Notez que les autoparamétrages sont également appelés paramétrages simples dans les versions plus récentes de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="91dde-121">Note that auto-parameterizations are also known as simple parameterizations in newer versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="91dde-122">Ce compteur ne tient pas compte des paramétrages forcés.</span><span class="sxs-lookup"><span data-stu-id="91dde-122">This counter does not include forced parameterizations.</span></span>|  
|<span data-ttu-id="91dde-123">**Nombre de requêtes de lots/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-123">**Batch Requests/sec**</span></span>|<span data-ttu-id="91dde-124">Nombre de lots de commandes [!INCLUDE[tsql](../../../includes/tsql-md.md)] reçus par seconde.</span><span class="sxs-lookup"><span data-stu-id="91dde-124">Number of [!INCLUDE[tsql](../../../includes/tsql-md.md)] command batches received per second.</span></span> <span data-ttu-id="91dde-125">Cette statistique est affectée par toutes les contraintes (comme les E/S, le nombre d'utilisateurs, la taille du cache, la complexité des requêtes, etc.).</span><span class="sxs-lookup"><span data-stu-id="91dde-125">This statistic is affected by all constraints (such as I/O, number of users, cache size, complexity of requests, and so on).</span></span> <span data-ttu-id="91dde-126">Un nombre élevé de requêtes de lots traduit un bon débit.</span><span class="sxs-lookup"><span data-stu-id="91dde-126">High batch requests mean good throughput.</span></span>|  
|<span data-ttu-id="91dde-127">**Nombre d'échecs d'autoparamétrage/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-127">**Failed Auto-Params/sec**</span></span>|<span data-ttu-id="91dde-128">Nombre d'échecs de tentatives d'autoparamétrage par seconde.</span><span class="sxs-lookup"><span data-stu-id="91dde-128">Number of failed auto-parameterization attempts per second.</span></span> <span data-ttu-id="91dde-129">Ce nombre doit être faible.</span><span class="sxs-lookup"><span data-stu-id="91dde-129">This should be small.</span></span> <span data-ttu-id="91dde-130">Notez que les autoparamétrages sont également appelés paramétrages simples dans les versions ultérieures de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="91dde-130">Note that auto-parameterizations are also known as simple parameterizations in later versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|  
|<span data-ttu-id="91dde-131">**Paramétrages forcés/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-131">**Forced Parameterizations/sec**</span></span>|<span data-ttu-id="91dde-132">Nombre de paramétrages forcés réussis par seconde.</span><span class="sxs-lookup"><span data-stu-id="91dde-132">Number of successful forced parameterizations per second.</span></span>|  
|<span data-ttu-id="91dde-133">**Exécutions guidées du plan/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-133">**Guided Plan Executions/sec**</span></span>|<span data-ttu-id="91dde-134">Nombre d'exécutions de plan par seconde dans lesquelles le plan de requête a été généré à l'aide d'un repère de plan.</span><span class="sxs-lookup"><span data-stu-id="91dde-134">Number of plan executions per second in which the query plan has been generated by using a plan guide.</span></span>|  
|<span data-ttu-id="91dde-135">**Exécutions du plan non correctement guidées/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-135">**Misguided Plan Executions/sec**</span></span>|<span data-ttu-id="91dde-136">Nombre d'exécutions de plan par seconde dans lesquelles un repère de plan n'a pas pu être honoré au cours de la génération du plan.</span><span class="sxs-lookup"><span data-stu-id="91dde-136">Number of plan executions per second in which a plan guide could not be honored during plan generation.</span></span> <span data-ttu-id="91dde-137">Le repère de plan a été ignoré et la compilation normale a été utilisée pour générer le plan exécuté.</span><span class="sxs-lookup"><span data-stu-id="91dde-137">The plan guide was disregarded and normal compilation was used to generate the executed plan.</span></span>|  
|<span data-ttu-id="91dde-138">**Nombre d'autoparamétrages sûrs/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-138">**Safe Auto-Params/sec**</span></span>|<span data-ttu-id="91dde-139">Nombre de tentatives d'autoparamétrage sûres par seconde.</span><span class="sxs-lookup"><span data-stu-id="91dde-139">Number of safe auto-parameterization attempts per second.</span></span> <span data-ttu-id="91dde-140">Le qualificatif « sûr » fait référence à la détermination selon laquelle un plan d'exécution mis en cache peut être partagé entre plusieurs instructions [!INCLUDE[tsql](../../../includes/tsql-md.md)] d'apparence comparable.</span><span class="sxs-lookup"><span data-stu-id="91dde-140">Safe refers to a determination that a cached execution plan can be shared between different similar-looking [!INCLUDE[tsql](../../../includes/tsql-md.md)] statements.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="91dde-141">effectue de nombreuses tentatives d’autoparamétrage, dont certaines se révèlent sûres alors que d’autres échouent.</span><span class="sxs-lookup"><span data-stu-id="91dde-141">makes many auto-parameterization attempts some of which turn out to be safe and others fail.</span></span> <span data-ttu-id="91dde-142">Notez que les autoparamétrages sont également appelés paramétrages simples dans les versions ultérieures de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="91dde-142">Note that auto-parameterizations are also known as simple parameterizations in later versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="91dde-143">Ce compteur ne tient pas compte des paramétrages forcés.</span><span class="sxs-lookup"><span data-stu-id="91dde-143">This does not include forced parameterizations.</span></span>|  
|<span data-ttu-id="91dde-144">**Taux d'avertissements SQL**</span><span class="sxs-lookup"><span data-stu-id="91dde-144">**SQL Attention rate**</span></span>|<span data-ttu-id="91dde-145">Nombre d'avertissements par seconde.</span><span class="sxs-lookup"><span data-stu-id="91dde-145">Number of attentions per second.</span></span> <span data-ttu-id="91dde-146">Un avertissement est une demande émise par le client pour terminer la demande en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="91dde-146">An attention is a request by the client to end the currently running request.</span></span>|  
|<span data-ttu-id="91dde-147">**Compilations SQL/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-147">**SQL Compilations/sec**</span></span>|<span data-ttu-id="91dde-148">Nombre de compilations SQL par seconde.</span><span class="sxs-lookup"><span data-stu-id="91dde-148">Number of SQL compilations per second.</span></span> <span data-ttu-id="91dde-149">Indique le nombre de fois où le chemin d'accès du code de compilation est entré.</span><span class="sxs-lookup"><span data-stu-id="91dde-149">Indicates the number of times the compile code path is entered.</span></span> <span data-ttu-id="91dde-150">Inclut les compilations provoquées par les recompilations au niveau des instructions dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="91dde-150">Includes compiles caused by statement-level recompilations in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="91dde-151">Une fois l'activité de l'utilisateur de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] stable, cette valeur atteint un état d'équilibre.</span><span class="sxs-lookup"><span data-stu-id="91dde-151">After [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] user activity is stable, this value reaches a steady state.</span></span>|  
|<span data-ttu-id="91dde-152">**Recompilations SQL/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-152">**SQL Re-Compilations/sec**</span></span>|<span data-ttu-id="91dde-153">Nombre de recompilations d'instructions par seconde.</span><span class="sxs-lookup"><span data-stu-id="91dde-153">Number of statement recompiles per second.</span></span> <span data-ttu-id="91dde-154">Compte le nombre de fois où les recompilations d'instruction sont déclenchées.</span><span class="sxs-lookup"><span data-stu-id="91dde-154">Counts the number of times statement recompiles are triggered.</span></span> <span data-ttu-id="91dde-155">En général, il faut que le nombre de recompilations soit faible.</span><span class="sxs-lookup"><span data-stu-id="91dde-155">Generally, you want the recompiles to be low.</span></span>|  
|<span data-ttu-id="91dde-156">**Nombre d'autoparamétrages non sûrs/s**</span><span class="sxs-lookup"><span data-stu-id="91dde-156">**Unsafe Auto-Params/sec**</span></span>|<span data-ttu-id="91dde-157">Nombre de tentatives d'autoparamétrage non sûres par seconde.</span><span class="sxs-lookup"><span data-stu-id="91dde-157">Number of unsafe auto-parameterization attempts per second.</span></span> <span data-ttu-id="91dde-158">Par exemple, la requête possède des caractéristiques qui empêchent le partage du plan mis en cache.</span><span class="sxs-lookup"><span data-stu-id="91dde-158">For example, the query has some characteristics that prevent the cached plan from being shared.</span></span> <span data-ttu-id="91dde-159">Elles sont qualifiées de non sûres.</span><span class="sxs-lookup"><span data-stu-id="91dde-159">These are designated as unsafe.</span></span> <span data-ttu-id="91dde-160">Ce compteur ne tient pas compte du nombre de paramétrages forcés.</span><span class="sxs-lookup"><span data-stu-id="91dde-160">This does not count the number of forced parameterizations.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="91dde-161">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="91dde-161">See Also</span></span>  
 <span data-ttu-id="91dde-162">[SQL Server - Objet Plan Cache](sql-server-plan-cache-object.md) </span><span class="sxs-lookup"><span data-stu-id="91dde-162">[SQL Server, Plan Cache Object](sql-server-plan-cache-object.md) </span></span>  
 [<span data-ttu-id="91dde-163">Analyser l’utilisation des ressources &#40;Moniteur système&#41;</span><span class="sxs-lookup"><span data-stu-id="91dde-163">Monitor Resource Usage &#40;System Monitor&#41;</span></span>](monitor-resource-usage-system-monitor.md)  
  
  
