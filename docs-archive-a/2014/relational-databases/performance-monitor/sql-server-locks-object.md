---
title: SQL Server, objet Locks | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Locks object
- SQLServer:Locks
ms.assetid: ace04f0d-3993-4444-8317-ca39d7087e49
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: f13d4ea1172d6b32b90c045a45445c5c87f48a94
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87602080"
---
# <a name="sql-server-locks-object"></a><span data-ttu-id="931d1-102">SQL Server, objet Locks</span><span class="sxs-lookup"><span data-stu-id="931d1-102">SQL Server, Locks Object</span></span>
  <span data-ttu-id="931d1-103">L'objet **SQLServer:Locks** dans Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] fournit des informations sur les verrous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dans les types de ressources individuels.</span><span class="sxs-lookup"><span data-stu-id="931d1-103">The **SQLServer:Locks** object in Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] locks on individual resource types.</span></span> <span data-ttu-id="931d1-104">Des verrous sont placés sur les ressources [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , telles que les lignes lues ou modifiées lors d'une transaction, pour empêcher d'autres transactions d'utiliser simultanément les ressources.</span><span class="sxs-lookup"><span data-stu-id="931d1-104">Locks are held on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resources, such as rows read or modified during a transaction, to prevent concurrent use of resources by different transactions.</span></span> <span data-ttu-id="931d1-105">Par exemple, si un verrou exclusif (X) est mis en place dans une ligne de table par une transaction, aucune autre transaction ne peut modifier cette ligne jusqu'à ce que le verrou soit débloqué.</span><span class="sxs-lookup"><span data-stu-id="931d1-105">For example, if an exclusive (X) lock is held on a row within a table by a transaction, no other transaction can modify that row until the lock is released.</span></span> <span data-ttu-id="931d1-106">Un nombre minimal de verrous favorise la concurrence, ce qui peut améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="931d1-106">Minimizing locks increases concurrency, which can improve performance.</span></span> <span data-ttu-id="931d1-107">Plusieurs instances de l'objet **Verrous** peuvent être surveillées simultanément, chaque instance représentant un verrou sur un type de ressource.</span><span class="sxs-lookup"><span data-stu-id="931d1-107">Multiple instances of the **Locks** object can be monitored at the same time, with each instance representing a lock on a resource type.</span></span>  
  
 <span data-ttu-id="931d1-108">Le tableau ci-dessous décrit les compteurs **Verrous** de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="931d1-108">This table describes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Locks** counters.</span></span>  
  
|<span data-ttu-id="931d1-109">Compteurs de verrous de SQL Server</span><span class="sxs-lookup"><span data-stu-id="931d1-109">SQL Server Locks counters</span></span>|<span data-ttu-id="931d1-110">Description</span><span class="sxs-lookup"><span data-stu-id="931d1-110">Description</span></span>|  
|-------------------------------|-----------------|  
|<span data-ttu-id="931d1-111">**Temps d'attente moyen (ms)**</span><span class="sxs-lookup"><span data-stu-id="931d1-111">**Average Wait Time (ms)**</span></span>|<span data-ttu-id="931d1-112">Durée d'attente moyenne (en millisecondes) pour chaque demande de verrou qui se termine par une attente.</span><span class="sxs-lookup"><span data-stu-id="931d1-112">Average amount of wait time (in milliseconds) for each lock request that resulted in a wait.</span></span>|  
|<span data-ttu-id="931d1-113">**Requêtes de verrous/seconde**</span><span class="sxs-lookup"><span data-stu-id="931d1-113">**Lock Requests/sec**</span></span>|<span data-ttu-id="931d1-114">Nombre de nouveaux verrous et de conversions de verrous par seconde demandés par le gestionnaire de verrous.</span><span class="sxs-lookup"><span data-stu-id="931d1-114">Number of new locks and lock conversions per second requested from the lock manager.</span></span>|  
|<span data-ttu-id="931d1-115">**Expirations de verrouillage (expiration > 0)/s**</span><span class="sxs-lookup"><span data-stu-id="931d1-115">**Lock Timeouts (timeout > 0)/sec**</span></span>|<span data-ttu-id="931d1-116">Nombre de demandes de verrous par seconde ayant expiré, demandes de verrous NOWAIT exclues.</span><span class="sxs-lookup"><span data-stu-id="931d1-116">Number of lock requests per second that timed out, but excluding requests for NOWAIT locks.</span></span>|  
|<span data-ttu-id="931d1-117">**Dépassement de l'attente des verrous/seconde**</span><span class="sxs-lookup"><span data-stu-id="931d1-117">**Lock Timeouts/sec**</span></span>|<span data-ttu-id="931d1-118">Nombre de demandes de verrous par seconde ayant expiré, demandes de verrous NOWAIT incluses</span><span class="sxs-lookup"><span data-stu-id="931d1-118">Number of lock requests per second that timed out, including requests for NOWAIT locks.</span></span>|  
|<span data-ttu-id="931d1-119">**Temps d'attente des verrous (ms)**</span><span class="sxs-lookup"><span data-stu-id="931d1-119">**Lock Wait Time (ms)**</span></span>|<span data-ttu-id="931d1-120">Temps d'attente total (en millisecondes) pour les verrous lors de la dernière seconde</span><span class="sxs-lookup"><span data-stu-id="931d1-120">Total wait time (in milliseconds) for locks in the last second.</span></span>|  
|<span data-ttu-id="931d1-121">**Attente de verrous/seconde**</span><span class="sxs-lookup"><span data-stu-id="931d1-121">**Lock Waits/sec**</span></span>|<span data-ttu-id="931d1-122">Nombre de requêtes de verrous par seconde qui ont exigé une attente de l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="931d1-122">Number of lock requests per second that required the caller to wait.</span></span>|  
|<span data-ttu-id="931d1-123">**Nombre de blocages/seconde**</span><span class="sxs-lookup"><span data-stu-id="931d1-123">**Number of Deadlocks/sec**</span></span>|<span data-ttu-id="931d1-124">Nombre de requêtes de verrous par seconde qui se sont terminées par un blocage.</span><span class="sxs-lookup"><span data-stu-id="931d1-124">Number of lock requests per second that resulted in a deadlock.</span></span>|  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="931d1-125">peut verrouiller ces ressources.</span><span class="sxs-lookup"><span data-stu-id="931d1-125">can lock these resources.</span></span>  
  
|<span data-ttu-id="931d1-126">Élément</span><span class="sxs-lookup"><span data-stu-id="931d1-126">Item</span></span>|<span data-ttu-id="931d1-127">Description</span><span class="sxs-lookup"><span data-stu-id="931d1-127">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="931d1-128">**_Total**</span><span class="sxs-lookup"><span data-stu-id="931d1-128">**_Total**</span></span>|<span data-ttu-id="931d1-129">Informations pour tous les verrous.</span><span class="sxs-lookup"><span data-stu-id="931d1-129">Information for all locks.</span></span>|  
|<span data-ttu-id="931d1-130">**AllocUnit**</span><span class="sxs-lookup"><span data-stu-id="931d1-130">**AllocUnit**</span></span>|<span data-ttu-id="931d1-131">Verrou sur une unité d'allocation.</span><span class="sxs-lookup"><span data-stu-id="931d1-131">A lock on an allocation unit.</span></span>|  
|<span data-ttu-id="931d1-132">**Application**</span><span class="sxs-lookup"><span data-stu-id="931d1-132">**Application**</span></span>|<span data-ttu-id="931d1-133">Verrou appliqué à une ressource d'application.</span><span class="sxs-lookup"><span data-stu-id="931d1-133">A lock on an application-specified resource.</span></span>|  
|<span data-ttu-id="931d1-134">**Sauvegarde de la base de données**</span><span class="sxs-lookup"><span data-stu-id="931d1-134">**Database**</span></span>|<span data-ttu-id="931d1-135">Verrou sur une base de données, y compris tous ses objets.</span><span class="sxs-lookup"><span data-stu-id="931d1-135">A lock on a database, including all objects in the database.</span></span>|  
|<span data-ttu-id="931d1-136">**Extension**</span><span class="sxs-lookup"><span data-stu-id="931d1-136">**Extent**</span></span>|<span data-ttu-id="931d1-137">Verrou sur un groupe contigu de 8 pages.</span><span class="sxs-lookup"><span data-stu-id="931d1-137">A lock on a contiguous group of 8 pages.</span></span>|  
|<span data-ttu-id="931d1-138">**File**</span><span class="sxs-lookup"><span data-stu-id="931d1-138">**File**</span></span>|<span data-ttu-id="931d1-139">Verrou sur un fichier de base de données</span><span class="sxs-lookup"><span data-stu-id="931d1-139">A lock on a database file.</span></span>|  
|<span data-ttu-id="931d1-140">**Segment de mémoire/BTree**</span><span class="sxs-lookup"><span data-stu-id="931d1-140">**Heap/BTree**</span></span>|<span data-ttu-id="931d1-141">Segment de mémoire ou BTree (HOBT)</span><span class="sxs-lookup"><span data-stu-id="931d1-141">Heap or BTree (HOBT).</span></span> <span data-ttu-id="931d1-142">Verrou sur un segment de mémoire de pages de données ou sur la structure BTree d'un index</span><span class="sxs-lookup"><span data-stu-id="931d1-142">A lock on a heap of data pages, or on the BTree structure of an index.</span></span>|  
|<span data-ttu-id="931d1-143">**Clé**</span><span class="sxs-lookup"><span data-stu-id="931d1-143">**Key**</span></span>|<span data-ttu-id="931d1-144">Verrou sur une ligne d'index</span><span class="sxs-lookup"><span data-stu-id="931d1-144">A lock on a row in an index.</span></span>|  
|<span data-ttu-id="931d1-145">**Métadonnées**</span><span class="sxs-lookup"><span data-stu-id="931d1-145">**Metadata**</span></span>|<span data-ttu-id="931d1-146">Verrou sur une partie des informations de catalogue (appelée également métadonnées).</span><span class="sxs-lookup"><span data-stu-id="931d1-146">A lock on a piece of catalog information, also called metadata.</span></span>|  
|<span data-ttu-id="931d1-147">**Object**</span><span class="sxs-lookup"><span data-stu-id="931d1-147">**Object**</span></span>|<span data-ttu-id="931d1-148">Verrou sur une table, une procédure stockée, une vue, etc. y compris toutes les données et tous les index.</span><span class="sxs-lookup"><span data-stu-id="931d1-148">A lock on table, stored procedure, view, etc, including all data and indexes.</span></span> <span data-ttu-id="931d1-149">L’objet peut correspondre à tout élément ayant une entrée dans **sys.all_objects**.</span><span class="sxs-lookup"><span data-stu-id="931d1-149">The object can be anything that has an entry in **sys.all_objects**.</span></span>|  
|<span data-ttu-id="931d1-150">**Page**</span><span class="sxs-lookup"><span data-stu-id="931d1-150">**Page**</span></span>|<span data-ttu-id="931d1-151">Verrou sur une page de 8 kilo-octets (Ko) dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="931d1-151">A lock on an 8-kilobyte (KB) page in a database.</span></span>|  
|<span data-ttu-id="931d1-152">**RID**</span><span class="sxs-lookup"><span data-stu-id="931d1-152">**RID**</span></span>|<span data-ttu-id="931d1-153">ID de ligne.</span><span class="sxs-lookup"><span data-stu-id="931d1-153">Row ID.</span></span> <span data-ttu-id="931d1-154">Verrou sur une seule ligne dans un segment de mémoire.</span><span class="sxs-lookup"><span data-stu-id="931d1-154">A lock on a single row in a heap.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="931d1-155">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="931d1-155">See Also</span></span>  
 [<span data-ttu-id="931d1-156">Analyser l’utilisation des ressources &#40;Moniteur système&#41;</span><span class="sxs-lookup"><span data-stu-id="931d1-156">Monitor Resource Usage &#40;System Monitor&#41;</span></span>](monitor-resource-usage-system-monitor.md)  
  
  
