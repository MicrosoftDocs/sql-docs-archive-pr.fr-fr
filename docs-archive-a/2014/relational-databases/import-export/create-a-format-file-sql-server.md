---
title: Créer un fichier de format (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-movement
ms.topic: conceptual
helpviewer_keywords:
- format files [SQL Server], creating
ms.assetid: f680b4a0-630f-4052-9c79-d348c1076f7b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: ca9c85bfcac3380ce13ba89fff6de0b5daadbece
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87600008"
---
# <a name="create-a-format-file-sql-server"></a><span data-ttu-id="2461d-102">Créer un fichier de format (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2461d-102">Create a Format File (SQL Server)</span></span>
  <span data-ttu-id="2461d-103">Lorsque vous importez des données en bloc dans une table [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ou exportez en bloc des données à partir d'une table, utilisez un fichier de format vers un système souple pour l'écriture de fichiers de données nécessitant peu ou pas d'édition pour la conformité aux autres formats de données ou pour la lecture des fichiers de données provenant d'autres logiciels.</span><span class="sxs-lookup"><span data-stu-id="2461d-103">When you bulk import into a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] table or bulk export data from a table, you can use a format file to a flexible system for writing data files that requires little or no editing to comply with other data formats or to read data files from other software programs.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="2461d-104">prend en charge deux types de fichier de format : format XML et format non-XML.</span><span class="sxs-lookup"><span data-stu-id="2461d-104">support two types of format file: non-XML format and XML format.</span></span> <span data-ttu-id="2461d-105">Le format non-XML est le format d'origine pris en charge dans les versions précédentes de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2461d-105">The non-XML format is the original format that is supported by earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="2461d-106">En règle générale, les fichiers de format XML et non-XML sont interchangeables.</span><span class="sxs-lookup"><span data-stu-id="2461d-106">Generally, XML and non-XML format files are interchangeable.</span></span> <span data-ttu-id="2461d-107">Toutefois, nous recommandons d'utiliser la syntaxe XML pour les nouveaux fichiers de format, car elle offre plusieurs avantages par rapport aux fichiers de format non-XML.</span><span class="sxs-lookup"><span data-stu-id="2461d-107">However, we recommend that you use the XML syntax for new format files because they provide several advantages over non-XML format files.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2461d-108">La version de l’utilitaire **bcp** (Bcp.exe) servant à lire un fichier de format doit être identique ou ultérieure à la version utilisée pour créer le fichier de format.</span><span class="sxs-lookup"><span data-stu-id="2461d-108">The version of the **bcp** utility (Bcp.exe) used to read a format file must be the same as, or later than the version used to create the format file.</span></span> <span data-ttu-id="2461d-109">Par exemple, [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] **BCP** peut lire un fichier de format version 10,0, qui est généré par [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **BCP**, mais [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **BCP** ne peut pas lire un fichier de format version 11,0, qui est généré par [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] **BCP**.</span><span class="sxs-lookup"><span data-stu-id="2461d-109">For example, [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp** can read a version 10.0 format file, which is generated by [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp**, but [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp** cannot read a version 11.0 format file, which is generated by [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp**.</span></span>  
  
 <span data-ttu-id="2461d-110">Cette rubrique décrit l'utilisation de l' [utilitaire bcp](../../tools/bcp-utility.md) pour créer un fichier de format pour une table donnée.</span><span class="sxs-lookup"><span data-stu-id="2461d-110">This topic describes how to use the [bcp utility](../../tools/bcp-utility.md) to create a format file for a particular table.</span></span> <span data-ttu-id="2461d-111">Le fichier de format est basé sur l’option de type de données spécifiée ( **-n**, **-c**, **-w**ou **-N**) et les délimiteurs de la table ou de la vue.</span><span class="sxs-lookup"><span data-stu-id="2461d-111">The format file is based on the data-type option specified (**-n**, **-c**, **-w**,or **-N**) and the table or view delimiters.</span></span>  
  
## <a name="creating-a-non-xml-format-file"></a><span data-ttu-id="2461d-112">Création d'un fichier de format non-XML</span><span class="sxs-lookup"><span data-stu-id="2461d-112">Creating a Non-XML Format File</span></span>  
 <span data-ttu-id="2461d-113">Pour utiliser une commande **bcp** pour créer un fichier de format, spécifiez l’argument **format** et utilisez **nul** à la place d’un chemin de fichier de données.</span><span class="sxs-lookup"><span data-stu-id="2461d-113">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="2461d-114">L’option **format** requiert également l’option **-f** , comme suit :</span><span class="sxs-lookup"><span data-stu-id="2461d-114">The **format** option also requires the **-f** option, such as:</span></span>  
  
 <span data-ttu-id="2461d-115">**bcp**_table_ou_vue_**format** nul **-f**_nom_fichier_de_format_</span><span class="sxs-lookup"><span data-stu-id="2461d-115">**bcp** _table_or_view_ **format** nul **-f**_format_file_name_</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2461d-116">Pour bien distinguer un fichier au format non-XML, nous vous recommandons d'utiliser l'extension de nom de fichier .fmt, par exemple MaTable.fmt.</span><span class="sxs-lookup"><span data-stu-id="2461d-116">To distinguish a non-XML format file, we recommend that you use .fmt as the file name extension, for example, MyTable.fmt.</span></span>  
  
 <span data-ttu-id="2461d-117">Pour plus d’informations sur la structure et les champs des fichiers de format non-XML, consultez [Fichiers de format non-XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-117">For information about the structure and fields of non-XML format files, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="2461d-118">Exemples</span><span class="sxs-lookup"><span data-stu-id="2461d-118">Examples</span></span>  
 <span data-ttu-id="2461d-119">Cette section contient les exemples suivants qui illustrent l’utilisation des commandes **bcp** pour créer un fichier de format non-XML :</span><span class="sxs-lookup"><span data-stu-id="2461d-119">This section contains the following examples that show how to use **bcp** commands to create a non-XML format file:</span></span>  
  
-   <span data-ttu-id="2461d-120">R.</span><span class="sxs-lookup"><span data-stu-id="2461d-120">A.</span></span> <span data-ttu-id="2461d-121">Création d'un fichier de format non-XML pour des données natives</span><span class="sxs-lookup"><span data-stu-id="2461d-121">Creating a non-XML format file for native data</span></span>  
  
-   <span data-ttu-id="2461d-122">B.</span><span class="sxs-lookup"><span data-stu-id="2461d-122">B.</span></span> <span data-ttu-id="2461d-123">Création d'un fichier de format non-XML pour des données de type caractère</span><span class="sxs-lookup"><span data-stu-id="2461d-123">Creating a non-XML format file for character data</span></span>  
  
-   <span data-ttu-id="2461d-124">C.</span><span class="sxs-lookup"><span data-stu-id="2461d-124">C.</span></span> <span data-ttu-id="2461d-125">Création d'un fichier de format non-XML pour des données Unicode natives</span><span class="sxs-lookup"><span data-stu-id="2461d-125">Creating a non-XML format file for Unicode native data</span></span>  
  
-   <span data-ttu-id="2461d-126">D.</span><span class="sxs-lookup"><span data-stu-id="2461d-126">D.</span></span> <span data-ttu-id="2461d-127">Création d'un fichier de format non-XML pour des données Unicode de type caractère</span><span class="sxs-lookup"><span data-stu-id="2461d-127">Creating a non-XML format file for Unicode character data</span></span>  
  
 <span data-ttu-id="2461d-128">Ces exemples créent la table `HumanResources.Department` dans l'exemple de base de données [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2461d-128">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="2461d-129">La table `HumanResources.Department` contient quatre colonnes : `DepartmentID`, `Name`, `GroupName`et `ModifiedDate`.</span><span class="sxs-lookup"><span data-stu-id="2461d-129">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
#### <a name="a-creating-a-non-xml-format-file-for-native-data"></a><span data-ttu-id="2461d-130">R.</span><span class="sxs-lookup"><span data-stu-id="2461d-130">A.</span></span> <span data-ttu-id="2461d-131">Création d'un fichier de format non-XML pour des données natives</span><span class="sxs-lookup"><span data-stu-id="2461d-131">Creating a non-XML format file for native data</span></span>  
 <span data-ttu-id="2461d-132">L'exemple suivant crée un fichier de format XML appelé `Department-n.xml`et destiné à la table [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="2461d-132">The following example creates an XML format file, `Department-n.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="2461d-133">Le fichier de format utilise des types de données natives.</span><span class="sxs-lookup"><span data-stu-id="2461d-133">The format file uses native data types.</span></span> <span data-ttu-id="2461d-134">Le contenu du fichier ainsi généré vous est présenté après la commande.</span><span class="sxs-lookup"><span data-stu-id="2461d-134">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="2461d-135">La commande **bcp** contient les qualificateurs suivants.</span><span class="sxs-lookup"><span data-stu-id="2461d-135">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="2461d-136">Qualificateurs</span><span class="sxs-lookup"><span data-stu-id="2461d-136">Qualifiers</span></span>|<span data-ttu-id="2461d-137">Description</span><span class="sxs-lookup"><span data-stu-id="2461d-137">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="2461d-138">**formatnul-f** _format_file_</span><span class="sxs-lookup"><span data-stu-id="2461d-138">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="2461d-139">Format de fichier non-XML.</span><span class="sxs-lookup"><span data-stu-id="2461d-139">Specifies the non-XML format file.</span></span>|  
|<span data-ttu-id="2461d-140">**-n**</span><span class="sxs-lookup"><span data-stu-id="2461d-140">**-n**</span></span>|<span data-ttu-id="2461d-141">Spécifie les types de données natifs.</span><span class="sxs-lookup"><span data-stu-id="2461d-141">Specifies native data types.</span></span>|  
|<span data-ttu-id="2461d-142">**-T**</span><span class="sxs-lookup"><span data-stu-id="2461d-142">**-T**</span></span>|<span data-ttu-id="2461d-143">Spécifie que l'utilitaire **bcp** se connecte à [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] avec une connexion approuvée qui utilise la sécurité intégrée.</span><span class="sxs-lookup"><span data-stu-id="2461d-143">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="2461d-144">Si **-T** n’est pas spécifié, vous devez indiquer **-U** et **-P** pour pouvoir vous connecter.</span><span class="sxs-lookup"><span data-stu-id="2461d-144">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="2461d-145">Dans la fenêtre d'invite de commandes Windows, tapez la commande `bcp` suivante :</span><span class="sxs-lookup"><span data-stu-id="2461d-145">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -n -f Department-n.fmt  
```  
  
 <span data-ttu-id="2461d-146">Le fichier de format généré, `Department-n.fmt`, contient les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="2461d-146">The generated format file, `Department-n.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLSMALLINT   0       2       ""   1     DepartmentID                 ""  
2       SQLNCHAR      2       100     ""   2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLNCHAR      2       100     ""   3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLDATETIME   0       8       ""   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="2461d-147">Pour plus d’informations, consultez [Fichiers de format non-XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-147">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="b-creating-a-non-xml-format-file-for-character-data"></a><span data-ttu-id="2461d-148">B.</span><span class="sxs-lookup"><span data-stu-id="2461d-148">B.</span></span> <span data-ttu-id="2461d-149">Création d'un fichier de format non-XML pour des données de type caractère</span><span class="sxs-lookup"><span data-stu-id="2461d-149">Creating a non-XML format file for character data</span></span>  
 <span data-ttu-id="2461d-150">L'exemple suivant crée un fichier de format XML appelé `Department.fmt`et destiné à la table [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="2461d-150">The following example creates an XML format file, `Department.fmt`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="2461d-151">Le fichier de format utilise les formats de données de type caractère ainsi qu'un indicateur de fin de champ qui n'est pas défini par défaut (`,`).</span><span class="sxs-lookup"><span data-stu-id="2461d-151">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="2461d-152">Le contenu du fichier ainsi généré vous est présenté après la commande.</span><span class="sxs-lookup"><span data-stu-id="2461d-152">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="2461d-153">La commande **bcp** contient les qualificateurs suivants.</span><span class="sxs-lookup"><span data-stu-id="2461d-153">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="2461d-154">Qualificateurs</span><span class="sxs-lookup"><span data-stu-id="2461d-154">Qualifiers</span></span>|<span data-ttu-id="2461d-155">Description</span><span class="sxs-lookup"><span data-stu-id="2461d-155">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="2461d-156">**formatnul-f** _format_file_</span><span class="sxs-lookup"><span data-stu-id="2461d-156">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="2461d-157">Format de fichier non-XML.</span><span class="sxs-lookup"><span data-stu-id="2461d-157">Specifies a non-XML format file.</span></span>|  
|<span data-ttu-id="2461d-158">**-c**</span><span class="sxs-lookup"><span data-stu-id="2461d-158">**-c**</span></span>|<span data-ttu-id="2461d-159">Données de type caractère.</span><span class="sxs-lookup"><span data-stu-id="2461d-159">Specifies character data.</span></span>|  
|<span data-ttu-id="2461d-160">**-T**</span><span class="sxs-lookup"><span data-stu-id="2461d-160">**-T**</span></span>|<span data-ttu-id="2461d-161">Spécifie que l'utilitaire **bcp** se connecte à [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] avec une connexion approuvée qui utilise la sécurité intégrée.</span><span class="sxs-lookup"><span data-stu-id="2461d-161">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="2461d-162">Si **-T** n’est pas spécifié, vous devez indiquer **-U** et **-P** pour pouvoir vous connecter.</span><span class="sxs-lookup"><span data-stu-id="2461d-162">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="2461d-163">Dans la fenêtre d'invite de commandes Windows, tapez la commande `bcp` suivante :</span><span class="sxs-lookup"><span data-stu-id="2461d-163">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -f Department-c.fmt -T  
```  
  
 <span data-ttu-id="2461d-164">Le fichier de format généré, `Department-c.fmt`, contient les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="2461d-164">The generated format file, `Department-c.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLCHAR       0       7       "\t"     1     DepartmentID                 ""  
2       SQLCHAR       0       100     "\t"     2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLCHAR       0       100     "\t"     3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLCHAR       0       24      "\r\n"   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="2461d-165">Pour plus d’informations, consultez [Fichiers de format non-XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-165">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="c-creating-a-non-xml-format-file-for-unicode-native-data"></a><span data-ttu-id="2461d-166">C.</span><span class="sxs-lookup"><span data-stu-id="2461d-166">C.</span></span> <span data-ttu-id="2461d-167">Création d'un fichier de format non-XML pour des données Unicode natives</span><span class="sxs-lookup"><span data-stu-id="2461d-167">Creating a non-XML format file for Unicode native data</span></span>  
 <span data-ttu-id="2461d-168">Pour créer un fichier de format non-XML pour des données Unicode natives destinées à la table `HumanResources.Department`, utilisez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="2461d-168">To create a non-XML format file for Unicode native data for the `HumanResources.Department` table, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -N -f Department-n.fmt  
```  
  
 <span data-ttu-id="2461d-169">Pour plus d’informations sur l’utilisation des données natives Unicode, consultez [Utiliser le format natif Unicode pour importer ou exporter des données &#40;SQL Server&#41;](use-unicode-native-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-169">For more information about how to use Unicode native data, see [Use Unicode Native Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="d-creating-a-non-xml-format-file-for-unicode-character-data"></a><span data-ttu-id="2461d-170">D.</span><span class="sxs-lookup"><span data-stu-id="2461d-170">D.</span></span> <span data-ttu-id="2461d-171">Création d'un fichier de format non-XML pour des données Unicode de type caractère</span><span class="sxs-lookup"><span data-stu-id="2461d-171">Creating a non-XML format file For Unicode character data</span></span>  
 <span data-ttu-id="2461d-172">Pour créer un fichier de format non-XML pour des données Unicode de type caractère, s'appuyant sur des indicateurs de fin définis par défaut et destinées à la table `HumanResources.Department`, utilisez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="2461d-172">To create a non-XML format file for Unicode character data for the `HumanResources.Department` table that uses default terminators, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -w -f Department-w.fmt  
```  
  
 <span data-ttu-id="2461d-173">Pour plus d’informations sur l’utilisation des données de caractères Unicode, consultez [Utiliser le format caractère Unicode pour importer ou exporter des données &#40;SQL Server&#41;](use-unicode-character-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-173">For more information about how to use Unicode character data, see [Use Unicode Character Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="creating-an-xml-format-file"></a><span data-ttu-id="2461d-174">Création d'un fichier de format XML</span><span class="sxs-lookup"><span data-stu-id="2461d-174">Creating an XML Format File</span></span>  
 <span data-ttu-id="2461d-175">Pour utiliser une commande **bcp** pour créer un fichier de format, spécifiez l’argument **format** et utilisez **nul** à la place d’un chemin de fichier de données.</span><span class="sxs-lookup"><span data-stu-id="2461d-175">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="2461d-176">L’option **format** nécessite toujours l’option **-f** ; la création d’un fichier de format XML nécessite également l’option **-x** , comme suit :</span><span class="sxs-lookup"><span data-stu-id="2461d-176">The **format** option always requires the **-f** option, and to create an XML format file, you must also specify the **-x** option, such as:</span></span>  
  
 <span data-ttu-id="2461d-177">**bcp** _table_ou_vue_ **format nul-f** _nom_fichier_de_format_ **-x**</span><span class="sxs-lookup"><span data-stu-id="2461d-177">**bcp** _table_or_view_ **format nul-f** _format_file_name_ **-x**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2461d-178">Pour bien distinguer un fichier de format XML, nous vous recommandons d'utiliser l'extension de nom de fichier .xml, par exemple MaTable.xml.</span><span class="sxs-lookup"><span data-stu-id="2461d-178">To distinguish an XML format file, we recommend that you use .xml as the file name extension, for example, MyTable.xml.</span></span>  
  
 <span data-ttu-id="2461d-179">Pour plus d’informations sur la structure et les champs des fichiers de format XML, consultez [Fichiers de format XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-179">For information about the structure and fields of XML format files, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="2461d-180">Exemples</span><span class="sxs-lookup"><span data-stu-id="2461d-180">Examples</span></span>  
 <span data-ttu-id="2461d-181">Cette section contient les exemples suivants, qui illustrent l’utilisation des commandes **bcp** pour créer un fichier de format XML :</span><span class="sxs-lookup"><span data-stu-id="2461d-181">This section contains the following examples that show how to use **bcp** commands to create an XML format file:</span></span>  
  
-   <span data-ttu-id="2461d-182">R.</span><span class="sxs-lookup"><span data-stu-id="2461d-182">A.</span></span> <span data-ttu-id="2461d-183">Création d'un fichier de format XML pour des données de type caractère</span><span class="sxs-lookup"><span data-stu-id="2461d-183">Creating an XML format file for character data</span></span>  
  
-   <span data-ttu-id="2461d-184">B.</span><span class="sxs-lookup"><span data-stu-id="2461d-184">B.</span></span> <span data-ttu-id="2461d-185">Création d'un fichier de format XML pour des données natives</span><span class="sxs-lookup"><span data-stu-id="2461d-185">Creating an XML format file for native data</span></span>  
  
 <span data-ttu-id="2461d-186">Ces exemples créent la table `HumanResources.Department` dans l'exemple de base de données [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2461d-186">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="2461d-187">La table `HumanResources.Department` contient quatre colonnes : `DepartmentID`, `Name`, `GroupName`et `ModifiedDate`.</span><span class="sxs-lookup"><span data-stu-id="2461d-187">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssSampleDBdesc](../../includes/sssampledbdesc-md.md)]  
  
#### <a name="a-creating-an-xml-format-file-for-character-data"></a><span data-ttu-id="2461d-188">R.</span><span class="sxs-lookup"><span data-stu-id="2461d-188">A.</span></span> <span data-ttu-id="2461d-189">Création d'un fichier de format XML pour des données de type caractère</span><span class="sxs-lookup"><span data-stu-id="2461d-189">Creating an XML format file for character data</span></span>  
 <span data-ttu-id="2461d-190">L'exemple suivant crée un fichier de format XML appelé `Department.xml`et destiné à la table [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="2461d-190">The following example creates an XML format file, `Department.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="2461d-191">Le fichier de format utilise les formats de données de type caractère ainsi qu'un indicateur de fin de champ qui n'est pas défini par défaut (`,`).</span><span class="sxs-lookup"><span data-stu-id="2461d-191">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="2461d-192">Le contenu du fichier ainsi généré vous est présenté après la commande.</span><span class="sxs-lookup"><span data-stu-id="2461d-192">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="2461d-193">La commande **bcp** contient les qualificateurs suivants.</span><span class="sxs-lookup"><span data-stu-id="2461d-193">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="2461d-194">Qualificateurs</span><span class="sxs-lookup"><span data-stu-id="2461d-194">Qualifiers</span></span>|<span data-ttu-id="2461d-195">Description</span><span class="sxs-lookup"><span data-stu-id="2461d-195">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="2461d-196">**formatnul-f** _format_file_ **-x**</span><span class="sxs-lookup"><span data-stu-id="2461d-196">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="2461d-197">Fichier de format XML.</span><span class="sxs-lookup"><span data-stu-id="2461d-197">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="2461d-198">**-c**</span><span class="sxs-lookup"><span data-stu-id="2461d-198">**-c**</span></span>|<span data-ttu-id="2461d-199">Données de type caractère.</span><span class="sxs-lookup"><span data-stu-id="2461d-199">Specifies character data.</span></span>|  
|<span data-ttu-id="2461d-200">**-t** `,`</span><span class="sxs-lookup"><span data-stu-id="2461d-200">**-t** `,`</span></span>|<span data-ttu-id="2461d-201">Virgule ( **,** ) servant d’indicateur de fin de champ.</span><span class="sxs-lookup"><span data-stu-id="2461d-201">Specifies a comma (**,**) as the field terminator.</span></span><br /><br /> <span data-ttu-id="2461d-202">Remarque : Si le fichier de données utilise l’indicateur de fin de champ défini par défaut (à savoir`\t`), le commutateur **-t** n’est pas nécessaire.</span><span class="sxs-lookup"><span data-stu-id="2461d-202">Note: If the data file uses the default field terminator (`\t`), the **-t** switch is unnecessary.</span></span>|  
|<span data-ttu-id="2461d-203">**-T**</span><span class="sxs-lookup"><span data-stu-id="2461d-203">**-T**</span></span>|<span data-ttu-id="2461d-204">Spécifie que l'utilitaire **bcp** se connecte à [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] avec une connexion approuvée qui utilise la sécurité intégrée.</span><span class="sxs-lookup"><span data-stu-id="2461d-204">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="2461d-205">Si **-T** n’est pas spécifié, vous devez indiquer **-U** et **-P** pour pouvoir vous connecter.</span><span class="sxs-lookup"><span data-stu-id="2461d-205">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="2461d-206">Dans la fenêtre d'invite de commandes Windows, tapez la commande `bcp` suivante :</span><span class="sxs-lookup"><span data-stu-id="2461d-206">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -x -f Department-c..xml -t, -T  
```  
  
 <span data-ttu-id="2461d-207">Le fichier de format généré `Department-c.xml`contient les éléments XML suivants :</span><span class="sxs-lookup"><span data-stu-id="2461d-207">The generated format file, `Department-c.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="7"/>  
  <FIELD ID="2" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="CharTerm" TERMINATOR="\r\n" MAX_LENGTH="24"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="2461d-208">Pour obtenir des informations sur la syntaxe de ce fichier de format, consultez [Fichiers de format XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-208">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="2461d-209">Pour plus d’informations sur les données de type caractère, consultez [Utiliser le format caractère pour importer ou exporter des données &#40;SQL Server&#41;](use-character-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-209">For information about character data, see [Use Character Format to Import or Export Data &#40;SQL Server&#41;](use-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="b-creating-an-xml-format-file-for-native-data"></a><span data-ttu-id="2461d-210">B.</span><span class="sxs-lookup"><span data-stu-id="2461d-210">B.</span></span> <span data-ttu-id="2461d-211">Création d'un fichier de format XML pour des données natives</span><span class="sxs-lookup"><span data-stu-id="2461d-211">Creating an XML format file for native data</span></span>  
 <span data-ttu-id="2461d-212">L'exemple suivant crée un fichier de format XML appelé `Department-n.xml`et destiné à la table `HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="2461d-212">The following example creates an XML format file, `Department-n.xml`, for the `HumanResources.Department` table.</span></span> <span data-ttu-id="2461d-213">Le fichier de format utilise des types de données natives.</span><span class="sxs-lookup"><span data-stu-id="2461d-213">The format file uses native data types.</span></span> <span data-ttu-id="2461d-214">Le contenu du fichier ainsi généré vous est présenté après la commande.</span><span class="sxs-lookup"><span data-stu-id="2461d-214">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="2461d-215">La commande **bcp** contient les qualificateurs suivants.</span><span class="sxs-lookup"><span data-stu-id="2461d-215">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="2461d-216">Qualificateurs</span><span class="sxs-lookup"><span data-stu-id="2461d-216">Qualifiers</span></span>|<span data-ttu-id="2461d-217">Description</span><span class="sxs-lookup"><span data-stu-id="2461d-217">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="2461d-218">**formatnul-f** _format_file_ **-x**</span><span class="sxs-lookup"><span data-stu-id="2461d-218">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="2461d-219">Fichier de format XML.</span><span class="sxs-lookup"><span data-stu-id="2461d-219">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="2461d-220">**-n**</span><span class="sxs-lookup"><span data-stu-id="2461d-220">**-n**</span></span>|<span data-ttu-id="2461d-221">Spécifie les types de données natifs.</span><span class="sxs-lookup"><span data-stu-id="2461d-221">Specifies native data types.</span></span>|  
|<span data-ttu-id="2461d-222">**-T**</span><span class="sxs-lookup"><span data-stu-id="2461d-222">**-T**</span></span>|<span data-ttu-id="2461d-223">Spécifie que l'utilitaire **bcp** se connecte à [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] avec une connexion approuvée qui utilise la sécurité intégrée.</span><span class="sxs-lookup"><span data-stu-id="2461d-223">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="2461d-224">Si **-T** n’est pas spécifié, vous devez indiquer **-U** et **-P** pour pouvoir vous connecter.</span><span class="sxs-lookup"><span data-stu-id="2461d-224">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="2461d-225">Dans la fenêtre d'invite de commandes Windows, tapez la commande `bcp` suivante :</span><span class="sxs-lookup"><span data-stu-id="2461d-225">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -x -f Department-n..xml -n -T  
```  
  
 <span data-ttu-id="2461d-226">Le fichier de format généré `Department-n.xml`contient les éléments XML suivants :</span><span class="sxs-lookup"><span data-stu-id="2461d-226">The generated format file, `Department-n.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="NativeFixed" LENGTH="2"/>  
  <FIELD ID="2" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="NativeFixed" LENGTH="8"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="2461d-227">Pour obtenir des informations sur la syntaxe de ce fichier de format, consultez [Fichiers de format XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-227">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="2461d-228">Pour plus d’informations sur les données de type caractère, consultez [Utiliser le format caractère pour importer ou exporter des données &#40;SQL Server&#41;](use-native-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2461d-228">For information about how to use native data, see [Use Native Format to Import or Export Data &#40;SQL Server&#41;](use-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="mapping-data-fields-to-table-columns"></a><span data-ttu-id="2461d-229">Mappage des champs de données aux colonnes de table</span><span class="sxs-lookup"><span data-stu-id="2461d-229">Mapping Data Fields to Table Columns</span></span>  
 <span data-ttu-id="2461d-230">Lorsqu’il est créé par **bcp**, un fichier de format décrit toutes les colonnes de table dans l’ordre.</span><span class="sxs-lookup"><span data-stu-id="2461d-230">As created by **bcp**, a format file describes all the table columns in order.</span></span> <span data-ttu-id="2461d-231">Vous pouvez modifier ce fichier pour réorganiser ou omettre des lignes de la table.</span><span class="sxs-lookup"><span data-stu-id="2461d-231">You can modify a format file to rearrange or omit table rows.</span></span> <span data-ttu-id="2461d-232">Vous pouvez ainsi personnaliser un fichier de format en fonction d'un fichier de données dont les champs ne sont pas mappés directement aux colonnes de table.</span><span class="sxs-lookup"><span data-stu-id="2461d-232">This lets you customize a format file to a data file whose fields do not map directly to the table columns.</span></span> <span data-ttu-id="2461d-233">Pour plus d'informations, voir les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="2461d-233">For more information, see the following topics:</span></span>  
  
-   [<span data-ttu-id="2461d-234">Utiliser un fichier de format pour ignorer une colonne de table &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2461d-234">Use a Format File to Skip a Table Column &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-table-column-sql-server.md)  
  
-   [<span data-ttu-id="2461d-235">Utiliser un fichier de format pour ignorer un champ de données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2461d-235">Use a Format File to Skip a Data Field &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-data-field-sql-server.md)  
  
-   [<span data-ttu-id="2461d-236">Utiliser un fichier de format pour mapper les colonnes d’une table sur les champs d’un fichier de données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2461d-236">Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;</span></span>](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="2461d-237">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2461d-237">See Also</span></span>  
 <span data-ttu-id="2461d-238">[Utilitaire bcp](../../tools/bcp-utility.md) </span><span class="sxs-lookup"><span data-stu-id="2461d-238">[bcp Utility](../../tools/bcp-utility.md) </span></span>  
 <span data-ttu-id="2461d-239">[Utiliser un fichier de format pour mapper les colonnes d’une table aux champs d’un fichier de données &#40;SQL Server&#41;](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2461d-239">[Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span></span>  
 <span data-ttu-id="2461d-240">[Utiliser un fichier de format pour ignorer une colonne de table &#40;SQL Server&#41;](use-a-format-file-to-skip-a-table-column-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2461d-240">[Use a Format File to Skip a Table Column &#40;SQL Server&#41;](use-a-format-file-to-skip-a-table-column-sql-server.md) </span></span>  
 <span data-ttu-id="2461d-241">[Utiliser un fichier de format pour ignorer un champ de données &#40;SQL Server&#41;](use-a-format-file-to-skip-a-data-field-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2461d-241">[Use a Format File to Skip a Data Field &#40;SQL Server&#41;](use-a-format-file-to-skip-a-data-field-sql-server.md) </span></span>  
 <span data-ttu-id="2461d-242">[Fichiers de format non-XML &#40;SQL Server&#41;](xml-format-files-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2461d-242">[Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md) </span></span>  
 [<span data-ttu-id="2461d-243">Fichiers de format XML &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2461d-243">XML Format Files &#40;SQL Server&#41;</span></span>](xml-format-files-sql-server.md)  
  
  
