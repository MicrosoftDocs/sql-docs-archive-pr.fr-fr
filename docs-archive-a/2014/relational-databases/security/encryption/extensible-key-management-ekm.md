---
title: Gestion de clés extensible (EKM) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- Key Management
- Extensible Key Management
- EKM, described
ms.assetid: 9bfaf500-2d1e-4c02-b041-b8761a9e695b
author: jaszymas
ms.author: jaszymas
ms.openlocfilehash: 4fc9b002b57f8118494709f8fe27a8b19ce28d8e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87700937"
---
# <a name="extensible-key-management-ekm"></a><span data-ttu-id="332d3-102">Gestion de clés extensible (EKM)</span><span class="sxs-lookup"><span data-stu-id="332d3-102">Extensible Key Management (EKM)</span></span>
  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="332d3-103">fournit des fonctions de chiffrement de données en même temps que la *gestion de clés extensible* (EKM, Extensible Key Management) à l’aide du fournisseur de *l’API Microsoft Cryptography* (MSCAPI) pour le chiffrement et la génération de clés.</span><span class="sxs-lookup"><span data-stu-id="332d3-103">provides data encryption capabilities together with *Extensible Key Management* (EKM), using the *Microsoft Cryptographic API* (MSCAPI) provider for encryption and key generation.</span></span> <span data-ttu-id="332d3-104">Les clés de chiffrement pour les données et le chiffrement à clé sont créés dans des conteneurs de clé transitoires, et ils doivent être exportés d'un fournisseur avant d'être stockés dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="332d3-104">Encryption keys for data and key encryption are created in transient key containers, and they must be exported from a provider before they are stored in the database.</span></span> <span data-ttu-id="332d3-105">Cette approche permet à la gestion des clés, qui comprend une hiérarchie de clé de chiffrement et une sauvegarde de clé, d'être gérée par [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="332d3-105">This approach enables key management that includes an encryption key hierarchy and key backup, to be handled by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="332d3-106">Face à la demande croissante de conformité aux normes et aux problèmes liés à la confidentialité des données, les organisations font appel au chiffrement afin d'apporter une solution de « défense en profondeur ».</span><span class="sxs-lookup"><span data-stu-id="332d3-106">With the growing demand for regulatory compliance and concern for data privacy, organizations are taking advantage of encryption as a way to provide a "defense in depth" solution.</span></span> <span data-ttu-id="332d3-107">Cette approche est souvent peu pratique car elle utilise uniquement des outils de gestion de chiffrement de base de données.</span><span class="sxs-lookup"><span data-stu-id="332d3-107">This approach is often impractical using only database encryption management tools.</span></span> <span data-ttu-id="332d3-108">Les fabricants de matériel fournissent des produits qui prennent en charge la gestion des clés dans l’entreprise à l’aide des *modules de la sécurité matériels* .</span><span class="sxs-lookup"><span data-stu-id="332d3-108">Hardware vendors provide products that address enterprise key management by using *Hardware Security Modules* (HSM).</span></span> <span data-ttu-id="332d3-109">Les périphériques HSM stockent des clés de chiffrement dans les modules matériels ou logiciels.</span><span class="sxs-lookup"><span data-stu-id="332d3-109">HSM devices store encryption keys on hardware or software modules.</span></span> <span data-ttu-id="332d3-110">Il s'agit d'une solution plus sécurisée parce que les clés de chiffrement ne résident pas avec les données de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="332d3-110">This is a more secure solution because the encryption keys do not reside with encryption data.</span></span>  
  
 <span data-ttu-id="332d3-111">Plusieurs fournisseurs offrent HSM pour la gestion des clés et l'accélération du chiffrement.</span><span class="sxs-lookup"><span data-stu-id="332d3-111">A number of vendors offer HSM for both key management and encryption acceleration.</span></span> <span data-ttu-id="332d3-112">Les périphériques HSM utilisent des interfaces matérielles avec un processus serveur comme intermédiaire entre une application et un HSM.</span><span class="sxs-lookup"><span data-stu-id="332d3-112">HSM devices use hardware interfaces with a server process as an intermediary between an application and an HSM.</span></span> <span data-ttu-id="332d3-113">Les fournisseurs implémentent également des fournisseurs MSCAPI sur leurs modules qui peuvent être matériels ou logiciels.</span><span class="sxs-lookup"><span data-stu-id="332d3-113">Vendors also implement MSCAPI providers over their modules, which might be hardware or software.</span></span> <span data-ttu-id="332d3-114">MSCAPI offre souvent seulement un sous-ensemble des fonctionnalités offertes par un HSM.</span><span class="sxs-lookup"><span data-stu-id="332d3-114">MSCAPI often offers only a subset of the functionality that is offered by an HSM.</span></span> <span data-ttu-id="332d3-115">Les fournisseurs peuvent également fournir le logiciel de gestion pour HSM, la configuration de clé et l'accès aux clés.</span><span class="sxs-lookup"><span data-stu-id="332d3-115">Vendors can also provide management software for HSM, key configuration, and key access.</span></span>  
  
 <span data-ttu-id="332d3-116">Les implémentations de modules de sécurité matériels varient selon les fournisseurs, et leur utilisation avec [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] nécessite une interface commune.</span><span class="sxs-lookup"><span data-stu-id="332d3-116">HSM implementations vary from vendor to vendor, and to use them with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] requires a common interface.</span></span> <span data-ttu-id="332d3-117">Si MSCAPI fournit cette interface, elle prend en charge uniquement un sous-ensemble des fonctionnalités HSM.</span><span class="sxs-lookup"><span data-stu-id="332d3-117">Although the MSCAPI provides this interface, it supports only a subset of the HSM features.</span></span> <span data-ttu-id="332d3-118">Elle connaît aussi d'autres limitations, telles que l'incapacité à rendre persistantes en mode natif des clés symétriques et une absence de prise en charge orientée session.</span><span class="sxs-lookup"><span data-stu-id="332d3-118">It also has other limitations, such as the inability to natively persist symmetric keys, and a lack of session-oriented support.</span></span>  
  
 <span data-ttu-id="332d3-119">La gestion de clés extensible [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] permet aux fournisseurs tiers EKM/HSM d’enregistrer leurs modules dans [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="332d3-119">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Extensible Key Management enables third-party EKM/HSM vendors to register their modules in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="332d3-120">Une fois enregistrés, les utilisateurs de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] peuvent utiliser les clés de chiffrement stockées dans les modules EKM.</span><span class="sxs-lookup"><span data-stu-id="332d3-120">When registered, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] users can use the encryption keys stored on EKM modules.</span></span> <span data-ttu-id="332d3-121">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] peut ainsi accéder aux fonctionnalités de chiffrement avancées offertes par ces modules, telles que le chiffrement et le déchiffrement en bloc, et les fonctions de gestion de clés, telles que le vieillissement de clé et la permutation de clé.</span><span class="sxs-lookup"><span data-stu-id="332d3-121">This enables [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to access the advanced encryption features these modules support such as bulk encryption and decryption, and key management functions such as key aging and key rotation.</span></span>  
  
 <span data-ttu-id="332d3-122">Quand vous exécutez [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dans une machine virtuelle Azure, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] peut utiliser des clés stockées dans [Azure Key Vault](https://go.microsoft.com/fwlink/?LinkId=521401).</span><span class="sxs-lookup"><span data-stu-id="332d3-122">When running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in an Azure VM, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] can use keys stored in the [Azure Key Vault](https://go.microsoft.com/fwlink/?LinkId=521401).</span></span> <span data-ttu-id="332d3-123">Pour plus d’informations, consultez [Gestion de clés extensible à l’aide d’Azure Key Vault &#40;SQL Server&#41;](extensible-key-management-using-azure-key-vault-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="332d3-123">For more information, see [Extensible Key Management Using Azure Key Vault &#40;SQL Server&#41;](extensible-key-management-using-azure-key-vault-sql-server.md).</span></span>  
  
## <a name="ekm-configuration"></a><span data-ttu-id="332d3-124">Configuration EKM</span><span class="sxs-lookup"><span data-stu-id="332d3-124">EKM Configuration</span></span>  
 <span data-ttu-id="332d3-125">La gestion de clés extensible n’est pas disponible dans toutes les éditions de [!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="332d3-125">Extensible Key Management is not available in every edition of [!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="332d3-126">Pour obtenir une liste des fonctionnalités prises en charge par les éditions de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], consultez [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="332d3-126">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="332d3-127">Par défaut, la gestion de clés extensible est désactivée.</span><span class="sxs-lookup"><span data-stu-id="332d3-127">By default, Extensible Key Management is off.</span></span> <span data-ttu-id="332d3-128">Pour activer cette fonctionnalité, utilisez la commande sp_configure avec l'option et la valeur suivantes, comme dans l'exemple ci-après :</span><span class="sxs-lookup"><span data-stu-id="332d3-128">To enable this feature, use the sp_configure command that has the following option and value, as in the following example:</span></span>  
  
```  
sp_configure 'show advanced', 1  
GO  
RECONFIGURE  
GO  
sp_configure 'EKM provider enabled', 1  
GO  
RECONFIGURE  
GO  
```  
  
> [!NOTE]  
>  <span data-ttu-id="332d3-129">Si vous utilisez la commande sp_configure pour cette option sur les éditions de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] qui ne prennent pas en charge la gestion de clés extensible, vous recevrez un message d’erreur.</span><span class="sxs-lookup"><span data-stu-id="332d3-129">If you use the sp_configure command for this option on editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that do not support EKM, you will receive an error.</span></span>  
  
 <span data-ttu-id="332d3-130">Pour désactiver la fonctionnalité, affectez-lui la valeur **0**.</span><span class="sxs-lookup"><span data-stu-id="332d3-130">To disable the feature, set the value to **0**.</span></span> <span data-ttu-id="332d3-131">Pour plus d’informations sur la définition des options de serveur, consultez [sp_configure &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="332d3-131">For more information about how to set server options, see [sp_configure &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql).</span></span>  
  
## <a name="how-to-use-ekm"></a><span data-ttu-id="332d3-132">Comment utiliser EKM</span><span class="sxs-lookup"><span data-stu-id="332d3-132">How to Use EKM</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="332d3-133">La gestion de clés extensible active les clés de chiffrement qui protègent les fichiers de base de données à stocker dans un périphérique off-box tel qu’une carte à puce, un périphérique USB ou un module EKM/HSM.</span><span class="sxs-lookup"><span data-stu-id="332d3-133">Extensible Key Management enables the encryption keys that protect the database files to be stored in an off-box device such as a smartcard, USB device, or EKM/HSM module.</span></span> <span data-ttu-id="332d3-134">Elle permet aussi la protection des données pour les administrateurs de base de données (sauf les membres du groupe sysadmin).</span><span class="sxs-lookup"><span data-stu-id="332d3-134">This also enables data protection from database administrators (except members of the sysadmin group).</span></span> <span data-ttu-id="332d3-135">Les données peuvent être chiffrées à l'aide des clés de chiffrement auxquelles seul l'utilisateur de base de données peut accéder sur le module EKM/HSM externe.</span><span class="sxs-lookup"><span data-stu-id="332d3-135">Data can be encrypted by using encryption keys that only the database user has access to on the external EKM/HSM module.</span></span>  
  
 <span data-ttu-id="332d3-136">La gestion de clés extensible offre aussi les avantages suivants :</span><span class="sxs-lookup"><span data-stu-id="332d3-136">Extensible Key Management also provides the following benefits:</span></span>  
  
-   <span data-ttu-id="332d3-137">Contrôle d'autorisation supplémentaire (activant la séparation des tâches).</span><span class="sxs-lookup"><span data-stu-id="332d3-137">Additional authorization check (enabling separation of duties).</span></span>  
  
-   <span data-ttu-id="332d3-138">Performances supérieures pour le chiffrement/déchiffrement basé sur le matériel.</span><span class="sxs-lookup"><span data-stu-id="332d3-138">Higher performance for hardware-based encryption/decryption.</span></span>  
  
-   <span data-ttu-id="332d3-139">Génération de clé de chiffrement externe.</span><span class="sxs-lookup"><span data-stu-id="332d3-139">External encryption key generation.</span></span>  
  
-   <span data-ttu-id="332d3-140">Stockage de clé de chiffrement externe (séparation physique des données et des clés).</span><span class="sxs-lookup"><span data-stu-id="332d3-140">External encryption key storage (physical separation of data and keys).</span></span>  
  
-   <span data-ttu-id="332d3-141">Récupération de clés de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="332d3-141">Encryption key retrieval.</span></span>  
  
-   <span data-ttu-id="332d3-142">Rétention de clé de chiffrement externe (permet la rotation de clé de chiffrement).</span><span class="sxs-lookup"><span data-stu-id="332d3-142">External encryption key retention (enables encryption key rotation).</span></span>  
  
-   <span data-ttu-id="332d3-143">Récupération simplifiée de clé de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="332d3-143">Easier encryption key recovery.</span></span>  
  
-   <span data-ttu-id="332d3-144">Distribution gérable de clé de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="332d3-144">Manageable encryption key distribution.</span></span>  
  
-   <span data-ttu-id="332d3-145">Suppression de clé de chiffrement sécurisée.</span><span class="sxs-lookup"><span data-stu-id="332d3-145">Secure encryption key disposal.</span></span>  
  
 <span data-ttu-id="332d3-146">Vous pouvez utiliser la gestion de clés extensible pour une combinaison de nom d’utilisateur et de mot de passe ou d’autres méthodes définies par le pilote EKM.</span><span class="sxs-lookup"><span data-stu-id="332d3-146">You can use Extensible Key Management for a username and password combination or other methods defined by the EKM driver.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="332d3-147">Pour le dépannage, le support technique [!INCLUDE[msCoName](../../../includes/msconame-md.md)] peut requérir la clé de chiffrement du fournisseur EKM.</span><span class="sxs-lookup"><span data-stu-id="332d3-147">For troubleshooting, [!INCLUDE[msCoName](../../../includes/msconame-md.md)] technical support might require the encryption key from the EKM provider.</span></span> <span data-ttu-id="332d3-148">Vous devrez peut-être aussi accéder aux outils ou aux processus du fournisseur pour aider à résoudre un problème.</span><span class="sxs-lookup"><span data-stu-id="332d3-148">You might also need to access vendor tools or processes to help resolve an issue.</span></span>  
  
### <a name="authentication-with-an-ekm-device"></a><span data-ttu-id="332d3-149">Authentification avec un périphérique EKM</span><span class="sxs-lookup"><span data-stu-id="332d3-149">Authentication with an EKM Device</span></span>  
 <span data-ttu-id="332d3-150">Un module EKM peut prendre en charge plusieurs types d'authentification.</span><span class="sxs-lookup"><span data-stu-id="332d3-150">An EKM module can support more than one type of authentication.</span></span> <span data-ttu-id="332d3-151">Chaque fournisseur n’expose qu’un seul type d’authentification à [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Autrement dit, si le module prend en charge l’authentification de base et l’authentification Windows, il expose l’une ou l’autre, mais pas les deux.</span><span class="sxs-lookup"><span data-stu-id="332d3-151">Each provider exposes only one type of authentication to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], that is if the module supports Basic or Other authentication types, it exposes one or the other, but not both.</span></span>  
  
#### <a name="ekm-device-specific-basic-authentication-using-usernamepassword"></a><span data-ttu-id="332d3-152">Authentification de base spécifique au périphérique EKM à l'aide du nom d'utilisateur/mot de passe</span><span class="sxs-lookup"><span data-stu-id="332d3-152">EKM Device-Specific Basic Authentication Using username/password</span></span>  
 <span data-ttu-id="332d3-153">Pour les modules EKM qui prennent en charge l’authentification de base à l’aide d’une paire *nom d’utilisateur/mot de passe*, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fournit l’authentification transparente à l’aide des informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="332d3-153">For those EKM modules that support Basic authentication using a *username/password* pair, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] provides transparent authentication using credentials.</span></span> <span data-ttu-id="332d3-154">Pour plus d’informations sur les informations d’identification, consultez [Informations d’identification &#40;moteur de base de données&#41;](../authentication-access/credentials-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="332d3-154">For more information about credentials, see [Credentials &#40;Database Engine&#41;](../authentication-access/credentials-database-engine.md).</span></span>  
  
 <span data-ttu-id="332d3-155">Une information d’authentification peut être créée pour un fournisseur EKM et mappée à une connexion (comptes Windows et [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) pour accéder à un module EKM sur la base d’une connexion individuelle.</span><span class="sxs-lookup"><span data-stu-id="332d3-155">A credential can be created for an EKM provider and mapped to a login (both Windows and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] accounts) to access an EKM module on per-login basis.</span></span> <span data-ttu-id="332d3-156">Le champ *Identifier* des informations d’identification contient le nom d’utilisateur. Le champ *Secret* contient un mot de passe pour la connexion à un module EKM.</span><span class="sxs-lookup"><span data-stu-id="332d3-156">The *Identify* field of the credential contains the username; the *secret* field contains a password to connect to an EKM module.</span></span>  
  
 <span data-ttu-id="332d3-157">En l’absence d’une information d’identification mappée à une connexion pour le fournisseur EKM, l’information d’authentification mappée au compte de service [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est utilisée.</span><span class="sxs-lookup"><span data-stu-id="332d3-157">If there is no login mapped credential for the EKM provider, the credential mapped to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account is used.</span></span>  
  
 <span data-ttu-id="332d3-158">Une connexion peut avoir plusieurs informations d'identification mappées à elle, à condition qu'elles soient utilisées pour des fournisseurs EKM distinctifs.</span><span class="sxs-lookup"><span data-stu-id="332d3-158">A login can have multiple credentials mapped to it, as long as they are used for distinctive EKM providers.</span></span> <span data-ttu-id="332d3-159">Il ne doit y avoir qu'une seule information d'authentification mappée par fournisseur EKM par connexion.</span><span class="sxs-lookup"><span data-stu-id="332d3-159">There must be only one mapped credential per EKM provider per login.</span></span> <span data-ttu-id="332d3-160">La même information d'identification peut être mappée à d'autres connexions.</span><span class="sxs-lookup"><span data-stu-id="332d3-160">The same credential can be mapped to other logins.</span></span>  
  
#### <a name="other-types-of-ekm-device-specific-authentication"></a><span data-ttu-id="332d3-161">Autres types d'authentification spécifique au périphérique EKM</span><span class="sxs-lookup"><span data-stu-id="332d3-161">Other Types of EKM Device-Specific Authentication</span></span>  
 <span data-ttu-id="332d3-162">Pour les modules EKM qui ont une authentification autre que Windows ou des combinaisons *utilisateur/mot de passe* , l’authentification doit être effectuée indépendamment de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="332d3-162">For EKM modules that have authentication other than Windows or *user/password* combinations, authentication must be performed independently from [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
### <a name="encryption-and-decryption-by-an-ekm-device"></a><span data-ttu-id="332d3-163">Chiffrement et déchiffrement par un périphérique EKM</span><span class="sxs-lookup"><span data-stu-id="332d3-163">Encryption and Decryption by an EKM Device</span></span>  
 <span data-ttu-id="332d3-164">Vous pouvez utiliser les fonctions et fonctionnalités suivantes pour chiffrer et déchiffrer des données à l'aide des clés symétriques et asymétriques :</span><span class="sxs-lookup"><span data-stu-id="332d3-164">You can use the following functions and features to encrypt and decrypt data by using symmetric and asymmetric keys:</span></span>  
  
|<span data-ttu-id="332d3-165">Fonction ou fonctionnalité</span><span class="sxs-lookup"><span data-stu-id="332d3-165">Function or feature</span></span>|<span data-ttu-id="332d3-166">Informations de référence</span><span class="sxs-lookup"><span data-stu-id="332d3-166">Reference</span></span>|  
|-------------------------|---------------|  
|<span data-ttu-id="332d3-167">Chiffrement à clé symétrique</span><span class="sxs-lookup"><span data-stu-id="332d3-167">Symmetric key encryption</span></span>|[<span data-ttu-id="332d3-168">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="332d3-168">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-symmetric-key-transact-sql)|  
|<span data-ttu-id="332d3-169">Chiffrement à clé asymétrique</span><span class="sxs-lookup"><span data-stu-id="332d3-169">Asymmetric Key encryption</span></span>|[<span data-ttu-id="332d3-170">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="332d3-170">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-asymmetric-key-transact-sql)|  
|<span data-ttu-id="332d3-171">EncryptByKey(key_guid, 'cleartext', ...)</span><span class="sxs-lookup"><span data-stu-id="332d3-171">EncryptByKey(key_guid, 'cleartext', ...)</span></span>|[<span data-ttu-id="332d3-172">ENCRYPTBYKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="332d3-172">ENCRYPTBYKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/encryptbykey-transact-sql)|  
|<span data-ttu-id="332d3-173">DecryptByKey(ciphertext, ...)</span><span class="sxs-lookup"><span data-stu-id="332d3-173">DecryptByKey(ciphertext, ...)</span></span>|[<span data-ttu-id="332d3-174">DECRYPTBYKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="332d3-174">DECRYPTBYKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/decryptbykey-transact-sql)|  
|<span data-ttu-id="332d3-175">EncryptByAsmKey(key_guid, 'cleartext')</span><span class="sxs-lookup"><span data-stu-id="332d3-175">EncryptByAsmKey(key_guid, 'cleartext')</span></span>|[<span data-ttu-id="332d3-176">ENCRYPTBYASYMKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="332d3-176">ENCRYPTBYASYMKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/encryptbyasymkey-transact-sql)|  
|<span data-ttu-id="332d3-177">DecryptByAsmKey(ciphertext)</span><span class="sxs-lookup"><span data-stu-id="332d3-177">DecryptByAsmKey(ciphertext)</span></span>|[<span data-ttu-id="332d3-178">DECRYPTBYASYMKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="332d3-178">DECRYPTBYASYMKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/decryptbyasymkey-transact-sql)|  
  
#### <a name="database-keys-encryption-by-ekm-keys"></a><span data-ttu-id="332d3-179">Chiffrement de clés de base de données par les clés EKM</span><span class="sxs-lookup"><span data-stu-id="332d3-179">Database Keys Encryption by EKM Keys</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="332d3-180">peut utiliser des clés EKM pour chiffrer d’autres clés dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="332d3-180">can use EKM keys to encrypt other keys in a database.</span></span> <span data-ttu-id="332d3-181">Vous pouvez créer et utiliser à la fois des clés symétriques et asymétriques sur un périphérique EKM.</span><span class="sxs-lookup"><span data-stu-id="332d3-181">You can create and use both symmetric and asymmetric keys on an EKM device.</span></span> <span data-ttu-id="332d3-182">Vous pouvez chiffrer des clés symétriques natives (non-EKM) avec des clés asymétriques EKM.</span><span class="sxs-lookup"><span data-stu-id="332d3-182">You can encrypt native (non-EKM) symmetric keys with EKM asymmetric keys.</span></span>  
  
 <span data-ttu-id="332d3-183">L'exemple suivant crée une clé symétrique de base de données et la chiffre à l'aide d'une clé sur un module EKM.</span><span class="sxs-lookup"><span data-stu-id="332d3-183">The following example creates a database symmetric key and encrypts it using a key on an EKM module.</span></span>  
  
```  
CREATE SYMMETRIC KEY Key1  
WITH ALGORITHM = AES_256  
ENCRYPTION BY EKM_AKey1;  
GO  
--Open database key  
OPEN SYMMETRIC KEY Key1  
DECRYPTION BY EKM_AKey1  
```  
  
 <span data-ttu-id="332d3-184">Pour plus d’informations sur les clés de serveur et de base de données dans [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], consultez [SQL Server et clés de chiffrement de base de données &#40;moteur de base de données&#41;](sql-server-and-database-encryption-keys-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="332d3-184">For more information about Database and Server Keys in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [SQL Server and Database Encryption Keys &#40;Database Engine&#41;](sql-server-and-database-encryption-keys-database-engine.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="332d3-185">Vous ne pouvez pas chiffrer une clé EKM avec une autre clé EKM.</span><span class="sxs-lookup"><span data-stu-id="332d3-185">You cannot encrypt one EKM key with another EKM key.</span></span>  
>   
>  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="332d3-186">ne prend pas en charge la signature des modules avec les clés asymétriques générées par un fournisseur EKM.</span><span class="sxs-lookup"><span data-stu-id="332d3-186">does not support signing modules with asymmetric keys generated from EKM provider.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="332d3-187">Tâches associées</span><span class="sxs-lookup"><span data-stu-id="332d3-187">Related Tasks</span></span>  
 [<span data-ttu-id="332d3-188">Fournisseur EKM activé (option de configuration de serveur)</span><span class="sxs-lookup"><span data-stu-id="332d3-188">EKM provider enabled Server Configuration Option</span></span>](../../../database-engine/configure-windows/ekm-provider-enabled-server-configuration-option.md)  
  
 [<span data-ttu-id="332d3-189">Activer TDE à l’aide de EKM</span><span class="sxs-lookup"><span data-stu-id="332d3-189">Enable TDE Using EKM</span></span>](enable-tde-on-sql-server-using-ekm.md)  
  
 [<span data-ttu-id="332d3-190">Gestion de clés extensible à l’aide d’Azure Key Vault &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="332d3-190">Extensible Key Management Using Azure Key Vault &#40;SQL Server&#41;</span></span>](extensible-key-management-using-azure-key-vault-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="332d3-191">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="332d3-191">See Also</span></span>  
 <span data-ttu-id="332d3-192">[CREATE CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-cryptographic-provider-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-192">[CREATE CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-cryptographic-provider-transact-sql) </span></span>  
 <span data-ttu-id="332d3-193">[DROP CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-cryptographic-provider-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-193">[DROP CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-cryptographic-provider-transact-sql) </span></span>  
 <span data-ttu-id="332d3-194">[ALTER CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-cryptographic-provider-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-194">[ALTER CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-cryptographic-provider-transact-sql) </span></span>  
 <span data-ttu-id="332d3-195">[sys.cryptographic_providers &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-cryptographic-providers-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-195">[sys.cryptographic_providers &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-cryptographic-providers-transact-sql) </span></span>  
 <span data-ttu-id="332d3-196">[sys.dm_cryptographic_provider_sessions &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-sessions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-196">[sys.dm_cryptographic_provider_sessions &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-sessions-transact-sql) </span></span>  
 <span data-ttu-id="332d3-197">[sys.dm_cryptographic_provider_properties &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-properties-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-197">[sys.dm_cryptographic_provider_properties &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-properties-transact-sql) </span></span>  
 <span data-ttu-id="332d3-198">[sys.dm_cryptographic_provider_algorithms &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-algorithms-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-198">[sys.dm_cryptographic_provider_algorithms &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-algorithms-transact-sql) </span></span>  
 <span data-ttu-id="332d3-199">[sys.dm_cryptographic_provider_keys &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-keys-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-199">[sys.dm_cryptographic_provider_keys &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-keys-transact-sql) </span></span>  
 <span data-ttu-id="332d3-200">[sys.credentials &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-credentials-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-200">[sys.credentials &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-credentials-transact-sql) </span></span>  
 <span data-ttu-id="332d3-201">[CREATE CREDENTIAL &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-credential-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-201">[CREATE CREDENTIAL &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-credential-transact-sql) </span></span>  
 <span data-ttu-id="332d3-202">[ALTER LOGIN &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-login-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-202">[ALTER LOGIN &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-login-transact-sql) </span></span>  
 <span data-ttu-id="332d3-203">[CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-203">[CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="332d3-204">[ALTER ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-asymmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-204">[ALTER ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-asymmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="332d3-205">[DROP ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-asymmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-205">[DROP ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-asymmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="332d3-206">[CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-206">[CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="332d3-207">[ALTER SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-207">[ALTER SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="332d3-208">[DROP SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-208">[DROP SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="332d3-209">[OPEN SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/open-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="332d3-209">[OPEN SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/open-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="332d3-210">[Sauvegarder et restaurer les clés de chiffrement Reporting Services](../../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="332d3-210">[Back Up and Restore Reporting Services Encryption Keys](../../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span></span>  
 <span data-ttu-id="332d3-211">[Supprimer et recréer des clés de chiffrement &#40;Gestionnaire de configuration de SSRS&#41;](../../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="332d3-211">[Delete and Re-create Encryption Keys  &#40;SSRS Configuration Manager&#41;](../../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span></span>  
 <span data-ttu-id="332d3-212">[Ajouter et supprimer des clés de chiffrement pour un déploiement évolutif &#40;Gestionnaire de configuration de SSRS&#41;](../../../reporting-services/install-windows/add-and-remove-encryption-keys-for-scale-out-deployment.md) </span><span class="sxs-lookup"><span data-stu-id="332d3-212">[Add and Remove Encryption Keys for Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../../../reporting-services/install-windows/add-and-remove-encryption-keys-for-scale-out-deployment.md) </span></span>  
 <span data-ttu-id="332d3-213">[Sauvegarder la clé principale du service](service-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="332d3-213">[Back Up the Service Master Key](service-master-key.md) </span></span>  
 <span data-ttu-id="332d3-214">[Restaurer la clé principale du service](restore-the-service-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="332d3-214">[Restore the Service Master Key](restore-the-service-master-key.md) </span></span>  
 <span data-ttu-id="332d3-215">[Créer une clé principale de base de données](create-a-database-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="332d3-215">[Create a Database Master Key](create-a-database-master-key.md) </span></span>  
 <span data-ttu-id="332d3-216">[Sauvegarder une clé primaire de base de données](back-up-a-database-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="332d3-216">[Back Up a Database Master Key](back-up-a-database-master-key.md) </span></span>  
 <span data-ttu-id="332d3-217">[Restaurer une clé principale de base de données](restore-a-database-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="332d3-217">[Restore a Database Master Key](restore-a-database-master-key.md) </span></span>  
 [<span data-ttu-id="332d3-218">Créer des clés symétriques identiques sur deux serveurs</span><span class="sxs-lookup"><span data-stu-id="332d3-218">Create Identical Symmetric Keys on Two Servers</span></span>](create-identical-symmetric-keys-on-two-servers.md)  
  
  
