---
title: Fonctionnement des opérations d’index en ligne | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: table-view-index
ms.topic: conceptual
helpviewer_keywords:
- online index operations
- source indexes [SQL Server]
- preexisting indexes [SQL Server]
- target indexes [SQL Server]
- temporary mapping index [SQL Server]
- index temporary mappings [SQL Server]
ms.assetid: eef0c9d1-790d-46e4-a758-d0bf6742e6ae
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 9b74690c9dfb980787087899200ffb45c2c4b6b6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87614046"
---
# <a name="how-online-index-operations-work"></a><span data-ttu-id="eadfa-102">Fonctionnement des opérations d'index en ligne</span><span class="sxs-lookup"><span data-stu-id="eadfa-102">How Online Index Operations Work</span></span>
  <span data-ttu-id="eadfa-103">Cette rubrique définit les structures qui existent pendant une opération d'index en ligne et illustre les activités qui y sont associées.</span><span class="sxs-lookup"><span data-stu-id="eadfa-103">This topic defines the structures that exist during an online index operation and shows the activities associated with these structures.</span></span>  
  
## <a name="online-index-structures"></a><span data-ttu-id="eadfa-104">Structures d'index en ligne</span><span class="sxs-lookup"><span data-stu-id="eadfa-104">Online Index Structures</span></span>  
 <span data-ttu-id="eadfa-105">Pour permettre des activités d'utilisateurs simultanées lors d'une opération du langage de définition de données (DDL) d'index, les structures suivantes sont utilisées pendant l'opération d'index en ligne : index source et préexistants, cibles et, pour reconstruire un segment de mémoire ou supprimer un index cluster en ligne, un index de mappage temporaire.</span><span class="sxs-lookup"><span data-stu-id="eadfa-105">To allow for concurrent user activity during an index data definition language (DDL) operation, the following structures are used during the online index operation: source and preexisting indexes, target, and for rebuilding a heap or dropping a clustered index online, a temporary mapping index.</span></span>  
  
-   <span data-ttu-id="eadfa-106">**Index sources et préexistants**</span><span class="sxs-lookup"><span data-stu-id="eadfa-106">**Source and preexisting indexes**</span></span>  
  
     <span data-ttu-id="eadfa-107">La source est la table d'origine ou les données de l'index cluster.</span><span class="sxs-lookup"><span data-stu-id="eadfa-107">The source is the original table or clustered index data.</span></span> <span data-ttu-id="eadfa-108">Les index préexistants sont tout index non-cluster associé à la structure source.</span><span class="sxs-lookup"><span data-stu-id="eadfa-108">Preexisting indexes are any nonclustered indexes that are associated with the source structure.</span></span> <span data-ttu-id="eadfa-109">Par exemple, si l'opération d'index en ligne régénère un index cluster possédant quatre index non-cluster associés, la source est l'index cluster existant et les index préexistants sont les index non-cluster.</span><span class="sxs-lookup"><span data-stu-id="eadfa-109">For example, if the online index operation is rebuilding a clustered index that has four associated nonclustered indexes, the source is the existing clustered index and the preexisting indexes are the nonclustered indexes.</span></span>  
  
     <span data-ttu-id="eadfa-110">Les index préexistants sont mis à la disposition des utilisateurs simultanés pour les opérations de sélection, d'insertion, de mise à jour et de suppression.</span><span class="sxs-lookup"><span data-stu-id="eadfa-110">The preexisting indexes are available to concurrent users for select, insert, update, and delete operations.</span></span> <span data-ttu-id="eadfa-111">Cela comprend des insertions en bloc (prises en charge mais déconseillées), des mises à jour implicites par des déclencheurs ainsi que des contraintes d'intégrité référentielle.</span><span class="sxs-lookup"><span data-stu-id="eadfa-111">This includes bulk inserts (supported but not recommended) and implicit updates by triggers and referential integrity constraints.</span></span> <span data-ttu-id="eadfa-112">Tous les index préexistants sont disponibles pour les requêtes et les recherches.</span><span class="sxs-lookup"><span data-stu-id="eadfa-112">All preexisting indexes are available for queries and searches.</span></span> <span data-ttu-id="eadfa-113">Cela signifie qu'ils peuvent être sélectionnés par l'optimiseur de requête et spécifiés le cas échéant dans des indicateurs d'index.</span><span class="sxs-lookup"><span data-stu-id="eadfa-113">This means they may be selected by the query optimizer and, if necessary, specified in index hints.</span></span>  
  
-   <span data-ttu-id="eadfa-114">**Cible**</span><span class="sxs-lookup"><span data-stu-id="eadfa-114">**Target**</span></span>  
  
     <span data-ttu-id="eadfa-115">La ou les cibles est le nouvel index (ou segment de mémoire), ou bien un jeu des nouveaux index en cours de création ou de régénération.</span><span class="sxs-lookup"><span data-stu-id="eadfa-115">The target or targets is the new index (or heap) or a set of new indexes that is being created or rebuilt.</span></span> <span data-ttu-id="eadfa-116">Les opérations d'insertion, de mise à jour et de suppression que l'utilisateur effectue sur la source sont appliquées par le [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] à la cible pendant l'opération d'index.</span><span class="sxs-lookup"><span data-stu-id="eadfa-116">User insert, update, and delete operations to the source are applied by the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] to the target during the index operation.</span></span> <span data-ttu-id="eadfa-117">Par exemple, si l'opération d'index en ligne régénère un index cluster, la cible est l'index cluster régénéré ; le [!INCLUDE[ssDE](../../includes/ssde-md.md)] ne régénère pas d'index non-cluster lorsqu'un index cluster est régénéré.</span><span class="sxs-lookup"><span data-stu-id="eadfa-117">For example, if the online index operation is rebuilding a clustered index, the target is the rebuilt clustered index; the [!INCLUDE[ssDE](../../includes/ssde-md.md)] does not rebuild nonclustered indexes when a clustered index is rebuilt.</span></span>  
  
     <span data-ttu-id="eadfa-118">L'index cible n'est pas examiné lors du traitement d'instructions SELECT aussi longtemps que l'opération d'index n'est pas validée.</span><span class="sxs-lookup"><span data-stu-id="eadfa-118">The target index is not searched while processing SELECT statements until the index operation is committed.</span></span> <span data-ttu-id="eadfa-119">En interne, l'index est marqué en écriture seule.</span><span class="sxs-lookup"><span data-stu-id="eadfa-119">Internally, the index is marked as write-only.</span></span>  
  
-   <span data-ttu-id="eadfa-120">**Index de mappage temporaire**</span><span class="sxs-lookup"><span data-stu-id="eadfa-120">**Temporary mapping index**</span></span>  
  
     <span data-ttu-id="eadfa-121">Les opérations d'index en ligne qui créent, suppriment ou régénèrent un index cluster exigent également un index de mappage temporaire.</span><span class="sxs-lookup"><span data-stu-id="eadfa-121">Online index operations that create, drop, or rebuild a clustered index also require a temporary mapping index.</span></span> <span data-ttu-id="eadfa-122">Cet index temporaire est utilisé par les transactions simultanées pour déterminer les enregistrements à supprimer dans les nouveaux index en cours de génération lorsque des lignes de la table sous-jacente sont mises à jour ou supprimées.</span><span class="sxs-lookup"><span data-stu-id="eadfa-122">This temporary index is used by concurrent transactions to determine which records to delete in the new indexes that are being built when rows in the underlying table are updated or deleted.</span></span> <span data-ttu-id="eadfa-123">Cet index non-cluster est créé au cours de la même étape que le nouvel index (ou segment de mémoire) cluster et n'exige aucune opération de tri distincte.</span><span class="sxs-lookup"><span data-stu-id="eadfa-123">This nonclustered index is created in the same step as the new clustered index (or heap) and does not require a separate sort operation.</span></span> <span data-ttu-id="eadfa-124">Les transactions simultanées gèrent également l'index de mappage temporaire dans toutes leurs opérations d'insertion, de mise à jour et de suppression.</span><span class="sxs-lookup"><span data-stu-id="eadfa-124">Concurrent transactions also maintain the temporary mapping index in all their insert, update, and delete operations.</span></span>  
  
## <a name="online-index-activities"></a><span data-ttu-id="eadfa-125">Activités d'index en ligne</span><span class="sxs-lookup"><span data-stu-id="eadfa-125">Online Index Activities</span></span>  
 <span data-ttu-id="eadfa-126">Pendant une opération d'index en ligne simple, telle que la création d'un index cluster sur une table (ou un segment de mémoire) non indexée, la source et la cible passent par trois phases : la phase de préparation, la phase de génération et la phase finale.</span><span class="sxs-lookup"><span data-stu-id="eadfa-126">During a simple online index operation, such as creating a clustered index on a nonindexed table (heap), the source and target go through three phases: preparation, build, and final.</span></span>  
  
 <span data-ttu-id="eadfa-127">L'illustration suivante représente le processus de création d'un index cluster initial en ligne.</span><span class="sxs-lookup"><span data-stu-id="eadfa-127">The following illustration shows the process for creating an initial clustered index online.</span></span> <span data-ttu-id="eadfa-128">L'objet source (le segment) ne possède aucun autre index.</span><span class="sxs-lookup"><span data-stu-id="eadfa-128">The source object (the heap) has no other indexes.</span></span> <span data-ttu-id="eadfa-129">Les activités des structures sources et cibles sont représentées pour chaque phase ; les opérations de sélection, d'insertion, de mise à jour et de suppression des utilisateurs simultanés sont également indiquées.</span><span class="sxs-lookup"><span data-stu-id="eadfa-129">The source and target structure activities are shown for each phase; concurrent user select, insert, update, and delete operations are also shown.</span></span> <span data-ttu-id="eadfa-130">Les phases de préparation, de génération et finale sont affichées avec les modes de verrouillage utilisés dans chacune d'elles.</span><span class="sxs-lookup"><span data-stu-id="eadfa-130">The preparation, build, and final phases are indicated together with the lock modes used in each phase.</span></span>  
  
 <span data-ttu-id="eadfa-131">![Activités effectuées au cours d’une opération d’index en ligne](../../database-engine/media/online-index.gif "Activités effectuées au cours d’une opération d’index en ligne")</span><span class="sxs-lookup"><span data-stu-id="eadfa-131">![Activities performed during online index operation](../../database-engine/media/online-index.gif "Activities performed during online index operation")</span></span>  
  
## <a name="source-structure-activities"></a><span data-ttu-id="eadfa-132">Activités des structures sources</span><span class="sxs-lookup"><span data-stu-id="eadfa-132">Source Structure Activities</span></span>  
 <span data-ttu-id="eadfa-133">Le tableau suivant répertorie les activités impliquant les structures sources lors de chaque phase de l'opération d'index ainsi que la stratégie de verrouillage correspondante.</span><span class="sxs-lookup"><span data-stu-id="eadfa-133">The following table lists the activities involving the source structures during each phase of the index operation and the corresponding locking strategy.</span></span>  
  
|<span data-ttu-id="eadfa-134">Phase</span><span class="sxs-lookup"><span data-stu-id="eadfa-134">Phase</span></span>|<span data-ttu-id="eadfa-135">Activité de la source</span><span class="sxs-lookup"><span data-stu-id="eadfa-135">Source activity</span></span>|<span data-ttu-id="eadfa-136">Verrous de la source</span><span class="sxs-lookup"><span data-stu-id="eadfa-136">Source locks</span></span>|  
|-----------|---------------------|------------------|  
|<span data-ttu-id="eadfa-137">Préparation</span><span class="sxs-lookup"><span data-stu-id="eadfa-137">Preparation</span></span><br /><br /> <span data-ttu-id="eadfa-138">Phase très courte</span><span class="sxs-lookup"><span data-stu-id="eadfa-138">Very short phase</span></span>|<span data-ttu-id="eadfa-139">Préparation des métadonnées système afin de créer la nouvelle structure d'index vide.</span><span class="sxs-lookup"><span data-stu-id="eadfa-139">System metadata preparation to create the new empty index structure.</span></span><br /><br /> <span data-ttu-id="eadfa-140">Un instantané de la table est défini.</span><span class="sxs-lookup"><span data-stu-id="eadfa-140">A snapshot of the table is defined.</span></span> <span data-ttu-id="eadfa-141">Cela signifie que le contrôle de version de ligne est utilisé pour fournir une cohérence de lecture au niveau de la transaction.</span><span class="sxs-lookup"><span data-stu-id="eadfa-141">That is, row versioning is used to provide transaction-level read consistency.</span></span><br /><br /> <span data-ttu-id="eadfa-142">Les opérations d'écriture d'utilisateurs simultanés sur la source sont bloquées pendant une période très courte.</span><span class="sxs-lookup"><span data-stu-id="eadfa-142">Concurrent user write operations on the source are blocked for a very short period.</span></span><br /><br /> <span data-ttu-id="eadfa-143">Aucune opération DDL simultanée n'est autorisée, à l'exception de la création de plusieurs index non-cluster.</span><span class="sxs-lookup"><span data-stu-id="eadfa-143">No concurrent DDL operations are allowed except creating multiple nonclustered indexes.</span></span>|<span data-ttu-id="eadfa-144">S (Partagé) sur la table\*</span><span class="sxs-lookup"><span data-stu-id="eadfa-144">S (Shared) on the table\*</span></span><br /><br /> <span data-ttu-id="eadfa-145">IS (Partage intentionnel)</span><span class="sxs-lookup"><span data-stu-id="eadfa-145">IS (Intent Shared)</span></span><br /><br /> <span data-ttu-id="eadfa-146">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span><span class="sxs-lookup"><span data-stu-id="eadfa-146">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span></span>|  
|<span data-ttu-id="eadfa-147">Build</span><span class="sxs-lookup"><span data-stu-id="eadfa-147">Build</span></span><br /><br /> <span data-ttu-id="eadfa-148">Phase principale</span><span class="sxs-lookup"><span data-stu-id="eadfa-148">Main phase</span></span>|<span data-ttu-id="eadfa-149">Les données sont analysées, triées, fusionnées et insérées dans la cible au cours d'opérations de chargement en masse.</span><span class="sxs-lookup"><span data-stu-id="eadfa-149">The data is scanned, sorted, merged, and inserted into the target in bulk load operations.</span></span><br /><br /> <span data-ttu-id="eadfa-150">Les opérations de sélection, d'insertion, de mise à jour et de suppression effectuées par des utilisateurs simultanés sont appliquées à la fois aux index préexistants et à tout nouvel index en cours de régénération.</span><span class="sxs-lookup"><span data-stu-id="eadfa-150">Concurrent user select, insert, update, and delete operations are applied to both the preexisting indexes and any new indexes being built.</span></span>|<span data-ttu-id="eadfa-151">IS</span><span class="sxs-lookup"><span data-stu-id="eadfa-151">IS</span></span><br /><br /> <span data-ttu-id="eadfa-152">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span><span class="sxs-lookup"><span data-stu-id="eadfa-152">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span></span>|  
|<span data-ttu-id="eadfa-153">Finale</span><span class="sxs-lookup"><span data-stu-id="eadfa-153">Final</span></span><br /><br /> <span data-ttu-id="eadfa-154">Phase très courte</span><span class="sxs-lookup"><span data-stu-id="eadfa-154">Very short phase</span></span>|<span data-ttu-id="eadfa-155">Pour que cette phase commence, toutes les transactions de mise à jour non validées doivent être terminées.</span><span class="sxs-lookup"><span data-stu-id="eadfa-155">All uncommitted update transactions must complete before this phase starts.</span></span> <span data-ttu-id="eadfa-156">Selon le verrou acquis, toutes les transactions de lecture ou d'écriture de nouveaux utilisateurs sont bloquées pendant une période très courte jusqu'à l'achèvement de cette phase.</span><span class="sxs-lookup"><span data-stu-id="eadfa-156">Depending on the acquired lock, all new user read or write transactions are blocked for a very short period until this phase is completed.</span></span><br /><br /> <span data-ttu-id="eadfa-157">Les métadonnées système sont mises à jour pour remplacer la source par la cible.</span><span class="sxs-lookup"><span data-stu-id="eadfa-157">System metadata is updated to replace the source with the target.</span></span><br /><br /> <span data-ttu-id="eadfa-158">La source est supprimée le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="eadfa-158">The source is dropped if it is required.</span></span> <span data-ttu-id="eadfa-159">Par exemple, après la régénération ou la suppression d'un index cluster.</span><span class="sxs-lookup"><span data-stu-id="eadfa-159">For example, after rebuilding or dropping a clustered index.</span></span>|<span data-ttu-id="eadfa-160">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span><span class="sxs-lookup"><span data-stu-id="eadfa-160">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span></span><br /><br /> <span data-ttu-id="eadfa-161">S sur la table en cas de création d’un index non cluster.\*</span><span class="sxs-lookup"><span data-stu-id="eadfa-161">S on the table if creating a nonclustered index.\*</span></span><br /><br /> <span data-ttu-id="eadfa-162">SCH-M (Modification du schéma) en cas de suppression de toute structure source (index ou table).\*</span><span class="sxs-lookup"><span data-stu-id="eadfa-162">SCH-M (Schema Modification) if any source structure (index or table) is dropped.\*</span></span>|  
  
 <span data-ttu-id="eadfa-163">\* L’opération d’index attend l’achèvement de toute transaction de mise à jour non validée avant d’acquérir le verrou S ou SCH-M sur la table.</span><span class="sxs-lookup"><span data-stu-id="eadfa-163">\* The index operation will wait for any uncommitted update transactions to complete before acquiring the S lock or SCH-M lock on the table.</span></span>  
  
 <span data-ttu-id="eadfa-164">\*\* Le verrou de ressource INDEX_BUILD_INTERNAL_RESOURCE empêche l'exécution d'opérations de langage de définition de données (DDL) simultanées sur les structures sources et préexistantes alors que l'opération d'index est en cours.</span><span class="sxs-lookup"><span data-stu-id="eadfa-164">\*\* The resource lock INDEX_BUILD_INTERNAL_RESOURCE prevents the execution of concurrent data definition language (DDL) operations on the source and preexisting structures while the index operation is in progress.</span></span> <span data-ttu-id="eadfa-165">Par exemple, ce verrou empêche la régénération simultanée de deux index sur la même table.</span><span class="sxs-lookup"><span data-stu-id="eadfa-165">For example, this lock prevents concurrent rebuild of two indexes on the same table.</span></span> <span data-ttu-id="eadfa-166">Même si ce verrou de ressource est associé au verrou Sch-M, il n'empêche pas les instructions de manipulation de données.</span><span class="sxs-lookup"><span data-stu-id="eadfa-166">Although this resource lock is associated with the Sch-M lock, it does not prevent data manipulation statements.</span></span>  
  
 <span data-ttu-id="eadfa-167">La table précédente représente un verrou partagé (S) unique acquis lors de la phase de génération d'une opération d'index en ligne impliquant un index unique.</span><span class="sxs-lookup"><span data-stu-id="eadfa-167">The previous table shows a single Shared (S) lock acquired during the build phase of an online index operation that involves a single index.</span></span> <span data-ttu-id="eadfa-168">Lorsque des index cluster et non cluster sont générés ou régénérés au cours d'une opération d'index en ligne unique (par exemple, pendant la création d'un index cluster initial sur une table contenant un ou plusieurs index non cluster), deux verrous S à court terme sont acquis au cours de la phase de génération, suivis par des verrous de partage intentionnel (IS) à long terme.</span><span class="sxs-lookup"><span data-stu-id="eadfa-168">When clustered and nonclustered indexes are built, or rebuilt, in a single online index operation (for example, during the initial clustered index creation on a table that contains one or more nonclustered indexes) two short-term S locks are acquired during the build phase followed by long-term Intent Shared (IS) locks.</span></span> <span data-ttu-id="eadfa-169">Un verrou S est d'abord acquis pour la création de l'index cluster et lorsque la création de l'index cluster est terminée, un deuxième verrou S à court terme est acquis pour la création des index non-cluster.</span><span class="sxs-lookup"><span data-stu-id="eadfa-169">One S lock is acquired first for the clustered index creation and when creating the clustered index is completed, a second short-term S lock is acquired for creating the nonclustered indexes.</span></span> <span data-ttu-id="eadfa-170">Une fois les index non-cluster créés, le verrou S redevient un verrou IS jusqu'à la phase finale de l'opération d'index en ligne.</span><span class="sxs-lookup"><span data-stu-id="eadfa-170">After the nonclustered indexes are created, the S lock is downgraded to an IS lock until the final phase of the online index operation.</span></span>  
  
### <a name="target-structure-activities"></a><span data-ttu-id="eadfa-171">Activités des structures cibles</span><span class="sxs-lookup"><span data-stu-id="eadfa-171">Target Structure Activities</span></span>  
 <span data-ttu-id="eadfa-172">Le tableau suivant répertorie les activités impliquant la structure cible lors de chaque phase de l'opération d'index ainsi que la stratégie de verrouillage correspondante.</span><span class="sxs-lookup"><span data-stu-id="eadfa-172">The following table lists the activities that involve the target structure during each phase of the index operation and the corresponding locking strategy.</span></span>  
  
|<span data-ttu-id="eadfa-173">Phase</span><span class="sxs-lookup"><span data-stu-id="eadfa-173">Phase</span></span>|<span data-ttu-id="eadfa-174">Activité de la cible</span><span class="sxs-lookup"><span data-stu-id="eadfa-174">Target activity</span></span>|<span data-ttu-id="eadfa-175">Verrous de la cible</span><span class="sxs-lookup"><span data-stu-id="eadfa-175">Target locks</span></span>|  
|-----------|---------------------|------------------|  
|<span data-ttu-id="eadfa-176">Préparation</span><span class="sxs-lookup"><span data-stu-id="eadfa-176">Preparation</span></span>|<span data-ttu-id="eadfa-177">Un nouvel index est créé et défini en écriture seule.</span><span class="sxs-lookup"><span data-stu-id="eadfa-177">New index is created and set to write-only.</span></span>|<span data-ttu-id="eadfa-178">IS</span><span class="sxs-lookup"><span data-stu-id="eadfa-178">IS</span></span>|  
|<span data-ttu-id="eadfa-179">Build</span><span class="sxs-lookup"><span data-stu-id="eadfa-179">Build</span></span>|<span data-ttu-id="eadfa-180">Les données sont insérées à partir de la source.</span><span class="sxs-lookup"><span data-stu-id="eadfa-180">Data is inserted from source.</span></span><br /><br /> <span data-ttu-id="eadfa-181">Les modifications des utilisateurs (insertions, mises à jour, suppressions) apportées à la source sont appliquées.</span><span class="sxs-lookup"><span data-stu-id="eadfa-181">User modifications (inserts, updates, deletes) applied to the source are applied.</span></span><br /><br /> <span data-ttu-id="eadfa-182">Cette activité est transparente pour l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="eadfa-182">This activity is transparent to the user.</span></span>|<span data-ttu-id="eadfa-183">IS</span><span class="sxs-lookup"><span data-stu-id="eadfa-183">IS</span></span>|  
|<span data-ttu-id="eadfa-184">Finale</span><span class="sxs-lookup"><span data-stu-id="eadfa-184">Final</span></span>|<span data-ttu-id="eadfa-185">Les métadonnées de l'index sont mises à jour.</span><span class="sxs-lookup"><span data-stu-id="eadfa-185">Index metadata is updated.</span></span><br /><br /> <span data-ttu-id="eadfa-186">L'index est défini en lecture/écriture.</span><span class="sxs-lookup"><span data-stu-id="eadfa-186">Index is set to read/write status.</span></span>|<span data-ttu-id="eadfa-187">S</span><span class="sxs-lookup"><span data-stu-id="eadfa-187">S</span></span><br /><br /> <span data-ttu-id="eadfa-188">or</span><span class="sxs-lookup"><span data-stu-id="eadfa-188">or</span></span><br /><br /> <span data-ttu-id="eadfa-189">SCH-M</span><span class="sxs-lookup"><span data-stu-id="eadfa-189">SCH-M</span></span>|  
  
 <span data-ttu-id="eadfa-190">Les instructions SELECT émises par l'utilisateur n'accèdent pas à la cible aussi longtemps que l'opération d'index n'est pas terminée.</span><span class="sxs-lookup"><span data-stu-id="eadfa-190">The target is not accessed by SELECT statements issued by the user until the index operation is completed.</span></span>  
  
 <span data-ttu-id="eadfa-191">Une fois les phases de préparation et finale terminées, les plans de requête et de mise à jour stockés dans le cache de procédure sont invalidés.</span><span class="sxs-lookup"><span data-stu-id="eadfa-191">After the preparation and final phase is completed, the query and update plans that are stored in the procedure cache are invalidated.</span></span> <span data-ttu-id="eadfa-192">Les requêtes suivantes utiliseront le nouvel index.</span><span class="sxs-lookup"><span data-stu-id="eadfa-192">Subsequent queries will use the new index.</span></span>  
  
 <span data-ttu-id="eadfa-193">La durée de vie d'un curseur déclaré sur une table impliquée dans une opération d'index en ligne est limitée par les phases de l'index en ligne.</span><span class="sxs-lookup"><span data-stu-id="eadfa-193">The lifetime of a cursor declared on a table that is involved in an online index operation is limited by the online index phases.</span></span> <span data-ttu-id="eadfa-194">Les curseurs de mise à jour sont invalidés à chaque phase.</span><span class="sxs-lookup"><span data-stu-id="eadfa-194">Update cursors are invalidated at each phase.</span></span> <span data-ttu-id="eadfa-195">Les curseurs en lecture seule ne sont invalidés qu'après la phase finale.</span><span class="sxs-lookup"><span data-stu-id="eadfa-195">Read-only cursors are invalidated only after the final phase.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="eadfa-196">Contenu associé</span><span class="sxs-lookup"><span data-stu-id="eadfa-196">Related Content</span></span>  
 [<span data-ttu-id="eadfa-197">Exécuter des opérations en ligne sur les index</span><span class="sxs-lookup"><span data-stu-id="eadfa-197">Perform Index Operations Online</span></span>](perform-index-operations-online.md)  
  
 [<span data-ttu-id="eadfa-198">Instructions pour les opérations d’index en ligne</span><span class="sxs-lookup"><span data-stu-id="eadfa-198">Guidelines for Online Index Operations</span></span>](guidelines-for-online-index-operations.md)  
  
  
