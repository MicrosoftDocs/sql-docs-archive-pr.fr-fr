---
title: Générer des filtres | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.newpubwizard.generatefilters.f1
ms.assetid: be28515c-5d6d-467b-b933-d7c8d97a45b4
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b0e484c89c97d3f32f3e41197800202f796a25d2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87601339"
---
# <a name="generate-filters"></a><span data-ttu-id="62e62-102">Générer des filtres</span><span class="sxs-lookup"><span data-stu-id="62e62-102">Generate Filters</span></span>
  <span data-ttu-id="62e62-103">La boîte de dialogue **Générer des filtres** permet de définir un filtre de lignes à appliquer sur une table lors d'une opération de publication de fusion. La réplication étend ensuite automatiquement le filtre aux autres tables associées par le biais de relations de clé étrangère.</span><span class="sxs-lookup"><span data-stu-id="62e62-103">The **Generate Filters** dialog box allows you to define a row filter on one table in a merge publication; replication then automatically extends the filter to other tables that are related through foreign key relationships.</span></span> <span data-ttu-id="62e62-104">Par exemple, si vous définissez un filtre portant sur une table contenant des données de clients pour ne garder que les données portant sur les clients français, la réplication étend donc ce filtre aux tables retraçant les informations propres aux commandes et à leurs détails en relation avec des clients français.</span><span class="sxs-lookup"><span data-stu-id="62e62-104">For example, if you define a filter on a customer table so that it only contains data on French customers, replication extends that filter so that related orders and order details tables contain only information related to French customers.</span></span>  
  
## <a name="options"></a><span data-ttu-id="62e62-105">Options</span><span class="sxs-lookup"><span data-stu-id="62e62-105">Options</span></span>  
 <span data-ttu-id="62e62-106">Cette boîte de dialogue permet d'initier un processus en trois étapes afin de créer un filtre de lignes portant sur une table.</span><span class="sxs-lookup"><span data-stu-id="62e62-106">This dialog box involves a three-step process to create a row filter on a table.</span></span> <span data-ttu-id="62e62-107">Le filtre ainsi créé est ensuite étendu aux tables possédant une relation à la table filtrée à travers leur clé primaire et leurs relations de clé étrangère.</span><span class="sxs-lookup"><span data-stu-id="62e62-107">The filter is then extended to the tables related to the filtered table through primary key and foreign key relationships.</span></span> <span data-ttu-id="62e62-108">Prenons pour exemple trois tables nommées **Customer**, **SalesOrderHeader**et **SalesOrderDetail**. Les tables **Customer** et **SalesOrderHeader**possèdent une relation entre elles et une autre existe entre **SalesOrderHeader** et **SalesOrderDetail**. Si nous appliquons un filtre de lignes à **Customer**, la réplication étend ainsi ce filtre à **SalesOrderHeader** et à **SalesOrderDetail**.</span><span class="sxs-lookup"><span data-stu-id="62e62-108">For example, given the three tables **Customer**, **SalesOrderHeader**, and **SalesOrderDetail**, with a relationship between **Customer** and **SalesOrderHeader**, and a relationship between **SalesOrderHeader** and **SalesOrderDetail**, apply a row filter to **Customer**, and replication extends that filter to **SalesOrderHeader** and **SalesOrderDetail**.</span></span>  
  
1.  <span data-ttu-id="62e62-109">**Sélectionnez la table à filtrer.**</span><span class="sxs-lookup"><span data-stu-id="62e62-109">**Select the table to filter.**</span></span>  
  
     <span data-ttu-id="62e62-110">Sélectionnez une table dans la zone de liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="62e62-110">Select a table from the drop-down list box.</span></span> <span data-ttu-id="62e62-111">Les tables n'y apparaissent que si elles ont été sélectionnées dans la page **Articles** .</span><span class="sxs-lookup"><span data-stu-id="62e62-111">Tables appear in the list box only if they were selected on the **Articles** page.</span></span>  
  
2.  <span data-ttu-id="62e62-112">**Complétez l'instruction de filtrage pour identifier les lignes de table que les abonnés doivent recevoir.**</span><span class="sxs-lookup"><span data-stu-id="62e62-112">**Complete the filter statement to identify which table rows Subscribers will receive.**</span></span>  
  
     <span data-ttu-id="62e62-113">Définissez une nouvelle instruction de filtrage.</span><span class="sxs-lookup"><span data-stu-id="62e62-113">Define a new filter statement.</span></span> <span data-ttu-id="62e62-114">La zone de liste déroulante **Colonnes** répertorie toutes les colonnes que vous publiez à partir de la table à choisir dans **Sélectionnez la table à filtrer**.</span><span class="sxs-lookup"><span data-stu-id="62e62-114">The **Columns** list box lists all the columns that you are publishing from the table you selected in **Select the table to filter**.</span></span> <span data-ttu-id="62e62-115">La zone de texte **Instruction de filtrage** comprend un texte par défaut, qui est de la forme suivante :</span><span class="sxs-lookup"><span data-stu-id="62e62-115">The **Filter statement** text area includes the default text, which is in the form of:</span></span>  
  
     `SELECT <published_columns> FROM [tableowner].[tablename] WHERE`  
  
     <span data-ttu-id="62e62-116">Ce texte ne peut pas être modifié. Saisissez dans ce cas la clause de filtrage après le mot clé WHERE en suivant la syntaxe standard [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="62e62-116">This text cannot be changed; type the filter clause after the WHERE keyword using standard [!INCLUDE[tsql](../../includes/tsql-md.md)] syntax.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="62e62-117">Pour des raisons de performances, il est recommandé de ne pas appliquer de fonctions aux noms de colonnes dans les clauses de filtres de lignes paramétrables, comme `LEFT([MyColumn]) = SUSER_SNAME()`.</span><span class="sxs-lookup"><span data-stu-id="62e62-117">For performance reasons, we recommended that you not apply functions to column names in parameterized row filter clauses, such as `LEFT([MyColumn]) = SUSER_SNAME()`.</span></span> <span data-ttu-id="62e62-118">Si vous utilisez HOST_NAME dans une clause de filtrage puis en remplacez la valeur, il peut s'avérer judicieux de convertir les types de données avec la fonction CONVERT.</span><span class="sxs-lookup"><span data-stu-id="62e62-118">If you use HOST_NAME in a filter clause and override the HOST_NAME value, it might be necessary to convert data types using CONVERT.</span></span> <span data-ttu-id="62e62-119">Pour plus d'informations sur la conduite à adopter dans cette situation, consultez la section « Substitution de la valeur de HOST_NAME » de la rubrique [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="62e62-119">For more information about best practices for this case, see the section "Overriding the HOST_NAME() Value" in the topic [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
3.  <span data-ttu-id="62e62-120">**Spécifiez combien d'abonnements recevront des données de cette table.**</span><span class="sxs-lookup"><span data-stu-id="62e62-120">**Specify how many subscriptions will receive data from this table.**</span></span>  
  
     [!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="62e62-121">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] et versions ultérieures uniquement.</span><span class="sxs-lookup"><span data-stu-id="62e62-121">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions only.</span></span> <span data-ttu-id="62e62-122">La réplication de fusion vous permet d'indiquer le type de partitions répondant au mieux à vos données et votre application.</span><span class="sxs-lookup"><span data-stu-id="62e62-122">Merge replication allows you to specify the type of partitions that are best suited to your data and application.</span></span> <span data-ttu-id="62e62-123">Si vous sélectionnez **Une ligne de cette table ira à un seul abonnement**, la réplication de fusion définit l'option de non-chevauchement des partitions.</span><span class="sxs-lookup"><span data-stu-id="62e62-123">If you select **A row from this table will go to only one subscription**, merge replication sets the nonoverlapping partitions option.</span></span> <span data-ttu-id="62e62-124">Cette option, qui fonctionne avec les partitions précalculées pour améliorer les performances, permet de réduire au minimum le coût de téléchargement associé aux partitions précalculées.</span><span class="sxs-lookup"><span data-stu-id="62e62-124">Nonoverlapping partitions work in conjunction with precomputed partitions to improve performance, with nonoverlapping partitions minimizing the upload cost associated with precomputed partitions.</span></span> <span data-ttu-id="62e62-125">Le gain de performances lié au non-chevauchement des partitions est plus flagrant lorsque les filtres paramétrés et les filtres de jointure utilisés sont plus complexes.</span><span class="sxs-lookup"><span data-stu-id="62e62-125">The performance benefit of nonoverlapping partitions is more noticeable when the parameterized filters and join filters used are more complex.</span></span> <span data-ttu-id="62e62-126">Si vous sélectionnez cette option, vous devez veiller à ce que les données soient partitionnées de telle sorte qu'une ligne ne puisse pas être répliquée vers plusieurs abonnés.</span><span class="sxs-lookup"><span data-stu-id="62e62-126">If you select this option, you must ensure that the data is partitioned in such a way that a row cannot be replicated to more than one Subscriber.</span></span> <span data-ttu-id="62e62-127">Pour plus d'informations, consultez la section « Définition de « partition options » » dans la rubrique [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="62e62-127">For more information, see the section "Setting 'partition options'" in the topic [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
 <span data-ttu-id="62e62-128">Après avoir ajouté un filtre, cliquez sur **OK** pour quitter ainsi la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="62e62-128">After you have added a filter, click **OK** to exit and close the dialog box.</span></span> <span data-ttu-id="62e62-129">Le filtre que vous spécifiez est ensuite analysé et exécuté sur la table indiquée dans la clause SELECT.</span><span class="sxs-lookup"><span data-stu-id="62e62-129">The filter you specified is parsed and run against the table in the SELECT clause.</span></span> <span data-ttu-id="62e62-130">Si l'instruction de filtrage contient des erreurs de syntaxe ou d'autres erreurs, vous recevrez un message et pourrez modifier l'instruction de filtrage.</span><span class="sxs-lookup"><span data-stu-id="62e62-130">If the filter statement contains syntax errors or other problems, you will be notified and will be able to edit the filter statement.</span></span>  
  
 <span data-ttu-id="62e62-131">Après l'analyse de l'instruction, la réplication procède à la création des filtres de jointure nécessaires.</span><span class="sxs-lookup"><span data-stu-id="62e62-131">After the statement is parsed, replication creates the necessary join filters.</span></span> <span data-ttu-id="62e62-132">Si vous n'avez pas encore configuré le serveur de distribution pour le serveur de publication pour lequel cet Assistant est censé s'exécuter, un message vous invite alors à le configurer.</span><span class="sxs-lookup"><span data-stu-id="62e62-132">If you have not yet configured the Distributor for the Publisher against which this wizard is running, you are prompted to configure it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="62e62-133">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="62e62-133">See Also</span></span>  
 <span data-ttu-id="62e62-134">[Create a Publication](publish/create-a-publication.md) </span><span class="sxs-lookup"><span data-stu-id="62e62-134">[Create a Publication](publish/create-a-publication.md) </span></span>  
 <span data-ttu-id="62e62-135">[Afficher et modifier les propriétés d’une publication](publish/view-and-modify-publication-properties.md) </span><span class="sxs-lookup"><span data-stu-id="62e62-135">[View and Modify Publication Properties](publish/view-and-modify-publication-properties.md) </span></span>  
 <span data-ttu-id="62e62-136">[Filtrer des données publiées](publish/filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="62e62-136">[Filter Published Data](publish/filter-published-data.md) </span></span>  
 <span data-ttu-id="62e62-137">[Filtres de jointure](merge/join-filters.md) </span><span class="sxs-lookup"><span data-stu-id="62e62-137">[Join Filters](merge/join-filters.md) </span></span>  
 <span data-ttu-id="62e62-138">[Filtres de lignes paramétrés](merge/parameterized-filters-parameterized-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="62e62-138">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span></span>  
 [<span data-ttu-id="62e62-139">Publier des données et des objets de base de données</span><span class="sxs-lookup"><span data-stu-id="62e62-139">Publish Data and Database Objects</span></span>](publish/publish-data-and-database-objects.md)  
  
  
