---
title: Analyser les performances avec le moniteur de réplication | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- monitoring performance [SQL Server replication], Replication Monitor
- Log Reader Agent, monitoring
- Replication Monitor, performance
- Merge Agent, monitoring
- Queue Reader Agent, monitoring
- Snapshot Agent, monitoring
- Distribution Agent, monitoring
- monitoring performance [SQL Server replication]
ms.assetid: f212397d-1bfd-496b-a246-668952891d09
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d02cb17aae5dfe72a9660de62e516e61313ef03c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87603386"
---
# <a name="monitor-performance-with-replication-monitor"></a><span data-ttu-id="05091-102">Analyser les performances avec le Moniteur de réplication</span><span class="sxs-lookup"><span data-stu-id="05091-102">Monitor Performance with Replication Monitor</span></span>
  <span data-ttu-id="05091-103">Le Moniteur de réplication [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vous permet d’analyser les performances de la réplication transactionnelle et de la réplication de fusion via les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="05091-103">[!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Replication Monitor allows you to monitor the performance of transactional replication and merge replication in the following ways:</span></span>  
  
-   <span data-ttu-id="05091-104">Définition d'alertes et de seuils</span><span class="sxs-lookup"><span data-stu-id="05091-104">Setting warnings and thresholds</span></span>  
  
-   <span data-ttu-id="05091-105">Affichage de mesures de performance</span><span class="sxs-lookup"><span data-stu-id="05091-105">Viewing performance measurements</span></span>  
  
-   <span data-ttu-id="05091-106">Détermination de la latence avec des jetons de suivi (réplication transactionnelle)</span><span class="sxs-lookup"><span data-stu-id="05091-106">Determining latency with tracer tokens (transactional replication)</span></span>  
  
-   <span data-ttu-id="05091-107">Affichage de statistiques de synchronisation détaillées (réplication de fusion)</span><span class="sxs-lookup"><span data-stu-id="05091-107">Viewing detailed synchronization statistics (merge replication)</span></span>  
  
-   <span data-ttu-id="05091-108">Affichage des transactions et du temps de remise (réplication transactionnelle)</span><span class="sxs-lookup"><span data-stu-id="05091-108">Viewing transactions and delivery time (transactional replication)</span></span>  
  
## <a name="set-warnings-and-thresholds"></a><span data-ttu-id="05091-109">Définir des seuils et des avertissements</span><span class="sxs-lookup"><span data-stu-id="05091-109">Set Warnings and Thresholds</span></span>  
 <span data-ttu-id="05091-110">Le moniteur de réplication vous permet d'activer des avertissements pour plusieurs conditions de performances.</span><span class="sxs-lookup"><span data-stu-id="05091-110">Replication Monitor allows you to enable warnings for a number of performance conditions.</span></span> <span data-ttu-id="05091-111">Quand vous activez un avertissement, vous spécifiez un seuil.</span><span class="sxs-lookup"><span data-stu-id="05091-111">When you enable a warning, you specify a threshold.</span></span> <span data-ttu-id="05091-112">Quand ce seuil est atteint ou dépassé, un avertissement est affiché dans la colonne **État** pour l'abonnement et la publication avec laquelle il se synchronise (à moins qu'un problème d'une priorité plus élevée doive être affiché).</span><span class="sxs-lookup"><span data-stu-id="05091-112">When that threshold is met or exceeded, a warning is displayed in the **Status** column for the subscription and the publication with which it synchronizes (unless an issue with a higher priority needs to be displayed).</span></span> <span data-ttu-id="05091-113">L'atteinte d'un seuil déclenche un avertissement dans le Moniteur de réplication, mais également une alerte.</span><span class="sxs-lookup"><span data-stu-id="05091-113">In addition to displaying a warning in Replication Monitor, reaching a threshold can also trigger an alert.</span></span> <span data-ttu-id="05091-114">Vous pouvez activer des avertissements pour les conditions de performances suivantes :</span><span class="sxs-lookup"><span data-stu-id="05091-114">You can enable warnings for the following performance conditions:</span></span>  
  
-   <span data-ttu-id="05091-115">Dépassement de la latence spécifiée (la quantité de temps qui s'écoule entre la validation d'une transaction sur le serveur de publication et la validation de la transaction correspondante sur l'Abonné).</span><span class="sxs-lookup"><span data-stu-id="05091-115">Exceeding the specified latency (the amount of time that elapses between a transaction being committed at the Publisher and the corresponding transaction being committed at the Subscriber).</span></span>  
  
     <span data-ttu-id="05091-116">Ceci s'applique à la réplication transactionnelle.</span><span class="sxs-lookup"><span data-stu-id="05091-116">This applies to transactional replication.</span></span> <span data-ttu-id="05091-117">Si le seuil spécifié est atteint ou dépassé, l'état affiché est **Critique pour les performances**.</span><span class="sxs-lookup"><span data-stu-id="05091-117">If the specified threshold is met or exceeded, the status is displayed as **Performance critical**.</span></span>  
  
-   <span data-ttu-id="05091-118">Dépassement du temps de synchronisation spécifié.</span><span class="sxs-lookup"><span data-stu-id="05091-118">Exceeding the specified synchronization time.</span></span>  
  
     <span data-ttu-id="05091-119">Ceci s'applique à la réplication de fusion.</span><span class="sxs-lookup"><span data-stu-id="05091-119">This applies to merge replication.</span></span> <span data-ttu-id="05091-120">Si le seuil spécifié est atteint ou dépassé, l'état affiché est **Fusion longue**.</span><span class="sxs-lookup"><span data-stu-id="05091-120">If the specified threshold is met or exceeded, the status is displayed as **Long-running merge**.</span></span> <span data-ttu-id="05091-121">Vous pouvez spécifier des seuils différents pour les connexions d'accès à distance et pour les connexions LAN (Local Area Network).</span><span class="sxs-lookup"><span data-stu-id="05091-121">You can specify different thresholds for dial-up and Local Area Network (LAN) connections.</span></span>  
  
-   <span data-ttu-id="05091-122">Impossibilité de traiter le nombre de lignes spécifié dans un intervalle de temps donné.</span><span class="sxs-lookup"><span data-stu-id="05091-122">Falling short of processing the specified number of rows in a given amount of time.</span></span>  
  
     <span data-ttu-id="05091-123">Ceci s'applique à la réplication de fusion.</span><span class="sxs-lookup"><span data-stu-id="05091-123">This applies to merge replication.</span></span> <span data-ttu-id="05091-124">Si le seuil spécifié est atteint ou dépassé, l'état affiché est **Critique pour les performances**.</span><span class="sxs-lookup"><span data-stu-id="05091-124">If the specified threshold is met or exceeded, the status is displayed as **Performance critical**.</span></span> <span data-ttu-id="05091-125">Vous pouvez spécifier des seuils différents pour les connexions d'accès à distance et pour les connexions LAN.</span><span class="sxs-lookup"><span data-stu-id="05091-125">You can specify different thresholds for dial-up and LAN connections.</span></span>  
  
 <span data-ttu-id="05091-126">Pour plus d’informations, voir [Set Thresholds and Warnings in Replication Monitor](set-thresholds-and-warnings-in-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="05091-126">For more information, see [Set Thresholds and Warnings in Replication Monitor](set-thresholds-and-warnings-in-replication-monitor.md).</span></span>  
  
## <a name="view-performance-measurements"></a><span data-ttu-id="05091-127">Afficher des mesures de performance</span><span class="sxs-lookup"><span data-stu-id="05091-127">View Performance Measurements</span></span>  
 <span data-ttu-id="05091-128">Le Moniteur de réplication affiche des valeurs de qualité des performances pour la réplication transactionnelle et la réplication de fusion dans les colonnes **Performance moyenne actuelle** et **Pire performance actuelle** pour les publications, et dans la colonne **Performance** pour les abonnements.</span><span class="sxs-lookup"><span data-stu-id="05091-128">Replication Monitor displays performance quality values for transactional replication and merge replication in the **Current Average Performance** and **Current Worst Performance** columns for publications and the **Performance** column for subscriptions.</span></span> <span data-ttu-id="05091-129">Les valeurs sont :</span><span class="sxs-lookup"><span data-stu-id="05091-129">The values are:</span></span>  
  
-   <span data-ttu-id="05091-130">Excellent</span><span class="sxs-lookup"><span data-stu-id="05091-130">Excellent</span></span>  
  
-   <span data-ttu-id="05091-131">Bonne</span><span class="sxs-lookup"><span data-stu-id="05091-131">Good</span></span>  
  
-   <span data-ttu-id="05091-132">Correcte</span><span class="sxs-lookup"><span data-stu-id="05091-132">Fair</span></span>  
  
-   <span data-ttu-id="05091-133">Médiocre</span><span class="sxs-lookup"><span data-stu-id="05091-133">Poor</span></span>  
  
-   <span data-ttu-id="05091-134">Critique (réplication transactionnelle seulement)</span><span class="sxs-lookup"><span data-stu-id="05091-134">Critical (transactional replication only)</span></span>  
  
 <span data-ttu-id="05091-135">Les valeurs sont déterminées comme suit :</span><span class="sxs-lookup"><span data-stu-id="05091-135">The values are determined in the following ways:</span></span>  
  
-   <span data-ttu-id="05091-136">Pour la réplication transactionnelle, la qualité des performances est déterminée par le seuil de latence.</span><span class="sxs-lookup"><span data-stu-id="05091-136">For transactional replication, performance quality is determined by the latency threshold.</span></span> <span data-ttu-id="05091-137">Si le seuil n'est pas défini, aucune valeur n'est affichée.</span><span class="sxs-lookup"><span data-stu-id="05091-137">If the threshold is not set, a value is not displayed.</span></span> <span data-ttu-id="05091-138">Le tableau suivant montre la corrélation entre le seuil et la valeur de la qualité des performances.</span><span class="sxs-lookup"><span data-stu-id="05091-138">The following table shows the correlation between the threshold and the performance quality value.</span></span> <span data-ttu-id="05091-139">Par exemple, si le seuil est défini à 60 secondes et que la latence réelle est de 30 secondes, la latence représente 50% du seuil, ce qui correspond à la valeur « Bonne ».</span><span class="sxs-lookup"><span data-stu-id="05091-139">For example, if the threshold is set to 60 seconds and the actual latency is 30 seconds, latency is 50% of the threshold, resulting in a value of Good.</span></span>  
  
    |<span data-ttu-id="05091-140">Excellent</span><span class="sxs-lookup"><span data-stu-id="05091-140">Excellent</span></span>|<span data-ttu-id="05091-141">Bonne</span><span class="sxs-lookup"><span data-stu-id="05091-141">Good</span></span>|<span data-ttu-id="05091-142">Correcte</span><span class="sxs-lookup"><span data-stu-id="05091-142">Fair</span></span>|<span data-ttu-id="05091-143">Médiocre</span><span class="sxs-lookup"><span data-stu-id="05091-143">Poor</span></span>|<span data-ttu-id="05091-144">Critique</span><span class="sxs-lookup"><span data-stu-id="05091-144">Critical</span></span>|  
    |---------------|----------|----------|----------|--------------|  
    |<span data-ttu-id="05091-145">0 - 34 %</span><span class="sxs-lookup"><span data-stu-id="05091-145">0 - 34%</span></span>|<span data-ttu-id="05091-146">35 - 59 %</span><span class="sxs-lookup"><span data-stu-id="05091-146">35 - 59%</span></span>|<span data-ttu-id="05091-147">60 - 84 %</span><span class="sxs-lookup"><span data-stu-id="05091-147">60 - 84%</span></span>|<span data-ttu-id="05091-148">85 - 99 %</span><span class="sxs-lookup"><span data-stu-id="05091-148">85 - 99%</span></span>|<span data-ttu-id="05091-149">100% +</span><span class="sxs-lookup"><span data-stu-id="05091-149">100% +</span></span>|  
  
-   <span data-ttu-id="05091-150">Pour la réplication de fusion, la qualité des performances est indépendante des seuils (le seuil de traitement des lignes détermine si la valeur **Critique pour les performances** est affichée dans la colonne **État** ).</span><span class="sxs-lookup"><span data-stu-id="05091-150">For merge replication, performance quality is independent of either threshold (the row processing threshold does determine if a value of **Performance critical** is displayed in the **Status** column).</span></span> <span data-ttu-id="05091-151">La qualité des performances est déterminée en comparant la performance d'abonnements individuels à la performance historique moyenne des abonnements à la publication avec le même type de connexion (d'accès distant ou LAN).</span><span class="sxs-lookup"><span data-stu-id="05091-151">Performance quality is determined by comparing individual subscription performance to the average historical performance of subscriptions to the publication that have the same connection type (dial-up or LAN).</span></span> <span data-ttu-id="05091-152">Le moniteur de réplication affiche une valeur après cinq synchronisations avec au moins 50 modifications chacune via le même type de connexion.</span><span class="sxs-lookup"><span data-stu-id="05091-152">Replication Monitor displays a value after five synchronizations have occurred with 50 or more changes each over the same type of connection.</span></span> <span data-ttu-id="05091-153">S'il y a eu moins de cinq synchronisations comprenant 50 modifications ou plus ou que la synchronisation la plus récente inclut moins de 50 modifications, il n'affiche pas de valeur.</span><span class="sxs-lookup"><span data-stu-id="05091-153">If there have been less than five synchronizations with 50 or more changes or the most recent synchronization has less than 50 changes, Replication Monitor does not display a value.</span></span>  
  
     <span data-ttu-id="05091-154">Le tableau suivant montre la corrélation entre la performance moyenne et la valeur de la qualité des performances.</span><span class="sxs-lookup"><span data-stu-id="05091-154">The following table shows the correlation between the average performance and the performance quality value.</span></span> <span data-ttu-id="05091-155">Par exemple, si dix Abonnés se sont synchronisés via une connexion LAN avec un taux moyen de 100 lignes par seconde, et que l'un des abonnements se synchronise ensuite à un taux de 125 lignes par seconde, la performance pour la synchronisation de cet Abonné est à 125% de la moyenne, ce qui correspond à la valeur « Bonne ».</span><span class="sxs-lookup"><span data-stu-id="05091-155">For example, if ten Subscribers have synchronized over a LAN connection with an average rate of 100 rows per second, and one of the subscriptions then synchronizes at a rate of 125 rows per second, the performance for that Subscriber's synchronization is 125% of the average, resulting in a value of Good.</span></span>  
  
    |<span data-ttu-id="05091-156">Excellent</span><span class="sxs-lookup"><span data-stu-id="05091-156">Excellent</span></span>|<span data-ttu-id="05091-157">Bonne</span><span class="sxs-lookup"><span data-stu-id="05091-157">Good</span></span>|<span data-ttu-id="05091-158">Correcte</span><span class="sxs-lookup"><span data-stu-id="05091-158">Fair</span></span>|<span data-ttu-id="05091-159">Médiocre</span><span class="sxs-lookup"><span data-stu-id="05091-159">Poor</span></span>|  
    |---------------|----------|----------|----------|  
    |<span data-ttu-id="05091-160">151+%</span><span class="sxs-lookup"><span data-stu-id="05091-160">151+%</span></span>|<span data-ttu-id="05091-161">76 - 150 %</span><span class="sxs-lookup"><span data-stu-id="05091-161">76 - 150%</span></span>|<span data-ttu-id="05091-162">26 - 75 %</span><span class="sxs-lookup"><span data-stu-id="05091-162">26 - 75%</span></span>|<span data-ttu-id="05091-163">0 - 25 %</span><span class="sxs-lookup"><span data-stu-id="05091-163">0 - 25%</span></span>|  
  
 <span data-ttu-id="05091-164">Pour plus d’informations sur l’affichage des informations d’abonnement, consultez [Afficher des informations et effectuer des tâches à l’aide du moniteur de réplication](view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="05091-164">For more information about viewing subscription information, see [View Information and Perform Tasks using Replication Monitor](view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="determine-latency-with-tracer-tokens"></a><span data-ttu-id="05091-165">Déterminer la latence avec des jetons de suivi</span><span class="sxs-lookup"><span data-stu-id="05091-165">Determine Latency with Tracer Tokens</span></span>  
 <span data-ttu-id="05091-166">La réplication transactionnelle vous permet de mesurer la latence dans un système en insérant un jeton (une petite quantité de données) dans le journal des transactions de la base de données de publication et en enregistrant le temps qu'il met pour arriver au serveur de distribution et aux Abonnés.</span><span class="sxs-lookup"><span data-stu-id="05091-166">Transactional replication allows you to measure the latency in a system by inserting a token (a small amount of data) in the transaction log of the publication database and recording how long it takes to arrive at the Distributor and Subscribers.</span></span> <span data-ttu-id="05091-167">Le jeton vous permet aussi de détecter si des données n'atteignent par le serveur de distribution ou l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="05091-167">The token also allows you to identify if data is not reaching the Distributor or Subscriber.</span></span> <span data-ttu-id="05091-168">Pour plus d’informations, voir [Mesurer la latence et valider les connexions pour la réplication transactionnelle](measure-latency-and-validate-connections-for-transactional-replication.md).</span><span class="sxs-lookup"><span data-stu-id="05091-168">For more information, see [Measure Latency and Validate Connections for Transactional Replication](measure-latency-and-validate-connections-for-transactional-replication.md).</span></span>  
  
## <a name="view-detailed-synchronization-performance-for-merge-replication"></a><span data-ttu-id="05091-169">Afficher les performances de synchronisation détaillées pour la réplication de fusion</span><span class="sxs-lookup"><span data-stu-id="05091-169">View Detailed Synchronization Performance for Merge Replication</span></span>  
 <span data-ttu-id="05091-170">Pour la réplication de fusion, le moniteur de réplication affiche des statistiques détaillées pour chaque article traité lors de la synchronisation, notamment la quantité de temps passé dans chaque phase du traitement (chargement des modifications, téléchargement des modifications, etc.).</span><span class="sxs-lookup"><span data-stu-id="05091-170">For merge replication, Replication Monitor displays detailed statistics for each article processed during synchronization, including the amount of time spent in each processing phase (uploading changes, downloading changes, and so on).</span></span> <span data-ttu-id="05091-171">Il peut être utile d'identifier les tables spécifiques qui provoquent les ralentissements ; il s'agit du meilleur observatoire pour résoudre les problèmes de performance avec les abonnements de fusion.</span><span class="sxs-lookup"><span data-stu-id="05091-171">It can help pinpoint specific tables that are causing slow downs and is the best place to troubleshoot performance issues with merge subscriptions.</span></span> <span data-ttu-id="05091-172">Pour plus d’informations sur l’affichage de statistiques détaillées, consultez [Afficher des informations et effectuer des tâches à l’aide du moniteur de réplication](view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="05091-172">For more information on viewing detailed statistics, see [View Information and Perform Tasks using Replication Monitor](view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="view-transactions-and-delivery-time-for-transactional-replication"></a><span data-ttu-id="05091-173">Afficher les transactions et les temps de remise pour la réplication transactionnelle</span><span class="sxs-lookup"><span data-stu-id="05091-173">View Transactions and Delivery Time for Transactional Replication</span></span>  
 <span data-ttu-id="05091-174">Pour la réplication transactionnelle, le moniteur de réplication affiche des informations sur le nombre de transactions dans la base de données de distribution qui n'ont pas encore été distribuées à un Abonné et sur le temps estimé pour distribuer ces transactions.</span><span class="sxs-lookup"><span data-stu-id="05091-174">For transactional replication, Replication Monitor displays information about the number of transactions in the distribution database that have not yet been distributed to a Subscriber and the estimated time for distributing these transactions.</span></span> <span data-ttu-id="05091-175">Pour plus d’informations, consultez [Afficher des informations et effectuer des tâches à l’aide du moniteur de réplication](view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="05091-175">For more information, see [View Information and Perform Tasks using Replication Monitor](view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="05091-176">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="05091-176">See Also</span></span>  
 <span data-ttu-id="05091-177">[Surveillance de la réplication](../monitoring-replication.md) </span><span class="sxs-lookup"><span data-stu-id="05091-177">[Monitoring Replication](../monitoring-replication.md) </span></span>  
 [<span data-ttu-id="05091-178">Set Thresholds and Warnings in Replication Monitor</span><span class="sxs-lookup"><span data-stu-id="05091-178">Set Thresholds and Warnings in Replication Monitor</span></span>](set-thresholds-and-warnings-in-replication-monitor.md)  
  
  
