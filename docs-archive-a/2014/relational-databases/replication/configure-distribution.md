---
title: Configurer la distribution | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- replication [SQL Server], distribution
- distribution configuration [SQL Server replication]
- remote Distributors [SQL Server replication]
- transactional replication, configuring distribution
- distribution databases [SQL Server replication], sizing
- Distributors [SQL Server replication], configuring
- distribution databases [SQL Server replication], about distribution databases
- distribution databases [SQL Server replication]
- merge replication [SQL Server replication], configuring distribution
ms.assetid: 94d52169-384e-4885-84eb-2304e967d9f7
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b0378fe285ba57e1420b7e6bebf5e2e6fe13d29e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87603393"
---
# <a name="configure-distribution"></a><span data-ttu-id="0e2dd-102">Configurer la distribution</span><span class="sxs-lookup"><span data-stu-id="0e2dd-102">Configure Distribution</span></span>
  <span data-ttu-id="0e2dd-103">Le serveur de distribution contient la base de données de distribution, laquelle stocke les métadonnées, les données d'historique pour tous les types de réplication et les transactions pour la réplication transactionnelle.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-103">The Distributor is a server that contains the distribution database, which stores metadata and history data for all types of replication and transactions for transactional replication.</span></span> <span data-ttu-id="0e2dd-104">Pour définir la réplication, vous devez configurer un serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-104">To set up replication, you must configure a Distributor.</span></span> <span data-ttu-id="0e2dd-105">Chaque serveur de publication ne peut être affecté qu'à une seule instance de serveur de distribution mais plusieurs serveurs de publication peuvent partager un serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-105">Each Publisher can be assigned to only a single Distributor instance, but multiple publishers can share a Distributor.</span></span> <span data-ttu-id="0e2dd-106">Le serveur de distribution utilise les ressources supplémentaires suivantes sur le serveur sur lequel il se trouve :</span><span class="sxs-lookup"><span data-stu-id="0e2dd-106">The Distributor uses these additional resources on the server where it is located:</span></span>  
  
-   <span data-ttu-id="0e2dd-107">Espace disque supplémentaire si les fichiers d'instantanés de la publication sont stockés sur le serveur de distribution, ce qui est généralement le cas</span><span class="sxs-lookup"><span data-stu-id="0e2dd-107">Additional disk space if the snapshot files for the publication are stored on the Distributor (which they typically are).</span></span>  
  
-   <span data-ttu-id="0e2dd-108">espace disque supplémentaire pour stocker la base de données de distribution ;</span><span class="sxs-lookup"><span data-stu-id="0e2dd-108">Additional disk space to store the distribution database.</span></span>  
  
-   <span data-ttu-id="0e2dd-109">augmentation de l'utilisation du processeur par les agents de réplication pour les abonnements par envoi de données (push) exécutés sur le serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-109">Additional processor usage by replication agents for push subscriptions running on the Distributor.</span></span>  
  
 <span data-ttu-id="0e2dd-110">Le serveur que vous sélectionnez comme serveur de distribution doit avoir un espace disque suffisant et un processeur suffisamment puissant pour prendre en charge la réplication et toutes les autres activités basées sur ce serveur.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-110">The server you select as the Distributor should have adequate disk space and processor power to support replication and any other activities on that server.</span></span> <span data-ttu-id="0e2dd-111">Lorsque vous configurez le serveur de distribution, spécifiez les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="0e2dd-111">When you configure the Distributor, you specify the following:</span></span>  
  
-   <span data-ttu-id="0e2dd-112">Dossier d'instantanés, utilisé par défaut par tous les serveurs de publication qui utilisent ce serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-112">A snapshot folder, which is used, by default, for all Publishers that use this Distributor.</span></span> <span data-ttu-id="0e2dd-113">Assurez-vous que ce dossier est déjà partagé et possède les autorisations adéquates.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-113">Ensure that this folder is already shared and has the appropriate permissions set.</span></span> <span data-ttu-id="0e2dd-114">Pour plus d’informations, consultez [Sécuriser le dossier d’instantanés](security/secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="0e2dd-114">For more information, see [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>  
  
-   <span data-ttu-id="0e2dd-115">Nom et emplacement des fichiers de la base de données de distribution</span><span class="sxs-lookup"><span data-stu-id="0e2dd-115">A name and file locations for the distribution database.</span></span> <span data-ttu-id="0e2dd-116">La base de données de distribution ne peut plus être renommée après sa création.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-116">The distribution database cannot be renamed after it is created.</span></span> <span data-ttu-id="0e2dd-117">Pour utiliser un autre nom de base de données, vous devez désactiver la distribution et la reconfigurer.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-117">To use a different name for the database, you must disable distribution and reconfigure it.</span></span>  
  
-   <span data-ttu-id="0e2dd-118">Tous les serveurs de publication autorisés à utiliser le serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-118">Any Publishers authorized to use the Distributor.</span></span> <span data-ttu-id="0e2dd-119">Si vous spécifiez des serveurs de publication autres que l'instance sur laquelle le serveur de distribution s'exécute, vous devez également indiquer un mot de passe pour les connexions des serveurs de publication au serveur de distribution distant.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-119">If you specify Publishers other than the instance on which the Distributor runs, you must also specify a password for the connections the Publishers make to the remote Distributor.</span></span>  
  
 <span data-ttu-id="0e2dd-120">Pour la réplication transactionnelle, après avoir configuré la distribution, il est recommandé d'effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="0e2dd-120">For transactional replication, after you configure distribution, we recommend that you:</span></span>  
  
-   <span data-ttu-id="0e2dd-121">Dimensionnez correctement la base de données de distribution.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-121">Size the distribution database appropriately.</span></span> <span data-ttu-id="0e2dd-122">Testez la réplication avec une charge normale pour votre système afin de déterminer l'espace nécessaire au stockage des commandes.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-122">Test replication with a typical load for your system to determine how much space is required to store commands.</span></span> <span data-ttu-id="0e2dd-123">Assurez-vous que la base de données est suffisamment volumineuse pour stocker les commandes sans avoir fréquemment recours à l'extension automatique.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-123">Ensure the database is large enough to store commands without having to auto-grow frequently.</span></span> <span data-ttu-id="0e2dd-124">Pour plus d’informations sur la modification de la taille d’une base de données, consultez [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0e2dd-124">For more information about changing the size of a database, see [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span></span>  
  
-   <span data-ttu-id="0e2dd-125">Activez l'option **sync with backup** sur la base de données de distribution.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-125">Set the **sync with backup** option on the distribution database.</span></span> <span data-ttu-id="0e2dd-126">Pour plus d’informations, consultez [Stratégies de sauvegarde et de restauration de la réplication transactionnelle et d’instantané](administration/strategies-for-backing-up-and-restoring-snapshot-and-transactional-replication.md) et [Activer les sauvegardes coordonnées pour la réplication transactionnelle &#40;programmation Transact-SQL de la réplication&#41;](administration/enable-coordinated-backups-for-transactional-replication.md).</span><span class="sxs-lookup"><span data-stu-id="0e2dd-126">For more information, see [Strategies for Backing Up and Restoring Snapshot and Transactional Replication](administration/strategies-for-backing-up-and-restoring-snapshot-and-transactional-replication.md) and [Enable Coordinated Backups for Transactional Replication &#40;Replication Transact-SQL Programming&#41;](administration/enable-coordinated-backups-for-transactional-replication.md).</span></span>  
  
## <a name="local-and-remote-distributors"></a><span data-ttu-id="0e2dd-127">Serveurs de distribution locaux et distants</span><span class="sxs-lookup"><span data-stu-id="0e2dd-127">Local and Remote Distributors</span></span>  
 <span data-ttu-id="0e2dd-128">Si, par défaut, le serveur de distribution est le même que le serveur de publication (un serveur de distribution local), il peut également être différent (un serveur de distribution distant).</span><span class="sxs-lookup"><span data-stu-id="0e2dd-128">By default, the Distributor is the same server as the Publisher (a local Distributor), but it can also be a separate server from the Publisher (a remote Distributor).</span></span> <span data-ttu-id="0e2dd-129">En règle générale, vous opterez pour un serveur de distribution distant si vous souhaitez :</span><span class="sxs-lookup"><span data-stu-id="0e2dd-129">Typically, you would choose to use a remote Distributor if you want to:</span></span>  
  
-   <span data-ttu-id="0e2dd-130">transférer une partie du traitement vers un autre ordinateur pour que la réplication ait une incidence mineure sur le serveur de publication (par exemple, s'il s'agit d'un serveur OLTP) ;</span><span class="sxs-lookup"><span data-stu-id="0e2dd-130">Offload processing to another computer if you want minimal impact from replication on the Publisher (for example, if the Publisher is an OLTP server).</span></span>  
  
-   <span data-ttu-id="0e2dd-131">configurer un serveur de distribution centralisé pour plusieurs serveurs de publication.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-131">Configure a centralized Distributor for multiple Publishers.</span></span>  
  
 <span data-ttu-id="0e2dd-132">Les serveurs de distribution distants sont plus utilisés pour la réplication transactionnelle que pour la réplication de fusion et ce, pour deux raisons :</span><span class="sxs-lookup"><span data-stu-id="0e2dd-132">Remote Distributors are more common in transactional replication than they are in merge replication for two reasons:</span></span>  
  
-   <span data-ttu-id="0e2dd-133">Le serveur de distribution joue un rôle plus important dans la réplication transactionnelle car toutes les transactions répliquées sont lues et écrites dans la base de données de distribution.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-133">The Distributor plays a larger role in transactional replication because all replicated transactions are written to and read from the distribution database.</span></span>  
  
-   <span data-ttu-id="0e2dd-134">Les topologies de réplication de fusion utilisent généralement des abonnements extraits de sorte que les Agents s'exécutent sur chaque Abonné, plutôt qu'ils s'exécutent tous sur le serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-134">Merge replication topologies typically use pull subscriptions, so agents run at each Subscriber, rather than all running at the Distributor.</span></span> <span data-ttu-id="0e2dd-135">Pour plus d’informations, consultez [S’abonner à des publications](subscribe-to-publications.md).</span><span class="sxs-lookup"><span data-stu-id="0e2dd-135">For more information, see [Subscribe to Publications](subscribe-to-publications.md).</span></span> <span data-ttu-id="0e2dd-136">Dans la plupart des cas, vous devez utiliser un serveur de distribution local pour la réplication de fusion.</span><span class="sxs-lookup"><span data-stu-id="0e2dd-136">In most cases, you should use a local Distributor for merge replication.</span></span>  
  
 <span data-ttu-id="0e2dd-137">Pour configurer la publication et la distribution, consultez [Configure Publishing and Distribution](configure-publishing-and-distribution.md).</span><span class="sxs-lookup"><span data-stu-id="0e2dd-137">To configure publishing and distribution, see [Configure Publishing and Distribution](configure-publishing-and-distribution.md).</span></span>  
  
 <span data-ttu-id="0e2dd-138">Pour modifier les propriétés d'un serveur de distribution ou d'un serveur de publication, consultez [View and Modify Distributor and Publisher Properties](view-and-modify-distributor-and-publisher-properties.md).</span><span class="sxs-lookup"><span data-stu-id="0e2dd-138">To modify Publisher and Distributor properties, see [View and Modify Distributor and Publisher Properties](view-and-modify-distributor-and-publisher-properties.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0e2dd-139">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="0e2dd-139">See Also</span></span>  
 <span data-ttu-id="0e2dd-140">[Publier des données et des objets de base de données](publish/publish-data-and-database-objects.md) </span><span class="sxs-lookup"><span data-stu-id="0e2dd-140">[Publish Data and Database Objects](publish/publish-data-and-database-objects.md) </span></span>  
 [<span data-ttu-id="0e2dd-141">Sécuriser le serveur de distribution</span><span class="sxs-lookup"><span data-stu-id="0e2dd-141">Secure the Distributor</span></span>](security/secure-the-distributor.md)  
  
  
