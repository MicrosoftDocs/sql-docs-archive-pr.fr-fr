---
title: MSSQL_ENG018752 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- MSSQL_ENG018752 error
ms.assetid: 405b2655-acb4-4e15-bcc6-b8f86bb22b37
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: fe62d540ea8e988cd4249112f196f75493a8f623
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87708187"
---
# <a name="mssql_eng018752"></a><span data-ttu-id="b49a8-102">MSSQL_ENG018752</span><span class="sxs-lookup"><span data-stu-id="b49a8-102">MSSQL_ENG018752</span></span>
    
## <a name="message-details"></a><span data-ttu-id="b49a8-103">Détails du message</span><span class="sxs-lookup"><span data-stu-id="b49a8-103">Message Details</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="b49a8-104">Nom du produit</span><span class="sxs-lookup"><span data-stu-id="b49a8-104">Product Name</span></span>|<span data-ttu-id="b49a8-105">SQL Server</span><span class="sxs-lookup"><span data-stu-id="b49a8-105">SQL Server</span></span>|  
|<span data-ttu-id="b49a8-106">ID de l’événement</span><span class="sxs-lookup"><span data-stu-id="b49a8-106">Event ID</span></span>|<span data-ttu-id="b49a8-107">18752</span><span class="sxs-lookup"><span data-stu-id="b49a8-107">18752</span></span>|  
|<span data-ttu-id="b49a8-108">Source de l’événement</span><span class="sxs-lookup"><span data-stu-id="b49a8-108">Event Source</span></span>|<span data-ttu-id="b49a8-109">MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="b49a8-109">MSSQLSERVER</span></span>|  
|<span data-ttu-id="b49a8-110">Composant</span><span class="sxs-lookup"><span data-stu-id="b49a8-110">Component</span></span>|[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]|  
|<span data-ttu-id="b49a8-111">Nom symbolique</span><span class="sxs-lookup"><span data-stu-id="b49a8-111">Symbolic Name</span></span>||  
|<span data-ttu-id="b49a8-112">Texte du message</span><span class="sxs-lookup"><span data-stu-id="b49a8-112">Message Text</span></span>|<span data-ttu-id="b49a8-113">Un seul Agent de lecture du journal ou une seule procédure liée au journal (sp_repldone, sp_replcmds et sp_replshowcmds) peut se connecter à une base de données à la fois.</span><span class="sxs-lookup"><span data-stu-id="b49a8-113">Only one Log Reader Agent or log-related procedure (sp_repldone, sp_replcmds, and sp_replshowcmds) can connect to a database at a time.</span></span> <span data-ttu-id="b49a8-114">Si vous avez exécuté une procédure liée au journal, supprimez la connexion à travers laquelle fut exécutée la procédure ou exécutez sp_replflush sur cette connexion avant de démarrer l'Agent de lecture du journal ou d'exécuter toute autre procédure liée au journal.</span><span class="sxs-lookup"><span data-stu-id="b49a8-114">If you executed a log-related procedure, drop the connection over which the procedure was executed or execute sp_replflush over that connection before starting the Log Reader Agent or executing another log-related procedure.</span></span>|  
  
## <a name="explanation"></a><span data-ttu-id="b49a8-115">Explication</span><span class="sxs-lookup"><span data-stu-id="b49a8-115">Explanation</span></span>  
 <span data-ttu-id="b49a8-116">Plusieurs connexions tentent actuellement d'exécuter l'une des procédures suivantes : **sp_repldone**, **sp_replcmds**ou **sp_replshowcmds**.</span><span class="sxs-lookup"><span data-stu-id="b49a8-116">More than one current connection is trying to execute any of the following: **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds**.</span></span> <span data-ttu-id="b49a8-117">Les procédures stockées [sp_repldone &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-repldone-transact-sql) et [sp_replcmds &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql) sont utilisées par l’Agent de lecture du journal pour détecter et mettre à jour les informations relatives aux transactions répliquées dans une base de données publiée.</span><span class="sxs-lookup"><span data-stu-id="b49a8-117">The stored procedures [sp_repldone &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-repldone-transact-sql) and [sp_replcmds &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql) are stored procedures used by the Log Reader Agent to locate and update information about replicated transactions in a published database.</span></span> <span data-ttu-id="b49a8-118">La procédure stockée [sp_replshowcmds &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replshowcmds-transact-sql) est utilisée pour résoudre certains problèmes rencontrés en réplication transactionnelle.</span><span class="sxs-lookup"><span data-stu-id="b49a8-118">The stored procedure [sp_replshowcmds &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replshowcmds-transact-sql) is used to troubleshoot certain types of issues with transactional replication.</span></span>  
  
 <span data-ttu-id="b49a8-119">Cette erreur se produit dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="b49a8-119">This error is raised in the following circumstances:</span></span>  
  
-   <span data-ttu-id="b49a8-120">Si l'Agent de lecture du journal d'une base de données publiée est en cours d'exécution et si un deuxième Agent de lecture de journal tente de s'exécuter sur la même base de données, cette erreur est émise pour le second agent et apparaît dans l'historique de l'agent.</span><span class="sxs-lookup"><span data-stu-id="b49a8-120">If the Log Reader Agent for a published database is running and a second Log Reader Agent attempts to run against the same database, the error is raised for the second agent and appears in the agent history.</span></span>  
  
     <span data-ttu-id="b49a8-121">Dans les situations où plusieurs agents sont impliqués, il est possible que l'un d'entre eux résulte d'un processus orphelin.</span><span class="sxs-lookup"><span data-stu-id="b49a8-121">In a situation where it appears there are multiple agents, it is possible that one of them is the result of an orphaned process.</span></span>  
  
-   <span data-ttu-id="b49a8-122">Si l'Agent de lecture du journal d'une base de données publiée est démarré et qu'un utilisateur exécute **sp_repldone**, **sp_replcmds**ou **sp_replshowcmds** sur la même base de données, cette erreur est émise dans l'application où la procédure stockée a été exécutée (par exemple **sqlcmd**).</span><span class="sxs-lookup"><span data-stu-id="b49a8-122">If the Log Reader Agent for a published database is started and a user executes **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds** against the same database, the error is raised in the application where the stored procedure was executed (such as **sqlcmd**).</span></span>  
  
-   <span data-ttu-id="b49a8-123">Si aucun Agent de lecture de journal n'est en cours d'exécution sur une base de données publiée et si un utilisateur exécute **sp_repldone**, **sp_replcmds**ou **sp_replshowcmds** , puis omet de fermer la connexion sur laquelle la procédure a été exécutée, cette erreur est générée lorsque l'Agent de lecture de journal tente de se connecter à la base de données.</span><span class="sxs-lookup"><span data-stu-id="b49a8-123">If no Log Reader Agent is running for a published database and a user executes **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds** and then does not close the connection over which the procedure was executed, the error is raised when the Log Reader Agent attempts to connect to the database.</span></span>  
  
## <a name="user-action"></a><span data-ttu-id="b49a8-124">Action de l'utilisateur</span><span class="sxs-lookup"><span data-stu-id="b49a8-124">User Action</span></span>  
 <span data-ttu-id="b49a8-125">La procédure suivante peut vous aider à résoudre ce problème.</span><span class="sxs-lookup"><span data-stu-id="b49a8-125">The following steps can help you to troubleshoot the problem.</span></span> <span data-ttu-id="b49a8-126">Si l'une des étapes permet à l'Agent de lecture de journal de démarrer sans erreur, il n'est pas nécessaire d'exécuter le reste de la procédure.</span><span class="sxs-lookup"><span data-stu-id="b49a8-126">If any step allows the Log Reader Agent to start without errors, there is no need to complete the remaining steps.</span></span>  
  
-   <span data-ttu-id="b49a8-127">Vérifiez dans l'historique de l'Agent de lecture de journal s'il y a d'autres erreurs qui pourraient être cause de cette erreur.</span><span class="sxs-lookup"><span data-stu-id="b49a8-127">Check the history of the Log Reader agent for any other errors that could be contributing to this error.</span></span> <span data-ttu-id="b49a8-128">Pour obtenir des informations sur l’affichage de l’état de l’agent et des détails de l’erreur dans le moniteur de réplication, consultez [Afficher des informations et effectuer des tâches à l’aide du moniteur de réplication](monitor/view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="b49a8-128">For information about viewing agent status and error details in Replication Monitor, see [View Information and Perform Tasks using Replication Monitor](monitor/view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
-   <span data-ttu-id="b49a8-129">Recherchez dans le résultat de [sp_who &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-who-transact-sql) s’il existe des numéros spécifiques d’identification de processus (SPID) relatifs à la base de données publiée.</span><span class="sxs-lookup"><span data-stu-id="b49a8-129">Check the output of [sp_who &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-who-transact-sql) for specific process identification numbers (SPIDs) that are connected to the published database.</span></span> <span data-ttu-id="b49a8-130">Fermez toute connexion susceptible d'avoir exécuté **sp_repldone**, **sp_replcmds**ou **sp_replshowcmds**.</span><span class="sxs-lookup"><span data-stu-id="b49a8-130">Close any connections that might have run **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds**.</span></span>  
  
-   <span data-ttu-id="b49a8-131">Redémarrez l'Agent de lecture du journal.</span><span class="sxs-lookup"><span data-stu-id="b49a8-131">Restart the Log Reader Agent.</span></span> <span data-ttu-id="b49a8-132">Pour plus d’informations, consultez [Démarrer et arrêter un Agent de réplication &#40;SQL Server Management Studio&#41;](agents/start-and-stop-a-replication-agent-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="b49a8-132">For more information, see [Start and Stop a Replication Agent &#40;SQL Server Management Studio&#41;](agents/start-and-stop-a-replication-agent-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="b49a8-133">Redémarrez le service de l'Agent [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (mettez-le hors ligne ou en ligne dans un cluster) sur le serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="b49a8-133">Restart the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service (bring it offline or online in a cluster) on the Distributor.</span></span> <span data-ttu-id="b49a8-134">S'il est possible qu'une tâche planifiée ait exécuté **sp_repldone**, **sp_replcmds**ou **sp_replshowcmds** à partir d'autres instances [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , redémarrez également l'Agent [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour ces instances.</span><span class="sxs-lookup"><span data-stu-id="b49a8-134">If there is possibility that a scheduled job could have executed **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds** from any other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance, restart the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent for those instances as well.</span></span> <span data-ttu-id="b49a8-135">Pour plus d’informations, consultez [Démarrer, arrêter ou suspendre le service SQL Server Agent](../../ssms/agent/start-stop-or-pause-the-sql-server-agent-service.md).</span><span class="sxs-lookup"><span data-stu-id="b49a8-135">For more information, see [Start, Stop, or Pause the SQL Server Agent Service](../../ssms/agent/start-stop-or-pause-the-sql-server-agent-service.md).</span></span>  
  
-   <span data-ttu-id="b49a8-136">Exécutez [sp_replflush &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replflush-transact-sql) sur le serveur de publication sur la base de données de publication, puis redémarrez l’Agent de lecture du journal.</span><span class="sxs-lookup"><span data-stu-id="b49a8-136">Execute [sp_replflush &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replflush-transact-sql) at the Publisher on the publication database, and then restart the Log Reader Agent.</span></span>  
  
-   <span data-ttu-id="b49a8-137">Si l'erreur continue de se produire, augmentez le facteur de journalisation de l'agent et spécifiez un fichier de sortie pour le journal.</span><span class="sxs-lookup"><span data-stu-id="b49a8-137">If the error continues to occur, increase the logging of the agent and specify an output file for the log.</span></span> <span data-ttu-id="b49a8-138">En fonction du contexte de l'erreur, cette action peut fournir des pistes conduisant à l'erreur et/ou à d'autres messages d'erreur.</span><span class="sxs-lookup"><span data-stu-id="b49a8-138">Depending on the context of the error, this could provide the steps leading up to the error and/or additional error messages.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b49a8-139">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b49a8-139">See Also</span></span>  
 <span data-ttu-id="b49a8-140">[Guide de référence des erreurs et des événements &#40;réplication&#41;](errors-and-events-reference-replication.md) </span><span class="sxs-lookup"><span data-stu-id="b49a8-140">[Errors and Events Reference &#40;Replication&#41;](errors-and-events-reference-replication.md) </span></span>  
 [<span data-ttu-id="b49a8-141">Agent de lecture du journal des réplications</span><span class="sxs-lookup"><span data-stu-id="b49a8-141">Replication Log Reader Agent</span></span>](agents/replication-log-reader-agent.md)  
  
  
