---
title: Sécurité de l’Agent de distribution | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.security.DA.f1
helpviewer_keywords:
- Distribution Agent Security dialog box
ms.assetid: de40cc21-2e58-4464-9be7-b5b90c925e9b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: e4342d44a221d9b816a95a283917f005eb018827
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87601373"
---
# <a name="distribution-agent-security"></a><span data-ttu-id="43ead-102">Sécurité de l'Agent de distribution</span><span class="sxs-lookup"><span data-stu-id="43ead-102">Distribution Agent Security</span></span>
  <span data-ttu-id="43ead-103">La boîte de dialogue **Sécurité de l'Agent de distribution** permet de spécifier le compte Windows sous lequel s'exécute l'Agent de distribution.</span><span class="sxs-lookup"><span data-stu-id="43ead-103">The **Distribution Agent Security** dialog box allows you to specify the Windows account under which the Distribution Agent runs.</span></span> <span data-ttu-id="43ead-104">Cet agent s'exécute généralement sur le serveur de distribution pour les abonnements par envoi de données et sur l'Abonné pour les abonnements par extraction.</span><span class="sxs-lookup"><span data-stu-id="43ead-104">The Distribution Agent runs at the Distributor for push subscriptions and at the Subscriber for pull subscriptions.</span></span> <span data-ttu-id="43ead-105">Le compte [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows est également baptisé *compte de processus*du fait que le processus agent s'exécute sous ce compte.</span><span class="sxs-lookup"><span data-stu-id="43ead-105">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows account is also referred to as the *process account*, because the agent process runs under this account.</span></span> <span data-ttu-id="43ead-106">La boîte de dialogue propose des options supplémentaires en fonction de la façon d'y accéder :</span><span class="sxs-lookup"><span data-stu-id="43ead-106">Additional options available in the dialog box depend on how you access it:</span></span>  
  
-   <span data-ttu-id="43ead-107">Si vous accédez à la boîte de dialogue à partir de l'Assistant Nouvel abonnement, elle permet de spécifier le contexte dans lequel l'Agent de distribution établit les connexions avec l'Abonné (pour les abonnements par envoi de données) ou avec le serveur de distribution (pour les abonnements par extraction).</span><span class="sxs-lookup"><span data-stu-id="43ead-107">If the dialog box is accessed from the New Subscription Wizard, it also allows you to specify the context under which the Distribution Agent makes connections to the Subscriber (for push subscriptions) or the Distributor (for pull subscriptions).</span></span> <span data-ttu-id="43ead-108">La connexion peut avoir lieu en empruntant l’identité du compte Windows ou dans le contexte d’un compte [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="43ead-108">The connection can be made by impersonating the Windows account or under the context of a [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account you specify.</span></span>  
  
-   <span data-ttu-id="43ead-109">Si vous accédez à la boîte de dialogue à partir de la boîte de dialogue **Propriétés de l'abonnement** , spécifiez le contexte dans lequel l'Agent de distribution établit les connexions en cliquant sur le bouton des propriétés ( **...** ) dans **Connexion de l'Abonné** ou sur la ligne **Connexion du serveur de distribution** de cette boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="43ead-109">If the dialog box is accessed from the **Subscription Properties** dialog box, specify the context under which the Distribution Agent makes connections by clicking the properties button (**...**) in the **Subscriber Connection** or **Distributor Connection** row of that dialog box.</span></span> <span data-ttu-id="43ead-110">Pour plus d’informations sur l’accès à la boîte de dialogue **Propriétés de l’abonnement**, consultez [Afficher et modifier les propriétés d’un abonnement par émission de données](view-and-modify-push-subscription-properties.md) et la procédure indiquant comment [Afficher et modifier les propriétés d’un abonnement par extraction](view-and-modify-pull-subscription-properties.md).</span><span class="sxs-lookup"><span data-stu-id="43ead-110">For more information about accessing the **Subscription Properties** dialog box, see [View and Modify Push Subscription Properties](view-and-modify-push-subscription-properties.md) and how to: [View and Modify Pull Subscription Properties](view-and-modify-pull-subscription-properties.md).</span></span>  
  
 <span data-ttu-id="43ead-111">Tous les comptes doivent être valides, le mot de passe correct étant spécifié pour chaque compte.</span><span class="sxs-lookup"><span data-stu-id="43ead-111">All accounts must be valid, with the correct password specified for each account.</span></span> <span data-ttu-id="43ead-112">Les comptes et les mots de passe ne sont pas validés tant qu'un agent ne s'exécute pas.</span><span class="sxs-lookup"><span data-stu-id="43ead-112">Accounts and passwords are not validated until an agent runs.</span></span>  
  
## <a name="options"></a><span data-ttu-id="43ead-113">Options</span><span class="sxs-lookup"><span data-stu-id="43ead-113">Options</span></span>  
 <span data-ttu-id="43ead-114">**Process Account**</span><span class="sxs-lookup"><span data-stu-id="43ead-114">**Process Account**</span></span>  
 <span data-ttu-id="43ead-115">Entrez un compte Windows sous lequel l'Agent de distribution s'exécute :</span><span class="sxs-lookup"><span data-stu-id="43ead-115">Enter a Windows account under which the Distribution Agent runs:</span></span>  
  
-   <span data-ttu-id="43ead-116">Pour les abonnements par envoi de données, le compte doit :</span><span class="sxs-lookup"><span data-stu-id="43ead-116">For push subscriptions, the account must:</span></span>  
  
    -   <span data-ttu-id="43ead-117">être au moins un membre du rôle de base de données fixe **db_owner** dans la base de données de distribution ;</span><span class="sxs-lookup"><span data-stu-id="43ead-117">At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span>  
  
    -   <span data-ttu-id="43ead-118">être membre de la liste d'accès à la publication (PAL) ;</span><span class="sxs-lookup"><span data-stu-id="43ead-118">Be a member of the publication access list (PAL).</span></span>  
  
    -   <span data-ttu-id="43ead-119">avoir les autorisations de lecture sur le partage des fichiers d'instantanés.</span><span class="sxs-lookup"><span data-stu-id="43ead-119">Have read permissions on the snapshot share.</span></span>  
  
    -   <span data-ttu-id="43ead-120">avoir les autorisations de lecture dans le répertoire d'installation du fournisseur OLE DB de l'Abonné si l'abonnement concerne un Abonné non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43ead-120">Have read permissions on the install directory of the OLE DB provider for the Subscriber if the subscription is for a non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscriber.</span></span>  
  
-   <span data-ttu-id="43ead-121">Pour les abonnements par extraction, le compte doit être au moins un membre du rôle de base de données fixe **db_owner** dans la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="43ead-121">For pull subscriptions, the account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>  
  
 <span data-ttu-id="43ead-122">Des autorisations supplémentaires sont indispensables si l'identité du compte de processus est empruntée lorsque les connexions sont établies.</span><span class="sxs-lookup"><span data-stu-id="43ead-122">Additional permissions are required if the process account is impersonated when connections are made.</span></span> <span data-ttu-id="43ead-123">Voir les paragraphes **Se connecter au serveur de distribution** et **Connexion à l'Abonné** ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="43ead-123">See the **Connect to the Distributor** and **Connect to the Subscriber** sections below.</span></span>  
  
 <span data-ttu-id="43ead-124">Le**compte de processus** ne peut être indiqué à [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] pour des abonnements par extraction, car l’Agent de distribution ne s’exécute pas sur des instances de [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43ead-124">**Process Account** cannot be specified for pull subscriptions to [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], because the Distribution Agent does not run on instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].</span></span>  
  
 <span data-ttu-id="43ead-125">**Mot de passe** et **Confirmer le mot de passe**</span><span class="sxs-lookup"><span data-stu-id="43ead-125">**Password** and **Confirm Password**</span></span>  
 <span data-ttu-id="43ead-126">Entrez le mot de passe du compte Windows.</span><span class="sxs-lookup"><span data-stu-id="43ead-126">Enter the password for the Windows account.</span></span>  
  
 <span data-ttu-id="43ead-127">**Se connecter au serveur de distribution**</span><span class="sxs-lookup"><span data-stu-id="43ead-127">**Connect to the Distributor**</span></span>  
 <span data-ttu-id="43ead-128">Pour les abonnements par envoi de données, les connexions au serveur de distribution ont toujours lieu en empruntant l'identité du compte spécifié dans la zone de texte **Compte de processus** .</span><span class="sxs-lookup"><span data-stu-id="43ead-128">For push subscriptions, connections to the Distributor are always made by impersonating the account specified in the **Process account** text box.</span></span>  
  
 <span data-ttu-id="43ead-129">Pour les abonnements par extraction, choisissez si l'Agent de distribution doit établir les connexions avec le serveur de distribution en empruntant l'identité du compte spécifié dans la zone de texte **Compte de processus** ou en utilisant un compte [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43ead-129">For pull subscriptions, select whether the Distribution Agent should make connections to the Distributor by impersonating the account specified in the **Process account** text box or by using a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account.</span></span> <span data-ttu-id="43ead-130">Si vous choisissez d'utiliser un compte [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , entrez un nom de connexion et un mot de passe [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43ead-130">If you select to use a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account, enter a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login and password.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="43ead-131">Il est recommandé de choisir d'emprunter l'identité du compte Windows plutôt que d'utiliser un compte [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43ead-131">It is recommended that you select to impersonate the Windows account rather than using a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account.</span></span>  
  
 <span data-ttu-id="43ead-132">Le compte Windows ou [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilisé pour la connexion doit :</span><span class="sxs-lookup"><span data-stu-id="43ead-132">The Windows account or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account used for the connection must:</span></span>  
  
-   <span data-ttu-id="43ead-133">être membre de la liste d'accès à la publication (PAL) ;</span><span class="sxs-lookup"><span data-stu-id="43ead-133">Be a member of the PAL.</span></span>  
  
-   <span data-ttu-id="43ead-134">avoir les autorisations de lecture sur le partage des fichiers d'instantanés.</span><span class="sxs-lookup"><span data-stu-id="43ead-134">Have read permissions on the snapshot share.</span></span>  
  
 <span data-ttu-id="43ead-135">**Connexion à l'Abonné**</span><span class="sxs-lookup"><span data-stu-id="43ead-135">**Connect to the Subscriber**</span></span>  
 <span data-ttu-id="43ead-136">Pour les abonnements par extraction, les connexions à l'Abonné ont toujours lieu en empruntant l'identité du compte spécifié dans la zone de texte **Compte de processus** .</span><span class="sxs-lookup"><span data-stu-id="43ead-136">For pull subscriptions, connections to the Subscriber are always made by impersonating the account specified in the **Process account** text box.</span></span>  
  
 <span data-ttu-id="43ead-137">Pour les abonnements par envoi de données, les options sont différentes pour les Abonnés [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] et non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="43ead-137">For push subscriptions, the options are different for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers and non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers:</span></span>  
  
-   <span data-ttu-id="43ead-138">Pour les Abonnés [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] : choisissez si l'Agent de distribution doit établir les connexions avec l'Abonné en empruntant l'identité du compte spécifié dans la zone de texte **Compte de processus** ou en utilisant un compte [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43ead-138">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers: select whether the Distribution Agent should make connections to the Subscriber by impersonating the account specified in the **Process account** text box or by using a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account.</span></span> <span data-ttu-id="43ead-139">Si vous choisissez d'utiliser un compte [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , entrez un nom de connexion et un mot de passe [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43ead-139">If you select to use a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account, enter a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login and password.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="43ead-140">Il est recommandé de choisir d'emprunter l'identité du compte Windows plutôt que d'utiliser un compte [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43ead-140">It is recommended that you select to impersonate the Windows account rather than using a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account.</span></span>  
  
     <span data-ttu-id="43ead-141">Le compte Windows ou [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilisé pour la connexion avec l'abonné doit être au moins un membre du rôle de base de données fixe **db_owner** dans la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="43ead-141">The Windows account or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account used for the connection to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>  
  
-   <span data-ttu-id="43ead-142">Pour les Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , spécifiez la connexion avec la base de données qui doit être utilisée lorsque l'Agent de distribution se connecte à l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="43ead-142">For non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers, specify the database login at the Subscriber that should be used when the Distribution Agent connects to the Subscriber.</span></span> <span data-ttu-id="43ead-143">La connexion doit avoir les autorisations suffisantes pour créer des objets dans la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="43ead-143">The login should have sufficient permissions to create objects in the subscription database.</span></span> <span data-ttu-id="43ead-144">Pour plus d’informations sur la configuration d’abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], consultez [Créer un abonnement pour un abonné non-SQL Server](create-a-subscription-for-a-non-sql-server-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="43ead-144">For more information about configuring non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers, see [Create a Subscription for a Non-SQL Server Subscriber](create-a-subscription-for-a-non-sql-server-subscriber.md).</span></span>  
  
 <span data-ttu-id="43ead-145">**Options de connexion supplémentaires**</span><span class="sxs-lookup"><span data-stu-id="43ead-145">**Additional connection options**</span></span>  
 <span data-ttu-id="43ead-146">Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] uniquement.</span><span class="sxs-lookup"><span data-stu-id="43ead-146">Non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers only.</span></span> <span data-ttu-id="43ead-147">Spécifiez les options de connexion de l'Abonné sous forme d'une chaîne de connexion (Oracle n'exige pas d'option supplémentaire).</span><span class="sxs-lookup"><span data-stu-id="43ead-147">Specify any connection options for the Subscriber in the form of a connection string (Oracle does not require additional options).</span></span> <span data-ttu-id="43ead-148">Chaque option doit être délimitée par un point-virgule.</span><span class="sxs-lookup"><span data-stu-id="43ead-148">Each option should be separated by a semi-colon.</span></span> <span data-ttu-id="43ead-149">Trouvez ci-dessous un exemple d'une chaîne de connexion IBM DB2 (les sauts de lignes facilitent la lecture) :</span><span class="sxs-lookup"><span data-stu-id="43ead-149">The following is an example of an IBM DB2 connection string (line breaks are for readability):</span></span>  
  
```  
Provider=DB2OLEDB;Initial Catalog=MY_SUBSCRIBER_DB;Network Transport Library=TCP;Host CCSID=1252;  
PC Code Page=1252;Network Address=MY_SUBSCRIBER;Network Port=50000;Package Collection=MY_PKGCOL;  
Default Schema=MY_SCHEMA;Process Binary as Character=False;Units of Work=RUW;DBMS Platform=DB2/NT;  
Persist Security Info=False;Connection Pooling=True;  
```  
  
 <span data-ttu-id="43ead-150">La plupart des options de cette chaîne sont spécifiques du serveur DB2 que vous configurez, mais vous devez attribuer à l'option **Traiter les données binaires comme des caractères** la valeur **False**.</span><span class="sxs-lookup"><span data-stu-id="43ead-150">Most of the options in the string are specific to the DB2 server you are configuring, but the **Process Binary as Character** option should always be set to **False**.</span></span> <span data-ttu-id="43ead-151">Une valeur est exigée de façon que l'option **Catalogue initial** identifie la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="43ead-151">A value is required for the **Initial Catalog** option to identify the subscription database.</span></span> <span data-ttu-id="43ead-152">Pour plus d’informations, voir [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="43ead-152">For more information, see [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="43ead-153">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="43ead-153">See Also</span></span>  
 <span data-ttu-id="43ead-154">[Gérer les comptes de connexion et les mots de passe dans la réplication](security/identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication) </span><span class="sxs-lookup"><span data-stu-id="43ead-154">[Manage Logins and Passwords in Replication](security/identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication) </span></span>  
 <span data-ttu-id="43ead-155">[Modèle de sécurité de l’Agent de réplication](security/replication-agent-security-model.md) </span><span class="sxs-lookup"><span data-stu-id="43ead-155">[Replication Agent Security Model](security/replication-agent-security-model.md) </span></span>  
 <span data-ttu-id="43ead-156">[Présentation des Agents de réplication](agents/replication-agents-overview.md) </span><span class="sxs-lookup"><span data-stu-id="43ead-156">[Replication Agents Overview](agents/replication-agents-overview.md) </span></span>  
 <span data-ttu-id="43ead-157">[Replication Security Best Practices](security/replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="43ead-157">[Replication Security Best Practices](security/replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="43ead-158">S'abonner à des publications</span><span class="sxs-lookup"><span data-stu-id="43ead-158">Subscribe to Publications</span></span>](subscribe-to-publications.md)  
  
  
