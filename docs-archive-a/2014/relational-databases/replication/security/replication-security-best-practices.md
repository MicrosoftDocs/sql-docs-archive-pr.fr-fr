---
title: Bonnes pratiques en matière de sécurité de la réplication | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- security [SQL Server replication], best practices
- security [SQL Server replication], between domains
- authentication [SQL Server replication]
- Internet [SQL Server replication], security
ms.assetid: 1ab2635d-0992-4c99-b17d-041d02ec9a7c
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 8e5918bfed52a6ed1befd81d2fdb7910062060e6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87599883"
---
# <a name="replication-security-best-practices"></a><span data-ttu-id="a9626-102">Méthodes préconisées en matière de sécurité de réplication</span><span class="sxs-lookup"><span data-stu-id="a9626-102">Replication Security Best Practices</span></span>
  <span data-ttu-id="a9626-103">La réplication permet de déplacer des données d'environnements distribués qui englobent tant des intranets sur un domaine unique que des applications accédant à des données entre des domaines non approuvés et sur Internet.</span><span class="sxs-lookup"><span data-stu-id="a9626-103">Replication moves data in distributed environments ranging from intranets on a single domain to applications that access data between untrusted domains and over the Internet.</span></span> <span data-ttu-id="a9626-104">Il est important de bien connaître toutes les méthodes de sécurisation des connexions de réplication afin de choisir celle qui répond le mieux à la situation.</span><span class="sxs-lookup"><span data-stu-id="a9626-104">It is important to understand the best approach for securing replication connections under these different circumstances.</span></span>  
  
 <span data-ttu-id="a9626-105">Les informations suivantes concernent la réplication dans tous les environnements :</span><span class="sxs-lookup"><span data-stu-id="a9626-105">The following information is relevant to replication in all environments:</span></span>  
  
-   <span data-ttu-id="a9626-106">Chiffrez les connexions entre des ordinateurs d'une topologie de réplication à l'aide d'une méthode standard dans l'industrie, telle que les réseaux privés virtuels (VPN, Virtual Private Networks), SSL (Secure Sockets Layer) et IPSEC (IP Security).</span><span class="sxs-lookup"><span data-stu-id="a9626-106">Encrypt the connections between computers in a replication topology using an industry standard method, such as Virtual Private Networks (VPN), Secure Sockets Layer (SSL), or IP Security (IPSEC).</span></span> <span data-ttu-id="a9626-107">Pour plus d’informations, consultez [Activer des connexions chiffrées dans le moteur de base de données &#40;Gestionnaire de configuration SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="a9626-107">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span> <span data-ttu-id="a9626-108">Pour plus d'informations sur l'utilisation des réseaux VPN et de SSL pour répliquer les données sur Internet, consultez [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span><span class="sxs-lookup"><span data-stu-id="a9626-108">For information about using VPN and SSL for replicating data over the Internet, see [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span></span>  
  
     <span data-ttu-id="a9626-109">Si vous utilisez SSL pour sécuriser les connexions entre ordinateurs dans une topologie de réplication, spécifiez la valeur **1** ou **2** pour le paramètre **-EncryptionLevel** de chaque agent de réplication (la valeur **2** est recommandée).</span><span class="sxs-lookup"><span data-stu-id="a9626-109">If you use SSL to secure the connections between computers in a replication topology, specify a value of **1** or **2** for the **-EncryptionLevel** parameter of each replication agent (a value of **2** is recommended).</span></span> <span data-ttu-id="a9626-110">La valeur **1** spécifie que le chiffrement est utilisé, mais que l'agent ne vérifie pas si le certificat de serveur SSL est signé par un émetteur fiable ; la valeur **2** indique que le certificat est vérifié.</span><span class="sxs-lookup"><span data-stu-id="a9626-110">A value of **1** specifies that encryption is used, but the agent does not verify that the SSL server certificate is signed by a trusted issuer; a value of **2** specifies that the certificate is verified.</span></span> <span data-ttu-id="a9626-111">Les paramètres des agents peuvent être spécifiés dans des profils d'agent et sur la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="a9626-111">Agent parameters can be specified in agent profiles and on the command line.</span></span> <span data-ttu-id="a9626-112">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="a9626-112">For more information, see:</span></span>  
  
    -   [<span data-ttu-id="a9626-113">Utiliser des profils d’agent de réplication</span><span class="sxs-lookup"><span data-stu-id="a9626-113">Work with Replication Agent Profiles</span></span>](../agents/replication-agent-profiles.md)  
  
    -   [<span data-ttu-id="a9626-114">Afficher et modifier des paramètres d’invite de commandes d’un Agent de réplication &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="a9626-114">View and Modify Replication Agent Command Prompt Parameters &#40;SQL Server Management Studio&#41;</span></span>](../agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
    -   [<span data-ttu-id="a9626-115">Concepts des exécutables de l'agent de réplication</span><span class="sxs-lookup"><span data-stu-id="a9626-115">Replication Agent Executables Concepts</span></span>](../concepts/replication-agent-executables-concepts.md)  
  
-   <span data-ttu-id="a9626-116">Exécutez chaque agent de réplication sous un compte Windows différent et utilisez l'authentification Windows pour toutes les connexions des agents de réplication.</span><span class="sxs-lookup"><span data-stu-id="a9626-116">Run each replication agent under a different Windows account, and use Windows Authentication for all replication agent connections.</span></span> <span data-ttu-id="a9626-117">Pour plus d’informations sur la spécification de comptes, consultez [Gérer les connexions et les mots de passe dans la réplication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span><span class="sxs-lookup"><span data-stu-id="a9626-117">For more information about specifying accounts, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
-   <span data-ttu-id="a9626-118">Accordez à chaque agent les autorisations dont ils ont besoin et pas davantage.</span><span class="sxs-lookup"><span data-stu-id="a9626-118">Grant only the required permissions to each agent.</span></span> <span data-ttu-id="a9626-119">Pour plus d'informations, consultez la section « Autorisations requises par les agents » de [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="a9626-119">For more information, see the "Permissions Required by Agents" section of [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
-   <span data-ttu-id="a9626-120">Vérifiez que tous les comptes de l'Agent de fusion et de l'Agent de distribution figurent dans la liste d'accès à la publication.</span><span class="sxs-lookup"><span data-stu-id="a9626-120">Ensure all Merge Agent and Distribution Agent accounts are in the publication access list (PAL).</span></span> <span data-ttu-id="a9626-121">Pour plus d’informations, consultez [Sécuriser le serveur de publication](secure-the-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="a9626-121">For more information, see [Secure the Publisher](secure-the-publisher.md).</span></span>  
  
-   <span data-ttu-id="a9626-122">Suivez le principe du moindre privilège en n'accordant aux comptes de la liste d'accès à la publication que les autorisations nécessaires pour effectuer des tâches de réplication.</span><span class="sxs-lookup"><span data-stu-id="a9626-122">Follow the principle of least privilege by allowing accounts in the PAL only the permissions they need to perform replication tasks.</span></span> <span data-ttu-id="a9626-123">N'ajoutez pas de connexions inutiles pour la réplication aux rôles de serveur fixe.</span><span class="sxs-lookup"><span data-stu-id="a9626-123">Do not add the logins to any fixed server roles that are not required for replication.</span></span>  
  
-   <span data-ttu-id="a9626-124">Configurez le partage d'instantanés de telle sorte que tous les Agent de fusion et tous les Agents de distribution puissent disposer d'un accès en lecture.</span><span class="sxs-lookup"><span data-stu-id="a9626-124">Configure the snapshot share to allow read access by all Merge Agents and Distribution Agents.</span></span> <span data-ttu-id="a9626-125">Dans le cas d'instantanés pour des publications avec des filtres paramétrés, vérifiez que chaque dossier est configuré pour n'autoriser l'accès qu'aux comptes appropriés de l'Agent de fusion.</span><span class="sxs-lookup"><span data-stu-id="a9626-125">In the case of snapshots for publications with parameterized filters, ensure that each folder is configured to allow access only to the appropriate Merge Agent accounts.</span></span>  
  
-   <span data-ttu-id="a9626-126">Configurez le partage d'instantanés de telle sorte que l'Agent d'instantané puisse disposer d'un accès en écriture.</span><span class="sxs-lookup"><span data-stu-id="a9626-126">Configure the snapshot share to allow write access by the Snapshot Agent.</span></span>  
  
-   <span data-ttu-id="a9626-127">Si vous utilisez des abonnements par extraction de données (pull), préférez l'utilisation d'un partage réseau à un chemin d'accès local du dossier d'instantanés.</span><span class="sxs-lookup"><span data-stu-id="a9626-127">If you use pull subscriptions, use a network share rather than a local path for the snapshot folder.</span></span>  
  
 <span data-ttu-id="a9626-128">Si votre topologie de réplication comprend des ordinateurs qui se trouvent dans des domaines différents ou dans des domaines sans relations de confiance, vous pouvez utiliser l'authentification Windows ou l'authentification [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pour les connexions établies par des agents (pour plus d'informations sur les domaines, consultez la cocumentation Windows).</span><span class="sxs-lookup"><span data-stu-id="a9626-128">If your replication topology includes computers that are not in the same domain or are in domains that do not have trust relationships with each other, you can use Windows Authentication or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication for the connections made by agents (For more information about domains, see the Windows documentation).</span></span> <span data-ttu-id="a9626-129">L'authentification Windows est une méthode de sécurité préconisée.</span><span class="sxs-lookup"><span data-stu-id="a9626-129">It is recommended as a security best practice that you use Windows Authentication.</span></span>  
  
-   <span data-ttu-id="a9626-130">Pour utiliser l'authentification Windows</span><span class="sxs-lookup"><span data-stu-id="a9626-130">To use Windows Authentication:</span></span>  
  
    -   <span data-ttu-id="a9626-131">Ajoutez un compte Windows local (et non un compte de domaine) pour chaque agent sur les nœuds appropriés (utilisez le même nom et le même mot de passe sur chaque nœud).</span><span class="sxs-lookup"><span data-stu-id="a9626-131">Add a local Windows account (not a domain account) for each agent at the appropriate nodes (use the same name and password at each node).</span></span> <span data-ttu-id="a9626-132">Par exemple, l'Agent de distribution d'un abonnement par envoi de données (push) s'exécute sur le serveur de distribution et établit des connexions avec le serveur de distribution et l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="a9626-132">For example, the Distribution Agent for a push subscription runs at the Distributor and makes connections to the Distributor and Subscriber.</span></span> <span data-ttu-id="a9626-133">Le compte Windows de l'Agent de distribution doit être ajouté au serveur de distribution et à l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="a9626-133">The Windows account for the Distribution Agent should be added to the Distributor and Subscriber.</span></span>  
  
    -   <span data-ttu-id="a9626-134">Vérifiez qu'un agent donné (par exemple, l'Agent de distribution pour un abonnement) s'exécute sous le même compte sur chaque ordinateur.</span><span class="sxs-lookup"><span data-stu-id="a9626-134">Ensure that a given agent (for example the Distribution Agent for a subscription) runs under the same account at each computer.</span></span>  
  
-   <span data-ttu-id="a9626-135">Pour utiliser l'authentification [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="a9626-135">To use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication:</span></span>  
  
    -   <span data-ttu-id="a9626-136">Ajoutez un compe [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pour chaque agent sur les nœuds appropriés (utilisez le même nom de compte et le même mot de passe sur chaque nœud).</span><span class="sxs-lookup"><span data-stu-id="a9626-136">Add a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] account for each agent at the appropriate nodes (use the same account name and password at each node).</span></span> <span data-ttu-id="a9626-137">Par exemple, l'Agent de distribution d'un abonnement par envoi de données (push) s'exécute sur le serveur de distribution et établit des connexions avec le serveur de distribution et l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="a9626-137">For example, the Distribution Agent for a push subscription runs at the Distributor and makes connections to the Distributor and Subscriber.</span></span> <span data-ttu-id="a9626-138">Le compte [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] de l'Agent de distribution doit être ajouté au serveur de distribution et à l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="a9626-138">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] account for the Distribution Agent should be added to the Distributor and Subscriber.</span></span>  
  
    -   <span data-ttu-id="a9626-139">Vérifiez qu'un agent donné (par exemple, l'Agent de distribution d'un abonnement) établit des connexions sous le même compte sur chaque ordinateur.</span><span class="sxs-lookup"><span data-stu-id="a9626-139">Ensure that a given agent (for example the Distribution Agent for a subscription) makes connections under the same account at each computer.</span></span>  
  
    -   <span data-ttu-id="a9626-140">Dans les situations exigeant l'authentification [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , l'accès aux partages d'instantanés UNC n'est souvent pas disponible (par exemple, l'accès peut être bloqué par un pare-feu).</span><span class="sxs-lookup"><span data-stu-id="a9626-140">In situations that require [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication, access to UNC snapshot shares is often not available (for example access might be blocked by a firewall).</span></span> <span data-ttu-id="a9626-141">Dans ce cas, vous pouvez transférer l'instantané aux abonnés via FTP (File Transfer Protocol).</span><span class="sxs-lookup"><span data-stu-id="a9626-141">In this case, you can transfer the snapshot to Subscribers through file transfer protocol (FTP).</span></span> <span data-ttu-id="a9626-142">Pour plus d’informations, consultez [Transférer des instantanés via FTP](../transfer-snapshots-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="a9626-142">For more information, see [Transfer Snapshots Through FTP](../transfer-snapshots-through-ftp.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a9626-143">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="a9626-143">See Also</span></span>  
 <span data-ttu-id="a9626-144">[Activer les connexions chiffrées dans le moteur de base de données &#40;Gestionnaire de configuration SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="a9626-144">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="a9626-145">[Réplication sur Internet](../replication-over-the-internet.md) </span><span class="sxs-lookup"><span data-stu-id="a9626-145">[Replication over the Internet](../replication-over-the-internet.md) </span></span>  
 <span data-ttu-id="a9626-146">[Sécuriser l’abonné](secure-the-subscriber.md) </span><span class="sxs-lookup"><span data-stu-id="a9626-146">[Secure the Subscriber](secure-the-subscriber.md) </span></span>  
 <span data-ttu-id="a9626-147">[Protéger le serveur de distribution](secure-the-distributor.md) </span><span class="sxs-lookup"><span data-stu-id="a9626-147">[Secure the Distributor](secure-the-distributor.md) </span></span>  
 <span data-ttu-id="a9626-148">[Sécuriser le serveur de publication](secure-the-publisher.md) </span><span class="sxs-lookup"><span data-stu-id="a9626-148">[Secure the Publisher](secure-the-publisher.md) </span></span>  
 [<span data-ttu-id="a9626-149">Sécurité Réplication SQL Server</span><span class="sxs-lookup"><span data-stu-id="a9626-149">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
