---
title: Sécuriser le serveur de distribution | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- security [SQL Server replication], Distributors
- Distributors [SQL Server replication], security
ms.assetid: 76d78229-0ff2-4aa4-9b4e-ad97534c5296
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d55f5e214f89b678367124da8342ec9801ab686a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87599882"
---
# <a name="secure-the-distributor"></a><span data-ttu-id="7ace9-102">Protéger le serveur de distribution</span><span class="sxs-lookup"><span data-stu-id="7ace9-102">Secure the Distributor</span></span>
  <span data-ttu-id="7ace9-103">Les Agents de réplication suivants se connectent au serveur de distribution : l'Agent de lecture du journal, l'Agent d'instantané, l'Agent de lecture de la file d'attente, l'Agent de distribution et l'Agent de fusion.</span><span class="sxs-lookup"><span data-stu-id="7ace9-103">The following replication agents connect to the Distributor: the Log Reader Agent, Snapshot Agent, Queue Reader Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="7ace9-104">Il est important de donner un nom d'accès approprié à chacun de ces agents tout en suivant le principe d'accorder le minimum de droits nécessaires et de protéger également le stockage de tous les mots de passe.</span><span class="sxs-lookup"><span data-stu-id="7ace9-104">It is important to provide an appropriate login for each of these agents while following the principle of granting the minimal rights necessary and also protecting the storage of all passwords:</span></span>  
  
-   <span data-ttu-id="7ace9-105">Pour plus d’informations sur la gestion des connexions et des mots de passe, consultez [Gérer les connexions et les mots de passe dans la réplication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span><span class="sxs-lookup"><span data-stu-id="7ace9-105">For information about managing logins and passwords, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
-   <span data-ttu-id="7ace9-106">Pour des informations détaillées sur les autorisations requises pour chaque Agent, consultez [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="7ace9-106">For detailed information about the permissions required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
 <span data-ttu-id="7ace9-107">En plus de gérer les noms d'accès et les mots de passe de manière appropriée, il est important de comprendre le rôle de la liaison du serveur distant **repl_distributor** et du compte **distributor_admin** .</span><span class="sxs-lookup"><span data-stu-id="7ace9-107">In addition to managing logins and passwords appropriately, it is important to understand the role of the **repl_distributor** remote server link and the **distributor_admin** account.</span></span>  
  
## <a name="securing-the-connection-from-the-publisher-to-the-distributor"></a><span data-ttu-id="7ace9-108">Protection de la connexion du serveur de publication au serveur de distribution</span><span class="sxs-lookup"><span data-stu-id="7ace9-108">Securing the Connection from the Publisher to the Distributor</span></span>  
 <span data-ttu-id="7ace9-109">Afin de prendre en charge les communications nécessaires lorsque des procédures stockées administratives s'exécutent sur le serveur de publication et mettent à jour des informations sur le serveur de distribution, la réplication configure automatiquement le serveur distant **repl_distributor**.</span><span class="sxs-lookup"><span data-stu-id="7ace9-109">To support the communication necessary when administrative stored procedures execute at the Publisher and update information at the Distributor, replication automatically configures the remote server **repl_distributor**.</span></span> <span data-ttu-id="7ace9-110">L'entrée du serveur distant **repl_distributor** sert à communiquer avec la base de données de distribution, que la base de données de distribution soit contenue dans l'instance du serveur de publication (un serveur de distribution local), ou réside dans une instance [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] distante (un serveur de distribution distant).</span><span class="sxs-lookup"><span data-stu-id="7ace9-110">The **repl_distributor** remote server entry is used for communication to the distribution database regardless of whether the distribution database is contained within the Publisher instance (a local Distributor) or resides within a remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance (a remote Distributor).</span></span>  
  
 <span data-ttu-id="7ace9-111">Lorsqu'une base de données de distribution est contenue dans une instance locale, un mot de passe aléatoire est généré et configuré automatiquement.</span><span class="sxs-lookup"><span data-stu-id="7ace9-111">When the distribution database is contained on a local instance, a random password is generated and configured automatically.</span></span> <span data-ttu-id="7ace9-112">Lorsque la base de données de distribution sur trouve sur une instance distante, l'administrateur configure un mot de passe pendant l'installation du serveur de publication et du serveur de distribution ; ce mot de passe est ensuite utilisé pour fournir l'authentification du trafic passant par le lien **repl_distributor** .</span><span class="sxs-lookup"><span data-stu-id="7ace9-112">When the distribution database is located on a remote instance, the administrator configures a shared password during setup of the Publisher and Distributor; this password is then used to provide authentication of traffic that traverses the **repl_distributor** link.</span></span>  
  
 <span data-ttu-id="7ace9-113">Le serveur de distribution utilise l'entrée du serveur distant **repl_distributor** pour vérifier que le serveur appelant est configuré comme serveur de publication sur le serveur de distribution, valide le mot de passe fourni par le serveur de publication, et valide la procédure stockée comme étant une procédure stockée de réplication pendant l'exécution.</span><span class="sxs-lookup"><span data-stu-id="7ace9-113">The Distributor uses the **repl_distributor** remote server entry to verify that the calling server is configured as a Publisher at the Distributor, validates the password supplied by the Publisher, and validates that the stored procedure is a replication stored procedure during execution.</span></span>  
  
 <span data-ttu-id="7ace9-114">Le mot de passe configuré pour l'entrée du serveur distant **repl_distributor** pendant l'installation est associé à un nom d'accès [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , **distributor_admin**, qui est ajouté au rôle serveur fixe **sysadmin** sur le serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="7ace9-114">The password configured for the **repl_distributor** remote server entry during setup is associated with a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login, **distributor_admin**, which is added to the **sysadmin** fixed server role at the Distributor.</span></span> <span data-ttu-id="7ace9-115">La connexion **distributor_admin** est utilisée par les procédures stockées de réplication lors de la connexion au serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="7ace9-115">The **distributor_admin** login is used by replication stored procedures when connecting to the Distributor.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7ace9-116">Ne modifiez pas manuellement le mot de passe pour **distributor_admin** .</span><span class="sxs-lookup"><span data-stu-id="7ace9-116">Do not change the password for the **distributor_admin** manually.</span></span> <span data-ttu-id="7ace9-117">Utilisez toujours la procédure stockée **sp_changedistributor_password** , ou les boîtes de dialogue **Propriétés du serveur de distribution** ou **Mettre à jour les mots de passe de réplication** dans [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], car les changements de mots de passe sont ensuite appliqués automatiquement aux publications locales.</span><span class="sxs-lookup"><span data-stu-id="7ace9-117">Always use the **sp_changedistributor_password** stored procedure, or the **Distributor Properties** or **Update Replication Passwords** dialog boxes in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], because password changes are then applied to local publications automatically.</span></span>  
  
## <a name="snapshot-folder-security"></a><span data-ttu-id="7ace9-118">Sécurité du répertoire d'instantanés</span><span class="sxs-lookup"><span data-stu-id="7ace9-118">Snapshot Folder Security</span></span>  
 <span data-ttu-id="7ace9-119">Assurez-vous que le partage de fichiers d'instantanés dispose d'une autorisation de lecture sur le compte sous lequel s'exécute l'Agent de fusion (pour la réplication de fusion) ou l'Agent de distribution (pour la réplication d'instantané ou transactionnelle), et d'une autorisation d'écriture sur le compte sous lequel s'exécute l'Agent d'instantané.</span><span class="sxs-lookup"><span data-stu-id="7ace9-119">Ensure that the snapshot share has read access granted to the account under which the Merge Agent (for merge replication) or Distribution Agent (for snapshot or transactional replication) runs and write access granted to the account under which the Snapshot Agent runs.</span></span> <span data-ttu-id="7ace9-120">Pour plus d’informations sur le dossier d’instantanés, consultez [Sécuriser le dossier d’instantanés](secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="7ace9-120">For more information about the snapshot folder, see [Secure the Snapshot Folder](secure-the-snapshot-folder.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7ace9-121">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7ace9-121">See Also</span></span>  
 <span data-ttu-id="7ace9-122">[Afficher et modifier les paramètres de sécurité de la réplication](view-and-modify-replication-security-settings.md) </span><span class="sxs-lookup"><span data-stu-id="7ace9-122">[View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md) </span></span>  
 <span data-ttu-id="7ace9-123">[Activer les connexions chiffrées dans le moteur de base de données &#40;Gestionnaire de configuration SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="7ace9-123">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="7ace9-124">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="7ace9-124">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="7ace9-125">Sécurité Réplication SQL Server</span><span class="sxs-lookup"><span data-stu-id="7ace9-125">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
