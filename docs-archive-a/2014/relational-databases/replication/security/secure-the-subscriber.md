---
title: Sécuriser l’abonné | Microsoft Docs
ms.custom: ''
ms.date: 04/26/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- subscriptions [SQL Server replication], security
- Subscribers [SQL Server replication], security
- security [SQL Server replication], Subscribers
ms.assetid: c8f0d62a-8b5d-4a21-9aec-223da52bb708
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 1f03b9a202c3c49f147368460518a579f28dc850
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87612224"
---
# <a name="secure-the-subscriber"></a><span data-ttu-id="2133c-102">Sécuriser l'abonné</span><span class="sxs-lookup"><span data-stu-id="2133c-102">Secure the Subscriber</span></span>
  <span data-ttu-id="2133c-103">Les Agents de fusion et les Agents de distribution se connectent à l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="2133c-103">Merge Agents and Distribution Agents connect to the Subscriber.</span></span> <span data-ttu-id="2133c-104">Ces connexions peuvent être effectuées dans le contexte d'un nom de connexion [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou d'un nom de connexion Windows.</span><span class="sxs-lookup"><span data-stu-id="2133c-104">These connections can be made under the context of a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login or a Windows login.</span></span> <span data-ttu-id="2133c-105">Il est important de fournir un nom de connexion approprié à ces agents tout en respectant le principe consistant à attribuer les droits nécessaires minimaux et à protéger aussi le stockage de tous les mots de passe.</span><span class="sxs-lookup"><span data-stu-id="2133c-105">It is important to provide an appropriate login for these agents while following the principle of granting the minimal rights necessary and also protecting the storage of all passwords.</span></span> <span data-ttu-id="2133c-106">Pour des informations sur les autorisations requises pour chaque agent, consultez [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="2133c-106">For information about the permissions required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
## <a name="distribution-agent"></a><span data-ttu-id="2133c-107">Agent de distribution</span><span class="sxs-lookup"><span data-stu-id="2133c-107">Distribution Agent</span></span>  
 <span data-ttu-id="2133c-108">Il y a soit un Agent de distribution par abonnement (un agent indépendant, qui est l'agent par défaut pour les publications créées dans l'Assistant Nouvelle publication), soit un Agent de distribution par paire base de données de publication/base de données d'abonnement (un agent partagé).</span><span class="sxs-lookup"><span data-stu-id="2133c-108">There is either one Distribution Agent per subscription (an independent agent, the default for publications created in the New Publication Wizard) or one Distribution Agent per publication database and subscription database pair (a shared agent).</span></span> <span data-ttu-id="2133c-109">T</span><span class="sxs-lookup"><span data-stu-id="2133c-109">T</span></span>  
  
 <span data-ttu-id="2133c-110">Pour spécifier des informations de connexion pour les abonnements par émission de données, consultez [Créer un abonnement par émission de données](../create-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="2133c-110">To specify connection information for push subscriptions, see [Create a Push Subscription](../create-a-push-subscription.md).</span></span>  
  
 <span data-ttu-id="2133c-111">Pour spécifier les informations de connexion pour les abonnements par extraction, consultez [Créer un abonnement par extraction](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="2133c-111">To specify connection information for pull subscriptions, see [Create a Pull Subscription](../create-a-pull-subscription.md)</span></span>  
  
## <a name="merge-agent"></a><span data-ttu-id="2133c-112">Agent de fusion</span><span class="sxs-lookup"><span data-stu-id="2133c-112">Merge Agent</span></span>  
 <span data-ttu-id="2133c-113">Chaque abonnement de fusion a son propre Agent de fusion qui se connecte à la fois à l'éditeur et à l'abonné et les met à jour.</span><span class="sxs-lookup"><span data-stu-id="2133c-113">Each merge subscription has its own Merge Agent that connects to and updates both the Publisher and the Subscriber.</span></span>  
  
 <span data-ttu-id="2133c-114">Pour spécifier des informations de connexion pour les abonnements par émission de données, consultez [Créer un abonnement par émission de données](../create-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="2133c-114">To specify connection information for push subscriptions, see [Create a Push Subscription](../create-a-push-subscription.md).</span></span>  
  
 <span data-ttu-id="2133c-115">Pour spécifier les informations de connexion pour les abonnements par extraction, consultez [Créer un abonnement par extraction](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="2133c-115">To specify connection information for pull subscriptions, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>  
  
## <a name="immediate-updating-subscriptions"></a><span data-ttu-id="2133c-116">Abonnement mis à jour immédiatement</span><span class="sxs-lookup"><span data-stu-id="2133c-116">Immediate Updating Subscriptions</span></span>  
 <span data-ttu-id="2133c-117">Quand vous configurez un abonnement mis à jour immédiatement, vous spécifiez un compte sur l'Abonné, sous lequel sont effectuées les connexions au serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="2133c-117">When you configure an immediate updating subscription, you specify an account at the Subscriber under which connections to the Publisher are made.</span></span> <span data-ttu-id="2133c-118">Les connexions sont utilisées par les déclencheurs qui s'exécutent pour l'abonné et propagent les modifications sur le serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="2133c-118">Connections are used by the triggers that fire at the Subscriber and propagate changes to the Publisher.</span></span> <span data-ttu-id="2133c-119">Trois options sont possibles pour le type de connexion :</span><span class="sxs-lookup"><span data-stu-id="2133c-119">There are three options available for the type of connection:</span></span>  
  
-   <span data-ttu-id="2133c-120">Un serveur lié qui est créé par la réplication ; la connexion est faite avec les informations d'identification que vous spécifiez au moment de la configuration.</span><span class="sxs-lookup"><span data-stu-id="2133c-120">A linked server that replication creates; the connection is made with the credentials you specify at configuration time.</span></span>  
  
-   <span data-ttu-id="2133c-121">Un serveur lié créé par la réplication. La connexion se fait à l'aide des informations d'identification de l'utilisateur qui apporte la modification pour l'abonné.</span><span class="sxs-lookup"><span data-stu-id="2133c-121">A linked server that replication creates; the connection is made with the credentials of the user making the change at the Subscriber.</span></span>  
  
-   <span data-ttu-id="2133c-122">Un serveur lié ou distant que vous avez déjà défini.</span><span class="sxs-lookup"><span data-stu-id="2133c-122">A linked server or remote server that you have already defined.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2133c-123">Pour spécifier des informations de connexion, utilisez la procédure stockée [sp_link_publication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="2133c-123">To specify connection information, use the stored procedure [sp_link_publication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span></span> <span data-ttu-id="2133c-124">Vous pouvez également utiliser la page **Nom d'accès aux abonnements pouvant être mis à jour** de l'Assistant Nouvel abonnement qui appelle **sp_link_publication**.</span><span class="sxs-lookup"><span data-stu-id="2133c-124">You can also use the **Login for Updatable Subscriptions** page of the New Subscription Wizard, which calls **sp_link_publication**.</span></span> <span data-ttu-id="2133c-125">Dans certaines conditions, cette procédure stockée peut échouer si l'Abonné exécute [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Service Pack 1 (SP1) ou une version ultérieure, et que le serveur de publication exécute une version antérieure.</span><span class="sxs-lookup"><span data-stu-id="2133c-125">Under certain conditions, this stored procedure can fail if the Subscriber is running [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Service Pack 1 (SP1) or later, and the Publisher is running an earlier version.</span></span> <span data-ttu-id="2133c-126">Si la procédure stockée échoue dans ce scénario, mettez à niveau le serveur de publication vers [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] SP1 ou une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="2133c-126">If the stored procedure fails in this scenario, upgrade the Publisher to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] SP1 or later.</span></span>  
  
 <span data-ttu-id="2133c-127">Pour plus d’informations, consultez [Créer un abonnement pouvant être mis à jour pour une publication transactionnelle](../publish/create-an-updatable-subscription-to-a-transactional-publication.md) et [Afficher et modifier les paramètres de sécurité de la réplication](view-and-modify-replication-security-settings.md).</span><span class="sxs-lookup"><span data-stu-id="2133c-127">For more information, see [Create an Updatable Subscription to a Transactional Publication](../publish/create-an-updatable-subscription-to-a-transactional-publication.md) and [View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2133c-128">Le compte spécifié pour la connexion doit uniquement avoir l'autorisation d'insérer, de mettre à jour et de supprimer des données sur les vues créées par la réplication dans la base de données de publication. Il ne doit pas bénéficier d'autres autorisations.</span><span class="sxs-lookup"><span data-stu-id="2133c-128">The account specified for the connection should only be granted permission to insert, update, and delete data on the views that replication creates in the publication database; it should not be given any additional permissions.</span></span> <span data-ttu-id="2133c-129">Octroyez des autorisations sur les vues de la base de données de publication qui sont mentionnées dans le panneau **syncobj_** _\<HexadecimalNumber>_ pour le compte que vous avez configuré pour chaque abonné.</span><span class="sxs-lookup"><span data-stu-id="2133c-129">Grant permissions on views in the publication database that are named in the form **syncobj_**_\<HexadecimalNumber>_ to the account you configured at each Subscriber.</span></span>  
  
## <a name="queued-updating-subscriptions"></a><span data-ttu-id="2133c-130">Abonnements mis à jour en attente</span><span class="sxs-lookup"><span data-stu-id="2133c-130">Queued Updating Subscriptions</span></span>  
 <span data-ttu-id="2133c-131">Quand vous configurez des abonnements mis à jour en attente, il faut garder à l'esprit deux points relatifs à la sécurité :</span><span class="sxs-lookup"><span data-stu-id="2133c-131">When you configure queued updating subscriptions, there are two areas to keep in mind that relate to security:</span></span>  
  
-   <span data-ttu-id="2133c-132">Il n'y a qu'un seul Agent de lecture de la file d'attente pour chaque serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="2133c-132">There is only one Queue Reader Agent for each Distributor.</span></span> <span data-ttu-id="2133c-133">Il est recommandé de configurer, pour chaque serveur de distribution, au moins une publication qui est activée pour les abonnements mis à jour en attente.</span><span class="sxs-lookup"><span data-stu-id="2133c-133">It is recommended that for each Distributor, you configure at most one publication that is enabled for queued updating subscriptions.</span></span>  
  
-   <span data-ttu-id="2133c-134">L'Agent de lecture de la file d'attente établit des connexions avec le serveur de distribution, avec le serveur de publication et avec chaque Abonné :</span><span class="sxs-lookup"><span data-stu-id="2133c-134">The Queue Reader agent makes connections to the Distributor, Publisher, and each Subscriber:</span></span>  
  
    -   <span data-ttu-id="2133c-135">Le compte sous lequel l'agent s'exécute et établit des connexions avec le serveur de distribution est spécifié quand vous créez l'agent (si vous utilisez l'Assistant Nouvelle publication, l'agent est créé quand vous créez une nouvelle publication qui est activée pour les abonnements mis à jour).</span><span class="sxs-lookup"><span data-stu-id="2133c-135">The account under which the agent runs and makes connections to the Distributor is specified when you create the agent (if you use the New Publication Wizard, the agent is created when you create a publication that is enabled for updating subscriptions).</span></span>  
  
    -   <span data-ttu-id="2133c-136">Le compte sous lequel l'agent établit des connexions avec le serveur de publication est spécifié quand vous configurez la distribution pour un serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="2133c-136">The account under which the agent makes connections to the Publisher is specified when you configure distribution for a Publisher.</span></span> <span data-ttu-id="2133c-137">Spécifiez le compte Windows sous lequel l'agent s'exécute ou un compte [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2133c-137">Specify the Windows account under which the agent runs or a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] account.</span></span>  
  
    -   <span data-ttu-id="2133c-138">Le compte sous lequel l'agent établit des connexions avec l'Abonné est spécifié quand vous créez l'abonnement.</span><span class="sxs-lookup"><span data-stu-id="2133c-138">The account under which the agent makes connections to the Subscriber is specified when you create the subscription.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="2133c-139">Utilisez l'authentification [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pour les connexions avec les Abonnés, et spécifiez un autre compte pour la connexion avec chaque Abonné.</span><span class="sxs-lookup"><span data-stu-id="2133c-139">Use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication for connections to Subscribers, and specify a different account for the connection to each Subscriber.</span></span> <span data-ttu-id="2133c-140">Si vous utilisez un abonnement par extraction de données (pull), la réplication définit toujours la connexion de façon à ce qu'elle utilise l'authentification Windows (pour les abonnements par extraction de données, la réplication ne peut pas accéder aux métadonnées sur l'Abonné qui doit utiliser l'authentification [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ).</span><span class="sxs-lookup"><span data-stu-id="2133c-140">If you use a pull subscription, replication always sets the connection to use Windows Authentication (for pull subscriptions, replication cannot access metadata at the Subscriber required to use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication).</span></span> <span data-ttu-id="2133c-141">Dans ce cas, modifiez la connexion pour qu'elle utilise l'authentification [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] après la configuration de l'abonnement.</span><span class="sxs-lookup"><span data-stu-id="2133c-141">In this case, change the connection to use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication after the subscription is configured.</span></span>  
  
     <span data-ttu-id="2133c-142">Pour plus d’informations, consultez Guide pratique pour créer un abonnement pouvant être mis à jour à une publication transactionnelle (SQL Server Management Studio) et [Afficher et modifier les paramètres de sécurité de la réplication](view-and-modify-replication-security-settings.md).</span><span class="sxs-lookup"><span data-stu-id="2133c-142">For more information, see How to: Create an Updating Subscription to a Transactional Publication (SQL Server Management Studio) and [View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2133c-143">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2133c-143">See Also</span></span>  
 <span data-ttu-id="2133c-144">[Activer les connexions chiffrées dans le moteur de base de données &#40;Gestionnaire de configuration SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="2133c-144">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="2133c-145">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="2133c-145">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="2133c-146">Sécurité Réplication SQL Server</span><span class="sxs-lookup"><span data-stu-id="2133c-146">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
