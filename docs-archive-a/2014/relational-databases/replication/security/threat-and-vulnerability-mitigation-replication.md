---
title: Limitation des menaces et des risques de vulnérabilité (réplication) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- attacks [SQL Server replication]
- threats [SQL Server replication security]
- security [SQL Server replication], threats
- security threats [SQL Server replication]
ms.assetid: 314fe497-56d8-4192-98e9-21b87cf8db04
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: c1a9c2c646f26d0cb61ae3d41ccdbd72551094d4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87704971"
---
# <a name="threat-and-vulnerability-mitigation-replication"></a><span data-ttu-id="51859-102">Limitation des menaces et des risques de vulnérabilité (réplication)</span><span class="sxs-lookup"><span data-stu-id="51859-102">Threat and Vulnerability Mitigation (Replication)</span></span>
  <span data-ttu-id="51859-103">Cette rubrique décrit des techniques pour réduire les menaces auxquelles est exposée une topologie de réplication.</span><span class="sxs-lookup"><span data-stu-id="51859-103">This topic describes techniques to reduce threats to a replication topology.</span></span>  
  
## <a name="encryption"></a><span data-ttu-id="51859-104">Chiffrement</span><span class="sxs-lookup"><span data-stu-id="51859-104">Encryption</span></span>  
 <span data-ttu-id="51859-105">Le chiffrement est le processus selon lequel des données sont converties dans un format incompréhensible sans une clé spéciale, de telle sorte que seul le destinataire prévu puisse les lire.</span><span class="sxs-lookup"><span data-stu-id="51859-105">Encryption is the process of converting data into a form that cannot be read without a special key, so that only the intended recipient can read the data.</span></span> <span data-ttu-id="51859-106">La réplication ne chiffre pas les données stockées dans des tables ou envoyées sur des connexions réseau.</span><span class="sxs-lookup"><span data-stu-id="51859-106">Replication does not encrypt data stored in tables or sent over network connections.</span></span> <span data-ttu-id="51859-107">En effet, à l'origine, le chiffrement est disponible au niveau transport avec un certain nombre de technologies, telles que les technologies standard VPN (Virtual Private Networks), SSL (Secure Sockets Layer) et IPSEC (IP Security).</span><span class="sxs-lookup"><span data-stu-id="51859-107">This is by design, because encryption is available at the transport level with a number of technologies, including the following industry standard technologies: Virtual Private Networks (VPN), Secure Sockets Layer (SSL), and IP Security (IPSEC).</span></span> <span data-ttu-id="51859-108">Nous recommandons l'utilisation de l'une de ces méthodes de chiffrement pour les connexions établies entre les ordinateurs d'une topologie de réplication.</span><span class="sxs-lookup"><span data-stu-id="51859-108">We recommend using one of these encryption methods for the connections between computers in a replication topology.</span></span> <span data-ttu-id="51859-109">Pour plus d’informations, consultez [Activer des connexions chiffrées dans le moteur de base de données &#40;Gestionnaire de configuration SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="51859-109">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span> <span data-ttu-id="51859-110">Pour plus d'informations sur l'utilisation des réseaux VPN et de SSL pour répliquer les données sur Internet, consultez [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span><span class="sxs-lookup"><span data-stu-id="51859-110">For information about using VPN and SSL for replicating data over the Internet, see [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span></span>  
  
 <span data-ttu-id="51859-111">Si vous utilisez SSL pour sécuriser les connexions entre ordinateurs dans une topologie de réplication, spécifiez la valeur **1** ou **2** pour le paramètre **-EncryptionLevel** de chaque agent de réplication (la valeur **2** est recommandée).</span><span class="sxs-lookup"><span data-stu-id="51859-111">If you use SSL to secure the connections between computers in a replication topology, specify a value of **1** or **2** for the **-EncryptionLevel** parameter of each replication agent (a value of **2** is recommended).</span></span> <span data-ttu-id="51859-112">La valeur **1** spécifie que le chiffrement est utilisé, mais que l'agent ne vérifie pas si le certificat de serveur SSL est signé par un émetteur fiable ; la valeur **2** indique que le certificat est vérifié.</span><span class="sxs-lookup"><span data-stu-id="51859-112">A value of **1** specifies that encryption is used, but the agent does not verify that the SSL server certificate is signed by a trusted issuer; a value of **2** specifies that the certificate is verified.</span></span> <span data-ttu-id="51859-113">Les paramètres des agents peuvent être spécifiés dans des profils d'agent et sur la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="51859-113">Agent parameters can be specified in agent profiles and on the command line.</span></span> <span data-ttu-id="51859-114">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="51859-114">For more information, see:</span></span>  
  
-   [<span data-ttu-id="51859-115">Utiliser des profils d’agent de réplication</span><span class="sxs-lookup"><span data-stu-id="51859-115">Work with Replication Agent Profiles</span></span>](../agents/replication-agent-profiles.md)  
  
-   [<span data-ttu-id="51859-116">Afficher et modifier des paramètres d’invite de commandes d’un Agent de réplication &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="51859-116">View and Modify Replication Agent Command Prompt Parameters &#40;SQL Server Management Studio&#41;</span></span>](../agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
-   [<span data-ttu-id="51859-117">Concepts des exécutables de l'agent de réplication</span><span class="sxs-lookup"><span data-stu-id="51859-117">Replication Agent Executables Concepts</span></span>](../concepts/replication-agent-executables-concepts.md)  
  
 <span data-ttu-id="51859-118">La réplication se comporte de la façon suivante par rapport aux clés primaires de base de données, utilisées pour chiffrer les données :</span><span class="sxs-lookup"><span data-stu-id="51859-118">Replication has the following behavior with respect to database Master Keys, which are used to encrypt data:</span></span>  
  
-   <span data-ttu-id="51859-119">Si une clé principale apparaît dans une base de données impliquée dans le processus de réplication (base de données de publication, d'abonnement ou de distribution), la réplication chiffre et déchiffre les mots de passe des agents de cette base de données à l'aide d'une clé symétrique de base de données [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="51859-119">If a Master Key is present in a database involved in replication (a publication database, subscription database, or distribution database), replication encrypts and decrypts agent passwords in that database using a [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] database symmetric key.</span></span> <span data-ttu-id="51859-120">Si des clés principales sont utilisées, une clé principale doit être créée dans chaque base de données impliquée dans la réplication.</span><span class="sxs-lookup"><span data-stu-id="51859-120">If Master Keys are used, a Master Key should be created in each database involved in replication.</span></span> <span data-ttu-id="51859-121">Pour plus d’informations sur la création de clés principales, consultez [CREATE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="51859-121">For more information about creating Master Keys, see [CREATE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql).</span></span>  
  
-   <span data-ttu-id="51859-122">La réplication ne réplique pas les clés principales.</span><span class="sxs-lookup"><span data-stu-id="51859-122">Replication does not replicate Master Keys.</span></span> <span data-ttu-id="51859-123">Si vous avez besoin de la clé principale sur l'Abonné, vous devez l'exporter à partir de la base de données de publication à l'aide de BACKUP MASTER KEY, puis l'importer dans la base de données d'abonnement à l'aide de RESTORE MASTER KEY.</span><span class="sxs-lookup"><span data-stu-id="51859-123">If you require the Master Key at the Subscriber, you must export it from the publication database using BACKUP MASTER KEY and then import it into the subscription database using RESTORE MASTER KEY.</span></span> <span data-ttu-id="51859-124">Pour plus d’informations, consultez [BACKUP MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-master-key-transact-sql) et [RESTORE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-master-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="51859-124">For more information, see [BACKUP MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-master-key-transact-sql) and [RESTORE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-master-key-transact-sql).</span></span>  
  
-   <span data-ttu-id="51859-125">Si une clé principale est définie pour une base de données d’abonnement pouvant être attachée, spécifiez le mot de passe de la clé principale à l’aide du **@db_master_key_password** paramètre de [Sp_attachsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="51859-125">If a Master Key is defined for an attachable subscription database, specify the Master Key password using the **@db_master_key_password** parameter of [sp_attachsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql).</span></span> <span data-ttu-id="51859-126">La base de données est ainsi attachée à l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="51859-126">This allows the database to be attached at the Subscriber.</span></span>  
  
 <span data-ttu-id="51859-127">Pour plus d'informations sur le chiffrement et les clés principales, consultez [Encryption Hierarchy](../../security/encryption/encryption-hierarchy.md).</span><span class="sxs-lookup"><span data-stu-id="51859-127">For more information about encryption and Master Keys, see [Encryption Hierarchy](../../security/encryption/encryption-hierarchy.md).</span></span>  
  
 <span data-ttu-id="51859-128">La réplication permet de publier des données de colonnes chiffrées.</span><span class="sxs-lookup"><span data-stu-id="51859-128">Replication enables you to publish encrypted column data.</span></span> <span data-ttu-id="51859-129">Pour déchiffrer et exploiter ces données sur l'Abonné, la clé employée pour chiffrer les données sur le serveur de publication doit également être présente sur l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="51859-129">To decrypt and use this data at the Subscriber, the key that was used to encrypt the data at the Publisher must also be present on the Subscriber.</span></span> <span data-ttu-id="51859-130">La réplication n'offre pas un mécanisme sécurisé de transport des clés de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="51859-130">Replication does not provide a secure mechanism to transport encryption keys.</span></span> <span data-ttu-id="51859-131">Vous devez manuellement recréer la clé de chiffrement sur l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="51859-131">You must manually re-create the encryption key at the Subscriber.</span></span> <span data-ttu-id="51859-132">Pour plus d’informations, consultez [Répliquer des données dans des colonnes chiffrées &#40;SQL Server Management Studio&#41;](replicate-data-in-encrypted-columns-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="51859-132">For more information, see [Replicate Data in Encrypted Columns &#40;SQL Server Management Studio&#41;](replicate-data-in-encrypted-columns-sql-server-management-studio.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="51859-133">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="51859-133">See Also</span></span>  
 <span data-ttu-id="51859-134">[Identité et Access Control &#40;de réplication&#41;](identity-and-access-control-replication.md) </span><span class="sxs-lookup"><span data-stu-id="51859-134">[Identity and Access Control &#40;Replication&#41;](identity-and-access-control-replication.md) </span></span>  
 [<span data-ttu-id="51859-135">Déploiement sécurisé de la réplication</span><span class="sxs-lookup"><span data-stu-id="51859-135">Secure Replication Deployment</span></span>](view-and-modify-replication-security-settings.md)  
  
  
