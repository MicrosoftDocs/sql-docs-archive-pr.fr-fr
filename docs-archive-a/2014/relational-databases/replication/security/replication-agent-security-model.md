---
title: Modèle de sécurité de l’Agent de réplication | Microsoft Docs
ms.custom: ''
ms.date: 10/07/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Snapshot Agent, security
- agents [SQL Server replication], security
- Distribution Agent, security
- logins [SQL Server replication], permissions for agents
- security [SQL Server replication], agent security model
- Log Reader Agent, security
- Queue Reader Agent, security
- Merge Agent, security
- replication [SQL Server], agents and profiles
ms.assetid: 6d09fc8d-843a-4a7a-9812-f093d99d8192
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: da597bf97422f5a0960062b385bc0b67338edfe1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87599889"
---
# <a name="replication-agent-security-model"></a><span data-ttu-id="6784d-102">Modèle de sécurité de l'Agent de réplication</span><span class="sxs-lookup"><span data-stu-id="6784d-102">Replication Agent Security Model</span></span>
  <span data-ttu-id="6784d-103">Le modèle de sécurité de l’agent de réplication permet un contrôle fin des comptes sous lesquels les agents de réplication s’exécutent et établissent des connexions : un compte distinct peut être spécifié pour chaque agent.</span><span class="sxs-lookup"><span data-stu-id="6784d-103">The replication agent security model allows for fine-grained control over the accounts under which replication agents run and make connections: A different account can be specified for each agent.</span></span> <span data-ttu-id="6784d-104">Pour plus d’informations sur la manière de spécifier des comptes, consultez [Gérer les connexions et les mots de passe dans la réplication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span><span class="sxs-lookup"><span data-stu-id="6784d-104">For more information about how to specify accounts, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="6784d-105">Lorsqu'un membre du rôle serveur fixe **sysadmin** configure la réplication, les agents de réplication peuvent être configurés pour emprunter l'identité du compte de l'Agent [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6784d-105">When a member of the **sysadmin** fixed server role configures replication, replication agents can be configured to impersonate the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent account.</span></span> <span data-ttu-id="6784d-106">Il suffit de ne pas spécifier de nom de connexion et de mot de passe pour un Agent de réplication ; toutefois, cette méthode n'est pas recommandée.</span><span class="sxs-lookup"><span data-stu-id="6784d-106">This is done by not specifying a login and password for a replication agent; however, we do not recommend this approach.</span></span> <span data-ttu-id="6784d-107">Pour des raisons de sécurité, il est plutôt recommandé de spécifier un compte pour chaque agent, disposant des autorisations minimales décrites dans la section « Autorisations requises par les agents » plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="6784d-107">Instead, as a security best practice, we recommend that you specify an account for each agent that has the minimum permissions that are described in the section "Permissions That Are Required by Agents" later in this topic.</span></span>  
  
 <span data-ttu-id="6784d-108">Comme tous les exécutables, les agents de réplication sont exécutés dans le contexte d'un compte Windows.</span><span class="sxs-lookup"><span data-stu-id="6784d-108">Replication agents, like all executables, run under the context of a Windows account.</span></span> <span data-ttu-id="6784d-109">Les agents établissent des connexions de sécurité intégrée Windows en utilisant ces comptes.</span><span class="sxs-lookup"><span data-stu-id="6784d-109">The agents make Windows Integrated Security connections by using this account.</span></span> <span data-ttu-id="6784d-110">Le compte sous lequel l'agent s'exécute dépend de la manière dont l'agent est démarré :</span><span class="sxs-lookup"><span data-stu-id="6784d-110">The account under which the agent runs depends on how the agent is started:</span></span>  
  
-   <span data-ttu-id="6784d-111">Démarrage de l’agent à partir d’un travail de l’Agent [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (par défaut) : quand un travail de l’Agent [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sert à démarrer un agent de réplication, l’agent s’exécute dans le contexte d’un compte que vous spécifiez lors de la configuration de la réplication.</span><span class="sxs-lookup"><span data-stu-id="6784d-111">Starting the agent from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job, the default: When a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is used to start a replication agent, the agent runs under the context of an account that you specify when you configure replication.</span></span> <span data-ttu-id="6784d-112">Pour plus d'informations sur l'Agent [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et la réplication, consultez la section « Sécurité de l'Agent sous l'Agent SQL Server » plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="6784d-112">For more information about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent and replication, see the section "Agent Security under SQL Server Agent" later in this topic.</span></span> <span data-ttu-id="6784d-113">Pour plus d’informations sur les autorisations requises pour le compte sous lequel s’exécute l’Agent [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], consultez [Configurer l’Agent SQL Server](../../../ssms/agent/configure-sql-server-agent.md).</span><span class="sxs-lookup"><span data-stu-id="6784d-113">For information about the permissions that are required for the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent runs, see [Configure SQL Server Agent](../../../ssms/agent/configure-sql-server-agent.md).</span></span>  
  
-   <span data-ttu-id="6784d-114">Démarrage de l’agent à partir d’une ligne de commande MS-DOS, directement ou par le biais d’un script : l’agent s’exécute dans le contexte du compte de l’utilisateur exécutant l’agent sur la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="6784d-114">Starting the agent from an MS-DOS command line, either directly or through a script: The agent runs under the context of the account of the user that is running the agent at the command line.</span></span>  
  
-   <span data-ttu-id="6784d-115">Démarrage de l’agent à partir d’une application qui utilise des objets RMO (Replication Management Objects) ou un contrôle ActiveX : l’agent s’exécute dans le contexte de l’application appelant RMO ou le contrôle ActiveX.</span><span class="sxs-lookup"><span data-stu-id="6784d-115">Starting the agent from an application that uses Replication Management Objects (RMO) or an ActiveX control: The agent runs under the context of the application that is calling RMO or the ActiveX control.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="6784d-116">Les contrôles ActiveX sont déconseillés.</span><span class="sxs-lookup"><span data-stu-id="6784d-116">ActiveX controls are deprecated.</span></span>  
  
 <span data-ttu-id="6784d-117">Il est recommandé d'établir les connexions dans le contexte de sécurité intégrée Windows.</span><span class="sxs-lookup"><span data-stu-id="6784d-117">We recommend that connections be made under the context of Windows Integrated Security.</span></span> <span data-ttu-id="6784d-118">Pour des besoins de compatibilité descendante, la sécurité [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] peut également être utilisée.</span><span class="sxs-lookup"><span data-stu-id="6784d-118">For backward compatibility, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Security can also be used.</span></span> <span data-ttu-id="6784d-119">Pour plus d'informations sur les meilleures pratiques, consultez [Replication Security Best Practices](replication-security-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="6784d-119">For more information about best practices, see [Replication Security Best Practices](replication-security-best-practices.md).</span></span>  
  
## <a name="permissions-that-are-required-by-agents"></a><span data-ttu-id="6784d-120">Autorisations requises par les agents</span><span class="sxs-lookup"><span data-stu-id="6784d-120">Permissions That Are Required by Agents</span></span>  
 <span data-ttu-id="6784d-121">Les comptes sous lesquels les agents s'exécutent et établissent des connexions nécessitent différentes autorisations.</span><span class="sxs-lookup"><span data-stu-id="6784d-121">The accounts under which agents run and make connections require a variety of permissions.</span></span> <span data-ttu-id="6784d-122">Ces autorisations sont décrites dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="6784d-122">These permissions are described in the following table.</span></span> <span data-ttu-id="6784d-123">Il est recommandé d'exécuter chaque agent sous un compte Windows différent et d'accorder au compte uniquement les autorisations nécessaires.</span><span class="sxs-lookup"><span data-stu-id="6784d-123">We recommend that each agent run under a different Windows account and the account should be granted only the required permissions.</span></span> <span data-ttu-id="6784d-124">Pour obtenir des informations sur la liste d’accès à la publication (PAL, Publication Access List), qui concerne un certain nombre d’agents, consultez [Sécuriser le serveur de publication](secure-the-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="6784d-124">For information about the publication access list (PAL), which is relevant for a number of agents, see [Secure the Publisher](secure-the-publisher.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6784d-125">La fonctionnalité Contrôle de compte d'utilisateur dans certains systèmes d'exploitation Windows peut empêcher l'accès administratif au partage de fichiers d'instantanés.</span><span class="sxs-lookup"><span data-stu-id="6784d-125">User Account Control (UAC) in some Windows operating systems can prevent administrative access to the snapshot share.</span></span> <span data-ttu-id="6784d-126">Vous devez donc octroyer explicitement des autorisations sur le partage de fichiers d'instantanés aux comptes Windows qui sont utilisés par l'Agent d'instantané, l'Agent de distribution et l'Agent de fusion.</span><span class="sxs-lookup"><span data-stu-id="6784d-126">You must therefore explicitly grant snapshot share permissions to the Windows accounts that are used by the Snapshot Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="6784d-127">Vous devez effectuer cette opération même si les comptes Windows sont membres du groupe Administrateurs.</span><span class="sxs-lookup"><span data-stu-id="6784d-127">You must do this even if the Windows accounts are members of the Administrators group.</span></span> <span data-ttu-id="6784d-128">Pour plus d’informations, consultez [Sécuriser le dossier d’instantanés](secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="6784d-128">For more information, see [Secure the Snapshot Folder](secure-the-snapshot-folder.md).</span></span>  
  
|<span data-ttu-id="6784d-129">Agent</span><span class="sxs-lookup"><span data-stu-id="6784d-129">Agent</span></span>|<span data-ttu-id="6784d-130">Autorisations</span><span class="sxs-lookup"><span data-stu-id="6784d-130">Permissions</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="6784d-131">Agent d'instantané</span><span class="sxs-lookup"><span data-stu-id="6784d-131">Snapshot Agent</span></span>|<span data-ttu-id="6784d-132">Le compte Windows sous lequel s'exécute l'agent est utilisé pour se connecter au serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="6784d-132">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="6784d-133">Ce compte doit obligatoirement :</span><span class="sxs-lookup"><span data-stu-id="6784d-133">This account must:</span></span><br /><br /> <span data-ttu-id="6784d-134">\- être au moins membre du rôle de base de données fixe **db_owner** dans la base de données de distribution ;</span><span class="sxs-lookup"><span data-stu-id="6784d-134">-At minimum, be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="6784d-135">\- disposer des autorisations de lecture, écriture et modification sur le partage de fichiers d’instantanés.</span><span class="sxs-lookup"><span data-stu-id="6784d-135">-Have read, write, and modify permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="6784d-136">Le compte utilisé pour se connecter au serveur de publication doit être au minimum membre du rôle de base de données fixe **db_owner** dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="6784d-136">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span>|  
|<span data-ttu-id="6784d-137">l'Agent de lecture du journal ;</span><span class="sxs-lookup"><span data-stu-id="6784d-137">Log Reader Agent</span></span>|<span data-ttu-id="6784d-138">Le compte Windows sous lequel s'exécute l'agent est utilisé pour se connecter au serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="6784d-138">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="6784d-139">Ce compte doit être au minimum membre du rôle de base de données fixe **db_owner** dans la base de données de distribution.</span><span class="sxs-lookup"><span data-stu-id="6784d-139">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="6784d-140">Le compte utilisé pour se connecter au serveur de publication doit être au minimum membre du rôle de base de données fixe **db_owner** dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="6784d-140">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="6784d-141">Lorsque vous sélectionnez l' `sync_type` option *prise en charge de la réplication uniquement*, *Initialize with backup*ou *Initialize from LSN*, l’agent de lecture du journal doit s’exécuter après l’exécution de `sp_addsubscription` , afin que les scripts d’installation soient écrits dans la base de données de distribution.</span><span class="sxs-lookup"><span data-stu-id="6784d-141">When selecting the `sync_type` options *replication support only*, *initialize with backup*, or *initialize from lsn*, the log reader agent must run after executing `sp_addsubscription`, so that the set-up scripts are written to the distribution database.</span></span> <span data-ttu-id="6784d-142">L'Agent de lecture du journal doit s'exécuter sous un compte membre du rôle serveur fixe **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="6784d-142">The log reader agent must be running under an account that is a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="6784d-143">Lorsque l' `sync_type` option est définie sur *automatique*, aucune action particulière de l’agent de lecture du journal n’est requise.</span><span class="sxs-lookup"><span data-stu-id="6784d-143">When the `sync_type` option is set to *Automatic*, no special log reader agent actions are required.</span></span>|  
|<span data-ttu-id="6784d-144">Agent de distribution pour un abonnement par envoi de données (push)</span><span class="sxs-lookup"><span data-stu-id="6784d-144">Distribution Agent for a push subscription</span></span>|<span data-ttu-id="6784d-145">Le compte Windows sous lequel s'exécute l'agent est utilisé pour se connecter au serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="6784d-145">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="6784d-146">Ce compte doit obligatoirement :</span><span class="sxs-lookup"><span data-stu-id="6784d-146">This account must:</span></span><br /><br /> <span data-ttu-id="6784d-147">\- être au moins membre du rôle de base de données fixe **db_owner** dans la base de données de distribution ;</span><span class="sxs-lookup"><span data-stu-id="6784d-147">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="6784d-148">\- être membre de la liste d’accès à la publication (PAL) ;</span><span class="sxs-lookup"><span data-stu-id="6784d-148">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="6784d-149">\- avoir les autorisations de lecture sur le partage des fichiers d’instantanés ;</span><span class="sxs-lookup"><span data-stu-id="6784d-149">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="6784d-150">\- avoir les autorisations de lecture sur le répertoire d’installation du fournisseur OLE DB pour l’Abonné si l’abonnement est destiné à un Abonné non-SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6784d-150">-Have read permissions on the installation directory of the OLE DB provider for the Subscriber if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="6784d-151">\- Lors de la réplication des données LOB, l’agent de distribution doit avoir des autorisations en écriture sur la réplication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** , où XX représente l’ID d’instance.</span><span class="sxs-lookup"><span data-stu-id="6784d-151">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="6784d-152">Le compte employé pour se connecter à l'Abonné doit au moins être membre du rôle de base de données fixe **db_owner** dans la base de données d'abonnement, ou bien disposer d'autorisations équivalentes si l'abonnement s'adresse à un Abonné non-SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6784d-152">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database, or have equivalent permissions if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="6784d-153">Remarque : lorsque `-subscriptionstreams >= 2` vous utilisez sur l’agent de distribution, vous devez également accorder l' `View Server State` autorisation sur les abonnés pour détecter les blocages.</span><span class="sxs-lookup"><span data-stu-id="6784d-153">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="6784d-154">Agent de distribution pour un abonnement par extraction de données (pull)</span><span class="sxs-lookup"><span data-stu-id="6784d-154">Distribution Agent for a pull subscription</span></span>|<span data-ttu-id="6784d-155">Le compte Windows sous lequel s'exécute l'agent est utilisé pour se connecter à l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="6784d-155">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="6784d-156">Ce compte doit être au minimum membre du rôle de base de données fixe **db_owner** dans la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="6784d-156">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="6784d-157">Le compte servant à se connecter au serveur de distribution doit obligatoirement :</span><span class="sxs-lookup"><span data-stu-id="6784d-157">The account that is used to connect to the Distributor must:</span></span><br /><br /> <span data-ttu-id="6784d-158">\- être membre de la liste d’accès à la publication (PAL) ;</span><span class="sxs-lookup"><span data-stu-id="6784d-158">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="6784d-159">\- avoir les autorisations de lecture sur le partage des fichiers d’instantanés ;</span><span class="sxs-lookup"><span data-stu-id="6784d-159">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="6784d-160">\- Lors de la réplication des données LOB, l’agent de distribution doit avoir des autorisations en écriture sur la réplication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** , où XX représente l’ID d’instance.</span><span class="sxs-lookup"><span data-stu-id="6784d-160">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="6784d-161">Remarque : lorsque `-subscriptionstreams >= 2` vous utilisez sur l’agent de distribution, vous devez également accorder l' `View Server State` autorisation sur les abonnés pour détecter les blocages.</span><span class="sxs-lookup"><span data-stu-id="6784d-161">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="6784d-162">Agent de fusion pour un abonnement par envoi de données (push)</span><span class="sxs-lookup"><span data-stu-id="6784d-162">Merge Agent for a push subscription</span></span>|<span data-ttu-id="6784d-163">Le compte Windows sous lequel s'exécute l'agent est utilisé pour se connecter au serveur de publication et au serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="6784d-163">The Windows account under which the agent runs is used when it makes connections to the Publisher and Distributor.</span></span> <span data-ttu-id="6784d-164">Ce compte doit obligatoirement :</span><span class="sxs-lookup"><span data-stu-id="6784d-164">This account must:</span></span><br /><br /> <span data-ttu-id="6784d-165">\- être au moins membre du rôle de base de données fixe **db_owner** dans la base de données de distribution ;</span><span class="sxs-lookup"><span data-stu-id="6784d-165">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="6784d-166">\- être membre de la liste d’accès à la publication (PAL) ;</span><span class="sxs-lookup"><span data-stu-id="6784d-166">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="6784d-167">- être un compte de connexion associé à un utilisateur enregistré dans la base de données de publication ;</span><span class="sxs-lookup"><span data-stu-id="6784d-167">-Be a login that is associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="6784d-168">\- avoir les autorisations de lecture sur le partage des fichiers d’instantanés ;</span><span class="sxs-lookup"><span data-stu-id="6784d-168">-Have read permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="6784d-169">Le compte utilisé pour se connecter à l'Abonné doit être au minimum membre du rôle de base de données fixe **db_owner** dans la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="6784d-169">The account used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
|<span data-ttu-id="6784d-170">Agent de fusion pour un abonnement par extraction de données (pull)</span><span class="sxs-lookup"><span data-stu-id="6784d-170">Merge Agent for a pull subscription</span></span>|<span data-ttu-id="6784d-171">Le compte Windows sous lequel s'exécute l'agent est utilisé pour se connecter à l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="6784d-171">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="6784d-172">Ce compte doit être au minimum membre du rôle de base de données fixe **db_owner** dans la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="6784d-172">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="6784d-173">Le compte servant à se connecter au serveur de publication et au serveur de distribution doit obligatoirement :</span><span class="sxs-lookup"><span data-stu-id="6784d-173">The account that is used to connect to the Publisher and Distributor must:</span></span><br /><br /> <span data-ttu-id="6784d-174">\- être membre de la liste d’accès à la publication (PAL) ;</span><span class="sxs-lookup"><span data-stu-id="6784d-174">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="6784d-175">- être un compte de session associé à un utilisateur enregistré dans la base de données de publication ;</span><span class="sxs-lookup"><span data-stu-id="6784d-175">-Be a login associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="6784d-176">\- être un compte de connexion associé à un utilisateur enregistré dans la base de données de distribution.</span><span class="sxs-lookup"><span data-stu-id="6784d-176">-Be a login associated with a user in the distribution database.</span></span> <span data-ttu-id="6784d-177">l'utilisateur peut être un `Guest` ;</span><span class="sxs-lookup"><span data-stu-id="6784d-177">The user can be the `Guest` user.</span></span><br /><br /> <span data-ttu-id="6784d-178">\- avoir les autorisations de lecture sur le partage des fichiers d’instantanés ;</span><span class="sxs-lookup"><span data-stu-id="6784d-178">-Have read permissions on the snapshot share.</span></span>|  
|<span data-ttu-id="6784d-179">Agent de lecture de la file d'attente</span><span class="sxs-lookup"><span data-stu-id="6784d-179">Queue Reader Agent</span></span>|<span data-ttu-id="6784d-180">Le compte Windows sous lequel s'exécute l'agent est utilisé pour se connecter au serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="6784d-180">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="6784d-181">Ce compte doit être au minimum membre du rôle de base de données fixe **db_owner** dans la base de données de distribution.</span><span class="sxs-lookup"><span data-stu-id="6784d-181">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="6784d-182">Le compte utilisé pour se connecter au serveur de publication doit être au minimum membre du rôle de base de données fixe **db_owner** dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="6784d-182">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="6784d-183">Le compte utilisé pour se connecter à l'Abonné doit être au minimum membre du rôle de base de données fixe **db_owner** dans la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="6784d-183">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
  
## <a name="agent-security-under-sql-server-agent"></a><span data-ttu-id="6784d-184">Sécurité de l'Agent dans l'Agent SQL Server</span><span class="sxs-lookup"><span data-stu-id="6784d-184">Agent Security Under SQL Server Agent</span></span>  
 <span data-ttu-id="6784d-185">Lorsque vous configurez la réplication à l'aide de procédures [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] ou RMO, un travail de l'Agent [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est créé par défaut pour chaque agent.</span><span class="sxs-lookup"><span data-stu-id="6784d-185">When you configure replication by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] procedures, or RMO, a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is created by default for each agent.</span></span> <span data-ttu-id="6784d-186">Les agents s'exécutent ensuite dans le contexte d'une étape de travail, qu'ils s'exécutent en continu, dans le cadre d'une planification ou à la demande.</span><span class="sxs-lookup"><span data-stu-id="6784d-186">Agents then run under the context of a job step, regardless of whether they run continuously, on a schedule, or on demand.</span></span> <span data-ttu-id="6784d-187">Vous pouvez afficher ces travaux dans le dossier **Jobs** de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6784d-187">You can view these jobs under the **Jobs** folder in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="6784d-188">Le tableau suivant donne la liste des noms des travaux.</span><span class="sxs-lookup"><span data-stu-id="6784d-188">The following table lists the job names.</span></span>  
  
|<span data-ttu-id="6784d-189">Agent</span><span class="sxs-lookup"><span data-stu-id="6784d-189">Agent</span></span>|<span data-ttu-id="6784d-190">Nom du travail</span><span class="sxs-lookup"><span data-stu-id="6784d-190">Job name</span></span>|  
|-----------|--------------|  
|<span data-ttu-id="6784d-191">Agent d'instantané</span><span class="sxs-lookup"><span data-stu-id="6784d-191">Snapshot Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<integer>**|  
|<span data-ttu-id="6784d-192">Agent d'instantané pour une partition de publication de fusion</span><span class="sxs-lookup"><span data-stu-id="6784d-192">Snapshot Agent for a merge publication partition</span></span>|<span data-ttu-id="6784d-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span><span class="sxs-lookup"><span data-stu-id="6784d-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span></span>|  
|<span data-ttu-id="6784d-194">l'Agent de lecture du journal ;</span><span class="sxs-lookup"><span data-stu-id="6784d-194">Log Reader Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<integer>**|  
|<span data-ttu-id="6784d-195">Agent de fusion pour les abonnements extraits</span><span class="sxs-lookup"><span data-stu-id="6784d-195">Merge Agent for pull subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<integer>**|  
|<span data-ttu-id="6784d-196">Agent de fusion pour abonnements par envoi de données (push)</span><span class="sxs-lookup"><span data-stu-id="6784d-196">Merge Agent for push subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="6784d-197">Agent de distribution pour abonnements par envoi de données (push)</span><span class="sxs-lookup"><span data-stu-id="6784d-197">Distribution Agent for push subscriptions</span></span>|<span data-ttu-id="6784d-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="6784d-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span></span>|  
|<span data-ttu-id="6784d-199">Agent de distribution pour abonnements par extraction de données (pull)</span><span class="sxs-lookup"><span data-stu-id="6784d-199">Distribution Agent for pull subscriptions</span></span>|<span data-ttu-id="6784d-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="6784d-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span></span>|  
|<span data-ttu-id="6784d-201">Agent de distribution pour les abonnements par envoi de données aux Abonnés non SQL Server</span><span class="sxs-lookup"><span data-stu-id="6784d-201">Distribution Agent for push subscriptions to non-SQL Server Subscribers</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="6784d-202">Agent de lecture de la file d'attente</span><span class="sxs-lookup"><span data-stu-id="6784d-202">Queue Reader Agent</span></span>|<span data-ttu-id="6784d-203">**[\<Distributor>].\<integer>**</span><span class="sxs-lookup"><span data-stu-id="6784d-203">**[\<Distributor>].\<integer>**</span></span>|  
  
 <span data-ttu-id="6784d-204"><sup>1</sup> pour les abonnements par envoi de notification aux publications Oracle, le nom du travail est \* \* \<Publisher> - \<Publisher**> au lieu de **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="6784d-204"><sup>1</sup> For push subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<Publisher**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="6784d-205"><sup>2</sup> pour les abonnements par extraction aux publications Oracle, le nom du travail est \* \* \<Publisher> - \<DistributionDatabase**> au lieu de **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="6784d-205"><sup>2</sup> For pull subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<DistributionDatabase**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="6784d-206">Lorsque vous configurez la réplication, vous spécifiez les comptes sous lesquels les agents doivent être exécutés.</span><span class="sxs-lookup"><span data-stu-id="6784d-206">When you configure replication, you specify accounts under which agents should run.</span></span> <span data-ttu-id="6784d-207">Cependant, toutes les étapes de travail s'exécutent dans le contexte de sécurité d'un *proxy*; la réplication effectue donc les mappages suivants en interne pour les comptes d'agent spécifiés :</span><span class="sxs-lookup"><span data-stu-id="6784d-207">However, all job steps run under the security context of a *proxy*; therefore, replication performs the following mappings internally for the agent accounts that you specify:</span></span>  
  
-   <span data-ttu-id="6784d-208">Le compte est d’abord mappé à des informations d’identification à l’aide de l’instruction [!INCLUDE[tsql](../../../includes/tsql-md.md)] [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6784d-208">The account is first mapped to a credential by using the [!INCLUDE[tsql](../../../includes/tsql-md.md)] [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql) statement.</span></span> <span data-ttu-id="6784d-209">Les proxys de l'Agent[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] utilisent les informations d'identification pour stocker les informations relatives aux comptes d'utilisateur Windows.</span><span class="sxs-lookup"><span data-stu-id="6784d-209">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxies use credentials to store information about Windows user accounts.</span></span>  
  
-   <span data-ttu-id="6784d-210">La procédure stockée [sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) est appelée et les informations d'identification sont utilisées pour créer un proxy.</span><span class="sxs-lookup"><span data-stu-id="6784d-210">The [sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) stored procedure is called, and the credential is used to create a proxy..</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6784d-211">Ces informations sont fournies pour vous aider à comprendre les conséquences de l'exécution d'agents dans le contexte de sécurité approprié.</span><span class="sxs-lookup"><span data-stu-id="6784d-211">This information is provided to help you understand what is involved in running agents with the appropriate security context.</span></span> <span data-ttu-id="6784d-212">Il ne devrait pas être nécessaire d'interagir directement avec les informations d'identification ou les proxys qui ont été créés.</span><span class="sxs-lookup"><span data-stu-id="6784d-212">You should not have to interact directly with the credentials or proxies that have been created.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6784d-213">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6784d-213">See Also</span></span>  
 <span data-ttu-id="6784d-214">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="6784d-214">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 <span data-ttu-id="6784d-215">[Sécurité Réplication SQL Server](view-and-modify-replication-security-settings.md) </span><span class="sxs-lookup"><span data-stu-id="6784d-215">[SQL Server Replication Security](view-and-modify-replication-security-settings.md) </span></span>  
 [<span data-ttu-id="6784d-216">Sécuriser le dossier d’instantanés</span><span class="sxs-lookup"><span data-stu-id="6784d-216">Secure the Snapshot Folder</span></span>](secure-the-snapshot-folder.md)  
  
  
