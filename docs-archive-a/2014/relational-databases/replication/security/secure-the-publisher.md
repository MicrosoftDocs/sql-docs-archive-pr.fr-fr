---
title: Sécuriser le serveur de publication | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- logins [SQL Server replication], publication access list
- publications [SQL Server replication], publication access lists
- publication access list (PAL)
- PAL (publication access list)
- Publishers [SQL Server replication], security
- publications [SQL Server replication], security
ms.assetid: 4513a18d-dd6e-407a-b009-49dc9432ec7e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: dca3f704c43a97c2c34921007341b9bd613676ea
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87612228"
---
# <a name="secure-the-publisher"></a><span data-ttu-id="e6805-102">Sécuriser le serveur de publication</span><span class="sxs-lookup"><span data-stu-id="e6805-102">Secure the Publisher</span></span>
  <span data-ttu-id="e6805-103">Les Agents de réplication suivants se connectent au serveur de publication :</span><span class="sxs-lookup"><span data-stu-id="e6805-103">The following replication agents connect to the Publisher:</span></span>  
  
-   <span data-ttu-id="e6805-104">l'Agent de lecture du journal ;</span><span class="sxs-lookup"><span data-stu-id="e6805-104">Log Reader Agent</span></span>  
  
-   <span data-ttu-id="e6805-105">Agent d'instantané</span><span class="sxs-lookup"><span data-stu-id="e6805-105">Snapshot Agent</span></span>  
  
-   <span data-ttu-id="e6805-106">Agent de lecture de la file d'attente</span><span class="sxs-lookup"><span data-stu-id="e6805-106">Queue Reader Agent</span></span>  
  
-   <span data-ttu-id="e6805-107">Agent de fusion</span><span class="sxs-lookup"><span data-stu-id="e6805-107">Merge Agent</span></span>  
  
 <span data-ttu-id="e6805-108">Il est recommandé de fournir un nom de connexion approprié pour ces agents, de respecter le principe consistant à attribuer les droits nécessaires minimaux et de protéger le stockage de tous les mots de passe.</span><span class="sxs-lookup"><span data-stu-id="e6805-108">We recommend that you provide an appropriate login for these agents, follow the principle of granting the minimal rights that are required, and protect the storage of all passwords.</span></span> <span data-ttu-id="e6805-109">Pour plus d'informations sur les autorisations requises pour chaque agent, consultez [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="e6805-109">For information about the permissions that are required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
 <span data-ttu-id="e6805-110">Outre la gestion correcte des connexions et des mots de passe, il convient de comprendre le rôle de la liste d'accès à la publication (PAL, Publication Access List).</span><span class="sxs-lookup"><span data-stu-id="e6805-110">Besides appropriately managing logins and passwords, you should understand the role of the publication access list (PAL).</span></span> <span data-ttu-id="e6805-111">La liste d'accès à la publication sert à activer les connexions pour qu'elles accèdent aux données de publication tout en limitant l'accès ad hoc à la base de données sur le serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="e6805-111">The PAL is used to enable logins to access to publication data while restricting ad hoc access to the database at the Publisher.</span></span>  
  
## <a name="publication-access-list"></a><span data-ttu-id="e6805-112">Liste d'accès aux publications (PAL)</span><span class="sxs-lookup"><span data-stu-id="e6805-112">Publication Access List</span></span>  
 <span data-ttu-id="e6805-113">Cette dernière constitue le mécanisme principal assurant la sécurité des publications sur le serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="e6805-113">The PAL is the primary mechanism for securing publications at the Publisher.</span></span> <span data-ttu-id="e6805-114">La liste d'accès à la publication fonctionne de manière similaire à une liste de contrôle d'accès [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="e6805-114">The PAL functions similarly to a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows access control list.</span></span> <span data-ttu-id="e6805-115">Lorsque vous créez une publication, la réplication crée une liste d'accès aux publications pour cette première.</span><span class="sxs-lookup"><span data-stu-id="e6805-115">When you create a publication, replication creates a PAL for the publication.</span></span> <span data-ttu-id="e6805-116">Cette PAL peut être configurée pour contenir un ensemble de noms de connexions et de groupes disposant de l'autorisation d'accès à la publication.</span><span class="sxs-lookup"><span data-stu-id="e6805-116">The PAL can be configured to contain a list of logins and groups that are granted access to the publication.</span></span> <span data-ttu-id="e6805-117">Lorsqu'un agent se connecte au serveur de publication ou de distribution et demande l'accès à une publication, les informations d'authentification figurant dans la PAL sont comparées aux informations de connexion fournies par l'agent.</span><span class="sxs-lookup"><span data-stu-id="e6805-117">When an agent connects to the Publisher or Distributor and requests access to a publication, the authentication information in the PAL is compared to the Publisher login that the agent provides.</span></span> <span data-ttu-id="e6805-118">Ce processus permet d'assurer un niveau de sécurité supplémentaire vis-à-vis du serveur de publication en empêchant l'utilisation des informations de connexion du serveur de publication et du serveur de distribution par un outil client pouvant procéder à des modifications directement sur le serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="e6805-118">This process provides additional security for the Publisher by preventing the Publisher and Distributor login from being used by a client tool to perform modifications on the Publisher directly.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e6805-119">La réplication crée un rôle sur le serveur de publication pour que chaque publication exige l'appartenance à la PAL.</span><span class="sxs-lookup"><span data-stu-id="e6805-119">Replication creates a role on the Publisher for each publication to enforce PAL membership.</span></span> <span data-ttu-id="e6805-120">Le rôle a un nom au format **Msmerge_** _\<PublicationID>_ pour la réplication de fusion, et au format **MSReplPAL_** _\<PublicationDatabaseID>_ **_** _\<PublicationID>_ pour la réplication transactionnelle et d’instantané.</span><span class="sxs-lookup"><span data-stu-id="e6805-120">The role has a name in the form **Msmerge_**_\<PublicationID>_ for merge replication and **MSReplPAL_**_\<PublicationDatabaseID>_**_**_\<PublicationID>_ for transactional and snapshot replication.</span></span>  
  
 <span data-ttu-id="e6805-121">Par défaut, les connexions suivantes figurent dans la PAL : les membres du rôle serveur fixe **sysadmin** (au moment de la création de la publication) et le nom de connexion utilisé pour créer la publication.</span><span class="sxs-lookup"><span data-stu-id="e6805-121">By default, the following logins are included in the PAL: the members of the **sysadmin** fixed server role at the time the publication is created and the login that is used to create the publication.</span></span> <span data-ttu-id="e6805-122">Par défaut, toutes les connexions qui sont membres du rôle serveur fixe **sysadmin** ou du rôle de base de données fixe **db_owner** sur la base de données de publication peuvent s'abonner à une publication sans être explicitement ajoutées à la PAL.</span><span class="sxs-lookup"><span data-stu-id="e6805-122">By default, all logins that are members of the **sysadmin** fixed server role or the **db_owner** fixed database role on the publication database can subscribe to a publication without being explicitly added to the PAL.</span></span>  
  
 <span data-ttu-id="e6805-123">Lorsque vous utilisez la PAL, respectez les consignes suivantes :</span><span class="sxs-lookup"><span data-stu-id="e6805-123">When you are using the PAL, consider the following guidelines:</span></span>  
  
-   <span data-ttu-id="e6805-124">Vous devez associer la connexion [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] à un utilisateur de la base de données de publication avant d'ajouter cette connexion à la liste d'accès à la publication.</span><span class="sxs-lookup"><span data-stu-id="e6805-124">You must associate the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login with a database user in the publication database before adding the login to the PAL.</span></span>  
  
-   <span data-ttu-id="e6805-125">Appliquez le principe du privilège minimal, en n'accordant aux connexions situées dans la PAL que les autorisations dont elles ont besoin pour exécuter les tâches de réplication.</span><span class="sxs-lookup"><span data-stu-id="e6805-125">Follow the principle of least privilege by allowing logins in the PAL only the permissions the logins must have to perform replication tasks.</span></span> <span data-ttu-id="e6805-126">N'ajoutez ces noms de connexions à aucun rôle de base de données ou de serveur fixe qui n'est pas nécessaire à la réplication.</span><span class="sxs-lookup"><span data-stu-id="e6805-126">Do not add the logins to any fixed database roles or server roles that are not required for replication.</span></span> <span data-ttu-id="e6805-127">Pour plus d'informations sur les autorisations nécessaires, consultez [Replication Agent Security Model](replication-agent-security-model.md) et [Replication Security Best Practices](replication-security-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="e6805-127">For more information about the permissions that are required, see [Replication Agent Security Model](replication-agent-security-model.md) and [Replication Security Best Practices](replication-security-best-practices.md).</span></span>  
  
-   <span data-ttu-id="e6805-128">En cas d'utilisation d'un serveur de distribution distant, les comptes de la liste d'accès à la publication doivent être disponibles à la fois auprès du serveur de publication et auprès du serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="e6805-128">If a remote Distributor is used, accounts in the PAL must be available at both the Publisher and the Distributor.</span></span> <span data-ttu-id="e6805-129">Le compte doit être un compte de domaine ou un compte local défini sur les deux serveurs.</span><span class="sxs-lookup"><span data-stu-id="e6805-129">The account must be either a domain account or a local account that is defined at both servers.</span></span> <span data-ttu-id="e6805-130">Les mots de passe associés aux deux connexions doivent être identiques.</span><span class="sxs-lookup"><span data-stu-id="e6805-130">The passwords associated with both logins must be the same.</span></span>  
  
-   <span data-ttu-id="e6805-131">Si la PAL contient des comptes Windows et si le domaine utilise Active Directory, le compte sous lequel [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] s'exécute doit disposer des autorisations nécessaires pour lire dans Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e6805-131">If the PAL contains Windows accounts and the domain uses Active Directory, the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] runs must have permissions to read from Active Directory.</span></span> <span data-ttu-id="e6805-132">Si vous rencontrez des problèmes avec les comptes Windows, assurez-vous que le compte sous lequel [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] s'exécute détient des droits suffisants.</span><span class="sxs-lookup"><span data-stu-id="e6805-132">If you experience issues with Windows accounts, make sure that the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] runs has sufficient permissions.</span></span> <span data-ttu-id="e6805-133">Pour plus d'informations, consultez la documentation Windows.</span><span class="sxs-lookup"><span data-stu-id="e6805-133">For more information, see the Windows documentation.</span></span>  
  
 <span data-ttu-id="e6805-134">Pour gérer la liste d’accès à la publication, consultez [Gérer des connexions dans la liste d’accès à la publication](manage-logins-in-the-publication-access-list.md).</span><span class="sxs-lookup"><span data-stu-id="e6805-134">To manage the PAL, see [Manage Logins in the Publication Access List](manage-logins-in-the-publication-access-list.md).</span></span>  
  
## <a name="snapshot-agent"></a><span data-ttu-id="e6805-135">Agent d'instantané</span><span class="sxs-lookup"><span data-stu-id="e6805-135">Snapshot Agent</span></span>  
 <span data-ttu-id="e6805-136">Il y a un Agent d'instantané pour chaque publication.</span><span class="sxs-lookup"><span data-stu-id="e6805-136">There is one Snapshot Agent for each publication.</span></span> <span data-ttu-id="e6805-137">Pour plus d’informations, voir [Create a Publication](../publish/create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="e6805-137">For more information, see [Create a Publication](../publish/create-a-publication.md).</span></span>  
  
## <a name="ftp-snapshot-delivery"></a><span data-ttu-id="e6805-138">Remise d'un instantané via FTP</span><span class="sxs-lookup"><span data-stu-id="e6805-138">FTP Snapshot Delivery</span></span>  
 <span data-ttu-id="e6805-139">Si vous spécifiez que les instantanés doivent être remis via un partage FTP plutôt qu'un partage UNC, vous devez spécifier une connexion et un mot de passe lors de la configuration de l'accès à FTP :</span><span class="sxs-lookup"><span data-stu-id="e6805-139">If you specify that snapshots should be made available through an FTP share rather than a UNC share, you must specify a login and password when configuring FTP access.</span></span> <span data-ttu-id="e6805-140">Pour plus d’informations, consultez [Remettre un instantané via FTP](../publish/deliver-a-snapshot-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="e6805-140">For more information, see [Deliver a Snapshot Through FTP](../publish/deliver-a-snapshot-through-ftp.md).</span></span>  
  
## <a name="log-reader-agent"></a><span data-ttu-id="e6805-141">l'Agent de lecture du journal ;</span><span class="sxs-lookup"><span data-stu-id="e6805-141">Log Reader Agent</span></span>  
 <span data-ttu-id="e6805-142">Il existe un Agent de lecture du journal pour chaque base de données publiée en vue de la réplication transactionnelle.</span><span class="sxs-lookup"><span data-stu-id="e6805-142">There is one Log Reader Agent for each database published for transactional replication.</span></span> <span data-ttu-id="e6805-143">Pour plus d’informations, voir [Create a Publication](../publish/create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="e6805-143">For more information, see [Create a Publication](../publish/create-a-publication.md).</span></span>  
  
## <a name="queue-reader-agent"></a><span data-ttu-id="e6805-144">Agent de lecture de la file d'attente</span><span class="sxs-lookup"><span data-stu-id="e6805-144">Queue Reader Agent</span></span>  
 <span data-ttu-id="e6805-145">Il existe un Agent de lecture de la file d'attente pour tous les serveurs de publication et les publications (qui permettent les abonnements avec mise à jour en attente) associés à un serveur de distribution donné.</span><span class="sxs-lookup"><span data-stu-id="e6805-145">There is one Queue Reader Agent for all Publishers and publications (that allow queued updating subscriptions) associated with a given Distributor.</span></span> <span data-ttu-id="e6805-146">Pour plus d’informations, consultez [Activer les abonnements de mise à jour pour les publications transactionnelles](../publish/enable-updating-subscriptions-for-transactional-publications.md).</span><span class="sxs-lookup"><span data-stu-id="e6805-146">For more information, see [Enable Updating Subscriptions for Transactional Publications](../publish/enable-updating-subscriptions-for-transactional-publications.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e6805-147">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="e6805-147">See Also</span></span>  
 <span data-ttu-id="e6805-148">[Activer les connexions chiffrées dans le moteur de base de données &#40;Gestionnaire de configuration SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="e6805-148">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="e6805-149">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="e6805-149">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="e6805-150">Sécurité Réplication SQL Server</span><span class="sxs-lookup"><span data-stu-id="e6805-150">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
