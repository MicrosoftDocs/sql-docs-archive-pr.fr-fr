---
title: Gérer des colonnes d’identité | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- identity values [SQL Server replication]
- merge replication [SQL Server replication], identity range management
- publishing [SQL Server replication], identity columns
- transactional replication, identity range management
- identity columns [SQL Server], replication
ms.assetid: 98892836-cf63-494a-bd5d-6577d9810ddf
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 1b9a7b28c288ef80d24fb67479727d94c3c09fa5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87600786"
---
# <a name="manage-identity-columns"></a><span data-ttu-id="945e0-102">Gérer des colonnes d'identité</span><span class="sxs-lookup"><span data-stu-id="945e0-102">Manage Identity Columns</span></span>
  <span data-ttu-id="945e0-103">Cette rubrique explique comment gérer des colonnes d'identité dans [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] à l'aide de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ou [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="945e0-103">This topic describes how to manage identity columns in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="945e0-104">Lorsque les insertions de l'Abonné sont répliquées sur le serveur de publication, les colonnes d'identité doivent être gérées afin d'éviter d'affecter la même valeur d'identité sur l'Abonné et sur le serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="945e0-104">When Subscriber inserts are replicated back to the Publisher, identity columns must be managed to avoid assignment of the same identity value at both the Subscriber and Publisher.</span></span> <span data-ttu-id="945e0-105">La réplication peut gérer automatiquement les plages d'identité ou vous pouvez choisir de les gérer manuellement.</span><span class="sxs-lookup"><span data-stu-id="945e0-105">Replication can manage identity ranges automatically or you can choose to manually handle identity range management.</span></span>  <span data-ttu-id="945e0-106">Pour plus d’informations sur les options de gestion des plages d’identité fournies par la réplication, consultez [Répliquer des colonnes d’identité](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-106">For information about the identity range management options provided by replication, see [Replicate Identity Columns](replicate-identity-columns.md).</span></span>  
  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="945e0-107">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="945e0-107">Before You Begin</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="945e0-108">Recommandations</span><span class="sxs-lookup"><span data-stu-id="945e0-108">Recommendations</span></span>  
  
-   <span data-ttu-id="945e0-109">Lors de la publication d'une table dans plusieurs publications, vous devez spécifier les mêmes options de gestion des plages d'identité pour les différentes publications.</span><span class="sxs-lookup"><span data-stu-id="945e0-109">When publishing a table in more than one publication, you must specify the same identity range management options for both publications.</span></span> <span data-ttu-id="945e0-110">Pour plus d’informations, consultez « Publication de tables dans plusieurs publications » dans la rubrique [Publier des données et des objets de base de données](publish-data-and-database-objects.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-110">For more information, see "Publishing Tables in More Than One Publication" in [Publish Data and Database Objects](publish-data-and-database-objects.md).</span></span>  
  
-   <span data-ttu-id="945e0-111">Pour créer un numéro à incrémentation automatique qui peut être utilisé dans plusieurs tables ou être appelé par des applications sans faire référence à une table, consultez [Numéros de séquence](../../sequence-numbers/sequence-numbers.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-111">To create an automatically incrementing number that can be used in multiple tables or that can be called from applications without referencing any table, see [Sequence Numbers](../../sequence-numbers/sequence-numbers.md).</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="945e0-112">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="945e0-112">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="945e0-113">Spécifiez une option de gestion des colonnes d’identité sous l’onglet **Propriétés** de la boîte de dialogue **Propriétés de l’article - \<Article>** de l’Assistant Nouvelle publication.</span><span class="sxs-lookup"><span data-stu-id="945e0-113">Specify an identity column management option on the **Properties** tab of the **Article Properties -\<Article>** dialog box of the New Publication Wizard.</span></span> <span data-ttu-id="945e0-114">Pour plus d’informations sur l’utilisation de cet Assistant, consultez [Créer une publication](create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-114">For more information about using this wizard, see [Create a Publication](create-a-publication.md).</span></span> <span data-ttu-id="945e0-115">Dans l'Assistant Nouvelle publication :</span><span class="sxs-lookup"><span data-stu-id="945e0-115">In the New Publication Wizard:</span></span>  
  
-   <span data-ttu-id="945e0-116">Si vous sélectionnez **Publication de fusion** ou **Publication transactionnelle avec abonnements pouvant être mis à jour** dans la page **Type de publication** , sélectionnez une gestion des plages d'identité automatique ou manuelle (l'option par défaut, automatique, est recommandée).</span><span class="sxs-lookup"><span data-stu-id="945e0-116">If you select **Merge publication** or **Transactional publication with updating subscriptions** on the **Publication Type** page, select automatic or manual identity range management (automatic, the default, is recommended).</span></span> <span data-ttu-id="945e0-117">Après la publication de la table, la propriété ne peut plus être modifiée mais d'autres propriétés liées peuvent l'être.</span><span class="sxs-lookup"><span data-stu-id="945e0-117">After the table is published, the property cannot be modified, but other related properties can be modified.</span></span>  
  
-   <span data-ttu-id="945e0-118">Si vous sélectionnez d'autres types de publication, vous devez définir une gestion manuelle des plages d'identité.</span><span class="sxs-lookup"><span data-stu-id="945e0-118">If you select other publication types, identity range management should be set to manual.</span></span>  
  
 <span data-ttu-id="945e0-119">Modifiez les seuils et les plages d’identité sous l’onglet **Propriétés** de la page **Propriétés de l’article - \<Article>** , qui se trouve dans la boîte de dialogue **Propriétés de la publication - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="945e0-119">Modify identity ranges and thresholds on the **Properties** tab of the **Article Properties -\<Article>**, which is available in the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="945e0-120">Pour plus d'informations sur l'accès à cette boîte de dialogue, consultez [Afficher et modifier les propriétés d’un serveur de publication](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-120">For more information about accessing this dialog box, see [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-specify-an-identity-column-management-option"></a><span data-ttu-id="945e0-121">Pour spécifier une option de gestion de colonnes d'identité</span><span class="sxs-lookup"><span data-stu-id="945e0-121">To specify an identity column management option</span></span>  
  
1.  <span data-ttu-id="945e0-122">Si le serveur de publication exécute une version de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] antérieure à [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], dans la page **Type de publication** de l'Assistant Nouvelle publication, sélectionnez **Publication de fusion** ou **Publication transactionnelle avec abonnements mis à jour**.</span><span class="sxs-lookup"><span data-stu-id="945e0-122">If the Publisher is running a version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] prior to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], on the **Publication Type** page of the New Publication Wizard, select **Merge publication** or **Transactional publication with updating subscriptions**.</span></span>  
  
2.  <span data-ttu-id="945e0-123">Dans la page **Articles** , sélectionnez une table avec une colonne d'identité.</span><span class="sxs-lookup"><span data-stu-id="945e0-123">On the **Articles** page, select a table with an identity column.</span></span>  
  
3.  <span data-ttu-id="945e0-124">Cliquez sur **Propriétés de l'article**puis sur **Définir les propriétés de l'article de la table en surbrillance**.</span><span class="sxs-lookup"><span data-stu-id="945e0-124">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article**.</span></span>  
  
4.  <span data-ttu-id="945e0-125">Sous l’onglet **Propriétés** de la boîte de dialogue **Propriétés de l’article - \<Article>** , dans la section **Gestion des plages d’identité**, définissez la propriété **Gérer automatiquement les plages d’identité** sur **Automatique** ou **Manuelle** (pour les serveurs de publication exécutant [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] ou plus), ou sur **True** ou **False** (pour les serveurs de publication exécutant une version de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] antérieure à [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="945e0-125">On the **Properties** tab of the **Article Properties - \<Article>** dialog box, in the **Identity Range Management** section, set the **Automatically manage identity ranges** property to **Automatic** or **Manual** (for Publishers running [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] or later), or **True** or **False** (for Publishers running a version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] prior to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]).</span></span>  
  
5.  <span data-ttu-id="945e0-126">Si vous avez sélectionné la valeur **Automatique** ou **Vrai** dans l'étape 4, entrez des valeurs pour les options du tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="945e0-126">If you selected **Automatic** or **True** in step 4, enter values for the options in the following table.</span></span> <span data-ttu-id="945e0-127">Pour plus d’informations sur l’utilisation de ces paramètres, consultez la section « Affectation de plages d’identité » de [Répliquer des colonnes d’identité](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-127">For more information on how these settings are used, see the "Assigning Identity Ranges" section of [Replicate Identity Columns](replicate-identity-columns.md).</span></span>  
  
    |<span data-ttu-id="945e0-128">Option</span><span class="sxs-lookup"><span data-stu-id="945e0-128">Option</span></span>|<span data-ttu-id="945e0-129">Valeur</span><span class="sxs-lookup"><span data-stu-id="945e0-129">Value</span></span>|<span data-ttu-id="945e0-130">Description</span><span class="sxs-lookup"><span data-stu-id="945e0-130">Description</span></span>|  
    |------------|-----------|-----------------|  
    |<span data-ttu-id="945e0-131">**Taille de la plage sur le serveur de publication**</span><span class="sxs-lookup"><span data-stu-id="945e0-131">**Publisher range size**</span></span>|<span data-ttu-id="945e0-132">Valeur entière représentant la taille de la plage (par exemple, 20000).</span><span class="sxs-lookup"><span data-stu-id="945e0-132">Integer value for range size (for example, 20000).</span></span>|<span data-ttu-id="945e0-133">Consultez la section « Affectation de plages d’identité » de [Répliquer des colonnes d’identité](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-133">See the "Assigning Identity Ranges" section of [Replicate Identity Columns](replicate-identity-columns.md).</span></span>|  
    |<span data-ttu-id="945e0-134">**Taille de la plage sur l'Abonné**</span><span class="sxs-lookup"><span data-stu-id="945e0-134">**Subscriber range size**</span></span>|<span data-ttu-id="945e0-135">Valeur entière représentant la taille de la plage (par exemple, 10000).</span><span class="sxs-lookup"><span data-stu-id="945e0-135">Integer value for range size (for example, 10000).</span></span>|<span data-ttu-id="945e0-136">Consultez la section « Affectation de plages d’identité » de [Répliquer des colonnes d’identité](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-136">See the "Assigning Identity Ranges" section of [Replicate Identity Columns](replicate-identity-columns.md).</span></span>|  
    |<span data-ttu-id="945e0-137">**Pourcentage du seuil de plage**</span><span class="sxs-lookup"><span data-stu-id="945e0-137">**Range threshold percentage**</span></span>|<span data-ttu-id="945e0-138">Valeur entière représentant le pourcentage du seuil (par exemple, 90 signifie 90 %)</span><span class="sxs-lookup"><span data-stu-id="945e0-138">Integer value for percent threshold (for example, 90 is equivalent to 90 percent).</span></span>|<span data-ttu-id="945e0-139">Pourcentage représentant le nombre total de valeurs d'identité utilisées sur un nœud avant d'affecter une nouvelle plage d'identité.</span><span class="sxs-lookup"><span data-stu-id="945e0-139">Percent of total identity values used at a node before a new identity range is assigned.</span></span><br /><br /> <span data-ttu-id="945e0-140">Remarque : Cette valeur doit être spécifiée mais elle est uniquement utilisée par : les Abonnés utilisant des abonnements mis à jour en attente et les Abonnés aux publications de fusion qui exécutent [!INCLUDE[ssEW](../../../includes/ssew-md.md)] ou des versions antérieures d’autres éditions de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="945e0-140">Note: This value must be specified, but it is only used by: Subscribers using queued updating subscriptions; and Subscribers to merge publications running [!INCLUDE[ssEW](../../../includes/ssew-md.md)] or previous versions of other SQL Server editions.</span></span> <span data-ttu-id="945e0-141">Pour plus d’informations, consultez la section « Affectation de plages d’identité » de [Répliquer des colonnes d’identité](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-141">For more information, see the "Assigning Identity Ranges" section of [Replicate Identity Columns](replicate-identity-columns.md).</span></span>|  
    |<span data-ttu-id="945e0-142">**Valeur de départ de la prochaine plage**</span><span class="sxs-lookup"><span data-stu-id="945e0-142">**Next range starting value**</span></span>|<span data-ttu-id="945e0-143">Valeur de type entier.</span><span class="sxs-lookup"><span data-stu-id="945e0-143">Integer value.</span></span> <span data-ttu-id="945e0-144">Lecture seule.</span><span class="sxs-lookup"><span data-stu-id="945e0-144">Read-only.</span></span>|<span data-ttu-id="945e0-145">Valeur de départ de la prochaine plage.</span><span class="sxs-lookup"><span data-stu-id="945e0-145">The value at which the next range will start.</span></span> <span data-ttu-id="945e0-146">Si, par exemple, la plage actuelle va de 5001 à 6000, il s'agira de la valeur 6001.</span><span class="sxs-lookup"><span data-stu-id="945e0-146">For example, if the current range is 5001-6000, this value will be 6001.</span></span>|  
    |<span data-ttu-id="945e0-147">**Valeur d'identité maximale**</span><span class="sxs-lookup"><span data-stu-id="945e0-147">**Maximum identity value**</span></span>|<span data-ttu-id="945e0-148">Valeur de type entier.</span><span class="sxs-lookup"><span data-stu-id="945e0-148">Integer value.</span></span> <span data-ttu-id="945e0-149">Lecture seule.</span><span class="sxs-lookup"><span data-stu-id="945e0-149">Read-only.</span></span>|<span data-ttu-id="945e0-150">Valeur maximale de la colonne identité.</span><span class="sxs-lookup"><span data-stu-id="945e0-150">The largest value for the identity column.</span></span> <span data-ttu-id="945e0-151">Déterminée par le type de données de base de la colonne.</span><span class="sxs-lookup"><span data-stu-id="945e0-151">Determined by the base data type of the column.</span></span>|  
    |<span data-ttu-id="945e0-152">**Incrément**</span><span class="sxs-lookup"><span data-stu-id="945e0-152">**Increment**</span></span>|<span data-ttu-id="945e0-153">Valeur de type entier.</span><span class="sxs-lookup"><span data-stu-id="945e0-153">Integer value.</span></span> <span data-ttu-id="945e0-154">Lecture seule.</span><span class="sxs-lookup"><span data-stu-id="945e0-154">Read-only.</span></span>|<span data-ttu-id="945e0-155">Valeur utilisée pour augmenter ou diminuer le nombre de la colonne d'identité à chaque insertion : en règle générale définie à 1.</span><span class="sxs-lookup"><span data-stu-id="945e0-155">The amount by which the number in the identity column should increase or decrease for each insert: typically set to 1.</span></span>|  
  
6.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-modify-identity-ranges-and-thresholds-after-a-table-is-published"></a><span data-ttu-id="945e0-156">Pour modifier les seuils et les plages d'identité après la publication d'une table</span><span class="sxs-lookup"><span data-stu-id="945e0-156">To modify identity ranges and thresholds after a table is published</span></span>  
  
1.  <span data-ttu-id="945e0-157">Dans la page **Articles** de la boîte de dialogue **Propriétés de la publication - \<Publication>** , sélectionnez une table avec une colonne d’identité.</span><span class="sxs-lookup"><span data-stu-id="945e0-157">On the **Articles** page of the **Publication Properties - \<Publication>** dialog box, select a table with an identity column.</span></span>  
  
2.  <span data-ttu-id="945e0-158">Cliquez sur **Propriétés de l'article**puis sur **Définir les propriétés de l'article de la table en surbrillance**.</span><span class="sxs-lookup"><span data-stu-id="945e0-158">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article**.</span></span>  
  
3.  <span data-ttu-id="945e0-159">Dans l’onglet **Propriétés**, dans la boîte de dialogue **Propriétés de l’article - \<Article>** au sein de la section **Gestion des plages d’identité**, entrez des valeurs pour une ou plusieurs des propriétés suivantes : **Taille de la plage sur le serveur de publication**, **Taille de la plage sur l’Abonné** et **Pourcentage du seuil de plage**.</span><span class="sxs-lookup"><span data-stu-id="945e0-159">On the **Properties** tab of the **Article Properties - \<Article>** dialog box, in the **Identity Range Management** section, enter values for one or more of the following properties: **Publisher range size**, **Subscriber range size**, and **Range threshold percentage**.</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="945e0-160">Cliquez sur **OK** dans la boîte de dialogue **Propriétés de la publication - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="945e0-160">Click **OK** on the **Publication Properties - \<Publication>** dialog box.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="945e0-161">Utilisation de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="945e0-161">Using Transact-SQL</span></span>  
 <span data-ttu-id="945e0-162">Vous pouvez utiliser des procédures stockées de réplication pour spécifier les options de gestion des plages d'identité lors de la création d'un article.</span><span class="sxs-lookup"><span data-stu-id="945e0-162">You can use replication stored procedures to specify identity range management options when an article is created.</span></span>  
  
#### <a name="to-enable-automatic-identity-range-management-when-defining-articles-for-a-transactional-publication"></a><span data-ttu-id="945e0-163">Pour activer la gestion automatique des plages d'identité lors de la définition d'articles pour une publication transactionnelle</span><span class="sxs-lookup"><span data-stu-id="945e0-163">To enable automatic identity range management when defining articles for a transactional publication</span></span>  
  
1.  <span data-ttu-id="945e0-164">Exécutez [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql)sur la base de données de publication du serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="945e0-164">At the Publisher on the publication database, execute [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span></span> <span data-ttu-id="945e0-165">Si la table source qui est publiée contient une colonne d’identité, affectez la valeur **auto** à **\@identityrangemanagementoption**, spécifiez la plage de valeurs d’identité affectée au serveur de publication pour **\@pub_identity_range**, la plage de valeurs d’identité affectée à chaque Abonné pour **\@identity_range** et le pourcentage des valeurs d’identité totales utilisé avant qu’une nouvelle plage d’identité soit affectée pour **\@threshold**.</span><span class="sxs-lookup"><span data-stu-id="945e0-165">If the source table being published has an identity column, specify a value of **auto** for **\@identityrangemanagementoption**, the range of identity values assigned to the Publisher for **\@pub_identity_range**, the range of identity values assigned to each Subscribers for **\@identity_range**, and the percent of total identity values used before a new identity range is assigned for **\@threshold**.</span></span> <span data-ttu-id="945e0-166">Pour plus d’informations sur la définition d’articles, consultez [Définir un article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-166">For more information about defining articles, see [Define an Article](define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="945e0-167">Vérifiez que le type de données de la colonne d'identité est suffisamment grand pour prendre en charge la plage totale des identités affectées à l'ensemble des Abonnés.</span><span class="sxs-lookup"><span data-stu-id="945e0-167">Ensure that the data type of the identity column is large enough to support the total range of identities being assigned to all Subscribers.</span></span>  
  
#### <a name="to-disable-automatic-identity-range-management-when-defining-articles-for-a-transactional-publication"></a><span data-ttu-id="945e0-168">Pour désactiver la gestion automatique des plages d'identité lors de la définition d'articles pour une publication transactionnelle</span><span class="sxs-lookup"><span data-stu-id="945e0-168">To disable automatic identity range management when defining articles for a transactional publication</span></span>  
  
1.  <span data-ttu-id="945e0-169">Exécutez [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql)sur la base de données de publication du serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="945e0-169">At the Publisher on the publication database, execute [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span></span> <span data-ttu-id="945e0-170">Affectez la valeur **manual** à **\@identityrangemanagementoption**.</span><span class="sxs-lookup"><span data-stu-id="945e0-170">Specify a value of **manual** for **\@identityrangemanagementoption**.</span></span> <span data-ttu-id="945e0-171">Pour plus d’informations sur la définition d’articles, consultez [Définir un article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-171">For more information about defining articles, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="945e0-172">Affectez des plages aux colonnes d'identité d'article sur l'Abonné pour éviter de générer des conflits lors de la mise à jour des Abonnés.</span><span class="sxs-lookup"><span data-stu-id="945e0-172">Assign ranges to identity article columns at the Subscriber to avoid generating conflicts for updating Subscribers.</span></span> <span data-ttu-id="945e0-173">Pour plus d’informations, consultez la section relative à l’affectation de plages pour la gestion manuelle de plages d’identité dans la rubrique [Répliquer des colonnes d’identité](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-173">For more information, see the section on assigning ranges for manual identity range management in the topic [Replicate Identity Columns](replicate-identity-columns.md).</span></span>  
  
#### <a name="to-enable-automatic-identity-range-management-when-defining-articles-for-a-merge-publication"></a><span data-ttu-id="945e0-174">Pour activer la gestion automatique des plages d'identité lors de la définition d'articles pour une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="945e0-174">To enable automatic identity range management when defining articles for a merge publication</span></span>  
  
1.  <span data-ttu-id="945e0-175">Dans la base de données de publication sur le serveur de publication, exécutez [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="945e0-175">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="945e0-176">Si la table source qui est publiée contient une colonne d’identité, affectez la valeur **auto** à **\@identityrangemanagementoption**, spécifiez la plage de valeurs d’identité affectée à un abonnement serveur pour **\@pub_identity_range**, la plage de valeurs d’identité affectée au serveur de publication et à chaque abonnement client pour **\@identity_range** et le pourcentage des valeurs d’identité totales utilisé avant qu’une nouvelle plage d’identité soit affectée pour **\@threshold**.</span><span class="sxs-lookup"><span data-stu-id="945e0-176">If the source table being published has an identity column, specify a value of **auto** for **\@identityrangemanagementoption**, the range of identity values assigned to a server subscription for **\@pub_identity_range**, the range of identity values assigned to the Publisher and each client subscription for **\@identity_range**, and the percent of total identity values used before a new identity range is assigned for **\@threshold**.</span></span> <span data-ttu-id="945e0-177">Pour plus d’informations sur l’affectation de nouvelles plages d’identité, consultez la section « Attribution de plages d’identité » de la rubrique [Répliquer des colonnes d’identité](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-177">For more information on when new identity ranges are assigned, see Assigning Identity Ranges in the topic [Replicate Identity Columns](replicate-identity-columns.md).</span></span> <span data-ttu-id="945e0-178">Pour plus d’informations sur la définition d’articles, consultez [Définir un article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-178">For more information about defining articles, see [Define an Article](define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="945e0-179">Vérifiez que le type de données de la colonne d'identité est suffisamment grand pour prendre en charge la plage totale des identités qui sont assignées à l'ensemble des Abonnés, en particulier pour les Abonnés avec des abonnements serveur.</span><span class="sxs-lookup"><span data-stu-id="945e0-179">Ensure that the data type of the identity column is large enough to support the total range of identities being assigned to all Subscribers, particularly for Subscribers with server subscriptions.</span></span>  
  
#### <a name="to-disable-automatic-identity-range-management-when-defining-articles-for-a-merge-publication"></a><span data-ttu-id="945e0-180">Pour désactiver la gestion automatique des plages d'identité lors de la définition d'articles pour une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="945e0-180">To disable automatic identity range management when defining articles for a merge publication</span></span>  
  
1.  <span data-ttu-id="945e0-181">Dans la base de données de publication sur le serveur de publication, exécutez [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="945e0-181">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="945e0-182">Affectez l’une des valeurs suivantes à **\@identityrangemanagementoption** :</span><span class="sxs-lookup"><span data-stu-id="945e0-182">Specify one of the following values for **\@identityrangemanagementoption**:</span></span>  
  
    -   <span data-ttu-id="945e0-183">**manuel** - les plages d'identité doivent être affectées manuellement pour la mise à jour des Abonnés.</span><span class="sxs-lookup"><span data-stu-id="945e0-183">**manual** - Identity ranges must be assigned manually for updating Subscribers.</span></span>  
  
    -   <span data-ttu-id="945e0-184">**none** - les colonnes d'identité sur le serveur de publication ne seront pas définies en tant que colonnes d'identité sur l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="945e0-184">**none** - Identity columns at the Publisher will not be defined as identity columns at the Subscriber.</span></span>  
  
     <span data-ttu-id="945e0-185">Pour plus d’informations sur la définition d’articles, consultez [Définir un article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-185">For more information about defining articles, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="945e0-186">Affectez des plages aux colonnes d'identité d'article sur l'Abonné pour éviter de générer des conflits lors de la mise à jour des Abonnés.</span><span class="sxs-lookup"><span data-stu-id="945e0-186">Assign ranges to identity article columns at the Subscriber to avoid generating conflicts for updating Subscribers.</span></span>  
  
#### <a name="to-change-automatic-identity-range-management-settings-for-an-existing-article-in-a-snapshot-or-transactional-publication"></a><span data-ttu-id="945e0-187">Pour modifier les paramètres de gestion automatique des plages d'identité pour un article existant dans une publication transactionnelle ou d'instantané</span><span class="sxs-lookup"><span data-stu-id="945e0-187">To change automatic identity range management settings for an existing article in a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="945e0-188">Dans la base de données de publication sur le serveur de publication, exécutez [sp_helparticle](/sql/relational-databases/system-stored-procedures/sp-helparticle-transact-sql) et notez la valeur de **identityrangemanagementoption** dans le jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="945e0-188">At the Publisher on the publication database, execute [sp_helparticle](/sql/relational-databases/system-stored-procedures/sp-helparticle-transact-sql) and note the value of **identityrangemanagementoption** in the result set.</span></span> <span data-ttu-id="945e0-189">Si cette valeur est **0**, la gestion automatique des plages d'identité n'est pas activée.</span><span class="sxs-lookup"><span data-stu-id="945e0-189">If this value is **0**, automatic identity range management is not enabled.</span></span>  
  
2.  <span data-ttu-id="945e0-190">Si la valeur de **identityrangemanagementoption** dans le jeu de résultats est **1**, modifiez les paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="945e0-190">If the value of **identityrangemanagementoption** in the result set is **1**, change the settings as follows:</span></span>  
  
    -   <span data-ttu-id="945e0-191">Pour modifier les plages d'identité affectées, exécutez [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) au niveau du serveur de publication dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="945e0-191">To change the assigned identity ranges, execute [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="945e0-192">Affectez la valeur **identity_range** ou **pub_identity_range** à **\@property** et spécifiez la nouvelle valeur de la plage pour **\@value**.</span><span class="sxs-lookup"><span data-stu-id="945e0-192">Specify a value of **identity_range** or **pub_identity_range** for **\@property** and the new range value for **\@value**.</span></span>  
  
    -   <span data-ttu-id="945e0-193">Pour modifier le seuil d'affectation de nouvelles plages, exécutez [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) au niveau du serveur de publication dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="945e0-193">To change the threshold at which new ranges are assigned, execute [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="945e0-194">Affectez la valeur **threshold** à **\@property** et spécifiez la nouvelle valeur de seuil pour **\@value**.</span><span class="sxs-lookup"><span data-stu-id="945e0-194">Specify a value of **threshold** for **\@property** and the new threshold value for **\@value**.</span></span>  
  
#### <a name="to-change-automatic-identity-range-management-settings-for-an-existing-article-in-a-merge-publication"></a><span data-ttu-id="945e0-195">Pour modifier les paramètres de gestion automatique des plages d'identité pour un article existant dans une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="945e0-195">To change automatic identity range management settings for an existing article in a merge publication</span></span>  
  
1.  <span data-ttu-id="945e0-196">Dans la base de données de publication sur le serveur de publication, exécutez [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) et notez la valeur de **identity_support** dans le jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="945e0-196">At the Publisher on the publication database, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **identity_support** in the result set.</span></span> <span data-ttu-id="945e0-197">Si cette valeur est **0**, la gestion automatique des plages d'identité n'est pas activée.</span><span class="sxs-lookup"><span data-stu-id="945e0-197">If this value is **0**, automatic identity range management is not enabled.</span></span>  
  
2.  <span data-ttu-id="945e0-198">Si la valeur de **identity_support** dans le jeu de résultats est **1**, modifiez les paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="945e0-198">If the value of **identity_support** in the result set is **1**, change the settings as follows:</span></span>  
  
    -   <span data-ttu-id="945e0-199">Pour modifier les plages d'identité affectées, exécutez [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) au niveau du serveur de publication dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="945e0-199">To change the assigned identity ranges, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="945e0-200">Affectez la valeur **identity_range** ou **pub_identity_range** à **\@property** et spécifiez la nouvelle valeur de la plage pour **\@value**.</span><span class="sxs-lookup"><span data-stu-id="945e0-200">Specify a value of **identity_range** or **pub_identity_range** for **\@property** and the new range value for **\@value**.</span></span>  
  
    -   <span data-ttu-id="945e0-201">Pour modifier le seuil d'affectation de nouvelles plages, exécutez [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) au niveau du serveur de publication dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="945e0-201">To change the threshold at which new ranges are assigned, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="945e0-202">Affectez la valeur **threshold** à **\@property** et spécifiez la nouvelle valeur de seuil pour **\@value**.</span><span class="sxs-lookup"><span data-stu-id="945e0-202">Specify a value of **threshold** for **\@property** and the new threshold value for **\@value**.</span></span> <span data-ttu-id="945e0-203">Pour plus d’informations sur l’affectation de nouvelles plages d’identité, consultez la section « Attribution de plages d’identité » de la rubrique [Répliquer des colonnes d’identité](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="945e0-203">For more information on when new identity ranges are assigned, see Assigning Identity Ranges in the topic [Replicate Identity Columns](replicate-identity-columns.md).</span></span>  
  
    -   <span data-ttu-id="945e0-204">Pour désactiver la gestion automatique des plages d'identité, exécutez [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) au niveau du serveur de publication dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="945e0-204">To disable automatic identity range management, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="945e0-205">Affectez la valeur **identityrangemanagementoption** à **\@property** et la valeur **manual** ou **none** à **\@value**.</span><span class="sxs-lookup"><span data-stu-id="945e0-205">Specify a value of **identityrangemanagementoption** for **\@property** and either **manual** or **none** for **\@value**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="945e0-206">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="945e0-206">See Also</span></span>  
 <span data-ttu-id="945e0-207">[Peer-to-Peer Transactional Replication](../transactional/peer-to-peer-transactional-replication.md) </span><span class="sxs-lookup"><span data-stu-id="945e0-207">[Peer-to-Peer Transactional Replication](../transactional/peer-to-peer-transactional-replication.md) </span></span>  
 <span data-ttu-id="945e0-208">[Concepts liés aux procédures stockées système de réplication](../concepts/replication-system-stored-procedures-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="945e0-208">[Replication System Stored Procedures Concepts](../concepts/replication-system-stored-procedures-concepts.md) </span></span>  
 [<span data-ttu-id="945e0-209">Répliquer des colonnes d’identité</span><span class="sxs-lookup"><span data-stu-id="945e0-209">Replicate Identity Columns</span></span>](replicate-identity-columns.md)  
  
  
