---
title: Optimiser les filtres de lignes paramétrables | Microsoft Docs
ms.custom: ''
ms.date: 06/30/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- precomputed partitions [SQL Server replication]
- filters [SQL Server replication], parameterized
- merge replication precomputed partitions [SQL Server replication], SQL Server Management Studio
- parameterized filters [SQL Server replication], optimizing
ms.assetid: 49349605-ebd0-4757-95be-c0447f30ba13
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: f1c6448d8e2dba7a68fab441d4d08fd4a4a1db4d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87708179"
---
# <a name="optimize-parameterized-row-filters"></a><span data-ttu-id="60d48-102">Optimiser les filtres de lignes paramétrables</span><span class="sxs-lookup"><span data-stu-id="60d48-102">Optimize Parameterized Row Filters</span></span>
  <span data-ttu-id="60d48-103">Cette rubrique explique comment optimiser les filtres de lignes paramétrables dans [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] à l'aide de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ou de [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60d48-103">This topic describes how to optimize parameterized row filters in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span>  
  
 <span data-ttu-id="60d48-104">**Dans cette rubrique**</span><span class="sxs-lookup"><span data-stu-id="60d48-104">**In This Topic**</span></span>  
  
-   <span data-ttu-id="60d48-105">**Avant de commencer :**</span><span class="sxs-lookup"><span data-stu-id="60d48-105">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="60d48-106">Recommandations</span><span class="sxs-lookup"><span data-stu-id="60d48-106">Recommendations</span></span>](#Recommendations)  
  
-   <span data-ttu-id="60d48-107">**Pour optimiser les filtres de lignes paramétrables à l'aide de :**</span><span class="sxs-lookup"><span data-stu-id="60d48-107">**To optimize parameterized row filters, using:**</span></span>  
  
     [<span data-ttu-id="60d48-108">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="60d48-108">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="60d48-109">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="60d48-109">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="60d48-110">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="60d48-110">Before You Begin</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="60d48-111">Recommandations</span><span class="sxs-lookup"><span data-stu-id="60d48-111">Recommendations</span></span>  
  
-   <span data-ttu-id="60d48-112">Lorsque vous utilisez des filtres paramétrables, vous pouvez contrôler le traitement de ces filtres par la réplication de fusion en spécifiant l'option **use partition groups** ou l'option **keep partition changes** au moment de la création d'une publication.</span><span class="sxs-lookup"><span data-stu-id="60d48-112">When you use parameterized filters, you can control how the filters are processed by merge replication by specifying either the **use partition groups** option or the **keep partition changes** option when you create a publication.</span></span> <span data-ttu-id="60d48-113">Ces options améliorent les performances de la synchronisation des publications avec articles filtrés en stockant des métadonnées supplémentaires dans la base de données de publication.</span><span class="sxs-lookup"><span data-stu-id="60d48-113">These options improve the synchronization performance for publications with filtered articles by storing additional metadata in the publication database.</span></span> <span data-ttu-id="60d48-114">Vous pouvez contrôler le partage des données entre les Abonnés en définissant **partition options** au moment de la création d'un article.</span><span class="sxs-lookup"><span data-stu-id="60d48-114">You can control how the data is shared among Subscribers by setting **partition options** when you create an article.</span></span> <span data-ttu-id="60d48-115">Pour plus d'informations sur ces conditions requises, consultez [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-115">For more information about these requirements, see [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
     <span data-ttu-id="60d48-116">Avec les abonnés SQL Server Compact de [!INCLUDE[ssEW](../../../includes/ssew-md.md)], keep_partition_changes doit avoir la valeur true afin que les suppressions soient correctement propagées.</span><span class="sxs-lookup"><span data-stu-id="60d48-116">With [!INCLUDE[ssEW](../../../includes/ssew-md.md)]SQL Server Compact subscribers, keep_partition_changes must be set to true to ensure that deletes are correctly propagated.</span></span> <span data-ttu-id="60d48-117">Lorsque la valeur est false, l'abonné peut avoir plus de lignes que prévu.</span><span class="sxs-lookup"><span data-stu-id="60d48-117">When set to false, the subscriber might have more rows than expected.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="60d48-118">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="60d48-118">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="60d48-119">Les paramètres suivants permettent d'optimiser les filtres de lignes paramétrés :</span><span class="sxs-lookup"><span data-stu-id="60d48-119">The following settings can be used to optimize parameterized row filters:</span></span>  
  
 <span data-ttu-id="60d48-120">**Partition Options**</span><span class="sxs-lookup"><span data-stu-id="60d48-120">**Partition Options**</span></span>  
 <span data-ttu-id="60d48-121">Définissez cette option dans la page **Propriétés** de la boîte de dialogue **Propriétés de l’article - \<Article>** , ou dans la boîte de dialogue **Ajouter un filtre**.</span><span class="sxs-lookup"><span data-stu-id="60d48-121">Set this option on the **Properties** page of the **Article Properties - \<Article>** dialog box, or in the **Add Filter** dialog box.</span></span> <span data-ttu-id="60d48-122">Ces deux boîtes de dialogue sont disponibles dans l’Assistant Nouvelle publication et dans la boîte de dialogue **Propriétés de la publication - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="60d48-122">Both dialog boxes are available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="60d48-123">La boîte de dialogue **Propriétés de l’article - \<Article>** vous permet de spécifier pour cette option d’autres valeurs qui ne sont pas disponibles dans la boîte de dialogue **Ajouter un filtre**.</span><span class="sxs-lookup"><span data-stu-id="60d48-123">The **Article Properties - \<Article>** dialog box allows you to specify additional values for this option that are not available in the **Add Filter** dialog box.</span></span>  
  
 <span data-ttu-id="60d48-124">**Précalculer les partitions**</span><span class="sxs-lookup"><span data-stu-id="60d48-124">**Precompute Partitions**</span></span>  
 <span data-ttu-id="60d48-125">Par défaut, cette option est définie à **True** si les articles de votre publication satisfont à un ensemble de conditions.</span><span class="sxs-lookup"><span data-stu-id="60d48-125">This option is set to **True** by default if the articles in your publication adhere to a set of requirements.</span></span> <span data-ttu-id="60d48-126">Pour plus d’informations sur ces exigences, consultez [Optimiser les performances des filtres paramétrés avec des partitions précalculées](../merge/parameterized-filters-optimize-for-precomputed-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-126">For more information about these requirements, see [Optimize Parameterized Filter Performance with Precomputed Partitions](../merge/parameterized-filters-optimize-for-precomputed-partitions.md).</span></span> <span data-ttu-id="60d48-127">Modifiez cette option dans la page **Options d’abonnement** de la boîte de dialogue **Propriétés de la publication - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="60d48-127">Modify this option on the **Subscription Options** page of the **Publication Properties - \<Publication>** dialog box.</span></span>  
  
 <span data-ttu-id="60d48-128">**Optimiser la synchronisation**</span><span class="sxs-lookup"><span data-stu-id="60d48-128">**Optimize Synchronization**</span></span>  
 <span data-ttu-id="60d48-129">Cette option ne doit être définie à **True** que si **Précalculer les partitions** est défini à **False**.</span><span class="sxs-lookup"><span data-stu-id="60d48-129">This option should be set to **True** only if **Precompute Partitions** is set to **False**.</span></span> <span data-ttu-id="60d48-130">Définissez cette option dans la page **Options d’abonnement** de la boîte de dialogue **Propriétés de la publication - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="60d48-130">Set this option on the **Subscription Options** page of the **Publication Properties - \<Publication>** dialog box.</span></span>  
  
 <span data-ttu-id="60d48-131">Pour plus d’informations sur l’utilisation de l’Assistant Nouvelle publication et sur l’accès à la boîte de dialogue **Propriétés de la publication- \<Publication>** , consultez [Créer une publication](create-a-publication.md) et [Afficher et modifier les propriétés d’une publication](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-131">For more information about using the New Publication Wizard and accessing the **Publication Properties - \<Publication>** dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-set-partition-options-in-the-add-filter-or-edit-filter-dialog-box"></a><span data-ttu-id="60d48-132">Pour définir les options de la partition dans la boîte de dialogue Ajouter un filtre ou Modifier le filtre</span><span class="sxs-lookup"><span data-stu-id="60d48-132">To set Partition options in the Add Filter or Edit Filter dialog box</span></span>  
  
1.  <span data-ttu-id="60d48-133">Dans la page **Filtrer les lignes de la table** de l’Assistant Nouvelle publication, ou la page **Filtrer les lignes** de la boîte de dialogue **Propriétés de la Publication - \<Publication>** , cliquez sur **Ajouter**, puis sur **Ajouter un filtre**.</span><span class="sxs-lookup"><span data-stu-id="60d48-133">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, click **Add**, and then click **Add Filter**.</span></span>  
  
2.  <span data-ttu-id="60d48-134">Créer un filtre paramétré.</span><span class="sxs-lookup"><span data-stu-id="60d48-134">Create a parameterized filter.</span></span> <span data-ttu-id="60d48-135">Pour plus d'informations, voir [Définir et modifier un filtre de lignes paramétrable pour un article de fusion](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-135">For more information, see [Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span></span>  
  
3.  <span data-ttu-id="60d48-136">Sélectionnez l'option qui correspond aux données qui seront partagées entre des Abonnés :</span><span class="sxs-lookup"><span data-stu-id="60d48-136">Select the option that matches how data will be shared among Subscribers:</span></span>  
  
    -   <span data-ttu-id="60d48-137">**Une ligne de cette table ira à plusieurs abonnements**</span><span class="sxs-lookup"><span data-stu-id="60d48-137">**A row from this table will go to multiple subscriptions**</span></span>  
  
    -   <span data-ttu-id="60d48-138">**Filtre paramétré créant des partitions qui ne se chevauchent pas, avec un seul abonnement par partition**</span><span class="sxs-lookup"><span data-stu-id="60d48-138">**A row from this table will go to only one subscription**</span></span>  
  
     <span data-ttu-id="60d48-139">Si vous sélectionnez **Filtre paramétré créant des partitions qui ne se chevauchent pas, avec un seul abonnement par partition**, la réplication de fusion peut optimiser les performances en stockant et en traitant moins de métadonnées.</span><span class="sxs-lookup"><span data-stu-id="60d48-139">If you select **A row from this table will go to only one subscription**, merge replication can optimize performance by storing and processing less metadata.</span></span> <span data-ttu-id="60d48-140">Cependant, vous devez vérifier que les données sont partitionnées de telle façon qu'une ligne ne peut pas être répliquée sur plus d'un Abonné.</span><span class="sxs-lookup"><span data-stu-id="60d48-140">However, you must ensure that the data is partitioned in such a way that a row cannot be replicated to more than one Subscriber.</span></span> <span data-ttu-id="60d48-141">Pour plus d'informations, consultez la section « Définition de « partition options » » dans la rubrique [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-141">For more information, see the section "Setting 'partition options'" in the topic [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="60d48-142">Si vous êtes dans la boîte de dialogue **Propriétés de la publication - \<Publication>** , cliquez sur **OK** pour enregistrer et fermer la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="60d48-142">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-set-partition-options-in-the-article-properties---article-dialog-box"></a><span data-ttu-id="60d48-143">Pour définir les options de la partition dans la boîte de dialogue Propriétés de l’article - \<Article></span><span class="sxs-lookup"><span data-stu-id="60d48-143">To set Partition Options in the Article Properties - \<Article> dialog box</span></span>  
  
1.  <span data-ttu-id="60d48-144">Dans la page **Articles** de l’Assistant Nouvelle publication ou la boîte de dialogue **Propriétés de la publication - \<Publication>** , sélectionnez une table, puis cliquez sur **Propriétés de l’article**.</span><span class="sxs-lookup"><span data-stu-id="60d48-144">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table, and then click **Article Properties**.</span></span>  
  
2.  <span data-ttu-id="60d48-145">Cliquez sur **Définir les propriétés de l'article de la table en surbrillance** ou **Définir les propriétés de tous les articles de la table**.</span><span class="sxs-lookup"><span data-stu-id="60d48-145">Click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>  
  
3.  <span data-ttu-id="60d48-146">Dans la section **Objet de destination** de l’onglet **Propriétés** de la boîte de dialogue **Propriétés de l’article - \<Article>** , spécifiez l’une des valeurs suivantes pour **Options de la partition** :</span><span class="sxs-lookup"><span data-stu-id="60d48-146">In the **Destination Object** section of the **Properties** tab of the **Article Properties - \<Article>** dialog box, specify one of the following values for **Partition Options**:</span></span>  
  
    -   <span data-ttu-id="60d48-147">**Chevauchement**</span><span class="sxs-lookup"><span data-stu-id="60d48-147">**Overlapping**</span></span>  
  
    -   <span data-ttu-id="60d48-148">**Chevauchement ; refus des modifications de données hors partition**</span><span class="sxs-lookup"><span data-stu-id="60d48-148">**Overlapping, disallow out-of-partition data changes**</span></span>  
  
    -   <span data-ttu-id="60d48-149">**Non-chevauchement ; abonnement unique**</span><span class="sxs-lookup"><span data-stu-id="60d48-149">**Nonoverlapping, single subscription**</span></span>  
  
    -   <span data-ttu-id="60d48-150">**Non-chevauchement ; partage entre les abonnements**</span><span class="sxs-lookup"><span data-stu-id="60d48-150">**Nonoverlapping, shared between subscriptions**</span></span>  
  
     <span data-ttu-id="60d48-151">Pour plus d'informations sur ces options et sur leurs liens avec les options disponibles dans les boîtes de dialogue **Ajouter un filtre** et **Modifier le filtre** , consultez la section relative à la définition de la propriété « partition options » dans la rubrique [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-151">For more information about these options and how they relate to the options available in the **Add Filter** and **Edit Filter** dialog boxes, see the "Setting 'partition options'" section of [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="60d48-152">Si vous êtes dans la boîte de dialogue **Propriétés de la publication - \<Publication>** , cliquez sur **OK** pour enregistrer et fermer la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="60d48-152">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-set-precompute-partitions"></a><span data-ttu-id="60d48-153">Pour définir Précalculer les partitions</span><span class="sxs-lookup"><span data-stu-id="60d48-153">To set Precompute Partitions</span></span>  
  
1.  <span data-ttu-id="60d48-154">Dans la page **Options d’abonnement** de la boîte de dialogue **Propriétés de la publication - \<Publication>** , sélectionnez une valeur pour l’option **Précalculer les partitions**.</span><span class="sxs-lookup"><span data-stu-id="60d48-154">On the **Subscription Options** page of the **Publication Properties - \<Publication>** dialog box, select a value for the **Precompute Partitions** option.</span></span> <span data-ttu-id="60d48-155">Cette propriété est en lecture seule si :</span><span class="sxs-lookup"><span data-stu-id="60d48-155">The property is read-only if:</span></span>  
  
    -   <span data-ttu-id="60d48-156">La publication ne satisfait pas aux conditions requises pour les partitions précalculées.</span><span class="sxs-lookup"><span data-stu-id="60d48-156">The publication does not meet the requirements for precomputed partitions.</span></span>  
  
    -   <span data-ttu-id="60d48-157">Aucun instantané n'a encore été généré pour la publication.</span><span class="sxs-lookup"><span data-stu-id="60d48-157">A snapshot has not yet been generated for the publication.</span></span> <span data-ttu-id="60d48-158">Dans ce cas, l'option affiche la valeur **Définir automatiquement lorsqu'un instantané est créé**.</span><span class="sxs-lookup"><span data-stu-id="60d48-158">In this case, the option displays a value of **Set automatically when a snapshot is created**.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-set-optimize-synchronization"></a><span data-ttu-id="60d48-159">Pour définir Optimiser la synchronisation</span><span class="sxs-lookup"><span data-stu-id="60d48-159">To set Optimize Synchronization</span></span>  
  
1.  <span data-ttu-id="60d48-160">Dans la **page Options d’abonnement** de la boîte de dialogue Propriétés de la \*\*publication- \<Publication> \*\* , sélectionnez la valeur **true** pour l’option optimiser la **synchronisation** .</span><span class="sxs-lookup"><span data-stu-id="60d48-160">On the **Subscription Options** page of the **Publication Properties - \<Publication>** dialog box, select a value of **True** for the **Optimize Synchronization** option.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="60d48-161">Utilisation de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="60d48-161">Using Transact-SQL</span></span>  
 <span data-ttu-id="60d48-162">Pour obtenir la définition des options de filtrage pour \*\* \@ keep_partition_changes\*\* et \*\* \@ use_partition_groups\*\*, consultez [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="60d48-162">For definitions of the filtering options for **\@keep_partition_changes** and **\@use_partition_groups**, see [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span></span>  
  
#### <a name="to-specify-merge-filter-optimizations-when-creating-a-new-publication"></a><span data-ttu-id="60d48-163">Pour spécifier des optimisations du filtre de fusion au moment de la création d'une publication</span><span class="sxs-lookup"><span data-stu-id="60d48-163">To specify merge filter optimizations when creating a new publication</span></span>  
  
1.  <span data-ttu-id="60d48-164">Dans la base de données de publication sur le serveur de publication, exécutez [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="60d48-164">At the Publisher on the publication database, execute [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span></span> <span data-ttu-id="60d48-165">Spécifiez \*\* \@ publication\*\* et la valeur `true` pour l’un des paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="60d48-165">Specify **\@publication** and a value of `true` for one the following parameters:</span></span>  
  
    -   <span data-ttu-id="60d48-166">\*\* \@ use_partition_groups\*\*: optimisation des performances la plus élevée, à condition que les articles soient conformes aux spécifications des partitions précalculées.</span><span class="sxs-lookup"><span data-stu-id="60d48-166">**\@use_partition_groups**: - the highest performance optimization, provided that the articles conform to the requirements for precomputed partitions.</span></span> <span data-ttu-id="60d48-167">Pour plus d’informations, consultez [Optimiser les performances des filtres paramétrés avec des partitions précalculées](../merge/parameterized-filters-optimize-for-precomputed-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-167">For more information, see [Optimize Parameterized Filter Performance with Precomputed Partitions](../merge/parameterized-filters-optimize-for-precomputed-partitions.md).</span></span>  
  
    -   <span data-ttu-id="60d48-168">\*\* \@ keep_partition_changes\*\* : utilisez cette optimisation si les partitions précalculées ne peuvent pas être utilisées.</span><span class="sxs-lookup"><span data-stu-id="60d48-168">**\@keep_partition_changes** - use this optimization if precomputed partitions cannot be used.</span></span>  
  
2.  <span data-ttu-id="60d48-169">Ajoutez un travail d'instantané pour la publication.</span><span class="sxs-lookup"><span data-stu-id="60d48-169">Add a snapshot job for the publication.</span></span> <span data-ttu-id="60d48-170">Pour plus d’informations, consultez [Créer une publication](create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-170">For more information see [Create a Publication](create-a-publication.md).</span></span>  
  
3.  <span data-ttu-id="60d48-171">Dans la base de données de publication sur le serveur de publication, exécutez [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), en spécifiant les paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="60d48-171">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), specifying the following parameters:</span></span>  
  
    -   <span data-ttu-id="60d48-172">\*\* \@ publication\*\* : nom de la publication de l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="60d48-172">**\@publication** - the name of the publication from step 1.</span></span>  
  
    -   <span data-ttu-id="60d48-173">\*\* \@ article\*\* -nom de l’article</span><span class="sxs-lookup"><span data-stu-id="60d48-173">**\@article** - a name for the article</span></span>  
  
    -   <span data-ttu-id="60d48-174">\*\* \@ source_object\*\* -objet de base de données en cours de publication.</span><span class="sxs-lookup"><span data-stu-id="60d48-174">**\@source_object** - the database object being published.</span></span>  
  
    -   <span data-ttu-id="60d48-175">\*\* \@ subset_filterclause\*\* : clause de filtre paramétrable facultative utilisée pour filtrer horizontalement l’article.</span><span class="sxs-lookup"><span data-stu-id="60d48-175">**\@subset_filterclause** - the optional parameterized filter clause used to horizontally filter the article.</span></span>  
  
    -   <span data-ttu-id="60d48-176">\*\* \@ partition_options\*\* -options de partition pour l’article filtré.</span><span class="sxs-lookup"><span data-stu-id="60d48-176">**\@partition_options** - the partition options for the filtered article.</span></span>  
  
4.  <span data-ttu-id="60d48-177">Répétez l'étape 3 pour chaque article de la publication.</span><span class="sxs-lookup"><span data-stu-id="60d48-177">Repeat step 3 for each article in the publication.</span></span>  
  
5.  <span data-ttu-id="60d48-178">(Facultatif) Dans la base de données de publication sur le serveur de publication, exécutez [sp_addmergefilter](/sql/relational-databases/system-stored-procedures/sp-addmergefilter-transact-sql) pour définir un filtre de jointure entre deux articles.</span><span class="sxs-lookup"><span data-stu-id="60d48-178">(Optional) At the Publisher on the publication database, execute [sp_addmergefilter](/sql/relational-databases/system-stored-procedures/sp-addmergefilter-transact-sql) to define a join filter between two articles.</span></span> <span data-ttu-id="60d48-179">Pour plus d'informations, voir [Définir et modifier un filtre de jointure entre des articles de fusion](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-179">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
#### <a name="to-view-and-modify-merge-filter-behaviors-for-an-existing-publication"></a><span data-ttu-id="60d48-180">Pour afficher et modifier les comportements de filtre de fusion d'une publication existante</span><span class="sxs-lookup"><span data-stu-id="60d48-180">To view and modify merge filter behaviors for an existing publication</span></span>  
  
1.  <span data-ttu-id="60d48-181">Facultatif Dans la base de données de publication sur le serveur de publication, exécutez [sp_helpmergepublication](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), en spécifiant \*\* \@ publication\*\*.</span><span class="sxs-lookup"><span data-stu-id="60d48-181">(Optional) At the Publisher on the publication database, execute [sp_helpmergepublication](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="60d48-182">Notez la valeur de **keep_partition_changes** et **use_partition_groups** dans le jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="60d48-182">Note the value of **keep_partition_changes** and **use_partition_groups** in the result set.</span></span>  
  
2.  <span data-ttu-id="60d48-183">(Facultatif) Dans la base de données de publication sur le serveur de publication, exécutez [sp_changemergepublication](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="60d48-183">(Optional) At the Publisher on the publication database, execute [sp_changemergepublication](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql).</span></span> <span data-ttu-id="60d48-184">Spécifiez une valeur de **use_partition_groups** pour \*\* \@ propriété\*\* et `true` ou `false` pour \*\* \@ valeur\*\*.</span><span class="sxs-lookup"><span data-stu-id="60d48-184">Specify a value of **use_partition_groups** for **\@property** and either `true` or `false` for **\@value**.</span></span>  
  
3.  <span data-ttu-id="60d48-185">(Facultatif) Dans la base de données de publication sur le serveur de publication, exécutez [sp_changemergepublication](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="60d48-185">(Optional) At the Publisher on the publication database, execute [sp_changemergepublication](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql).</span></span> <span data-ttu-id="60d48-186">Spécifiez une valeur de **keep_partition_changes** pour \*\* \@ propriété\*\* et `true` ou `false` pour \*\* \@ valeur\*\*.</span><span class="sxs-lookup"><span data-stu-id="60d48-186">Specify a value of **keep_partition_changes** for **\@property** and either `true` or `false` for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="60d48-187">Lorsque vous activez **keep_partition_changes**, vous devez d’abord désactiver **use_partition_groups** et spécifier la valeur **1** pour \*\* \@ force_reinit_subscription\*\*.</span><span class="sxs-lookup"><span data-stu-id="60d48-187">When enabling **keep_partition_changes**, you must first disable **use_partition_groups** and specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
4.  <span data-ttu-id="60d48-188">(Facultatif) Dans la base de données de publication sur le serveur de publication, exécutez [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="60d48-188">(Optional) At the Publisher on the publication database, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="60d48-189">Spécifiez une valeur de **partition_options** pour \*\* \@ propriété\*\* et la valeur appropriée pour \*\* \@ valeur\*\*.</span><span class="sxs-lookup"><span data-stu-id="60d48-189">Specify a value of **partition_options** for **\@property** and the appropriate value for **\@value**.</span></span> <span data-ttu-id="60d48-190">Pour connaître la définition de ces options de filtrage, consultez [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="60d48-190">See [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) for definitions of these filtering options.</span></span>  
  
5.  <span data-ttu-id="60d48-191">(Facultatif) Lancez l'Agent d'instantané afin de régénérer l'instantané si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="60d48-191">(Optional) Start the Snapshot Agent to regenerate the snapshot if necessary.</span></span> <span data-ttu-id="60d48-192">Pour plus d’informations sur les modifications qui requièrent un nouvel instantané, consultez [Modifier les propriétés des publications et des articles](change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="60d48-192">For information about which changes require a new snapshot to be generated, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="60d48-193">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="60d48-193">See Also</span></span>  
 <span data-ttu-id="60d48-194">[Générer automatiquement un ensemble de filtres de jointure entre des articles de fusion &#40;SQL Server Management Studio&#41;](automatically-generate-join-filters-between-merge-articles.md) </span><span class="sxs-lookup"><span data-stu-id="60d48-194">[Automatically Generate a Set of Join Filters Between Merge Articles &#40;SQL Server Management Studio&#41;](automatically-generate-join-filters-between-merge-articles.md) </span></span>  
 <span data-ttu-id="60d48-195">[Définir et modifier un filtre de lignes paramétrable pour un article de fusion](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span><span class="sxs-lookup"><span data-stu-id="60d48-195">[Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span></span>  
 [<span data-ttu-id="60d48-196">Filtres de lignes paramétrés</span><span class="sxs-lookup"><span data-stu-id="60d48-196">Parameterized Row Filters</span></span>](../merge/parameterized-filters-parameterized-row-filters.md)  
  
  
