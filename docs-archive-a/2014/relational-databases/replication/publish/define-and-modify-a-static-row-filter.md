---
title: Définir et modifier un filtre de lignes statique | Microsoft Docs
ms.custom: ''
ms.date: 06/30/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- modifying filters, static row
- static row filters
- filters [SQL Server replication], static row
ms.assetid: a6ebb026-026f-4c39-b6a9-b9998c3babab
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d13fd93b6afdcce6b55e9b181f52087fd620913c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87602067"
---
# <a name="define-and-modify-a-static-row-filter"></a><span data-ttu-id="ad005-102">Définir et modifier un filtre de lignes statiques</span><span class="sxs-lookup"><span data-stu-id="ad005-102">Define and Modify a Static Row Filter</span></span>
  <span data-ttu-id="ad005-103">Cette rubrique explique comment définir et modifier un filtre de lignes statique dans [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] à l'aide de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ou de [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ad005-103">This topic describes how to define and modify a static row filter in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span>  
  
 <span data-ttu-id="ad005-104">**Dans cette rubrique**</span><span class="sxs-lookup"><span data-stu-id="ad005-104">**In This Topic**</span></span>  
  
-   <span data-ttu-id="ad005-105">**Avant de commencer :**</span><span class="sxs-lookup"><span data-stu-id="ad005-105">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="ad005-106">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="ad005-106">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="ad005-107">Recommandations</span><span class="sxs-lookup"><span data-stu-id="ad005-107">Recommendations</span></span>](#Recommendations)  
  
-   <span data-ttu-id="ad005-108">**Pour définir et modifier un filtre de lignes statique à l'aide de :**</span><span class="sxs-lookup"><span data-stu-id="ad005-108">**To define and modify a static row filter, using:**</span></span>  
  
     [<span data-ttu-id="ad005-109">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="ad005-109">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="ad005-110">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="ad005-110">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="ad005-111">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="ad005-111">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="ad005-112">Limitations et restrictions</span><span class="sxs-lookup"><span data-stu-id="ad005-112">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="ad005-113">Si vous ajoutez, modifiez ou supprimez un filtre de ligne statique après que les abonnements à la publication aient été initialisés, vous devez générer un nouvel instantané et réinitialiser tous les abonnements une fois la modification effectuée.</span><span class="sxs-lookup"><span data-stu-id="ad005-113">If you add, modify, or delete a static row filter after subscriptions to the publication have been initialized, you must generate a new snapshot and reinitialize all subscriptions after making the change.</span></span> <span data-ttu-id="ad005-114">Pour plus d’informations sur les exigences relatives aux changements de propriétés, consultez [Changer les propriétés des publications et des articles](change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-114">For more information about requirements for property changes, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
-   <span data-ttu-id="ad005-115">Si la publication est activée pour la réplication transactionnelle d'égal à égal, les tables ne peuvent pas être filtrées.</span><span class="sxs-lookup"><span data-stu-id="ad005-115">If the publication is enabled for peer-to-peer transactional replication, tables cannot be filtered.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="ad005-116">Recommandations</span><span class="sxs-lookup"><span data-stu-id="ad005-116">Recommendations</span></span>  
  
-   <span data-ttu-id="ad005-117">Comme ces filtres sont statiques, tous les abonnés recevront le même sous-ensemble des données.</span><span class="sxs-lookup"><span data-stu-id="ad005-117">Because these filters are static, all subscribers will receive the same subset of the data.</span></span> <span data-ttu-id="ad005-118">Si vous devez filtrer dynamiquement des lignes dans un article de table qui appartient à une publication de fusion afin que chaque abonné reçoive une partition différente des données, consultez [Définir et modifier un filtre de lignes paramétrable pour un article de fusion](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-118">If you need to dynamically filter rows in a table article belonging to a merge publication so that each subscriber receives a different partition of the data, see [Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span></span> <span data-ttu-id="ad005-119">La réplication de fusion vous permet également de filtrer des lignes connexes en fonction d'un filtre de lignes existant.</span><span class="sxs-lookup"><span data-stu-id="ad005-119">Merge replication also enables you to filter related rows based on an existing row filter.</span></span> <span data-ttu-id="ad005-120">Pour plus d'informations, voir [Définir et modifier un filtre de jointure entre des articles de fusion](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-120">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="ad005-121">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="ad005-121">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="ad005-122">Définissez, modifiez et supprimez des filtres de lignes statiques dans la page **Filtrer les lignes de la table** de l’Assistant Nouvelle publication ou dans la page **Filtrer les lignes** de la boîte de dialogue **Propriétés de la publication – \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="ad005-122">Define, modify, and delete static row filters on the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="ad005-123">Pour plus d’informations sur l’utilisation de l’Assistant et sur l’accès à la boîte de dialogue, consultez [Créer une publication](create-a-publication.md) et [Afficher et modifier les propriétés d’une publication](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-123">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-define-a-static-row-filter"></a><span data-ttu-id="ad005-124">Pour définir un filtre de lignes statiques</span><span class="sxs-lookup"><span data-stu-id="ad005-124">To define a static row filter</span></span>  
  
1.  <span data-ttu-id="ad005-125">Dans la page **Filtrer les lignes de la table** de l’Assistant Nouvelle publication ou dans la page **Filtrer les lignes** de la boîte de dialogue **Propriétés de la publication - \<Publication>** , l’action effectuée dépend du type de publication :</span><span class="sxs-lookup"><span data-stu-id="ad005-125">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, the action you take depends on the type of publication:</span></span>  
  
    -   <span data-ttu-id="ad005-126">Pour une publication transactionnelle ou d'instantané, cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="ad005-126">For a snapshot or transactional publication, click **Add**.</span></span>  
  
    -   <span data-ttu-id="ad005-127">Pour une publication de fusion, cliquez sur **Ajouter**puis sur **Ajouter un filtre**.</span><span class="sxs-lookup"><span data-stu-id="ad005-127">For a merge publication, click **Add**, and then click **Add Filter**.</span></span>  
  
2.  <span data-ttu-id="ad005-128">Dans la boîte de dialogue **Ajouter un filtre** , sélectionnez une table à filtrer dans la zone de liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="ad005-128">In the **Add Filter** dialog box, select a table to filter from the drop-down list box.</span></span>  
  
3.  <span data-ttu-id="ad005-129">Créez une instruction de filtrage dans la zone de texte **Instruction de filtrage** .</span><span class="sxs-lookup"><span data-stu-id="ad005-129">Create a filter statement in the **Filter statement** text area.</span></span> <span data-ttu-id="ad005-130">Vous pouvez taper directement dans la zone de texte, mais vous pouvez aussi faire glisser et déposer des colonnes depuis la zone de liste **Colonnes** .</span><span class="sxs-lookup"><span data-stu-id="ad005-130">You can type directly in the text area, and you can also drag and drop columns from the **Columns** list box.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ad005-131">La clause WHERE doit utiliser un nommage en deux parties ; les nommages en trois et en quatre parties ne sont pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="ad005-131">The WHERE clause should use two-part naming; three-part naming and four-part naming are not supported.</span></span> <span data-ttu-id="ad005-132">Si la publication provient d'un serveur de publication Oracle, la clause WHERE doit respecter la syntaxe Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad005-132">If the publication is from an Oracle Publisher, the WHERE clause must be compliant with Oracle syntax.</span></span>  
  
    -   <span data-ttu-id="ad005-133">La zone de texte **Instruction de filtrage** comprend un texte par défaut, qui est de la forme suivante :</span><span class="sxs-lookup"><span data-stu-id="ad005-133">The **Filter statement** text area includes the default text, which is in the form of:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [schema].[tablename] WHERE  
        ```  
  
    -   <span data-ttu-id="ad005-134">Le texte par défaut ne peut pas être modifié ; tapez la clause du filtre après le mot clé WHERE en utilisant la syntaxe SQL standard.</span><span class="sxs-lookup"><span data-stu-id="ad005-134">The default text cannot be changed; type the filter clause after the WHERE keyword using standard SQL syntax.</span></span> <span data-ttu-id="ad005-135">La clause de filtrage complète ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="ad005-135">The complete filter clause would appear like:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [HumanResources].[Employee] WHERE [LoginID] = 'adventure-works\ranjit0'  
        ```  
  
    -   <span data-ttu-id="ad005-136">Un filtre de lignes statiques peut inclure une fonction définie par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ad005-136">A static row filter can include a user-defined function.</span></span> <span data-ttu-id="ad005-137">La clause de filtrage complète pour un filtre de lignes statiques avec une fonction définie par l'utilisateur ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="ad005-137">The complete filter clause for a static row filter with a user-defined function would appear like:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [Sales].[SalesOrderHeader] WHERE MyFunction([Freight]) > 100  
        ```  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="ad005-138">Si vous êtes dans la boîte de dialogue **Propriétés de la publication - \<Publication>** , cliquez sur **OK** pour enregistrer et fermer la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="ad005-138">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-modify-a-static-row-filter"></a><span data-ttu-id="ad005-139">Pour modifier un filtre de lignes statiques</span><span class="sxs-lookup"><span data-stu-id="ad005-139">To modify a static row filter</span></span>  
  
1.  <span data-ttu-id="ad005-140">Dans la page **Filtrer les lignes de la table** de l’Assistant Nouvelle publication ou dans la page **Filtrer les lignes** de la boîte de dialogue **Propriétés de la publication – \<Publication>** , sélectionnez un filtre dans le volet **Tables filtrées**, puis cliquez sur **Modifier**.</span><span class="sxs-lookup"><span data-stu-id="ad005-140">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, select a filter in the **Filtered Tables** pane, and then click **Edit**.</span></span>  
  
2.  <span data-ttu-id="ad005-141">Dans la boîte de dialogue **Modifier le filtre** , modifiez le filtre.</span><span class="sxs-lookup"><span data-stu-id="ad005-141">In the **Edit Filter** dialog box, modify the filter.</span></span>  
  
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-delete-a-static-row-filter"></a><span data-ttu-id="ad005-142">Pour supprimer un filtre de lignes statiques</span><span class="sxs-lookup"><span data-stu-id="ad005-142">To delete a static row filter</span></span>  
  
1.  <span data-ttu-id="ad005-143">Dans la page **Filtrer les lignes de la table** de l’Assistant Nouvelle publication ou dans la page **Filtrer les lignes** de la boîte de dialogue **Propriétés de la publication – \<Publication>** , sélectionnez un filtre dans le volet **Tables filtrées**, puis cliquez sur **Supprimer**.</span><span class="sxs-lookup"><span data-stu-id="ad005-143">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, select a filter in the **Filtered Tables** pane, and then click **Delete**.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="ad005-144">Utilisation de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="ad005-144">Using Transact-SQL</span></span>  
 <span data-ttu-id="ad005-145">Lorsque vous créez des articles de table, vous pouvez définir une clause WHERE pour éliminer par filtrage des lignes d'un article.</span><span class="sxs-lookup"><span data-stu-id="ad005-145">When creating table articles, you can define a WHERE clause to filter rows out of an article.</span></span> <span data-ttu-id="ad005-146">Vous pouvez également modifier un filtre de lignes après qu'il a été défini.</span><span class="sxs-lookup"><span data-stu-id="ad005-146">You can also change a row filter after it has been defined.</span></span> <span data-ttu-id="ad005-147">Les filtres de lignes statiques peuvent être créés et modifiés par programme à l'aide des procédures stockées de réplication.</span><span class="sxs-lookup"><span data-stu-id="ad005-147">Static row filters can be created and modified programmatically using replication stored procedures.</span></span>  
  
#### <a name="to-define-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="ad005-148">Pour définir un filtre de lignes statique pour une publication transactionnelle ou d'instantané</span><span class="sxs-lookup"><span data-stu-id="ad005-148">To define a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="ad005-149">Définissez l'article à filtrer.</span><span class="sxs-lookup"><span data-stu-id="ad005-149">Define the article to filter.</span></span> <span data-ttu-id="ad005-150">Pour plus d’informations, consultez [définir un Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-150">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="ad005-151">Dans la base de données de publication sur le serveur de publication, exécutez [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad005-151">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="ad005-152">Spécifiez le nom de l’article pour **\@article**, le nom de la publication pour **\@publication**, un nom de filtre pour **\@filter_name** et la clause de filtre pour **\@filter_clause** (`WHERE` non compris).</span><span class="sxs-lookup"><span data-stu-id="ad005-152">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a name for the filter for **\@filter_name**, and the filtering clause for **\@filter_clause** (not including `WHERE`).</span></span>  
  
3.  <span data-ttu-id="ad005-153">Si un filtre de colonne doit encore être défini, consultez [Définir et modifier un filtre de colonne](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-153">If a column filter must still be defined, see [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span> <span data-ttu-id="ad005-154">Sinon, exécutez [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad005-154">Otherwise, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span></span> <span data-ttu-id="ad005-155">Spécifiez le nom de la publication pour **\@publication**, le nom de l’article filtré pour **\@article** et la clause de filtre spécifiée à l’étape 2 pour **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="ad005-155">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, and the filter clause specified in step 2 for **\@filter_clause**.</span></span> <span data-ttu-id="ad005-156">Les objets de synchronisation pour l'article filtré sont alors créés.</span><span class="sxs-lookup"><span data-stu-id="ad005-156">This creates the synchronization objects for the filtered article.</span></span>  
  
#### <a name="to-modify-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="ad005-157">Pour modifier un filtre de lignes statique pour une publication transactionnelle ou d'instantané</span><span class="sxs-lookup"><span data-stu-id="ad005-157">To modify a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="ad005-158">Dans la base de données de publication sur le serveur de publication, exécutez [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad005-158">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="ad005-159">Spécifiez le nom de l’article pour **\@article**, le nom de la publication pour **\@publication**, un nom pour le nouveau filtre pour **\@filter_name** et la nouvelle clause de filtre pour **\@filter_clause** (`WHERE` non compris).</span><span class="sxs-lookup"><span data-stu-id="ad005-159">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a name for the new filter for **\@filter_name**, and the new filtering clause for **\@filter_clause** (not including `WHERE`).</span></span> <span data-ttu-id="ad005-160">Comme cette modification invalide des données dans les abonnements existants, spécifiez la valeur **1** pour **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="ad005-160">Because this change will invalidate data in existing subscriptions, specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="ad005-161">Dans la base de données de publication sur le serveur de publication, exécutez [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad005-161">At the Publisher on the publication database, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span></span> <span data-ttu-id="ad005-162">Spécifiez le nom de la publication pour **\@publication**, le nom de l’article filtré pour **\@article** et la clause de filtre spécifiée à l’étape 1 pour **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="ad005-162">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, and the filter clause specified in step 1 for **\@filter_clause**.</span></span> <span data-ttu-id="ad005-163">Cela recrée la vue qui définit l'article filtré.</span><span class="sxs-lookup"><span data-stu-id="ad005-163">This re-creates the view that defines the filtered article.</span></span>  
  
3.  <span data-ttu-id="ad005-164">Exécutez de nouveau le travail de l'Agent d'instantané pour la publication afin de générer un instantané mis à jour.</span><span class="sxs-lookup"><span data-stu-id="ad005-164">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="ad005-165">Pour plus d’informations, voir [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-165">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
4.  <span data-ttu-id="ad005-166">Réinitialiser les abonnements.</span><span class="sxs-lookup"><span data-stu-id="ad005-166">Reinitialize subscriptions.</span></span> <span data-ttu-id="ad005-167">Pour plus d’informations, consultez [Réinitialiser des abonnements](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-167">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
#### <a name="to-delete-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="ad005-168">Pour supprimer un filtre de lignes statique pour une publication transactionnelle ou d'instantané</span><span class="sxs-lookup"><span data-stu-id="ad005-168">To delete a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="ad005-169">Dans la base de données de publication sur le serveur de publication, exécutez [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad005-169">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="ad005-170">Spécifiez le nom de l’article pour **\@article**, le nom de la publication pour **\@publication**, la valeur NULL pour **\@filter_name** et la valeur NULL pour **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="ad005-170">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a value of NULL for **\@filter_name**, and a value of NULL for **\@filter_clause**.</span></span> <span data-ttu-id="ad005-171">Comme cette modification invalide des données dans les abonnements existants, spécifiez la valeur **1** pour **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="ad005-171">Because this change will invalidate data in existing subscriptions, specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="ad005-172">Exécutez de nouveau le travail de l'Agent d'instantané pour la publication afin de générer un instantané mis à jour.</span><span class="sxs-lookup"><span data-stu-id="ad005-172">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="ad005-173">Pour plus d’informations, voir [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-173">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
3.  <span data-ttu-id="ad005-174">Réinitialiser les abonnements.</span><span class="sxs-lookup"><span data-stu-id="ad005-174">Reinitialize subscriptions.</span></span> <span data-ttu-id="ad005-175">Pour plus d’informations, consultez [Réinitialiser des abonnements](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-175">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
#### <a name="to-define-a-static-row-filter-for-a-merge-publication"></a><span data-ttu-id="ad005-176">Pour définir un filtre de lignes statique pour une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="ad005-176">To define a static row filter for a merge publication</span></span>  
  
1.  <span data-ttu-id="ad005-177">Dans la base de données de publication sur le serveur de publication, exécutez [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad005-177">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="ad005-178">Spécifiez la clause de filtre pour **\@subset_filterclause** (`WHERE` non compris).</span><span class="sxs-lookup"><span data-stu-id="ad005-178">Specify the filtering clause for **\@subset_filterclause** (not including `WHERE`).</span></span> <span data-ttu-id="ad005-179">Pour plus d’informations, consultez [définir un Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-179">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="ad005-180">Si un filtre de colonne doit encore être défini, consultez [Définir et modifier un filtre de colonne](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-180">If a column filter must still be defined, see [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span>  
  
#### <a name="to-modify-a-static-row-filter-for-a-merge-publication"></a><span data-ttu-id="ad005-181">Pour modifier un filtre de lignes statique pour une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="ad005-181">To modify a static row filter for a merge publication</span></span>  
  
1.  <span data-ttu-id="ad005-182">Dans la base de données de publication sur le serveur de publication, exécutez [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad005-182">At the Publisher on the publication database, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="ad005-183">Spécifiez le nom de la publication pour **\@publication**, le nom de l’article filtré pour **\@article**, une valeur de **subset_filterclause** pour **\@property** et la nouvelle clause de filtre pour **\@value** (`WHERE` non compris).</span><span class="sxs-lookup"><span data-stu-id="ad005-183">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, a value of **subset_filterclause** for **\@property**, and the new filtering clause for **\@value** (not including `WHERE`).</span></span> <span data-ttu-id="ad005-184">Comme cette modification invalidera des données dans les abonnements existants, spécifiez la valeur 1 pour **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="ad005-184">Because this change will invalidate data in existing subscriptions, specify a value of 1 for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="ad005-185">Exécutez de nouveau le travail de l'Agent d'instantané pour la publication afin de générer un instantané mis à jour.</span><span class="sxs-lookup"><span data-stu-id="ad005-185">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="ad005-186">Pour plus d’informations, voir [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-186">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
3.  <span data-ttu-id="ad005-187">Réinitialiser les abonnements.</span><span class="sxs-lookup"><span data-stu-id="ad005-187">Reinitialize subscriptions.</span></span> <span data-ttu-id="ad005-188">Pour plus d’informations, consultez [Réinitialiser des abonnements](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-188">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
###  <a name="examples-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="ad005-189">Exemples (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="ad005-189">Examples (Transact-SQL)</span></span>  
 <span data-ttu-id="ad005-190">Dans cet exemple de réplication transactionnelle, l'article est filtré horizontalement pour que tous les produits ayant cessé d'être suivis soient supprimés.</span><span class="sxs-lookup"><span data-stu-id="ad005-190">In this transactional replication example, the article is filtered horizontally to remove all discontinued products.</span></span>  
  
 [!code-sql[HowTo#sp_AddTranArticle](../../../snippets/tsql/SQL15/replication/howto/tsql/createtranpub.sql#sp_addtranarticle)]  
  
 <span data-ttu-id="ad005-191">Dans cet exemple de réplication de fusion, les articles sont filtrés horizontalement pour que seules les lignes qui appartiennent au vendeur spécifié soient retournées.</span><span class="sxs-lookup"><span data-stu-id="ad005-191">In this merge replication example, the articles are filtered horizontally to return only rows that belong to the specified salesperson.</span></span> <span data-ttu-id="ad005-192">Un filtre de jointure est également utilisé.</span><span class="sxs-lookup"><span data-stu-id="ad005-192">A join filter is also used.</span></span> <span data-ttu-id="ad005-193">Pour plus d'informations, voir [Définir et modifier un filtre de jointure entre des articles de fusion](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="ad005-193">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
 [!code-sql[HowTo#sp_AddMergeArticle](../../../snippets/tsql/SQL15/replication/howto/tsql/createmergepub.sql#sp_addmergearticle)]  
  
## <a name="see-also"></a><span data-ttu-id="ad005-194">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ad005-194">See Also</span></span>  
 <span data-ttu-id="ad005-195">[Définir et modifier un filtre de lignes paramétrable pour un article de fusion](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span><span class="sxs-lookup"><span data-stu-id="ad005-195">[Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span></span>  
 <span data-ttu-id="ad005-196">[Changer les propriétés des publications et des articles](change-publication-and-article-properties.md) </span><span class="sxs-lookup"><span data-stu-id="ad005-196">[Change Publication and Article Properties](change-publication-and-article-properties.md) </span></span>  
 <span data-ttu-id="ad005-197">[Filtrer des données publiées](filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="ad005-197">[Filter Published Data](filter-published-data.md) </span></span>  
 [<span data-ttu-id="ad005-198">Filtrer des données publiées en vue de la réplication de fusion</span><span class="sxs-lookup"><span data-stu-id="ad005-198">Filter Published Data for Merge Replication</span></span>](../merge/filter-published-data-for-merge-replication.md)  
  
  
