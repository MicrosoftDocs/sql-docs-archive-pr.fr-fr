---
title: Spécifier des mappages de types de données pour un Serveur de publication Oracle | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Oracle publishing [SQL Server replication], data type mapping
- data types [SQL Server replication], Oracle publishing
- mapping data types [SQL Server replication]
ms.assetid: f172d631-3b8c-4912-bd0f-568366cd9870
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 26331e3864940b9c7f2a2588e3d3cbfa9944c900
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87705000"
---
# <a name="specify-data-type-mappings-for-an-oracle-publisher"></a><span data-ttu-id="0eab2-102">Spécifier des mappages de types de données pour un Serveur de publication Oracle</span><span class="sxs-lookup"><span data-stu-id="0eab2-102">Specify Data Type Mappings for an Oracle Publisher</span></span>
  <span data-ttu-id="0eab2-103">Cette rubrique explique comment spécifier des mappages de type de données pour un Serveur de publication Oracle dans [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] à l'aide de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ou de [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0eab2-103">This topic describes how to specify data type mappings for an Oracle Publisher in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="0eab2-104">Bien qu'un jeu de mappages de type de données par défaut soit fourni pour les serveurs de publication Oracle, il peut être nécessaire de spécifier des mappages différents pour une publication donnée.</span><span class="sxs-lookup"><span data-stu-id="0eab2-104">Although a set of default data type mappings are provided for Oracle Publishers, it might be necessary to specify different mappings for a given publication.</span></span>  
  
 <span data-ttu-id="0eab2-105">**Dans cette rubrique**</span><span class="sxs-lookup"><span data-stu-id="0eab2-105">**In This Topic**</span></span>  
  
-   <span data-ttu-id="0eab2-106">**Pour spécifier des mappages de type de données pour un Serveur de publication Oracle, à l'aide de :**</span><span class="sxs-lookup"><span data-stu-id="0eab2-106">**To specify data type mappings for an Oracle Publisher, using:**</span></span>  
  
     [<span data-ttu-id="0eab2-107">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="0eab2-107">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="0eab2-108">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="0eab2-108">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="0eab2-109">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="0eab2-109">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="0eab2-110">Spécifiez des mappages de type de données sous l’onglet **Mappage de données** de la boîte de dialogue **Propriétés de l’article - \<Article>** .</span><span class="sxs-lookup"><span data-stu-id="0eab2-110">Specify data type mappings on the **Data Mapping** tab of the **Article Properties - \<Article>** dialog box.</span></span> <span data-ttu-id="0eab2-111">Celle-ci est disponible dans la page **Articles** de l’Assistant Nouvelle publication et la boîte de dialogue **Propriétés de la publication - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="0eab2-111">This is available from the **Articles** page of the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="0eab2-112">Pour plus d’informations sur l’utilisation de l’Assistant et sur l’accès à la boîte de dialogue, consultez [Créer une publication à partir d’une base de données Oracle](create-a-publication-from-an-oracle-database.md) et [Afficher et modifier les propriétés d’une publication](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="0eab2-112">For more information about using the wizard and accessing the dialog box, see [Create a Publication from an Oracle Database](create-a-publication-from-an-oracle-database.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-specify-a-data-type-mapping"></a><span data-ttu-id="0eab2-113">Pour spécifier un mappage de types de données</span><span class="sxs-lookup"><span data-stu-id="0eab2-113">To specify a data type mapping</span></span>  
  
1.  <span data-ttu-id="0eab2-114">Dans la page **Articles** de l’Assistant Nouvelle publication ou la boîte de dialogue **Propriétés de la publication - \<Publication>** , sélectionnez une table, puis cliquez sur **Propriétés de l’article**.</span><span class="sxs-lookup"><span data-stu-id="0eab2-114">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table, and then click **Article Properties**.</span></span>  
  
2.  <span data-ttu-id="0eab2-115">Cliquez sur **Définir les propriétés de l'article de Table en surbrillance**.</span><span class="sxs-lookup"><span data-stu-id="0eab2-115">Click **Set Properties of Highlighted Table Article**.</span></span>  
  
3.  <span data-ttu-id="0eab2-116">Sous l’onglet **Mappage de données** de la boîte de dialogue **Propriétés de l’article - \<Article>** , sélectionnez des mappages dans la colonne **Type de données de l’Abonné** :</span><span class="sxs-lookup"><span data-stu-id="0eab2-116">On the **Data Mapping** tab of the **Article Properties - \<Article>** dialog box, select mappings from the **Subscriber Data Type** column:</span></span>  
  
    -   <span data-ttu-id="0eab2-117">Pour certains types de données, il existe uniquement une seule possibilité de mappage dans laquelle la colonne de la grille de propriétés est en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="0eab2-117">For some data types there is only one possible mapping, in which case the column in the property grid is read-only.</span></span>  
  
    -   <span data-ttu-id="0eab2-118">Pour certains types, vous pouvez sélectionner plus d'un type.</span><span class="sxs-lookup"><span data-stu-id="0eab2-118">For some types, there is more than one type that you can select.</span></span> [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="0eab2-119">recommande d'utiliser le mappage par défaut si l'application ne nécessite pas un mappage différent.</span><span class="sxs-lookup"><span data-stu-id="0eab2-119">recommends that you use the default mapping unless your application requires a different mapping.</span></span> <span data-ttu-id="0eab2-120">Pour plus d'informations, voir [Data Type Mapping for Oracle Publishers](../non-sql/data-type-mapping-for-oracle-publishers.md).</span><span class="sxs-lookup"><span data-stu-id="0eab2-120">For more information, see [Data Type Mapping for Oracle Publishers](../non-sql/data-type-mapping-for-oracle-publishers.md).</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="0eab2-121">Utilisation de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="0eab2-121">Using Transact-SQL</span></span>  
 <span data-ttu-id="0eab2-122">Vous pouvez spécifier des mappages de type de données personnalisés par programme à l'aide des procédures stockées de réplication.</span><span class="sxs-lookup"><span data-stu-id="0eab2-122">You can specify custom data type mappings programmatically using replication stored procedures.</span></span> <span data-ttu-id="0eab2-123">Vous pouvez également définir les mappages par défaut qui sont utilisés lors du mappage des types de données entre [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] et un [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] système de gestion de base de données (SGBD) non-.</span><span class="sxs-lookup"><span data-stu-id="0eab2-123">You can also set the default mappings that are used when mapping data types between [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and a non-[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database management system (DBMS).</span></span> <span data-ttu-id="0eab2-124">Pour plus d'informations, voir [Data Type Mapping for Oracle Publishers](../non-sql/data-type-mapping-for-oracle-publishers.md).</span><span class="sxs-lookup"><span data-stu-id="0eab2-124">For more information, see [Data Type Mapping for Oracle Publishers](../non-sql/data-type-mapping-for-oracle-publishers.md).</span></span>  
  
#### <a name="to-define-custom-data-type-mappings-when-creating-an-article-belonging-to-an-oracle-publication"></a><span data-ttu-id="0eab2-125">Pour définir des mappages de type de données personnalisés lors de la création d'un article appartenant à une publication Oracle</span><span class="sxs-lookup"><span data-stu-id="0eab2-125">To define custom data type mappings when creating an article belonging to an Oracle publication</span></span>  
  
1.  <span data-ttu-id="0eab2-126">S'il n'en existe pas encore, créez une publication Oracle.</span><span class="sxs-lookup"><span data-stu-id="0eab2-126">If one does not already exist, create an Oracle publication.</span></span>  
  
2.  <span data-ttu-id="0eab2-127">Sur le serveur de distribution, exécutez [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0eab2-127">At the Distributor, execute [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span></span> <span data-ttu-id="0eab2-128">Spécifiez la valeur **0** pour **\@use_default_datatypes**.</span><span class="sxs-lookup"><span data-stu-id="0eab2-128">Specify a value of **0** for **\@use_default_datatypes**.</span></span> <span data-ttu-id="0eab2-129">Pour plus d’informations, consultez [définir un Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="0eab2-129">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
3.  <span data-ttu-id="0eab2-130">Sur le serveur de distribution, exécutez [sp_helparticlecolumns](/sql/relational-databases/system-stored-procedures/sp-helparticlecolumns-transact-sql) pour afficher le mappage existant pour une colonne dans un article publié.</span><span class="sxs-lookup"><span data-stu-id="0eab2-130">At the Distributor, execute [sp_helparticlecolumns](/sql/relational-databases/system-stored-procedures/sp-helparticlecolumns-transact-sql) to view the existing mapping for a column in a published article.</span></span>  
  
4.  <span data-ttu-id="0eab2-131">Sur le serveur de distribution, exécutez [sp_changearticlecolumndatatype](/sql/relational-databases/system-stored-procedures/sp-changearticlecolumndatatype-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0eab2-131">At the Distributor, execute [sp_changearticlecolumndatatype](/sql/relational-databases/system-stored-procedures/sp-changearticlecolumndatatype-transact-sql).</span></span> <span data-ttu-id="0eab2-132">Spécifiez le nom du serveur de publication Oracle pour **\@publisher**, ainsi que **\@publication**, **\@article** et **\@column** pour définir la colonne publiée.</span><span class="sxs-lookup"><span data-stu-id="0eab2-132">Specify the name of the Oracle Publisher for **\@publisher**, as well as **\@publication**, **\@article**, and **\@column** to define the published column.</span></span> <span data-ttu-id="0eab2-133">Spécifiez le nom du type de données [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vers lequel effectuer le mappage pour **\@type**, ainsi que pour **\@length**, **\@precision** et **\@scale**, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="0eab2-133">Specify the name of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] data type to map to for **\@type**, as well as **\@length**, **\@precision**, and **\@scale**, where applicable.</span></span>  
  
5.  <span data-ttu-id="0eab2-134">Sur le serveur de distribution, exécutez [sp_articleview](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0eab2-134">At the Distributor, execute [sp_articleview](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span></span> <span data-ttu-id="0eab2-135">Cela crée la vue utilisée pour générer l'instantané à partir de la publication Oracle.</span><span class="sxs-lookup"><span data-stu-id="0eab2-135">This creates the view used to generate the snapshot from the Oracle publication.</span></span>  
  
#### <a name="to-specify-a-mapping-as-the-default-mapping-for-a-data-type"></a><span data-ttu-id="0eab2-136">Pour spécifier un mappage comme mappage par défaut pour un type de données</span><span class="sxs-lookup"><span data-stu-id="0eab2-136">To specify a mapping as the default mapping for a data type</span></span>  
  
1.  <span data-ttu-id="0eab2-137">(Facultatif) Exécutez [sp_getdefaultdatatypemapping](/sql/relational-databases/system-stored-procedures/sp-getdefaultdatatypemapping-transact-sql)sur une base de données quelconque du serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0eab2-137">(Optional) At the Distributor on any database, execute [sp_getdefaultdatatypemapping](/sql/relational-databases/system-stored-procedures/sp-getdefaultdatatypemapping-transact-sql).</span></span> <span data-ttu-id="0eab2-138">Spécifiez **\@source_dbms**, **\@source_type**, **\@destination_dbms**, **\@destination_version** et tous les autres paramètres éventuellement requis pour identifier le SGBD source.</span><span class="sxs-lookup"><span data-stu-id="0eab2-138">Specify **\@source_dbms**, **\@source_type**, **\@destination_dbms**, **\@destination_version**, and any other parameters needed to identify the source DBMS.</span></span> <span data-ttu-id="0eab2-139">Les informations sur le type de données actuellement mappé dans le SGBD de destination sont retournées à l'aide des paramètres de sortie.</span><span class="sxs-lookup"><span data-stu-id="0eab2-139">Information on the currently mapped data type in the destination DBMS is returned using the output parameters.</span></span>  
  
2.  <span data-ttu-id="0eab2-140">(Facultatif) Exécutez [sp_helpdatatypemap](/sql/relational-databases/system-stored-procedures/sp-helpdatatypemap-transact-sql)sur une base de données quelconque du serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0eab2-140">(Optional) At the Distributor on any database, execute [sp_helpdatatypemap](/sql/relational-databases/system-stored-procedures/sp-helpdatatypemap-transact-sql).</span></span> <span data-ttu-id="0eab2-141">Spécifiez **\@source_dbms** et tous les autres paramètres éventuellement requis pour filtrer le jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="0eab2-141">Specify **\@source_dbms** and any other parameters needed to filter the result set.</span></span> <span data-ttu-id="0eab2-142">Notez la valeur de **mapping_id** pour le mappage souhaité dans le jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="0eab2-142">Note the value of **mapping_id** for the desired mapping in the result set.</span></span>  
  
3.  <span data-ttu-id="0eab2-143">Exécutez [sp_setdefaultdatatypemapping](/sql/relational-databases/system-stored-procedures/sp-setdefaultdatatypemapping-transact-sql)sur une base de données quelconque du serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0eab2-143">At the Distributor on any database, execute [sp_setdefaultdatatypemapping](/sql/relational-databases/system-stored-procedures/sp-setdefaultdatatypemapping-transact-sql).</span></span>  
  
    -   <span data-ttu-id="0eab2-144">Si vous connaissez la valeur souhaitée de **mapping_id** obtenue à l’étape 2, spécifiez-la pour **\@mapping_id**.</span><span class="sxs-lookup"><span data-stu-id="0eab2-144">If you know the desired value of **mapping_id** obtained in step 2, specify it for **\@mapping_id**.</span></span>  
  
    -   <span data-ttu-id="0eab2-145">Si vous ne connaissez pas **mapping_id**, spécifiez les paramètres **\@source_dbms**, **\@source_type**, **\@destination_dbms**, **\@destination_type** et tous les autres paramètres éventuellement requis pour identifier un mappage existant.</span><span class="sxs-lookup"><span data-stu-id="0eab2-145">If you do not know the **mapping_id**, specify the parameters **\@source_dbms**, **\@source_type**, **\@destination_dbms**, **\@destination_type**, and any other parameters required to identify an existing mapping.</span></span>  
  
#### <a name="to-find-valid-data-types-for-a-given-oracle-data-type"></a><span data-ttu-id="0eab2-146">Pour rechercher les types de données valides pour un type de données Oracle donné</span><span class="sxs-lookup"><span data-stu-id="0eab2-146">To find valid data types for a given Oracle data type</span></span>  
  
1.  <span data-ttu-id="0eab2-147">Exécutez [sp_helpdatatypemap](/sql/relational-databases/system-stored-procedures/sp-helpdatatypemap-transact-sql)sur une base de données quelconque du serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="0eab2-147">At the Distributor on any database, execute [sp_helpdatatypemap](/sql/relational-databases/system-stored-procedures/sp-helpdatatypemap-transact-sql).</span></span> <span data-ttu-id="0eab2-148">Spécifiez la valeur **ORACLE** pour **\@source_dbms** et tous les autres paramètres éventuellement requis pour filtrer le jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="0eab2-148">Specify a value of **ORACLE** for **\@source_dbms** and any other parameters needed to filter the result set.</span></span>  
  
###  <a name="examples-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="0eab2-149">Exemples (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0eab2-149">Examples (Transact-SQL)</span></span>  
 <span data-ttu-id="0eab2-150">Cet exemple modifie une colonne avec le type de données Oracle NUMBER afin qu'elle soit mappée vers le type de données [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]`numeric`(38,38), à la place du type de données par défaut `float`.</span><span class="sxs-lookup"><span data-stu-id="0eab2-150">This example changes a column with an Oracle data type of NUMBER so it is mapped to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] data type `numeric`(38,38), instead of the default data type `float`.</span></span>  
  
 [!code-sql[HowTo#sp_changecolumndatatype](../../../snippets/tsql/SQL15/replication/howto/tsql/datatypemapping.sql#sp_changecolumndatatype)]  
  
 <span data-ttu-id="0eab2-151">Cet exemple de requête retourne les mappages par défaut et de remplacement pour le type de données Oracle 9 `CHAR`.</span><span class="sxs-lookup"><span data-stu-id="0eab2-151">This example query returns the default and alternative mappings for the Oracle 9 data type `CHAR`.</span></span>  
  
 [!code-sql[HowTo#sp_helpcolumndatatype_char](../../../snippets/tsql/SQL15/replication/howto/tsql/datatypemapping.sql#sp_helpcolumndatatype_char)]  
  
 <span data-ttu-id="0eab2-152">Cet exemple de requête retourne les mappages par défaut pour le type de données Oracle 9 `NUMBER` lorsqu'il est spécifié sans échelle ni précision.</span><span class="sxs-lookup"><span data-stu-id="0eab2-152">This example query returns the default mappings for the Oracle 9 data type `NUMBER` when it is specified without a scale or precision.</span></span>  
  
 [!code-sql[HowTo#sp_helpcolumndatatype_number](../../../snippets/tsql/SQL15/replication/howto/tsql/datatypemapping.sql#sp_helpcolumndatatype_number)]  
  
## <a name="see-also"></a><span data-ttu-id="0eab2-153">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="0eab2-153">See Also</span></span>  
 <span data-ttu-id="0eab2-154">[Data Type Mapping for Oracle Publishers](../non-sql/data-type-mapping-for-oracle-publishers.md) </span><span class="sxs-lookup"><span data-stu-id="0eab2-154">[Data Type Mapping for Oracle Publishers](../non-sql/data-type-mapping-for-oracle-publishers.md) </span></span>  
 <span data-ttu-id="0eab2-155">[Réplication de base de données hétérogène](../non-sql/heterogeneous-database-replication.md) </span><span class="sxs-lookup"><span data-stu-id="0eab2-155">[Heterogeneous Database Replication](../non-sql/heterogeneous-database-replication.md) </span></span>  
 <span data-ttu-id="0eab2-156">[Concepts liés aux procédures stockées système de réplication](../concepts/replication-system-stored-procedures-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="0eab2-156">[Replication System Stored Procedures Concepts](../concepts/replication-system-stored-procedures-concepts.md) </span></span>  
 [<span data-ttu-id="0eab2-157">Configurer un serveur de publication Oracle</span><span class="sxs-lookup"><span data-stu-id="0eab2-157">Configure an Oracle Publisher</span></span>](../non-sql/configure-an-oracle-publisher.md)  
  
  
