---
title: Créer un abonnement pour un Abonné non-SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- subscriptions [SQL Server replication], non-SQL Server Subscribers
- Subscribers [SQL Server replication], non-SQL Server Subscribers
- non-SQL Server Subscribers, subscriptions
ms.assetid: 5020ee68-b988-4d57-8066-67d183e61237
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 31a7d1e52c53cb858039f1fd0ed403f255ad5ca2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87697967"
---
# <a name="create-a-subscription-for-a-non-sql-server-subscriber"></a><span data-ttu-id="c4eb6-102">Créer un abonnement pour un Abonné non-SQL Server</span><span class="sxs-lookup"><span data-stu-id="c4eb6-102">Create a Subscription for a Non-SQL Server Subscriber</span></span>
  <span data-ttu-id="c4eb6-103">Cette rubrique explique comment créer un abonnement pour un abonné non-SQL Server dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] à l'aide de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ou de [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c4eb6-103">This topic describes how to create a subscription for a non-SQL Server Subscriber in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="c4eb6-104">La réplication transactionnelle et la réplication d'instantané prennent en charge la publication de données vers des Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-104">Transactional and snapshot replication support publishing data to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span> <span data-ttu-id="c4eb6-105">Pour plus d'informations sur les plateformes d'Abonné prises en charge, consultez [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-105">For information about supported Subscriber platforms, see [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span></span>  
  
 <span data-ttu-id="c4eb6-106">**Dans cette rubrique**</span><span class="sxs-lookup"><span data-stu-id="c4eb6-106">**In This Topic**</span></span>  
  
-   <span data-ttu-id="c4eb6-107">**Pour créer une publication destinée à un Abonné non-SQL Server à l'aide de :**</span><span class="sxs-lookup"><span data-stu-id="c4eb6-107">**To create a subscription for a non-SQL Server Subscriber, using:**</span></span>  
  
     [<span data-ttu-id="c4eb6-108">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="c4eb6-108">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="c4eb6-109">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="c4eb6-109">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="c4eb6-110">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="c4eb6-110">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="c4eb6-111">Pour créer une publication destinée à un Abonné non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="c4eb6-111">To create a subscription for a non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscriber:</span></span>  
  
1.  <span data-ttu-id="c4eb6-112">Installez et configurez le logiciel client et le ou les fournisseurs OLE DB approprié sur le serveur de distribution [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-112">Install and configure the appropriate client software and OLE DB provider(s) on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributor.</span></span> <span data-ttu-id="c4eb6-113">Pour plus d'informations, consultez [Oracle Subscribers](non-sql/oracle-subscribers.md) et [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-113">For more information, see [Oracle Subscribers](non-sql/oracle-subscribers.md) and [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
2.  <span data-ttu-id="c4eb6-114">Créez une publication avec l'Assistant Nouvelle publication.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-114">Create a publication using the New Publication Wizard.</span></span> <span data-ttu-id="c4eb6-115">Pour plus d’informations sur la création de publications, consultez [Créer une publication](publish/create-a-publication.md) et [Créer une publication à partir d’une base de données Oracle](publish/create-a-publication-from-an-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-115">For more information about creating publications, see [Create a Publication](publish/create-a-publication.md) and [Create a Publication from an Oracle Database](publish/create-a-publication-from-an-oracle-database.md).</span></span> <span data-ttu-id="c4eb6-116">Spécifiez les options suivantes dans l'Assistant Nouvelle publication :</span><span class="sxs-lookup"><span data-stu-id="c4eb6-116">Specify the following options in the New Publication Wizard:</span></span>  
  
    -   <span data-ttu-id="c4eb6-117">Dans la page **Type de publication** , sélectionnez **Publication d'instantané** ou **Publication transactionnelle**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-117">On the **Publication Type** page, select **Snapshot publication** or **Transactional publication**.</span></span>  
  
    -   <span data-ttu-id="c4eb6-118">Dans la page **Agent d'instantané** , désactivez **Créer un instantané immédiatement**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-118">On the **Snapshot Agent** page, clear **Create a snapshot immediately**.</span></span>  
  
         <span data-ttu-id="c4eb6-119">Vous devez créer l'instantané après avoir activé la publication pour les Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] afin de garantir que l'Agent d'instantané génère un instantané et des scripts d'initialisation qui conviennent pour des Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-119">You create the snapshot after the publication is enabled for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers to ensure that the Snapshot Agent generates a snapshot and initialization scripts that are suitable for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  
  
3.  <span data-ttu-id="c4eb6-120">Activez la publication pour les Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à l'aide de la boîte de dialogue **Propriétés de la publication - \<PublicationName>** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-120">Enable the publication for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers using the **Publication Properties - \<PublicationName>** dialog box.</span></span> <span data-ttu-id="c4eb6-121">Consultez [Publication Properties, Subscription Options](publication-properties-subscription-options.md) pour plus d'informations sur cette étape.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-121">See [Publication Properties, Subscription Options](publication-properties-subscription-options.md) for more information about this step.</span></span>  
  
4.  <span data-ttu-id="c4eb6-122">Créez un abonnement avec l'Assistant Nouvel abonnement.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-122">Create a subscription using the New Subscription Wizard.</span></span> <span data-ttu-id="c4eb6-123">Cette rubrique fournit des informations sur cette étape.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-123">This topic provides more information about this step.</span></span>  
  
5.  <span data-ttu-id="c4eb6-124">(Facultatif) Modifiez la propriété d'article **pre_creation_cmd** pour conserver les tables sur l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-124">(Optional) Change the **pre_creation_cmd** article property to retain tables at the Subscriber.</span></span> <span data-ttu-id="c4eb6-125">Cette rubrique fournit des informations sur cette étape.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-125">This topic provides more information about this step.</span></span>  
  
6.  <span data-ttu-id="c4eb6-126">Générez un instantané de la publication.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-126">Generate a snapshot for the publication.</span></span> <span data-ttu-id="c4eb6-127">Cette rubrique fournit des informations sur cette étape.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-127">This topic provides more information about this step.</span></span>  
  
7.  <span data-ttu-id="c4eb6-128">Synchronisez l'abonnement.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-128">Synchronize the subscription.</span></span> <span data-ttu-id="c4eb6-129">Pour plus d’informations, consultez [Synchroniser un abonnement par émission (push)](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-129">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
#### <a name="to-enable-a-publication-for-non-sql-server-subscribers"></a><span data-ttu-id="c4eb6-130">Pour activer une publication pour des Abonnés non-SQL Server</span><span class="sxs-lookup"><span data-stu-id="c4eb6-130">To enable a publication for non-SQL Server Subscribers</span></span>  
  
1.  <span data-ttu-id="c4eb6-131">Connectez-vous au serveur de publication dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], puis développez le nœud du serveur.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-131">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>  
  
2.  <span data-ttu-id="c4eb6-132">Développez le dossier **Réplication** , puis développez le dossier **Publications locales** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-132">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>  
  
3.  <span data-ttu-id="c4eb6-133">Cliquez avec le bouton droit sur la publication, puis sur **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-133">Right-click the publication, and then click **Properties**.</span></span>  
  
4.  <span data-ttu-id="c4eb6-134">Dans la page **Options d'abonnement** , sélectionnez la valeur **True** pour l'option **Autoriser les Abonnés non-SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-134">On the **Subscription Options** page, select a value of **True** for the option **Allow non-SQL Server Subscribers**.</span></span> <span data-ttu-id="c4eb6-135">Cette option modifie certaines propriétés afin que la publication soit compatible avec les Abonnés non[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-135">Selecting this option changes a number of properties so that the publication is compatible with non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="c4eb6-136">Le choix de la valeur **True** définit alors la valeur de l'article **pre_creation_cmd** à « drop ».</span><span class="sxs-lookup"><span data-stu-id="c4eb6-136">Selecting **True** sets the value of the **pre_creation_cmd** article property to 'drop'.</span></span> <span data-ttu-id="c4eb6-137">Ce paramètre indique que la réplication doit supprimer une table au niveau de l'Abonné si elle correspond au nom de la table dans l'article.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-137">This setting specifies that replication should drop a table at the Subscriber if it matches the name of the table in the article.</span></span> <span data-ttu-id="c4eb6-138">Si vous disposez de tables existantes au niveau de l'Abonné que vous souhaitez conserver, utilisez la procédure stockée [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) pour chaque article ; précisez une valeur 'none' pour **pre_creation_cmd**: `sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-138">If you have existing tables at the Subscriber that you want to keep, use the [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) stored procedure for each article; specify a value 'none' for **pre_creation_cmd**: `sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span></span>  
  
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)] <span data-ttu-id="c4eb6-139">Vous êtes invité à créer un nouvel instantané de la publication.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-139">You will be prompted to create a new snapshot for the publication.</span></span> <span data-ttu-id="c4eb6-140">Si vous ne souhaitez pas le faire immédiatement, vous utiliserez plus tard la procédure décrite plus loin dans la prochaine procédure.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-140">If you do not want to create one at this time, use the steps described in the next "how to" procedure at a later time.</span></span>  
  
#### <a name="to-create-a-subscription-for-a-non-sql-server-subscriber"></a><span data-ttu-id="c4eb6-141">Pour créer une publication destinée à un Abonné non-SQL Server</span><span class="sxs-lookup"><span data-stu-id="c4eb6-141">To create a subscription for a non-SQL Server Subscriber</span></span>  
  
1.  <span data-ttu-id="c4eb6-142">Développez le dossier **Réplication** , puis développez le dossier **Publications locales** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-142">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>  
  
2.  <span data-ttu-id="c4eb6-143">Cliquez avec le bouton droit sur la publication appropriée, puis sur **Nouveaux abonnements**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-143">Right-click the appropriate publication, and then click **New Subscriptions**.</span></span>  
  
3.  <span data-ttu-id="c4eb6-144">Dans la page **Emplacement de l'Agent de distribution** , vérifiez que **Exécuter tous les agents sur le serveur de distribution** est bien sélectionné.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-144">On the **Distribution Agent Location** page, ensure **Run all agents at the Distributor** is selected.</span></span> <span data-ttu-id="c4eb6-145">Les Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ne prennent pas en charge les agents qui s'exécutent au niveau de l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-145">Non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers do not support running agents at the Subscriber.</span></span>  
  
4.  <span data-ttu-id="c4eb6-146">Dans la page **Abonnés** , cliquez sur **Ajouter un Abonné** puis sur **Ajouter un Abonné non-SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-146">On the **Subscribers** page, click **Add Subscriber** and then click **Add Non-SQL Server Subscriber**.</span></span>  
  
5.  <span data-ttu-id="c4eb6-147">Dans la boîte de dialogue **Ajouter un Abonné non-SQL Server** , sélectionnez le type d'Abonné.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-147">In the **Add Non-SQL Server Subscriber** dialog box, select the type of Subscriber.</span></span>  
  
6.  <span data-ttu-id="c4eb6-148">Entrez une valeur dans **Nom de la source de données**:</span><span class="sxs-lookup"><span data-stu-id="c4eb6-148">Enter a value in **Data source name**:</span></span>  
  
    -   <span data-ttu-id="c4eb6-149">Pour Oracle, cette valeur est le nom du TNS (transparent network substrate) que vous avez configuré.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-149">For Oracle, this is the transparent network substrate (TNS) name you configured.</span></span>  
  
    -   <span data-ttu-id="c4eb6-150">Pour IBM, ce peut être n'importe quel nom.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-150">For IBM, this can be any name.</span></span> <span data-ttu-id="c4eb6-151">En règle générale, spécifiez l'adresse réseau de l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-151">It is typical to specify the network address of the Subscriber.</span></span>  
  
     <span data-ttu-id="c4eb6-152">Le nom de la source de données entré à cette étape et les informations de connexion spécifiées à l'étape 9 ne sont pas validés par cet Assistant.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-152">The data source name entered in this step and the credentials specified in step 9 are not validated by this wizard.</span></span> <span data-ttu-id="c4eb6-153">Ils ne sont pas utilisés par la réplication avant que l'Agent de distribution ne s'exécute pour l'abonnement.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-153">They are not used by replication until the Distribution Agent runs for the subscription.</span></span> <span data-ttu-id="c4eb6-154">Assurez-vous que toutes les valeurs ont été testées en vous connectant à l'Abonné à l'aide d'un outil client (par exemple **sqlplus** pour Oracle).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-154">Ensure that all values have been tested by connecting to the Subscriber using a client tool (such as **sqlplus** for Oracle).</span></span> <span data-ttu-id="c4eb6-155">Pour plus d'informations, consultez [Oracle Subscribers](non-sql/oracle-subscribers.md) et [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-155">For more information, see [Oracle Subscribers](non-sql/oracle-subscribers.md) and [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
7.  [!INCLUDE[clickOK](../../includes/clickok-md.md)] <span data-ttu-id="c4eb6-156">Dans la page **Abonnés** de l'Assistant, l'Abonné s'affiche maintenant dans la colonne **Abonné** avec une **(destination par défaut)** en lecture seule dans la colonne **Base de données d'abonnement** :</span><span class="sxs-lookup"><span data-stu-id="c4eb6-156">On the **Subscribers** page of the wizard, the Subscriber is now displayed in the **Subscriber** column with a read-only **(default destination)** in the **Subscription Database** column:</span></span>  
  
    -   <span data-ttu-id="c4eb6-157">Sur Oracle, un serveur a au plus une base de données, il n'est donc pas nécessaire de la spécifier.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-157">For Oracle, a server has at most one database, so it is not necessary to specify the database.</span></span>  
  
    -   <span data-ttu-id="c4eb6-158">Pour IBM DB2, la base de données est spécifiée dans la propriété **Catalogue initial** de la chaîne de connexion DB2, qui peut être entrée dans le champ **Options de connexion supplémentaires** décrit plus loin.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-158">For IBM DB2, the database is specified in the **Initial Catalog** property of the DB2 connection string, which can be entered in the **Additional connection options** field described later in this process.</span></span>  
  
8.  <span data-ttu-id="c4eb6-159">Dans la page **sécurité de agent de distribution** , cliquez sur le bouton des propriétés (**...**) en regard de l’abonné pour accéder à la boîte de dialogue **agent de distribution sécurité** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-159">On the **Distribution Agent Security** page, click the properties button (**...**) next to the Subscriber to access the **Distribution Agent Security** dialog box.</span></span>  
  
9. <span data-ttu-id="c4eb6-160">Dans la boîte de dialogue **Sécurité de l'Agent de distribution** :</span><span class="sxs-lookup"><span data-stu-id="c4eb6-160">In the **Distribution Agent Security** dialog box:</span></span>  
  
    -   <span data-ttu-id="c4eb6-161">Dans les champs **Compte de processus**, **Mot de passe**et **Confirmer le mot de passe** , entrez le compte [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows et le mot de passe sous lequel l'Agent de distribution doit s'exécuter et se connecter en local sur le serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-161">In the **Process account**, **Password**, and **Confirm password** fields, enter the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows account and password under which the Distribution Agent should run and make local connections to the Distributor.</span></span>  
  
         <span data-ttu-id="c4eb6-162">Ce compte a besoin des autorisations minimales suivantes : membre du rôle de base de données fixe **db_owner** dans la base de données de distribution ; membre de la PAL (liste d'accès à la publication) ; autorisations de lecture sur le partage de fichiers d'instantanés ; et autorisation de lecture sur le répertoire d'installation du fournisseur OLE DB.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-162">The account requires these minimum permissions: member of the **db_owner** fixed database role in the distribution database; member of the publication access list (PAL); read permissions on the snapshot share; and read permission on the install directory of the OLE DB provider.</span></span> <span data-ttu-id="c4eb6-163">Pour plus d’informations sur la liste d’accès à la publication, consultez [Sécuriser le serveur de publication](security/secure-the-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-163">For more information about the PAL, see [Secure the Publisher](security/secure-the-publisher.md).</span></span>  
  
    -   <span data-ttu-id="c4eb6-164">Sous **Connexion à l'Abonné**, dans les champs **Connexion**, **Mot de passe**et **Confirmer le mot de passe** , entrez la connexion et le mot de passe à utiliser pour se connecter à l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-164">Under **Connect to the Subscriber**, in the **Login**, **Password**, and **Confirm password** fields, enter the login and password that should be used to connect to the Subscriber.</span></span> <span data-ttu-id="c4eb6-165">Cette connexion devrait déjà être configurée et devrait avoir des autorisations suffisantes pour créer des objets dans la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-165">This login should already be configured and should have sufficient permissions to create objects in the subscription database.</span></span>  
  
    -   <span data-ttu-id="c4eb6-166">Dans le champ **Options de connexion supplémentaires** , spécifiez les autres options de connexion pour l'Abonné sous la forme d'une chaîne de connexion (Oracle ne nécessite pas d'options supplémentaires).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-166">In the **Additional connection options** field, specify any connection options for the Subscriber in the form of a connection string (Oracle does not require additional options).</span></span> <span data-ttu-id="c4eb6-167">Chaque option doit être délimitée par un point-virgule.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-167">Each option should be separated by a semi-colon.</span></span> <span data-ttu-id="c4eb6-168">Voici un exemple de chaîne de connexion DB2 (les retours à la ligne facilitent la lisibilité) :</span><span class="sxs-lookup"><span data-stu-id="c4eb6-168">The following is an example of a DB2 connection string (line breaks are for readability):</span></span>  
  
        ```  
        Provider=DB2OLEDB;Initial Catalog=MY_SUBSCRIBER_DB;Network Transport Library=TCP;Host CCSID=1252;  
        PC Code Page=1252;Network Address=MY_SUBSCRIBER;Network Port=50000;Package Collection=MY_PKGCOL;  
        Default Schema=MY_SCHEMA;Process Binary as Character=False;Units of Work=RUW;DBMS Platform=DB2/NT;  
        Persist Security Info=False;Connection Pooling=True;  
        ```  
  
         <span data-ttu-id="c4eb6-169">La plupart des options de cette chaîne sont spécifiques du serveur DB2 que vous configurez, mais vous devez attribuer à l'option **Traiter les données binaires comme des caractères** la valeur **False**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-169">Most of the options in the string are specific to the DB2 server you are configuring, but the **Process Binary as Character** option should always be set to **False**.</span></span> <span data-ttu-id="c4eb6-170">Une valeur est exigée de façon que l'option **Catalogue initial** identifie la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-170">A value is required for the **Initial Catalog** option to identify the subscription database.</span></span>  
  
10. <span data-ttu-id="c4eb6-171">Dans la page **Planification de synchronisation** , sélectionnez une planification pour l'Agent de distribution à partir du menu **Planification de l'agent** (en règle générale, **Exécuter en continu**).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-171">On the **Synchronization Schedule** page, select a schedule for the Distribution Agent from the **Agent Schedule** menu (the schedule is typically **Run continuously**).</span></span>  
  
11. <span data-ttu-id="c4eb6-172">Dans la page **Initialiser les abonnements** , spécifiez si l'abonnement doit être initialisé et, dans ce cas, quand l'initialiser :</span><span class="sxs-lookup"><span data-stu-id="c4eb6-172">On the **Initialize Subscriptions** page, specify whether the subscription should be initialized and, if so, when it should be initialized:</span></span>  
  
    -   <span data-ttu-id="c4eb6-173">Ne désactivez **Initialiser** que si vous avez créé tous les objets et ajouté toutes les données nécessaires dans la base de données d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-173">Clear **Initialize** only if you have created all objects and added all required data in the subscription database.</span></span>  
  
    -   <span data-ttu-id="c4eb6-174">Sélectionnez **Immédiatement** dans la liste déroulante de la colonne **À quel moment** pour que l'Agent de distribution transfère les fichiers d'instantanés à l'Abonné lorsque l'Assistant se termine.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-174">Select **Immediately** from the drop-down list in the **Initialize When** column to have the Distribution Agent transfer snapshot files to the Subscriber after this wizard is completed.</span></span> <span data-ttu-id="c4eb6-175">Sélectionnez **Lors de la première synchronisation** pour que l'Agent transfère les fichiers lors de la prochaine exécution planifiée de l'Agent.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-175">Select **At first synchronization** to have the agent transfer the files the next time it is scheduled to run.</span></span>  
  
12. <span data-ttu-id="c4eb6-176">Sur la page **Actions de l'Assistant** , scriptez en option l'abonnement.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-176">On the **Wizard Actions** page, optionally script the subscription.</span></span> <span data-ttu-id="c4eb6-177">Pour plus d'informations, voir [Scripting Replication](scripting-replication.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-177">For more information, see [Scripting Replication](scripting-replication.md).</span></span>  
  
#### <a name="to-retain-tables-at-the-subscriber"></a><span data-ttu-id="c4eb6-178">Pour conserver les tables sur l'Abonné</span><span class="sxs-lookup"><span data-stu-id="c4eb6-178">To retain tables at the Subscriber</span></span>  
  
-   <span data-ttu-id="c4eb6-179">Par défaut, le fait d'activer une publication pour des Abonnés non[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] définit la valeur de la propriété d'article **pre_creation_cmd** à 'drop'.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-179">By default, enabling a publication for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers sets the value of the **pre_creation_cmd** article property to 'drop'.</span></span> <span data-ttu-id="c4eb6-180">Ce paramètre indique que la réplication doit supprimer une table au niveau de l'Abonné si elle correspond au nom de la table dans l'article.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-180">This setting specifies that replication should drop a table at the Subscriber if it matches the name of the table in the article.</span></span> <span data-ttu-id="c4eb6-181">Si vous disposez de tables existantes au niveau de l'Abonné que vous souhaitez conserver, utilisez la procédure stockée [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) pour chaque article ; précisez une valeur 'none' pour **pre_creation_cmd**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-181">If you have existing tables at the Subscriber that you want to keep, use the [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) stored procedure for each article; specify a value 'none' for **pre_creation_cmd**.</span></span> <span data-ttu-id="c4eb6-182">`sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-182">`sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span></span>  
  
#### <a name="to-generate-a-snapshot-for-the-publication"></a><span data-ttu-id="c4eb6-183">Pour générer un instantané de la publication</span><span class="sxs-lookup"><span data-stu-id="c4eb6-183">To generate a snapshot for the publication</span></span>  
  
1.  <span data-ttu-id="c4eb6-184">Développez le dossier **Réplication** , puis développez le dossier **Publications locales** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-184">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>  
  
2.  <span data-ttu-id="c4eb6-185">Cliquez avec le bouton droit sur la publication, puis cliquez sur **Afficher l'état de l'Agent d'instantané**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-185">Right-click the publication, and then click **View Snapshot Agent Status**.</span></span>  
  
3.  <span data-ttu-id="c4eb6-186">Dans la boîte de dialogue **Afficher l’état de l’Agent d’instantané - \<Publication>** , cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-186">In the **View Snapshot Agent Status - \<Publication>** dialog box, click **Start**.</span></span>  
  
 <span data-ttu-id="c4eb6-187">Lorsque l'Agent d'instantané a terminé, un message s'affiche, par exemple, « [100%] Un instantané de 17 articles a été généré. »</span><span class="sxs-lookup"><span data-stu-id="c4eb6-187">When the Snapshot Agent finishes generating the snapshot, a message is displayed, such as "[100%] A snapshot of 17 article(s) was generated."</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="c4eb6-188">Utilisation de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="c4eb6-188">Using Transact-SQL</span></span>  
 <span data-ttu-id="c4eb6-189">Vous pouvez créer par programme des abonnements par émission de données pour des Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en utilisant des procédures stockées de réplication.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-189">You can create push subscriptions to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers programmatically using replication stored procedures.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="c4eb6-190">Lorsque c'est possible, demande aux utilisateurs de fournir les informations d'identification au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-190">When possible, prompt users to enter security credentials at runtime.</span></span> <span data-ttu-id="c4eb6-191">Si vous devez enregistrer les informations d'identification dans un fichier de script, vous devez sécuriser le fichier pour empêcher un accès non autorisé.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-191">If you must store credentials in a script file, you must secure the file to prevent unauthorized access.</span></span>  
  
#### <a name="to-create-a-push-subscription-for-a-transactional-or-snapshot-publication-to-a-non-sql-server-subscriber"></a><span data-ttu-id="c4eb6-192">Pour créer un abonnement par émission de données pour une publication transactionnelle ou d'instantané pour un Abonné non-SQL Server</span><span class="sxs-lookup"><span data-stu-id="c4eb6-192">To create a push subscription for a transactional or snapshot publication to a non-SQL Server Subscriber</span></span>  
  
1.  <span data-ttu-id="c4eb6-193">Installez le fournisseur OLE DB le plus récent pour l'Abonné non[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] au niveau du serveur de publication et du serveur de distribution.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-193">Install the most recent OLE DB provider for the non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscriber at both the Publisher and Distributor.</span></span> <span data-ttu-id="c4eb6-194">Pour connaître les spécifications de réplication pour un fournisseur OLE DB, consultez [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md), [Oracle Subscribers](non-sql/oracle-subscribers.md), [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-194">For the replication requirements for an OLE DB provider, see [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md), [Oracle Subscribers](non-sql/oracle-subscribers.md), [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
2.  <span data-ttu-id="c4eb6-195">Dans la base de données de publication sur le serveur de publication, vérifiez que la publication prend en charge les Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en exécutant [sp_helppublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helppublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-195">At the Publisher on the publication database, verify that the publication supports non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers by executing [sp_helppublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helppublication-transact-sql).</span></span>  
  
    -   <span data-ttu-id="c4eb6-196">Si `enabled_for_het_sub` a la valeur 1, les Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-196">If the value of `enabled_for_het_sub` is 1, non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers are supported.</span></span>  
  
    -   <span data-ttu-id="c4eb6-197">Si la valeur de `enabled_for_het_sub` est 0, exécutez [sp_changepublication &#40;&#41;Transact-SQL ](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql), en spécifiant `enabled_for_het_sub` pour **@property** et `true` pour **@value** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-197">If the value of `enabled_for_het_sub` is 0, execute [sp_changepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql), specifying `enabled_for_het_sub` for **@property** and `true` for **@value**.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="c4eb6-198">Avant de remplacer la valeur de `enabled_for_het_sub` par `true`, vous devez supprimer tout abonnement existant à la publication.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-198">Before changing `enabled_for_het_sub` to `true`, you must drop any existing subscriptions to the publication.</span></span> <span data-ttu-id="c4eb6-199">Vous ne pouvez pas affecter la valeur `enabled_for_het_sub` à `true` lorsque la publication prend également en charge la mise à jour des abonnements.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-199">You cannot set `enabled_for_het_sub` to `true` when the publication also supports updating subscriptions.</span></span> <span data-ttu-id="c4eb6-200">La modification de `enabled_for_het_sub` affectera d'autres propriétés de publication.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-200">Changing `enabled_for_het_sub` will affect other publication properties.</span></span> <span data-ttu-id="c4eb6-201">Pour plus d’informations, consultez [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-201">For more information, see [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span></span>  
  
3.  <span data-ttu-id="c4eb6-202">Dans la base de données de publication sur le serveur de publication, exécutez [sp_addsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-202">At the Publisher on the publication database, execute [sp_addsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span></span> <span data-ttu-id="c4eb6-203">Spécifiez **@publication** , **@subscriber** , la valeur **(destination par défaut)** pour **@destination_db** , la valeur **Push** pour **@subscription_type** et la valeur 3 pour **@subscriber_type** (spécifie un fournisseur OLE DB).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-203">Specify **@publication**, **@subscriber**, a value of **(default destination)** for **@destination_db**, a value of **push** for **@subscription_type**, and a value of 3 for **@subscriber_type** (specifies an OLE DB provider).</span></span>  
  
4.  <span data-ttu-id="c4eb6-204">Dans la base de données de publication sur le serveur de publication, exécutez [sp_addpushsubscription_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpushsubscription-agent-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-204">At the Publisher on the publication database, execute [sp_addpushsubscription_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpushsubscription-agent-transact-sql).</span></span> <span data-ttu-id="c4eb6-205">Spécifiez les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="c4eb6-205">Specify the following:</span></span>  
  
    -   <span data-ttu-id="c4eb6-206">**@subscriber**Paramètres et **@publication** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-206">The **@subscriber**and **@publication** parameters.</span></span>  
  
    -   <span data-ttu-id="c4eb6-207">La valeur **(destination par défaut)** pour **@subscriber_db** ,</span><span class="sxs-lookup"><span data-stu-id="c4eb6-207">A value of **(default destination)** for **@subscriber_db**,</span></span>  
  
    -   <span data-ttu-id="c4eb6-208">Propriétés de la source de données non- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour **@subscriber_provider** , **@subscriber_datasrc** , **@subscriber_location** , **@subscriber_provider_string** et **@subscriber_catalog** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-208">The properties of the non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source for **@subscriber_provider**, **@subscriber_datasrc**, **@subscriber_location**, **@subscriber_provider_string**, and **@subscriber_catalog**.</span></span>  
  
    -   <span data-ttu-id="c4eb6-209">Les [!INCLUDE[msCoName](../../includes/msconame-md.md)] informations d’identification Windows sous lesquelles le agent de distribution sur le serveur de distribution s’exécute pour **@job_login** et **@job_password** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-209">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows credentials under which the Distribution Agent at the Distributor runs for **@job_login** and **@job_password**.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="c4eb6-210">Les connexions effectuées à l’aide de l’authentification intégrée Windows utilisent toujours les informations d’identification Windows spécifiées par **@job_login** et **@job_password** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-210">Connections made using Windows Integrated Authentication always use the Windows credentials specified by **@job_login** and **@job_password**.</span></span> <span data-ttu-id="c4eb6-211">L'Agent de distribution crée toujours la connexion locale au serveur de distribution à l'aide de l'authentification intégrée Windows.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-211">The Distribution Agent always makes the local connection to the Distributor using Windows Integrated Authentication.</span></span> <span data-ttu-id="c4eb6-212">Par défaut, l'agent se connecte à l'Abonné à l'aide de ces informations.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-212">By default, the agent will connect to the Subscriber using Windows Integrated Authentication.</span></span>  
  
    -   <span data-ttu-id="c4eb6-213">La valeur **0** pour **@subscriber_security_mode** et les informations de connexion du fournisseur OLE DB pour **@subscriber_login** et **@subscriber_password** .</span><span class="sxs-lookup"><span data-stu-id="c4eb6-213">A value of **0** for **@subscriber_security_mode** and the OLE DB provider login information for **@subscriber_login** and **@subscriber_password**.</span></span>  
  
    -   <span data-ttu-id="c4eb6-214">Planification du travail de l'Agent de distribution pour cet abonnement.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-214">A schedule for the Distribution Agent job for this subscription.</span></span> <span data-ttu-id="c4eb6-215">Pour plus d’informations, consultez [Spécifier des planifications de synchronisation](specify-synchronization-schedules.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-215">For more information, see [Specify Synchronization Schedules](specify-synchronization-schedules.md).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="c4eb6-216">Lors de la création d'un abonnement par émission de données sur un serveur de publication avec un serveur de distribution distant, les valeurs fournies pour tous les paramètres, y compris *job_login* et *job_password*, sont envoyées au serveur de distribution en texte brut.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-216">When creating a push subscription at a Publisher with a remote Distributor, the values supplied for all parameters, including *job_login* and *job_password*, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="c4eb6-217">Vous devez chiffrer la connexion entre le serveur de publication et son serveur de distribution distant avant d'exécuter cette procédure stockée.</span><span class="sxs-lookup"><span data-stu-id="c4eb6-217">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="c4eb6-218">Pour plus d’informations, consultez [Activer des connexions chiffrées dans le moteur de base de données &#40;Gestionnaire de configuration SQL Server&#41;](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="c4eb6-218">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c4eb6-219">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c4eb6-219">See Also</span></span>  
 <span data-ttu-id="c4eb6-220">[IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md) </span><span class="sxs-lookup"><span data-stu-id="c4eb6-220">[IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md) </span></span>  
 <span data-ttu-id="c4eb6-221">[Oracle Subscribers](non-sql/oracle-subscribers.md) </span><span class="sxs-lookup"><span data-stu-id="c4eb6-221">[Oracle Subscribers](non-sql/oracle-subscribers.md) </span></span>  
 <span data-ttu-id="c4eb6-222">[Autres abonnés non-SQL Server](non-sql/other-non-sql-server-subscribers.md) </span><span class="sxs-lookup"><span data-stu-id="c4eb6-222">[Other Non-SQL Server Subscribers](non-sql/other-non-sql-server-subscribers.md) </span></span>  
 <span data-ttu-id="c4eb6-223">[Concepts liés aux procédures stockées système de réplication](concepts/replication-system-stored-procedures-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="c4eb6-223">[Replication System Stored Procedures Concepts](concepts/replication-system-stored-procedures-concepts.md) </span></span>  
 [<span data-ttu-id="c4eb6-224">Bonnes pratiques en matière de sécurité de la réplication</span><span class="sxs-lookup"><span data-stu-id="c4eb6-224">Replication Security Best Practices</span></span>](security/replication-security-best-practices.md)  
  
  
