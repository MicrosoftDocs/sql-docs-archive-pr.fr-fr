---
title: Ajouter ou modifier une jointure | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.newpubwizard.addeditjoin.f1
ms.assetid: 3b546560-720f-48b8-9d63-cf159290e9d4
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: e3e17b084a232375734601b515821273d482fcd8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87601412"
---
# <a name="add-or-edit-join"></a><span data-ttu-id="3b044-102">Ajouter ou modifier une jointure</span><span class="sxs-lookup"><span data-stu-id="3b044-102">Add or Edit Join</span></span>
  <span data-ttu-id="3b044-103">Les boîtes de dialogue **Ajouter une jointure** et **Modifier une jointure** permettent d'ajouter et de modifier des filtres de jointure pour les publications de fusion.</span><span class="sxs-lookup"><span data-stu-id="3b044-103">The **Add Join** and **Edit Join** dialog boxes allow you to add and edit join filters for merge publications.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3b044-104">Pour pouvoir modifier un filtre dans une publication existante, vous devez procéder au préalable à un nouvel instantané de la publication.</span><span class="sxs-lookup"><span data-stu-id="3b044-104">Editing a filter in an existing publication requires a new snapshot for the publication.</span></span> <span data-ttu-id="3b044-105">Si cette dernière dispose d'abonnements, ces abonnements doivent alors être réinitialisés.</span><span class="sxs-lookup"><span data-stu-id="3b044-105">If a publication has subscriptions, the subscriptions must be reinitialized.</span></span> <span data-ttu-id="3b044-106">Pour plus d’informations sur les modifications de propriétés, consultez [Changer des propriétés de publication et d’article](publish/change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="3b044-106">For more information about property changes, see [Change Publication and Article Properties](publish/change-publication-and-article-properties.md).</span></span>  
  
 <span data-ttu-id="3b044-107">Un filtre de jointure permet de filtrer une table en fonction du filtrage d'une table associée dans la publication.</span><span class="sxs-lookup"><span data-stu-id="3b044-107">A join filter allows a table to be filtered based on how a related table in the publication is filtered.</span></span> <span data-ttu-id="3b044-108">En règle générale, une table parente est filtrée en utilisant un filtre de lignes paramétrable. Ensuite, un ou plusieurs filtres de jointure sont définis en suivant pratiquement la même procédure que celle utilisée pour définir une jointure entre des tables.</span><span class="sxs-lookup"><span data-stu-id="3b044-108">Typically a parent table is filtered using a parameterized row filter; then one or more join filters are defined in much the same way that you define a join between tables.</span></span> <span data-ttu-id="3b044-109">Les filtres de jointure étendent le filtre de lignes pour que les données des tables associées soient répliquées uniquement si elles correspondent à la clause de filtrage de jointure.</span><span class="sxs-lookup"><span data-stu-id="3b044-109">The join filters extend the row filter so that the data in the related tables is replicated only if it matches the join filter clause.</span></span>  
  
 <span data-ttu-id="3b044-110">En règle générale, les filtres de jointure suivent les relations clé primaire/clé étrangère définies pour les tables auxquelles ils sont appliqués, mais ils ne sont pas strictement limités à ces relations.</span><span class="sxs-lookup"><span data-stu-id="3b044-110">Join filters typically follow the primary key/foreign key relationships defined for the tables to which they are applied, but they are not limited strictly to primary key/foreign key relationships.</span></span> <span data-ttu-id="3b044-111">Le filtre de jointure peut être basé sur n'importe quelle logique qui compare des données associées dans deux tables d'articles.</span><span class="sxs-lookup"><span data-stu-id="3b044-111">The join filter can be based on any logic that compares related data in two article tables.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="3b044-112">Les filtres de jointure peuvent impliquer un nombre illimité de tables, mais les filtres avec un grand nombre de tables peuvent affecter les performances au cours du traitement de la fusion.</span><span class="sxs-lookup"><span data-stu-id="3b044-112">Join Filters can involve an unlimited number of tables, but filters with a large number of tables can impact performance during merge processing.</span></span> <span data-ttu-id="3b044-113">Si vous générez des filtres de jointure pour au moins cinq tables, envisagez d'autres solutions : ne filtrez pas les petites tables, les tables qui ne changent pas ou les tables de recherche principales.</span><span class="sxs-lookup"><span data-stu-id="3b044-113">If you are generating join filters of five or more tables, consider other solutions: do not filter tables that are small, not subject to change, or are primarily lookup tables.</span></span> <span data-ttu-id="3b044-114">Utilisez des filtres de jointure uniquement entre les tables qui doivent être partitionnées entre les abonnés.</span><span class="sxs-lookup"><span data-stu-id="3b044-114">Use join filters only between tables that must be partitioned among Subscribers.</span></span>  
  
## <a name="options"></a><span data-ttu-id="3b044-115">Options</span><span class="sxs-lookup"><span data-stu-id="3b044-115">Options</span></span>  
 <span data-ttu-id="3b044-116">Cette boîte de dialogue implique un traitement en trois étapes pour créer un filtre de jointure entre deux tables.</span><span class="sxs-lookup"><span data-stu-id="3b044-116">This dialog box involves a three-step process to create a join filter between two tables.</span></span> <span data-ttu-id="3b044-117">La création de plusieurs filtres de jointure implique que plusieurs filtres passent par la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3b044-117">Creating more than one join filter requires more than one pass through the dialog box.</span></span>  
  
1.  <span data-ttu-id="3b044-118">**Vérifiez la table filtrée et sélectionnez la table jointe.**</span><span class="sxs-lookup"><span data-stu-id="3b044-118">**Verify filtered table and select the joined table**</span></span>  
  
    -   <span data-ttu-id="3b044-119">Si vous ajoutez une nouvelle jointure, vérifiez que la table dans la zone de texte **Table filtrée** est correcte (si elle n'est pas correcte, cliquez sur **Annuler**, sélectionnez la table appropriée dans la page **Filtrer les lignes de la table** et sur **Ajouter une jointure** pour revenir à cette boîte de dialogue).</span><span class="sxs-lookup"><span data-stu-id="3b044-119">If you are adding a new join, verify that the table in the **Filtered table** text box is correct (if it is not correct, click **Cancel**, select the correct table on the **Filter Table Rows** page, and click **Add Join** to return to this dialog box).</span></span> <span data-ttu-id="3b044-120">Sélectionnez ensuite une table dans la zone de liste déroulante **Table jointe** .</span><span class="sxs-lookup"><span data-stu-id="3b044-120">Then select a table from the **Joined table** drop-down list box.</span></span>  
  
    -   <span data-ttu-id="3b044-121">Si vous ajoutez une jointure existante, les noms des tables sont déjà définis et ne peuvent pas être modifiés.</span><span class="sxs-lookup"><span data-stu-id="3b044-121">If you are editing an existing join, the table names will be specified already and cannot be changed.</span></span> <span data-ttu-id="3b044-122">Pour modifier les tables impliquées dans la jointure, vous devez supprimer le filtre de jointure existant dans la page **Filtrer les lignes de la table** et créer une nouvelle jointure entre les nouvelles tables.</span><span class="sxs-lookup"><span data-stu-id="3b044-122">To change the tables involved in the join, you must delete the existing join filter on the **Filter Table Rows** page and create a new join between different tables.</span></span>  
  
2.  <span data-ttu-id="3b044-123">**Créez l'instruction de jointure.**</span><span class="sxs-lookup"><span data-stu-id="3b044-123">**Create the join statement**</span></span>  
  
    -   <span data-ttu-id="3b044-124">Si vous ajoutez une nouvelle jointure, sélectionnez **Utiliser le générateur pour créer l'instruction** ou **Créer manuellement l'instruction de jointure**.</span><span class="sxs-lookup"><span data-stu-id="3b044-124">If you are adding a new join, select either **Use the builder to create the statement** or **Write the join statement manually**.</span></span> <span data-ttu-id="3b044-125">Si vous créez une jointure manuellement, vous pouvez utiliser le générateur.</span><span class="sxs-lookup"><span data-stu-id="3b044-125">If you begin writing the join manually, you cannot use the builder.</span></span>  
  
         <span data-ttu-id="3b044-126">Si vous sélectionnez le générateur, utilisez les colonnes de la grille (**Conjonction**, **Colonnes de table filtrée**, **Opérateur**et **Colonnes de table jointe**) pour créer une instruction de jointure.</span><span class="sxs-lookup"><span data-stu-id="3b044-126">If you select to use the builder, use the columns in the grid (**Conjunction**, **Filtered table column**, **Operator**, and **Joined table column**) to build a join statement.</span></span> <span data-ttu-id="3b044-127">Chaque colonne de la grille contient une zone de liste déroulante qui vous permet de sélectionner deux colonnes et un opérateur ( **=** , **<>** , **<=** , **\<**, **>=** , **>** , **tel**).</span><span class="sxs-lookup"><span data-stu-id="3b044-127">Each column in the grid contains a drop-down list box, allowing you to select two columns and an operator (**=**, **<>**, **<=**, **\<**, **>=**, **>**, **like**).</span></span> <span data-ttu-id="3b044-128">Les résultats s'affichent dans la zone de texte **Aperçu** .</span><span class="sxs-lookup"><span data-stu-id="3b044-128">The results are displayed in the **Preview** text area.</span></span> <span data-ttu-id="3b044-129">Si la jointure implique plusieurs paires de colonnes, sélectionnez une conjonction (**AND** ou **OR**) dans la colonne **Conjonction** , puis entrez au moins deux colonnes et un autre opérateur.</span><span class="sxs-lookup"><span data-stu-id="3b044-129">If the join involves more than one pair of columns, select a conjunction (**AND** or **OR**) from the **Conjunction** column, and then enter two more columns and another operator.</span></span>  
  
         <span data-ttu-id="3b044-130">Si vous créez l'instruction manuellement, écrivez l'instruction de jointure dans la zone de texte **Instruction de jointure** .</span><span class="sxs-lookup"><span data-stu-id="3b044-130">If you select to write the statement manually, write the join statement in the **Join statement** text area.</span></span> <span data-ttu-id="3b044-131">Utilisez la zone de liste **Colonnes de table filtrée** et la zone de liste **Colonnes de table jointe** pour faire glisser les colonnes et les déposer dans la zone de texte **Instruction de jointure** .</span><span class="sxs-lookup"><span data-stu-id="3b044-131">Use the **Filtered table columns** list box and **Joined table columns** list box to drag and drop columns to the **Join statement** text area.</span></span>  
  
    -   <span data-ttu-id="3b044-132">Si vous modifiez une jointure existante, vous devez effectuer les modifications manuellement.</span><span class="sxs-lookup"><span data-stu-id="3b044-132">If you are editing an existing join, you must make edits manually.</span></span>  
  
3.  <span data-ttu-id="3b044-133">**Spécifiez les options de jointure.**</span><span class="sxs-lookup"><span data-stu-id="3b044-133">**Specify join options**</span></span>  
  
    -   <span data-ttu-id="3b044-134">Si la colonne sur laquelle vous effectuez la jointure dans la table filtrée est unique, sélectionnez **Clé unique**.</span><span class="sxs-lookup"><span data-stu-id="3b044-134">If the column on which you join in the filtered table is unique, select **Unique key**.</span></span> <span data-ttu-id="3b044-135">Le processus de fusion possède des fonctionnalités d'optimisation de performances spéciales disponibles si la colonne est unique.</span><span class="sxs-lookup"><span data-stu-id="3b044-135">The merge process has special performance optimizations available if the column is unique.</span></span>  
  
        > [!CAUTION]  
        >  <span data-ttu-id="3b044-136">La sélection de cette option indique que la relation entre les tables enfant et parent dans un filtre de jointure correspond à une relation Un à un ou Un à plusieurs.</span><span class="sxs-lookup"><span data-stu-id="3b044-136">Selecting this option indicates that the relationship between the child and parent tables in a join filter is one to one or one to many.</span></span> <span data-ttu-id="3b044-137">Sélectionnez uniquement cette option s'il existe une contrainte sur la colonne de jointure dans la table parent qui garantit l'unicité.</span><span class="sxs-lookup"><span data-stu-id="3b044-137">Only select this option if you have a constraint on the joining column in the parent table that guarantees uniqueness.</span></span> <span data-ttu-id="3b044-138">Si vous ne définissez pas correctement l'option, des erreurs de non-convergence de données peuvent se produire.</span><span class="sxs-lookup"><span data-stu-id="3b044-138">If the option is set incorrectly, non-convergence of data can occur.</span></span>  
  
    -   [!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="3b044-139">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] et versions ultérieures uniquement.</span><span class="sxs-lookup"><span data-stu-id="3b044-139">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions only.</span></span> <span data-ttu-id="3b044-140">Par défaut, la réplication de fusion traite les modifications ligne par ligne lors de la synchronisation.</span><span class="sxs-lookup"><span data-stu-id="3b044-140">By default, merge replication processes changes on a row-by-row basis during synchronization.</span></span> <span data-ttu-id="3b044-141">Pour traiter les modifications associées sous la forme d'une unité, sélectionnez **Enregistrement logique**.</span><span class="sxs-lookup"><span data-stu-id="3b044-141">To have related changes processed as a unit, select **Logical record**.</span></span> <span data-ttu-id="3b044-142">Cette option est disponible uniquement si les conditions d'article et de publication d'utilisation d'enregistrements logiques sont satisfaites.</span><span class="sxs-lookup"><span data-stu-id="3b044-142">This option is available only if the article and publication requirements for using logical records are met.</span></span> <span data-ttu-id="3b044-143">Pour plus d’informations, consultez la section « Considérations relatives à l’utilisation d’enregistrements logiques » dans [Regrouper les modifications apportées à des lignes connexes à l’aide d’enregistrements logiques](merge/group-changes-to-related-rows-with-logical-records.md).</span><span class="sxs-lookup"><span data-stu-id="3b044-143">For more information, see the section "Considerations for Using Logical Records" in [Group Changes to Related Rows with Logical Records](merge/group-changes-to-related-rows-with-logical-records.md).</span></span>  
  
 <span data-ttu-id="3b044-144">Après avoir ajouté ou modifié un filtre, cliquez sur **OK** pour enregistrer les modifications et fermer ainsi la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3b044-144">After you have added or edited a filter, click **OK** to save changes and close the dialog box.</span></span> <span data-ttu-id="3b044-145">Le filtre que vous spécifiez est ensuite analysé et exécuté sur la table indiquée dans la clause SELECT.</span><span class="sxs-lookup"><span data-stu-id="3b044-145">The filter you specified is parsed and run against the table in the SELECT clause.</span></span> <span data-ttu-id="3b044-146">Si l'instruction de filtrage contient des erreurs de syntaxe ou d'autres erreurs, vous recevrez un message et pourrez modifier l'instruction de filtrage.</span><span class="sxs-lookup"><span data-stu-id="3b044-146">If the filter statement contains syntax errors or other problems, you will be notified and will be able to edit the filter statement.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3b044-147">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="3b044-147">See Also</span></span>  
 <span data-ttu-id="3b044-148">[Create a Publication](publish/create-a-publication.md) </span><span class="sxs-lookup"><span data-stu-id="3b044-148">[Create a Publication](publish/create-a-publication.md) </span></span>  
 <span data-ttu-id="3b044-149">[Afficher et modifier les propriétés d’une publication](publish/view-and-modify-publication-properties.md) </span><span class="sxs-lookup"><span data-stu-id="3b044-149">[View and Modify Publication Properties](publish/view-and-modify-publication-properties.md) </span></span>  
 <span data-ttu-id="3b044-150">[Filtrer des données publiées](publish/filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="3b044-150">[Filter Published Data](publish/filter-published-data.md) </span></span>  
 <span data-ttu-id="3b044-151">[Filtres de jointure](merge/join-filters.md) </span><span class="sxs-lookup"><span data-stu-id="3b044-151">[Join Filters](merge/join-filters.md) </span></span>  
 <span data-ttu-id="3b044-152">[Filtres de lignes paramétrés](merge/parameterized-filters-parameterized-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="3b044-152">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span></span>  
 [<span data-ttu-id="3b044-153">Publier des données et des objets de base de données</span><span class="sxs-lookup"><span data-stu-id="3b044-153">Publish Data and Database Objects</span></span>](publish/publish-data-and-database-objects.md)  
  
  
