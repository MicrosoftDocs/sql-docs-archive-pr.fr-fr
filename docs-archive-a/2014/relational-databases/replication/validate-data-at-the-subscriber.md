---
title: Valider des données répliquées | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Subscribers [SQL Server replication], data validation
- replication [SQL Server], validating data
- transactional replication, validating data
- validating data
- merge replication data validation [SQL Server replication], SQL Server Management Studio
ms.assetid: 215b4c9a-0ce9-4c00-ac0b-43b54151dfa3
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 4d09750c0cb81d64f5921ae2064b2e75edb6ca96
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87599881"
---
# <a name="validate-replicated-data"></a><span data-ttu-id="a47ca-102">Valider des données répliquées</span><span class="sxs-lookup"><span data-stu-id="a47ca-102">Validate Replicated Data</span></span>
  <span data-ttu-id="a47ca-103">Cette rubrique décrit comment valider les données sur l'abonné dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] à l'aide de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], de [!INCLUDE[tsql](../../includes/tsql-md.md)]ou des objets RMO (Replication Management Objects).</span><span class="sxs-lookup"><span data-stu-id="a47ca-103">This topic describes how to validate data at the Subscriber in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span>  

  <span data-ttu-id="a47ca-104">La réplication transactionnelle et de fusion vous permet de vérifier que les données sur l'Abonné correspondent aux données sur le serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-104">Transactional and merge replication allow you to validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="a47ca-105">La validation peut être réalisée pour des abonnements spécifiques ou pour tous les abonnements à une publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-105">Validation can be performed for specific subscriptions or for all subscriptions to a publication.</span></span> <span data-ttu-id="a47ca-106">Spécifiez un des types de validation suivants et l'Agent de distribution ou l'Agent de fusion validera les données lors de sa prochaine exécution :</span><span class="sxs-lookup"><span data-stu-id="a47ca-106">Specify one of the following validation types and the Distribution Agent or Merge Agent will validate data the next time it runs:</span></span>  
  
-   <span data-ttu-id="a47ca-107">**Nombre de lignes uniquement**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-107">**Row count only**.</span></span> <span data-ttu-id="a47ca-108">Ceci vérifie si la table sur l'Abonné a le même nombre de lignes que la table sur le serveur de publication, mais ne vérifie pas que le contenu des lignes correspond.</span><span class="sxs-lookup"><span data-stu-id="a47ca-108">This validates whether the table at the Subscriber has the same number of rows as the table at the Publisher, but does not validate that the content of the rows matches.</span></span> <span data-ttu-id="a47ca-109">La validation du nombre de lignes fournit une approche allégée de la validation qui vous permet de savoir qu'il existe des problèmes au niveau des données.</span><span class="sxs-lookup"><span data-stu-id="a47ca-109">Row count validation provides a lightweight approach to validation that can make you aware of issues with your data.</span></span>    
-   <span data-ttu-id="a47ca-110">**Calculer le nombre de lignes et comparer les sommes de contrôle binaires**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-110">**Row count and binary checksum**.</span></span> <span data-ttu-id="a47ca-111">Outre le comptage des lignes sur le serveur de publication et sur l'Abonné, une somme de contrôle de toutes les données est calculée à l'aide de l'algorithme de somme de contrôle.</span><span class="sxs-lookup"><span data-stu-id="a47ca-111">In addition to taking a count of rows at the Publisher and Subscriber, a checksum of all the data is calculated using the checksum algorithm.</span></span> <span data-ttu-id="a47ca-112">Si le nombre de lignes est erroné, la somme de contrôle n'est pas effectuée.</span><span class="sxs-lookup"><span data-stu-id="a47ca-112">If the row count fails, the checksum is not performed.</span></span>  
  
 <span data-ttu-id="a47ca-113">En plus de vérifier que les données sur l'Abonné et sur le serveur de publication correspondent, la réplication de fusion donne la possibilité de vérifier que les données sont partitionnées correctement pour chaque Abonné.</span><span class="sxs-lookup"><span data-stu-id="a47ca-113">In addition to validating that data at the Subscriber and Publisher match, merge replication provides the ability to validate that data is partitioned correctly for each Subscriber.</span></span> <span data-ttu-id="a47ca-114">Pour plus d’informations, consultez [Valider des informations de partition pour un Abonné de fusion](validate-partition-information-for-a-merge-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-114">For more information, see [Validate Partition Information for a Merge Subscriber](validate-partition-information-for-a-merge-subscriber.md).</span></span>  

## <a name="how-data-validation-works"></a><span data-ttu-id="a47ca-115">Fonctionnement de la validation des données</span><span class="sxs-lookup"><span data-stu-id="a47ca-115">How Data Validation Works</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a47ca-116">valide les données en calculant un nombre de lignes et/ou une somme de contrôle sur le serveur de publication, puis en comparant ces valeurs au nombre de lignes et/ou à la somme de contrôle calculé sur l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="a47ca-116">validates data by calculating a row count or a checksum at the Publisher and then comparing those values to the row count or checksum calculated at the Subscriber.</span></span> <span data-ttu-id="a47ca-117">Une valeur est calculée pour l'ensemble de la table de publication et une autre est calculée pour l'ensemble de la table d'abonnement, mais les données des colonnes `text`, `ntext` ou `image` ne sont pas prises en compte dans les calculs.</span><span class="sxs-lookup"><span data-stu-id="a47ca-117">One value is calculated for the entire publication table and one value is calculated for the entire subscription table, but data in `text`, `ntext`, or `image` columns is not included in the calculations.</span></span>  
  
 <span data-ttu-id="a47ca-118">Pendant l'exécution des calculs, des verrous partagés sont temporairement placés sur les tables pour lesquelles le nombre de lignes ou la somme de contrôle est calculé. Ces calculs sont cependant effectués rapidement et les verrous partagés sont généralement retirés au bout de quelques secondes.</span><span class="sxs-lookup"><span data-stu-id="a47ca-118">While the calculations are performed, shared locks are placed temporarily on tables for which row counts or checksums are being run, but the calculations are completed quickly and the shared locks removed, usually in a matter of seconds.</span></span>  
  
 <span data-ttu-id="a47ca-119">Lors de l'utilisation des sommes de contrôle binaires, le contrôle de redondance cyclique (CRC) 32 bits est effectué colonne par colonne, et non pas sur la ligne physique de la page de données.</span><span class="sxs-lookup"><span data-stu-id="a47ca-119">When binary checksums are used, 32-bit redundancy check (CRC) occurs on a column-by-column basis rather than a CRC on the physical row on the data page.</span></span> <span data-ttu-id="a47ca-120">Ainsi, quel que soit l'ordre physique des colonnes de la table dans la page de données, elles participent au même calcul de CRC de ligne.</span><span class="sxs-lookup"><span data-stu-id="a47ca-120">This allows the columns with the table to be in any order physically on the data page, but still compute to the same CRC for the row.</span></span> <span data-ttu-id="a47ca-121">La validation par somme de contrôle binaire peut être utilisée lorsque des filtres de lignes ou de colonnes sont appliqués à la publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-121">Binary checksum validation can be used when there are row or column filters on the publication.</span></span>  
  
 <span data-ttu-id="a47ca-122">La validation des données est en processus comptant trois parties :</span><span class="sxs-lookup"><span data-stu-id="a47ca-122">Validating data is a three-part process:</span></span>  
  
1.  <span data-ttu-id="a47ca-123">Un abonnement unique ou tous les abonnements à une publication sont *marqués* pour la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-123">A single subscription or all subscriptions to a publication are *marked* for validation.</span></span> <span data-ttu-id="a47ca-124">Marquez des abonnements pour validation dans les boîtes de dialogue **Valider l’abonnement**, **Valider les abonnements** et **Valider tous les abonnements**, disponibles dans les dossiers **Publications locales** et **Abonnements locaux** de [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a47ca-124">Mark subscriptions for validation in the **Validate Subscription**, **Validate Subscriptions**, and **Validate All Subscriptions** dialog boxes, which are available from the **Local Publications** folder and the **Local Subscriptions** folder in [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="a47ca-125">Vous pouvez aussi marquer des abonnements à partir de l'onglet **Tous les abonnements** , de l'onglet **Liste de suivi des abonnements** et du nœud des publications dans le Moniteur de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-125">You can also mark subscriptions from the **All Subscriptions** tab, the **Subscription Watch List** tab, and the publications node in Replication Monitor.</span></span> <span data-ttu-id="a47ca-126">Pour plus d’informations sur le démarrage du Moniteur de réplication, consultez [Démarrer le Moniteur de réplication](monitor/start-the-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-126">For information about starting Replication Monitor, see [Start the Replication Monitor](monitor/start-the-replication-monitor.md).</span></span>  
  
2.  <span data-ttu-id="a47ca-127">Un abonnement est validé lors de sa prochaine synchronisation par l'Agent de distribution (réplication transactionnelle) ou l'Agent de fusion (réplication de fusion).</span><span class="sxs-lookup"><span data-stu-id="a47ca-127">A subscription is validated the next time it is synchronized by the Distribution Agent (for transactional replication) or the Merge Agent (for merge replication).</span></span> <span data-ttu-id="a47ca-128">L'Agent de distribution s'exécute généralement en continu, auquel cas la validation se produit immédiatement ; l'Agent de fusion s'exécute généralement à la demande, auquel cas la validation se produit après l'exécution de l'agent.</span><span class="sxs-lookup"><span data-stu-id="a47ca-128">The Distribution Agent typically runs continuously, in which case validation occurs immediately; the Merge Agent typically runs on demand, in which case validation occurs after you run the agent.</span></span>  
  
3.  <span data-ttu-id="a47ca-129">Affichez les résultats de la validation :</span><span class="sxs-lookup"><span data-stu-id="a47ca-129">View the validation results:</span></span>  
  
    -  <span data-ttu-id="a47ca-130">dans la fenêtre détaillée du moniteur de réplication : sous l'onglet **Historique du serveur de distribution vers l'Abonné** pour la réplication transactionnelle et l'onglet **Historique de synchronisation** pour la réplication de fusion ;</span><span class="sxs-lookup"><span data-stu-id="a47ca-130">In the detail windows in Replication Monitor: on the **Distributor to Subscriber History** tab for transactional replication and the **Synchronization History** tab for merge replication.</span></span>    
    -  <span data-ttu-id="a47ca-131">dans la boîte de dialogue **Afficher l'état de synchronisation** de [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a47ca-131">In the **View Synchronization Status** dialog box in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  


  
## <a name="considerations-and-restrictions"></a><span data-ttu-id="a47ca-132">Considérations et restrictions</span><span class="sxs-lookup"><span data-stu-id="a47ca-132">Considerations and restrictions</span></span>  
  
-   <span data-ttu-id="a47ca-133">Les procédures du moniteur de réplication concernent uniquement les abonnements par envoi de données (push) car ce type d'abonnement ne peut pas être synchronisé dans le moniteur de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-133">The procedures for Replication Monitor are for push subscriptions only because pull subscriptions cannot be synchronized in Replication Monitor.</span></span> <span data-ttu-id="a47ca-134">Vous pouvez toutefois marquer un abonnement pour validation et afficher les résultats de la validation pour les abonnements par extraction de données (pull) dans le moniteur de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-134">However, you can mark a subscription for validation and view validation results for pull subscriptions in Replication Monitor.</span></span>    
-   <span data-ttu-id="a47ca-135">Les résultats de la validation indiquent si la validation a échoué ou a raté, mais ne précisent pas les lignes défectueuses en cas d'échec.</span><span class="sxs-lookup"><span data-stu-id="a47ca-135">The validation results indicate whether validation succeeded or failed, but do not specify which rows failed validation if a failure occurred.</span></span> <span data-ttu-id="a47ca-136">Pour comparer des données sur le serveur de publication et sur l'Abonné, utilisez l' [tablediff Utility](../../tools/tablediff-utility.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-136">To compare data at the Publisher and Subscriber, use the [tablediff Utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="a47ca-137">Pour plus d’informations sur cet utilitaire, consultez [Comparer des tables répliquées pour identifier les différences &#40;programmation de la réplication&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-137">For more information about using this utility with replicated data, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
 
<span data-ttu-id="a47ca-138">Prenez en compte les problèmes suivants lors de la validation des données :</span><span class="sxs-lookup"><span data-stu-id="a47ca-138">Take the following issues into consideration when validating data:</span></span>  
  
-   <span data-ttu-id="a47ca-139">Vous devez arrêter toutes les activités de mise à jour sur les Abonnés avant de valider les données (il n'est pas nécessaire d'arrêter les activités sur le serveur de publication pendant la validation).</span><span class="sxs-lookup"><span data-stu-id="a47ca-139">You must stop all update activity at Subscribers before validating data (it is not necessary to stop activity at the Publisher when validation is occurring).</span></span>    
-   <span data-ttu-id="a47ca-140">Dans la mesure où les sommes de contrôle et les sommes de contrôle binaires peuvent nécessiter des ressources processeur importantes lors de la validation d'un jeu de données de grande taille, il est préférable de planifier la validation au moment où l'activité est la plus faible sur les serveurs utilisés dans la réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-140">Because checksums and binary checksums can require large amounts of processor resources when validating a large data set, you should schedule validation to occur when there is the least activity on the servers used in replication.</span></span>    
-   <span data-ttu-id="a47ca-141">La réplication valide seulement des tables ; elle ne vérifie pas si des articles de schéma uniquement (tels que des procédures stockées) sont identiques sur le serveur de publication et sur l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="a47ca-141">Replication validates tables only; it does not validate whether schema only articles (such as stored procedures) are the same at the Publisher and Subscriber.</span></span>    
-   <span data-ttu-id="a47ca-142">La somme de contrôle binaire peut être utilisée avec toutes les tables publiées.</span><span class="sxs-lookup"><span data-stu-id="a47ca-142">Binary checksum can be used with any published table.</span></span> <span data-ttu-id="a47ca-143">La somme de contrôle valide les tables avec des filtres de colonnes, ou des structures de table logique où les décalages des colonnes diffèrent (à cause d'instructions ALTER TABLE qui suppriment ou ajoutent des colonnes).</span><span class="sxs-lookup"><span data-stu-id="a47ca-143">Checksum cannot validate tables with column filters, or logical table structures where column offsets differ (due to ALTER TABLE statements that drop or add columns).</span></span>    
-   <span data-ttu-id="a47ca-144">La validation de réplication utilise les `checksum` fonctions et **BINARY_CHECKSUM** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-144">Replication validation uses the `checksum` and **binary_checksum** functions.</span></span> <span data-ttu-id="a47ca-145">Pour plus d’informations sur leur comportement, consultez [CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) et [BINARY_CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a47ca-145">For  information about their behavior, see  [CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) and [BINARY_CHECKSUM  &#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql).</span></span>  
  
-   <span data-ttu-id="a47ca-146">Une validation utilisant la somme de contrôle binaire ou la somme de contrôle peut signaler de façon incorrecte un échec si les types de données sont différents entre l'Abonné et le serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-146">Validation by using binary checksum or checksum can incorrectly report a failure if data types are different at the Subscriber than they are at the Publisher.</span></span> <span data-ttu-id="a47ca-147">Cela peut se produire si vous effectuez l'une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="a47ca-147">This can occur if you do any one of the following:</span></span>    
    -   <span data-ttu-id="a47ca-148">Vous définissez explicitement les options de schéma pour qu'elles correspondent aux types de données des versions antérieures de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a47ca-148">Explicitly set schema options to map data types for earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>    
    -   <span data-ttu-id="a47ca-149">Vous définissez le niveau de compatibilité de la publication pour une publication de fusion sur une version antérieure de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], et les tables publiées contiennent un ou plusieurs types de données qui doivent être mappés pour cette version.</span><span class="sxs-lookup"><span data-stu-id="a47ca-149">Set the publication compatibility level for a merge publication to an earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and published tables contain one or more data types that must be mapped for this version.</span></span>    
    -   <span data-ttu-id="a47ca-150">Vous initialisez manuellement un abonnement et utilisez différents types de données sur l'Abonné.</span><span class="sxs-lookup"><span data-stu-id="a47ca-150">Manually initialize a subscription and are using different data types at the Subscriber.</span></span>    
-   <span data-ttu-id="a47ca-151">Les validations de somme de contrôle binaire et de somme de contrôle ne sont pas prises en charge pour les abonnements transformables dans le cadre de la réplication transactionnelle.</span><span class="sxs-lookup"><span data-stu-id="a47ca-151">Binary checksum and checksum validations are not supported for transformable subscriptions for transactional replication.</span></span>   
-   <span data-ttu-id="a47ca-152">La validation n'est pas prise en charge pour les données répliquées vers des Abonnés non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a47ca-152">Validation is not supported for data replicated to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  

## <a name="data-validation-results"></a><span data-ttu-id="a47ca-153">Résultats de la validation des données</span><span class="sxs-lookup"><span data-stu-id="a47ca-153">Data Validation Results</span></span>  
 <span data-ttu-id="a47ca-154">Quand la validation est terminée, l'Agent de distribution ou l'Agent de fusion consigne des messages relatifs au succès ou à l'échec (la réplication ne rapporte pas quelles lignes ont échoué).</span><span class="sxs-lookup"><span data-stu-id="a47ca-154">When validation is complete, the Distribution Agent or Merge Agent logs messages regarding success or failure (replication does not report which rows failed).</span></span> <span data-ttu-id="a47ca-155">Ces messages peuvent être affichés dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], dans le moniteur de réplication et dans les tables système de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-155">These messages can be viewed in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], Replication Monitor, and replication system tables.</span></span> <span data-ttu-id="a47ca-156">La rubrique de procédure ci-dessus montre comment exécuter une validation et afficher les résultats.</span><span class="sxs-lookup"><span data-stu-id="a47ca-156">The how-to topic listed above demonstrates how to run validation and view the results.</span></span>  
  
 <span data-ttu-id="a47ca-157">Pour gérer les échecs de validation, considérez les points suivants :</span><span class="sxs-lookup"><span data-stu-id="a47ca-157">To handle validation failures, consider the following:</span></span>  
  
-   <span data-ttu-id="a47ca-158">Configurez l'alerte de réplication nommée **Réplication : l'Abonné n'a pas réussi la validation des données** pour recevoir une notification de l'échec.</span><span class="sxs-lookup"><span data-stu-id="a47ca-158">Configure the replication alert named **Replication: Subscriber has failed data validation** so that you are notified of the failure.</span></span> <span data-ttu-id="a47ca-159">Pour plus d’informations, consultez [configurer des alertes de réplication prédéfinies &#40;SQL Server Management Studio& # 41 (administration/configuration-prédéfinie-réplication-alertes-SQL-Server-Management-Studio. MD).</span><span class="sxs-lookup"><span data-stu-id="a47ca-159">For more information, see [Configure Predefined Replication Alerts &#40;SQL Server Management Studio&#41(administration/configure-predefined-replication-alerts-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="a47ca-160">Le fait que la validation a échoué est-il un problème pour votre application ?</span><span class="sxs-lookup"><span data-stu-id="a47ca-160">Is the fact that validation failed an issue for your application?</span></span> <span data-ttu-id="a47ca-161">Si l'échec de la validation constitue un problème, mettez à jour manuellement les données pour qu'elles soient synchronisées, ou bien réinitialisez l'abonnement :</span><span class="sxs-lookup"><span data-stu-id="a47ca-161">If the validation failure is an issue, manually update the data so that it is synchronized, or reinitialize the subscription:</span></span>  
  
    -   <span data-ttu-id="a47ca-162">Les données peuvent être mises à jour à l'aide de l' [utilitaire tablediff](../../tools/tablediff-utility.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-162">Data can be updated using the [tablediff utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="a47ca-163">Pour plus d’informations sur l’utilisation de cet utilitaire, consultez [Comparer des tables répliquées pour identifier les différences &#40;programmation de réplication&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-163">For more information about using this utility, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
  
    -   <span data-ttu-id="a47ca-164">Pour plus d’informations sur la réinitialisation, consultez [Réinitialiser des abonnements](reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-164">For more information about reinitializaton, see [Reinitialize Subscriptions](reinitialize-subscriptions.md).</span></span>   
 
  
## <a name="articles-in-transactional-replication"></a><span data-ttu-id="a47ca-165">Articles de la réplication transactionnelle</span><span class="sxs-lookup"><span data-stu-id="a47ca-165">Articles in Transactional Replication</span></span> 

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="a47ca-166">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="a47ca-166">Using SQL Server Management Studio</span></span>  
  
  
1.  <span data-ttu-id="a47ca-167">Connectez-vous au serveur de publication dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], puis développez le nœud du serveur.</span><span class="sxs-lookup"><span data-stu-id="a47ca-167">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="a47ca-168">Développez le dossier **Réplication** , puis développez le dossier **Publications locales** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-168">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="a47ca-169">Cliquez avec le bouton droit sur la publication dont vous souhaitez valider les abonnements, puis cliquez sur **Valider les abonnements**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-169">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
4.  <span data-ttu-id="a47ca-170">Dans la boîte de dialogue **Valider les abonnements** , sélectionnez les abonnements à valider :</span><span class="sxs-lookup"><span data-stu-id="a47ca-170">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="a47ca-171">Sélectionnez **Valider tous les abonnements SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-171">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="a47ca-172">Sélectionnez **Valider les abonnements suivants**, puis sélectionnez un ou plusieurs abonnements.</span><span class="sxs-lookup"><span data-stu-id="a47ca-172">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>    
5.  <span data-ttu-id="a47ca-173">Pour spécifier le type de validation à effectuer (nombre de lignes, ou nombre de lignes et somme de contrôle), cliquez sur **Options de validation**, puis spécifiez les options dans la boîte de dialogue **Options de validation d'abonnement** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-173">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
7.  <span data-ttu-id="a47ca-174">Affichez les résultats de la validation dans le moniteur de réplication ou dans la boîte de dialogue **Afficher l'état de synchronisation** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-174">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="a47ca-175">Pour chaque abonnement :</span><span class="sxs-lookup"><span data-stu-id="a47ca-175">For each subscription:</span></span>    
    1.  <span data-ttu-id="a47ca-176">Développez la publication, cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Afficher l'état de synchronisation**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-176">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>    
    2.  <span data-ttu-id="a47ca-177">Si l'agent n'est pas en cours d'exécution, cliquez sur **Démarrer** dans la boîte de dialogue **Afficher l'état de synchronisation** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-177">If the agent is not running click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="a47ca-178">La boîte de dialogue affiche des messages d'information concernant la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-178">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="a47ca-179">Si aucun message concernant la validation ne s'affiche, l'agent a déjà consigné un message à ce sujet dans le journal.</span><span class="sxs-lookup"><span data-stu-id="a47ca-179">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="a47ca-180">Dans ce cas, affichez les résultats de la validation dans le moniteur de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-180">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="a47ca-181">Pour plus d'informations, consultez les procédures du moniteur de réplication dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="a47ca-181">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="a47ca-182">Utilisation de Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="a47ca-182">Using Transact-SQL (T-SQL)</span></span>

#### <a name="all-articles"></a><span data-ttu-id="a47ca-183">Tous les articles</span><span class="sxs-lookup"><span data-stu-id="a47ca-183">All articles</span></span>
  
1.  <span data-ttu-id="a47ca-184">Dans la base de données de publication sur le serveur de publication, exécutez [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a47ca-184">At the Publisher on the publication database, execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql).</span></span> <span data-ttu-id="a47ca-185">Spécifiez \*\* \@ publication\*\* et l’une des valeurs suivantes pour \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="a47ca-185">Specify **\@publication** and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="a47ca-186">**1** - contrôle du nombre de lignes uniquement (par défaut)</span><span class="sxs-lookup"><span data-stu-id="a47ca-186">**1** - rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="a47ca-187">**2** - nombre de lignes et somme de contrôle binaire.</span><span class="sxs-lookup"><span data-stu-id="a47ca-187">**2** - rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="a47ca-188">Lorsque vous exécutez [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) est exécuté pour chaque article de la publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-188">When you execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) is executed for each article in the publication.</span></span> <span data-ttu-id="a47ca-189">Pour exécuter [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql) avec succès, vous devez avoir les autorisations SELECT sur toutes les colonnes des tables de la base publiée.</span><span class="sxs-lookup"><span data-stu-id="a47ca-189">To successfully execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), you must have SELECT permissions on all columns in the published base tables.</span></span>  
  
2.  <span data-ttu-id="a47ca-190">(Facultatif) Démarrez l'Agent de distribution pour chaque abonnement s'il n'est pas déjà en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="a47ca-190">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="a47ca-191">Pour plus d'informations, consultez [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) et [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-191">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="a47ca-192">Vérifiez la sortie de l'agent pour le résultat de la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-192">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="a47ca-193">Pour plus d’informations, consultez [Valider des données répliquées](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-193">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-article"></a><span data-ttu-id="a47ca-194">Article unique</span><span class="sxs-lookup"><span data-stu-id="a47ca-194">Single article</span></span> 
  
1.  <span data-ttu-id="a47ca-195">Dans la base de données de publication sur le serveur de publication, exécutez [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a47ca-195">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="a47ca-196">Spécifiez \*\* \@ publication**, le nom de l’article pour l' \*\* \@ article**et l’une des valeurs suivantes pour \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="a47ca-196">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="a47ca-197">**1** - contrôle du nombre de lignes uniquement (par défaut)</span><span class="sxs-lookup"><span data-stu-id="a47ca-197">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="a47ca-198">**2** -RowCount et somme de contrôle binaire.</span><span class="sxs-lookup"><span data-stu-id="a47ca-198">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="a47ca-199">Pour exécuter [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) avec succès, vous devez avoir les autorisations SELECT sur toutes les colonnes des tables de la base publiée.</span><span class="sxs-lookup"><span data-stu-id="a47ca-199">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
2.  <span data-ttu-id="a47ca-200">(Facultatif) Démarrez l'Agent de distribution pour chaque abonnement s'il n'est pas déjà en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="a47ca-200">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="a47ca-201">Pour plus d'informations, consultez [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) et [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-201">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="a47ca-202">Vérifiez la sortie de l'agent pour le résultat de la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-202">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="a47ca-203">Pour plus d’informations, consultez [Valider des données répliquées](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-203">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-subscriber"></a><span data-ttu-id="a47ca-204">Abonné unique</span><span class="sxs-lookup"><span data-stu-id="a47ca-204">Single subscriber</span></span>
  
1.  <span data-ttu-id="a47ca-205">Dans la base de données de publication sur le serveur de publication, ouvrez une transaction explicite en utilisant [BEGIN TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a47ca-205">At the Publisher on the publication database, open an explicit transaction using [BEGIN TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql).</span></span>    
2.  <span data-ttu-id="a47ca-206">Dans la base de données de publication du serveur de publication, exécutez [sp_marksubscriptionvalidation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a47ca-206">At the Publisher on the publication database, execute [sp_marksubscriptionvalidation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql).</span></span> <span data-ttu-id="a47ca-207">Spécifiez la publication pour la \*\* \@ publication**, le nom de l’abonné pour l' \*\* \@ abonné**et le nom de la base de données d’abonnement pour \*\* \@ destination_db\*\*.</span><span class="sxs-lookup"><span data-stu-id="a47ca-207">Specify the publication for **\@publication**, the name of the Subscriber for **\@subscriber**, and the name of the subscription database for **\@destination_db**.</span></span>    
3.  <span data-ttu-id="a47ca-208">(Facultatif) Répétez l'étape 2 pour chaque abonnement en cours de validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-208">(Optional) Repeat step 2 for each subscription being validated.</span></span>    
4.  <span data-ttu-id="a47ca-209">Dans la base de données de publication sur le serveur de publication, exécutez [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a47ca-209">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="a47ca-210">Spécifiez \*\* \@ publication**, le nom de l’article pour l' \*\* \@ article**et l’une des valeurs suivantes pour \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="a47ca-210">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="a47ca-211">**1** - contrôle du nombre de lignes uniquement (par défaut)</span><span class="sxs-lookup"><span data-stu-id="a47ca-211">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="a47ca-212">**2** -RowCount et somme de contrôle binaire.</span><span class="sxs-lookup"><span data-stu-id="a47ca-212">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="a47ca-213">Pour exécuter [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) avec succès, vous devez avoir les autorisations SELECT sur toutes les colonnes des tables de la base publiée.</span><span class="sxs-lookup"><span data-stu-id="a47ca-213">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
5.  <span data-ttu-id="a47ca-214">Dans la base de données de publication sur le serveur de publication, validez la transaction en utilisant [COMMIT TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a47ca-214">At the Publisher on the publication database, commit the transaction using [COMMIT TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql).</span></span>    
6.  <span data-ttu-id="a47ca-215">(Facultatif) Répétez les étapes 1 à 5 pour chaque article en cours de validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-215">(Optional) Repeat steps 1 through 5 for each article being validated.</span></span>    
7.  <span data-ttu-id="a47ca-216">(Facultatif) Démarrez l'Agent de distribution s'il n'est pas déjà en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="a47ca-216">(Optional) Start the Distribution Agent if it is not already running.</span></span> <span data-ttu-id="a47ca-217">Pour plus d'informations, consultez [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) et [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-217">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
8.  <span data-ttu-id="a47ca-218">Vérifiez la sortie de l'agent pour le résultat de la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-218">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="a47ca-219">Pour plus d'informations, voir [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-219">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  

##  <a name="all-push-subscriptions-to-a-transactional-publication"></a><span data-ttu-id="a47ca-220">Tous les abonnements par envoi de notification à une publication transactionnelle</span><span class="sxs-lookup"><span data-stu-id="a47ca-220">All push subscriptions to a Transactional Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="a47ca-221">Utilisation du moniteur de réplication</span><span class="sxs-lookup"><span data-stu-id="a47ca-221">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="a47ca-222">Dans le moniteur de réplication, développez un groupe de serveurs de publication dans le volet gauche, puis développez un serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-222">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="a47ca-223">Cliquez avec le bouton droit sur la publication dont vous souhaitez valider les abonnements, puis cliquez sur **Valider les abonnements**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-223">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
3.  <span data-ttu-id="a47ca-224">Dans la boîte de dialogue **Valider les abonnements** , sélectionnez les abonnements à valider :</span><span class="sxs-lookup"><span data-stu-id="a47ca-224">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="a47ca-225">Sélectionnez **Valider tous les abonnements SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-225">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="a47ca-226">Sélectionnez **Valider les abonnements suivants**, puis sélectionnez un ou plusieurs abonnements.</span><span class="sxs-lookup"><span data-stu-id="a47ca-226">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>   
4.  <span data-ttu-id="a47ca-227">Pour spécifier le type de validation à effectuer (nombre de lignes, ou nombre de lignes et somme de contrôle), cliquez sur **Options de validation**, puis spécifiez les options dans la boîte de dialogue **Options de validation d'abonnement** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-227">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="a47ca-228">Cliquez sur l'onglet **Tous les abonnements** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-228">Click the **All Subscriptions** tab.</span></span>    
7.  <span data-ttu-id="a47ca-229">Affichez les résultats de la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-229">View validation results.</span></span> <span data-ttu-id="a47ca-230">Pour chaque abonnement par envoi de données :</span><span class="sxs-lookup"><span data-stu-id="a47ca-230">For each push subscription:</span></span>   
    1.  <span data-ttu-id="a47ca-231">Si l'agent n'est pas en cours d'exécution, cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Démarrer la synchronisation**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-231">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>   
    2.  <span data-ttu-id="a47ca-232">Cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Afficher les détails**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-232">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="a47ca-233">Affichez les informations dans l'onglet **Historique du serveur de distribution vers l'Abonné** de la zone de texte **Actions dans la session sélectionnée** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-233">View information on the **Distributor to Subscriber History** tab in the **Actions in the selected session** text area.</span></span>  
  

## <a name="for-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="a47ca-234">Pour un abonnement unique à une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="a47ca-234">For a single subscription to a Merge Publication</span></span>
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="a47ca-235">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="a47ca-235">Using SQL Server Management Studio</span></span>
  
1.  <span data-ttu-id="a47ca-236">Connectez-vous au serveur de publication dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], puis développez le nœud du serveur.</span><span class="sxs-lookup"><span data-stu-id="a47ca-236">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="a47ca-237">Développez le dossier **Réplication** , puis développez le dossier **Publications locales** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-237">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="a47ca-238">Développez la publication dont vous souhaitez valider les abonnements, cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Valider l'abonnement**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-238">Expand the publication for which you want to validate subscriptions, right-click the subscription, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="a47ca-239">Dans la boîte de dialogue **Valider l'abonnement** , sélectionnez **Valider cet abonnement**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-239">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="a47ca-240">Pour spécifier le type de validation à effectuer (nombre de lignes, ou nombre de lignes et somme de contrôle), cliquez sur **Options**, puis spécifiez les options dans la boîte de dialogue **Options de validation d'abonnement** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-240">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="a47ca-241">Affichez les résultats de la validation dans le moniteur de réplication ou dans la boîte de dialogue **Afficher l'état de synchronisation** :</span><span class="sxs-lookup"><span data-stu-id="a47ca-241">View validation results in Replication Monitor or the **View Synchronization Status** dialog box:</span></span>  
    1.  <span data-ttu-id="a47ca-242">Développez la publication, cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Afficher l'état de synchronisation**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-242">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="a47ca-243">Si l’agent n’est pas en cours d’exécution, cliquez sur **Démarrer** dans la boîte de dialogue **afficher l’État** de la synchronisation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-243">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="a47ca-244">La boîte de dialogue affiche des messages d'information concernant la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-244">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="a47ca-245">Si aucun message concernant la validation ne s'affiche, l'agent a déjà consigné un message à ce sujet dans le journal.</span><span class="sxs-lookup"><span data-stu-id="a47ca-245">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="a47ca-246">Dans ce cas, affichez les résultats de la validation dans le moniteur de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-246">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="a47ca-247">Pour plus d'informations, consultez les procédures du moniteur de réplication dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="a47ca-247">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="a47ca-248">Utilisation de Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="a47ca-248">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="a47ca-249">Dans la base de données de publication sur le serveur de publication, exécutez [sp_validatemergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a47ca-249">At the Publisher on the publication database, execute [sp_validatemergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql).</span></span> <span data-ttu-id="a47ca-250">Spécifiez \*\* \@ publication**, le nom de l’abonné pour l' \*\* \@ abonné**, le nom de la base de données d’abonnement pour \*\* \@ subscriber_db**et l’une des valeurs suivantes pour \*\* \@ niveau**:</span><span class="sxs-lookup"><span data-stu-id="a47ca-250">Specify **\@publication**, the name of the Subscriber for **\@subscriber**, the name of the subscription database for **\@subscriber_db**, and one of the following values for **\@level**:</span></span>   
    -   <span data-ttu-id="a47ca-251">**1** - validation du nombre de lignes uniquement.</span><span class="sxs-lookup"><span data-stu-id="a47ca-251">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="a47ca-252">**3** - validation de la somme de contrôle binaire du nombre de lignes.</span><span class="sxs-lookup"><span data-stu-id="a47ca-252">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="a47ca-253">Les abonnements sélectionnés sont ainsi marqués pour la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-253">This marks the selected subscription for validation.</span></span>  
  
2.  <span data-ttu-id="a47ca-254">Démarrez l'agent de fusion pour chaque abonnement.</span><span class="sxs-lookup"><span data-stu-id="a47ca-254">Start the merge agent for each subscription.</span></span> <span data-ttu-id="a47ca-255">Pour plus d'informations, consultez [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) et [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-255">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="a47ca-256">Vérifiez la sortie de l'agent pour le résultat de la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-256">Check the agent output for the result of the validation.</span></span>    
4.  <span data-ttu-id="a47ca-257">Répétez les étapes 1 à 3 pour chaque abonnement en cours de validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-257">Repeat steps 1 through 3 for each subscription being validated.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a47ca-258">Un abonnement à une publication de fusion peut également être validé à la fin d'une synchronisation en spécifiant le paramètre **-Validate** lors de l'exécution de l' [Replication Merge Agent](agents/replication-merge-agent.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-258">A subscription to a merge publication can also be validated at the end of a synchronization by specifying the **-Validate** parameter when running the [Replication Merge Agent](agents/replication-merge-agent.md).</span></span>  

  
## <a name="for-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="a47ca-259">Pour tous les abonnements à une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="a47ca-259">For all subscriptions to a Merge Publication</span></span>

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="a47ca-260">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="a47ca-260">Using SQL Server Management Studio</span></span> 
  
1.  <span data-ttu-id="a47ca-261">Connectez-vous au serveur de publication dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], puis développez le nœud du serveur.</span><span class="sxs-lookup"><span data-stu-id="a47ca-261">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="a47ca-262">Développez le dossier **Réplication** , puis développez le dossier **Publications locales** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-262">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="a47ca-263">Cliquez avec le bouton droit sur la publication dont vous souhaitez valider les abonnements, puis cliquez sur **Valider tous les abonnements**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-263">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
4.  <span data-ttu-id="a47ca-264">Dans la boîte de dialogue **Valider tous les abonnements** , spécifiez le type de validation à effectuer (nombre de lignes, ou nombre de lignes et total de contrôle).</span><span class="sxs-lookup"><span data-stu-id="a47ca-264">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="a47ca-265">Affichez les résultats de la validation dans le moniteur de réplication ou la boîte de dialogue **afficher l’état de synchronisation** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-265">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="a47ca-266">Pour chaque abonnement :</span><span class="sxs-lookup"><span data-stu-id="a47ca-266">For each subscription:</span></span>    
    1.  <span data-ttu-id="a47ca-267">Développez la publication, cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Afficher l'état de synchronisation**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-267">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="a47ca-268">Si l’agent n’est pas en cours d’exécution, cliquez sur **Démarrer** dans la boîte de dialogue **afficher l’État** de la synchronisation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-268">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="a47ca-269">La boîte de dialogue affiche des messages d'information concernant la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-269">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="a47ca-270">Si aucun message concernant la validation ne s'affiche, l'agent a déjà consigné un message à ce sujet dans le journal.</span><span class="sxs-lookup"><span data-stu-id="a47ca-270">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="a47ca-271">Dans ce cas, affichez les résultats de la validation dans le moniteur de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-271">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="a47ca-272">Pour plus d'informations, consultez les procédures du moniteur de réplication dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="a47ca-272">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="a47ca-273">Utilisation de Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="a47ca-273">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="a47ca-274">Dans la base de données de publication sur le serveur de publication, exécutez [sp_validatemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a47ca-274">At the Publisher on the publication database, execute [sp_validatemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql).</span></span> <span data-ttu-id="a47ca-275">Spécifiez \*\* \@ publication\*\* et l’une des valeurs suivantes pour \*\* \@ niveau\*\*:</span><span class="sxs-lookup"><span data-stu-id="a47ca-275">Specify **\@publication** and one of the following values for **\@level**:</span></span>    
    -   <span data-ttu-id="a47ca-276">**1** - validation du nombre de lignes uniquement.</span><span class="sxs-lookup"><span data-stu-id="a47ca-276">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="a47ca-277">**3** - validation de la somme de contrôle binaire du nombre de lignes.</span><span class="sxs-lookup"><span data-stu-id="a47ca-277">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="a47ca-278">Tous les abonnements sont ainsi marqués pour la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-278">This marks all subscriptions for validation.</span></span>  
  
2.  <span data-ttu-id="a47ca-279">Démarrez l'agent de fusion pour chaque abonnement.</span><span class="sxs-lookup"><span data-stu-id="a47ca-279">Start the merge agent for each subscription.</span></span> <span data-ttu-id="a47ca-280">Pour plus d'informations, consultez [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) et [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-280">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="a47ca-281">Vérifiez la sortie de l'agent pour le résultat de la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-281">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="a47ca-282">Pour plus d'informations, voir [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-282">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  


## <a name="for-a-single-push-subscription-to-a-merge-publication"></a><span data-ttu-id="a47ca-283">Pour un abonnement par émission de données unique à une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="a47ca-283">For a single push subscription to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="a47ca-284">Utilisation du moniteur de réplication</span><span class="sxs-lookup"><span data-stu-id="a47ca-284">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="a47ca-285">Dans le moniteur de réplication, développez un groupe de serveurs de publication dans le volet gauche, développez un serveur de publication, puis cliquez sur une publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-285">In Replication Monitor, expand a Publisher group in the left pane, expand a Publisher, and then click a publication.</span></span>    
2.  <span data-ttu-id="a47ca-286">Cliquez sur l'onglet **Tous les abonnements** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-286">Click the **All Subscriptions** tab.</span></span>    
3.  <span data-ttu-id="a47ca-287">Cliquez avec le bouton droit sur l'abonnement que vous souhaitez valider, puis cliquez sur **Valider l'abonnement**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-287">Right-click the subscription you want to validate, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="a47ca-288">Dans la boîte de dialogue **Valider l'abonnement** , sélectionnez **Valider cet abonnement**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-288">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="a47ca-289">Pour spécifier le type de validation à effectuer (nombre de lignes, ou nombre de lignes et somme de contrôle), cliquez sur **Options**, puis spécifiez les options dans la boîte de dialogue **Options de validation d'abonnement** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-289">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="a47ca-290">Cliquez sur l'onglet **Tous les abonnements** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-290">Click the **All Subscriptions** tab.</span></span>    
8.  <span data-ttu-id="a47ca-291">Affichez les résultats de la validation :</span><span class="sxs-lookup"><span data-stu-id="a47ca-291">View validation results:</span></span>    
    1.  <span data-ttu-id="a47ca-292">Si l'agent n'est pas en cours d'exécution, cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Démarrer la synchronisation**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-292">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="a47ca-293">Cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Afficher les détails**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-293">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="a47ca-294">Affichez les informations dans l'onglet **Historique de synchronisation** de la zone de texte **Dernier message de la session sélectionnée** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-294">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
## <a name="for-all-push-subscriptions-to-a-merge-publication"></a><span data-ttu-id="a47ca-295">Pour tous les abonnements par émission de données à une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="a47ca-295">For all push subscriptions to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="a47ca-296">Utilisation du moniteur de réplication</span><span class="sxs-lookup"><span data-stu-id="a47ca-296">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="a47ca-297">Dans le moniteur de réplication, développez un groupe de serveurs de publication dans le volet gauche, puis développez un serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-297">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="a47ca-298">Cliquez avec le bouton droit sur la publication dont vous souhaitez valider les abonnements, puis cliquez sur **Valider tous les abonnements**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-298">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
3.  <span data-ttu-id="a47ca-299">Dans la boîte de dialogue **Valider tous les abonnements** , spécifiez le type de validation à effectuer (nombre de lignes, ou nombre de lignes et total de contrôle).</span><span class="sxs-lookup"><span data-stu-id="a47ca-299">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
4.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
5.  <span data-ttu-id="a47ca-300">Cliquez sur l'onglet **Tous les abonnements** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-300">Click the **All Subscriptions** tab.</span></span>    
6.  <span data-ttu-id="a47ca-301">Affichez les résultats de la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-301">View validation results.</span></span> <span data-ttu-id="a47ca-302">Pour chaque abonnement par envoi de données :</span><span class="sxs-lookup"><span data-stu-id="a47ca-302">For each push subscription:</span></span>    
    1.  <span data-ttu-id="a47ca-303">Si l'agent n'est pas en cours d'exécution, cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Démarrer la synchronisation**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-303">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="a47ca-304">Cliquez avec le bouton droit sur l'abonnement, puis cliquez sur **Afficher les détails**.</span><span class="sxs-lookup"><span data-stu-id="a47ca-304">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="a47ca-305">Affichez les informations dans l'onglet **Historique de synchronisation** de la zone de texte **Dernier message de la session sélectionnée** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-305">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
  
## <a name="validate-data-using-merge-agent-parameters"></a><span data-ttu-id="a47ca-306">Valider des données à l’aide de paramètres de Agent de fusion</span><span class="sxs-lookup"><span data-stu-id="a47ca-306">Validate data using Merge Agent Parameters</span></span>
  
1.  <span data-ttu-id="a47ca-307">Démarrez l'Agent de fusion sur l'Abonné (abonnement par extraction) ou sur le serveur de distribution (abonnement par émission de données) à partir de l'invite de commandes de l'une des façons suivantes.</span><span class="sxs-lookup"><span data-stu-id="a47ca-307">Start the Merge Agent at the Subscriber (pull subscription) or at the Distributor (push subscription) from the command prompt in one of the following ways.</span></span>    
    -   <span data-ttu-id="a47ca-308">Spécifiez une valeur de **1** (nombre de lignes) ou **3** (nombre de lignes et somme de contrôle de binaire) pour le paramètre **-Validate** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-308">Specifying a value of **1** (rowcount) or **3** (rowcount and binary checksum) for the **-Validate** parameter.</span></span>   
    -   <span data-ttu-id="a47ca-309">Spécifiez la **validation du nombre de lignes** ou le **nombre de lignes et la validation de la somme de contrôle** pour le paramètre **-ProfileName** .</span><span class="sxs-lookup"><span data-stu-id="a47ca-309">Specifying **rowcount validation** or **rowcount and checksum validation** for the **-ProfileName** parameter.</span></span>  
  
     <span data-ttu-id="a47ca-310">Pour plus d'informations, consultez [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) ou [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-310">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) or [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
## <a name="using-replication-management-objects-rmo"></a><span data-ttu-id="a47ca-311">Utilisation d'objets RMO (Replication Management Objects)</span><span class="sxs-lookup"><span data-stu-id="a47ca-311">Using Replication Management Objects (RMO)</span></span>  
 <span data-ttu-id="a47ca-312">La réplication permet d'utiliser les objets RMO (Replication Management Objects) pour vérifier par programmation que les données de l'Abonné correspondent à celles du serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-312">Replication enables you to use Replication Management Objects (RMO) to programmatically validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="a47ca-313">Les objets que vous utilisez dépendent du type de topologie de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-313">The objects you use depend on the type of replication topology.</span></span> <span data-ttu-id="a47ca-314">La réplication transactionnelle requiert la validation de tous les abonnements à une publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-314">Transactional replication requires validation of all subscriptions to a publication.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a47ca-315">Consultez l' [Exemple (RMO)](#RMOExample)plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="a47ca-315">For an example, see [Example (RMO)](#RMOExample), later in this section.</span></span>  
  
#### <a name="to-validate-data-for-all-articles-in-a-transactional-publication"></a><span data-ttu-id="a47ca-316">Pour valider les données de tous les articles d'une publication transactionnelle</span><span class="sxs-lookup"><span data-stu-id="a47ca-316">To validate data for all articles in a transactional publication</span></span>  
  
1.  <span data-ttu-id="a47ca-317">Créez une connexion au serveur de publication en utilisant la classe <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="a47ca-317">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="a47ca-318">Créez une instance de la classe <xref:Microsoft.SqlServer.Replication.TransPublication>.</span><span class="sxs-lookup"><span data-stu-id="a47ca-318">Create an instance of the <xref:Microsoft.SqlServer.Replication.TransPublication> class.</span></span> <span data-ttu-id="a47ca-319">Définissez les propriétés <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> et <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> de la publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-319">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="a47ca-320">Définissez la propriété <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> en spécifiant la connexion créée à l'étape 1.</span><span class="sxs-lookup"><span data-stu-id="a47ca-320">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="a47ca-321">Appelez la méthode <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> pour obtenir les propriétés restantes de l'objet.</span><span class="sxs-lookup"><span data-stu-id="a47ca-321">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="a47ca-322">Si cette méthode retourne `false`, soit les propriétés de la publication ont été définies de manière incorrecte à l'étape 2, soit la publication n'existe pas.</span><span class="sxs-lookup"><span data-stu-id="a47ca-322">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="a47ca-323">Appelez la méthode <xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> .</span><span class="sxs-lookup"><span data-stu-id="a47ca-323">Call the <xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="a47ca-324">Passez les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="a47ca-324">Pass the following:</span></span>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationOption>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationMethod>    
    -   <span data-ttu-id="a47ca-325">Une valeur booléenne qui indique s'il faut arrêter l'Agent de distribution une fois la validation terminée.</span><span class="sxs-lookup"><span data-stu-id="a47ca-325">A Boolean that indicates whether to stop the Distribution Agent after validation is completed.</span></span>  
  
     <span data-ttu-id="a47ca-326">Cela marque les articles pour la validation.</span><span class="sxs-lookup"><span data-stu-id="a47ca-326">This marks the articles for validation.</span></span>  
  
5.  <span data-ttu-id="a47ca-327">S'il n'est pas déjà en cours d'exécution, démarrez l'Agent de distribution pour synchroniser chaque abonnement.</span><span class="sxs-lookup"><span data-stu-id="a47ca-327">If not already running, start the Distribution Agent to synchronize each subscription.</span></span> <span data-ttu-id="a47ca-328">Pour plus d'informations, consultez [Synchronize a Push Subscription](synchronize-a-push-subscription.md) ou [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-328">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md) or [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span></span> <span data-ttu-id="a47ca-329">Le résultat de l'opération de validation est écrit dans l'historique de l'agent.</span><span class="sxs-lookup"><span data-stu-id="a47ca-329">The result of the validation operation is written to the agent history.</span></span> <span data-ttu-id="a47ca-330">Pour plus d'informations, voir [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-330">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="a47ca-331">Pour valider les données de tous les abonnements à une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="a47ca-331">To validate data in all subscriptions to a merge publication</span></span>  
  
1.  <span data-ttu-id="a47ca-332">Créez une connexion au serveur de publication en utilisant la classe <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="a47ca-332">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>   
2.  <span data-ttu-id="a47ca-333">Créez une instance de la classe <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="a47ca-333">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="a47ca-334">Définissez les propriétés <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> et <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> de la publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-334">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="a47ca-335">Définissez la propriété <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> en spécifiant la connexion créée à l'étape 1.</span><span class="sxs-lookup"><span data-stu-id="a47ca-335">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="a47ca-336">Appelez la méthode <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> pour obtenir les propriétés restantes de l'objet.</span><span class="sxs-lookup"><span data-stu-id="a47ca-336">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="a47ca-337">Si cette méthode retourne `false`, soit les propriétés de la publication ont été définies de manière incorrecte à l'étape 2, soit la publication n'existe pas.</span><span class="sxs-lookup"><span data-stu-id="a47ca-337">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="a47ca-338">Appelez la méthode <xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> .</span><span class="sxs-lookup"><span data-stu-id="a47ca-338">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="a47ca-339">Passez le <xref:Microsoft.SqlServer.Replication.ValidationOption>souhaité.</span><span class="sxs-lookup"><span data-stu-id="a47ca-339">Pass the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="a47ca-340">Exécutez l'Agent de fusion pour chaque abonnement pour démarrer la validation ou attendez que l'agent planifié suivant ne s'exécute.</span><span class="sxs-lookup"><span data-stu-id="a47ca-340">Run the Merge Agent for each subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="a47ca-341">Pour plus d'informations, consultez [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) et [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-341">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="a47ca-342">Le résultat de l'opération de validation est écrit dans l'historique de l'agent, que vous affichez en utilisant le moniteur de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-342">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="a47ca-343">Pour plus d'informations, voir [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-343">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="a47ca-344">Pour valider les données d'un seul abonnement à une publication de fusion</span><span class="sxs-lookup"><span data-stu-id="a47ca-344">To validate data in a single subscription to a merge publication</span></span>  
  
1.  <span data-ttu-id="a47ca-345">Créez une connexion au serveur de publication en utilisant la classe <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="a47ca-345">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="a47ca-346">Créez une instance de la classe <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="a47ca-346">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="a47ca-347">Définissez les propriétés <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> et <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> de la publication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-347">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="a47ca-348">Définissez la propriété <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> en spécifiant la connexion créée à l'étape 1.</span><span class="sxs-lookup"><span data-stu-id="a47ca-348">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>    
3.  <span data-ttu-id="a47ca-349">Appelez la méthode <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> pour obtenir les propriétés restantes de l'objet.</span><span class="sxs-lookup"><span data-stu-id="a47ca-349">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="a47ca-350">Si cette méthode retourne `false`, soit les propriétés de la publication ont été définies de manière incorrecte à l'étape 2, soit la publication n'existe pas.</span><span class="sxs-lookup"><span data-stu-id="a47ca-350">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="a47ca-351">Appelez la méthode <xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> .</span><span class="sxs-lookup"><span data-stu-id="a47ca-351">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> method.</span></span> <span data-ttu-id="a47ca-352">Passez le nom de l'Abonné et de la base de données d'abonnement en cours de validation, ainsi que le <xref:Microsoft.SqlServer.Replication.ValidationOption>souhaité.</span><span class="sxs-lookup"><span data-stu-id="a47ca-352">Pass the name of the Subscriber and subscription database being validated and the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="a47ca-353">Exécutez l'Agent de fusion de l'abonnement pour démarrer la validation ou attendez que l'agent planifié suivant ne s'exécute.</span><span class="sxs-lookup"><span data-stu-id="a47ca-353">Run the Merge Agent for the subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="a47ca-354">Pour plus d'informations, consultez [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) et [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-354">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="a47ca-355">Le résultat de l'opération de validation est écrit dans l'historique de l'agent, que vous affichez en utilisant le moniteur de réplication.</span><span class="sxs-lookup"><span data-stu-id="a47ca-355">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="a47ca-356">Pour plus d'informations, voir [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="a47ca-356">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
###  <a name="example-rmo"></a><a name="RMOExample"></a> <span data-ttu-id="a47ca-357">Exemple (RMO)</span><span class="sxs-lookup"><span data-stu-id="a47ca-357">Example (RMO)</span></span>  
 <span data-ttu-id="a47ca-358">Cet exemple marque tous les abonnements à une publication transactionnelle pour une validation du nombre de lignes.</span><span class="sxs-lookup"><span data-stu-id="a47ca-358">This example marks all subscriptions to a transactional publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateTranPub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatetranpub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateTranPub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatetranpub)]  
  
 <span data-ttu-id="a47ca-359">Cet exemple marque un abonnement spécifique à une publication de fusion pour une validation du nombre de lignes.</span><span class="sxs-lookup"><span data-stu-id="a47ca-359">This example marks a specific subscription to a merge publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateMergeSub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatemergesub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateMergeSub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatemergesub)]  
  
  
