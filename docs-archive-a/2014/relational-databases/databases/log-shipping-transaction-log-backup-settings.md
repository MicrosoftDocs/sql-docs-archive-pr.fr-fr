---
title: Paramètres de sauvegarde des journaux de transaction | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- sql12.swb.databaseproperties.logshipping.settings.tlogback.f1
ms.assetid: 9a6e6c16-7f71-412b-bba6-7bffac001277
author: stevestein
ms.author: sstein
ms.openlocfilehash: b5420f3032cd2477d23028a2e27c1ce89c4e0525
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87709543"
---
# <a name="log-shipping-transaction-log-backup-settings"></a><span data-ttu-id="36486-102">Paramètres de sauvegarde des journaux de transactions</span><span class="sxs-lookup"><span data-stu-id="36486-102">Log Shipping Transaction Log Backup Settings</span></span>
  <span data-ttu-id="36486-103">Utilisez cette boîte de dialogue pour configurer et modifier les paramètres de sauvegarde des journaux de transactions pour une configuration spécifique de la copie des journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="36486-103">Use this dialog box to configure and modify the transaction log backup settings for a log shipping configuration.</span></span>  
  
 <span data-ttu-id="36486-104">Pour obtenir des explications sur les concepts de copie des journaux de transaction, consultez [À propos de la copie des journaux de transaction &#40;SQL Server&#41;](../../database-engine/log-shipping/about-log-shipping-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="36486-104">For an explanation of log shipping concepts, see [About Log Shipping &#40;SQL Server&#41;](../../database-engine/log-shipping/about-log-shipping-sql-server.md).</span></span>  
  
## <a name="options"></a><span data-ttu-id="36486-105">Options</span><span class="sxs-lookup"><span data-stu-id="36486-105">Options</span></span>  
 <span data-ttu-id="36486-106">**Chemin d'accès réseau au dossier de sauvegarde**</span><span class="sxs-lookup"><span data-stu-id="36486-106">**Network path to the backup folder**</span></span>  
 <span data-ttu-id="36486-107">Tapez dans cette zone le partage réseau de votre dossier de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="36486-107">Type the network share to your backup folder in this box.</span></span> <span data-ttu-id="36486-108">Le dossier local où sont enregistrées vos sauvegardes de journaux de transactions doit être partagé afin que les travaux de copie des journaux de transactions puissent copier ces fichiers sur le serveur secondaire.</span><span class="sxs-lookup"><span data-stu-id="36486-108">The local folder where your transaction log backups are saved must be shared so that the log shipping copy jobs can copy these files to the secondary server.</span></span> <span data-ttu-id="36486-109">Vous devez accorder des autorisations de lecture sur ce partage réseau au compte proxy à partir duquel le travail de copie sera exécuté sur l'instance du serveur secondaire.</span><span class="sxs-lookup"><span data-stu-id="36486-109">You must grant read permissions on this network share to the proxy account under which the copy job will run at the secondary server instance.</span></span> <span data-ttu-id="36486-110">Par défaut, il s'agit du compte du service SQLServerAgent de l'instance du serveur secondaire, mais un administrateur peut choisir un autre compte proxy pour exécuter le travail.</span><span class="sxs-lookup"><span data-stu-id="36486-110">By default, this is the SQLServerAgent service account of the secondary server instance, but an administrator can choose another proxy account for the job.</span></span>  
  
 <span data-ttu-id="36486-111">**Si le dossier de sauvegarde se trouve sur le serveur principal, tapez un chemin d'accès local au dossier**</span><span class="sxs-lookup"><span data-stu-id="36486-111">**If the backup folder is located on the primary server, type the local path to the folder**</span></span>  
 <span data-ttu-id="36486-112">Tapez la lettre du lecteur local et le chemin d'accès du dossier de sauvegarde si le dossier de sauvegarde se trouve sur le serveur principal.</span><span class="sxs-lookup"><span data-stu-id="36486-112">Type the local drive letter and path to the backup folder if the backup folder is located on the primary server.</span></span> <span data-ttu-id="36486-113">Si le dossier de sauvegarde ne se trouve pas sur le serveur principal, vous pouvez laisser ce champ vide.</span><span class="sxs-lookup"><span data-stu-id="36486-113">If the backup folder is not located on the primary server, you can leave this blank.</span></span>  
  
 <span data-ttu-id="36486-114">Si vous spécifiez ici un chemin local, la commande BACKUP utilisera ce chemin pour créer les sauvegardes des journaux de transactions. Par contre, si vous ne spécifiez aucun chemin local, la commande BACKUP utilisera le chemin réseau spécifié dans la zone **Chemin d’accès réseau au dossier de sauvegarde** .</span><span class="sxs-lookup"><span data-stu-id="36486-114">If you specify a local path here, the BACKUP command will use this path to create the transaction log backups; otherwise, if no local path is specified, the BACKUP command will use the network path specified in the **Network path to the backup folder** box.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="36486-115">Si le compte de service [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] s'exécute sous le compte système local sur le serveur principal, vous devez créer le dossier de sauvegarde sur le serveur principal et spécifier ici le chemin d'accès local de ce dossier.</span><span class="sxs-lookup"><span data-stu-id="36486-115">If the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account is running under the local system account on the primary server, you must create the backup folder on the primary server and specify the local path to that folder here.</span></span> <span data-ttu-id="36486-116">Le compte de service [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] de l'instance du serveur principal doit disposer d'autorisations de lecture et d'écriture sur ce dossier.</span><span class="sxs-lookup"><span data-stu-id="36486-116">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account of the primary server instance must have Read and Write permissions on this folder.</span></span>  
  
 <span data-ttu-id="36486-117">**Supprimer les fichiers antérieurs à**</span><span class="sxs-lookup"><span data-stu-id="36486-117">**Delete files older than**</span></span>  
 <span data-ttu-id="36486-118">Spécifiez la durée pendant laquelle vous souhaitez que les sauvegardes des journaux de transactions restent dans votre répertoire de sauvegarde avant d'être supprimées.</span><span class="sxs-lookup"><span data-stu-id="36486-118">Specify the length of time you want transaction log backups to remain in your backup directory before being deleted.</span></span>  
  
 <span data-ttu-id="36486-119">**Envoyer une alerte si aucune sauvegarde ne se produit en l'espace de**</span><span class="sxs-lookup"><span data-stu-id="36486-119">**Alert if no backup occurs within**</span></span>  
 <span data-ttu-id="36486-120">Spécifiez le délai après lequel vous voulez que la copie des journaux de transactions déclenche une alerte pour vous informer qu'aucune sauvegarde de journaux de transactions n'a été effectuée.</span><span class="sxs-lookup"><span data-stu-id="36486-120">Specify the amount of time you want log shipping to wait before raising an alert that no transaction log backups have occurred.</span></span>  
  
 <span data-ttu-id="36486-121">**Nom du travail**</span><span class="sxs-lookup"><span data-stu-id="36486-121">**Job name**</span></span>  
 <span data-ttu-id="36486-122">Affiche le nom du travail de l'Agent SQL Server servant à créer les sauvegardes des journaux de transactions pour la copie des journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="36486-122">Displays the name of the SQL Server Agent job that is used to create the transaction log backups for log shipping.</span></span> <span data-ttu-id="36486-123">Lors de la création du travail, vous pouvez modifier son nom en tapant un nouveau nom dans cette zone.</span><span class="sxs-lookup"><span data-stu-id="36486-123">When first creating the job, you can modify the name by typing in the box.</span></span>  
  
 <span data-ttu-id="36486-124">**Planification**</span><span class="sxs-lookup"><span data-stu-id="36486-124">**Schedule**</span></span>  
 <span data-ttu-id="36486-125">Affiche la planification actuelle pour la sauvegarde des journaux de transactions de la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="36486-125">Displays the current schedule for backing up the transaction logs of the primary database.</span></span> <span data-ttu-id="36486-126">Avant la création du travail de sauvegarde, vous pouvez modifier cette planification en cliquant sur **Planification...** . Une fois que le travail a été créé, vous pouvez modifier cette planification en cliquant sur **Modifier le travail...** .</span><span class="sxs-lookup"><span data-stu-id="36486-126">Before the backup job has been created, You can modify this schedule by clicking **Schedule...**. After the job has been created, you can modify this schedule by clicking **Edit Job...**.</span></span>  
  
### <a name="backup-job"></a><span data-ttu-id="36486-127">Travail de sauvegarde</span><span class="sxs-lookup"><span data-stu-id="36486-127">Backup Job</span></span>  
 <span data-ttu-id="36486-128">**Planification…**</span><span class="sxs-lookup"><span data-stu-id="36486-128">**Schedule...**</span></span>  
 <span data-ttu-id="36486-129">Permet de modifier la planification qui est créée au moment de la création du travail de l'Agent SQL Server.</span><span class="sxs-lookup"><span data-stu-id="36486-129">Modify the schedule that is created when the SQL Server Agent job is created.</span></span>  
  
 <span data-ttu-id="36486-130">**Modifier le travail...**</span><span class="sxs-lookup"><span data-stu-id="36486-130">**Edit Job...**</span></span>  
 <span data-ttu-id="36486-131">Permet de modifier les paramètres du travail de l'Agent SQL Server pour le travail qui effectue les sauvegardes des journaux de transactions de la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="36486-131">Modify the SQL Server Agent job parameters for the job that performs transaction log backups on the primary database.</span></span>  
  
 <span data-ttu-id="36486-132">**Désactiver ce travail**</span><span class="sxs-lookup"><span data-stu-id="36486-132">**Disable this job**</span></span>  
 <span data-ttu-id="36486-133">Désactive le travail de l'Agent SQL Server et la création de sauvegardes de journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="36486-133">Disable the SQL Server Agent job from creating transaction log backups.</span></span>  
  
### <a name="compression"></a><span data-ttu-id="36486-134">Compression</span><span class="sxs-lookup"><span data-stu-id="36486-134">Compression</span></span>  
 [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] <span data-ttu-id="36486-135">(ou une version ultérieure) prend en charge la [compression de sauvegarde](../backup-restore/backup-compression-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="36486-135">(or a later version) supports [backup compression](../backup-restore/backup-compression-sql-server.md).</span></span>  
  
 <span data-ttu-id="36486-136">**Définir la compression de la sauvegarde**</span><span class="sxs-lookup"><span data-stu-id="36486-136">**Set backup compression**</span></span>  
 <span data-ttu-id="36486-137">Dans [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] (ou une version ultérieure), sélectionnez l'une des valeurs de compression de sauvegarde suivantes pour les sauvegardes de journaux de cette configuration de la copie des journaux de transaction :</span><span class="sxs-lookup"><span data-stu-id="36486-137">In [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] (or a later version), select one the following backup compression values for the log backups of this log shipping configuration:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="36486-138">**Utiliser le paramètre du serveur par défaut**</span><span class="sxs-lookup"><span data-stu-id="36486-138">**Use the default server setting**</span></span>|<span data-ttu-id="36486-139">Cliquez sur cette option pour utiliser la valeur par défaut au niveau du serveur.</span><span class="sxs-lookup"><span data-stu-id="36486-139">Click to use the server-level default.</span></span><br /><br /> <span data-ttu-id="36486-140">Cette valeur par défaut est définie par l’option de configuration de serveur **Compression par défaut des sauvegardes** .</span><span class="sxs-lookup"><span data-stu-id="36486-140">This default is set by the **backup compression default** server-configuration option.</span></span> <span data-ttu-id="36486-141">Pour plus d’informations sur l’affichage du paramétrage actuel de cette option, consultez [Afficher ou configurer l’option de configuration du serveur valeur par défaut de compression de la sauvegarde](../../database-engine/configure-windows/view-or-configure-the-backup-compression-default-server-configuration-option.md).</span><span class="sxs-lookup"><span data-stu-id="36486-141">For information about how to view the current setting of this option, see [View or Configure the backup compression default Server Configuration Option](../../database-engine/configure-windows/view-or-configure-the-backup-compression-default-server-configuration-option.md).</span></span>|  
|<span data-ttu-id="36486-142">**Compresser la sauvegarde**</span><span class="sxs-lookup"><span data-stu-id="36486-142">**Compress backup**</span></span>|<span data-ttu-id="36486-143">Cliquez sur cette option pour compresser la sauvegarde, indépendamment de la valeur par défaut au niveau du serveur.</span><span class="sxs-lookup"><span data-stu-id="36486-143">Click to compress the backup, regardless of the server-level default.</span></span><br /><br /> <span data-ttu-id="36486-144">**\*\* Important \*\*** Par défaut, la compression augmente considérablement l’utilisation de l’UC et l’UC supplémentaire consommée par le processus de compression peut avoir un impact néfaste sur les opérations simultanées.</span><span class="sxs-lookup"><span data-stu-id="36486-144">**\*\* Important \*\*** By default, compression significantly increases CPU usage, and the additional CPU consumed by the compression process might adversely impact concurrent operations.</span></span> <span data-ttu-id="36486-145">Par conséquent, il peut être préférable, dans une session où l’utilisation de l’UC est limitée, de créer une sauvegarde compressée de priorité basse à l’aide de [Resource Governor](../resource-governor/resource-governor.md).</span><span class="sxs-lookup"><span data-stu-id="36486-145">Therefore, you might want to create low-priority compressed backups in a session whose CPU usage is limited by the [Resource Governor](../resource-governor/resource-governor.md).</span></span> <span data-ttu-id="36486-146">Pour plus d'informations, consultez [Utiliser Resource Governor pour limiter l’utilisation de l’UC par compression de la sauvegarde &#40;Transact-SQL&#41;](../backup-restore/use-resource-governor-to-limit-cpu-usage-by-backup-compression-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="36486-146">For more information, see [Use Resource Governor to Limit CPU Usage by Backup Compression &#40;Transact-SQL&#41;](../backup-restore/use-resource-governor-to-limit-cpu-usage-by-backup-compression-transact-sql.md).</span></span>|  
|<span data-ttu-id="36486-147">**Ne pas compresser la sauvegarde**</span><span class="sxs-lookup"><span data-stu-id="36486-147">**Do not compress backup**</span></span>|<span data-ttu-id="36486-148">Cliquez sur cette option pour créer une sauvegarde non compressée, indépendamment de la valeur par défaut au niveau du serveur.</span><span class="sxs-lookup"><span data-stu-id="36486-148">Click to create an uncompressed backup, regardless of the server-level default.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="36486-149">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="36486-149">See Also</span></span>  
 <span data-ttu-id="36486-150">[Configurer un utilisateur de manière à créer et à gérer des travaux de l'Agent SQL Server](../../ssms/agent/configure-a-user-to-create-and-manage-sql-server-agent-jobs.md) </span><span class="sxs-lookup"><span data-stu-id="36486-150">[Configure a User to Create and Manage SQL Server Agent Jobs](../../ssms/agent/configure-a-user-to-create-and-manage-sql-server-agent-jobs.md) </span></span>  
 [<span data-ttu-id="36486-151">À propos de la copie des journaux de transaction &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="36486-151">About Log Shipping &#40;SQL Server&#41;</span></span>](../../database-engine/log-shipping/about-log-shipping-sql-server.md)  
  
  
