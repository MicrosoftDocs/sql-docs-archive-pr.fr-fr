---
title: Attacher une base de données | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
f1_keywords:
- sql12.swb.attachdatabase.f1
helpviewer_keywords:
- database attaching [SQL Server]
- attaching databases [SQL Server]
ms.assetid: b4efb0ae-cfe6-4d81-a4b4-6e4916885caa
author: stevestein
ms.author: sstein
ms.openlocfilehash: cb11b5c257007872e92d3f0a7eadb3e46b4969cd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87709592"
---
# <a name="attach-a-database"></a><span data-ttu-id="6ea93-102">Attacher une base de données</span><span class="sxs-lookup"><span data-stu-id="6ea93-102">Attach a Database</span></span>
  <span data-ttu-id="6ea93-103">Cette rubrique explique comment attacher une base de données dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] à l'aide de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ou de [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6ea93-103">This topic describes how to attach a database in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="6ea93-104">Vous pouvez utiliser cette fonctionnalité pour copier, déplacer, ou mettre à niveau une base de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6ea93-104">You can use this feature to copy, move, or upgrade a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span>  
  
 <span data-ttu-id="6ea93-105">**Dans cette rubrique**</span><span class="sxs-lookup"><span data-stu-id="6ea93-105">**In This Topic**</span></span>  
  
-   <span data-ttu-id="6ea93-106">**Avant de commencer :**</span><span class="sxs-lookup"><span data-stu-id="6ea93-106">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="6ea93-107">Composants requis</span><span class="sxs-lookup"><span data-stu-id="6ea93-107">Prerequisites</span></span>](#Prerequisites)  
  
     [<span data-ttu-id="6ea93-108">Recommandations</span><span class="sxs-lookup"><span data-stu-id="6ea93-108">Recommendations</span></span>](#Recommendations)  
  
     [<span data-ttu-id="6ea93-109">Sécurité</span><span class="sxs-lookup"><span data-stu-id="6ea93-109">Security</span></span>](#Security)  
  
-   <span data-ttu-id="6ea93-110">**Pour attacher une base de données, utilisez :**</span><span class="sxs-lookup"><span data-stu-id="6ea93-110">**To Attach a Database by using:**</span></span>  
  
     [<span data-ttu-id="6ea93-111">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="6ea93-111">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="6ea93-112">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="6ea93-112">Transact-SQL</span></span>](#TsqlProcedure)  
  
-   <span data-ttu-id="6ea93-113">**Suivi :**  [Après la mise à niveau d'une base de données](#FollowUp)</span><span class="sxs-lookup"><span data-stu-id="6ea93-113">**Follow Up:**  [After Upgrading a Database](#FollowUp)</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="6ea93-114">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="6ea93-114">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="6ea93-115">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="6ea93-115">Prerequisites</span></span>  
  
-   <span data-ttu-id="6ea93-116">La base de données doit d'abord être détachée.</span><span class="sxs-lookup"><span data-stu-id="6ea93-116">The database must first be detached.</span></span> <span data-ttu-id="6ea93-117">Toute tentative d'attachement d'une base de données qui n'a pas été détachée retourne une erreur.</span><span class="sxs-lookup"><span data-stu-id="6ea93-117">Attempting to attach a database that has not been detached will return an error.</span></span> <span data-ttu-id="6ea93-118">Pour plus d’informations, consultez [Détacher une base de données](detach-a-database.md).</span><span class="sxs-lookup"><span data-stu-id="6ea93-118">For more information, see [Detach a Database](detach-a-database.md).</span></span>  
  
-   <span data-ttu-id="6ea93-119">Lorsque vous attachez une base de données, tous les fichiers de données (fichiers MDF et LDF) doivent être disponibles.</span><span class="sxs-lookup"><span data-stu-id="6ea93-119">When you attach a database, all data files (MDF and LDF files) must be available.</span></span> <span data-ttu-id="6ea93-120">Si un fichier de données possède un chemin différent de celui qui existait lorsque la base de données a été créée pour la première fois ou attachée pour la dernière fois, vous devez spécifier le chemin actuel du fichier.</span><span class="sxs-lookup"><span data-stu-id="6ea93-120">If any data file has a different path from when the database was first created or last attached, you must specify the current path of the file.</span></span>  
  
-   <span data-ttu-id="6ea93-121">Au moment d’attacher une base de données, si les fichiers MDF et LDF se trouvent dans des répertoires différents et qu’un des chemins contient \\\\?\GlobalRoot, l’opération échoue.</span><span class="sxs-lookup"><span data-stu-id="6ea93-121">When you attach a database, if MDF and LDF files are located in different directories and one of the paths includes \\\\?\GlobalRoot, the operation will fail.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="6ea93-122">Recommandations</span><span class="sxs-lookup"><span data-stu-id="6ea93-122">Recommendations</span></span>  
<span data-ttu-id="6ea93-123">Nous vous recommandons de déplacer les bases de données à l’aide de la `ALTER DATABASE` procédure de réadressage planifiée, au lieu d’utiliser le détachement et l’attachement.</span><span class="sxs-lookup"><span data-stu-id="6ea93-123">We recommend that you move databases by using the `ALTER DATABASE` planned relocation procedure, instead of using detach and attach.</span></span> <span data-ttu-id="6ea93-124">Pour plus d’informations, consultez [Déplacer des bases de données utilisateur](move-user-databases.md).</span><span class="sxs-lookup"><span data-stu-id="6ea93-124">For more information, see [Move User Databases](move-user-databases.md).</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="6ea93-125">Sécurité</span><span class="sxs-lookup"><span data-stu-id="6ea93-125">Security</span></span>  
<span data-ttu-id="6ea93-126">Les autorisations d'accès au fichier sont définies au cours de plusieurs opérations de base de données, notamment le détachement ou l'attachement d'une base de données.</span><span class="sxs-lookup"><span data-stu-id="6ea93-126">File access permissions are set during a number of database operations, including detaching or attaching a database.</span></span> <span data-ttu-id="6ea93-127">Pour plus d'informations sur les autorisations de fichier définies lors du détachement et de l'attachement d'une base de données, consultez [Sécurisation des fichiers de données et des fichiers journaux](https://technet.microsoft.com/library/ms189128.aspx) dans la documentation en ligne de [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6ea93-127">For information about file permissions that are set whenever a database is detached and attached, see [Securing Data and Log Files](https://technet.microsoft.com/library/ms189128.aspx) in [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] Books Online.</span></span>  
  
<span data-ttu-id="6ea93-128">Nous vous recommandons de ne pas attacher ni restaurer de bases de données provenant de sources inconnues ou non approuvées.</span><span class="sxs-lookup"><span data-stu-id="6ea93-128">We recommend that you do not attach or restore databases from unknown or untrusted sources.</span></span> <span data-ttu-id="6ea93-129">Ces bases de données peuvent contenir du code malveillant susceptible d'exécuter du code [!INCLUDE[tsql](../../includes/tsql-md.md)] indésirable ou de provoquer des erreurs en modifiant le schéma ou la structure physique des bases de données.</span><span class="sxs-lookup"><span data-stu-id="6ea93-129">Such databases could contain malicious code that might execute unintended [!INCLUDE[tsql](../../includes/tsql-md.md)] code or cause errors by modifying the schema or the physical database structure.</span></span> <span data-ttu-id="6ea93-130">Avant d’utiliser une base de données issue d’une source inconnue ou non approuvée, exécutez [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) sur la base de données sur un serveur autre qu’un serveur de production et examinez également le code, notamment les procédures stockées ou le code défini par l’utilisateur, de la base de données.</span><span class="sxs-lookup"><span data-stu-id="6ea93-130">Before you use a database from an unknown or untrusted source, run [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) on the database on a nonproduction server and also examine the code, such as stored procedures or other user-defined code, in the database.</span></span> <span data-ttu-id="6ea93-131">Pour plus d’informations sur l’attachement de bases de données et sur les modifications apportées aux métadonnées à cette occasion, consultez [Attacher et détacher une base de données &#40;SQL Server&#41](database-detach-and-attach-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ea93-131">For more information about attaching databases and information about changes that are made to metadata when you attach a database, see [Database Detach and Attach &#40;SQL Server&#41;](database-detach-and-attach-sql-server.md).</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="6ea93-132">Autorisations</span><span class="sxs-lookup"><span data-stu-id="6ea93-132">Permissions</span></span>  
<span data-ttu-id="6ea93-133">Requiert l’autorisation `CREATE DATABASE`, `CREATE ANY DATABASE` ou `ALTER ANY DATABASE`.</span><span class="sxs-lookup"><span data-stu-id="6ea93-133">Requires `CREATE DATABASE`, `CREATE ANY DATABASE`, or `ALTER ANY DATABASE` permission.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="6ea93-134">Utilisation de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="6ea93-134">Using SQL Server Management Studio</span></span>  
  
### <a name="to-attach-a-database"></a><span data-ttu-id="6ea93-135">Pour attacher une base de données</span><span class="sxs-lookup"><span data-stu-id="6ea93-135">To Attach a Database</span></span>  
  
1.  <span data-ttu-id="6ea93-136">Dans l'Explorateur d'objets [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , connectez-vous à une instance du [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], puis développez-la.</span><span class="sxs-lookup"><span data-stu-id="6ea93-136">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] Object Explorer, connect to an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], and then expand that instance.</span></span>  
  
2.  <span data-ttu-id="6ea93-137">Cliquez avec le bouton droit sur **Bases de données** , puis cliquez sur **Attacher**.</span><span class="sxs-lookup"><span data-stu-id="6ea93-137">Right-click **Databases** and click **Attach**.</span></span>  
  
3.  <span data-ttu-id="6ea93-138">Dans la boîte de dialogue **Attacher des bases de données** , pour spécifier la base de données à attacher, cliquez sur **Ajouter**, dans la boîte de dialogue **Rechercher les fichiers de base de données** , sélectionnez l'unité de disque contenant la base de données et développez l'arborescence pour rechercher et sélectionner le fichier .mdf de la base de données. Par exemple :</span><span class="sxs-lookup"><span data-stu-id="6ea93-138">In the **Attach Databases** dialog box, to specify the database to be attached, click **Add**; and in the **Locate Database Files** dialog box, select the disk drive where the database resides and expand the directory tree to find and select the .mdf file of the database; for example:</span></span>  
  
     `C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\AdventureWorks2012_Data.mdf`  
  
    > [!IMPORTANT]  
    > <span data-ttu-id="6ea93-139">Une tentative de sélection d'une base de données déjà attachée génère une erreur.</span><span class="sxs-lookup"><span data-stu-id="6ea93-139">Trying to select a database that is already attached generates an error.</span></span>  
  
     <span data-ttu-id="6ea93-140">**Bases de données à attacher**</span><span class="sxs-lookup"><span data-stu-id="6ea93-140">**Databases to attach**</span></span>  
     <span data-ttu-id="6ea93-141">Affiche des informations sur les bases de données sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="6ea93-141">Displays information about the selected databases.</span></span>  
  
     \<no column header>  
     <span data-ttu-id="6ea93-142">Affiche une icône indiquant l'état de l'opération d'attachement.</span><span class="sxs-lookup"><span data-stu-id="6ea93-142">Displays an icon indicating the status of the attach operation.</span></span> <span data-ttu-id="6ea93-143">Les icônes possibles sont décrites dans la section **État** ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="6ea93-143">The possible icons are described in the **Status** description, below).</span></span>  
  
     <span data-ttu-id="6ea93-144">**Emplacement du fichier MDF**</span><span class="sxs-lookup"><span data-stu-id="6ea93-144">**MDF File Location**</span></span>  
     <span data-ttu-id="6ea93-145">Affiche le chemin d'accès et le nom du fichier MDF sélectionné.</span><span class="sxs-lookup"><span data-stu-id="6ea93-145">Displays the path and file name of the selected MDF file.</span></span>  
  
     <span data-ttu-id="6ea93-146">**Database Name**</span><span class="sxs-lookup"><span data-stu-id="6ea93-146">**Database Name**</span></span>  
     <span data-ttu-id="6ea93-147">Affiche le nom de la base de données.</span><span class="sxs-lookup"><span data-stu-id="6ea93-147">Displays the name of the database.</span></span>  
  
     <span data-ttu-id="6ea93-148">**Attacher en tant que**</span><span class="sxs-lookup"><span data-stu-id="6ea93-148">**Attach As**</span></span>  
     <span data-ttu-id="6ea93-149">Permet de spécifier éventuellement un autre nom sous lequel la base de données doit être attachée.</span><span class="sxs-lookup"><span data-stu-id="6ea93-149">Optionally, specifies a different name for the database to attach as.</span></span>  
  
     <span data-ttu-id="6ea93-150">**Propriétaire**</span><span class="sxs-lookup"><span data-stu-id="6ea93-150">**Owner**</span></span>  
     <span data-ttu-id="6ea93-151">Fournit une liste déroulante des propriétaires de bases de données possibles dans laquelle vous pouvez sélectionner un autre propriétaire.</span><span class="sxs-lookup"><span data-stu-id="6ea93-151">Provides a drop-down list of possible database owners from which you can optionally select a different owner.</span></span>  
  
     <span data-ttu-id="6ea93-152">**État**</span><span class="sxs-lookup"><span data-stu-id="6ea93-152">**Status**</span></span>  
     <span data-ttu-id="6ea93-153">Affiche l'état de la base de données conformément au tableau ci-après.</span><span class="sxs-lookup"><span data-stu-id="6ea93-153">Displays the status of the database according to the following table.</span></span>  
  
    |<span data-ttu-id="6ea93-154">Icône</span><span class="sxs-lookup"><span data-stu-id="6ea93-154">Icon</span></span>|<span data-ttu-id="6ea93-155">Texte d'état</span><span class="sxs-lookup"><span data-stu-id="6ea93-155">Status text</span></span>|<span data-ttu-id="6ea93-156">Description</span><span class="sxs-lookup"><span data-stu-id="6ea93-156">Description</span></span>|  
    |----------|-----------------|-----------------|  
    |<span data-ttu-id="6ea93-157">(Aucune icône)</span><span class="sxs-lookup"><span data-stu-id="6ea93-157">(No icon)</span></span>|<span data-ttu-id="6ea93-158">(Aucun texte)</span><span class="sxs-lookup"><span data-stu-id="6ea93-158">(No text)</span></span>|<span data-ttu-id="6ea93-159">L'opération d'attachement n'a pas démarré ou est peut-être en attente pour cet objet.</span><span class="sxs-lookup"><span data-stu-id="6ea93-159">Attach operation has not been started or may be pending for this object.</span></span> <span data-ttu-id="6ea93-160">Il s'agit de la valeur par défaut lorsque la boîte de dialogue est ouverte.</span><span class="sxs-lookup"><span data-stu-id="6ea93-160">This is the default when the dialog is opened.</span></span>|  
    |<span data-ttu-id="6ea93-161">Triangle vert dirigé vers la droite</span><span class="sxs-lookup"><span data-stu-id="6ea93-161">Green, right-pointing triangle</span></span>|<span data-ttu-id="6ea93-162">En cours</span><span class="sxs-lookup"><span data-stu-id="6ea93-162">In progress</span></span>|<span data-ttu-id="6ea93-163">L'opération d'attachement a démarré, mais n'est pas terminée.</span><span class="sxs-lookup"><span data-stu-id="6ea93-163">Attach operation has been started but it is not complete.</span></span>|  
    |<span data-ttu-id="6ea93-164">Coche verte</span><span class="sxs-lookup"><span data-stu-id="6ea93-164">Green check mark</span></span>|<span data-ttu-id="6ea93-165">Succès</span><span class="sxs-lookup"><span data-stu-id="6ea93-165">Success</span></span>|<span data-ttu-id="6ea93-166">L'attachement de l'objet a réussi.</span><span class="sxs-lookup"><span data-stu-id="6ea93-166">The object has been attached successfully.</span></span>|  
    |<span data-ttu-id="6ea93-167">Cercle rouge contenant une croix blanche</span><span class="sxs-lookup"><span data-stu-id="6ea93-167">Red circle containing a white cross</span></span>|<span data-ttu-id="6ea93-168">Error</span><span class="sxs-lookup"><span data-stu-id="6ea93-168">Error</span></span>|<span data-ttu-id="6ea93-169">L'opération d'attachement a rencontré une erreur et ne s'est pas terminée correctement.</span><span class="sxs-lookup"><span data-stu-id="6ea93-169">Attach operation encountered an error and did not complete successfully.</span></span>|  
    |<span data-ttu-id="6ea93-170">Cercle contenant deux quartiers noirs (à gauche et à droite) et deux quartiers blancs (en haut et en bas)</span><span class="sxs-lookup"><span data-stu-id="6ea93-170">Circle containing two black quadrants (on left and right) and two white quadrants (on top and bottom)</span></span>|<span data-ttu-id="6ea93-171">Arrêté</span><span class="sxs-lookup"><span data-stu-id="6ea93-171">Stopped</span></span>|<span data-ttu-id="6ea93-172">L'opération d'attachement n'a pas réussi, car l'utilisateur l'a interrompue.</span><span class="sxs-lookup"><span data-stu-id="6ea93-172">Attach operation was not completed successfully because the user stopped the operation.</span></span>|  
    |<span data-ttu-id="6ea93-173">Cercle contenant une flèche courbe pointant dans le sens inverse des aiguilles d'une montre</span><span class="sxs-lookup"><span data-stu-id="6ea93-173">Circle containing a curved arrow pointing counter-clockwise</span></span>|<span data-ttu-id="6ea93-174">Restauré</span><span class="sxs-lookup"><span data-stu-id="6ea93-174">Rolled Back</span></span>|<span data-ttu-id="6ea93-175">L'opération d'attachement a réussi, mais a été restaurée en raison d'une erreur lors de l'attachement d'un autre objet.</span><span class="sxs-lookup"><span data-stu-id="6ea93-175">Attach operation was successful but it has been rolled back due to an error during attachment of another object.</span></span>|  
  
     <span data-ttu-id="6ea93-176">**Message**</span><span class="sxs-lookup"><span data-stu-id="6ea93-176">**Message**</span></span>  
     <span data-ttu-id="6ea93-177">Affiche un message vierge ou un lien hypertexte « Fichier introuvable ».</span><span class="sxs-lookup"><span data-stu-id="6ea93-177">Displays either a blank message or a "File not found" hyperlink.</span></span>  
  
     <span data-ttu-id="6ea93-178">**Ajouter**</span><span class="sxs-lookup"><span data-stu-id="6ea93-178">**Add**</span></span>  
     <span data-ttu-id="6ea93-179">Permet de rechercher les principaux fichiers de base de données nécessaires.</span><span class="sxs-lookup"><span data-stu-id="6ea93-179">Find the necessary main database files.</span></span> <span data-ttu-id="6ea93-180">Lorsque l'utilisateur sélectionne un fichier .mdf, les informations applicables sont automatiquement remplies dans les champs respectifs de la grille **Bases de données à attacher** .</span><span class="sxs-lookup"><span data-stu-id="6ea93-180">When the user selects an .mdf file, applicable information is automatically filled in the respective fields of the **Databases to attach** grid.</span></span>  
  
     <span data-ttu-id="6ea93-181">**Remove**</span><span class="sxs-lookup"><span data-stu-id="6ea93-181">**Remove**</span></span>  
     <span data-ttu-id="6ea93-182">Supprime le fichier sélectionné de la grille **Bases de données à attacher** .</span><span class="sxs-lookup"><span data-stu-id="6ea93-182">Removes the selected file from the **Databases to attach** grid.</span></span>  
  
     <span data-ttu-id="6ea93-183">**Détails de la base de données "** *<nom_base_de_données>* **"**</span><span class="sxs-lookup"><span data-stu-id="6ea93-183">**"** *<database_name>* **" database details**</span></span>  
     <span data-ttu-id="6ea93-184">Affiche le nom des fichiers à attacher.</span><span class="sxs-lookup"><span data-stu-id="6ea93-184">Displays the names of the files to be attached.</span></span> <span data-ttu-id="6ea93-185">Pour vérifier ou changer le nom du chemin d’accès d’un fichier, cliquez sur le bouton **Parcourir** ( **...** ).</span><span class="sxs-lookup"><span data-stu-id="6ea93-185">To verify or change the pathname of a file, click the **Browse** button (**...**).</span></span>  
  
    > [!NOTE]  
    > <span data-ttu-id="6ea93-186">Si un fichier n'existe pas, la colonne **Message** affiche « Introuvable ».</span><span class="sxs-lookup"><span data-stu-id="6ea93-186">If a file does not exist, the **Message** column displays "Not found."</span></span> <span data-ttu-id="6ea93-187">Si un fichier journal est introuvable, cela signifie qu'il se trouve dans un autre répertoire ou qu'il a été supprimé.</span><span class="sxs-lookup"><span data-stu-id="6ea93-187">If a log file is not found, it exists in another directory or has been deleted.</span></span> <span data-ttu-id="6ea93-188">Vous devez mettre à jour le chemin d'accès du fichier dans la grille **Détails de la base de données** pour désigner l'emplacement correct ou supprimer le fichier journal de la grille.</span><span class="sxs-lookup"><span data-stu-id="6ea93-188">You need to either update the file path in the **database details** grid to point to the correct location or remove the log file from the grid.</span></span> <span data-ttu-id="6ea93-189">Si un fichier de données .ndf est introuvable, vous devez mettre à jour son chemin d'accès dans la grille pour désigner l'emplacement correct.</span><span class="sxs-lookup"><span data-stu-id="6ea93-189">If an .ndf data file is not found, you need to update its path in the grid to point to the correct location.</span></span>  
  
     <span data-ttu-id="6ea93-190">**Nom du fichier d'origine**</span><span class="sxs-lookup"><span data-stu-id="6ea93-190">**Original File Name**</span></span>  
     <span data-ttu-id="6ea93-191">Affiche le nom du fichier attaché appartenant à la base de données.</span><span class="sxs-lookup"><span data-stu-id="6ea93-191">Displays the name of the attached file belonging to the database.</span></span>  
  
     <span data-ttu-id="6ea93-192">**Type de fichier**</span><span class="sxs-lookup"><span data-stu-id="6ea93-192">**File Type**</span></span>  
     <span data-ttu-id="6ea93-193">Indique le type du fichier, **Données** ou **Journal**.</span><span class="sxs-lookup"><span data-stu-id="6ea93-193">Indicates the type of file, **Data** or **Log**.</span></span>  
  
     <span data-ttu-id="6ea93-194">**Chemin d'accès au fichier actuel**</span><span class="sxs-lookup"><span data-stu-id="6ea93-194">**Current File Path**</span></span>  
     <span data-ttu-id="6ea93-195">Affiche le chemin d'accès au fichier de base de données sélectionné.</span><span class="sxs-lookup"><span data-stu-id="6ea93-195">Displays the path to the selected database file.</span></span> <span data-ttu-id="6ea93-196">Le chemin d'accès peut être modifié manuellement.</span><span class="sxs-lookup"><span data-stu-id="6ea93-196">The path can be edited manually.</span></span>  
  
     <span data-ttu-id="6ea93-197">**Message**</span><span class="sxs-lookup"><span data-stu-id="6ea93-197">**Message**</span></span>  
     <span data-ttu-id="6ea93-198">Affiche un message vierge ou un lien hypertexte «**Fichier introuvable**».</span><span class="sxs-lookup"><span data-stu-id="6ea93-198">Displays either a blank message or a "**File not found**" hyperlink.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="6ea93-199">Utilisation de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="6ea93-199">Using Transact-SQL</span></span>  
  
### <a name="to-attach-a-database"></a><span data-ttu-id="6ea93-200">Pour attacher une base de données</span><span class="sxs-lookup"><span data-stu-id="6ea93-200">To attach a database</span></span>  
  
1.  <span data-ttu-id="6ea93-201">Connectez-vous au [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6ea93-201">Connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
2.  <span data-ttu-id="6ea93-202">Dans la barre d'outils standard, cliquez sur **Nouvelle requête**.</span><span class="sxs-lookup"><span data-stu-id="6ea93-202">From the Standard bar, click **New Query**.</span></span>  
  
3.  <span data-ttu-id="6ea93-203">Utilisez l’instruction [Create Database](/sql/t-sql/statements/create-database-sql-server-transact-sql) avec `FOR ATTACH` Close.</span><span class="sxs-lookup"><span data-stu-id="6ea93-203">Use the [CREATE DATABASE](/sql/t-sql/statements/create-database-sql-server-transact-sql) statement with the `FOR ATTACH` close.</span></span>  
  
     <span data-ttu-id="6ea93-204">Copiez et collez l'exemple suivant dans la fenêtre de requête, puis cliquez sur **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="6ea93-204">Copy and paste the following example into the query window and click **Execute**.</span></span> <span data-ttu-id="6ea93-205">Cet exemple attache les fichiers de la base de données [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)] et renomme la base de données `MyAdventureWorks`.</span><span class="sxs-lookup"><span data-stu-id="6ea93-205">This example attaches the files of the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)] database and renames the database to `MyAdventureWorks`.</span></span>  
  
    ```sql  
    CREATE DATABASE MyAdventureWorks   
        ON (FILENAME = 'C:\MySQLServer\AdventureWorks_Data.mdf'),   
        (FILENAME = 'C:\MySQLServer\AdventureWorks_Log.ldf')   
        FOR ATTACH;  
    ```  
  
    > [!NOTE]  
    > <span data-ttu-id="6ea93-206">Vous pouvez aussi utiliser la procédure stockée [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql) ou [sp_attach_single_file_db](/sql/relational-databases/system-stored-procedures/sp-attach-single-file-db-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="6ea93-206">Alternatively, you can use the [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql) or [sp_attach_single_file_db](/sql/relational-databases/system-stored-procedures/sp-attach-single-file-db-transact-sql) stored procedure.</span></span> <span data-ttu-id="6ea93-207">Toutefois, ces procédures seront supprimées dans une future version de Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6ea93-207">However, these procedures will be removed in a future version of Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="6ea93-208">Évitez d'utiliser cette fonctionnalité dans de nouveaux travaux de développement, et prévoyez de modifier les applications qui utilisent actuellement cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="6ea93-208">Avoid using this feature in new development work, and plan to modify applications that currently use this feature.</span></span> <span data-ttu-id="6ea93-209">Nous vous recommandons d’utiliser CREATe DATABASE... POUR ATTACH à la place.</span><span class="sxs-lookup"><span data-stu-id="6ea93-209">We recommend that you use CREATE DATABASE ... FOR ATTACH instead.</span></span>  
  
##  <a name="follow-up-after-upgrading-a-sql-server-database"></a><a name="FollowUp"></a> <span data-ttu-id="6ea93-210">Suivi : Après la mise à niveau d'une base de données SQL Server</span><span class="sxs-lookup"><span data-stu-id="6ea93-210">Follow Up: After Upgrading a SQL Server Database</span></span>  
 <span data-ttu-id="6ea93-211">rès vous mettez à niveau une base de données à l’aide de la méthode Attach, la base de données est immédiatement disponible et est automatiquement mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="6ea93-211">fter you upgrade a database by using the attach method, the database becomes available immediately and is automatically upgraded.</span></span> <span data-ttu-id="6ea93-212">Si la base de données comprend des index de recherche en texte intégral, la mise à niveau les importe, les réinitialise ou les reconstruit, selon le paramètre de la propriété de serveur **Option de mise à niveau des index de recherche en texte intégral** .</span><span class="sxs-lookup"><span data-stu-id="6ea93-212">If the database has full-text indexes, the upgrade process either imports, resets, or rebuilds them, depending on the setting of the **Full-Text Upgrade Option** server property.</span></span> <span data-ttu-id="6ea93-213">Si l’option de mise à niveau a la valeur **Importer** ou **Reconstruire**, les index de recherche en texte intégral ne sont pas disponibles pendant la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="6ea93-213">If the upgrade option is set to **Import** or **Rebuild**, the full-text indexes will be unavailable during the upgrade.</span></span> <span data-ttu-id="6ea93-214">Selon le volume de données indexé, l'importation peut prendre plusieurs heures et la reconstruction jusqu'à dix fois plus longtemps.</span><span class="sxs-lookup"><span data-stu-id="6ea93-214">Depending the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="6ea93-215">Notez également que quand l’option de mise à niveau est **Importer**, si un catalogue de texte intégral n’est pas disponible, les index de recherche en texte intégral associés sont reconstruits.</span><span class="sxs-lookup"><span data-stu-id="6ea93-215">Note also that when the upgrade option is set to **Import**, if a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span>  
  
<span data-ttu-id="6ea93-216">Si le niveau de compatibilité d'une base de données utilisateur est à 100 ou supérieur avant la mise à niveau, il reste le même après la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="6ea93-216">If the compatibility level of a user database is 100 or higher before upgrade, it remains the same after upgrade.</span></span> <span data-ttu-id="6ea93-217">Si le niveau de compatibilité était à 90 avant la mise à niveau, dans la base de données mise à niveau, le niveau de compatibilité est défini à 100, ce qui correspond au niveau de compatibilité le plus bas pris en charge dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6ea93-217">If the compatibility level is 90 before upgrade, in the upgraded database, the compatibility level is set to 100, which is the lowest supported compatibility level in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="6ea93-218">Pour plus d’informations, consultez [Niveau de compatibilité ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level).</span><span class="sxs-lookup"><span data-stu-id="6ea93-218">For more information, see [ALTER DATABASE Compatibility Level &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6ea93-219">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6ea93-219">See Also</span></span>  
 <span data-ttu-id="6ea93-220">[CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="6ea93-220">[CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql) </span></span>  
 [<span data-ttu-id="6ea93-221">Détacher une base de données</span><span class="sxs-lookup"><span data-stu-id="6ea93-221">Detach a Database</span></span>](detach-a-database.md)  
  
  
