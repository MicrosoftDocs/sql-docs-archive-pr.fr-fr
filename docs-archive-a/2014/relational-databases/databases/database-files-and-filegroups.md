---
title: Groupes de fichiers et fichiers de base de données | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- databases [SQL Server], files
- filegroups [SQL Server]
- transaction logs [SQL Server], about
- transaction logs [SQL Server], files
- .mdf files
- data files [SQL Server]
- default filegroups
- files [SQL Server], about files and filegroups
- secondary files [SQL Server]
- log files [SQL Server]
- .ndf files
- files [SQL Server]
- .ldf files
- database files [SQL Server]
- databases [SQL Server], filegroups
- filegroups [SQL Server], types
- primary filegroups [SQL Server]
- user-defined filegroups [SQL Server]
- filegroups [SQL Server], about filegroups
- primary files [SQL Server]
- file types [SQL Server]
ms.assetid: 9ca11918-480d-4838-9198-cec221ef6ad0
author: stevestein
ms.author: sstein
ms.openlocfilehash: 91e22e536a91878609feedf2977ffa7d78a54d61
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87604565"
---
# <a name="database-files-and-filegroups"></a><span data-ttu-id="653bb-102">Groupes de fichiers et fichiers de base de données</span><span class="sxs-lookup"><span data-stu-id="653bb-102">Database Files and Filegroups</span></span>
  <span data-ttu-id="653bb-103">Chaque base de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] possède au moins deux fichiers de système d'exploitation : un fichier de données et un fichier journal.</span><span class="sxs-lookup"><span data-stu-id="653bb-103">At a minimum, every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database has two operating system files: a data file and a log file.</span></span> <span data-ttu-id="653bb-104">Les fichiers de données contiennent des données et des objets tels que des tables, des index, des procédures stockées et des vues.</span><span class="sxs-lookup"><span data-stu-id="653bb-104">Data files contain data and objects such as tables, indexes, stored procedures, and views.</span></span> <span data-ttu-id="653bb-105">Les fichiers journaux contiennent les informations nécessaires pour récupérer toutes les transactions de la base de données.</span><span class="sxs-lookup"><span data-stu-id="653bb-105">Log files contain the information that is required to recover all transactions in the database.</span></span> <span data-ttu-id="653bb-106">Les fichiers de données peuvent être regroupés dans des groupes de fichiers à des fins d'allocation et d'administration.</span><span class="sxs-lookup"><span data-stu-id="653bb-106">Data files can be grouped together in filegroups for allocation and administration purposes.</span></span>  
  
## <a name="database-files"></a><span data-ttu-id="653bb-107">Fichiers de base de données</span><span class="sxs-lookup"><span data-stu-id="653bb-107">Database Files</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="653bb-108">Les bases de données possèdent trois types de fichiers, comme indiqué dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="653bb-108">databases have three types of files, as shown in the following table.</span></span>  
  
|<span data-ttu-id="653bb-109">Fichier</span><span class="sxs-lookup"><span data-stu-id="653bb-109">File</span></span>|<span data-ttu-id="653bb-110">Description</span><span class="sxs-lookup"><span data-stu-id="653bb-110">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="653bb-111">Principal</span><span class="sxs-lookup"><span data-stu-id="653bb-111">Primary</span></span>|<span data-ttu-id="653bb-112">Le fichier de données primaire contient les informations de démarrage de la base de données, et il pointe vers les autres fichiers de la base de données.</span><span class="sxs-lookup"><span data-stu-id="653bb-112">The primary data file contains the startup information for the database and points to the other files in the database.</span></span> <span data-ttu-id="653bb-113">Les objets et les données utilisateur peuvent être stockés dans ce fichier ou dans des fichiers de données secondaires.</span><span class="sxs-lookup"><span data-stu-id="653bb-113">User data and objects can be stored in this file or in secondary data files.</span></span> <span data-ttu-id="653bb-114">Chaque base de données comprend un fichier de données primaire.</span><span class="sxs-lookup"><span data-stu-id="653bb-114">Every database has one primary data file.</span></span> <span data-ttu-id="653bb-115">L'extension de fichier recommandée est .mdf.</span><span class="sxs-lookup"><span data-stu-id="653bb-115">The recommended file name extension for primary data files is .mdf.</span></span>|  
|<span data-ttu-id="653bb-116">Secondary</span><span class="sxs-lookup"><span data-stu-id="653bb-116">Secondary</span></span>|<span data-ttu-id="653bb-117">Les fichiers de données secondaires sont facultatifs, définis par l'utilisateur, et ils stockent les données utilisateur.</span><span class="sxs-lookup"><span data-stu-id="653bb-117">Secondary data files are optional, are user-defined, and store user data.</span></span> <span data-ttu-id="653bb-118">Les fichiers secondaires peuvent être utilisés pour répartir des données sur plusieurs disques en plaçant chaque fichier sur un lecteur de disque distinct.</span><span class="sxs-lookup"><span data-stu-id="653bb-118">Secondary files can be used to spread data across multiple disks by putting each file on a different disk drive.</span></span> <span data-ttu-id="653bb-119">En outre, si la taille d'une base de données excède la taille maximale autorisée pour un fichier Windows, vous pouvez avoir recours aux fichiers secondaires afin que la base de données puisse continuer à croître.</span><span class="sxs-lookup"><span data-stu-id="653bb-119">Additionally, if a database exceeds the maximum size for a single Windows file, you can use secondary data files so the database can continue to grow.</span></span><br /><br /> <span data-ttu-id="653bb-120">L'extension de fichier recommandée est .ndf.</span><span class="sxs-lookup"><span data-stu-id="653bb-120">The recommended file name extension for secondary data files is .ndf.</span></span>|  
|<span data-ttu-id="653bb-121">Journal des transactions</span><span class="sxs-lookup"><span data-stu-id="653bb-121">Transaction Log</span></span>|<span data-ttu-id="653bb-122">Les fichiers journaux des transactions contiennent les informations du journal qui sont utilisées pour la restauration de la base de données.</span><span class="sxs-lookup"><span data-stu-id="653bb-122">The transaction log files hold the log information that is used to recover the database.</span></span> <span data-ttu-id="653bb-123">Chaque base de données doit posséder au moins un fichier journal.</span><span class="sxs-lookup"><span data-stu-id="653bb-123">There must be at least one log file for each database.</span></span> <span data-ttu-id="653bb-124">L'extension de fichier recommandée pour les journaux des transactions est .ldf.</span><span class="sxs-lookup"><span data-stu-id="653bb-124">The recommended file name extension for transaction logs is .ldf.</span></span>|  
  
 <span data-ttu-id="653bb-125">Par exemple, il est possible de créer une base de données simple (appelée **Sales** ) incluant un fichier primaire qui contient toutes les données et tous les objets, et un fichier journal qui contient les informations du journal des transactions.</span><span class="sxs-lookup"><span data-stu-id="653bb-125">For example, a simple database named **Sales** can be created that includes one primary file that contains all data and objects and a log file that contains the transaction log information.</span></span> <span data-ttu-id="653bb-126">Ou encore, il est possible de créer une base de données plus complexe (appelée **Orders** ) incluant un fichier primaire et cinq fichiers secondaires.</span><span class="sxs-lookup"><span data-stu-id="653bb-126">Alternatively, a more complex database named **Orders** can be created that includes one primary file and five secondary files.</span></span> <span data-ttu-id="653bb-127">Les données et les objets de la base de données sont répartis dans les six fichiers, et les quatre fichiers journaux contiennent les informations du journal des transactions.</span><span class="sxs-lookup"><span data-stu-id="653bb-127">The data and objects within the database spread across all six files, and the four log files contain the transaction log information.</span></span>  
  
 <span data-ttu-id="653bb-128">Par défaut, les données et les journaux des transactions sont placés sur le même lecteur et leur chemin est identique,</span><span class="sxs-lookup"><span data-stu-id="653bb-128">By default, the data and transaction logs are put on the same drive and path.</span></span> <span data-ttu-id="653bb-129">ceci afin de gérer les systèmes comportant un seul disque.</span><span class="sxs-lookup"><span data-stu-id="653bb-129">This is done to handle single-disk systems.</span></span> <span data-ttu-id="653bb-130">Cependant, cette configuration n'est pas forcément optimale pour les environnements de production.</span><span class="sxs-lookup"><span data-stu-id="653bb-130">However, this may not be optimal for production environments.</span></span> <span data-ttu-id="653bb-131">Nous vous recommandons de placer les fichiers de données et les fichiers journaux sur des disques distincts.</span><span class="sxs-lookup"><span data-stu-id="653bb-131">We recommend that you put data and log files on separate disks.</span></span>  
  
## <a name="filegroups"></a><span data-ttu-id="653bb-132">Groupes de fichiers</span><span class="sxs-lookup"><span data-stu-id="653bb-132">Filegroups</span></span>  
 <span data-ttu-id="653bb-133">Chaque base de données possède un groupe de fichiers primaire.</span><span class="sxs-lookup"><span data-stu-id="653bb-133">Every database has a primary filegroup.</span></span> <span data-ttu-id="653bb-134">Celui-ci contient le fichier de données primaire et tous les fichiers secondaires qui n'ont pas été placés dans d'autres groupes de fichiers.</span><span class="sxs-lookup"><span data-stu-id="653bb-134">This filegroup contains the primary data file and any secondary files that are not put into other filegroups.</span></span> <span data-ttu-id="653bb-135">Il est possible de créer des groupes de fichiers définis par l'utilisateur pour regrouper des fichiers de données à des fins d'administration, d'allocation des données et de placement.</span><span class="sxs-lookup"><span data-stu-id="653bb-135">User-defined filegroups can be created to group data files together for administrative, data allocation, and placement purposes.</span></span>  
  
 <span data-ttu-id="653bb-136">Par exemple, trois fichiers (Data1.ndf, Data2.ndf, et Data3.ndf) peuvent être créés sur trois lecteurs, respectivement, puis affectés au groupe de fichiers **fgroup1**.</span><span class="sxs-lookup"><span data-stu-id="653bb-136">For example, three files, Data1.ndf, Data2.ndf, and Data3.ndf, can be created on three disk drives, respectively, and assigned to the filegroup **fgroup1**.</span></span> <span data-ttu-id="653bb-137">Une table peut alors être créée spécialement pour le groupe de fichiers **fgroup1**.</span><span class="sxs-lookup"><span data-stu-id="653bb-137">A table can then be created specifically on the filegroup **fgroup1**.</span></span> <span data-ttu-id="653bb-138">Les requêtes portant sur des données de la table seront réparties sur les trois disques, ce qui permettra d'améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="653bb-138">Queries for data from the table will be spread across the three disks; this will improve performance.</span></span> <span data-ttu-id="653bb-139">Une amélioration similaire des performances pourra être obtenue en créant un fichier unique sur un jeu de bandes RAID (Redundant Array of Independent Disks).</span><span class="sxs-lookup"><span data-stu-id="653bb-139">The same performance improvement can be accomplished by using a single file created on a RAID (redundant array of independent disks) stripe set.</span></span> <span data-ttu-id="653bb-140">Cependant, les fichiers et les groupes de fichiers vous permettent d'ajouter facilement des fichiers sur de nouveaux disques.</span><span class="sxs-lookup"><span data-stu-id="653bb-140">However, files and filegroups let you easily add new files to new disks.</span></span>  
  
 <span data-ttu-id="653bb-141">Tous les fichiers de données sont stockés dans les groupes de fichiers répertoriés dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="653bb-141">All data files are stored in the filegroups listed in the following table.</span></span>  
  
|<span data-ttu-id="653bb-142">Groupe de fichiers</span><span class="sxs-lookup"><span data-stu-id="653bb-142">Filegroup</span></span>|<span data-ttu-id="653bb-143">Description</span><span class="sxs-lookup"><span data-stu-id="653bb-143">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="653bb-144">Principal</span><span class="sxs-lookup"><span data-stu-id="653bb-144">Primary</span></span>|<span data-ttu-id="653bb-145">Groupe de fichiers qui contient le fichier primaire.</span><span class="sxs-lookup"><span data-stu-id="653bb-145">The filegroup that contains the primary file.</span></span> <span data-ttu-id="653bb-146">Toutes les tables système sont allouées au groupe de fichiers primaire.</span><span class="sxs-lookup"><span data-stu-id="653bb-146">All system tables are allocated to the primary filegroup.</span></span>|  
|<span data-ttu-id="653bb-147">Défini par l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="653bb-147">User-defined</span></span>|<span data-ttu-id="653bb-148">Groupe de fichiers créé par l'utilisateur lorsque celui-ci crée la base de données ou lorsqu'il la modifie ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="653bb-148">Any filegroup that is specifically created by the user when the user first creates or later modifies the database.</span></span>|  
  
### <a name="default-filegroup"></a><span data-ttu-id="653bb-149">Groupe de fichiers par défaut</span><span class="sxs-lookup"><span data-stu-id="653bb-149">Default Filegroup</span></span>  
 <span data-ttu-id="653bb-150">Lorsque des objets sont créés dans la base de données, sans spécifier le groupe de fichiers auquel ils appartiennent, ces objets sont affectés au groupe de fichiers par défaut.</span><span class="sxs-lookup"><span data-stu-id="653bb-150">When objects are created in the database without specifying which filegroup they belong to, they are assigned to the default filegroup.</span></span> <span data-ttu-id="653bb-151">À tout moment, un groupe de fichiers précis est désigné comme étant le groupe de fichiers par défaut.</span><span class="sxs-lookup"><span data-stu-id="653bb-151">At any time, exactly one filegroup is designated as the default filegroup.</span></span> <span data-ttu-id="653bb-152">Les fichiers du groupe de fichiers par défaut doivent être suffisamment volumineux pour contenir tous les nouveaux objets qui ne sont pas affectés à d'autres groupes de fichiers.</span><span class="sxs-lookup"><span data-stu-id="653bb-152">The files in the default filegroup must be large enough to hold any new objects not allocated to other filegroups.</span></span>  
  
 <span data-ttu-id="653bb-153">Le groupe de fichiers PRIMARY est le groupe de fichiers par défaut sauf s'il est modifié par l'instruction ALTER DATABASE.</span><span class="sxs-lookup"><span data-stu-id="653bb-153">The PRIMARY filegroup is the default filegroup unless it is changed by using the ALTER DATABASE statement.</span></span> <span data-ttu-id="653bb-154">Les objets et tables système restent affectés au groupe de fichiers PRIMARY, et non au nouveau groupe par défaut.</span><span class="sxs-lookup"><span data-stu-id="653bb-154">Allocation for the system objects and tables remains within the PRIMARY filegroup, not the new default filegroup.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="653bb-155">Contenu associé</span><span class="sxs-lookup"><span data-stu-id="653bb-155">Related Content</span></span>  
 [<span data-ttu-id="653bb-156">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="653bb-156">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-database-sql-server-transact-sql)  
  
 [<span data-ttu-id="653bb-157">Options de fichiers et de groupes de fichiers ALTER DATABASE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="653bb-157">ALTER DATABASE File and Filegroup Options &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-transact-sql-file-and-filegroup-options)  
  
 [<span data-ttu-id="653bb-158">Attacher et détacher une base de données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="653bb-158">Database Detach and Attach &#40;SQL Server&#41;</span></span>](database-detach-and-attach-sql-server.md)  
  
  
