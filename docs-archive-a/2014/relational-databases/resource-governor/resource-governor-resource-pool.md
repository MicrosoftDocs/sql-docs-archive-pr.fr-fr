---
title: Pool de ressources du gouverneur de ressources | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Resource Governor, resource pool
- resource pool [SQL Server], overview
- resource pool [SQL Server]
ms.assetid: 306b6278-e54f-42e6-b746-95a9315e0cbe
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 574d70f23541888ade1e9b827f52fed801c20205
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87699384"
---
# <a name="resource-governor-resource-pool"></a><span data-ttu-id="98d49-102">Pool de ressources du gouverneur de ressources</span><span class="sxs-lookup"><span data-stu-id="98d49-102">Resource Governor Resource Pool</span></span>
  <span data-ttu-id="98d49-103">Dans le gouverneur de ressources [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , un pool de ressources représente un sous-ensemble des ressources physiques d'une instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="98d49-103">In the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Resource Governor, a resource pool represents a subset of the physical resources of an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="98d49-104">Le gouverneur de ressources vous permet de spécifier des limites sur la quantité d'UC, les E/S physiques et la mémoire que les demandes d'application entrantes peuvent utiliser avec le pool de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-104">Resource Governor enables you to specify limits on the amount of CPU, physical IO, and memory that incoming application requests can use within the resource pool.</span></span> <span data-ttu-id="98d49-105">Chaque pool de ressources peut contenir un ou plusieurs groupes de charges de travail.</span><span class="sxs-lookup"><span data-stu-id="98d49-105">Each resource pool can contain one or more workload groups.</span></span> <span data-ttu-id="98d49-106">Lorsqu'une session est démarrée, le classifieur du gouverneur de ressources affecte la session à un groupe de charges de travail spécifique, et la session doit s'exécuter à l'aide des ressources attribuées au groupe de charges de travail.</span><span class="sxs-lookup"><span data-stu-id="98d49-106">When a session is started, the Resource Governor classifier assigns the session to a specific workload group, and the session must run using the resources assigned to the workload group.</span></span>  
  
## <a name="resource-pool-concepts"></a><span data-ttu-id="98d49-107">Concepts relatifs au pool de ressources</span><span class="sxs-lookup"><span data-stu-id="98d49-107">Resource Pool Concepts</span></span>  
 <span data-ttu-id="98d49-108">Un pool de ressources, ou pool, représente les ressources physiques du serveur.</span><span class="sxs-lookup"><span data-stu-id="98d49-108">A resource pool, or pool, represents the physical resources of the server.</span></span> <span data-ttu-id="98d49-109">Vous pouvez envisager un pool comme une instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] virtuelle dans une instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="98d49-109">You can think of a pool as a virtual [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance inside of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="98d49-110">Un pool a deux parties.</span><span class="sxs-lookup"><span data-stu-id="98d49-110">A pool has two parts.</span></span> <span data-ttu-id="98d49-111">Une partie ne se chevauche pas avec les autres pools, ce qui permet de conserver un minimum de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-111">One part does not overlap with other pools, which enables minimum resource reservation.</span></span> <span data-ttu-id="98d49-112">L'autre partie est partagée avec d'autres pools et prend en charge la consommation maximale de ressources possible.</span><span class="sxs-lookup"><span data-stu-id="98d49-112">The other part is shared with other pools, which supports maximum possible resource consumption.</span></span> <span data-ttu-id="98d49-113">Les ressources de pool sont définies en spécifiant un ou plusieurs des paramètres suivants pour chaque ressource (UC, E/S physiques et mémoire) :</span><span class="sxs-lookup"><span data-stu-id="98d49-113">The pool resources are defined by specifying one or more of the following settings for each resource (CPU, memory, and physical IO):</span></span>  
  
-   <span data-ttu-id="98d49-114">**MIN_CPU_PERCENT et MAX_CPU_PERCENT**</span><span class="sxs-lookup"><span data-stu-id="98d49-114">**MIN_CPU_PERCENT and MAX_CPU_PERCENT**</span></span>  
  
     <span data-ttu-id="98d49-115">Ces paramètres correspondent aux valeurs minimale et maximale garanties de la bande passante moyenne du processeur pour toutes les demandes dans le pool de ressources en cas de contention du processeur.</span><span class="sxs-lookup"><span data-stu-id="98d49-115">These settings are the minimum and maximum guaranteed average CPU bandwidth for all requests in the resource pool when there is CPU contention.</span></span> <span data-ttu-id="98d49-116">Vous pouvez utiliser ces paramètres afin de déterminer l'utilisation prédictible des ressources du processeur pour plusieurs charges de travail, en fonction des besoins de chaque charge de travail.</span><span class="sxs-lookup"><span data-stu-id="98d49-116">You can use these settings to establish predictable CPU resource usage for multiple workloads that is based on the needs of each workload.</span></span> <span data-ttu-id="98d49-117">Supposons, par exemple, que les services des ventes et marketing d'une entreprise partagent la même base de données.</span><span class="sxs-lookup"><span data-stu-id="98d49-117">For example, assume the Sales and Marketing departments in a company share the same database.</span></span> <span data-ttu-id="98d49-118">Le service des ventes présente une charge de travail gourmande en ressources du processeur, avec des requêtes de priorité élevée.</span><span class="sxs-lookup"><span data-stu-id="98d49-118">The Sales department has a CPU-intensive workload with high-priority queries.</span></span> <span data-ttu-id="98d49-119">Le service marketing présente également une charge de travail gourmande en ressources du processeur, mais avec des requêtes de priorité plus faible.</span><span class="sxs-lookup"><span data-stu-id="98d49-119">The Marketing department also has a CPU-intensive workload, but has lower-priority queries.</span></span> <span data-ttu-id="98d49-120">En créant un pool de ressources distinct pour chaque service, vous pouvez affecter un pourcentage *minimal* d'utilisation de l'UC de 70 pour le pool de ressources des ventes et un pourcentage *maximal* d'utilisation de l'UC de 30 pour le pool de ressources marketing.</span><span class="sxs-lookup"><span data-stu-id="98d49-120">By creating a separate resource pool for each department, you can assign a *minimum* CPU percentage of 70 for the Sales resource pool and a *maximum* CPU percentage of 30 for the Marketing resource pool.</span></span> <span data-ttu-id="98d49-121">Cela garantit que la charge de travail Ventes reçoit les ressources du processeur dont elle a besoin et que la charge de travail Marketing est isolée des demandes d'UC de la charge de travail Ventes.</span><span class="sxs-lookup"><span data-stu-id="98d49-121">This ensures that the Sales workload receives the CPU resources it requires and the Marketing workload is isolated from the CPU demands of the Sales workload.</span></span> <span data-ttu-id="98d49-122">Notez que le pourcentage maximal d'utilisation de l'UC est un maximum opportuniste.</span><span class="sxs-lookup"><span data-stu-id="98d49-122">Note that the maximum CPU percentage is an opportunistic maximum.</span></span> <span data-ttu-id="98d49-123">S'il existe une capacité de processeur disponible, la charge de travail l'utilise jusqu'à 100 %.</span><span class="sxs-lookup"><span data-stu-id="98d49-123">If there is available CPU capacity, the workload uses it up to 100 percent.</span></span> <span data-ttu-id="98d49-124">La valeur maximale s'applique uniquement en cas de contention des ressources du processeur.</span><span class="sxs-lookup"><span data-stu-id="98d49-124">The maximum value only applies when there is contention for CPU resources.</span></span> <span data-ttu-id="98d49-125">Dans cet exemple, si la charge de travail Ventes est désactivée, la charge de travail Marketing peut utiliser 100 % de l'UC, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="98d49-125">In this example, if the Sales workload is switched off, the Marketing workload can use 100 percent of the CPU if needed.</span></span>  
  
-   <span data-ttu-id="98d49-126">**CAP_CPU_PERCENT**</span><span class="sxs-lookup"><span data-stu-id="98d49-126">**CAP_CPU_PERCENT**</span></span>  
  
     <span data-ttu-id="98d49-127">Ce paramètre définit une limite maximale inconditionnelle d'utilisation de la bande passante de l'UC pour toutes les demandes exécutées dans le pool de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-127">This settings is a hard cap limit on the CPU bandwidth for all requests in the resource pool.</span></span> <span data-ttu-id="98d49-128">Les charges de travail associées au pool peuvent utiliser la capacité de l'UC au-delà de la valeur de MAX_CPU_PERCENT si elle est disponible, mais pas au-delà de la valeur de CAP_CPU_PERCENT.</span><span class="sxs-lookup"><span data-stu-id="98d49-128">Workloads associated with the pool can use CPU capacity above the value of MAX_CPU_PERCENT if it is available, but not above the value of CAP_CPU_PERCENT.</span></span> <span data-ttu-id="98d49-129">En reprenant l'exemple ci-dessus, supposons que le service marketing soit facturé en fonction de son utilisation des ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-129">Using the example above, lets assume that the Marketing department is being charged for their resource usage.</span></span> <span data-ttu-id="98d49-130">Il souhaite une facturation prédictible et ne veut pas payer pour plus de 30 % de l'UC.</span><span class="sxs-lookup"><span data-stu-id="98d49-130">They want predictable billing and do not want to pay for more than 30 percent of the CPU.</span></span> <span data-ttu-id="98d49-131">Pour garantir cette exigence, il suffit de définir CAP_CPU_PERCENT à 30 pour le pool de ressources marketing.</span><span class="sxs-lookup"><span data-stu-id="98d49-131">This can be accomplished by setting the CAP_CPU_PERCENT to 30 for the Marketing resource pool.</span></span>  
  
-   <span data-ttu-id="98d49-132">**MIN_MEMORY_PERCENT et MAX_MEMORY_PERCENT**</span><span class="sxs-lookup"><span data-stu-id="98d49-132">**MIN_MEMORY_PERCENT and MAX_MEMORY_PERCENT**</span></span>  
  
     <span data-ttu-id="98d49-133">Ces paramètres spécifient la quantité de mémoire minimale et maximale réservée au pool de ressources qui ne peut pas être partagée avec d'autres pools de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-133">These settings are the minimum and maximum amount of memory reserved for the resource pool that can not be shared with other resource pools.</span></span> <span data-ttu-id="98d49-134">La mémoire dont il est question ici correspond à la mémoire allouée à l'exécution des requêtes, et non à la mémoire du pool de mémoires tampons (des pages d'index et de données, par exemple).</span><span class="sxs-lookup"><span data-stu-id="98d49-134">The memory referenced here is query execution grant memory, not buffer pool memory (for example, data and index pages).</span></span> <span data-ttu-id="98d49-135">Définir une valeur minimale de mémoire pour un pool signifie que vous vous assurez que le pourcentage de mémoire spécifié est disponible pour toutes les demandes qui peuvent s'exécuter dans ce pool de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-135">Setting a minimum memory value for a pool means that you are ensuring that the percentage of memory specified will be available for any requests that might run in this resource pool.</span></span> <span data-ttu-id="98d49-136">Il s'agit d'un différentiateur important comparé à MIN_CPU_PERCENT, car dans ce cas, la mémoire peut rester dans le pool de ressources en question même lorsque celui-ci ne reçoit aucune demande dans les groupes de charges de travail associés.</span><span class="sxs-lookup"><span data-stu-id="98d49-136">This is an important differentiator compared to MIN_CPU_PERCENT, because in this case memory may remain in the given resource pool even when the pool does not have any requests in the workload groups belonging to this pool.</span></span> <span data-ttu-id="98d49-137">Par conséquent, il est essentiel de faire preuve de la plus grande vigilance lors de l'utilisation de ce paramètre, car cette mémoire ne pourra pas être utilisée par un autre pool, même en l'absence de demandes actives.</span><span class="sxs-lookup"><span data-stu-id="98d49-137">Therefore it is crucial that you be very careful when using this setting, because this memory will be unavailable for use by any other pool, even when there are no active requests.</span></span> <span data-ttu-id="98d49-138">Définir une valeur maximale de la mémoire pour un pool signifie que lorsque des requêtes s'exécutent dans ce pool, elles n'obtiennent jamais plus que ce pourcentage de mémoire globale.</span><span class="sxs-lookup"><span data-stu-id="98d49-138">Setting a maximum memory value for a pool means that when requests are running in this pool, they will never get more than this percentage of overall memory.</span></span>  
  
-   <span data-ttu-id="98d49-139">**AFFINITY**</span><span class="sxs-lookup"><span data-stu-id="98d49-139">**AFFINITY**</span></span>  
  
     <span data-ttu-id="98d49-140">Ce paramètre permet de définir l'affinité d'un pool de ressources en fonction d'un ou de plusieurs planificateurs ou nœuds NUMA pour un niveau d'isolation supérieur des ressources du processeur.</span><span class="sxs-lookup"><span data-stu-id="98d49-140">This setting lets you affinitize a resource pool to one or more schedulers or NUMA nodes for greater isolation of CPU resources.</span></span> <span data-ttu-id="98d49-141">Dans le scénario précédemment décrit, nous supposons que le service des ventes a besoin d'un environnement mieux isolé et souhaite disposer en permanence de 100 % d'un cœur d'UC.</span><span class="sxs-lookup"><span data-stu-id="98d49-141">Using the Sales and Marketing scenario above, lets assume that the Sales department needs a more isolated environment and wants 100 percent of a CPU core at all times.</span></span> <span data-ttu-id="98d49-142">L'option AFFINITY permet de planifier les charges de travail Ventes et Marketing sur différentes UC.</span><span class="sxs-lookup"><span data-stu-id="98d49-142">By using the AFFINITY option the Sales and Marketing workloads can be scheduled on different CPUs.</span></span> <span data-ttu-id="98d49-143">En supposant que la limite CAP_CPU_PERCENT est encore appliquée sur le pool marketing, la charge de travail Marketing continue à utiliser jusqu'à 30 % d'un cœur, tandis que la charge de travail Ventes utilise 100 % de l'autre cœur.</span><span class="sxs-lookup"><span data-stu-id="98d49-143">Assuming the CAP_CPU_PERCENT on the Marketing pool is still in place, the Marketing workload continues to use a maximum of 30 percent of one core, while the Sales workload uses 100 percent of the other core.</span></span> <span data-ttu-id="98d49-144">Les charges de travail Ventes et Marketing s'exécutent sur deux ordinateurs isolés.</span><span class="sxs-lookup"><span data-stu-id="98d49-144">As far as the Sales and Marketing workloads are concerned, they are running on two isolated machines.</span></span>  
  
-   <span data-ttu-id="98d49-145">**MIN_IOPS_PER_VOLUME et MAX_IOPS_PER_VOLUME**</span><span class="sxs-lookup"><span data-stu-id="98d49-145">**MIN_IOPS_PER_VOLUME and MAX_IOPS_PER_VOLUME**</span></span>  
  
     <span data-ttu-id="98d49-146">Ces paramètres correspondent aux valeurs minimale et maximale d'opérations d'E/S physiques par seconde (IOPS) par volume disque pour un pool de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-146">These settings are the minimum and maximum physical IO operations per second (IOPS) per disk volume for a resource pool.</span></span> <span data-ttu-id="98d49-147">Vous pouvez utiliser ces paramètres pour contrôler les entrées/sorties physiques pour les threads utilisateur d'un pool de ressources donné.</span><span class="sxs-lookup"><span data-stu-id="98d49-147">You can use these settings to control the physical IOs issued for user threads for a given resource pool.</span></span> <span data-ttu-id="98d49-148">Par exemple, le service des ventes génère plusieurs rapports de fin de mois par lots de grande taille.</span><span class="sxs-lookup"><span data-stu-id="98d49-148">For example, the Sales department generates several end-of-month reports in large batches.</span></span> <span data-ttu-id="98d49-149">Les requêtes de ces lots peuvent générer des E/S susceptibles de saturer le volume disque et avoir un impact sur les performances d'autres charges de travail de priorité plus élevée dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="98d49-149">The queries in these batches can generate IOs that can saturate the disk volume and impact the performance of other higher priority workloads in the database.</span></span> <span data-ttu-id="98d49-150">Pour isoler cette charge de travail, MIN_IOPS_PER_VOLUME est défini sur la valeur 20, tandis que MAX_IOPS_PER_VOLUME est défini sur la valeur 100 pour le pool de ressources du service des ventes, qui contrôle le niveau d'entrées/sorties qui est émis pour la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="98d49-150">To isolate this workload, the MIN_IOPS_PER_VOLUME is set to 20 and the MAX_IOPS_PER_VOLUME is set to 100 for the Sales department resource pool, which controls the level of IOs that can issued for the workload.</span></span>  
  
 <span data-ttu-id="98d49-151">Lors de la configuration de l'UC ou de la mémoire, la somme des valeurs MIN pour l'ensemble des pools ne peut pas dépasser 100 pour cent des ressources de serveur.</span><span class="sxs-lookup"><span data-stu-id="98d49-151">When configuring CPU or Memory, the sum of MIN values across all pools cannot exceed 100 percent of the server resources.</span></span> <span data-ttu-id="98d49-152">En outre, les valeurs MAX et CAP définies doivent être comprises entre MIN et 100 % inclus.</span><span class="sxs-lookup"><span data-stu-id="98d49-152">In addition, when configuring CPU or Memory, MAX and CAP values can be set anywhere in the range between MIN and 100 percent inclusive.</span></span>  
  
 <span data-ttu-id="98d49-153">Si un pool est défini avec une valeur MIN différente de zéro, la valeur MAX effective des autres pools est réajustée.</span><span class="sxs-lookup"><span data-stu-id="98d49-153">If a pool has a nonzero MIN defined, the effective MAX value of other pools is readjusted.</span></span> <span data-ttu-id="98d49-154">La valeur minimale de la valeur MAX d'un pool et de la somme des valeurs MIN des autres pools est soustraite de 100 %.</span><span class="sxs-lookup"><span data-stu-id="98d49-154">The minimum of the configured MAX value of a pool and the sum of the MIN values of other pools is subtracted from 100 percent.</span></span>  
  
 <span data-ttu-id="98d49-155">Le tableau suivant illustre quelques-uns des concepts précédents.</span><span class="sxs-lookup"><span data-stu-id="98d49-155">The following table illustrates a few of the preceding concepts.</span></span> <span data-ttu-id="98d49-156">Le tableau présente les paramètres définis pour le pool interne, le pool par défaut et deux pools définis par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="98d49-156">The table shows the settings for the internal pool, the default pool, and two user-defined pools.</span></span> <span data-ttu-id="98d49-157">Les formules suivantes calculent le pourcentage MAX (% MAX) effectif et le pourcentage (%) partagé.</span><span class="sxs-lookup"><span data-stu-id="98d49-157">The following formulas are used for calculating the effective MAX% and the shared %.</span></span>  
  
-   <span data-ttu-id="98d49-158">Min(X,Y) représente la valeur plus petite de X et Y.</span><span class="sxs-lookup"><span data-stu-id="98d49-158">Min(X,Y) means the smaller value of X and Y.</span></span>  
  
-   <span data-ttu-id="98d49-159">Sum(X) représente la somme de la valeur X pour tous les pools.</span><span class="sxs-lookup"><span data-stu-id="98d49-159">Sum(X) means the sum of value X across all pools.</span></span>  
  
-   <span data-ttu-id="98d49-160">Total % partagé = 100 - sum(MIN %).</span><span class="sxs-lookup"><span data-stu-id="98d49-160">Total shared % = 100 - sum(MIN %).</span></span>  
  
-   <span data-ttu-id="98d49-161">% MAX effectif = min(X,Y).</span><span class="sxs-lookup"><span data-stu-id="98d49-161">Effective MAX % = min(X,Y).</span></span>  
  
-   <span data-ttu-id="98d49-162">% partagé = % MAX effectif - % MIN.</span><span class="sxs-lookup"><span data-stu-id="98d49-162">Shared % = Effective MAX % - MIN %.</span></span>  
  
|<span data-ttu-id="98d49-163">Nom du pool</span><span class="sxs-lookup"><span data-stu-id="98d49-163">Pool name</span></span>|<span data-ttu-id="98d49-164">Paramètre % MIN</span><span class="sxs-lookup"><span data-stu-id="98d49-164">MIN % setting</span></span>|<span data-ttu-id="98d49-165">Paramètre % MAX</span><span class="sxs-lookup"><span data-stu-id="98d49-165">MAX % setting</span></span>|<span data-ttu-id="98d49-166">% MAX effectif calculé</span><span class="sxs-lookup"><span data-stu-id="98d49-166">Calculated effective MAX %</span></span>|<span data-ttu-id="98d49-167">% partagé calculé</span><span class="sxs-lookup"><span data-stu-id="98d49-167">Calculated shared %</span></span>|<span data-ttu-id="98d49-168">Commentaire</span><span class="sxs-lookup"><span data-stu-id="98d49-168">Comment</span></span>|  
|---------------|-------------------|-------------------|--------------------------------|-------------------------|-------------|  
|<span data-ttu-id="98d49-169">interne</span><span class="sxs-lookup"><span data-stu-id="98d49-169">internal</span></span>|<span data-ttu-id="98d49-170">0</span><span class="sxs-lookup"><span data-stu-id="98d49-170">0</span></span>|<span data-ttu-id="98d49-171">100</span><span class="sxs-lookup"><span data-stu-id="98d49-171">100</span></span>|<span data-ttu-id="98d49-172">100</span><span class="sxs-lookup"><span data-stu-id="98d49-172">100</span></span>|<span data-ttu-id="98d49-173">0</span><span class="sxs-lookup"><span data-stu-id="98d49-173">0</span></span>|<span data-ttu-id="98d49-174">Les valeurs % MAX effectif et % partagé ne sont pas applicables au pool interne.</span><span class="sxs-lookup"><span data-stu-id="98d49-174">Effective MAX% and shared% are not applicable to the internal pool.</span></span>|  
|<span data-ttu-id="98d49-175">default</span><span class="sxs-lookup"><span data-stu-id="98d49-175">default</span></span>|<span data-ttu-id="98d49-176">0</span><span class="sxs-lookup"><span data-stu-id="98d49-176">0</span></span>|<span data-ttu-id="98d49-177">100</span><span class="sxs-lookup"><span data-stu-id="98d49-177">100</span></span>|<span data-ttu-id="98d49-178">30</span><span class="sxs-lookup"><span data-stu-id="98d49-178">30</span></span>|<span data-ttu-id="98d49-179">30</span><span class="sxs-lookup"><span data-stu-id="98d49-179">30</span></span>|<span data-ttu-id="98d49-180">La valeur MAX effectif est calculée comme suit : min(100,100-(20+50)) = 30.</span><span class="sxs-lookup"><span data-stu-id="98d49-180">The effective MAX value is calculated as: min(100,100-(20+50)) = 30.</span></span> <span data-ttu-id="98d49-181">Le % partagé est calculé comme suit : MAX effectif - MIN = 30.</span><span class="sxs-lookup"><span data-stu-id="98d49-181">The calculated shared % is effective MAX - MIN = 30.</span></span>|  
|<span data-ttu-id="98d49-182">Pool 1</span><span class="sxs-lookup"><span data-stu-id="98d49-182">Pool 1</span></span>|<span data-ttu-id="98d49-183">20</span><span class="sxs-lookup"><span data-stu-id="98d49-183">20</span></span>|<span data-ttu-id="98d49-184">100</span><span class="sxs-lookup"><span data-stu-id="98d49-184">100</span></span>|<span data-ttu-id="98d49-185">50</span><span class="sxs-lookup"><span data-stu-id="98d49-185">50</span></span>|<span data-ttu-id="98d49-186">30</span><span class="sxs-lookup"><span data-stu-id="98d49-186">30</span></span>|<span data-ttu-id="98d49-187">La valeur MAX effectif est calculée comme suit : min(100,100-50) = 50.</span><span class="sxs-lookup"><span data-stu-id="98d49-187">The effective MAX value is calculated as: min(100,100-50) = 50.</span></span> <span data-ttu-id="98d49-188">Le % partagé est calculé comme suit : MAX effectif - MIN = 30.</span><span class="sxs-lookup"><span data-stu-id="98d49-188">The calculated Shared % is Effective MAX - MIN = 30.</span></span>|  
|<span data-ttu-id="98d49-189">Pool 2</span><span class="sxs-lookup"><span data-stu-id="98d49-189">Pool 2</span></span>|<span data-ttu-id="98d49-190">50</span><span class="sxs-lookup"><span data-stu-id="98d49-190">50</span></span>|<span data-ttu-id="98d49-191">70</span><span class="sxs-lookup"><span data-stu-id="98d49-191">70</span></span>|<span data-ttu-id="98d49-192">70</span><span class="sxs-lookup"><span data-stu-id="98d49-192">70</span></span>|<span data-ttu-id="98d49-193">20</span><span class="sxs-lookup"><span data-stu-id="98d49-193">20</span></span>|<span data-ttu-id="98d49-194">La valeur MAX effectif est calculée comme suit : min(70,100-20) = 70.</span><span class="sxs-lookup"><span data-stu-id="98d49-194">The effective MAX value is calculated as: min(70,100-20) = 70.</span></span> <span data-ttu-id="98d49-195">Le % partagé est calculé comme suit : MAX effectif - MIN = 20.</span><span class="sxs-lookup"><span data-stu-id="98d49-195">The calculated Shared % is Effective MAX - MIN = 20.</span></span>|  
  
 <span data-ttu-id="98d49-196">Sur la base du tableau précédent donné en exemple, détaillons les ajustements qui sont effectués à la création d'un pool supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="98d49-196">Using the preceding table as an example we can further illustrate the adjustments that take place when another pool is created.</span></span> <span data-ttu-id="98d49-197">Ce pool (Pool 3) a un paramètre % MIN égal à 5.</span><span class="sxs-lookup"><span data-stu-id="98d49-197">This pool is Pool 3 and has a MIN % setting of 5.</span></span>  
  
|<span data-ttu-id="98d49-198">Nom du pool</span><span class="sxs-lookup"><span data-stu-id="98d49-198">Pool name</span></span>|<span data-ttu-id="98d49-199">Paramètre % MIN</span><span class="sxs-lookup"><span data-stu-id="98d49-199">MIN % setting</span></span>|<span data-ttu-id="98d49-200">Paramètre % MAX</span><span class="sxs-lookup"><span data-stu-id="98d49-200">MAX % setting</span></span>|<span data-ttu-id="98d49-201">% MAX effectif calculé</span><span class="sxs-lookup"><span data-stu-id="98d49-201">Calculated effective MAX %</span></span>|<span data-ttu-id="98d49-202">% partagé calculé</span><span class="sxs-lookup"><span data-stu-id="98d49-202">Calculated shared %</span></span>|<span data-ttu-id="98d49-203">Commentaire</span><span class="sxs-lookup"><span data-stu-id="98d49-203">Comment</span></span>|  
|---------------|-------------------|-------------------|--------------------------------|-------------------------|-------------|  
|<span data-ttu-id="98d49-204">interne</span><span class="sxs-lookup"><span data-stu-id="98d49-204">internal</span></span>|<span data-ttu-id="98d49-205">0</span><span class="sxs-lookup"><span data-stu-id="98d49-205">0</span></span>|<span data-ttu-id="98d49-206">100</span><span class="sxs-lookup"><span data-stu-id="98d49-206">100</span></span>|<span data-ttu-id="98d49-207">100</span><span class="sxs-lookup"><span data-stu-id="98d49-207">100</span></span>|<span data-ttu-id="98d49-208">0</span><span class="sxs-lookup"><span data-stu-id="98d49-208">0</span></span>|<span data-ttu-id="98d49-209">Les valeurs % MAX effectif et % partagé ne sont pas applicables au pool interne.</span><span class="sxs-lookup"><span data-stu-id="98d49-209">Effective MAX % and shared % are not applicable to the internal pool.</span></span>|  
|<span data-ttu-id="98d49-210">default</span><span class="sxs-lookup"><span data-stu-id="98d49-210">default</span></span>|<span data-ttu-id="98d49-211">0</span><span class="sxs-lookup"><span data-stu-id="98d49-211">0</span></span>|<span data-ttu-id="98d49-212">100</span><span class="sxs-lookup"><span data-stu-id="98d49-212">100</span></span>|<span data-ttu-id="98d49-213">25</span><span class="sxs-lookup"><span data-stu-id="98d49-213">25</span></span>|<span data-ttu-id="98d49-214">25</span><span class="sxs-lookup"><span data-stu-id="98d49-214">25</span></span>|<span data-ttu-id="98d49-215">La valeur MAX effectif est calculée comme suit : min(100,100-(20+50+5)) = 25.</span><span class="sxs-lookup"><span data-stu-id="98d49-215">The effective MAX value is calculated as: min(100,100-(20+50+5)) = 25.</span></span> <span data-ttu-id="98d49-216">Le % partagé est calculé comme suit : MAX effectif - MIN = 25.</span><span class="sxs-lookup"><span data-stu-id="98d49-216">The calculated shared % is Effective MAX - MIN = 25.</span></span>|  
|<span data-ttu-id="98d49-217">Pool 1</span><span class="sxs-lookup"><span data-stu-id="98d49-217">Pool 1</span></span>|<span data-ttu-id="98d49-218">20</span><span class="sxs-lookup"><span data-stu-id="98d49-218">20</span></span>|<span data-ttu-id="98d49-219">100</span><span class="sxs-lookup"><span data-stu-id="98d49-219">100</span></span>|<span data-ttu-id="98d49-220">45</span><span class="sxs-lookup"><span data-stu-id="98d49-220">45</span></span>|<span data-ttu-id="98d49-221">25</span><span class="sxs-lookup"><span data-stu-id="98d49-221">25</span></span>|<span data-ttu-id="98d49-222">La valeur MAX effectif est calculée comme suit : min(100,100-55) = 45.</span><span class="sxs-lookup"><span data-stu-id="98d49-222">The effective MAX value is calculated as: min(100,100-55) = 45.</span></span> <span data-ttu-id="98d49-223">Le % partagé est calculé comme suit : MAX effectif - MIN = 25.</span><span class="sxs-lookup"><span data-stu-id="98d49-223">The calculated Shared % is Effective MAX - MIN = 25.</span></span>|  
|<span data-ttu-id="98d49-224">Pool 2</span><span class="sxs-lookup"><span data-stu-id="98d49-224">Pool 2</span></span>|<span data-ttu-id="98d49-225">50</span><span class="sxs-lookup"><span data-stu-id="98d49-225">50</span></span>|<span data-ttu-id="98d49-226">70</span><span class="sxs-lookup"><span data-stu-id="98d49-226">70</span></span>|<span data-ttu-id="98d49-227">70</span><span class="sxs-lookup"><span data-stu-id="98d49-227">70</span></span>|<span data-ttu-id="98d49-228">20</span><span class="sxs-lookup"><span data-stu-id="98d49-228">20</span></span>|<span data-ttu-id="98d49-229">La valeur MAX effectif est calculée comme suit : min(70,100-25) = 70.</span><span class="sxs-lookup"><span data-stu-id="98d49-229">The effective MAX value is calculated as: min(70,100-25) = 70.</span></span> <span data-ttu-id="98d49-230">Le % partagé est calculé comme suit : MAX effectif - MIN = 20.</span><span class="sxs-lookup"><span data-stu-id="98d49-230">The calculated Shared % is effective MAX - MIN = 20.</span></span>|  
|<span data-ttu-id="98d49-231">Pool 3</span><span class="sxs-lookup"><span data-stu-id="98d49-231">Pool 3</span></span>|<span data-ttu-id="98d49-232">5</span><span class="sxs-lookup"><span data-stu-id="98d49-232">5</span></span>|<span data-ttu-id="98d49-233">100</span><span class="sxs-lookup"><span data-stu-id="98d49-233">100</span></span>|<span data-ttu-id="98d49-234">30</span><span class="sxs-lookup"><span data-stu-id="98d49-234">30</span></span>|<span data-ttu-id="98d49-235">25</span><span class="sxs-lookup"><span data-stu-id="98d49-235">25</span></span>|<span data-ttu-id="98d49-236">La valeur MAX effectif est calculée comme suit : min(100,100-70) = 30.</span><span class="sxs-lookup"><span data-stu-id="98d49-236">The effective MAX value is calculated as: min(100,100-70) = 30.</span></span> <span data-ttu-id="98d49-237">Le % partagé est calculé comme suit : MAX effectif - MIN = 25.</span><span class="sxs-lookup"><span data-stu-id="98d49-237">The calculated Shared % is effective MAX - MIN = 25.</span></span>|  
  
 <span data-ttu-id="98d49-238">La partie partagée du pool est utilisée pour indiquer la destination des ressources disponibles si des ressources sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="98d49-238">The shared part of the pool is used to indicate where available resources can go if resources are available.</span></span> <span data-ttu-id="98d49-239">Toutefois, lorsque les ressources sont consommées, elles sont acheminées vers le pool spécifié et ne sont pas partagées.</span><span class="sxs-lookup"><span data-stu-id="98d49-239">However, when resources are consumed they go to the specified pool and are not shared.</span></span> <span data-ttu-id="98d49-240">Cette procédure peut améliorer l'utilisation des ressources en l'absence de demandes dans un pool donné et elle permet de libérer les ressources configurées du pool pour d'autres pools.</span><span class="sxs-lookup"><span data-stu-id="98d49-240">This may improve resource utilization in cases where there are no requests in a given pool and the resources configured to the pool can be freed up for other pools.</span></span>  
  
 <span data-ttu-id="98d49-241">Dans certains cas extrêmes, les pools peuvent être configurés comme ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="98d49-241">Some extreme cases of pool configuration are:</span></span>  
  
-   <span data-ttu-id="98d49-242">Tous les pools sont définis avec des valeurs minimales qui représentent au total 100 pour cent des ressources de serveur.</span><span class="sxs-lookup"><span data-stu-id="98d49-242">All pools define minimums that in total represent 100 percent of the server resources.</span></span> <span data-ttu-id="98d49-243">Dans ce cas, les valeurs maximales effectives sont égales aux valeurs minimales.</span><span class="sxs-lookup"><span data-stu-id="98d49-243">In this case the effective maximums are equal to minimums.</span></span> <span data-ttu-id="98d49-244">Cela revient à diviser les ressources de serveur en portions qui ne se chevauchent pas, indépendamment des ressources consommées dans chaque pool.</span><span class="sxs-lookup"><span data-stu-id="98d49-244">This is equivalent to dividing the server resources into non-overlapping pieces regardless of resources are consumed inside any given pool.</span></span>  
  
-   <span data-ttu-id="98d49-245">Tous les pools ont des valeurs minimales nulles.</span><span class="sxs-lookup"><span data-stu-id="98d49-245">All pools have zero minimums.</span></span> <span data-ttu-id="98d49-246">Tous les pools sont en concurrence pour les ressources disponibles et leurs tailles finales sont basées sur la consommation des ressources dans chaque pool.</span><span class="sxs-lookup"><span data-stu-id="98d49-246">All the pools compete for available resources and their final sizes are based on resource consumption in each pool.</span></span> <span data-ttu-id="98d49-247">D'autres facteurs tels que les stratégies jouent un rôle dans la définition de la taille finale du pool.</span><span class="sxs-lookup"><span data-stu-id="98d49-247">Other factors such as policies play a role in shaping the final pool size.</span></span>  
  
 <span data-ttu-id="98d49-248">Le gouverneur de ressources prédéfinit deux pools de ressources, le pool interne et le pool par défaut.</span><span class="sxs-lookup"><span data-stu-id="98d49-248">Resource Governor predefines two resource pools, the internal pool and the default pool.</span></span>  
  
 <span data-ttu-id="98d49-249">**Pool interne**</span><span class="sxs-lookup"><span data-stu-id="98d49-249">**Internal Pool**</span></span>  
  
 <span data-ttu-id="98d49-250">Le pool interne représente les ressources consommées par [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="98d49-250">The internal pool represents the resources consumed by the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] itself.</span></span> <span data-ttu-id="98d49-251">Ce pool contient toujours uniquement le groupe interne, et il est impossible de le modifier.</span><span class="sxs-lookup"><span data-stu-id="98d49-251">This pool always contains only the internal group, and the pool is not alterable in any way.</span></span> <span data-ttu-id="98d49-252">La consommation des ressources par le pool interne n'est pas restreinte.</span><span class="sxs-lookup"><span data-stu-id="98d49-252">Resource consumption by the internal pool is not restricted.</span></span> <span data-ttu-id="98d49-253">Toutes les charges de travail dans le pool sont considérées comme critiques pour la fonction de serveur, et le gouverneur de ressources permet au pool interne de contraindre d'autres pools même si cela implique le non-respect des limites définies pour les autres pools.</span><span class="sxs-lookup"><span data-stu-id="98d49-253">Any workloads in the pool are considered critical for server function, and Resource Governor allows the internal pool to pressure other pools even if it means the violation of limits set for the other pools.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="98d49-254">L'utilisation des ressources de pool interne et de groupe interne n'est pas soustraite de l'utilisation des ressources totales.</span><span class="sxs-lookup"><span data-stu-id="98d49-254">The internal pool and internal group resource usage is not subtracted from the overall resource usage.</span></span> <span data-ttu-id="98d49-255">Les pourcentages sont calculés à partir des ressources totales disponibles.</span><span class="sxs-lookup"><span data-stu-id="98d49-255">Percentages are calculated from the overall resources available.</span></span>  
  
 <span data-ttu-id="98d49-256">**Pool par défaut**</span><span class="sxs-lookup"><span data-stu-id="98d49-256">**Default Pool**</span></span>  
  
 <span data-ttu-id="98d49-257">Le pool par défaut est le premier pool d'utilisateur prédéfini.</span><span class="sxs-lookup"><span data-stu-id="98d49-257">The default pool is the first predefined user pool.</span></span> <span data-ttu-id="98d49-258">Avant toute configuration, le pool par défaut contient seulement le groupe par défaut.</span><span class="sxs-lookup"><span data-stu-id="98d49-258">Prior to any configuration the default pool only contains the default group.</span></span> <span data-ttu-id="98d49-259">Le pool par défaut ne peut pas être créé ni supprimé, mais il peut être modifié.</span><span class="sxs-lookup"><span data-stu-id="98d49-259">The default pool cannot be created or dropped but it can be altered.</span></span> <span data-ttu-id="98d49-260">Il peut contenir des groupes définis par l'utilisateur en plus du groupe par défaut.</span><span class="sxs-lookup"><span data-stu-id="98d49-260">The default pool can contain user-defined groups in addition to the default group.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="98d49-261">Le groupe par défaut est modifiable, mais il ne peut pas être déplacé hors du pool par défaut.</span><span class="sxs-lookup"><span data-stu-id="98d49-261">The default group is alterable but it cannot be moved out of the default pool.</span></span>  
  
 <span data-ttu-id="98d49-262">**Pools de ressources définis par l'utilisateur**</span><span class="sxs-lookup"><span data-stu-id="98d49-262">**User-Defined Resource Pools**</span></span>  
  
 <span data-ttu-id="98d49-263">Les pools de ressources définis par l'utilisateur sont ceux que vous créez pour les charges de travail spécifiques dans votre environnement.</span><span class="sxs-lookup"><span data-stu-id="98d49-263">User-defined resource pools are those that you create for specific workloads in your environment.</span></span> <span data-ttu-id="98d49-264">Le gouverneur de ressources fournit des instructions DDL pour créer, modifier et supprimer des pools de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-264">Resource Governor provides DDL statements for creating, changing, and dropping resource pools.</span></span>  
  
## <a name="resource-pool-tasks"></a><span data-ttu-id="98d49-265">Tâches du pool de ressources</span><span class="sxs-lookup"><span data-stu-id="98d49-265">Resource Pool Tasks</span></span>  
  
|<span data-ttu-id="98d49-266">Description de la tâche</span><span class="sxs-lookup"><span data-stu-id="98d49-266">Task Description</span></span>|<span data-ttu-id="98d49-267">Rubrique</span><span class="sxs-lookup"><span data-stu-id="98d49-267">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="98d49-268">Décrit comment créer un pool de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-268">Describes how to create a resource pool.</span></span>|[<span data-ttu-id="98d49-269">Créer un pool de ressources</span><span class="sxs-lookup"><span data-stu-id="98d49-269">Create a Resource Pool</span></span>](create-a-resource-pool.md)|  
|<span data-ttu-id="98d49-270">Décrit comment modifier les paramètres du pool de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-270">Describes how to change resource pool settings.</span></span>|[<span data-ttu-id="98d49-271">Modifier les paramètres de pool de ressources</span><span class="sxs-lookup"><span data-stu-id="98d49-271">Change Resource Pool Settings</span></span>](change-resource-pool-settings.md)|  
|<span data-ttu-id="98d49-272">Décrit comment supprimer un pool de ressources.</span><span class="sxs-lookup"><span data-stu-id="98d49-272">Describes how to delete a resource pool.</span></span>|[<span data-ttu-id="98d49-273">Supprimer un pool de ressources</span><span class="sxs-lookup"><span data-stu-id="98d49-273">Delete a Resource Pool</span></span>](delete-a-resource-pool.md)|  
  
## <a name="see-also"></a><span data-ttu-id="98d49-274">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="98d49-274">See Also</span></span>  
 <span data-ttu-id="98d49-275">[Resource Governor](resource-governor.md) </span><span class="sxs-lookup"><span data-stu-id="98d49-275">[Resource Governor](resource-governor.md) </span></span>  
 <span data-ttu-id="98d49-276">[Groupe de charge de travail de Resource Governor](resource-governor-workload-group.md) </span><span class="sxs-lookup"><span data-stu-id="98d49-276">[Resource Governor Workload Group](resource-governor-workload-group.md) </span></span>  
 <span data-ttu-id="98d49-277">[Fonction classifieur de Resource Governor](resource-governor-classifier-function.md) </span><span class="sxs-lookup"><span data-stu-id="98d49-277">[Resource Governor Classifier Function](resource-governor-classifier-function.md) </span></span>  
 <span data-ttu-id="98d49-278">[Configurer le gouverneur de ressources à l'aide d'un modèle](configure-resource-governor-using-a-template.md) </span><span class="sxs-lookup"><span data-stu-id="98d49-278">[Configure Resource Governor Using a Template](configure-resource-governor-using-a-template.md) </span></span>  
 [<span data-ttu-id="98d49-279">Afficher les propriétés du gouverneur de ressources</span><span class="sxs-lookup"><span data-stu-id="98d49-279">View Resource Governor Properties</span></span>](view-resource-governor-properties.md)  
  
  
