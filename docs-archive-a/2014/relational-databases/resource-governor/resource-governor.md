---
title: Resource Governor | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Resource Governor, overview
- Resource Governor
ms.assetid: 2bc89b66-e801-45ba-b30d-8ed197052212
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 7660446a176b9535883a001318c8f8fc981f99c1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87699365"
---
# <a name="resource-governor"></a><span data-ttu-id="fcba6-102">gouverneur de ressources</span><span class="sxs-lookup"><span data-stu-id="fcba6-102">Resource Governor</span></span>
  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="fcba6-103">Resource Governor est une fonctionnalité que vous pouvez utiliser pour gérer la charge de travail et la consommation des ressources système de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fcba6-103">Resource Governor is a feature than you can use to manage [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] workload and system resource consumption.</span></span> <span data-ttu-id="fcba6-104">Le gouverneur des ressources vous permet de spécifier des limites sur la quantité d’UC,d’E/S physiques et de mémoire utilisables par les requêtes d’application entrantes.</span><span class="sxs-lookup"><span data-stu-id="fcba6-104">Resource Governor enables you to specify limits on the amount of CPU, physical IO, and memory that incoming application requests can use.</span></span>  
  
## <a name="benefits-of-resource-governor"></a><span data-ttu-id="fcba6-105">Avantages de Resource Governor</span><span class="sxs-lookup"><span data-stu-id="fcba6-105">Benefits of Resource Governor</span></span>  
 <span data-ttu-id="fcba6-106">Resource Governor vous permet de gérer les ressources et les charge de travail [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en spécifiant des limites concernant la consommation de ressources par les demandes entrantes.</span><span class="sxs-lookup"><span data-stu-id="fcba6-106">Resource Governor enables you to manage [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] workloads and resources by specifying limits on resource consumption by incoming requests.</span></span> <span data-ttu-id="fcba6-107">Du point de vue de Resource Governor, la charge de travail est un ensemble de requêtes de taille similaire qui peuvent ou devraient être traitées comme une entité unique.</span><span class="sxs-lookup"><span data-stu-id="fcba6-107">In the Resource Governor context, workload is a set of similarly sized queries or requests that can, and should be, treated as a single entity.</span></span> <span data-ttu-id="fcba6-108">Bien que cela ne soit pas indispensable, plus le modèle d'utilisation des ressources d'une charge de travail est uniforme, plus il est avantageux d'utiliser Resource Governor.</span><span class="sxs-lookup"><span data-stu-id="fcba6-108">This is not a requirement, but the more uniform the resource usage pattern of a workload is, the more benefit you are likely to derive from Resource Governor.</span></span> <span data-ttu-id="fcba6-109">Les limites de ressources peuvent être reconfigurées en temps réel avec un impact négligeable sur les charges de travail en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="fcba6-109">Resource limits can be reconfigured in real time with minimal impact on workloads that are executing.</span></span>  
  
 <span data-ttu-id="fcba6-110">Dans un environnement où il existe plusieurs charges de travail distinctes sur le même serveur, Resource Governor permet de différencier ces charges de travail et d'allouer des ressources partagées en fonction de la demande, selon les limites que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="fcba6-110">In an environment where multiple distinct workloads are present on the same server, Resource Governor enables you to differentiate these workloads and allocate shared resources as they are requested, based on the limits that you specify.</span></span> <span data-ttu-id="fcba6-111">Ces ressources sont l'UC, les E/S physiques et la mémoire.</span><span class="sxs-lookup"><span data-stu-id="fcba6-111">These resources are CPU, physical IO, and memory.</span></span>  
  
 <span data-ttu-id="fcba6-112">À l'aide de Resource Governor, vous pouvez :</span><span class="sxs-lookup"><span data-stu-id="fcba6-112">By using Resource Governor, you can:</span></span>  
  
-   <span data-ttu-id="fcba6-113">Fournir l'isolement des ressources et une architecture mutualisée sur les instances uniques de SQL Server qui servent plusieurs charges de travail clientes.</span><span class="sxs-lookup"><span data-stu-id="fcba6-113">Provide multitenancy and resource isolation on single instances of SQL Server that serve multiple client workloads.</span></span> <span data-ttu-id="fcba6-114">Autrement dit, vous pouvez répartir les ressources disponibles sur un serveur entre les charges de travail et réduire les problèmes qui peuvent se produire lorsque les charges de travail sont en concurrence pour les ressources.</span><span class="sxs-lookup"><span data-stu-id="fcba6-114">That is, you can divide the available resources on a server among the workloads and minimize the problems that can occur when workloads compete for resources.</span></span>  
  
-   <span data-ttu-id="fcba6-115">Fournir des performances fiables et prendre en charge les contrats de niveau de service (SLA) pour les locataires de charge de travail dans un environnement à plusieurs utilisateurs et à plusieurs charges de travail.</span><span class="sxs-lookup"><span data-stu-id="fcba6-115">Provide predictable performance and support SLAs for workload tenants in a multi-workload and multi-user environment.</span></span>  
  
-   <span data-ttu-id="fcba6-116">Isoler et limiter les pertes de contrôle de requêtes ou les ressources de limitation d'E/S pour les opérations telles que DBCC CHECKDB qui peuvent saturer le sous-système d'E/S et avoir un effet négatif sur d'autres charges de travail.</span><span class="sxs-lookup"><span data-stu-id="fcba6-116">Isolate and limit runaway queries or throttle IO resources for operations such as DBCC CHECKDB that can saturate the IO subsystem and negatively impact other workloads.</span></span>  
  
-   <span data-ttu-id="fcba6-117">Ajouter un suivi affiné des ressources pour les rétrofacturations d'utilisation des ressources et fournir une facturation prédictible aux consommateurs des ressources du serveur.</span><span class="sxs-lookup"><span data-stu-id="fcba6-117">Add fine-grained resource tracking for resource usage chargebacks and provide predictable billing to the consumers of the server resources.</span></span>  
  
## <a name="resource-governor-constraints"></a><span data-ttu-id="fcba6-118">Contraintes de Resource Governor</span><span class="sxs-lookup"><span data-stu-id="fcba6-118">Resource Governor Constraints</span></span>  
 <span data-ttu-id="fcba6-119">Cette version de Resource Governor est soumise aux contraintes suivantes :</span><span class="sxs-lookup"><span data-stu-id="fcba6-119">This release of Resource Governor has the following constraints:</span></span>  
  
-   <span data-ttu-id="fcba6-120">La gestion des ressources est limitée au [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fcba6-120">Resource management is limited to the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="fcba6-121">Resource Governor ne peut pas être utilisé pour [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]et [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fcba6-121">Resource Governor can not be used for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="fcba6-122">Il n'y a aucune surveillance ni gestion des charges de travail entre instances SQL Server.</span><span class="sxs-lookup"><span data-stu-id="fcba6-122">There is no workload monitoring or workload management between SQL Server instances.</span></span>  
  
-   <span data-ttu-id="fcba6-123">Resource Governor peut gérer les charges de travail OLTP mais ces types de requêtes, qui sont en général très courtes, ne restent pas toujours assez longtemps sur l'UC pour que des contrôles de bande passante soient appliqués.</span><span class="sxs-lookup"><span data-stu-id="fcba6-123">Resource Governor can manage OLTP workloads but these types of queries, which are typically very short in duration, are not always on the CPU long enough to apply bandwidth controls.</span></span> <span data-ttu-id="fcba6-124">Cela peut biaiser les statistiques retournées pour le pourcentage d'utilisation de l'UC.</span><span class="sxs-lookup"><span data-stu-id="fcba6-124">This may skew in the statistics returned for CPU usage %.</span></span>  
  
-   <span data-ttu-id="fcba6-125">La capacité à régir les E/S physiques s'applique uniquement aux opérations des utilisateurs, et non aux tâches système.</span><span class="sxs-lookup"><span data-stu-id="fcba6-125">The ability to govern physical IO only applies to user operations and not system tasks.</span></span> <span data-ttu-id="fcba6-126">Les tâches système comprennent les opérations d'écriture dans le journal des transactions et les opérations d'E/S d'écriture différée.</span><span class="sxs-lookup"><span data-stu-id="fcba6-126">System tasks include write operations to the transaction log and Lazy Writer IO operations.</span></span> <span data-ttu-id="fcba6-127">Resource Governor s'applique principalement aux opérations de lecture de l'utilisateur car la plupart des opérations d'écriture sont généralement effectuées par les tâches système.</span><span class="sxs-lookup"><span data-stu-id="fcba6-127">The Resource Govenor applies primarily to user read operations because most write operations are typically performed by system tasks.</span></span>  
  
-   <span data-ttu-id="fcba6-128">Vous ne pouvez pas définir de seuils d'E/S dans le pool de ressources interne.</span><span class="sxs-lookup"><span data-stu-id="fcba6-128">You cannot set IO thresholds on the internal resource pool.</span></span>  
  
## <a name="resource-concepts"></a><span data-ttu-id="fcba6-129">Concepts des ressources</span><span class="sxs-lookup"><span data-stu-id="fcba6-129">Resource Concepts</span></span>  
 <span data-ttu-id="fcba6-130">Les trois concepts suivants sont fondamentaux pour connaître le fonctionnement et l'utilisation de Resource Governor :</span><span class="sxs-lookup"><span data-stu-id="fcba6-130">The following three concepts are fundamental to understanding and using Resource Governor:</span></span>  
  
-   <span data-ttu-id="fcba6-131">**Pools de ressources.**</span><span class="sxs-lookup"><span data-stu-id="fcba6-131">**Resource pools.**</span></span> <span data-ttu-id="fcba6-132">Un pool de ressources représente les ressources physiques du serveur.</span><span class="sxs-lookup"><span data-stu-id="fcba6-132">A resource pool, represents the physical resources of the server.</span></span> <span data-ttu-id="fcba6-133">Vous pouvez envisager un pool comme une instance [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] virtuelle dans une instance [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fcba6-133">You can think of a pool as a virtual [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance inside of a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="fcba6-134">Deux pools de ressources (interne et par défaut) sont créés lorsque [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est installé.</span><span class="sxs-lookup"><span data-stu-id="fcba6-134">Two resource pools (internal and default) are created when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span> <span data-ttu-id="fcba6-135">Resource Governor prend aussi en charge des pools de ressources définis par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="fcba6-135">Resource Governor also supports user-defined resource pools.</span></span> <span data-ttu-id="fcba6-136">Pour plus d’informations, consultez [Pool de ressources de Resource Governor](resource-governor-resource-pool.md).</span><span class="sxs-lookup"><span data-stu-id="fcba6-136">For more information, see [Resource Governor Resource Pool](resource-governor-resource-pool.md).</span></span>  
  
-   <span data-ttu-id="fcba6-137">**Groupes de charges de travail.**</span><span class="sxs-lookup"><span data-stu-id="fcba6-137">**Workload groups.**</span></span> <span data-ttu-id="fcba6-138">Un groupe de charges de travail sert de conteneur aux demandes de session qui ont des critères de classification similaires.</span><span class="sxs-lookup"><span data-stu-id="fcba6-138">A workload group serves as a container for session requests that have similar classification criteria.</span></span> <span data-ttu-id="fcba6-139">Une charge de travail autorise l'analyse globale des sessions et définit les stratégies pour les sessions.</span><span class="sxs-lookup"><span data-stu-id="fcba6-139">A workload allows for aggregate monitoring of the sessions, and defines policies for the sessions.</span></span> <span data-ttu-id="fcba6-140">Chaque groupe de charges de travail se trouve dans un pool de ressources.</span><span class="sxs-lookup"><span data-stu-id="fcba6-140">Each workload group is in a resource pool.</span></span> <span data-ttu-id="fcba6-141">Deux groupes de charges de travail (interne et par défaut) sont créés et mappés à leurs pools de ressources correspondants lorsque [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] est installé.</span><span class="sxs-lookup"><span data-stu-id="fcba6-141">Two workload groups (internal and default) are created and mapped to their corresponding resource pools when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span> <span data-ttu-id="fcba6-142">Resource Governor prend aussi en charge des groupes de charges de travail définis par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="fcba6-142">Resource Governor also supports user-defined workload groups.</span></span> <span data-ttu-id="fcba6-143">Pour plus d’informations, consultez [Groupe de charge de travail de Resource Governor](resource-governor-workload-group.md).</span><span class="sxs-lookup"><span data-stu-id="fcba6-143">For more information see, [Resource Governor Workload Group](resource-governor-workload-group.md).</span></span>  
  
-   <span data-ttu-id="fcba6-144">**Classification.**</span><span class="sxs-lookup"><span data-stu-id="fcba6-144">**Classification.**</span></span> <span data-ttu-id="fcba6-145">Le processus de classification affecte les sessions entrantes à un groupe de charges de travail en fonction des caractéristiques de la session.</span><span class="sxs-lookup"><span data-stu-id="fcba6-145">The Classification process assigns incoming sessions to a workload group based on the characteristics of the session.</span></span> <span data-ttu-id="fcba6-146">Vous pouvez adapter la logique de classification en entrant une fonction définie par l'utilisateur, appelée fonction classifieur.</span><span class="sxs-lookup"><span data-stu-id="fcba6-146">You can tailor the classification logic by writing a user-defined function, called a classifier function.</span></span> <span data-ttu-id="fcba6-147">Resource Governor prend en charge également une fonction classifieur définie par l'utilisateur pour implémenter des règles de classification.</span><span class="sxs-lookup"><span data-stu-id="fcba6-147">Resource Governor also supports a classifier user-defined function for implementing classification rules.</span></span> <span data-ttu-id="fcba6-148">Pour plus d’informations, consultez [Fonction classifieur de Resource Governor](resource-governor-classifier-function.md).</span><span class="sxs-lookup"><span data-stu-id="fcba6-148">For more information, see [Resource Governor Classifier Function](resource-governor-classifier-function.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fcba6-149">Resource Governor n'impose pas de contrôles sur une connexion DAC (connexion administrateur dédiée).</span><span class="sxs-lookup"><span data-stu-id="fcba6-149">Resource Governor does not impose any controls on a dedicated administrator connection (DAC).</span></span> <span data-ttu-id="fcba6-150">Il n'est pas nécessaire de classer les requêtes DAC qui s'exécutent dans le groupe de charges de travail et le pool de ressources internes.</span><span class="sxs-lookup"><span data-stu-id="fcba6-150">There is no need to classify DAC queries, which run in the internal workload group and resource pool.</span></span>  
  
 <span data-ttu-id="fcba6-151">Dans le contexte de Resource Governor, vous pouvez traiter les concepts précédents comme composants.</span><span class="sxs-lookup"><span data-stu-id="fcba6-151">In the context of Resource Governor, you can treat the preceding concepts as components.</span></span> <span data-ttu-id="fcba6-152">L'illustration suivante montre ces composants et leur relation mutuelle dans l'environnement du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="fcba6-152">The following illustration shows these components and their relationship with each other as they exist in the database engine environment.</span></span> <span data-ttu-id="fcba6-153">Dans une perspective de traitement, le flux simplifié est le suivant :</span><span class="sxs-lookup"><span data-stu-id="fcba6-153">From a processing perspective, the simplified flow is as follows:</span></span>  
  
-   <span data-ttu-id="fcba6-154">Il existe une connexion entrante pour une session (Session 1 de *n*).</span><span class="sxs-lookup"><span data-stu-id="fcba6-154">There is an incoming connection for a session (Session 1 of *n*).</span></span>  
  
-   <span data-ttu-id="fcba6-155">La session est classifiée (Classification).</span><span class="sxs-lookup"><span data-stu-id="fcba6-155">The session is classified (Classification).</span></span>  
  
-   <span data-ttu-id="fcba6-156">La charge de travail de session est acheminée vers un groupe de charges de travail, par exemple, Groupe 4.</span><span class="sxs-lookup"><span data-stu-id="fcba6-156">The session workload is routed to a workload group, for example, Group 4.</span></span>  
  
-   <span data-ttu-id="fcba6-157">Le groupe de charges de travail utilise le pool de ressources auquel il est associé, par exemple, Groupe 2.</span><span class="sxs-lookup"><span data-stu-id="fcba6-157">The workload group uses the resource pool it is associated with, for example, Pool 2.</span></span>  
  
-   <span data-ttu-id="fcba6-158">Le pool de ressources fournit et limite les ressources requises par l'application, par exemple, Application 3.</span><span class="sxs-lookup"><span data-stu-id="fcba6-158">The resource pool provides and limits the resources required by the application, for example, Application 3.</span></span>  
  
 <span data-ttu-id="fcba6-159">![Composants fonctionnels de Resource Governor](../../database-engine/media/rg-basic-funct-components.gif "Composants fonctionnels de Resource Governor")</span><span class="sxs-lookup"><span data-stu-id="fcba6-159">![Resource Governor Functional Components](../../database-engine/media/rg-basic-funct-components.gif "Resource Governor Functional Components")</span></span>  
  
## <a name="resource-governor-tasks"></a><span data-ttu-id="fcba6-160">Tâches de Resource Governor</span><span class="sxs-lookup"><span data-stu-id="fcba6-160">Resource Governor Tasks</span></span>  
  
|<span data-ttu-id="fcba6-161">Description de la tâche</span><span class="sxs-lookup"><span data-stu-id="fcba6-161">Task Description</span></span>|<span data-ttu-id="fcba6-162">Rubrique</span><span class="sxs-lookup"><span data-stu-id="fcba6-162">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="fcba6-163">Décrit comment activer Resource Governor.</span><span class="sxs-lookup"><span data-stu-id="fcba6-163">Describes how to enable Resource Governor.</span></span>|[<span data-ttu-id="fcba6-164">Activer Resource Governor</span><span class="sxs-lookup"><span data-stu-id="fcba6-164">Enable Resource Governor</span></span>](resource-governor.md)|  
|<span data-ttu-id="fcba6-165">Décrit comment désactiver Resource Governor.</span><span class="sxs-lookup"><span data-stu-id="fcba6-165">Describes how to disable Resource Governor.</span></span>|[<span data-ttu-id="fcba6-166">Désactiver Resource Governor</span><span class="sxs-lookup"><span data-stu-id="fcba6-166">Disable Resource Governor</span></span>](disable-resource-governor.md)|  
|<span data-ttu-id="fcba6-167">Décrit comment créer, modifier et supprimer un pool de ressources.</span><span class="sxs-lookup"><span data-stu-id="fcba6-167">Describes how to create, alter, and drop a resource pool.</span></span>|[<span data-ttu-id="fcba6-168">Pool de ressources de Resource Governor</span><span class="sxs-lookup"><span data-stu-id="fcba6-168">Resource Governor Resource Pool</span></span>](resource-governor-resource-pool.md)|  
|<span data-ttu-id="fcba6-169">Décrit comment créer, modifier, déplacer et supprimer un groupe de charge de travail.</span><span class="sxs-lookup"><span data-stu-id="fcba6-169">Describes how to create, alter, move, and drop a workload group.</span></span>|[<span data-ttu-id="fcba6-170">Groupe de charge de travail de Resource Governor</span><span class="sxs-lookup"><span data-stu-id="fcba6-170">Resource Governor Workload Group</span></span>](resource-governor-workload-group.md)|  
|<span data-ttu-id="fcba6-171">Décrit comment créer et tester une fonction définie par l'utilisateur classifieur.</span><span class="sxs-lookup"><span data-stu-id="fcba6-171">Describes how to create and test a classifier user-defined function.</span></span>|[<span data-ttu-id="fcba6-172">Fonction classifieur de Resource Governor</span><span class="sxs-lookup"><span data-stu-id="fcba6-172">Resource Governor Classifier Function</span></span>](resource-governor-classifier-function.md)|  
|<span data-ttu-id="fcba6-173">Décrit comment configurer Resource Governor à l'aide d'un modèle.</span><span class="sxs-lookup"><span data-stu-id="fcba6-173">Describes how to configure Resource Governor using a template.</span></span>|[<span data-ttu-id="fcba6-174">Configurer Resource Governor à l’aide d’un modèle</span><span class="sxs-lookup"><span data-stu-id="fcba6-174">Configure Resource Governor Using a Template</span></span>](configure-resource-governor-using-a-template.md)|  
|<span data-ttu-id="fcba6-175">Décrit comment afficher les propriétés de Resource Governor.</span><span class="sxs-lookup"><span data-stu-id="fcba6-175">Describes how to view Resource Governor properties.</span></span>|[<span data-ttu-id="fcba6-176">Afficher les propriétés du gouverneur de ressources</span><span class="sxs-lookup"><span data-stu-id="fcba6-176">View Resource Governor Properties</span></span>](view-resource-governor-properties.md)|  
  
## <a name="see-also"></a><span data-ttu-id="fcba6-177">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fcba6-177">See Also</span></span>  
 [<span data-ttu-id="fcba6-178">Instances du moteur de base de données &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="fcba6-178">Database Engine Instances &#40;SQL Server&#41;</span></span>](../../database-engine/configure-windows/database-engine-instances-sql-server.md)  
  
  
