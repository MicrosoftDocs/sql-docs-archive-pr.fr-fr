---
title: Configurer le débogueur Transact-SQL
ms.custom: seo-lt-2019
ms.date: 10/20/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- vs.debug.error.sqlde_register_failed
- vs.debug.error.sqlde_accessdenied
- vs.debug.error.sqlde_firewall.remotemachines
helpviewer_keywords:
- Transact-SQL debugger, remote connections
- Windows Firewall [Database Engine], Transact-SQL debugger
- Transact-SQL debugger, Windows Firewall
- Transact-SQL debugger, configuring
- ports [SQL Server], Transact-SQL debugger
- TCP/IP [SQL Server], port numbers
ms.assetid: f50e0b0d-eaf0-4f4a-be83-96f5be63e7ea
author: rothja
ms.author: jroth
ms.openlocfilehash: a320e77e86c933a33d96d708580d5050b0c06de2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87612766"
---
# <a name="configure-the-transact-sql-debugger"></a><span data-ttu-id="fe4f3-102">Configurer le débogueur Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="fe4f3-102">Configure the Transact-SQL Debugger</span></span>
  <span data-ttu-id="fe4f3-103">Vous devez configurer des règles de Pare-feu Windows pour permettre le débogage [!INCLUDE[tsql](../../includes/tsql-md.md)] en cas de connexion à une instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)] qui s'exécute sur un autre ordinateur que l'Éditeur de requête du [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe4f3-103">Windows Firewall rules must be configured to enable [!INCLUDE[tsql](../../includes/tsql-md.md)] debugging when connected to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] that is running on a different computer than the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor.</span></span>  
  
## <a name="configuring-the-transact-sql-debugger"></a><span data-ttu-id="fe4f3-104">Configuration du débogueur Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="fe4f3-104">Configuring the Transact-SQL Debugger</span></span>  
 <span data-ttu-id="fe4f3-105">Le débogueur [!INCLUDE[tsql](../../includes/tsql-md.md)] inclut des composants côté serveur et côté client.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-105">The [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger includes both server-side and client-side components.</span></span> <span data-ttu-id="fe4f3-106">Les composants du débogueur côté serveur sont installés avec chaque instance du moteur de base de données à partir de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2 (SP2) ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-106">The server-side debugger components are installed with each instance of the Database Engine from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2 (SP2) or later.</span></span> <span data-ttu-id="fe4f3-107">Les composants côté client du débogueur sont inclus :</span><span class="sxs-lookup"><span data-stu-id="fe4f3-107">The client-side debugger components are included:</span></span>  
  
-   <span data-ttu-id="fe4f3-108">Lorsque vous utilisez les outils côté client de [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-108">When you install the client-side tools from [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] or later.</span></span>  
  
-   <span data-ttu-id="fe4f3-109">Lorsque vous installez Microsoft Visual Studio 2010 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-109">When you install Microsoft Visual Studio 2010 or later.</span></span>  
  
-   <span data-ttu-id="fe4f3-110">Lorsque vous installez [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] à partir d'un téléchargement Web.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-110">When you install [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] from the web download.</span></span>  
  
 <span data-ttu-id="fe4f3-111">Aucune configuration particulière n'est requise pour exécuter le débogueur [!INCLUDE[tsql](../../includes/tsql-md.md)] lorsque [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ou [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] s'exécute sur le même ordinateur que l'instance du [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fe4f3-111">There are no configuration requirements to run the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger when [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] is running on the same computer as the instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="fe4f3-112">Toutefois, pour exécuter le débogueur [!INCLUDE[tsql](../../includes/tsql-md.md)] lorsqu'il est connecté à une instance distante du [!INCLUDE[ssDE](../../includes/ssde-md.md)], vous devez activer des règles de programme et de port dans le Pare-feu Windows sur les deux ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-112">However, to run the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger when connected to a remote instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], program and port rules in the Windows Firewall must be enabled on both computers.</span></span> <span data-ttu-id="fe4f3-113">Ces règles peuvent être créées par le programme d'installation de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe4f3-113">These rules may be created by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup.</span></span> <span data-ttu-id="fe4f3-114">Si vous obtenez des erreurs lors de la tentative d'ouverture d'une session de débogage distant, assurez-vous que les règles suivantes de pare-feu sont définis sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-114">If you get errors attempting to open a remote debugging session, ensure the following firewall rules are defined on your computer.</span></span>  
  
 <span data-ttu-id="fe4f3-115">Utilisez l'application **Pare-feu Windows avec fonctions avancées de sécurité** pour gérer les règles de pare-feu.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-115">Use the **Windows Firewall with Advanced Security** application to manage the firewall rules.</span></span> <span data-ttu-id="fe4f3-116">Dans [!INCLUDE[win7](../../includes/win7-md.md)] et [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)], ouvrez **Panneau de configuration**, **Pare-feu Windows**, puis sélectionnez **Paramètres avancés**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-116">In both [!INCLUDE[win7](../../includes/win7-md.md)] and [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)], open **Control Panel**, open **Windows Firewall**, and select **Advanced settings**.</span></span> <span data-ttu-id="fe4f3-117">Dans [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)] vous pouvez également ouvrir **Gestionnaire de services**, développer **Configuration** dans le volet gauche, puis développer **Pare-feu Windows avec fonctions avancées de sécurité**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-117">In [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)] you can also open **Service Manager**, expand **Configuration** in the left pane, and expand **Windows Firewall with Advanced Security**.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="fe4f3-118">L'activation des règles dans le Pare-feu Windows peut exposer votre ordinateur à des atteintes à la sécurité que le pare-feu est conçu pour bloquer.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-118">Enabling rules in the Windows Firewall may expose your computer to security threats that the firewall is designed to block.</span></span> <span data-ttu-id="fe4f3-119">L'activation des règles pour le débogage distant débloque les ports et les programmes répertoriés dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-119">Enabling rules for remote debugging unblocks the ports and programs listed in this topic.</span></span>  
  
## <a name="firewall-rules-on-the-server"></a><span data-ttu-id="fe4f3-120">Règles de pare-feu sur le serveur</span><span class="sxs-lookup"><span data-stu-id="fe4f3-120">Firewall Rules on the Server</span></span>  
 <span data-ttu-id="fe4f3-121">Sur l'ordinateur qui exécute l'instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)], utilisez le **Pare-feu Windows avec fonctions avancées de sécurité** pour spécifier les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="fe4f3-121">On the computer that is running the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], use **Windows Firewall with Advanced Security** to specify the following information:</span></span>  
  
-   <span data-ttu-id="fe4f3-122">Ajoutez une règle de programme entrante pour sqlservr.exe.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-122">Add an inbound program rule for sqlservr.exe.</span></span> <span data-ttu-id="fe4f3-123">Vous devez avoir une règle pour chaque instance qui doit prendre en charge les sessions de débogage distant.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-123">You must have a rule for each instance that needs to support remote debugging sessions.</span></span>  
  
    1.  <span data-ttu-id="fe4f3-124">Dans **Pare-feu Windows avec fonctions avancées de sécurité**, dans le volet gauche, cliquez avec le bouton droit sur **Règles de trafic entrant**, puis sélectionnez **Nouvelle règle** dans le volet Action.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-124">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="fe4f3-125">Dans la boîte de dialogue **Type de règle** , sélectionnez **Programme**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-125">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="fe4f3-126">Dans la boîte de dialogue **Programme** , sélectionnez **Ce chemin d'accès du programme :** , puis entrez le chemin d'accès complet à sqlservr.exe pour cette instance.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-126">In the **Program** dialog, select **This program path:** and enter the full path to sqlservr.exe for this instance.</span></span> <span data-ttu-id="fe4f3-127">Par défaut, sqlservr.exe est installé dans C:\Program Files\Microsoft SQL Server\MSSQL12. *InstanceName*\MSSQL\Binn, où *nom_instance* est MSSQLSERVER pour l’instance par défaut et le nom de l’instance pour toute instance nommée.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-127">By default, sqlservr.exe is installed in C:\Program Files\Microsoft SQL Server\MSSQL12.*InstanceName*\MSSQL\Binn, where *InstanceName* is MSSQLSERVER for the default instance, and the instance name for any named instance.</span></span>  
  
    4.  <span data-ttu-id="fe4f3-128">Dans la boîte de dialogue **Action** , sélectionnez **Autoriser la connexion**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-128">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="fe4f3-129">Dans la boîte de dialogue **Profil** , sélectionnez des profils qui décrivent l'environnement de connexion de l'ordinateur lorsque vous souhaitez ouvrir une session de débogage distant avec l'instance, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-129">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="fe4f3-130">Dans la boîte de dialogue **Nom** , tapez un nom et une description pour cette règle, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-130">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="fe4f3-131">Dans la liste **Règles de trafic entrant** , cliquez avec le bouton droit sur la règle que vous avez créée, puis sélectionnez **Propriétés** dans le volet Action.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-131">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="fe4f3-132">Sélectionnez l'onglet **Protocoles et ports** .</span><span class="sxs-lookup"><span data-stu-id="fe4f3-132">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="fe4f3-133">Sélectionnez **TCP** dans la zone **Type de protocole :** , sélectionnez **Ports dynamiques RPC** dans la zone **Port local :** , cliquez sur **Appliquer**, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-133">Select **TCP** in the **Protocol type:** box, select **RPC Dynamic Ports** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
-   <span data-ttu-id="fe4f3-134">Ajoutez une règle de programme entrante pour svchost.exe pour activer les communications DCOM des sessions de débogage distant.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-134">Add an inbound program rule for svchost.exe to enable DCOM communications from remote debugger sessions.</span></span>  
  
    1.  <span data-ttu-id="fe4f3-135">Dans **Pare-feu Windows avec fonctions avancées de sécurité**, dans le volet gauche, cliquez avec le bouton droit sur **Règles de trafic entrant**, puis sélectionnez **Nouvelle règle** dans le volet Action.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-135">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="fe4f3-136">Dans la boîte de dialogue **Type de règle** , sélectionnez **Programme**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-136">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="fe4f3-137">Dans la boîte de dialogue **Programme** , sélectionnez **Ce chemin d'accès du programme :** , puis entrez le chemin d'accès complet à scvhost.exe.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-137">In the **Program** dialog, select **This program path:** and enter the full path to svchost.exe.</span></span> <span data-ttu-id="fe4f3-138">Par défaut, svchost.exe est installé dans %systemroot%\System32\svchost.exe.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-138">By default, svchost.exe is installed in %systemroot%\System32\svchost.exe.</span></span>  
  
    4.  <span data-ttu-id="fe4f3-139">Dans la boîte de dialogue **Action** , sélectionnez **Autoriser la connexion**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-139">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="fe4f3-140">Dans la boîte de dialogue **Profil** , sélectionnez des profils qui décrivent l'environnement de connexion de l'ordinateur lorsque vous souhaitez ouvrir une session de débogage distant avec l'instance, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-140">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="fe4f3-141">Dans la boîte de dialogue **Nom** , tapez un nom et une description pour cette règle, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-141">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="fe4f3-142">Dans la liste **Règles de trafic entrant** , cliquez avec le bouton droit sur la règle que vous avez créée, puis sélectionnez **Propriétés** dans le volet Action.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-142">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="fe4f3-143">Sélectionnez l'onglet **Protocoles et ports** .</span><span class="sxs-lookup"><span data-stu-id="fe4f3-143">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="fe4f3-144">Sélectionnez **TCP** dans la zone **Type de protocole :** , sélectionnez **Mappeur de point de terminaison RPC** dans la zone **Port local :** , cliquez sur **Appliquer**, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-144">Select **TCP** in the **Protocol type:** box, select **RPC Endpoint Mapper** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
-   <span data-ttu-id="fe4f3-145">Si la stratégie de domaine exige que les communications réseau s'effectuent par le biais du protocole IPsec, vous devez également ajouter des règles entrantes ouvrant les ports UDP 4500 et UDP 500.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-145">If the domain policy requires network communications to be done through IPsec, you must also add inbound rules opening UDP port 4500 and UDP port 500.</span></span>  
  
## <a name="firewall-rules-on-the-client"></a><span data-ttu-id="fe4f3-146">Règles de pare-feu sur le client</span><span class="sxs-lookup"><span data-stu-id="fe4f3-146">Firewall Rules on the Client</span></span>  
 <span data-ttu-id="fe4f3-147">Sur l'ordinateur qui exécute l'Éditeur de requête du [!INCLUDE[ssDE](../../includes/ssde-md.md)] , le programme d'installation de SQL Server ou le programme d'installation de [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] a peut-être configuré le Pare-feu Windows de façon à autoriser le débogage distant.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-147">On the computer that is running the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor, the SQL Server setup or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] setup may have configured the Windows Firewall to allow remote debugging.</span></span>  
  
 <span data-ttu-id="fe4f3-148">Si vous obtenez des erreurs lors de la tentative d'ouverture d'une session de débogage distant, vous pouvez configurer manuellement les exceptions de port et programme à l'aide du **Pare-feu Windows avec fonctions avancées de sécurité** pour configurer des règles de pare-feu :</span><span class="sxs-lookup"><span data-stu-id="fe4f3-148">If you get errors attempting to open a remote debugging session, you can manually configure the program and port exceptions by using **Windows Firewall with Advanced Security** to configure firewall rules:</span></span>  
  
-   <span data-ttu-id="fe4f3-149">Ajouter une entrée de programme pour svchost :</span><span class="sxs-lookup"><span data-stu-id="fe4f3-149">Add a program entry for svchost:</span></span>  
  
    1.  <span data-ttu-id="fe4f3-150">Dans **Pare-feu Windows avec fonctions avancées de sécurité**, dans le volet gauche, cliquez avec le bouton droit sur **Règles de trafic entrant**, puis sélectionnez **Nouvelle règle** dans le volet Action.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-150">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="fe4f3-151">Dans la boîte de dialogue **Type de règle** , sélectionnez **Programme**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-151">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="fe4f3-152">Dans la boîte de dialogue **Programme** , sélectionnez **Ce chemin d'accès du programme :** , puis entrez le chemin d'accès complet à scvhost.exe.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-152">In the **Program** dialog, select **This program path:** and enter the full path to svchost.exe.</span></span> <span data-ttu-id="fe4f3-153">Par défaut, svchost.exe est installé dans %systemroot%\System32\svchost.exe.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-153">By default, svchost.exe is installed in %systemroot%\System32\svchost.exe.</span></span>  
  
    4.  <span data-ttu-id="fe4f3-154">Dans la boîte de dialogue **Action** , sélectionnez **Autoriser la connexion**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-154">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="fe4f3-155">Dans la boîte de dialogue **Profil** , sélectionnez des profils qui décrivent l'environnement de connexion de l'ordinateur lorsque vous souhaitez ouvrir une session de débogage distant avec l'instance, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-155">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="fe4f3-156">Dans la boîte de dialogue **Nom** , tapez un nom et une description pour cette règle, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-156">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="fe4f3-157">Dans la liste **Règles de trafic entrant** , cliquez avec le bouton droit sur la règle que vous avez créée, puis sélectionnez **Propriétés** dans le volet Action.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-157">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="fe4f3-158">Sélectionnez l'onglet **Protocoles et ports** .</span><span class="sxs-lookup"><span data-stu-id="fe4f3-158">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="fe4f3-159">Sélectionnez **TCP** dans la zone **Type de protocole :** , sélectionnez **Mappeur de point de terminaison RPC** dans la zone **Port local :** , cliquez sur **Appliquer**, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-159">Select **TCP** in the **Protocol type:** box, select **RPC Endpoint Mapper** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
-   <span data-ttu-id="fe4f3-160">Ajoutez une entrée de programme pour l'application qui héberge l'Éditeur de requête du [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe4f3-160">Add a program entry for the application hosting the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor.</span></span> <span data-ttu-id="fe4f3-161">Si vous devez ouvrir des sessions de débogage distant depuis [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] et [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] sur le même ordinateur, vous devez ajouter une règle de programme pour les deux :</span><span class="sxs-lookup"><span data-stu-id="fe4f3-161">If you need to open remote debugging sessions from both [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] on the same computer, you must add a program rule for both:</span></span>  
  
    1.  <span data-ttu-id="fe4f3-162">Dans **Pare-feu Windows avec fonctions avancées de sécurité**, dans le volet gauche, cliquez avec le bouton droit sur **Règles de trafic entrant**, puis sélectionnez **Nouvelle règle** dans le volet Action.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-162">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="fe4f3-163">Dans la boîte de dialogue **Type de règle** , sélectionnez **Programme**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-163">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="fe4f3-164">Dans la boîte de dialogue **Programme** , sélectionnez **Ce chemin d'accès du programme :** , puis entrez une de ces trois valeurs.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-164">In the **Program** dialog, select **This program path:** and enter one of these three values.</span></span>  
  
        -   <span data-ttu-id="fe4f3-165">Pour [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], entrez le chemin d'accès complet à ssms.exe.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-165">For [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], enter the full path to ssms.exe.</span></span> <span data-ttu-id="fe4f3-166">Par défaut, ssms.exe est installé dans C:\Program Files (x86)\Microsoft SQL Server\120\Tools\Binn\Management Studio.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-166">By default, ssms.exe is installed in C:\Program Files (x86)\Microsoft SQL Server\120\Tools\Binn\Management Studio.</span></span>  
  
        -   <span data-ttu-id="fe4f3-167">Pour [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] , entrez le chemin d'accès complet à devenv.exe :</span><span class="sxs-lookup"><span data-stu-id="fe4f3-167">For [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] enter the full path to devenv.exe:</span></span>  
  
            1.  <span data-ttu-id="fe4f3-168">L'emplacement par défaut du fichier devenv.exe pour Visual Studio 2010 est C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-168">By default, the devenv.exe for Visual Studio 2010 is in C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE.</span></span>  
  
            2.  <span data-ttu-id="fe4f3-169">L'emplacement par défaut du fichier devenv.exe pour Visual Studio 2012 est C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-169">By default, the devenv.exe for Visual Studio 2012 is in C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE</span></span>  
  
            3.  <span data-ttu-id="fe4f3-170">Vous pouvez trouver le chemin d'accès à ssms.exe dans le raccourci utilisé pour lancer [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fe4f3-170">You can find the path to ssms.exe from the shortcut you use to launch [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="fe4f3-171">Vous pouvez trouver le chemin d'accès à devenv.exe dans le raccourci utilisé pour lancer [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fe4f3-171">You can find the path to devenv.exe from the shortcut you use to launch [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="fe4f3-172">Cliquez avec le bouton droit sur le raccourci et choisissez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-172">Right click the shortcut and select **Properties**.</span></span> <span data-ttu-id="fe4f3-173">L'exécutable et le chemin d'accès sont répertoriés dans la zone **Cible** .</span><span class="sxs-lookup"><span data-stu-id="fe4f3-173">The executable and path are listed in the **Target** box.</span></span>  
  
    4.  <span data-ttu-id="fe4f3-174">Dans la boîte de dialogue **Action** , sélectionnez **Autoriser la connexion**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-174">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="fe4f3-175">Dans la boîte de dialogue **Profil** , sélectionnez des profils qui décrivent l'environnement de connexion de l'ordinateur lorsque vous souhaitez ouvrir une session de débogage distant avec l'instance, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-175">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="fe4f3-176">Dans la boîte de dialogue **Nom** , tapez un nom et une description pour cette règle, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-176">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="fe4f3-177">Dans la liste **Règles de trafic entrant** , cliquez avec le bouton droit sur la règle que vous avez créée, puis sélectionnez **Propriétés** dans le volet Action.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-177">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="fe4f3-178">Sélectionnez l'onglet **Protocoles et ports** .</span><span class="sxs-lookup"><span data-stu-id="fe4f3-178">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="fe4f3-179">Sélectionnez **TCP** dans la zone **Type de protocole :** , sélectionnez **Ports dynamiques RPC** dans la zone **Port local :** , cliquez sur **Appliquer**, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-179">Select **TCP** in the **Protocol type:** box, select **RPC Dynamic Ports** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
## <a name="requirements-for-starting-the-debugger"></a><span data-ttu-id="fe4f3-180">Configuration requise pour le démarrage du débogueur</span><span class="sxs-lookup"><span data-stu-id="fe4f3-180">Requirements for Starting the Debugger</span></span>  
 <span data-ttu-id="fe4f3-181">Toute tentative de démarrer le débogueur [!INCLUDE[tsql](../../includes/tsql-md.md)] doit également respecter les conditions suivantes :</span><span class="sxs-lookup"><span data-stu-id="fe4f3-181">All attempts to start the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger must also meet the following requirements:</span></span>  
  
* [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="fe4f3-182">ou [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] doit s'exécuter sous un compte Windows qui est membre du rôle serveur fixe sysadmin.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-182">or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] must be running under a Windows account that is a member of the sysadmin fixed server roll.</span></span>  
  
* <span data-ttu-id="fe4f3-183">La fenêtre de l’éditeur de requête du [!INCLUDE[ssDE](../../includes/ssde-md.md)] doit être connectée à l’aide d’une connexion via l’authentification Windows ou l’authentification [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] qui est membre du rôle serveur fixe sysadmin.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-183">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor window must be connected by using either a Windows Authentication or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication login that is a member of the sysadmin fixed server role.</span></span>  
  
* <span data-ttu-id="fe4f3-184">La fenêtre de l'éditeur de requête du [!INCLUDE[ssDE](../../includes/ssde-md.md)] doit être connectée à une instance du [!INCLUDE[ssDE](../../includes/ssde-md.md)] de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2 (SP2) ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-184">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor window must be connected to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2 (SP2) or later.</span></span> <span data-ttu-id="fe4f3-185">Vous ne pouvez pas exécuter le débogueur lorsque la fenêtre de l'éditeur de requête est connectée à une instance en mode mono-utilisateur.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-185">You cannot run the debugger when the Query Editor window is connected to an instance that is in single-user mode.</span></span>

* <span data-ttu-id="fe4f3-186">Le serveur doit communiquer avec le client par le biais de RPC.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-186">The server needs to communicate back to the client via RPC.</span></span> <span data-ttu-id="fe4f3-187">Le compte sous lequel SQL Server Service est en cours d’exécution doit avoir des autorisations AUTHENTICATE sur le client.</span><span class="sxs-lookup"><span data-stu-id="fe4f3-187">The account under which SQL Server service is running should have authenticate permissions to the client.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fe4f3-188">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fe4f3-188">See Also</span></span>  
 <span data-ttu-id="fe4f3-189">[Débogueur Transact-SQL](transact-sql-debugger.md) </span><span class="sxs-lookup"><span data-stu-id="fe4f3-189">[Transact-SQL Debugger](transact-sql-debugger.md) </span></span>  
 <span data-ttu-id="fe4f3-190">[Exécuter le débogueur Transact-SQL](run-the-transact-sql-debugger.md) </span><span class="sxs-lookup"><span data-stu-id="fe4f3-190">[Run the Transact-SQL Debugger](run-the-transact-sql-debugger.md) </span></span>  
 <span data-ttu-id="fe4f3-191">[Exécuter pas à pas du code Transact-SQL](step-through-transact-sql-code.md) </span><span class="sxs-lookup"><span data-stu-id="fe4f3-191">[Step Through Transact-SQL Code](step-through-transact-sql-code.md) </span></span>  
 <span data-ttu-id="fe4f3-192">[Informations sur le débogueur Transact-SQL](transact-sql-debugger-information.md) </span><span class="sxs-lookup"><span data-stu-id="fe4f3-192">[Transact-SQL Debugger Information](transact-sql-debugger-information.md) </span></span>  
 [<span data-ttu-id="fe4f3-193">Éditeur de requête du moteur de base de données &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="fe4f3-193">Database Engine Query Editor &#40;SQL Server Management Studio&#41;</span></span>](database-engine-query-editor-sql-server-management-studio.md)  
  
  
