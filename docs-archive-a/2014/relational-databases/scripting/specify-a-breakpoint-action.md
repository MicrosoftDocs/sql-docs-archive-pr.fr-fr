---
title: Spécifier une action de point d'arrêt
ms.custom: seo-lt-2019
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- Transact-SQL debugger, breakpoint action
- Transact-SQL debugger, breakpoint when hit action
ms.assetid: f97f0097-6f51-40c1-b2e0-294a93ce1e1b
author: rothja
ms.author: jroth
ms.openlocfilehash: 57b3c445e738752400e716538e038349e04e7bd2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87610578"
---
# <a name="specify-a-breakpoint-action"></a><span data-ttu-id="cf45a-102">Spécifier une action de point d'arrêt</span><span class="sxs-lookup"><span data-stu-id="cf45a-102">Specify a Breakpoint Action</span></span>
  <span data-ttu-id="cf45a-103">L’action de point d’arrêt **Lorsqu’il est atteint** spécifie une tâche personnalisée que le débogueur [!INCLUDE[tsql](../../includes/tsql-md.md)] effectue pour un point d’arrêt.</span><span class="sxs-lookup"><span data-stu-id="cf45a-103">A breakpoint **When Hit** action specifies a custom task that the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger performs for a breakpoint.</span></span> <span data-ttu-id="cf45a-104">Si le nombre d'accès spécifié est atteint et si les conditions de point d'arrêt spécifiées sont satisfaites, le débogueur effectue l'action spécifiée pour le point d'arrêt.</span><span class="sxs-lookup"><span data-stu-id="cf45a-104">If the specified hit count is reached and any specified breakpoint condition is satisfied, the debugger performs the action specified for the breakpoint.</span></span>  
  
##  <a name="action-considerations"></a><a name="BKMK_ActionConsiderations"></a> <span data-ttu-id="cf45a-105">Considérations sur l'action</span><span class="sxs-lookup"><span data-stu-id="cf45a-105">Action Considerations</span></span>  
 <span data-ttu-id="cf45a-106">L'action par défaut pour un point d'arrêt consiste à arrêter l'exécution lorsque le nombre d'accès et la condition de point d'arrêt sont tous les deux satisfaits.</span><span class="sxs-lookup"><span data-stu-id="cf45a-106">The default action for a breakpoint is to break execution when both the hit count and breakpoint condition have been satisfied.</span></span> <span data-ttu-id="cf45a-107">L’action **Lorsqu’il est atteint** dans le débogueur [!INCLUDE[tsql](../../includes/tsql-md.md)] sert, quant à elle, principalement à afficher des informations dans la fenêtre **Sortie** du débogueur en spécifiant un message à afficher.</span><span class="sxs-lookup"><span data-stu-id="cf45a-107">The primary use of a **When Hit** action in the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger is to instead print information to the debugger **Output** window by specifying a print message.</span></span>  
  
 <span data-ttu-id="cf45a-108">Le message à afficher est indiqué dans l’option **Afficher un message** et spécifié comme une chaîne de texte qui inclut des expressions contenant des informations issues du [!INCLUDE[tsql](../../includes/tsql-md.md)] débogué.</span><span class="sxs-lookup"><span data-stu-id="cf45a-108">A print message is specified in the **Print a Message** option, and is specified as a text string that includes expressions containing information from the [!INCLUDE[tsql](../../includes/tsql-md.md)] being debugged.</span></span> <span data-ttu-id="cf45a-109">Ces expressions sont notamment les suivantes.</span><span class="sxs-lookup"><span data-stu-id="cf45a-109">Expressions include:</span></span>  
  
-   <span data-ttu-id="cf45a-110">Une expression [!INCLUDE[tsql](../../includes/tsql-md.md)] comprise entre des accolades ({}).</span><span class="sxs-lookup"><span data-stu-id="cf45a-110">A [!INCLUDE[tsql](../../includes/tsql-md.md)] expression contained in curly braces ({}).</span></span> <span data-ttu-id="cf45a-111">Les expressions peuvent inclure des variables [!INCLUDE[tsql](../../includes/tsql-md.md)] , des paramètres et des fonctions intégrées,</span><span class="sxs-lookup"><span data-stu-id="cf45a-111">The expressions can include [!INCLUDE[tsql](../../includes/tsql-md.md)] variables, parameters, and built-in functions.</span></span> <span data-ttu-id="cf45a-112">par exemple {@MyVariable}, {@NameParameter}, {@@SPID} ou {SERVERPROPERTY(’ProcessID')}.</span><span class="sxs-lookup"><span data-stu-id="cf45a-112">Examples include {@MyVariable}, {@NameParameter}, {@@SPID}, or {SERVERPROPERTY('ProcessID')}.</span></span>  
  
-   <span data-ttu-id="cf45a-113">Un des mots clés suivants :</span><span class="sxs-lookup"><span data-stu-id="cf45a-113">One of the following keywords:</span></span>  
  
    1.  <span data-ttu-id="cf45a-114">$ADDRESS retourne le nom de la procédure stockée ou de la fonction définie par l'utilisateur dans laquelle le point d'arrêt est défini.</span><span class="sxs-lookup"><span data-stu-id="cf45a-114">$ADDRESS returns the name of the stored procedure or user-defined function where the breakpoint is set.</span></span> <span data-ttu-id="cf45a-115">Si le point d'arrêt est défini dans la fenêtre de l'éditeur, $ADDRESS retourne le nom du fichier de script modifié.</span><span class="sxs-lookup"><span data-stu-id="cf45a-115">If the breakpoint is set in the editor window, $ADDRESS returns the name of the script file being edited.</span></span> <span data-ttu-id="cf45a-116">$ADDRESS et $FUNCTION retournent les mêmes informations dans le débogueur [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cf45a-116">$ADDRESS and $FUNCTION return the same information in the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger.</span></span>  
  
    2.  <span data-ttu-id="cf45a-117">$CALLER retourne le nom de l'unité de code [!INCLUDE[tsql](../../includes/tsql-md.md)] qui a appelé une procédure stockée ou une fonction.</span><span class="sxs-lookup"><span data-stu-id="cf45a-117">$CALLER returns the name of the unit of [!INCLUDE[tsql](../../includes/tsql-md.md)] code that called a stored procedure or function.</span></span> <span data-ttu-id="cf45a-118">Si le point d’arrêt se trouve dans la fenêtre de l’éditeur, $CALLER retourne \<No caller available> .</span><span class="sxs-lookup"><span data-stu-id="cf45a-118">If the breakpoint is in the editor window, $CALLER returns \<No caller available>.</span></span> <span data-ttu-id="cf45a-119">Si le point d'arrêt se trouve dans une procédure stockée ou une fonction définie par l'utilisateur appelée à partir du code dans la fenêtre de l'éditeur, $CALLER retourne le nom du fichier modifié.</span><span class="sxs-lookup"><span data-stu-id="cf45a-119">If the breakpoint is in a stored procedure or user-defined function called from the code in the editor window, $CALLER returns the name of the file being edited.</span></span> <span data-ttu-id="cf45a-120">Si le point d'arrêt se trouve dans une procédure stockée ou une fonction définie par l'utilisateur appelée à partir d'une autre procédure stockée ou fonction, $CALLER retourne le nom de la procédure ou fonction appelante.</span><span class="sxs-lookup"><span data-stu-id="cf45a-120">If the breakpoint is in a stored procedure or user-defined function called from another stored procedure or function, $CALLER returns the name of the calling procedure or function.</span></span>  
  
    3.  <span data-ttu-id="cf45a-121">$CALLSTACK retourne la pile des appels des fonctions dans la chaîne qui a appelé la procédure stockée ou la fonction définie par l'utilisateur en cours.</span><span class="sxs-lookup"><span data-stu-id="cf45a-121">$CALLSTACK returns the call stack of functions in the chain that called the current stored procedure or user-defined function.</span></span> <span data-ttu-id="cf45a-122">Si le point d'arrêt se trouve dans la fenêtre de l'éditeur, $CALLSTACK retourne le nom du fichier de script modifié.</span><span class="sxs-lookup"><span data-stu-id="cf45a-122">If the breakpoint is in the editor window, $CALLSTACK returns the name of the script file being edited.</span></span>  
  
    4.  <span data-ttu-id="cf45a-123">$FUNCTION retourne le nom de la procédure stockée ou de la fonction définie par l'utilisateur dans laquelle le point d'arrêt est défini.</span><span class="sxs-lookup"><span data-stu-id="cf45a-123">$FUNCTION returns the name of the stored procedure or user-defined function where the breakpoint is set.</span></span> <span data-ttu-id="cf45a-124">Si le point d'arrêt est défini dans la fenêtre de l'éditeur, $FUNCTION retourne le nom du fichier de script modifié.</span><span class="sxs-lookup"><span data-stu-id="cf45a-124">If the breakpoint is set in the editor window, $FUNCTION returns the name of the script file being edited.</span></span>  
  
    5.  <span data-ttu-id="cf45a-125">$PID et $PNAME retournent l'ID et le nom du processus de système d'exploitation qui exécute l'instance du moteur de base de données où le code [!INCLUDE[tsql](../../includes/tsql-md.md)] s'exécute.</span><span class="sxs-lookup"><span data-stu-id="cf45a-125">$PID and $PNAME return the ID and name of the operating system process running the instance of the Database Engine where the [!INCLUDE[tsql](../../includes/tsql-md.md)] is running.</span></span> <span data-ttu-id="cf45a-126">$PID retourne le même ID que SERVERPROPERTY('ProcessID'), mais $PID est une valeur hexadécimale alors que SERVERPROPERTY('ProcessID') est une valeur décimale.</span><span class="sxs-lookup"><span data-stu-id="cf45a-126">$PID returns the same ID as SERVERPROPERTY('ProcessID'), except that $PID is a hexadecimal value while SERVERPROPERTY('ProcessID') is a decimal value.</span></span>  
  
    6.  <span data-ttu-id="cf45a-127">$TID et $TNAME retournent l'ID et le nom du thread de système d'exploitation qui exécute le lot [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cf45a-127">$TID and $TNAME return the ID and name of the operating system thread running the [!INCLUDE[tsql](../../includes/tsql-md.md)] batch.</span></span> <span data-ttu-id="cf45a-128">Le thread est associé au processus qui exécute l'instance du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="cf45a-128">The thread is one associated with the process running the instance of the Database Engine.</span></span> <span data-ttu-id="cf45a-129">$TID retourne la même valeur que SELECT kpid FROM sys.sysprocesses WHERE spid = @@SPID, mais $TID est une valeur hexadécimale alors que kpid est une valeur décimale.</span><span class="sxs-lookup"><span data-stu-id="cf45a-129">$TID returns the same value as SELECT kpid FROM sys.sysprocesses WHERE spid = @@SPID, except that $TID is a hexadecimal value while kpid is a decimal value.</span></span>  
  
-   <span data-ttu-id="cf45a-130">Vous pouvez également utiliser la barre oblique inverse (\\) comme caractère d’échappement pour autoriser des accolades et des barres obliques inverses dans le message : \\{, \\} et \\\\.</span><span class="sxs-lookup"><span data-stu-id="cf45a-130">You can also use the backslash character (\\) as an escape character to allow curly braces and backslashes in the message: \\{, \\}, and \\\\.</span></span>  
  
#### <a name="to-specify-a-when-hit-action"></a><span data-ttu-id="cf45a-131">Pour spécifier une action Lorsqu'il est atteint</span><span class="sxs-lookup"><span data-stu-id="cf45a-131">To Specify a When Hit Action</span></span>  
  
1.  <span data-ttu-id="cf45a-132">Dans la fenêtre de l’éditeur, cliquez avec le bouton droit sur le glyphe du point d’arrêt, puis cliquez sur **Lorsqu’il est atteint** dans le menu contextuel.</span><span class="sxs-lookup"><span data-stu-id="cf45a-132">In the editor window, right-click the breakpoint glyph, and then click **When Hit** on the shortcut menu.</span></span>  
  
     <span data-ttu-id="cf45a-133">-ou-</span><span class="sxs-lookup"><span data-stu-id="cf45a-133">-or-</span></span>  
  
     <span data-ttu-id="cf45a-134">Dans la fenêtre des **points d’arrêt** , cliquez avec le bouton droit sur le glyphe du point d’arrêt, puis cliquez sur **Lorsqu’il est atteint** dans le menu contextuel.</span><span class="sxs-lookup"><span data-stu-id="cf45a-134">In the **Breakpoints** window, right-click the breakpoint glyph, and then click **When hit** on the shortcut menu.</span></span>  
  
2.  <span data-ttu-id="cf45a-135">Dans la boîte de dialogue **Lorsque le point d’arrêt est atteint** , sélectionnez le comportement que vous souhaitez :</span><span class="sxs-lookup"><span data-stu-id="cf45a-135">In the **When Breakpoint Is Hit** dialog box, select the behavior you want:</span></span>  
  
    1.  <span data-ttu-id="cf45a-136">Sélectionnez **Afficher un message** pour afficher un message dans la fenêtre Sortie du débogueur lorsque le point d’arrêt est atteint.</span><span class="sxs-lookup"><span data-stu-id="cf45a-136">Select **Print a Message** to print a message in the debugger Output window when the breakpoint is hit.</span></span>  
  
    2.  <span data-ttu-id="cf45a-137">L’option **Exécuter une macro** n’est pas disponible à partir du débogueur [!INCLUDE[tsql](../../includes/tsql-md.md)] et est grisée.</span><span class="sxs-lookup"><span data-stu-id="cf45a-137">The **Run a Macro** option is not available from the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger, and is greyed out.</span></span>  
  
    3.  <span data-ttu-id="cf45a-138">Sélectionnez **Continuer l’exécution** si vous ne voulez pas que le point d’arrêt suspende l’exécution.</span><span class="sxs-lookup"><span data-stu-id="cf45a-138">Select **Continue execution** if you do not want the breakpoint to pause execution.</span></span> <span data-ttu-id="cf45a-139">Cette option est active uniquement si vous avez sélectionné l’option **Afficher un message** .</span><span class="sxs-lookup"><span data-stu-id="cf45a-139">This option is active only if you have selected the **Print a Message** option.</span></span>  
  
3.  <span data-ttu-id="cf45a-140">Cliquez sur **OK** pour implémenter les modifications ou sur **Annuler** pour fermer sans appliquer les modifications.</span><span class="sxs-lookup"><span data-stu-id="cf45a-140">Click **OK** to implement the changes, or **Cancel** to exit without applying the changes.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cf45a-141">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="cf45a-141">See Also</span></span>  
 <span data-ttu-id="cf45a-142">[Spécifier une condition de point d'arrêt](specify-a-breakpoint-condition.md) </span><span class="sxs-lookup"><span data-stu-id="cf45a-142">[Specify a Breakpoint Condition](specify-a-breakpoint-condition.md) </span></span>  
 [<span data-ttu-id="cf45a-143">Spécifier un nombre d’accès</span><span class="sxs-lookup"><span data-stu-id="cf45a-143">Specify a Hit Count</span></span>](specify-a-hit-count.md)  
