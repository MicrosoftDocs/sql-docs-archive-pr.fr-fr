---
title: Créer des traces de profileur pour la relecture (Analysis Services) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- SQL Server Profiler, Analysis Services
- monitoring Analysis Services [SQL Server]
- replaying queries
- replaying discovers
- events [Analysis Services]
- replaying commands
- Profiler [SQL Server Profiler], Analysis Services
- performance [Analysis Services], replays
- traces [Analysis Services]
ms.assetid: 93b2fc46-7cfb-4ab5-abeb-1475a7d6f0f2
author: minewiskan
ms.author: owend
ms.openlocfilehash: 9822d9d2589decdde731da5f5888572962b0e612
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698808"
---
# <a name="create-profiler-traces-for-replay-analysis-services"></a><span data-ttu-id="aa818-102">Créer des traces de SQL Server Profiler pour la relecture (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="aa818-102">Create Profiler Traces for Replay (Analysis Services)</span></span>
  <span data-ttu-id="aa818-103">Pour relire les requêtes, les découvertes et les commandes qui sont envoyées par les utilisateurs à [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] doit collecter les événements requis.</span><span class="sxs-lookup"><span data-stu-id="aa818-103">To replay queries, discovers, and commands that are submitted by users to [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] must gather the required events.</span></span> <span data-ttu-id="aa818-104">Pour lancer la collecte de ces événements, les classes d’événements appropriées doivent être sélectionnées sous l’onglet **Sélection des événements** de la boîte de dialogue **Propriétés de la trace** .</span><span class="sxs-lookup"><span data-stu-id="aa818-104">In order to initiate collection of these events, appropriate event classes must be selected in the **Event Selection** tab of the **Trace Properties** dialog box.</span></span> <span data-ttu-id="aa818-105">Par exemple, si la classe d'événements Query Begin est sélectionnée, les événements qui contiennent des requêtes sont collectés et utilisés pour la relecture.</span><span class="sxs-lookup"><span data-stu-id="aa818-105">For example if the Query Begin event class is selected, events that contain queries are collected and used for replay.</span></span> <span data-ttu-id="aa818-106">De même, le fichier de trace contient suffisamment d'informations pour autoriser la relecture des transactions serveur dans un environnement distribué dans leur ordre d'origine.</span><span class="sxs-lookup"><span data-stu-id="aa818-106">Also, the trace file contains sufficient information to support replaying server transactions in a distributed environment in the original sequence of transactions.</span></span>  
  
## <a name="replay-for-queries"></a><span data-ttu-id="aa818-107">Relecture des requêtes</span><span class="sxs-lookup"><span data-stu-id="aa818-107">Replay for Queries</span></span>  
 <span data-ttu-id="aa818-108">Pour relire les requêtes, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] doit capturer les événements suivants :</span><span class="sxs-lookup"><span data-stu-id="aa818-108">To replay queries, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] must capture the following events:</span></span>  
  
-   <span data-ttu-id="aa818-109">Classe d’événements Audit Login avec toutes ses colonnes de données.</span><span class="sxs-lookup"><span data-stu-id="aa818-109">Audit Login event class with all its data columns.</span></span> <span data-ttu-id="aa818-110">Cette classe d'événements fournit des informations sur les utilisateurs qui se sont connectés et sur les paramètres de leurs sessions.</span><span class="sxs-lookup"><span data-stu-id="aa818-110">This event class provides information about which user logged in and about the session settings.</span></span> <span data-ttu-id="aa818-111">Le SPID (Server Process ID) fournit la référence à la session utilisateur.</span><span class="sxs-lookup"><span data-stu-id="aa818-111">The server process ID (SPID) provides the reference to the user session.</span></span> <span data-ttu-id="aa818-112">Pour plus d’informations, consultez [Colonnes de données Audit de sécurité](https://docs.microsoft.com/bi-reference/trace-events/security-audit-data-columns).</span><span class="sxs-lookup"><span data-stu-id="aa818-112">For more information, see [Security Audit Data Columns](https://docs.microsoft.com/bi-reference/trace-events/security-audit-data-columns).</span></span>  
  
-   <span data-ttu-id="aa818-113">Classe d’événements Query Begin avec toutes ses colonnes de données.</span><span class="sxs-lookup"><span data-stu-id="aa818-113">Query Begin event class with all its data columns.</span></span> <span data-ttu-id="aa818-114">Cette classe d’événements fournit des informations sur la requête qui a été soumise à [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa818-114">This event class provides information about the query that was submitted to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="aa818-115">La colonne Event Subclass fournit des informations sur le type de requête.</span><span class="sxs-lookup"><span data-stu-id="aa818-115">The Event Subclass column provides information about the type of query.</span></span> <span data-ttu-id="aa818-116">La colonne TextData fournit le texte réel de la requête.</span><span class="sxs-lookup"><span data-stu-id="aa818-116">The TextData column provides the actual text of the query.</span></span> <span data-ttu-id="aa818-117">La colonne RequestParameters fournit les paramètres des requêtes paramétrables, et la colonne RequestProperties fournit les propriétés des demandes XMLA (XML for Analysis).</span><span class="sxs-lookup"><span data-stu-id="aa818-117">The RequestParameters column provides the parameters for parameterized queries, and the RequestProperties column provides the properties of an XML for Analysis (XMLA) request.</span></span> <span data-ttu-id="aa818-118">Pour plus d’informations, consultez [Colonnes de données des événements de requêtes](https://docs.microsoft.com/bi-reference/trace-events/queries-events-data-columns).</span><span class="sxs-lookup"><span data-stu-id="aa818-118">For more information, see [Queries Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/queries-events-data-columns).</span></span>  
  
-   <span data-ttu-id="aa818-119">Classe d’événements Query End avec toutes ses colonnes de données.</span><span class="sxs-lookup"><span data-stu-id="aa818-119">Query End event class with all its data columns.</span></span> <span data-ttu-id="aa818-120">Cette classe d'événements vérifie l'état de l'exécution de la requête.</span><span class="sxs-lookup"><span data-stu-id="aa818-120">This event class verifies the status of the query execution.</span></span> <span data-ttu-id="aa818-121">Pour plus d’informations, consultez [Colonnes de données des événements de requêtes](https://docs.microsoft.com/bi-reference/trace-events/queries-events-data-columns).</span><span class="sxs-lookup"><span data-stu-id="aa818-121">For more information, see [Queries Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/queries-events-data-columns).</span></span>  
  
## <a name="replay-for-discovers"></a><span data-ttu-id="aa818-122">Relecture des découvertes</span><span class="sxs-lookup"><span data-stu-id="aa818-122">Replay for Discovers</span></span>  
 <span data-ttu-id="aa818-123">Pour relire les découvertes, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] doit capturer les événements suivants :</span><span class="sxs-lookup"><span data-stu-id="aa818-123">To replay discovers, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] must capture the following events:</span></span>  
  
-   <span data-ttu-id="aa818-124">Classe d’événements Audit Login avec toutes ses colonnes de données.</span><span class="sxs-lookup"><span data-stu-id="aa818-124">Audit Login event class with all its data columns.</span></span> <span data-ttu-id="aa818-125">Cette classe d'événements fournit des informations sur les utilisateurs qui se sont connectés et sur les paramètres de leurs sessions.</span><span class="sxs-lookup"><span data-stu-id="aa818-125">This event class provides information about which user logged in and about the session settings.</span></span> <span data-ttu-id="aa818-126">Le SPID fournit la référence à la session utilisateur.</span><span class="sxs-lookup"><span data-stu-id="aa818-126">The SPID provides the reference to the user session.</span></span> <span data-ttu-id="aa818-127">Pour plus d’informations, consultez [Colonnes de données Audit de sécurité](https://docs.microsoft.com/bi-reference/trace-events/security-audit-data-columns).</span><span class="sxs-lookup"><span data-stu-id="aa818-127">For more information, see [Security Audit Data Columns](https://docs.microsoft.com/bi-reference/trace-events/security-audit-data-columns).</span></span>  
  
-   <span data-ttu-id="aa818-128">Classe d’événements Discover Begin avec toutes ses colonnes de données.</span><span class="sxs-lookup"><span data-stu-id="aa818-128">Discover Begin event class with all its data columns.</span></span> <span data-ttu-id="aa818-129">La colonne TextData fournit la \<RequestType> partie de la demande Discover, et la colonne RequestProperties fournit la \<Properties> partie de la requête Discover.</span><span class="sxs-lookup"><span data-stu-id="aa818-129">The TextData column provides the \<RequestType> portion of the discover request, and the RequestProperties column provides the \<Properties> portion of the discover request.</span></span> <span data-ttu-id="aa818-130">La colonne EventSubclass fournit le type de découverte.</span><span class="sxs-lookup"><span data-stu-id="aa818-130">The EventSubclass column provides the discover type.</span></span> <span data-ttu-id="aa818-131">Pour plus d’informations, consultez [Colonnes de données des événements de découverte](https://docs.microsoft.com/bi-reference/trace-events/discover-events-data-columns).</span><span class="sxs-lookup"><span data-stu-id="aa818-131">For more information, see [Discover Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/discover-events-data-columns).</span></span>  
  
-   <span data-ttu-id="aa818-132">Classe d'événements Discover End avec toutes ses colonnes de données.</span><span class="sxs-lookup"><span data-stu-id="aa818-132">Discover End event class with all its data columns.</span></span> <span data-ttu-id="aa818-133">Cette classe d'événements vérifie l'état de la demande de découverte.</span><span class="sxs-lookup"><span data-stu-id="aa818-133">This event class verifies the status of the discover request.</span></span> <span data-ttu-id="aa818-134">Pour plus d’informations, consultez [Colonnes de données des événements de découverte](https://docs.microsoft.com/bi-reference/trace-events/discover-events-data-columns).</span><span class="sxs-lookup"><span data-stu-id="aa818-134">For more information, see [Discover Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/discover-events-data-columns).</span></span>  
  
## <a name="replay-for-commands"></a><span data-ttu-id="aa818-135">Relecture des commandes</span><span class="sxs-lookup"><span data-stu-id="aa818-135">Replay for Commands</span></span>  
 <span data-ttu-id="aa818-136">Pour relire les commandes, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] doit capturer les événements suivants :</span><span class="sxs-lookup"><span data-stu-id="aa818-136">To replay commands, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] must capture the following events:</span></span>  
  
-   <span data-ttu-id="aa818-137">Classe d’événements Command Begin avec toutes ses colonnes de données.</span><span class="sxs-lookup"><span data-stu-id="aa818-137">Command Begin event class with all its data columns.</span></span> <span data-ttu-id="aa818-138">La colonne TextData fournit les détails des commandes, par exemple le type du processus, l’ID de base de données et l’ID de cube.</span><span class="sxs-lookup"><span data-stu-id="aa818-138">The TextData column provides the command details, such as the process type, database ID, and cube ID.</span></span> <span data-ttu-id="aa818-139">La colonne RequestParameters fournit les paramètres des commandes paramétrables, et la colonne RequestProperties fournit les propriétés des demandes XMLA.</span><span class="sxs-lookup"><span data-stu-id="aa818-139">The RequestParameters column provides the parameters for parameterized command, and the RequestProperties column provides the properties of an XMLA request.</span></span> <span data-ttu-id="aa818-140">Pour plus d’informations, consultez [Colonnes de données des événements de commande](https://docs.microsoft.com/bi-reference/trace-events/command-events-data-columns).</span><span class="sxs-lookup"><span data-stu-id="aa818-140">For more information, see [Command Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/command-events-data-columns).</span></span>  
  
-   <span data-ttu-id="aa818-141">Classe d'événements Command End avec toutes ses colonnes de données.</span><span class="sxs-lookup"><span data-stu-id="aa818-141">Command End event class with all its data columns.</span></span> <span data-ttu-id="aa818-142">Cette classe d'événements vérifie l'état de la commande.</span><span class="sxs-lookup"><span data-stu-id="aa818-142">This event class verifies the status of the command.</span></span> <span data-ttu-id="aa818-143">Pour plus d’informations, consultez [Colonnes de données des événements de commande](https://docs.microsoft.com/bi-reference/trace-events/command-events-data-columns).</span><span class="sxs-lookup"><span data-stu-id="aa818-143">For more information, see [Command Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/command-events-data-columns).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="aa818-144">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="aa818-144">See Also</span></span>  
 <span data-ttu-id="aa818-145">[Événements de trace de Analysis Services](https://docs.microsoft.com/bi-reference/trace-events/analysis-services-trace-events) </span><span class="sxs-lookup"><span data-stu-id="aa818-145">[Analysis Services Trace Events](https://docs.microsoft.com/bi-reference/trace-events/analysis-services-trace-events) </span></span>  
 [<span data-ttu-id="aa818-146">Introduction à la surveillance d’Analysis Services à l’aide de SQL Server Profiler</span><span class="sxs-lookup"><span data-stu-id="aa818-146">Introduction to Monitoring Analysis Services with SQL Server Profiler</span></span>](introduction-to-monitoring-analysis-services-with-sql-server-profiler.md)  
  
  
