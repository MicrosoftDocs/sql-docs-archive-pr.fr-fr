---
title: Propriétés du pool de threads | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- PriorityRatio property
- threads [Analysis Services]
- MinThreads property
- NumThreads property
- MaxThreads property
- Concurrency property
ms.assetid: e2697bb6-6d3f-4621-b9fd-575ac39c2185
author: minewiskan
ms.author: owend
ms.openlocfilehash: 3a7c8ab1ae97cc00e7c46060db85fa48eff700ab
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87705528"
---
# <a name="thread-pool-properties"></a><span data-ttu-id="60cb8-102">Propriétés du pool de threads</span><span class="sxs-lookup"><span data-stu-id="60cb8-102">Thread Pool Properties</span></span>
  [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="60cb8-103">utilise le multithreading pour de nombreuses opérations, afin d’optimiser les performances globales du serveur en exécutant plusieurs travaux en parallèle.</span><span class="sxs-lookup"><span data-stu-id="60cb8-103">uses multi-threading for many operations, improving overall server performance by running multiple jobs in parallel.</span></span> <span data-ttu-id="60cb8-104">Pour gérer les threads plus efficacement, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilise des pools pour préallouer les threads et faciliter leur disponibilité pour le travail suivant.</span><span class="sxs-lookup"><span data-stu-id="60cb8-104">To manage threads more efficiently, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses thread pools to preallocate threads and facilitate thread availability for the next job.</span></span>

 <span data-ttu-id="60cb8-105">Chaque d'instance de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] possède son propre ensemble de pools de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-105">Each instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] maintains its own set of thread pools.</span></span> <span data-ttu-id="60cb8-106">Il existe des différences significatives dans la manière dont les instances tabulaires et multidimensionnelles utilisent les pools de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-106">There are significant differences in how tabular and multidimensional instances use thread pools.</span></span> <span data-ttu-id="60cb8-107">La différence la plus importante est que seules les solutions multidimensionnelles utilisent le `IOProcess` pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-107">The most important difference is that only multidimensional solutions use the `IOProcess` thread pool.</span></span> <span data-ttu-id="60cb8-108">Par conséquent, la propriété `PerNumaNode` décrite dans cette rubrique n'est pas significative pour les instances tabulaires.</span><span class="sxs-lookup"><span data-stu-id="60cb8-108">As such, the `PerNumaNode` property, described in this topic, is not meaningful for Tabular instances.</span></span>

 <span data-ttu-id="60cb8-109">Cette rubrique contient les sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="60cb8-109">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="60cb8-110">Gestion des threads dans Analysis Services</span><span class="sxs-lookup"><span data-stu-id="60cb8-110">Thread Management in Analysis Services</span></span>](#bkmk_threadarch)

-   [<span data-ttu-id="60cb8-111">Référence de propriété du pool de threads</span><span class="sxs-lookup"><span data-stu-id="60cb8-111">Thread Pool Property Reference</span></span>](#bkmk_propref)

-   [<span data-ttu-id="60cb8-112">Définir GroupAffinity sur des threads affinité sur des processeurs dans un groupe de processeurs</span><span class="sxs-lookup"><span data-stu-id="60cb8-112">Set GroupAffinity to affinitize threads to processors in a processor group</span></span>](#bkmk_groupaffinity)

-   [<span data-ttu-id="60cb8-113">Définir PerNumaNode pour configurer l'affinité des threads d'E/S aux processeurs dans un nœud NUMA</span><span class="sxs-lookup"><span data-stu-id="60cb8-113">Set PerNumaNode to affinitize IO threads to processors in a NUMA node</span></span>](#bkmk_pernumanode)

-   [<span data-ttu-id="60cb8-114">Déterminer les paramètres du pool de threads actuel</span><span class="sxs-lookup"><span data-stu-id="60cb8-114">Determine current thread pool settings</span></span>](#bkmk_currentsettings)

-   [<span data-ttu-id="60cb8-115">Propriétés dépendantes ou relatives</span><span class="sxs-lookup"><span data-stu-id="60cb8-115">Dependent or Related Properties</span></span>](#bkmk_related)

-   [<span data-ttu-id="60cb8-116">À propos de MSMDSRV.INI</span><span class="sxs-lookup"><span data-stu-id="60cb8-116">About MSMDSRV.INI</span></span>](#bkmk_msmdrsrvini)

> [!NOTE]
>  <span data-ttu-id="60cb8-117">Le déploiement tabulaire sur les systèmes NUMA n'est pas abordé dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="60cb8-117">Tabular deployment on NUMA systems is out of scope for this topic.</span></span> <span data-ttu-id="60cb8-118">Bien que les solutions tabulaires puissent être correctement déployées sur les systèmes NUMA, les caractéristiques des performances de la technologie de base de données en mémoire utilisée par les modèles tabulaires peuvent offrir des avantages limités sur les architectures fortement montées en charge.</span><span class="sxs-lookup"><span data-stu-id="60cb8-118">Although tabular solutions can be successfully deployed on NUMA systems, the performance characteristics of the in-memory database technology used by tabular models may show limited benefits on a highly scaled up architectures.</span></span> <span data-ttu-id="60cb8-119">Pour plus d’informations, consultez [Étude de cas Analysis Services : utilisation des modèles tabulaires dans les solutions commerciales à grande échelle](https://msdn.microsoft.com/library/dn751533.aspx) et [Besoins matériels d’une solution tabulaire](https://go.microsoft.com/fwlink/?LinkId=330359).</span><span class="sxs-lookup"><span data-stu-id="60cb8-119">For more information, see [Analysis Services Case Study: Using Tabular Models in Large-scale Commercial Solutions](https://msdn.microsoft.com/library/dn751533.aspx) and [Hardware Sizing a Tabular Solution](https://go.microsoft.com/fwlink/?LinkId=330359).</span></span>

##  <a name="thread-management-in-analysis-services"></a><a name="bkmk_threadarch"></a><span data-ttu-id="60cb8-120">Gestion des threads dans Analysis Services</span><span class="sxs-lookup"><span data-stu-id="60cb8-120">Thread Management in Analysis Services</span></span>
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="60cb8-121">utilise le multithreading pour tirer profit des ressources processeur disponibles en augmentant le nombre de tâches exécutées en parallèle.</span><span class="sxs-lookup"><span data-stu-id="60cb8-121">uses multi-threading to take advantage of the available CPU resources by increasing the number of tasks executing in parallel.</span></span> <span data-ttu-id="60cb8-122">Le moteur de stockage est multithread.</span><span class="sxs-lookup"><span data-stu-id="60cb8-122">The storage engine is multi-threaded.</span></span> <span data-ttu-id="60cb8-123">Les travaux multithread qui sont exécutés dans le moteur de stockage comprennent le traitement d'objets en parallèle ou la gestion de requêtes discrètes envoyées au moteur de stockage, ou encore le retour des valeurs de données demandées par une requête.</span><span class="sxs-lookup"><span data-stu-id="60cb8-123">Examples of multi-threaded jobs that execute within the storage engine include processing objects in parallel or handling discrete queries that have been pushed to the storage engine, or returning data values requested by a query.</span></span> <span data-ttu-id="60cb8-124">Le moteur de formule, en raison de la nature en série des calculs qu'il effectue, est monothread.</span><span class="sxs-lookup"><span data-stu-id="60cb8-124">The formula engine, due to the serial nature of the calculations it evaluates, is single threaded.</span></span> <span data-ttu-id="60cb8-125">Chaque requête s'exécute principalement sur un seul thread et interroge, et souvent attend, les données retournées par le moteur de stockage.</span><span class="sxs-lookup"><span data-stu-id="60cb8-125">Each query executes primarily on a single thread, requesting and often waiting for data returned by the storage engine.</span></span> <span data-ttu-id="60cb8-126">L'exécution des threads de requête est plus longue, et les threads sont libérés uniquement lorsque la totalité de la requête est terminée.</span><span class="sxs-lookup"><span data-stu-id="60cb8-126">Query threads have longer executions, and are released only after the entire query is completed.</span></span>

 <span data-ttu-id="60cb8-127">Par défaut, sur les versions [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et les versions ultérieures, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilise tous les processeurs logiques disponibles. Le nombre de processeurs peut atteindre 640 sur les systèmes exécutant des versions supérieures de Windows et SQL Server.</span><span class="sxs-lookup"><span data-stu-id="60cb8-127">By default, on versions [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] and later, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will use all available logical processors, up to 640 on systems running higher editions of Windows and SQL Server.</span></span> <span data-ttu-id="60cb8-128">Au démarrage, le processus msmdsrv.exe est attribué à un groupe de processeurs spécifique, mais les threads peuvent être planifiés ultérieurement sur n'importe quel processeur logique, dans tout groupe de processeurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-128">Upon start up, the msmdsrv.exe process will be assigned to a specific processor group, but over time threads can be scheduled on any logical processor, in any processor group.</span></span>

 <span data-ttu-id="60cb8-129">L'utilisation d'un grand nombre de processeurs peut avoir comme effet secondaire une dégradation des performances lorsque les charges de requête et de traitement sont distribuées sur un grand nombre de processeurs et la contention des structures de données partagées augmente.</span><span class="sxs-lookup"><span data-stu-id="60cb8-129">One side-effect of using a large number of processors is that you can sometimes experience performance degradation as query and processing loads are spread out across a large number of processors and contention for shared data structures increase.</span></span> <span data-ttu-id="60cb8-130">Cela peut se produire en particulier sur les systèmes haut de gamme qui utilisent l'architecture NUMA, mais également sur les systèmes non-NUMA exécutant plusieurs applications consommant de grandes quantités de données sur le même matériel.</span><span class="sxs-lookup"><span data-stu-id="60cb8-130">This can occur particularly on high-end systems that use NUMA architecture, but also on non-NUMA systems running multiple data intensive applications on the same hardware.</span></span>

 <span data-ttu-id="60cb8-131">Pour réduire ce problème, vous pouvez définir une affinité entre les types d'opérations [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] et un ensemble spécifique de processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-131">To alleviate this problem, you can set affinity between types of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] operations and a specific set of logical processors.</span></span> <span data-ttu-id="60cb8-132">La propriété `GroupAffinity` vous permet de créer des masques d'affinité personnalisés qui spécifient quelle ressource système utiliser pour chacun des types de pools de threads gérés par [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60cb8-132">The `GroupAffinity` property lets you create custom affinity masks that specify which system resource to use for each of the thread pool types managed by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>

 <span data-ttu-id="60cb8-133">Une affinité personnalisée peut être définie sur l'un des cinq pools de threads utilisés pour différentes charges de travail [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="60cb8-133">Custom affinity can be set on any of the five thread pools used for various [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] workloads:</span></span>

-   <span data-ttu-id="60cb8-134">**Analyse \ courte**  est un pool d'analyse pour les requêtes courtes.</span><span class="sxs-lookup"><span data-stu-id="60cb8-134">**Parsing \ Short**  is a parsing pool for short requests.</span></span> <span data-ttu-id="60cb8-135">Les requêtes qui tiennent dans un seul message réseau sont considérées comme courtes.</span><span class="sxs-lookup"><span data-stu-id="60cb8-135">Requests that fit within a single network message are considered short.</span></span>

-   <span data-ttu-id="60cb8-136">**Analyse \ longue**  est un pool d'analyse pour toutes les autres requêtes qui ne tiennent pas en un seul message réseau.</span><span class="sxs-lookup"><span data-stu-id="60cb8-136">**Parsing \ Long**  is a parsing pool for all other requests that do not fit within a single network message.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="60cb8-137">Un thread de l'un des pools d'analyse peut être utilisé pour exécuter une requête.</span><span class="sxs-lookup"><span data-stu-id="60cb8-137">A thread from either parsing pool can be used to execute a query.</span></span> <span data-ttu-id="60cb8-138">Les requêtes qui s'exécutent rapidement, comme les requêtes de découverte ou d'annulation rapides, sont parfois exécutées immédiatement et ne sont pas mises en file d'attente dans le pool de threads de requêtes.</span><span class="sxs-lookup"><span data-stu-id="60cb8-138">Queries that execute quickly, such as a fast Discover or Cancel request, are sometimes executed immediately rather than queued to the Query thread pool.</span></span>

-   <span data-ttu-id="60cb8-139">`Query`est le pool de threads qui exécute toutes les requêtes qui ne sont pas gérées par le pool de threads d’analyse.</span><span class="sxs-lookup"><span data-stu-id="60cb8-139">`Query` is the thread pool that executes all requests that are not handled by the parsing thread pool.</span></span> <span data-ttu-id="60cb8-140">Les threads dans ce pool de threads exécuteront tous les types d'opérations, notamment les découvertes et les commandes MDX, DAX, DMX et DDL.</span><span class="sxs-lookup"><span data-stu-id="60cb8-140">Threads in this thread pool will execute all types of operations, such as Discovers, MDX, DAX, DMX, and DDL commands.</span></span>

-   <span data-ttu-id="60cb8-141">`IOProcess`est utilisé pour les travaux d’e/s associés aux requêtes du moteur de stockage dans le moteur multidimensionnel.</span><span class="sxs-lookup"><span data-stu-id="60cb8-141">`IOProcess` is used for IO jobs associated with storage engine queries in the multidimensional engine.</span></span> <span data-ttu-id="60cb8-142">Le travail exécuté par ces threads n'a normalement pas de dépendances sur d'autres threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-142">The work done by these threads is expected to not have dependencies on other threads.</span></span> <span data-ttu-id="60cb8-143">Ces threads analysent généralement un seul segment d'une partition et filtrent et agrègent les données du segment.</span><span class="sxs-lookup"><span data-stu-id="60cb8-143">These threads will typically be scanning a single segment of a partition and performing filtering and aggregation on the segment data.</span></span> <span data-ttu-id="60cb8-144">`IOProcess`les threads sont particulièrement sensibles aux configurations matérielles NUMA.</span><span class="sxs-lookup"><span data-stu-id="60cb8-144">`IOProcess` threads are particularly sensitive to NUMA hardware configurations.</span></span> <span data-ttu-id="60cb8-145">Par conséquent, ce pool de threads dispose de la `PerNumaNode` propriété de configuration qui peut être utilisée pour optimiser les performances si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="60cb8-145">As such, this thread pool has the `PerNumaNode` configuration property which can be used to tune the performance if needed.</span></span>

-   <span data-ttu-id="60cb8-146">`Process`est destiné aux travaux du moteur de stockage de plus longue durée, y compris les agrégations, les indexations et les opérations de validation.</span><span class="sxs-lookup"><span data-stu-id="60cb8-146">`Process` is for longer duration storage engine jobs, including aggregations, indexing, and commit operations.</span></span> <span data-ttu-id="60cb8-147">Le mode de stockage ROLAP utilise également des threads du pool de threads Processing.</span><span class="sxs-lookup"><span data-stu-id="60cb8-147">ROLAP storage mode also uses threads from the Processing thread pool.</span></span>

> [!NOTE]
>  <span data-ttu-id="60cb8-148">Bien que Msmdsrv.ini ait des paramètres de pool de threads dans la `VertiPaq` section `VertiPaq` \\ `ThreadPool` \\ `GroupAffinity` et qu' `ThreadPool` \\ `CPUs` ils ne soient volontairement pas documentés.</span><span class="sxs-lookup"><span data-stu-id="60cb8-148">Although Msmdsrv.ini has thread pool settings in the `VertiPaq` section, `VertiPaq`\\`ThreadPool`\\`GroupAffinity` and `ThreadPool`\\`CPUs` are purposely undocumented.</span></span> <span data-ttu-id="60cb8-149">En effet, ces propriétés sont actuellement inopérantes et sont réservés à une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="60cb8-149">These properties are currently inoperative and are reserved for future use.</span></span>

 <span data-ttu-id="60cb8-150">Pour traiter les demandes, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] peut dépasser la limite maximale de pool de threads, demandant des threads supplémentaires s'ils sont nécessaires pour exécuter le travail.</span><span class="sxs-lookup"><span data-stu-id="60cb8-150">To service requests, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] may exceed the maximum thread pool limit, requesting additional threads if they are necessary to perform the work.</span></span> <span data-ttu-id="60cb8-151">Cependant, lorsqu'un thread termine d'exécuter sa tâche, si le nombre de threads actuel est supérieur à la limite maximale, le thread est simplement terminé, plutôt qu'être retourné au pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-151">However, when a thread finishes executing its task, if the current count of threads is greater than the maximum limit, the thread is simply ended, rather than returned to the thread pool.</span></span>

> [!NOTE]
>  <span data-ttu-id="60cb8-152">Le dépassement du nombre maximal de pools de threads est une protection appelée uniquement lorsque certaines conditions d'interblocage se produisent.</span><span class="sxs-lookup"><span data-stu-id="60cb8-152">Exceeding the maximum thread pool count is a protection invoked only when certain deadlock conditions arise.</span></span> <span data-ttu-id="60cb8-153">Pour éviter la perte de contrôle de la création de threads au-delà du nombre maximal, les threads sont créés progressivement (après un délai court) après que le nombre maximal a été atteint.</span><span class="sxs-lookup"><span data-stu-id="60cb8-153">To prevent runaway thread creation beyond the maximum, threads are created gradually (after a short delay) after the maximum limit has been reached.</span></span> <span data-ttu-id="60cb8-154">Le dépassement du nombre maximal de threads peut entraîner un ralentissement de l'exécution des tâches.</span><span class="sxs-lookup"><span data-stu-id="60cb8-154">Exceeding maximum thread count can lead to a slowdown in task execution.</span></span> <span data-ttu-id="60cb8-155">Si les compteurs de performance indiquent que le nombre de threads dépasse régulièrement la taille maximale du pool de threads, il peut s'agir d'un indicateur de tailles de pool de threads trop petites pour le degré de concurrence actuellement demandé au système.</span><span class="sxs-lookup"><span data-stu-id="60cb8-155">If the performance counters show the thread counts are regularly beyond the thread pool maximum size, you might consider that as an indicator that thread pool sizes are too small for the degree of concurrency being requested from the system.</span></span>

 <span data-ttu-id="60cb8-156">Par défaut, la taille du pool de threads est déterminée par [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]en fonction du nombre de cœurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-156">By default, thread pool size is determined by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and is based on the number of cores.</span></span> <span data-ttu-id="60cb8-157">Vous pouvez observer les valeurs par défaut sélectionnées en consultant le fichier msmdsrv.log après le démarrage du serveur.</span><span class="sxs-lookup"><span data-stu-id="60cb8-157">You can observe the selected default values by examining the msmdsrv.log file after server startup.</span></span> <span data-ttu-id="60cb8-158">Pour vous exercer au réglage des performances, vous pouvez choisir d'augmenter la taille du pool de threads et modifier d'autres propriétés, pour améliorer les performances des requêtes et des traitements.</span><span class="sxs-lookup"><span data-stu-id="60cb8-158">As a performance tuning exercise, you might choose to increase the size of the thread pool, as well as other properties, to improve query or processing performance.</span></span>

##  <a name="thread-pool-property-reference"></a><a name="bkmk_propref"></a><span data-ttu-id="60cb8-159">Référence de propriété du pool de threads</span><span class="sxs-lookup"><span data-stu-id="60cb8-159">Thread Pool Property Reference</span></span>
 <span data-ttu-id="60cb8-160">Cette section décrit les propriétés de pool de threads qui se trouvent dans le fichier msmdsrv.ini de chaque instance de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-160">This section describes the thread pool properties found in the msmdsrv.ini file of each [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="60cb8-161">Un sous-ensemble de ces propriétés apparaît également dans SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="60cb8-161">A subset of these properties also appears in SQL Server Management Studio.</span></span>

 <span data-ttu-id="60cb8-162">Les propriétés sont répertoriées par ordre alphabétique.</span><span class="sxs-lookup"><span data-stu-id="60cb8-162">Properties are listed in alphabetical order.</span></span>

|<span data-ttu-id="60cb8-163">Nom</span><span class="sxs-lookup"><span data-stu-id="60cb8-163">Name</span></span>|<span data-ttu-id="60cb8-164">Type</span><span class="sxs-lookup"><span data-stu-id="60cb8-164">Type</span></span>|<span data-ttu-id="60cb8-165">Description</span><span class="sxs-lookup"><span data-stu-id="60cb8-165">Description</span></span>|<span data-ttu-id="60cb8-166">Default</span><span class="sxs-lookup"><span data-stu-id="60cb8-166">Default</span></span>|<span data-ttu-id="60cb8-167">Assistance</span><span class="sxs-lookup"><span data-stu-id="60cb8-167">Guidance</span></span>|
|----------|----------|-----------------|-------------|--------------|
|`IOProcess` \ `Concurrency`|<span data-ttu-id="60cb8-168">double</span><span class="sxs-lookup"><span data-stu-id="60cb8-168">double</span></span>|<span data-ttu-id="60cb8-169">Valeur à virgule flottante double précision qui détermine l'algorithme pour définir une cible sur le nombre de threads pouvant être mis en file d'attente en même temps.</span><span class="sxs-lookup"><span data-stu-id="60cb8-169">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="60cb8-170">2.0</span><span class="sxs-lookup"><span data-stu-id="60cb8-170">2.0</span></span>|<span data-ttu-id="60cb8-171">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-171">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="60cb8-172">La concurrence est utilisée pour initialiser les pools de threads qui sont implémentés avec des ports de terminaison d'E/S dans Windows.</span><span class="sxs-lookup"><span data-stu-id="60cb8-172">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="60cb8-173">Consultez [Ports de terminaison d’E/S](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-173">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span><br /><br /> <span data-ttu-id="60cb8-174">S'applique aux modèles multidimensionnels uniquement.</span><span class="sxs-lookup"><span data-stu-id="60cb8-174">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `GroupAffinity`|<span data-ttu-id="60cb8-175">string</span><span class="sxs-lookup"><span data-stu-id="60cb8-175">string</span></span>|<span data-ttu-id="60cb8-176">Tableau de valeurs hexadécimales qui correspondent aux groupes de processeurs sur le système, utilisé pour définir l'affinité des threads dans le pool de threads IOProcess avec des processeurs logiques dans chaque groupe de processeurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-176">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of threads in the IOProcess thread pool to logical processors in each processor group.</span></span>|<span data-ttu-id="60cb8-177">aucun</span><span class="sxs-lookup"><span data-stu-id="60cb8-177">none</span></span>|<span data-ttu-id="60cb8-178">Vous pouvez utiliser cette propriété pour créer des affinités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="60cb8-178">You can use this property to create custom affinities.</span></span> <span data-ttu-id="60cb8-179">La propriété est vide par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-179">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="60cb8-180">Consultez [Définir GroupAffinity pour configurer l'affinité des threads à des processeurs dans un groupe de processeurs](#bkmk_groupaffinity) pour plus d'informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-180">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span><br /><br /> <span data-ttu-id="60cb8-181">S'applique aux modèles multidimensionnels uniquement.</span><span class="sxs-lookup"><span data-stu-id="60cb8-181">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `MaxThreads`|<span data-ttu-id="60cb8-182">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-182">int</span></span>|<span data-ttu-id="60cb8-183">Nombre entier signé 32 bits qui spécifie le nombre maximal de threads à inclure dans le pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-183">A signed 32-bit integer that specifies the maximum number of threads to include in the thread pool.</span></span>|<span data-ttu-id="60cb8-184">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-184">0</span></span>|<span data-ttu-id="60cb8-185">0 indique que le serveur détermine les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-185">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="60cb8-186">Par défaut, le serveur définit cette valeur sur 64, ou 10 fois le nombre de processeurs logiques, la valeur la plus élevée étant applicable.</span><span class="sxs-lookup"><span data-stu-id="60cb8-186">By default, the server either sets this value to 64, or to 10 times the number of logical processors, whichever is higher.</span></span> <span data-ttu-id="60cb8-187">Par exemple, sur un système 4 processeurs avec hyperthreading, la taille maximale du pool de threads est 80 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-187">For example, on a 4-core system with hyperthreading, the thread pool maximum is 80 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-188">Si vous attribuez à cette valeur une valeur négative, le serveur multiplie cette valeur par le nombre de processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-188">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="60cb8-189">Par exemple, si vous indiquez -10 sur un serveur qui possède 32 processeurs logiques, le maximum est 320 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-189">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-190">La valeur maximale dépend des processeurs disponibles en fonction des masques d'affinité personnalisés définis précédemment.</span><span class="sxs-lookup"><span data-stu-id="60cb8-190">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="60cb8-191">Par exemple, si vous avez déjà défini l'affinité du pool de threads pour utiliser 8 processeurs sur 32, et si vous définissez maintenant MaxThreads sur -10, alors la limite supérieure du pool de threads sera égale à 10 fois 8, soit 80 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-191">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set MaxThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-192">Les valeurs réelles utilisées pour cette propriété de pool de threads sont écrites dans le fichier journal msmdsrv au démarrage du service.</span><span class="sxs-lookup"><span data-stu-id="60cb8-192">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="60cb8-193">Pour plus d'informations sur le réglage des paramètres de pool de threads, consultez [Guide des opérations d'Analysis Services](https://msdn.microsoft.com/library/hh226085.aspx).</span><span class="sxs-lookup"><span data-stu-id="60cb8-193">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span><br /><br /> <span data-ttu-id="60cb8-194">S'applique aux modèles multidimensionnels uniquement.</span><span class="sxs-lookup"><span data-stu-id="60cb8-194">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `MinThreads`|<span data-ttu-id="60cb8-195">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-195">int</span></span>|<span data-ttu-id="60cb8-196">Nombre entier signé 32 bits qui spécifie le nombre minimal de threads à préallouer pour le pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-196">A signed 32-bit integer that specifies the minimum number of threads to preallocate for the thread pool.</span></span>|<span data-ttu-id="60cb8-197">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-197">0</span></span>|<span data-ttu-id="60cb8-198">0 indique que le serveur détermine les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-198">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="60cb8-199">La valeur minimale par défaut est 1.</span><span class="sxs-lookup"><span data-stu-id="60cb8-199">By default, the minimum is 1.</span></span><br /><br /> <span data-ttu-id="60cb8-200">Si vous attribuez à cette valeur une valeur négative, le serveur multiplie cette valeur par le nombre de processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-200">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span><br /><br /> <span data-ttu-id="60cb8-201">Les valeurs réelles utilisées pour cette propriété de pool de threads sont écrites dans le fichier journal msmdsrv au démarrage du service.</span><span class="sxs-lookup"><span data-stu-id="60cb8-201">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="60cb8-202">Pour plus d'informations sur le réglage des paramètres de pool de threads, consultez [Guide des opérations d'Analysis Services](https://msdn.microsoft.com/library/hh226085.aspx).</span><span class="sxs-lookup"><span data-stu-id="60cb8-202">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span><br /><br /> <span data-ttu-id="60cb8-203">S'applique aux modèles multidimensionnels uniquement.</span><span class="sxs-lookup"><span data-stu-id="60cb8-203">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `PerNumaNode`|<span data-ttu-id="60cb8-204">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-204">int</span></span>|<span data-ttu-id="60cb8-205">Nombre entier signé 32 bits qui détermine le nombre de pools de threads créés pour le processus msmdsrv.</span><span class="sxs-lookup"><span data-stu-id="60cb8-205">A signed 32-bit integer that determines the number of thread pools created for the msmdsrv process.</span></span>|<span data-ttu-id="60cb8-206">-1</span><span class="sxs-lookup"><span data-stu-id="60cb8-206">-1</span></span>|<span data-ttu-id="60cb8-207">Les valeurs valides sont -1, 0, 1, 2</span><span class="sxs-lookup"><span data-stu-id="60cb8-207">Valid values are -1, 0, 1, 2</span></span><br /><br /> <span data-ttu-id="60cb8-208">-1 = Le serveur sélectionne une stratégie de pool de threads d'E/S différente en fonction du nombre de nœuds NUMA.</span><span class="sxs-lookup"><span data-stu-id="60cb8-208">-1 = The server selects a different IO Thread Pool strategy based on the number of NUMA nodes.</span></span> <span data-ttu-id="60cb8-209">Sur des systèmes comportant moins de 4 nœuds NUMA, le comportement du serveur est identique à 0 (un pool de threads IOProcess est créé pour le système).</span><span class="sxs-lookup"><span data-stu-id="60cb8-209">On systems having fewer than 4 NUMA nodes, the server behavior is the same as 0 (one IOProcess thread pool is created for the system).</span></span> <span data-ttu-id="60cb8-210">Sur des systèmes comportant 4 nœuds ou plus, le comportement est identique à 1 (des pools de threads IOProcess sont créés sur chaque nœud).</span><span class="sxs-lookup"><span data-stu-id="60cb8-210">On systems having 4 or more nodes, the behavior is the same as 1 (IOProcess thread pools are created for each node).</span></span><br /><br /> <span data-ttu-id="60cb8-211">0 = Désactive par pools de threads de nœud NUMA de sorte qu'il n'y ait qu'un seul pool de threads IOProcess utilisé par le processus msmdsrv.exe.</span><span class="sxs-lookup"><span data-stu-id="60cb8-211">0 = Disables per NUMA node thread pools so that there is only one IOProcess thread pool used by the msmdsrv.exe process.</span></span><br /><br /> <span data-ttu-id="60cb8-212">1 = Active un seul pool de threads IOProcess par nœud NUMA.</span><span class="sxs-lookup"><span data-stu-id="60cb8-212">1 = Enables one IOProcess thread pool per NUMA node.</span></span><br /><br /> <span data-ttu-id="60cb8-213">2 = Un seul pool de threads IOProcess par processeur logique.</span><span class="sxs-lookup"><span data-stu-id="60cb8-213">2 = One IOProcess thread pool per logical processor.</span></span> <span data-ttu-id="60cb8-214">Les threads dans chaque pool de threads sont associés au nœud NUMA du processeur logique, avec le processeur idéal défini sur le processeur logique.</span><span class="sxs-lookup"><span data-stu-id="60cb8-214">Threads in each thread pool are affinitized to the NUMA node of the logical processor, with the ideal processor set to the logical processor.</span></span><br /><br /> <span data-ttu-id="60cb8-215">Consultez [Définir PerNumaNode pour configurer l'affinité des threads d'E/S aux processeurs dans un nœud NUMA](#bkmk_pernumanode) pour plus d'informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-215">See [Set PerNumaNode to affinitize IO threads to processors in a NUMA node](#bkmk_pernumanode) for details.</span></span><br /><br /> <span data-ttu-id="60cb8-216">S'applique aux modèles multidimensionnels uniquement.</span><span class="sxs-lookup"><span data-stu-id="60cb8-216">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `PriorityRatio`|<span data-ttu-id="60cb8-217">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-217">int</span></span>|<span data-ttu-id="60cb8-218">Nombre entier signé 32 bits pouvant être utilisé pour vous assurer que des threads avec une priorité plus faible sont parfois exécutés même lorsqu'une file d'attente de priorité plus élevée contient des éléments.</span><span class="sxs-lookup"><span data-stu-id="60cb8-218">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="60cb8-219">2</span><span class="sxs-lookup"><span data-stu-id="60cb8-219">2</span></span>|<span data-ttu-id="60cb8-220">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-220">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="60cb8-221">S'applique aux modèles multidimensionnels uniquement.</span><span class="sxs-lookup"><span data-stu-id="60cb8-221">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `StackSizeKB`|<span data-ttu-id="60cb8-222">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-222">int</span></span>|<span data-ttu-id="60cb8-223">Nombre entier signé 32 bits pouvant être utilisé pour ajuster l'allocation de mémoire lors de l'exécution du thread.</span><span class="sxs-lookup"><span data-stu-id="60cb8-223">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="60cb8-224">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-224">0</span></span>|<span data-ttu-id="60cb8-225">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-225">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="60cb8-226">S'applique aux modèles multidimensionnels uniquement.</span><span class="sxs-lookup"><span data-stu-id="60cb8-226">Applies to multidimensional models only.</span></span>|
|<span data-ttu-id="60cb8-227">**Analyse**  \ `Long` \ `Concurrency`</span><span class="sxs-lookup"><span data-stu-id="60cb8-227">**Parsing**  \ `Long` \ `Concurrency`</span></span>|<span data-ttu-id="60cb8-228">double</span><span class="sxs-lookup"><span data-stu-id="60cb8-228">double</span></span>|<span data-ttu-id="60cb8-229">Valeur à virgule flottante double précision qui détermine l'algorithme pour définir une cible sur le nombre de threads pouvant être mis en file d'attente en même temps.</span><span class="sxs-lookup"><span data-stu-id="60cb8-229">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="60cb8-230">2.0</span><span class="sxs-lookup"><span data-stu-id="60cb8-230">2.0</span></span>|<span data-ttu-id="60cb8-231">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-231">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="60cb8-232">La concurrence est utilisée pour initialiser les pools de threads qui sont implémentés avec des ports de terminaison d'E/S dans Windows.</span><span class="sxs-lookup"><span data-stu-id="60cb8-232">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="60cb8-233">Consultez [Ports de terminaison d’E/S](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-233">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span>|
|<span data-ttu-id="60cb8-234">**Analyse**  \ `Long` \ `GroupAffinity`</span><span class="sxs-lookup"><span data-stu-id="60cb8-234">**Parsing**  \ `Long` \ `GroupAffinity`</span></span>|<span data-ttu-id="60cb8-235">string</span><span class="sxs-lookup"><span data-stu-id="60cb8-235">string</span></span>|<span data-ttu-id="60cb8-236">Tableau de valeurs hexadécimales qui correspondent aux groupes de processeurs sur le système, utilisé pour définir l'affinité des threads d'analyse avec des processeurs logiques dans chaque groupe de processeurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-236">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of parsing threads to logical processors in each processor group.</span></span>|<span data-ttu-id="60cb8-237">aucun</span><span class="sxs-lookup"><span data-stu-id="60cb8-237">none</span></span>|<span data-ttu-id="60cb8-238">Vous pouvez utiliser cette propriété pour créer des affinités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="60cb8-238">You can use this property to create custom affinities.</span></span> <span data-ttu-id="60cb8-239">La propriété est vide par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-239">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="60cb8-240">Consultez [Définir GroupAffinity pour configurer l'affinité des threads à des processeurs dans un groupe de processeurs](#bkmk_groupaffinity) pour plus d'informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-240">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span>|
|<span data-ttu-id="60cb8-241">**Analyse**  \ `Long` \ `NumThreads`</span><span class="sxs-lookup"><span data-stu-id="60cb8-241">**Parsing**  \ `Long` \ `NumThreads`</span></span>|<span data-ttu-id="60cb8-242">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-242">int</span></span>|<span data-ttu-id="60cb8-243">Propriété dont la valeur est un entier 32 bits signé qui définit le nombre de threads qu'il est possible de créer pour des commandes longues.</span><span class="sxs-lookup"><span data-stu-id="60cb8-243">A signed 32-bit integer property that defines the number of threads that can be created for long commands.</span></span>|<span data-ttu-id="60cb8-244">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-244">0</span></span>|<span data-ttu-id="60cb8-245">0 indique que ce serveur détermine les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-245">0 indicates that the server determines the defaults.</span></span> <span data-ttu-id="60cb8-246">Le comportement par défaut consiste à définir `NumThreads` à une valeur absolue de 4 ou 2 fois le nombre de processeurs logiques, la valeur la plus élevée étant applicable.</span><span class="sxs-lookup"><span data-stu-id="60cb8-246">The default behavior is to set `NumThreads` to an absolute value of 4, or 2 times the number of logical processors, whichever is higher.</span></span><br /><br /> <span data-ttu-id="60cb8-247">Si vous attribuez à cette valeur une valeur négative, le serveur multiplie cette valeur par le nombre de processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-247">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="60cb8-248">Par exemple, si vous indiquez -10 sur un serveur qui possède 32 processeurs logiques, le maximum est 320 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-248">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-249">La valeur maximale dépend des processeurs disponibles en fonction des masques d'affinité personnalisés définis précédemment.</span><span class="sxs-lookup"><span data-stu-id="60cb8-249">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="60cb8-250">Par exemple, si vous avez déjà défini l'affinité du pool de threads pour utiliser 8 processeurs sur 32, et si vous définissez maintenant NumThreads sur -10, alors la limite supérieure du pool de threads sera égale à 10 fois 8, soit 80 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-250">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set NumThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-251">Les valeurs réelles utilisées pour cette propriété de pool de threads sont écrites dans le fichier journal msmdsrv au démarrage du service.</span><span class="sxs-lookup"><span data-stu-id="60cb8-251">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span>|
|<span data-ttu-id="60cb8-252">**Analyse**  \ `Long` \ `PriorityRatio`</span><span class="sxs-lookup"><span data-stu-id="60cb8-252">**Parsing**  \ `Long` \ `PriorityRatio`</span></span>|<span data-ttu-id="60cb8-253">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-253">int</span></span>|<span data-ttu-id="60cb8-254">Nombre entier signé 32 bits pouvant être utilisé pour vous assurer que des threads avec une priorité plus faible sont parfois exécutés même lorsqu'une file d'attente de priorité plus élevée contient des éléments.</span><span class="sxs-lookup"><span data-stu-id="60cb8-254">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="60cb8-255">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-255">0</span></span>|<span data-ttu-id="60cb8-256">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-256">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|<span data-ttu-id="60cb8-257">**Analyse**  \ `Long` \ `StackSizeKB`</span><span class="sxs-lookup"><span data-stu-id="60cb8-257">**Parsing**  \ `Long` \ `StackSizeKB`</span></span>|<span data-ttu-id="60cb8-258">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-258">int</span></span>|<span data-ttu-id="60cb8-259">Nombre entier signé 32 bits pouvant être utilisé pour ajuster l'allocation de mémoire lors de l'exécution du thread.</span><span class="sxs-lookup"><span data-stu-id="60cb8-259">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="60cb8-260">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-260">0</span></span>|<span data-ttu-id="60cb8-261">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-261">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|<span data-ttu-id="60cb8-262">**Analyse**  \ `Short` \ `Concurrency`</span><span class="sxs-lookup"><span data-stu-id="60cb8-262">**Parsing**  \ `Short` \ `Concurrency`</span></span>|<span data-ttu-id="60cb8-263">double</span><span class="sxs-lookup"><span data-stu-id="60cb8-263">double</span></span>|<span data-ttu-id="60cb8-264">Valeur à virgule flottante double précision qui détermine l'algorithme pour définir une cible sur le nombre de threads pouvant être mis en file d'attente en même temps.</span><span class="sxs-lookup"><span data-stu-id="60cb8-264">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="60cb8-265">2.0</span><span class="sxs-lookup"><span data-stu-id="60cb8-265">2.0</span></span>|<span data-ttu-id="60cb8-266">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-266">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="60cb8-267">La concurrence est utilisée pour initialiser les pools de threads qui sont implémentés avec des ports de terminaison d'E/S dans Windows.</span><span class="sxs-lookup"><span data-stu-id="60cb8-267">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="60cb8-268">Consultez [Ports de terminaison d’E/S](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-268">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span>|
|<span data-ttu-id="60cb8-269">**Analyse**  \ `Short` \ `GroupAffinity`</span><span class="sxs-lookup"><span data-stu-id="60cb8-269">**Parsing**  \ `Short` \ `GroupAffinity`</span></span>|<span data-ttu-id="60cb8-270">string</span><span class="sxs-lookup"><span data-stu-id="60cb8-270">string</span></span>|<span data-ttu-id="60cb8-271">Tableau de valeurs hexadécimales qui correspondent aux groupes de processeurs sur le système, utilisé pour définir l'affinité des threads d'analyse avec des processeurs logiques dans chaque groupe de processeurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-271">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of parsing threads to logical processors in each processor group.</span></span>|<span data-ttu-id="60cb8-272">aucun</span><span class="sxs-lookup"><span data-stu-id="60cb8-272">none</span></span>|<span data-ttu-id="60cb8-273">Vous pouvez utiliser cette propriété pour créer des affinités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="60cb8-273">You can use this property to create custom affinities.</span></span> <span data-ttu-id="60cb8-274">La propriété est vide par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-274">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="60cb8-275">Consultez [Définir GroupAffinity pour configurer l'affinité des threads à des processeurs dans un groupe de processeurs](#bkmk_groupaffinity) pour plus d'informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-275">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span>|
|<span data-ttu-id="60cb8-276">**Analyse**  \ `Short` \ `NumThreads`</span><span class="sxs-lookup"><span data-stu-id="60cb8-276">**Parsing**  \ `Short` \ `NumThreads`</span></span>|<span data-ttu-id="60cb8-277">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-277">int</span></span>|<span data-ttu-id="60cb8-278">Propriété dont la valeur est un entier 32 bits signé qui définit le nombre de threads qu'il est possible de créer pour des commandes courtes.</span><span class="sxs-lookup"><span data-stu-id="60cb8-278">A signed 32-bit integer property that defines the number of threads that can be created for short commands.</span></span>|<span data-ttu-id="60cb8-279">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-279">0</span></span>|<span data-ttu-id="60cb8-280">0 indique que ce serveur détermine les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-280">0 indicates that the server determines the defaults.</span></span> <span data-ttu-id="60cb8-281">Le comportement par défaut consiste à définir `NumThreads` à une valeur absolue de 4 ou 2 fois le nombre de processeurs logiques, la valeur la plus élevée étant applicable.</span><span class="sxs-lookup"><span data-stu-id="60cb8-281">The default behavior is to set `NumThreads` to an absolute value of 4, or 2 times the number of logical processors, whichever is higher.</span></span><br /><br /> <span data-ttu-id="60cb8-282">Si vous attribuez à cette valeur une valeur négative, le serveur multiplie cette valeur par le nombre de processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-282">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="60cb8-283">Par exemple, si vous indiquez -10 sur un serveur qui possède 32 processeurs logiques, le maximum est 320 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-283">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-284">La valeur maximale dépend des processeurs disponibles en fonction des masques d'affinité personnalisés définis précédemment.</span><span class="sxs-lookup"><span data-stu-id="60cb8-284">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="60cb8-285">Par exemple, si vous avez déjà défini l'affinité du pool de threads pour utiliser 8 processeurs sur 32, et si vous définissez maintenant NumThreads sur -10, alors la limite supérieure du pool de threads sera égale à 10 fois 8, soit 80 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-285">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set NumThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-286">Les valeurs réelles utilisées pour cette propriété de pool de threads sont écrites dans le fichier journal msmdsrv au démarrage du service.</span><span class="sxs-lookup"><span data-stu-id="60cb8-286">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span>|
|<span data-ttu-id="60cb8-287">**Analyse**  \ `Short` \ `PriorityRatio`</span><span class="sxs-lookup"><span data-stu-id="60cb8-287">**Parsing**  \ `Short` \ `PriorityRatio`</span></span>|<span data-ttu-id="60cb8-288">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-288">int</span></span>|<span data-ttu-id="60cb8-289">Nombre entier signé 32 bits pouvant être utilisé pour vous assurer que des threads avec une priorité plus faible sont parfois exécutés même lorsqu'une file d'attente de priorité plus élevée contient des éléments.</span><span class="sxs-lookup"><span data-stu-id="60cb8-289">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="60cb8-290">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-290">0</span></span>|<span data-ttu-id="60cb8-291">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-291">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|<span data-ttu-id="60cb8-292">**Analyse**  \ `Short` \ `StackSizeKB`</span><span class="sxs-lookup"><span data-stu-id="60cb8-292">**Parsing**  \ `Short` \ `StackSizeKB`</span></span>|<span data-ttu-id="60cb8-293">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-293">int</span></span>|<span data-ttu-id="60cb8-294">Nombre entier signé 32 bits pouvant être utilisé pour ajuster l'allocation de mémoire lors de l'exécution du thread.</span><span class="sxs-lookup"><span data-stu-id="60cb8-294">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="60cb8-295">64 \* processeurs logiques</span><span class="sxs-lookup"><span data-stu-id="60cb8-295">64 \* logical processors</span></span>|<span data-ttu-id="60cb8-296">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-296">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|`Process` \ `Concurrency`|<span data-ttu-id="60cb8-297">double</span><span class="sxs-lookup"><span data-stu-id="60cb8-297">double</span></span>|<span data-ttu-id="60cb8-298">Valeur à virgule flottante double précision qui détermine l'algorithme pour définir une cible sur le nombre de threads pouvant être mis en file d'attente en même temps.</span><span class="sxs-lookup"><span data-stu-id="60cb8-298">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="60cb8-299">2.0</span><span class="sxs-lookup"><span data-stu-id="60cb8-299">2.0</span></span>|<span data-ttu-id="60cb8-300">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-300">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="60cb8-301">La concurrence est utilisée pour initialiser les pools de threads qui sont implémentés avec des ports de terminaison d'E/S dans Windows.</span><span class="sxs-lookup"><span data-stu-id="60cb8-301">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="60cb8-302">Consultez [Ports de terminaison d’E/S](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-302">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span>|
|`Process` \ `GroupAffinity`|<span data-ttu-id="60cb8-303">string</span><span class="sxs-lookup"><span data-stu-id="60cb8-303">string</span></span>|<span data-ttu-id="60cb8-304">Tableau de valeurs hexadécimales qui correspondent aux groupes de processeurs sur le système, utilisé pour définir l'affinité des threads de traitement avec des processeurs logiques dans chaque groupe de processeurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-304">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of processing threads to logical processors in each processor group.</span></span>|<span data-ttu-id="60cb8-305">aucun</span><span class="sxs-lookup"><span data-stu-id="60cb8-305">none</span></span>|<span data-ttu-id="60cb8-306">Vous pouvez utiliser cette propriété pour créer des affinités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="60cb8-306">You can use this property to create custom affinities.</span></span> <span data-ttu-id="60cb8-307">La propriété est vide par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-307">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="60cb8-308">Consultez [Définir GroupAffinity pour configurer l'affinité des threads à des processeurs dans un groupe de processeurs](#bkmk_groupaffinity) pour plus d'informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-308">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span>|
|`Process` \ `MaxThreads`|<span data-ttu-id="60cb8-309">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-309">int</span></span>|<span data-ttu-id="60cb8-310">Nombre entier signé 32 bits qui spécifie le nombre maximal de threads à inclure dans le pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-310">A signed 32-bit integer that specifies the maximum number of threads to include in the thread pool.</span></span>|<span data-ttu-id="60cb8-311">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-311">0</span></span>|<span data-ttu-id="60cb8-312">0 indique que le serveur détermine les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-312">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="60cb8-313">Par défaut, le serveur attribue à cette valeur une valeur absolue de 64, ou le nombre de processeurs logiques, la valeur la plus élevée étant applicable.</span><span class="sxs-lookup"><span data-stu-id="60cb8-313">By default, the server either sets this value to an absolute value of 64, or the number of logical processors, whichever is higher.</span></span> <span data-ttu-id="60cb8-314">Par exemple, sur un système 64 processeurs avec hyperthreading (soit, 128 processeurs logiques), la taille maximale du pool de threads est 128 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-314">For example, on a 64-core system with hyperthreading enabled (resulting in 128 logical processors), the thread pool maximum is 128 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-315">Si vous attribuez à cette valeur une valeur négative, le serveur multiplie cette valeur par le nombre de processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-315">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="60cb8-316">Par exemple, si vous indiquez -10 sur un serveur qui possède 32 processeurs logiques, le maximum est 320 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-316">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-317">La valeur maximale dépend des processeurs disponibles en fonction des masques d'affinité personnalisés définis précédemment.</span><span class="sxs-lookup"><span data-stu-id="60cb8-317">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="60cb8-318">Par exemple, si vous avez déjà défini l'affinité du pool de threads pour utiliser 8 processeurs sur 32, et si vous définissez maintenant MaxThreads sur -10, alors la limite supérieure du pool de threads sera égale à 10 fois 8, soit 80 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-318">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set MaxThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-319">Les valeurs réelles utilisées pour cette propriété de pool de threads sont écrites dans le fichier journal msmdsrv au démarrage du service.</span><span class="sxs-lookup"><span data-stu-id="60cb8-319">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="60cb8-320">Pour plus d'informations sur le réglage des paramètres de pool de threads, consultez [Guide des opérations d'Analysis Services](https://msdn.microsoft.com/library/hh226085.aspx).</span><span class="sxs-lookup"><span data-stu-id="60cb8-320">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span>|
|`Process` \ `MinThreads`|<span data-ttu-id="60cb8-321">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-321">int</span></span>|<span data-ttu-id="60cb8-322">Nombre entier signé 32 bits qui spécifie le nombre minimal de threads à préallouer pour le pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-322">A signed 32-bit integer that specifies the minimum number of threads to preallocate for the thread pool.</span></span>|<span data-ttu-id="60cb8-323">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-323">0</span></span>|<span data-ttu-id="60cb8-324">0 indique que le serveur détermine les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-324">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="60cb8-325">La valeur minimale par défaut est 1.</span><span class="sxs-lookup"><span data-stu-id="60cb8-325">By default, the minimum is 1.</span></span><br /><br /> <span data-ttu-id="60cb8-326">Si vous attribuez à cette valeur une valeur négative, le serveur multiplie cette valeur par le nombre de processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-326">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span><br /><br /> <span data-ttu-id="60cb8-327">Les valeurs réelles utilisées pour cette propriété de pool de threads sont écrites dans le fichier journal msmdsrv au démarrage du service.</span><span class="sxs-lookup"><span data-stu-id="60cb8-327">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="60cb8-328">Pour plus d'informations sur le réglage des paramètres de pool de threads, consultez [Guide des opérations d'Analysis Services](https://msdn.microsoft.com/library/hh226085.aspx).</span><span class="sxs-lookup"><span data-stu-id="60cb8-328">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span>|
|`Process` \ `PriorityRatio`|<span data-ttu-id="60cb8-329">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-329">int</span></span>|<span data-ttu-id="60cb8-330">Nombre entier signé 32 bits pouvant être utilisé pour vous assurer que des threads avec une priorité plus faible sont parfois exécutés même lorsqu'une file d'attente de priorité plus élevée contient des éléments.</span><span class="sxs-lookup"><span data-stu-id="60cb8-330">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="60cb8-331">2</span><span class="sxs-lookup"><span data-stu-id="60cb8-331">2</span></span>|<span data-ttu-id="60cb8-332">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-332">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|`Process` \ `StackSizeKB`|<span data-ttu-id="60cb8-333">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-333">int</span></span>|<span data-ttu-id="60cb8-334">Nombre entier signé 32 bits pouvant être utilisé pour ajuster l'allocation de mémoire lors de l'exécution du thread.</span><span class="sxs-lookup"><span data-stu-id="60cb8-334">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="60cb8-335">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-335">0</span></span>|<span data-ttu-id="60cb8-336">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-336">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|`Query`  \ `Concurrency`|<span data-ttu-id="60cb8-337">double</span><span class="sxs-lookup"><span data-stu-id="60cb8-337">double</span></span>|<span data-ttu-id="60cb8-338">Valeur à virgule flottante double précision qui détermine l'algorithme pour définir une cible sur le nombre de threads pouvant être mis en file d'attente en même temps.</span><span class="sxs-lookup"><span data-stu-id="60cb8-338">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="60cb8-339">2.0</span><span class="sxs-lookup"><span data-stu-id="60cb8-339">2.0</span></span>|<span data-ttu-id="60cb8-340">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-340">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="60cb8-341">La concurrence est utilisée pour initialiser les pools de threads qui sont implémentés avec des ports de terminaison d'E/S dans Windows.</span><span class="sxs-lookup"><span data-stu-id="60cb8-341">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="60cb8-342">Consultez [Ports de terminaison d’E/S](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-342">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span>|
|`Query` \ `GroupAffinity`|<span data-ttu-id="60cb8-343">string</span><span class="sxs-lookup"><span data-stu-id="60cb8-343">string</span></span>|<span data-ttu-id="60cb8-344">Tableau de valeurs hexadécimales qui correspondent aux groupes de processeurs sur le système, utilisé pour définir l'affinité des threads de traitement avec des processeurs logiques dans chaque groupe de processeurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-344">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of processing threads to logical processors in each processor group.</span></span>|<span data-ttu-id="60cb8-345">aucun</span><span class="sxs-lookup"><span data-stu-id="60cb8-345">none</span></span>|<span data-ttu-id="60cb8-346">Vous pouvez utiliser cette propriété pour créer des affinités personnalisées.</span><span class="sxs-lookup"><span data-stu-id="60cb8-346">You can use this property to create custom affinities.</span></span> <span data-ttu-id="60cb8-347">La propriété est vide par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-347">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="60cb8-348">Consultez [Définir GroupAffinity pour configurer l'affinité des threads à des processeurs dans un groupe de processeurs](#bkmk_groupaffinity) pour plus d'informations.</span><span class="sxs-lookup"><span data-stu-id="60cb8-348">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span>|
|`Query`  \ `MaxThreads`|<span data-ttu-id="60cb8-349">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-349">int</span></span>|<span data-ttu-id="60cb8-350">Nombre entier signé 32 bits qui spécifie le nombre maximal de threads à inclure dans le pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-350">A signed 32-bit integer that specifies the maximum number of threads to include in the thread pool.</span></span>|<span data-ttu-id="60cb8-351">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-351">0</span></span>|<span data-ttu-id="60cb8-352">0 indique que le serveur détermine les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-352">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="60cb8-353">Par défaut, le serveur attribue à cette valeur une valeur absolue de 10, ou 2 fois le nombre de processeurs logiques, la valeur la plus élevée étant applicable.</span><span class="sxs-lookup"><span data-stu-id="60cb8-353">By default, the server either sets this value to an absolute value of 10, or 2 times the number of logical processors, whichever is higher.</span></span> <span data-ttu-id="60cb8-354">Par exemple, sur un système 4 processeurs avec hyperthreading, le nombre maximal de threads est 16.</span><span class="sxs-lookup"><span data-stu-id="60cb8-354">For example, on a 4-core system with hyperthreading, the maximum thread count is 16.</span></span><br /><br /> <span data-ttu-id="60cb8-355">Si vous attribuez à cette valeur une valeur négative, le serveur multiplie cette valeur par le nombre de processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-355">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="60cb8-356">Par exemple, si vous indiquez -10 sur un serveur qui possède 32 processeurs logiques, le maximum est 320 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-356">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-357">La valeur maximale dépend des processeurs disponibles en fonction des masques d'affinité personnalisés définis précédemment.</span><span class="sxs-lookup"><span data-stu-id="60cb8-357">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="60cb8-358">Par exemple, si vous avez déjà défini l'affinité du pool de threads pour utiliser 8 processeurs sur 32, et si vous définissez maintenant MaxThreads sur -10, alors la limite supérieure du pool de threads sera égale à 10 fois 8, soit 80 threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-358">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set MaxThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="60cb8-359">Les valeurs réelles utilisées pour cette propriété de pool de threads sont écrites dans le fichier journal msmdsrv au démarrage du service.</span><span class="sxs-lookup"><span data-stu-id="60cb8-359">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="60cb8-360">Pour plus d'informations sur le réglage des paramètres de pool de threads, consultez [Guide des opérations d'Analysis Services](https://msdn.microsoft.com/library/hh226085.aspx).</span><span class="sxs-lookup"><span data-stu-id="60cb8-360">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span>|
|`Query` \ `MinThreads`|<span data-ttu-id="60cb8-361">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-361">int</span></span>|<span data-ttu-id="60cb8-362">Nombre entier signé 32 bits qui spécifie le nombre minimal de threads à préallouer pour le pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-362">A signed 32-bit integer that specifies the minimum number of threads to preallocate for the thread pool.</span></span>|<span data-ttu-id="60cb8-363">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-363">0</span></span>|<span data-ttu-id="60cb8-364">0 indique que le serveur détermine les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-364">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="60cb8-365">La valeur minimale par défaut est 1.</span><span class="sxs-lookup"><span data-stu-id="60cb8-365">By default, the minimum is 1.</span></span><br /><br /> <span data-ttu-id="60cb8-366">Si vous attribuez à cette valeur une valeur négative, le serveur multiplie cette valeur par le nombre de processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-366">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span><br /><br /> <span data-ttu-id="60cb8-367">Les valeurs réelles utilisées pour cette propriété de pool de threads sont écrites dans le fichier journal msmdsrv au démarrage du service.</span><span class="sxs-lookup"><span data-stu-id="60cb8-367">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="60cb8-368">Pour plus d'informations sur le réglage des paramètres de pool de threads, consultez [Guide des opérations d'Analysis Services](https://msdn.microsoft.com/library/hh226085.aspx).</span><span class="sxs-lookup"><span data-stu-id="60cb8-368">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span>|
|`Query` \ `PriorityRatio`|<span data-ttu-id="60cb8-369">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-369">int</span></span>|<span data-ttu-id="60cb8-370">Nombre entier signé 32 bits pouvant être utilisé pour vous assurer que des threads avec une priorité plus faible sont parfois exécutés même lorsqu'une file d'attente de priorité plus élevée contient des éléments.</span><span class="sxs-lookup"><span data-stu-id="60cb8-370">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="60cb8-371">2</span><span class="sxs-lookup"><span data-stu-id="60cb8-371">2</span></span>|<span data-ttu-id="60cb8-372">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-372">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|`Query`  \ `StackSizeKB`|<span data-ttu-id="60cb8-373">int</span><span class="sxs-lookup"><span data-stu-id="60cb8-373">int</span></span>|<span data-ttu-id="60cb8-374">Nombre entier signé 32 bits pouvant être utilisé pour ajuster l'allocation de mémoire lors de l'exécution du thread.</span><span class="sxs-lookup"><span data-stu-id="60cb8-374">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="60cb8-375">0</span><span class="sxs-lookup"><span data-stu-id="60cb8-375">0</span></span>|<span data-ttu-id="60cb8-376">Propriété avancée que vous ne devez pas modifier, sauf si vous bénéficiez de l'assistance du support technique [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60cb8-376">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|

##  <a name="set-groupaffinity-to-affinitize-threads-to-processors-in-a-processor-group"></a><a name="bkmk_groupaffinity"></a> <span data-ttu-id="60cb8-377">Définir GroupAffinity pour configurer l'affinité des threads à des processeurs dans un groupe de processeurs</span><span class="sxs-lookup"><span data-stu-id="60cb8-377">Set GroupAffinity to affinitize threads to processors in a processor group</span></span>
 <span data-ttu-id="60cb8-378">`GroupAffinity` est destiné à un paramétrage avancé.</span><span class="sxs-lookup"><span data-stu-id="60cb8-378">`GroupAffinity` is provided for advanced tuning purposes.</span></span> <span data-ttu-id="60cb8-379">Vous pouvez utiliser la propriété `GroupAffinity` pour définir l'affinité entre les pools de threads [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] et des processeurs spécifiques. Toutefois, pour la plupart des installations, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] offre de meilleures performances lorsqu'il peut utiliser tous les processeurs logiques disponibles.</span><span class="sxs-lookup"><span data-stu-id="60cb8-379">You can use the `GroupAffinity` property to set affinity between [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] thread pools and specific processors; however, for most installations, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] performs best when it can use all available logical processors.</span></span> <span data-ttu-id="60cb8-380">Par conséquent, l'affinité de groupe n'est pas spécifiée par défaut.</span><span class="sxs-lookup"><span data-stu-id="60cb8-380">Accordingly, group affinity is unspecified by default.</span></span>

 <span data-ttu-id="60cb8-381">Si les tests de performance indiquent qu'il faut optimiser l'UC, vous devriez envisager une approche de niveau supérieur, par exemple, en utilisant le gestionnaire de ressources de Windows Server pour définir l'affinité entre les processeurs logiques et un processus du serveur.</span><span class="sxs-lookup"><span data-stu-id="60cb8-381">Should performance testing indicate a need for CPU optimization, you might consider a higher level approach, such as using Windows Server Resource Manager to set affinity between logical processors and a server process.</span></span> <span data-ttu-id="60cb8-382">Une telle approche sera plus simple à implémenter et gérer que celle consistant à définir des affinités personnalisées pour chaque pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-382">Such an approach can be simpler to implement and manage than defining custom affinities for individual thread pools.</span></span>

 <span data-ttu-id="60cb8-383">Si cette approche ne suffit pas, vous pouvez atteindre une meilleure précision en définissant des affinités personnalisées pour les pools de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-383">If that approach is insufficient, you can achieve greater precision by defining custom affinities for thread pools.</span></span> <span data-ttu-id="60cb8-384">La personnalisation des paramètres d'affinité est davantage recommandée dans les systèmes à plusieurs noyaux (NUMA ou non-NUMA) qui connaissent une dégradation des performances en raison de pools de threads étendus sur une plage de processeurs trop vaste.</span><span class="sxs-lookup"><span data-stu-id="60cb8-384">Customizing affinity settings is more likely to be recommended on large multi-core systems (either NUMA or non-NUMA) experiencing performance degradation due to thread pools spread out over too-wide a range of processors.</span></span> <span data-ttu-id="60cb8-385">Bien que vous puissiez définir `GroupAffinity` sur les systèmes comportant moins de 64 processeurs logiques, l'avantage est négligeable et peut même dégrader les performances.</span><span class="sxs-lookup"><span data-stu-id="60cb8-385">Although you can set `GroupAffinity` on systems having fewer than 64 logical processors, the benefit is negligible and might even degrade performance.</span></span>

> [!NOTE]
>  <span data-ttu-id="60cb8-386">`GroupAffinity` est contraint par les éditions qui limitent le nombre de noyaux utilisés par [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60cb8-386">`GroupAffinity` is constrained by editions that limit the number of cores used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="60cb8-387">Au démarrage, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilise les informations d'édition et les propriétés `GroupAffinity` pour calculer des masques d'affinité pour chacun des 5 pools de threads gérés par [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60cb8-387">At startup, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses edition information and the `GroupAffinity` properties to compute affinity masks for each of the 5 thread pools managed by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="60cb8-388">L'édition standard peut utiliser jusqu'à 16 noyaux.</span><span class="sxs-lookup"><span data-stu-id="60cb8-388">Standard edition can use a maximum of 16 cores.</span></span> <span data-ttu-id="60cb8-389">Si vous installez l'édition actuelle d' [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] sur un grand système à plusieurs noyaux qui contient plus de 16 noyaux, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilisera uniquement 16 d'entre eux.</span><span class="sxs-lookup"><span data-stu-id="60cb8-389">If you install [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] standard edition on a large multi-core system that has more than 16 cores, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will only use 16 of them.</span></span> <span data-ttu-id="60cb8-390">Si vous mettez à niveau une instance Enterprise d'une version antérieure, vous êtes limité à 20 noyaux.</span><span class="sxs-lookup"><span data-stu-id="60cb8-390">If you upgrade an Enterprise instance of an earlier version, you will be limited to 20 cores.</span></span> <span data-ttu-id="60cb8-391">Pour plus d'informations sur les éditions et les licences, consultez [Vue d'ensemble des licences SQL Server 2012](https://go.microsoft.com/fwlink/?LinkId=246061).</span><span class="sxs-lookup"><span data-stu-id="60cb8-391">For more information about editions and licensing, see [SQL Server 2012 Licensing Overview](https://go.microsoft.com/fwlink/?LinkId=246061).</span></span>

### <a name="syntax"></a><span data-ttu-id="60cb8-392">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="60cb8-392">Syntax</span></span>
 <span data-ttu-id="60cb8-393">La valeur est hexadécimale pour chaque groupe de processeurs, et représente les processeurs logiques que [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] tente d'utiliser d'abord lorsqu'il alloue des threads pour un pool de threads donné.</span><span class="sxs-lookup"><span data-stu-id="60cb8-393">The value is hexadecimal for each processor group, with the hexadecimal representing the logical processors that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] attempts to use first when allocating threads for a given thread pool.</span></span>

 <span data-ttu-id="60cb8-394">**Masque de bits pour les processeurs logiques**</span><span class="sxs-lookup"><span data-stu-id="60cb8-394">**Bitmask for Logical Processors**</span></span>

 <span data-ttu-id="60cb8-395">Vous pouvez avoir jusqu'à 64 processeurs logiques dans un seul groupe du processeurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-395">You can have up to 64 logical processors within a single processor group.</span></span> <span data-ttu-id="60cb8-396">Le masque de bits est 1 (ou 0) pour chaque processeur logique dans le groupe utilisé (ou non) par un pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-396">The bitmask is 1 (or 0) for each logical processor in the group that is used (or not used) by a thread pool.</span></span> <span data-ttu-id="60cb8-397">Une fois que vous avez calculé le masque de masque, vous calculez ensuite la valeur hexadécimale comme valeur pour `GroupAffinity` .</span><span class="sxs-lookup"><span data-stu-id="60cb8-397">Once you compute the bitmask, you then calculate the hexadecimal value as the value for `GroupAffinity`.</span></span>

 <span data-ttu-id="60cb8-398">**Plusieurs groupes de processeurs**</span><span class="sxs-lookup"><span data-stu-id="60cb8-398">**Multiple processor groups**</span></span>

 <span data-ttu-id="60cb8-399">Les groupes de processeurs sont déterminés au démarrage du système.</span><span class="sxs-lookup"><span data-stu-id="60cb8-399">Processor groups are determined on system startup.</span></span> <span data-ttu-id="60cb8-400">`GroupAffinity`accepte des valeurs hexadécimales pour chaque groupe de processeurs dans une liste séparée par des virgules.</span><span class="sxs-lookup"><span data-stu-id="60cb8-400">`GroupAffinity` accepts hexadecimal values for each processor group in a comma delimited list.</span></span> <span data-ttu-id="60cb8-401">Si plusieurs groupes de processeurs sont utilisés (jusqu'à 10 dans les systèmes haut de gamme), vous pouvez ignorer certains groupes en spécifiant 0x0.</span><span class="sxs-lookup"><span data-stu-id="60cb8-401">Given multiple processor groups (up to 10 on higher end systems), you can bypass individual groups by specifying 0x0.</span></span> <span data-ttu-id="60cb8-402">Par exemple, sur un système avec quatre groupes de processeurs (0, 1, 2, 3), vous pouvez exclure les groupes 0 et 2 en entrant 0x0 pour les première et troisième valeurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-402">For example, on a system with four processor groups (0, 1, 2, 3), you could exclude groups 0 and 2 by entering 0x0 for the first and third values.</span></span>

 `<GroupAffinity>0x0, 0xFF, 0x0, 0xFF</GroupAffinity>`

### <a name="steps-for-computing-the-processor-affinity-mask"></a><span data-ttu-id="60cb8-403">Étapes pour calculer le masque d'affinité du processeur</span><span class="sxs-lookup"><span data-stu-id="60cb8-403">Steps for computing the processor affinity mask</span></span>
 <span data-ttu-id="60cb8-404">Vous pouvez définir `GroupAffinity` dans msmdsrv.ini ou dans les pages de propriétés du serveur dans SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="60cb8-404">You can set `GroupAffinity` in msmdsrv.ini or in server property pages in SQL Server Management Studio.</span></span>

1.  <span data-ttu-id="60cb8-405">**Déterminer le nombre de processeurs et de groupes de processeurs**</span><span class="sxs-lookup"><span data-stu-id="60cb8-405">**Determine the number of processors and processor groups**</span></span>

     <span data-ttu-id="60cb8-406">Vous pouvez télécharger l' [Utilitaire Coreinfo depuis winsysinternals](https://technet.microsoft.com/sysinternals/cc835722.aspx).</span><span class="sxs-lookup"><span data-stu-id="60cb8-406">You can download [Coreinfo utility from winsysinternals](https://technet.microsoft.com/sysinternals/cc835722.aspx).</span></span>

     <span data-ttu-id="60cb8-407">Exécutez **coreinfo** pour obtenir ces informations dans la section de mise en correspondance des processeurs logiques et des groupes.</span><span class="sxs-lookup"><span data-stu-id="60cb8-407">Run **coreinfo** to get this information from the Logical Processor to Group Map section.</span></span> <span data-ttu-id="60cb8-408">Une ligne distincte est générée pour chaque processeur logique.</span><span class="sxs-lookup"><span data-stu-id="60cb8-408">A separate line is generated for each logical processor.</span></span>

2.  <span data-ttu-id="60cb8-409">Numérotez les processeurs, de droite à gauche : `7654 3210`</span><span class="sxs-lookup"><span data-stu-id="60cb8-409">Sequence the processors, from right to left: `7654 3210`</span></span>

     <span data-ttu-id="60cb8-410">L'exemple affiche uniquement 8 processeurs (0 à 7), mais un groupe de processeurs peut avoir jusqu'à 64 processeurs logiques, et il peut exister jusqu'à 10 groupes de processeurs dans un serveur Windows de niveau entreprise.</span><span class="sxs-lookup"><span data-stu-id="60cb8-410">The example shows only 8 processors (0 through 7), but a processor group can have a maximum of 64 logical processors, and there can be up to 10 processor groups in an enterprise-class Windows server.</span></span>

3.  <span data-ttu-id="60cb8-411">**Calculer le masque de bits pour les groupes de processeurs à utiliser**</span><span class="sxs-lookup"><span data-stu-id="60cb8-411">**Compute the bitmask for the processor groups you want to use**</span></span>

     `7654 3210`

     <span data-ttu-id="60cb8-412">Remplacez le nombre par un 0 ou 1, selon si vous souhaitez inclure ou exclure le processeur logique.</span><span class="sxs-lookup"><span data-stu-id="60cb8-412">Replace the number with a 0 or 1, depending on whether you want to exclude or include the logical processor.</span></span> <span data-ttu-id="60cb8-413">Sur un système avec huit processeurs, votre calcul sera semblable à celui-ci si vous souhaitez utiliser les processeurs 7, 6, 5, 4, et 1 pour Analysis Services :</span><span class="sxs-lookup"><span data-stu-id="60cb8-413">On a system having eight processors, your calculation might look like this if you wanted to use processors 7, 6, 5, 4, and 1 for Analysis Services:</span></span>

     `1111 0010`

4.  <span data-ttu-id="60cb8-414">**Convertir le nombre binaire en valeur hexadécimale**</span><span class="sxs-lookup"><span data-stu-id="60cb8-414">**Convert the binary number to a Hex value**</span></span>

     <span data-ttu-id="60cb8-415">Avec une calculatrice ou un outil de conversion, convertissez le nombre binaire en son équivalent hexadécimal.</span><span class="sxs-lookup"><span data-stu-id="60cb8-415">Using a calculator or conversion tool, convert the binary number to its hexadecimal equivalent.</span></span> <span data-ttu-id="60cb8-416">Dans notre exemple, `1111 0010` devient `0xF2`.</span><span class="sxs-lookup"><span data-stu-id="60cb8-416">In our example, `1111 0010` converts to `0xF2`.</span></span>

5.  <span data-ttu-id="60cb8-417">**Entrer une valeur hexadécimale dans la propriété GroupAffinity**</span><span class="sxs-lookup"><span data-stu-id="60cb8-417">**Enter the hex value in the GroupAffinity property**</span></span>

     <span data-ttu-id="60cb8-418">Dans msmdsrv.ini ou dans la page de propriétés du serveur dans Management Studio, définissez `GroupAffinity` sur la valeur calculée à l’étape 4.</span><span class="sxs-lookup"><span data-stu-id="60cb8-418">In msmdsrv.ini or in the server property page in Management Studio, set `GroupAffinity` to the value calculated in step 4.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="60cb8-419">`GroupAffinity`Le paramètre est une tâche manuelle qui comprend plusieurs étapes.</span><span class="sxs-lookup"><span data-stu-id="60cb8-419">Setting `GroupAffinity` is a manual task encompassing multiple steps.</span></span> <span data-ttu-id="60cb8-420">Lorsque vous calculez `GroupAffinity` , vérifiez attentivement vos calculs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-420">When computing `GroupAffinity`, check your calculations carefully.</span></span> <span data-ttu-id="60cb8-421">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] retourne une erreur si le masque entier n'est pas valide, mais si une combinaison de valeurs valides et non valides est présente, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ignore la propriété.</span><span class="sxs-lookup"><span data-stu-id="60cb8-421">Although [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will return an error if the entire mask is invalid, a combination of valid and invalid settings results in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ignoring the property.</span></span> <span data-ttu-id="60cb8-422">Par exemple, si le masque de bits contient des valeurs supplémentaires, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ignore le paramètre et utilise tous les processeurs du système.</span><span class="sxs-lookup"><span data-stu-id="60cb8-422">For example, if the bitmask includes extra values, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ignores the setting, using all processors on the system.</span></span> <span data-ttu-id="60cb8-423">Aucune erreur ni aucun avertissement ne vous informe lorsque cette action se produit, mais vous pouvez consulter le fichier msmdsrv.log pour déterminer comment les affinités sont vraiment définies.</span><span class="sxs-lookup"><span data-stu-id="60cb8-423">There is no error or warning to alert you when this action occurs, but you can check the msmdsrv.log file to learn how the affinities are actually set.</span></span>

##  <a name="set-pernumanode-to-affinitize-io-threads-to-processors-in-a-numa-node"></a><a name="bkmk_pernumanode"></a><span data-ttu-id="60cb8-424">Définir PerNumaNode sur des threads d’e/s affinité sur des processeurs dans un nœud NUMA</span><span class="sxs-lookup"><span data-stu-id="60cb8-424">Set PerNumaNode to affinitize IO threads to processors in a NUMA node</span></span>
 <span data-ttu-id="60cb8-425">Pour les instances multidimensionnelles Analysis Services, vous pouvez définir `PerNumaNode` sur le `IOProcess` pool de threads pour optimiser davantage la planification et l’exécution des threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-425">For multidimensional Analysis Services instances, you can set `PerNumaNode` on the `IOProcess` thread pool to further optimize thread scheduling and execution.</span></span> <span data-ttu-id="60cb8-426">Tandis que `GroupAffinity` identifie l’ensemble de processeurs logiques à utiliser pour un pool de threads donné, `PerNumaNode` en spécifiant s’il faut créer plusieurs pools de threads, affinité davantage à un sous-ensemble des processeurs logiques autorisés.</span><span class="sxs-lookup"><span data-stu-id="60cb8-426">Whereas `GroupAffinity` identifies which set of logical processors to use for a given thread pool, `PerNumaNode` goes one step further by specifying whether to create multiple thread pools, further affinitized to some subset of the allowed logical processors.</span></span>

> [!NOTE]
>  <span data-ttu-id="60cb8-427">Sous Windows Server 2012, utilisez le Gestionnaire des tâches pour afficher le nombre de nœuds NUMA sur l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="60cb8-427">On Windows Server 2012, use Task Manager to view the number of NUMA nodes on the computer.</span></span> <span data-ttu-id="60cb8-428">Dans le Gestionnaire des tâches, sous l’onglet Performances, sélectionnez **UC** , puis cliquez avec le bouton droit sur la zone graphique pour afficher les nœuds NUMA.</span><span class="sxs-lookup"><span data-stu-id="60cb8-428">In Task Manager, on the Performance tab, select **CPU** and then right-click the graph area to view NUMA nodes.</span></span> <span data-ttu-id="60cb8-429">Vous pouvez aussi [télécharger](https://technet.microsoft.com/sysinternals/cc835722.aspx) l'utilitaire Coreinfo depuis Windows Sysinternals et exécuter `coreinfo -n` pour retourner les nœuds NUMA et les processeurs logiques dans chaque nœud.</span><span class="sxs-lookup"><span data-stu-id="60cb8-429">Alternatively, [download](https://technet.microsoft.com/sysinternals/cc835722.aspx) the Coreinfo utility from Windows Sysinternals and run `coreinfo -n` to return NUMA nodes and logical processors in each node.</span></span>

 <span data-ttu-id="60cb8-430">Les valeurs valides pour `PerNumaNode` sont-1, 0, 1, 2, comme décrit dans la section [référence de propriété du pool de threads](#bkmk_propref) dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="60cb8-430">Valid values for `PerNumaNode` are -1, 0, 1, 2, as described in the [Thread Pool Property Reference](#bkmk_propref) section in this topic.</span></span>

### <a name="default-recommended"></a><span data-ttu-id="60cb8-431">Par défaut (recommandé)</span><span class="sxs-lookup"><span data-stu-id="60cb8-431">Default (Recommended)</span></span>
 <span data-ttu-id="60cb8-432">Sur des systèmes comportant des nœuds NUMA, nous recommandons d’utiliser le paramètre par défaut PerNumaNode=-1, pour permettre à [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] d’ajuster le nombre de pools de threads et l’affinité des threads en fonction du nombre de nœuds.</span><span class="sxs-lookup"><span data-stu-id="60cb8-432">On systems having NUMA nodes, we recommend using the default setting of PerNumaNode=-1, allowing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to adjust the number of thread pools and their thread affinity based on node count.</span></span> <span data-ttu-id="60cb8-433">Si le système comporte moins de 4 nœuds, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] implémente les comportements décrits par `PerNumaNode` = 0, tandis que `PerNumaNode` = 1 est utilisé sur les systèmes comportant 4 nœuds ou plus.</span><span class="sxs-lookup"><span data-stu-id="60cb8-433">If the system has fewer than 4 nodes, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] implements the behaviors described by `PerNumaNode`=0, whereas `PerNumaNode`=1 is used on systems having 4 or more nodes.</span></span>

### <a name="choosing-a-value"></a><span data-ttu-id="60cb8-434">Choix d'une valeur</span><span class="sxs-lookup"><span data-stu-id="60cb8-434">Choosing a value</span></span>
 <span data-ttu-id="60cb8-435">Vous pouvez également remplacer la valeur par défaut et utiliser une autre valeur valide.</span><span class="sxs-lookup"><span data-stu-id="60cb8-435">You can also override the default to use another valid value.</span></span>

 <span data-ttu-id="60cb8-436">**Paramètre PerNumaNode=0**</span><span class="sxs-lookup"><span data-stu-id="60cb8-436">**Setting PerNumaNode=0**</span></span>

 <span data-ttu-id="60cb8-437">Les nœuds NUMA sont ignorés.</span><span class="sxs-lookup"><span data-stu-id="60cb8-437">NUMA nodes are ignored.</span></span> <span data-ttu-id="60cb8-438">Il n'y aura qu'un seul pool de threads IOProcess, et tous les threads dans le pool posséderont une affinité avec l'ensemble des processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-438">There will be just one IOProcess thread pool, and all threads in that thread pool will be affinitized to all logical processors.</span></span> <span data-ttu-id="60cb8-439">Par défaut (où PerNumaNode=-1) ; il s'agit du paramètre opérationnel si l'ordinateur possède moins de 4 nœuds NUMA.</span><span class="sxs-lookup"><span data-stu-id="60cb8-439">By default (where PerNumaNode=-1), this is the operative setting if the computer has fewer than 4 NUMA nodes.</span></span>

 <span data-ttu-id="60cb8-440">![Correspondance NUMA, du processeur et du pool de threads](../media/ssas-threadpool-numaex0.PNG "Correspondance NUMA, du processeur et du pool de threads")</span><span class="sxs-lookup"><span data-stu-id="60cb8-440">![Numa, processor and thread pool correspondence](../media/ssas-threadpool-numaex0.PNG "Numa, processor and thread pool correspondence")</span></span>

 <span data-ttu-id="60cb8-441">**Paramètre PerNumaNode=1**</span><span class="sxs-lookup"><span data-stu-id="60cb8-441">**Setting PerNumaNode=1**</span></span>

 <span data-ttu-id="60cb8-442">Les pools de threads IOProcess sont créés pour chaque nœud NUMA.</span><span class="sxs-lookup"><span data-stu-id="60cb8-442">IOProcess thread pools are created for each NUMA node.</span></span> <span data-ttu-id="60cb8-443">Des pools de threads distincts améliorent l'accès coordonné aux ressources locales, telles que le cache local sur un nœud NUMA.</span><span class="sxs-lookup"><span data-stu-id="60cb8-443">Having separate thread pools improves coordinated access to local resources, such as local cache on a NUMA node.</span></span>

 <span data-ttu-id="60cb8-444">![Correspondance NUMA, du processeur et du pool de threads](../media/ssas-threadpool-numaex1.PNG "Correspondance NUMA, du processeur et du pool de threads")</span><span class="sxs-lookup"><span data-stu-id="60cb8-444">![Numa, processor and thread pool correspondence](../media/ssas-threadpool-numaex1.PNG "Numa, processor and thread pool correspondence")</span></span>

 <span data-ttu-id="60cb8-445">**Paramètre PerNumaNode=2**</span><span class="sxs-lookup"><span data-stu-id="60cb8-445">**Setting PerNumaNode=2**</span></span>

 <span data-ttu-id="60cb8-446">Ce paramètre est destiné aux systèmes très haut de gamme qui exécutent des charges de travail [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] consommant beaucoup de ressources.</span><span class="sxs-lookup"><span data-stu-id="60cb8-446">This setting is for very high-end systems running intensive [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] workloads.</span></span> <span data-ttu-id="60cb8-447">Cette propriété définit l'affinité de pool de threads IOProcess à son niveau le plus granulaire, créant et configurant l'affinité des pools de threads distincts au niveau du processeur logique.</span><span class="sxs-lookup"><span data-stu-id="60cb8-447">This property sets IOProcess thread pool affinity at its most granular level, creating and affinitizing separate thread pools at the logical processor level.</span></span>

 <span data-ttu-id="60cb8-448">Dans l’exemple suivant, sur un système comportant 4 nœuds NUMA et 32 processeurs logiques, l’affectation de la valeur `PerNumaNode` 2 a pour résultat 32 pools de threads IOProcess.</span><span class="sxs-lookup"><span data-stu-id="60cb8-448">In the following example, on a system having 4 NUMA nodes and 32 logical processors, setting `PerNumaNode` to 2 would result in 32 IOProcess thread pools.</span></span> <span data-ttu-id="60cb8-449">Les threads dans les 8 premiers pools sont associés à tous les processeurs logiques dans le nœud NUMA 0, mais avec le processeur idéal défini sur 0, 1, 2, jusqu'à 7.</span><span class="sxs-lookup"><span data-stu-id="60cb8-449">The threads in the first 8 thread pools would be affinitized to all the logical processors in the NUMA node 0, but with the ideal processor set to 0, 1, 2, up to 7.</span></span> <span data-ttu-id="60cb8-450">Les 8 pools de threads suivants sont associés à tous les processeurs logiques dans le nœud NUMA 1, avec le processeur idéal défini sur 8, 9, 10, jusqu'à 15, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="60cb8-450">The next 8 thread pools would be affinitized to all the logical processors in NUMA node 1, with the ideal processor set to 8, 9, 10, up to 15, and so on.</span></span>

 <span data-ttu-id="60cb8-451">![Correspondance NUMA, du processeur et du pool de threads](../media/ssas-threadpool-numaex2.PNG "Correspondance NUMA, du processeur et du pool de threads")</span><span class="sxs-lookup"><span data-stu-id="60cb8-451">![Numa, processor and thread pool correspondence](../media/ssas-threadpool-numaex2.PNG "Numa, processor and thread pool correspondence")</span></span>

 <span data-ttu-id="60cb8-452">À ce niveau d'affinité, le planificateur tente toujours d'utiliser le processeur logique idéal en premier, au sein du nœud NUMA préférentiel.</span><span class="sxs-lookup"><span data-stu-id="60cb8-452">At this level of affinity, the scheduler always attempts to use the ideal logical processor first, within the preferred NUMA node.</span></span> <span data-ttu-id="60cb8-453">Si le processeur logique est indisponible, le planificateur choisit un autre processeur dans le même nœud, ou dans le même du groupe de processeurs si aucun autre thread n'est disponible.</span><span class="sxs-lookup"><span data-stu-id="60cb8-453">If the logical processor is unavailable, the scheduler chooses another processor within the same node, or within the same processor group if no other threads are available.</span></span> <span data-ttu-id="60cb8-454">Pour plus d’informations et des exemples, consultez [Paramètres de configuration d’Analysis Services 2012 (blog Wordpress)](https://go.microsoft.com/fwlink/?LinkId=330387).</span><span class="sxs-lookup"><span data-stu-id="60cb8-454">For more information and examples, see [Analysis Services 2012 Configuration settings (Wordpress Blog)](https://go.microsoft.com/fwlink/?LinkId=330387).</span></span>

###  <a name="work-distribution-among-ioprocess-threads"></a><a name="bkmk_workdistrib"></a> <span data-ttu-id="60cb8-455">Répartition du travail entre les threads IOProcess</span><span class="sxs-lookup"><span data-stu-id="60cb8-455">Work distribution among IOProcess threads</span></span>
 <span data-ttu-id="60cb8-456">Lorsque vous envisagez de définir la propriété, le fait de `PerNumaNode` savoir comment les `IOProcess` threads sont utilisés peut vous aider à prendre une décision plus avisée.</span><span class="sxs-lookup"><span data-stu-id="60cb8-456">As you consider whether to set the `PerNumaNode` property, knowing how `IOProcess` threads are used can help you make a more informed decision.</span></span>

 <span data-ttu-id="60cb8-457">Rappelez-vous que `IOProcess` est utilisé pour les travaux d’e/s associés aux requêtes du moteur de stockage dans le moteur multidimensionnel.</span><span class="sxs-lookup"><span data-stu-id="60cb8-457">Recall that `IOProcess` is used for IO jobs associated with storage engine queries in the multidimensional engine.</span></span>

 <span data-ttu-id="60cb8-458">Lorsqu'un segment est analysé, le moteur identifie la partition à laquelle il appartient et tente de mettre le travail du segment en file d'attente dans le pool de threads utilisé par la partition.</span><span class="sxs-lookup"><span data-stu-id="60cb8-458">When a segment is scanned, the engine identifies the partition to which the segment belongs, and attempts to queue the segment job to the thread pool used by the partition.</span></span> <span data-ttu-id="60cb8-459">Généralement, tous les segments appartenant à une partition mettent en file d'attente leurs tâches sur le même pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-459">In general, all segments belonging to a partition will queue their tasks to the same thread pool.</span></span> <span data-ttu-id="60cb8-460">Sur des systèmes NUMA, ce comportement est particulièrement avantageux car toutes les analyses d'une partition utiliseront la mémoire du cache de système de fichiers alloué localement à ce nœud NUMA.</span><span class="sxs-lookup"><span data-stu-id="60cb8-460">On NUMA systems, this behavior is particularly advantageous because all scans for a partition will use memory in the file system cache that is allocated locally to that NUMA node.</span></span>

 <span data-ttu-id="60cb8-461">Les scénarios suivants suggèrent des réglages pouvant parfois améliorer les performances des requêtes sur les systèmes NUMA :</span><span class="sxs-lookup"><span data-stu-id="60cb8-461">The following scenarios suggest adjustments that can sometimes improve query performance on NUMA systems:</span></span>

-   <span data-ttu-id="60cb8-462">Pour les groupes de mesures sous-partitionnés (par exemple, comportant une seule partition), augmentez le nombre de partitions.</span><span class="sxs-lookup"><span data-stu-id="60cb8-462">For measure groups that are under-partitioned (for example, having a single partition), increase the number of partitions.</span></span> <span data-ttu-id="60cb8-463">Si vous utilisez une seule partition, le moteur met systématiquement en file d'attente les tâches sur un seul pool de threads (le pool de threads 0).</span><span class="sxs-lookup"><span data-stu-id="60cb8-463">Using just one partition will cause the engine to always queue tasks to one thread pool (thread pool 0).</span></span> <span data-ttu-id="60cb8-464">L'ajout de davantage de partitions permet au moteur d'utiliser des pools de threads supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="60cb8-464">Adding more partitions allows the engine to use additional thread pools.</span></span>

     <span data-ttu-id="60cb8-465">Sinon, si vous ne pouvez pas créer de partitions supplémentaires, essayez de définir `PerNumaNode` = 0 pour augmenter le nombre de threads disponibles pour le pool de threads 0.</span><span class="sxs-lookup"><span data-stu-id="60cb8-465">Alternatively, if you cannot create additional partitions, try setting `PerNumaNode`=0 as a way to increase the number of threads available to thread pool 0.</span></span>

-   <span data-ttu-id="60cb8-466">Pour les bases de données dans lesquelles les analyses de segment sont uniformément réparties sur plusieurs partitions, le paramétrage `PerNumaNode` sur 1 ou 2 peut améliorer les performances des requêtes car cela augmente le nombre total de `IOProcess` pools de threads utilisés par le système.</span><span class="sxs-lookup"><span data-stu-id="60cb8-466">For databases in which segment scans are evenly distributed across multiple partitions, setting `PerNumaNode` to 1 or 2 can improve query performance because it increases the overall number of `IOProcess` thread pools used by the system.</span></span>

-   <span data-ttu-id="60cb8-467">Pour les solutions qui ont plusieurs partitions, mais qu’une seule est fortement analysée, essayez de définir `PerNumaNode` = 0 pour voir si cela améliore les performances.</span><span class="sxs-lookup"><span data-stu-id="60cb8-467">For solutions that have multiple partitions, but only one is heavily scanned, try setting `PerNumaNode`=0 to see if it improves performance.</span></span>

 <span data-ttu-id="60cb8-468">Bien que les analyses de partition et de dimension utilisent toutes deux le `IOProcess` pool de threads, les analyses de dimension utilisent uniquement le pool de threads 0.</span><span class="sxs-lookup"><span data-stu-id="60cb8-468">Although both partition and dimension scans use the `IOProcess` thread pool, dimension scans only use thread pool 0.</span></span> <span data-ttu-id="60cb8-469">Cela peut entraîner une charge légèrement inégale sur ce pool de threads, mais le déséquilibre devrait être temporaire, car les analyses de dimension ont tendance à être très rapides et peu fréquentes.</span><span class="sxs-lookup"><span data-stu-id="60cb8-469">This can result in a slightly uneven load on that thread pool, but the imbalance should be temporary, as dimension scans tend to be very fast and infrequent.</span></span>

> [!NOTE]
>  <span data-ttu-id="60cb8-470">Lorsque vous modifiez une propriété du serveur, souvenez-vous que l'option de configuration s'applique à toutes les bases de données qui s'exécutent sur l'instance actuelle.</span><span class="sxs-lookup"><span data-stu-id="60cb8-470">When changing a server property, remember that the configuration option applies to all databases running on the current instance.</span></span> <span data-ttu-id="60cb8-471">Sélectionnez les paramètres les plus avantageux pour les bases de données les plus importantes, ou pour le plus grand nombre de bases de données.</span><span class="sxs-lookup"><span data-stu-id="60cb8-471">Choose settings that benefit the most important databases, or the greatest number of databases.</span></span> <span data-ttu-id="60cb8-472">Vous ne pouvez pas définir l'affinité du processeur au niveau de la base de données, ni l'affinité entre des partitions et des processeurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-472">You cannot set processor affinity at the database level, nor can you set affinity between individual partitions and specific processors.</span></span>

 <span data-ttu-id="60cb8-473">Pour plus d'informations sur l'architecture des travaux, consultez la section 2.2 dans [Guide des performances SQL Server 2008 Analysis Services](https://www.microsoft.com/download/details.aspx?id=17303).</span><span class="sxs-lookup"><span data-stu-id="60cb8-473">For more information about job architecture, see section 2.2 in [SQL Server 2008 Analysis Services Performance Guide](https://www.microsoft.com/download/details.aspx?id=17303).</span></span>

##  <a name="dependent-or-related-properties"></a><a name="bkmk_related"></a><span data-ttu-id="60cb8-474">Propriétés dépendantes ou connexes</span><span class="sxs-lookup"><span data-stu-id="60cb8-474">Dependent or Related Properties</span></span>
 <span data-ttu-id="60cb8-475">Comme expliqué dans la section 2,4 du [Guide des opérations Analysis Services](https://msdn.microsoft.com/library/hh226085.aspx), si vous augmentez le pool de threads de traitement, vous devez vous assurer que les `CoordinatorExecutionMode` paramètres, ainsi que les `CoordinatorQueryMaxThreads` paramètres, ont des valeurs qui vous permettent d’utiliser pleinement l’augmentation de la taille du pool de threads.</span><span class="sxs-lookup"><span data-stu-id="60cb8-475">As explained in section 2.4 of the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx), if you increase the processing thread pool, you should make sure that the `CoordinatorExecutionMode` settings, as well as the `CoordinatorQueryMaxThreads` settings, have values that enable you to make full use of the increased thread pool size.</span></span>

 <span data-ttu-id="60cb8-476">Analysis Services utilise un thread de coordination afin de collecter les données nécessaires pour effectuer une demande de traitement ou de requête.</span><span class="sxs-lookup"><span data-stu-id="60cb8-476">Analysis Services uses a coordinator thread for gathering the data needed to complete a processing or query request.</span></span> <span data-ttu-id="60cb8-477">Le coordinateur met d'abord en file d'attente un travail pour chaque partition concernée.</span><span class="sxs-lookup"><span data-stu-id="60cb8-477">The coordinator first queues up one job for each partition that must be touched.</span></span> <span data-ttu-id="60cb8-478">Ensuite, chacun de ces travaux continue à mettre en file d'attente plus de travaux, en fonction du nombre total de segments qui doivent être analysés dans la partition.</span><span class="sxs-lookup"><span data-stu-id="60cb8-478">Each of those jobs then continues to queue up more jobs, depending on the total number of segments that must be scanned in the partition.</span></span>

 <span data-ttu-id="60cb8-479">La valeur par défaut de `CoordinatorExecutionMode` est -4, soit une limite de 4 travaux pouvant être exécutés en parallèle par processeur, ce qui limite le nombre total de travaux du coordinateur pouvant être exécutés en parallèle par une requête de sous-cube dans le moteur de stockage.</span><span class="sxs-lookup"><span data-stu-id="60cb8-479">The default value for `CoordinatorExecutionMode` is -4, meaning a limit of 4 jobs in parallel per core, which constrains the total number of coordinator jobs that can be executed in parallel by a subcube request in the storage engine.</span></span>

 <span data-ttu-id="60cb8-480">La valeur par défaut pour `CoordinatorQueryMaxThreads` est 16, ce qui limite le nombre de travaux de segment qui peuvent être exécutés en parallèle pour chaque partition.</span><span class="sxs-lookup"><span data-stu-id="60cb8-480">The default value for `CoordinatorQueryMaxThreads` is 16, which limits the number of segment jobs that can be executed in parallel for each partition.</span></span>

##  <a name="determine-current-thread-pool-settings"></a><a name="bkmk_currentsettings"></a><span data-ttu-id="60cb8-481">Déterminer les paramètres actuels du pool de threads</span><span class="sxs-lookup"><span data-stu-id="60cb8-481">Determine current thread pool settings</span></span>
 <span data-ttu-id="60cb8-482">À chaque démarrage du service, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] génère les paramètres de pool de threads actuels dans le fichier msmdsrv.log, y compris le nombre minimal et maximal de threads, le masque d'affinité du processeur, et la concurrence.</span><span class="sxs-lookup"><span data-stu-id="60cb8-482">At each service startup, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] outputs the current thread pool settings into the msmdsrv.log file, including minimum and maximum threads, processor affinity mask, and concurrency.</span></span>

 <span data-ttu-id="60cb8-483">L'exemple suivant est un extrait du fichier journal, montrant les paramètres par défaut du pool de threads Query (MinThread=0, MaxThread=0, Concurrency=2), sur un système 4 processeurs avec hyperthreading.</span><span class="sxs-lookup"><span data-stu-id="60cb8-483">The following example is an excerpt from the log file, showing the default settings for the Query thread pool (MinThread=0, MaxThread=0, Concurrency=2), on a 4-core system with hyper-threading enabled.</span></span> <span data-ttu-id="60cb8-484">Le masque d'affinité est 0xFF, indiquant 8 processeurs logiques.</span><span class="sxs-lookup"><span data-stu-id="60cb8-484">The affinity mask is 0xFF, indicating 8 logical processors.</span></span> <span data-ttu-id="60cb8-485">Notez que des zéros sont ajoutés au début du masque.</span><span class="sxs-lookup"><span data-stu-id="60cb8-485">Notice that leading zeros are prepended to the mask.</span></span> <span data-ttu-id="60cb8-486">Vous pouvez ignorer les zéros de début.</span><span class="sxs-lookup"><span data-stu-id="60cb8-486">You can ignore the leading zeros.</span></span>

 `"10/28/2013 9:20:52 AM) Message: The Query thread pool now has 1 minimum threads, 16 maximum threads, and a concurrency of 16.  Its thread pool affinity mask is 0x00000000000000ff. (Source: \\?\C:\Program Files\Microsoft SQL Server\MSAS11.MSSQLSERVER\OLAP\Log\msmdsrv.log, Type: 1, Category: 289, Event ID: 0x4121000A)"`

 <span data-ttu-id="60cb8-487">N'oubliez pas que l'algorithme permettant de définir **MinThread** et **MaxThread** intègre la configuration du système, notamment le nombre de processeurs.</span><span class="sxs-lookup"><span data-stu-id="60cb8-487">Recall that the algorithm for setting **MinThread** and **MaxThread** incorporates system configuration, particularly the number of processors.</span></span> <span data-ttu-id="60cb8-488">La publication de blog suivante donne des éclaircissements sur la façon de calculer les valeurs : [Paramètres de configuration d’Analysis Services 2012 (blog Wordpress)](https://go.microsoft.com/fwlink/?LinkId=330387).</span><span class="sxs-lookup"><span data-stu-id="60cb8-488">The following blog post offers insights into how the values are calculated: [Analysis Services 2012 Configuration settings (Wordpress Blog)](https://go.microsoft.com/fwlink/?LinkId=330387).</span></span> <span data-ttu-id="60cb8-489">Notez que ces paramètres et comportements sont susceptibles d'être modifiés dans les versions à venir.</span><span class="sxs-lookup"><span data-stu-id="60cb8-489">Note that these settings and behaviors are subject to adjustment in subsequent releases.</span></span>

 <span data-ttu-id="60cb8-490">La liste suivante répertorie des exemples d'autres paramètres de masque d'affinité, pour différentes combinaisons de processeurs :</span><span class="sxs-lookup"><span data-stu-id="60cb8-490">The following list shows examples of other affinity mask settings, for different combinations of processors:</span></span>

-   <span data-ttu-id="60cb8-491">L'affinité pour les processeurs 3-2-1-0 sur un système à 8 processeurs aboutit à ce masque de bits : 00001111, et à une valeur hexadécimale : 0xF</span><span class="sxs-lookup"><span data-stu-id="60cb8-491">Affinity for processors 3-2-1-0 on an 8 core system results in this bitmask: 00001111, and a hexadecimal value: 0xF</span></span>

-   <span data-ttu-id="60cb8-492">L'affinité pour les processeurs 7-6-5-4 sur un système à 8 processeurs aboutit à ce masque de bits : 11110000, et une valeur hexadécimale : 0xF0</span><span class="sxs-lookup"><span data-stu-id="60cb8-492">Affinity for processors 7-6-5-4 on an 8 core system results in this bitmask: 11110000, and a hexadecimal value: 0xF0</span></span>

-   <span data-ttu-id="60cb8-493">L'affinité pour les processeurs 5-4-3-2 sur un système à 8 processeurs aboutit à ce masque de bits : 00111100, et une valeur hexadécimale : 0x3C</span><span class="sxs-lookup"><span data-stu-id="60cb8-493">Affinity for processors 5-4-3-2 on an 8 core system results in this bitmask: 00111100, and a hexadecimal value: 0x3C</span></span>

-   <span data-ttu-id="60cb8-494">L'affinité pour les processeurs 7-6-1-0 sur un système à 8 processeurs aboutit à ce masque de bits : 11000011, et une valeur hexadécimale : 0xC3</span><span class="sxs-lookup"><span data-stu-id="60cb8-494">Affinity for processors 7-6-1-0 on an 8 core system results in this bitmask: 11000011, and a hexadecimal value: 0xC3</span></span>

 <span data-ttu-id="60cb8-495">Rappelez-vous que sur les systèmes avec plusieurs groupes de processeurs, un masque d'affinité distinct est généré pour chaque groupe, dans une liste séparée par des virgules.</span><span class="sxs-lookup"><span data-stu-id="60cb8-495">Recall that on systems having multiple processor groups, a separate affinity mask is generated for each group, in a comma separated list.</span></span>

##  <a name="about-msmdsrvini"></a><a name="bkmk_msmdrsrvini"></a><span data-ttu-id="60cb8-496">À propos de MSMDSRV.INI</span><span class="sxs-lookup"><span data-stu-id="60cb8-496">About MSMDSRV.INI</span></span>
 <span data-ttu-id="60cb8-497">Le fichier msmdsrv.ini contient les paramètres de configuration pour une instance de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , affectant toutes les bases de données en cours d'exécution sur cette instance.</span><span class="sxs-lookup"><span data-stu-id="60cb8-497">The msmdsrv.ini file contains configuration settings for an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, affecting all databases running on that instance.</span></span> <span data-ttu-id="60cb8-498">Vous ne pouvez pas utiliser les propriétés de configuration du serveur pour optimiser les performances d'une seule base de données à l'exclusion de toutes les autres.</span><span class="sxs-lookup"><span data-stu-id="60cb8-498">You cannot use server configuration properties to optimize performance of just one database to the exclusion of all others.</span></span> <span data-ttu-id="60cb8-499">Toutefois, vous pouvez installer plusieurs instances de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] et configurer chaque instance pour utiliser les propriétés les plus avantageuses pour les bases de données qui partagent des caractéristiques ou des charges de travail similaires.</span><span class="sxs-lookup"><span data-stu-id="60cb8-499">However, you can install multiple instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and configure each instance to use properties that benefit databases sharing similar characteristics or workloads.</span></span>

 <span data-ttu-id="60cb8-500">Toutes les propriétés de configuration du serveur sont incluses dans le fichier msmdsrv.ini.</span><span class="sxs-lookup"><span data-stu-id="60cb8-500">All server configuration properties are included in the msmdsrv.ini file.</span></span> <span data-ttu-id="60cb8-501">Les sous-ensembles de propriétés les plus susceptibles d'être modifiés apparaissent également dans les outils d'administration, comme SSMS.</span><span class="sxs-lookup"><span data-stu-id="60cb8-501">Subsets of the properties more likely to be modified also appear in administration tools, such as SSMS.</span></span>

 <span data-ttu-id="60cb8-502">Le contenu de msmdsrv.ini est identique pour les instances tabulaires et multidimensionnelles de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60cb8-502">The contents of msmdsrv.ini are identical for both Tabular and Multidimensional instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="60cb8-503">Cependant, certains paramètres s'appliquent seulement à un mode.</span><span class="sxs-lookup"><span data-stu-id="60cb8-503">However, some settings apply to one mode only.</span></span> <span data-ttu-id="60cb8-504">Des différences de comportement en mode serveur sont signalées dans la documentation relative aux références de propriété.</span><span class="sxs-lookup"><span data-stu-id="60cb8-504">Differences in behavior based on server mode are noted in property reference documentation.</span></span>

> [!NOTE]
>  <span data-ttu-id="60cb8-505">Pour obtenir des instructions sur la définition des propriétés, consultez [Configure Server Properties in Analysis Services](server-properties-in-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="60cb8-505">For instructions on how to set properties, see [Configure Server Properties in Analysis Services](server-properties-in-analysis-services.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="60cb8-506">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="60cb8-506">See Also</span></span>
 <span data-ttu-id="60cb8-507">[À propos des processus et des threads](/windows/desktop/ProcThread/about-processes-and-threads) [plusieurs](/windows/desktop/ProcThread/multiple-processors) processeurs, [groupes de processeurs](/windows/desktop/ProcThread/processor-groups) [Analysis Services les modifications du Pool de threads dans SQL Server 2012](https://blogs.msdn.com/b/psssql/archive/2012/01/31/analysis-services-thread-pool-changes-in-sql-server-2012.aspx) [Analysis Services 2012 paramètres de configuration (blog WordPress)](https://go.microsoft.com/fwlink/?LinkId=330387) [qui prennent en charge des systèmes dotés de plus de 64 processeurs](https://msdn.microsoft.com/library/windows/hardware/gg463349.aspx) [SQL Server 2008 R2 Analysis Services Operations Guide](https://go.microsoft.com/fwlink/?LinkID=225539)</span><span class="sxs-lookup"><span data-stu-id="60cb8-507">[About Processes and Threads](/windows/desktop/ProcThread/about-processes-and-threads) [Multiple Processors](/windows/desktop/ProcThread/multiple-processors) [Processor Groups](/windows/desktop/ProcThread/processor-groups) [Analysis Services Thread Pool Changes in SQL Server 2012](https://blogs.msdn.com/b/psssql/archive/2012/01/31/analysis-services-thread-pool-changes-in-sql-server-2012.aspx) [Analysis Services 2012 Configuration settings (Wordpress Blog)](https://go.microsoft.com/fwlink/?LinkId=330387) [Supporting Systems That Have More Than 64 Processors](https://msdn.microsoft.com/library/windows/hardware/gg463349.aspx) [SQL Server 2008 R2 Analysis Services Operations Guide](https://go.microsoft.com/fwlink/?LinkID=225539)</span></span>


