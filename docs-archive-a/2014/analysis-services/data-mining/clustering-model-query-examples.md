---
title: Exemples de requêtes de modèle de clustering | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- clustering [Data Mining]
- content queries [DMX]
- clustering algorithms [Analysis Services]
ms.assetid: bf2ba332-9bc6-411a-a3af-b919c52432c8
author: minewiskan
ms.author: owend
ms.openlocfilehash: fe12b82ce2d237acd060b1e387e7a6dfbf958851
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87614929"
---
# <a name="clustering-model-query-examples"></a><span data-ttu-id="4efd8-102">Exemples de requêtes de modèle de clustering</span><span class="sxs-lookup"><span data-stu-id="4efd8-102">Clustering Model Query Examples</span></span>
  <span data-ttu-id="4efd8-103">Lorsque vous créez une requête sur un modèle d'exploration de données, vous pouvez récupérer les métadonnées sur le modèle ou créer une requête de contenu qui fournit des détails sur les séquences découvertes dans l'analyse.</span><span class="sxs-lookup"><span data-stu-id="4efd8-103">When you create a query against a data mining model, you can retrieve metadata about the model, or create a content query that provides details about the patterns discovered in analysis.</span></span> <span data-ttu-id="4efd8-104">Une autre solution consiste à créer une requête de prédiction qui utilise les séquences dans le modèle pour faire des prédictions pour les nouvelles données.</span><span class="sxs-lookup"><span data-stu-id="4efd8-104">Alternatively, you can create a prediction query, which uses the patterns in the model to make predictions for new data.</span></span> <span data-ttu-id="4efd8-105">Chaque type de requête fournit des informations différentes.</span><span class="sxs-lookup"><span data-stu-id="4efd8-105">Each type of query will provide different information.</span></span> <span data-ttu-id="4efd8-106">Par exemple, une requête de contenu peut fournir des détails supplémentaires sur les clusters identifiés, tandis qu'une requête de prédiction peut vous dire à quel cluster un nouveau point de données est le plus susceptible d'appartenir.</span><span class="sxs-lookup"><span data-stu-id="4efd8-106">For example, a content query might provide additional details about the clusters that were found, whereas a prediction query might tell you in which cluster a new data point is most likely to belong.</span></span>  
  
 <span data-ttu-id="4efd8-107">Cette section explique comment créer des requêtes pour les modèles basés sur l'algorithme de clustering [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="4efd8-107">This section explains how to create queries for models that are based on the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm.</span></span>  
  
 <span data-ttu-id="4efd8-108">**Requêtes de contenu**</span><span class="sxs-lookup"><span data-stu-id="4efd8-108">**Content Queries**</span></span>  
  
 [<span data-ttu-id="4efd8-109">Obtention des métadonnées du modèle avec DMX</span><span class="sxs-lookup"><span data-stu-id="4efd8-109">Getting Model Metadata by Using DMX</span></span>](#bkmk_Query1)  
  
 [<span data-ttu-id="4efd8-110">Récupération des métadonnées du modèle de l'ensemble de lignes de schéma</span><span class="sxs-lookup"><span data-stu-id="4efd8-110">Retrieving Model Metadata from the Schema Rowset</span></span>](#bkmk_Query2)  
  
 [<span data-ttu-id="4efd8-111">Retour d'un cluster ou d'une liste de clusters</span><span class="sxs-lookup"><span data-stu-id="4efd8-111">Returning a Cluster or a List of Clusters</span></span>](#bkmk_Query3)  
  
 [<span data-ttu-id="4efd8-112">Retour d'attributs pour un cluster</span><span class="sxs-lookup"><span data-stu-id="4efd8-112">Returning Attributes for a Cluster</span></span>](#bkmk_Query4)  
  
 [<span data-ttu-id="4efd8-113">Retour d'un profil de cluster à l'aide de procédures stockées système</span><span class="sxs-lookup"><span data-stu-id="4efd8-113">Returning a Cluster Profile Using System Stored Procedures</span></span>](#bkmk_Query5)  
  
 [<span data-ttu-id="4efd8-114">Recherche de facteurs de discrimination pour un cluster</span><span class="sxs-lookup"><span data-stu-id="4efd8-114">Finding Discriminating Factors for a Cluster</span></span>](#bkmk_Query6)  
  
 [<span data-ttu-id="4efd8-115">Retour des cas qui appartiennent à un cluster</span><span class="sxs-lookup"><span data-stu-id="4efd8-115">Returning Cases that Belong to a Cluster</span></span>](#bkmk_Query7)  
  
 <span data-ttu-id="4efd8-116">**Requêtes de prédiction**</span><span class="sxs-lookup"><span data-stu-id="4efd8-116">**Prediction Queries**</span></span>  
  
 [<span data-ttu-id="4efd8-117">Prédiction de résultats à partir d'un modèle de clustering</span><span class="sxs-lookup"><span data-stu-id="4efd8-117">Predicting Outcomes from a Clustering Model</span></span>](#bkmk_Query8)  
  
 [<span data-ttu-id="4efd8-118">Détermination de l'appartenance au cluster</span><span class="sxs-lookup"><span data-stu-id="4efd8-118">Determining Cluster Membership</span></span>](#bkmk_Query9)  
  
 [<span data-ttu-id="4efd8-119">Retour de tous les clusters possibles avec la probabilité et la distance</span><span class="sxs-lookup"><span data-stu-id="4efd8-119">Returning All Possible Clusters with Probability and Distance</span></span>](#bkmk_Query10)  
  
##  <a name="finding-information-about-the-model"></a><a name="bkmk_top2"></a> <span data-ttu-id="4efd8-120">Recherche d'informations sur le modèle</span><span class="sxs-lookup"><span data-stu-id="4efd8-120">Finding Information about the Model</span></span>  
 <span data-ttu-id="4efd8-121">Tous les modèles d'exploration de données exposent le contenu appris par l'algorithme en fonction d'un schéma standardisé : l'ensemble de lignes de schéma du modèle d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="4efd8-121">All mining models expose the content learned by the algorithm according to a standardized schema, the mining model schema rowset.</span></span> <span data-ttu-id="4efd8-122">Vous pouvez créer des requêtes sur l'ensemble de lignes de schéma du modèle d'exploration de données en utilisant des instructions DMX (Data Mining Extension).</span><span class="sxs-lookup"><span data-stu-id="4efd8-122">You can create queries against the mining model schema rowset by using Data Mining Extension (DMX) statements.</span></span> <span data-ttu-id="4efd8-123">Dans [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], vous pouvez également interroger directement les ensemble de lignes de schéma en tant que tables système.</span><span class="sxs-lookup"><span data-stu-id="4efd8-123">In [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you can also query the schema rowsets directly as system tables.</span></span>  
  
 [<span data-ttu-id="4efd8-124">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-124">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-1-getting-model-metadata-by-using-dmx"></a><a name="bkmk_Query1"></a> <span data-ttu-id="4efd8-125">Exemple de requête 1 : obtention des métadonnées du modèle à l'aide de DMX</span><span class="sxs-lookup"><span data-stu-id="4efd8-125">Sample Query 1: Getting Model Metadata by Using DMX</span></span>  
 <span data-ttu-id="4efd8-126">La requête suivante retourne les métadonnées de base sur le modèle de clustering `TM_Clustering`que vous avez créé dans le Didacticiel sur l'exploration de données de base.</span><span class="sxs-lookup"><span data-stu-id="4efd8-126">The following query returns basic metadata about the clustering model, `TM_Clustering`, that you created in the Basic Data Mining Tutorial.</span></span> <span data-ttu-id="4efd8-127">Les métadonnées disponibles dans le nœud parent d'un modèle de clustering incluent le nom du modèle, la base de données où le modèle est stocké et le nombre de nœuds enfants dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="4efd8-127">The metadata available in the parent node of a clustering model includes the name of the model, the database where the model is stored, and the number of child nodes in the model.</span></span> <span data-ttu-id="4efd8-128">Cette requête utilise une requête de contenu DMX pour récupérer les métadonnées du nœud parent du modèle:</span><span class="sxs-lookup"><span data-stu-id="4efd8-128">This query uses a DMX content query to retrieve the metadata from the parent node of the model:</span></span>  
  
```  
SELECT MODEL_CATALOG, MODEL_NAME, NODE_CAPTION,   
NODE_SUPPORT, [CHILDREN_CARDINALITY], NODE_DESCRIPTION  
FROM TM_Clustering.CONTENT  
WHERE NODE_TYPE = 1  
```  
  
> [!NOTE]  
>  <span data-ttu-id="4efd8-129">Vous devez mettre le nom de la colonne, CHILDREN_CARDINALITY, entre parenthèses pour le distinguer du mot clé réservé MDX (Multidimensional Expressions) qui porte le même nom.</span><span class="sxs-lookup"><span data-stu-id="4efd8-129">You must enclose the name of the column, CHILDREN_CARDINALITY, in brackets to distinguish it from the Multidimensional Expressions (MDX) reserved keyword of the same name.</span></span>  
  
 <span data-ttu-id="4efd8-130">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="4efd8-130">Example results:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="4efd8-131">MODEL_CATALOG</span><span class="sxs-lookup"><span data-stu-id="4efd8-131">MODEL_CATALOG</span></span>|<span data-ttu-id="4efd8-132">TM_Clustering</span><span class="sxs-lookup"><span data-stu-id="4efd8-132">TM_Clustering</span></span>|  
|<span data-ttu-id="4efd8-133">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="4efd8-133">MODEL_NAME</span></span>|<span data-ttu-id="4efd8-134">Adventure Works DW</span><span class="sxs-lookup"><span data-stu-id="4efd8-134">Adventure Works DW</span></span>|  
|<span data-ttu-id="4efd8-135">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="4efd8-135">NODE_CAPTION</span></span>|<span data-ttu-id="4efd8-136">Modèle de cluster</span><span class="sxs-lookup"><span data-stu-id="4efd8-136">Cluster Model</span></span>|  
|<span data-ttu-id="4efd8-137">NODE_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="4efd8-137">NODE_SUPPORT</span></span>|<span data-ttu-id="4efd8-138">12939</span><span class="sxs-lookup"><span data-stu-id="4efd8-138">12939</span></span>|  
|<span data-ttu-id="4efd8-139">CHILDREN_CARDINALITY</span><span class="sxs-lookup"><span data-stu-id="4efd8-139">CHILDREN_CARDINALITY</span></span>|<span data-ttu-id="4efd8-140">10</span><span class="sxs-lookup"><span data-stu-id="4efd8-140">10</span></span>|  
|<span data-ttu-id="4efd8-141">NODE_DESCRIPTION</span><span class="sxs-lookup"><span data-stu-id="4efd8-141">NODE_DESCRIPTION</span></span>|<span data-ttu-id="4efd8-142">Tous</span><span class="sxs-lookup"><span data-stu-id="4efd8-142">All</span></span>|  
  
 <span data-ttu-id="4efd8-143">Pour connaître la signification de ces colonnes dans un modèle de clustering, consultez [Contenu du modèle d’exploration de données pour les modèles de clustering &#40;Analysis Services - Exploration de données&#41;](mining-model-content-for-clustering-models-analysis-services-data-mining.md).</span><span class="sxs-lookup"><span data-stu-id="4efd8-143">For a definition of what these columns mean in a clustering model, see [Mining Model Content for Clustering Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-clustering-models-analysis-services-data-mining.md).</span></span>  
  
 [<span data-ttu-id="4efd8-144">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-144">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-2-retrieving-model-metadata-from-the-schema-rowset"></a><a name="bkmk_Query2"></a><span data-ttu-id="4efd8-145">Exemple de requête 2 : récupération des métadonnées de modèle à partir de l’ensemble de lignes de schéma</span><span class="sxs-lookup"><span data-stu-id="4efd8-145">Sample Query 2: Retrieving Model Metadata from the Schema Rowset</span></span>  
 <span data-ttu-id="4efd8-146">En interrogeant l'ensemble de lignes de schéma d'exploration de données, vous pouvez obtenir les mêmes informations que celles retournées par une requête de contenu DMX.</span><span class="sxs-lookup"><span data-stu-id="4efd8-146">By querying the data mining schema rowset, you can find the same information that is returned in a DMX content query.</span></span> <span data-ttu-id="4efd8-147">Toutefois, l'ensemble de lignes de schéma fournit quelques colonnes supplémentaires,</span><span class="sxs-lookup"><span data-stu-id="4efd8-147">However, the schema rowset provides some additional columns.</span></span> <span data-ttu-id="4efd8-148">telles que les paramètres utilisés lorsque le modèle a été créé, la date et l'heure auxquelles le modèle a été traité pour la dernière fois et le propriétaire du modèle.</span><span class="sxs-lookup"><span data-stu-id="4efd8-148">These include the parameters that were used when the model was created, the date and time that the model was last processed, and the owner of the model.</span></span>  
  
 <span data-ttu-id="4efd8-149">L'exemple suivant retourne la date à laquelle le modèle a été créé, modifié et traité pour la dernière fois, ainsi que les paramètres de clustering utilisés pour générer le modèle et la taille du jeu d'apprentissage.</span><span class="sxs-lookup"><span data-stu-id="4efd8-149">The following example returns the date the model was created, modified, and last processed, together with the clustering parameters that were used to build the model, and the size of the training set.</span></span> <span data-ttu-id="4efd8-150">Ces informations peuvent être utiles pour documenter le modèle ou pour déterminer les options de clustering qui ont été utilisées pour créer un modèle existant.</span><span class="sxs-lookup"><span data-stu-id="4efd8-150">This information can be useful for documenting the model, or for determining which of the clustering options were used to create an existing model.</span></span>  
  
```  
SELECT MODEL_NAME, DATE_CREATED, LAST_PROCESSED, PREDICTION_ENTITY, MINING_PARAMETERS   
from $system.DMSCHEMA_MINING_MODELS  
WHERE MODEL_NAME = 'TM_Clustering'  
```  
  
 <span data-ttu-id="4efd8-151">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="4efd8-151">Example results:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="4efd8-152">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="4efd8-152">MODEL_NAME</span></span>|<span data-ttu-id="4efd8-153">TM_Clustering</span><span class="sxs-lookup"><span data-stu-id="4efd8-153">TM_Clustering</span></span>|  
|<span data-ttu-id="4efd8-154">DATE_CREATED</span><span class="sxs-lookup"><span data-stu-id="4efd8-154">DATE_CREATED</span></span>|<span data-ttu-id="4efd8-155">10/12/2007 7:42:51 PM</span><span class="sxs-lookup"><span data-stu-id="4efd8-155">10/12/2007 7:42:51 PM</span></span>|  
|<span data-ttu-id="4efd8-156">LAST_PROCESSED</span><span class="sxs-lookup"><span data-stu-id="4efd8-156">LAST_PROCESSED</span></span>|<span data-ttu-id="4efd8-157">10/12/2007 8:09:54 PM</span><span class="sxs-lookup"><span data-stu-id="4efd8-157">10/12/2007 8:09:54 PM</span></span>|  
|<span data-ttu-id="4efd8-158">PREDICTION_ENTITY</span><span class="sxs-lookup"><span data-stu-id="4efd8-158">PREDICTION_ENTITY</span></span>|<span data-ttu-id="4efd8-159">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="4efd8-159">Bike Buyer</span></span>|  
|<span data-ttu-id="4efd8-160">MINING_PARAMETERS</span><span class="sxs-lookup"><span data-stu-id="4efd8-160">MINING_PARAMETERS</span></span>|<span data-ttu-id="4efd8-161">CLUSTER_COUNT=10,</span><span class="sxs-lookup"><span data-stu-id="4efd8-161">CLUSTER_COUNT=10,</span></span><br /><br /> <span data-ttu-id="4efd8-162">CLUSTER_SEED=0,</span><span class="sxs-lookup"><span data-stu-id="4efd8-162">CLUSTER_SEED=0,</span></span><br /><br /> <span data-ttu-id="4efd8-163">CLUSTERING_METHOD=1,</span><span class="sxs-lookup"><span data-stu-id="4efd8-163">CLUSTERING_METHOD=1,</span></span><br /><br /> <span data-ttu-id="4efd8-164">MAXIMUM_INPUT_ATTRIBUTES=255,</span><span class="sxs-lookup"><span data-stu-id="4efd8-164">MAXIMUM_INPUT_ATTRIBUTES=255,</span></span><br /><br /> <span data-ttu-id="4efd8-165">MAXIMUM_STATES=100,</span><span class="sxs-lookup"><span data-stu-id="4efd8-165">MAXIMUM_STATES=100,</span></span><br /><br /> <span data-ttu-id="4efd8-166">MINIMUM_SUPPORT=1,</span><span class="sxs-lookup"><span data-stu-id="4efd8-166">MINIMUM_SUPPORT=1,</span></span><br /><br /> <span data-ttu-id="4efd8-167">MODELLING_CARDINALITY=10,</span><span class="sxs-lookup"><span data-stu-id="4efd8-167">MODELLING_CARDINALITY=10,</span></span><br /><br /> <span data-ttu-id="4efd8-168">SAMPLE_SIZE=50000,</span><span class="sxs-lookup"><span data-stu-id="4efd8-168">SAMPLE_SIZE=50000,</span></span><br /><br /> <span data-ttu-id="4efd8-169">STOPPING_TOLERANCE=10</span><span class="sxs-lookup"><span data-stu-id="4efd8-169">STOPPING_TOLERANCE=10</span></span>|  
  
 [<span data-ttu-id="4efd8-170">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-170">Return to Top</span></span>](#bkmk_top2)  
  
## <a name="finding-information-about-clusters"></a><span data-ttu-id="4efd8-171">Recherche d'informations sur les Clusters</span><span class="sxs-lookup"><span data-stu-id="4efd8-171">Finding Information about Clusters</span></span>  
 <span data-ttu-id="4efd8-172">Les requêtes de contenu les plus utiles sur les modèles de clustering retournent généralement le même type d'informations que celles auxquelles vous pouvez accéder à l'aide de **Cluster Viewer**.</span><span class="sxs-lookup"><span data-stu-id="4efd8-172">The most useful content queries on clustering models generally return the same type of information that you can browse by using the **Cluster Viewer**.</span></span> <span data-ttu-id="4efd8-173">Il s'agit notamment des profils, des caractéristiques et de la discrimination de cluster.</span><span class="sxs-lookup"><span data-stu-id="4efd8-173">This includes cluster profiles, cluster characteristics, and cluster discrimination.</span></span> <span data-ttu-id="4efd8-174">Cette section fournit des exemples de requêtes qui récupèrent ces informations.</span><span class="sxs-lookup"><span data-stu-id="4efd8-174">This section provides examples of queries that retrieve this information.</span></span>  
  
###  <a name="sample-query-3-returning-a-cluster-or-list-of-clusters"></a><a name="bkmk_Query3"></a> <span data-ttu-id="4efd8-175">Exemple de requête 3: retour d'un cluster ou d'une liste de clusters</span><span class="sxs-lookup"><span data-stu-id="4efd8-175">Sample Query 3: Returning a Cluster or List of Clusters</span></span>  
 <span data-ttu-id="4efd8-176">Tous les clusters ayant un type de nœud égal à 5, vous pouvez facilement récupérer une liste des clusters en interrogeant uniquement le contenu du modèle au sujet des nœuds de ce type.</span><span class="sxs-lookup"><span data-stu-id="4efd8-176">Because all clusters have a node type of 5, you can easily retrieve a list of the clusters by querying the model content for only the nodes of that type.</span></span> <span data-ttu-id="4efd8-177">Vous pouvez également filtrer les nœuds retournés par probabilité ou par prise en charge, comme le montre cet exemple.</span><span class="sxs-lookup"><span data-stu-id="4efd8-177">You can also filter the nodes that are returned by probability or by support, as shown in this example.</span></span>  
  
```  
SELECT NODE_NAME, NODE_CAPTION ,NODE_SUPPORT, NODE_DESCRIPTION  
FROM TM_Clustering.CONTENT  
WHERE NODE_TYPE = 5 AND NODE_SUPPORT > 1000  
```  
  
 <span data-ttu-id="4efd8-178">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="4efd8-178">Example results:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="4efd8-179">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="4efd8-179">NODE_NAME</span></span>|<span data-ttu-id="4efd8-180">002</span><span class="sxs-lookup"><span data-stu-id="4efd8-180">002</span></span>|  
|<span data-ttu-id="4efd8-181">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="4efd8-181">NODE_CAPTION</span></span>|<span data-ttu-id="4efd8-182">Cluster 2</span><span class="sxs-lookup"><span data-stu-id="4efd8-182">Cluster 2</span></span>|  
|<span data-ttu-id="4efd8-183">NODE_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="4efd8-183">NODE_SUPPORT</span></span>|<span data-ttu-id="4efd8-184">1649</span><span class="sxs-lookup"><span data-stu-id="4efd8-184">1649</span></span>|  
|<span data-ttu-id="4efd8-185">NODE_DESCRIPTION</span><span class="sxs-lookup"><span data-stu-id="4efd8-185">NODE_DESCRIPTION</span></span>|<span data-ttu-id="4efd8-186">English Education=Graduate Degree , 32 <=Age <=48 , Number Cars Owned=0 , 35964.0771121808 <=Yearly Income <=97407.7163393957 , English Occupation=Professional , Commute Distance=2-5 Miles , Region=North America , Bike Buyer=1 , Number Children At Home=0 , Number Cars Owned=1 , Commute Distance=0-1 Miles , English Education=Bachelors , Total Children=1 , Number Children At Home=2 , English Occupation=Skilled Manual , Marital Status=S , Total Children=0 , House Owner Flag=0 , Gender=F , Total Children=2 , Region=Pacific</span><span class="sxs-lookup"><span data-stu-id="4efd8-186">English Education=Graduate Degree , 32 <=Age <=48 , Number Cars Owned=0 , 35964.0771121808 <=Yearly Income <=97407.7163393957 , English Occupation=Professional , Commute Distance=2-5 Miles , Region=North America , Bike Buyer=1 , Number Children At Home=0 , Number Cars Owned=1 , Commute Distance=0-1 Miles , English Education=Bachelors , Total Children=1 , Number Children At Home=2 , English Occupation=Skilled Manual , Marital Status=S , Total Children=0 , House Owner Flag=0 , Gender=F , Total Children=2 , Region=Pacific</span></span>|  
  
 <span data-ttu-id="4efd8-187">Les attributs qui définissent le cluster se trouvent dans deux colonnes dans l'ensemble de lignes de schéma d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="4efd8-187">The attributes that define the cluster can be found in two columns in the data mining schema rowset.</span></span>  
  
-   <span data-ttu-id="4efd8-188">La colonne NODE_DESCRIPTION contient une liste séparée par des virgules d'attributs.</span><span class="sxs-lookup"><span data-stu-id="4efd8-188">The NODE_DESCRIPTION column contains a comma-separated list of attributes.</span></span> <span data-ttu-id="4efd8-189">Notez qu'il est possible d'abréger la liste d'attributs à des fins d'affichage.</span><span class="sxs-lookup"><span data-stu-id="4efd8-189">Note that the list of attributes might be abbreviated for display purposes.</span></span>  
  
-   <span data-ttu-id="4efd8-190">La table imbriquée dans la colonne NODE_DISTRIBUTION contient la liste complète des attributs du cluster.</span><span class="sxs-lookup"><span data-stu-id="4efd8-190">The nested table in the NODE_DISTRIBUTION column contains the full list of attributes for the cluster.</span></span> <span data-ttu-id="4efd8-191">Si votre client ne prend pas en charge d'ensembles de lignes hiérarchiques, vous pouvez retourner la table imbriquée en ajoutant le mot clé FLATTENED avant la liste des colonnes SELECT.</span><span class="sxs-lookup"><span data-stu-id="4efd8-191">If your client does not support hierarchical rowsets, you can return the nested table by adding the FLATTENED keyword before the SELECT column list.</span></span> <span data-ttu-id="4efd8-192">Pour plus d’informations sur l’utilisation du mot clé FLATTENED, consultez [SELECT FROM &#60;modèle&#62;.CONTENT &#40;DMX&#41;](/sql/dmx/select-from-model-dimension-content-dmx).</span><span class="sxs-lookup"><span data-stu-id="4efd8-192">For more information about the use of the FLATTENED keyword, see [SELECT FROM &#60;model&#62;.CONTENT &#40;DMX&#41;](/sql/dmx/select-from-model-dimension-content-dmx).</span></span>  
  
 [<span data-ttu-id="4efd8-193">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-193">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-4-returning-attributes-for-a-cluster"></a><a name="bkmk_Query4"></a> <span data-ttu-id="4efd8-194">Exemple de requête 4 : retour d'attributs pour un cluster</span><span class="sxs-lookup"><span data-stu-id="4efd8-194">Sample Query 4: Returning Attributes for a Cluster</span></span>  
 <span data-ttu-id="4efd8-195">Pour chaque cluster, **Cluster Viewer** affiche un profil qui répertorie les attributs et leurs valeurs.</span><span class="sxs-lookup"><span data-stu-id="4efd8-195">For every cluster, the **Cluster Viewer** displays a profile that lists the attributes and their values.</span></span> <span data-ttu-id="4efd8-196">La visionneuse affiche également un histogramme qui montre la distribution des valeurs pour toute la population de cas dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="4efd8-196">The viewer also displays a histogram that shows the distribution of values for the whole population of cases in the model.</span></span> <span data-ttu-id="4efd8-197">Si vous parcourez le modèle dans la visionneuse, vous pouvez copier facilement l'histogramme de la Légende d'exploration de données et le coller dans un document Excel ou Word.</span><span class="sxs-lookup"><span data-stu-id="4efd8-197">If you are browsing the model in the viewer, you can easily copy the histogram from the Mining Legend and then paste it to Excel or a Word document.</span></span> <span data-ttu-id="4efd8-198">Vous pouvez également utiliser le volet Caractéristiques du cluster de la visionneuse pour comparer graphiquement les attributs de différents clusters.</span><span class="sxs-lookup"><span data-stu-id="4efd8-198">You can also use the Cluster Characteristics pane of the viewer to graphically compare the attributes of different clusters.</span></span>  
  
 <span data-ttu-id="4efd8-199">Toutefois, si vous devez obtenir des valeurs pour plusieurs clusters à la fois, il est plus facile d'interroger le modèle.</span><span class="sxs-lookup"><span data-stu-id="4efd8-199">However, if you must obtain values for more than one cluster at a time, it is easier to query the model.</span></span> <span data-ttu-id="4efd8-200">Par exemple, lorsque vous parcourez le modèle, vous pouvez remarquer que les deux premiers clusters diffèrent d'un attribut, `Number Cars Owned`.</span><span class="sxs-lookup"><span data-stu-id="4efd8-200">For example, when you browse the model, you might notice that the top two clusters differ with regard to one attribute, `Number Cars Owned`.</span></span> <span data-ttu-id="4efd8-201">Par conséquent, vous souhaitez extraire les valeurs pour chaque cluster.</span><span class="sxs-lookup"><span data-stu-id="4efd8-201">Therefore, you want to extract the values for each cluster.</span></span>  
  
```  
SELECT TOP 2 NODE_NAME,   
(SELECT ATTRIBUTE_VALUE, [PROBABILITY] FROM NODE_DISTRIBUTION WHERE ATTRIBUTE_NAME = 'Number Cars Owned')  
AS t  
FROM [TM_Clustering].CONTENT  
WHERE NODE_TYPE = 5  
```  
  
 <span data-ttu-id="4efd8-202">La première ligne du code spécifie que vous souhaitez uniquement les deux premiers clusters.</span><span class="sxs-lookup"><span data-stu-id="4efd8-202">The first line of the code specifies that you want only the top two clusters.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="4efd8-203">Par défaut, les clusters sont classés par prise en charge.</span><span class="sxs-lookup"><span data-stu-id="4efd8-203">By default, the clusters are ordered by support.</span></span> <span data-ttu-id="4efd8-204">Par conséquent, la colonne NODE_SUPPORT peut être omise.</span><span class="sxs-lookup"><span data-stu-id="4efd8-204">Therefore, the NODE_SUPPORT column can be omitted.</span></span>  
  
 <span data-ttu-id="4efd8-205">La deuxième ligne du code ajoute une instruction de sous-sélection qui retourne uniquement certaines colonnes de la colonne de table imbriquée.</span><span class="sxs-lookup"><span data-stu-id="4efd8-205">The second line of the code adds a sub-select statement that returns only certain columns from the nested table column.</span></span> <span data-ttu-id="4efd8-206">En outre, elle restreint les lignes de la table imbriquée à celles qui sont liées à l'attribut cible, `Number Cars Owned`.</span><span class="sxs-lookup"><span data-stu-id="4efd8-206">Furthermore, it restricts the rows from the nested table to those related to the target attribute, `Number Cars Owned`.</span></span> <span data-ttu-id="4efd8-207">Pour simplifier l'affichage, la table imbriquée possède un alias.</span><span class="sxs-lookup"><span data-stu-id="4efd8-207">To simplify the display, the nested table is aliased.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="4efd8-208">Vous devez mettre la colonne de table imbriquée, `PROBABILITY`, entre parenthèses car un mot clé MDX réservé porte le même nom.</span><span class="sxs-lookup"><span data-stu-id="4efd8-208">The nested table column, `PROBABILITY`, must be enclosed in brackets because it is also the name of a reserved MDX keyword.</span></span>  
>   
>  <span data-ttu-id="4efd8-209">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="4efd8-209">Example results:</span></span>  
  
|<span data-ttu-id="4efd8-210">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="4efd8-210">NODE_NAME</span></span>|<span data-ttu-id="4efd8-211">T.ATTRIBUTE_VALUE</span><span class="sxs-lookup"><span data-stu-id="4efd8-211">T.ATTRIBUTE_VALUE</span></span>|<span data-ttu-id="4efd8-212">T.PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="4efd8-212">T.PROBABILITY</span></span>|  
|----------------|------------------------|-------------------|  
|<span data-ttu-id="4efd8-213">001</span><span class="sxs-lookup"><span data-stu-id="4efd8-213">001</span></span>|<span data-ttu-id="4efd8-214">2</span><span class="sxs-lookup"><span data-stu-id="4efd8-214">2</span></span>|<span data-ttu-id="4efd8-215">0.829207754</span><span class="sxs-lookup"><span data-stu-id="4efd8-215">0.829207754</span></span>|  
|<span data-ttu-id="4efd8-216">001</span><span class="sxs-lookup"><span data-stu-id="4efd8-216">001</span></span>|<span data-ttu-id="4efd8-217">1</span><span class="sxs-lookup"><span data-stu-id="4efd8-217">1</span></span>|<span data-ttu-id="4efd8-218">0.109354156</span><span class="sxs-lookup"><span data-stu-id="4efd8-218">0.109354156</span></span>|  
|<span data-ttu-id="4efd8-219">001</span><span class="sxs-lookup"><span data-stu-id="4efd8-219">001</span></span>|<span data-ttu-id="4efd8-220">3</span><span class="sxs-lookup"><span data-stu-id="4efd8-220">3</span></span>|<span data-ttu-id="4efd8-221">0.034481552</span><span class="sxs-lookup"><span data-stu-id="4efd8-221">0.034481552</span></span>|  
|<span data-ttu-id="4efd8-222">001</span><span class="sxs-lookup"><span data-stu-id="4efd8-222">001</span></span>|<span data-ttu-id="4efd8-223">4</span><span class="sxs-lookup"><span data-stu-id="4efd8-223">4</span></span>|<span data-ttu-id="4efd8-224">0.013503302</span><span class="sxs-lookup"><span data-stu-id="4efd8-224">0.013503302</span></span>|  
|<span data-ttu-id="4efd8-225">001</span><span class="sxs-lookup"><span data-stu-id="4efd8-225">001</span></span>|<span data-ttu-id="4efd8-226">0</span><span class="sxs-lookup"><span data-stu-id="4efd8-226">0</span></span>|<span data-ttu-id="4efd8-227">0.013453236</span><span class="sxs-lookup"><span data-stu-id="4efd8-227">0.013453236</span></span>|  
|<span data-ttu-id="4efd8-228">001</span><span class="sxs-lookup"><span data-stu-id="4efd8-228">001</span></span>|<span data-ttu-id="4efd8-229">Manquant</span><span class="sxs-lookup"><span data-stu-id="4efd8-229">Missing</span></span>|<span data-ttu-id="4efd8-230">0</span><span class="sxs-lookup"><span data-stu-id="4efd8-230">0</span></span>|  
|<span data-ttu-id="4efd8-231">002</span><span class="sxs-lookup"><span data-stu-id="4efd8-231">002</span></span>|<span data-ttu-id="4efd8-232">0</span><span class="sxs-lookup"><span data-stu-id="4efd8-232">0</span></span>|<span data-ttu-id="4efd8-233">0.576980023</span><span class="sxs-lookup"><span data-stu-id="4efd8-233">0.576980023</span></span>|  
|<span data-ttu-id="4efd8-234">002</span><span class="sxs-lookup"><span data-stu-id="4efd8-234">002</span></span>|<span data-ttu-id="4efd8-235">1</span><span class="sxs-lookup"><span data-stu-id="4efd8-235">1</span></span>|<span data-ttu-id="4efd8-236">0.406623939</span><span class="sxs-lookup"><span data-stu-id="4efd8-236">0.406623939</span></span>|  
|<span data-ttu-id="4efd8-237">002</span><span class="sxs-lookup"><span data-stu-id="4efd8-237">002</span></span>|<span data-ttu-id="4efd8-238">2</span><span class="sxs-lookup"><span data-stu-id="4efd8-238">2</span></span>|<span data-ttu-id="4efd8-239">0.016380082</span><span class="sxs-lookup"><span data-stu-id="4efd8-239">0.016380082</span></span>|  
|<span data-ttu-id="4efd8-240">002</span><span class="sxs-lookup"><span data-stu-id="4efd8-240">002</span></span>|<span data-ttu-id="4efd8-241">3</span><span class="sxs-lookup"><span data-stu-id="4efd8-241">3</span></span>|<span data-ttu-id="4efd8-242">1.60E-05</span><span class="sxs-lookup"><span data-stu-id="4efd8-242">1.60E-05</span></span>|  
|<span data-ttu-id="4efd8-243">002</span><span class="sxs-lookup"><span data-stu-id="4efd8-243">002</span></span>|<span data-ttu-id="4efd8-244">4</span><span class="sxs-lookup"><span data-stu-id="4efd8-244">4</span></span>|<span data-ttu-id="4efd8-245">0</span><span class="sxs-lookup"><span data-stu-id="4efd8-245">0</span></span>|  
|<span data-ttu-id="4efd8-246">002</span><span class="sxs-lookup"><span data-stu-id="4efd8-246">002</span></span>|<span data-ttu-id="4efd8-247">Manquant</span><span class="sxs-lookup"><span data-stu-id="4efd8-247">Missing</span></span>|<span data-ttu-id="4efd8-248">0</span><span class="sxs-lookup"><span data-stu-id="4efd8-248">0</span></span>|  
  
 [<span data-ttu-id="4efd8-249">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-249">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-5-return-a-cluster-profile-using-system-stored-procedures"></a><a name="bkmk_Query5"></a> <span data-ttu-id="4efd8-250">Exemple de requête 5 : retour d'un profil de cluster à l'aide de procédures stockées système</span><span class="sxs-lookup"><span data-stu-id="4efd8-250">Sample Query 5: Return a Cluster Profile Using System Stored Procedures</span></span>  
 <span data-ttu-id="4efd8-251">Pour aller plus vite, au lieu d'écrire vos propres requêtes avec DMX, vous pouvez appeler les procédures stockées système que [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilise pour traiter les clusters.</span><span class="sxs-lookup"><span data-stu-id="4efd8-251">As a shortcut, rather than writing your own queries by using DMX, you can also call the system stored procedures that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses to work with clusters.</span></span> <span data-ttu-id="4efd8-252">L'exemple suivant illustre comment utiliser les procédures stockées internes pour retourner le profil pour un cluster avec l'ID 002.</span><span class="sxs-lookup"><span data-stu-id="4efd8-252">The following example illustrates how to use the internal stored procedures to return the profile for a cluster with the ID of 002.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterProfiles('TM_Clustering", '002',0.0005  
```  
  
 <span data-ttu-id="4efd8-253">De la même façon, vous pouvez utiliser une procédure stockée système pour retourner les caractéristiques d'un cluster spécifique, comme le montre l'exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="4efd8-253">Similarly, you can use a system stored procedure to return the characteristics of a specific cluster, as shown in the following example:</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterCharacteristics('TM_Clustering", '009',0.0005  
```  
  
 <span data-ttu-id="4efd8-254">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="4efd8-254">Example results:</span></span>  
  
|<span data-ttu-id="4efd8-255">Attributs</span><span class="sxs-lookup"><span data-stu-id="4efd8-255">Attributes</span></span>|<span data-ttu-id="4efd8-256">Valeurs</span><span class="sxs-lookup"><span data-stu-id="4efd8-256">Values</span></span>|<span data-ttu-id="4efd8-257">Fréquence</span><span class="sxs-lookup"><span data-stu-id="4efd8-257">Frequency</span></span>|<span data-ttu-id="4efd8-258">Support</span><span class="sxs-lookup"><span data-stu-id="4efd8-258">Support</span></span>|  
|----------------|------------|---------------|-------------|  
|<span data-ttu-id="4efd8-259">Number Children at Home</span><span class="sxs-lookup"><span data-stu-id="4efd8-259">Number Children at Home</span></span>|<span data-ttu-id="4efd8-260">0</span><span class="sxs-lookup"><span data-stu-id="4efd8-260">0</span></span>|<span data-ttu-id="4efd8-261">0.999999829076798</span><span class="sxs-lookup"><span data-stu-id="4efd8-261">0.999999829076798</span></span>|<span data-ttu-id="4efd8-262">899</span><span class="sxs-lookup"><span data-stu-id="4efd8-262">899</span></span>|  
|<span data-ttu-id="4efd8-263">Région</span><span class="sxs-lookup"><span data-stu-id="4efd8-263">Region</span></span>|<span data-ttu-id="4efd8-264">Amérique du Nord</span><span class="sxs-lookup"><span data-stu-id="4efd8-264">North America</span></span>|<span data-ttu-id="4efd8-265">0.999852875241508</span><span class="sxs-lookup"><span data-stu-id="4efd8-265">0.999852875241508</span></span>|<span data-ttu-id="4efd8-266">899</span><span class="sxs-lookup"><span data-stu-id="4efd8-266">899</span></span>|  
|<span data-ttu-id="4efd8-267">Total Children</span><span class="sxs-lookup"><span data-stu-id="4efd8-267">Total Children</span></span>|<span data-ttu-id="4efd8-268">0</span><span class="sxs-lookup"><span data-stu-id="4efd8-268">0</span></span>|<span data-ttu-id="4efd8-269">0.993860958572323</span><span class="sxs-lookup"><span data-stu-id="4efd8-269">0.993860958572323</span></span>|<span data-ttu-id="4efd8-270">893</span><span class="sxs-lookup"><span data-stu-id="4efd8-270">893</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="4efd8-271">Les procédures stockées système d'exploration de données sont destinées à une utilisation interne et [!INCLUDE[msCoName](../../includes/msconame-md.md)] se réserve le droit de les modifier si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4efd8-271">The data mining system stored procedures are for internal use and [!INCLUDE[msCoName](../../includes/msconame-md.md)] reserves the right to change them as needed.</span></span> <span data-ttu-id="4efd8-272">Pour une utilisation dans un environnement de production, nous vous recommandons de créer les requêtes avec DMX, AMO ou XMLA.</span><span class="sxs-lookup"><span data-stu-id="4efd8-272">For production use, we recommend that you create queries by using DMX, AMO, or XMLA.</span></span>  
  
 [<span data-ttu-id="4efd8-273">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-273">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-6-find-discriminating-factors-for-a-cluster"></a><a name="bkmk_Query6"></a> <span data-ttu-id="4efd8-274">Exemple de requête 6 : recherche de facteurs de discrimination pour un cluster</span><span class="sxs-lookup"><span data-stu-id="4efd8-274">Sample Query 6: Find Discriminating Factors for a Cluster</span></span>  
 <span data-ttu-id="4efd8-275">L’onglet **Discrimination de cluster** de **Cluster Viewer** vous permet de comparer facilement un cluster à un autre ou de comparer un cluster avec tous les cas restants (le complément du cluster).</span><span class="sxs-lookup"><span data-stu-id="4efd8-275">The **Cluster Discrimination** tab of the **Cluster Viewer** enables you to easily compare a cluster with another cluster, or compare a cluster with all remaining cases (the complement of the cluster).</span></span>  
  
 <span data-ttu-id="4efd8-276">Toutefois, la création de requêtes pour retourner ces informations peut être complexe, et un traitement additionnel sur le client peut être nécessaire pour stocker les résultats temporaires et comparer les résultats de deux requêtes ou plus.</span><span class="sxs-lookup"><span data-stu-id="4efd8-276">However, creating queries to return this information can be complex, and you might need some additional processing on the client to store the temporary results and compare the results of two or more queries.</span></span> <span data-ttu-id="4efd8-277">Pour aller plus vite, vous pouvez utiliser les procédures stockées système.</span><span class="sxs-lookup"><span data-stu-id="4efd8-277">As a shortcut, you can use the system stored procedures.</span></span>  
  
 <span data-ttu-id="4efd8-278">La requête suivante retourne une table unique qui indique les facteurs de discrimination principaux entre les deux clusters avec les ID de nœud 009 et 007.</span><span class="sxs-lookup"><span data-stu-id="4efd8-278">The following query returns a single table that indicates the primary discriminating factors between the two clusters that have the node IDs of 009 and 007.</span></span> <span data-ttu-id="4efd8-279">Les attributs avec des valeurs positives favorisent le cluster 009, tandis que les attributs avec des valeurs négatives favorisent le cluster 007.</span><span class="sxs-lookup"><span data-stu-id="4efd8-279">Attributes with positive values favor cluster 009, whereas attributes with negative values favor cluster 007.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterDiscrimination('TM_Clustering','009','007',0.0005,true)  
```  
  
 <span data-ttu-id="4efd8-280">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="4efd8-280">Example results:</span></span>  
  
|<span data-ttu-id="4efd8-281">Attributs</span><span class="sxs-lookup"><span data-stu-id="4efd8-281">Attributes</span></span>|<span data-ttu-id="4efd8-282">Valeurs</span><span class="sxs-lookup"><span data-stu-id="4efd8-282">Values</span></span>|<span data-ttu-id="4efd8-283">Score</span><span class="sxs-lookup"><span data-stu-id="4efd8-283">Score</span></span>|  
|----------------|------------|-----------|  
|<span data-ttu-id="4efd8-284">Région</span><span class="sxs-lookup"><span data-stu-id="4efd8-284">Region</span></span>|<span data-ttu-id="4efd8-285">Amérique du Nord</span><span class="sxs-lookup"><span data-stu-id="4efd8-285">North America</span></span>|<span data-ttu-id="4efd8-286">100</span><span class="sxs-lookup"><span data-stu-id="4efd8-286">100</span></span>|  
|<span data-ttu-id="4efd8-287">English Occupation</span><span class="sxs-lookup"><span data-stu-id="4efd8-287">English Occupation</span></span>|<span data-ttu-id="4efd8-288">Skilled Manual</span><span class="sxs-lookup"><span data-stu-id="4efd8-288">Skilled Manual</span></span>|<span data-ttu-id="4efd8-289">94.9003803898654</span><span class="sxs-lookup"><span data-stu-id="4efd8-289">94.9003803898654</span></span>|  
|<span data-ttu-id="4efd8-290">Région</span><span class="sxs-lookup"><span data-stu-id="4efd8-290">Region</span></span>|<span data-ttu-id="4efd8-291">Europe</span><span class="sxs-lookup"><span data-stu-id="4efd8-291">Europe</span></span>|<span data-ttu-id="4efd8-292">-72.5041051379789</span><span class="sxs-lookup"><span data-stu-id="4efd8-292">-72.5041051379789</span></span>|  
|<span data-ttu-id="4efd8-293">English Occupation</span><span class="sxs-lookup"><span data-stu-id="4efd8-293">English Occupation</span></span>|<span data-ttu-id="4efd8-294">Manuel</span><span class="sxs-lookup"><span data-stu-id="4efd8-294">Manual</span></span>|<span data-ttu-id="4efd8-295">-69.6503163202722</span><span class="sxs-lookup"><span data-stu-id="4efd8-295">-69.6503163202722</span></span>|  
  
 <span data-ttu-id="4efd8-296">Ces informations sont les mêmes que celles présentées dans le graphique de la visionneuse **Discrimination de cluster** si vous sélectionnez le cluster 9 dans la première liste déroulante et le cluster 7 dans la deuxième.</span><span class="sxs-lookup"><span data-stu-id="4efd8-296">This is the same information that is presented in the chart of the **Cluster Discrimination** viewer if you select Cluster 9 from the first drop-down list and Cluster 7 from the second drop-down list.</span></span> <span data-ttu-id="4efd8-297">Pour comparer le cluster 9 avec son complément, vous utilisez la chaîne vide dans le deuxième paramètre, comme le montre l'exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="4efd8-297">To compare cluster 9 with its complement, you use the empty string in the second parameter, as shown in the following example:</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterDiscrimination('TM_Clustering','009','',0.0005,true)  
```  
  
> [!NOTE]  
>  <span data-ttu-id="4efd8-298">Les procédures stockées système d'exploration de données sont destinées à une utilisation interne et [!INCLUDE[msCoName](../../includes/msconame-md.md)] se réserve le droit de les modifier si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4efd8-298">The data mining system stored procedures are for internal use and [!INCLUDE[msCoName](../../includes/msconame-md.md)] reserves the right to change them as needed.</span></span> <span data-ttu-id="4efd8-299">Pour une utilisation dans un environnement de production, nous vous recommandons de créer les requêtes avec DMX, AMO ou XMLA.</span><span class="sxs-lookup"><span data-stu-id="4efd8-299">For production use, we recommend that you create queries by using DMX, AMO, or XMLA.</span></span>  
  
 [<span data-ttu-id="4efd8-300">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-300">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-7-returning-cases-that-belong-to-a-cluster"></a><a name="bkmk_Query7"></a> <span data-ttu-id="4efd8-301">Exemple de requête 7 : retour des cas qui appartiennent à un cluster</span><span class="sxs-lookup"><span data-stu-id="4efd8-301">Sample Query 7: Returning Cases that Belong to a Cluster</span></span>  
 <span data-ttu-id="4efd8-302">Si l'extraction a été activée sur le modèle d'exploration de données, vous pouvez créer des requêtes qui retournent des informations détaillées sur les cas utilisés dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="4efd8-302">If drillthrough has been enabled on the mining model, you can create queries that return detailed information about the cases used in the model.</span></span> <span data-ttu-id="4efd8-303">De plus, si l’extraction a été activée sur la structure d’exploration de données, vous pouvez inclure des colonnes de la structure sous-jacente à l’aide de la fonction [StructureColumn &#40;DMX&#41;](/sql/dmx/structurecolumn-dmx).</span><span class="sxs-lookup"><span data-stu-id="4efd8-303">Moreover, if drillthrough has been enabled on the mining structure, you can include columns from the underlying structure by using the [StructureColumn &#40;DMX&#41;](/sql/dmx/structurecolumn-dmx) function.</span></span>  
  
 <span data-ttu-id="4efd8-304">L'exemple suivant retourne deux colonnes utilisées dans le modèle (Age et Region), plus une colonne supplémentaire (First Name) qui n'a pas été utilisée dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="4efd8-304">The following example returns two columns that were used in the model, Age and Region, and one more column, First Name, that was not used in the model.</span></span> <span data-ttu-id="4efd8-305">La requête retourne uniquement les cas qui étaient classifiés dans le Cluster 1.</span><span class="sxs-lookup"><span data-stu-id="4efd8-305">The query returns only cases that were classified into Cluster 1.</span></span>  
  
```  
SELECT [Age], [Region], StructureColumn('First Name')  
FROM [TM_Clustering].CASES  
WHERE IsInNode('001')  
```  
  
 <span data-ttu-id="4efd8-306">Pour retourner les cas qui appartiennent à un cluster, vous devez connaître l'ID du cluster.</span><span class="sxs-lookup"><span data-stu-id="4efd8-306">To return the cases that belong to a cluster, you must know the ID of the cluster.</span></span> <span data-ttu-id="4efd8-307">Vous pouvez obtenir l'ID du cluster en parcourant le modèle dans l'une des visionneuses.</span><span class="sxs-lookup"><span data-stu-id="4efd8-307">You can obtain the ID of the cluster by browsing the model in one of the viewers.</span></span> <span data-ttu-id="4efd8-308">Ou vous pouvez renommer un cluster pour en faciliter la référence, ce qui vous permet ensuite d'utiliser le nom au lieu d'un numéro d'ID.</span><span class="sxs-lookup"><span data-stu-id="4efd8-308">Or, you can rename a cluster for easier reference, after which you could use the name in place of an ID number.</span></span> <span data-ttu-id="4efd8-309">Toutefois, sachez que les noms que vous attribuez à un cluster seront perdus en cas de retraitement du modèle.</span><span class="sxs-lookup"><span data-stu-id="4efd8-309">However, know that the names that you assign to a cluster will be lost if the model is reprocessed.</span></span>  
  
 [<span data-ttu-id="4efd8-310">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-310">Return to Top</span></span>](#bkmk_top2)  
  
## <a name="making-predictions-using-the-model"></a><span data-ttu-id="4efd8-311">Exécution de prédictions à l'aide du modèle</span><span class="sxs-lookup"><span data-stu-id="4efd8-311">Making Predictions using the Model</span></span>  
 <span data-ttu-id="4efd8-312">Bien que le clustering soit généralement utilisé pour décrire et comprendre des données, l'implémentation [!INCLUDE[msCoName](../../includes/msconame-md.md)] vous permet également de faire des prédictions sur l'appartenance au cluster et de retourner des probabilités associées à la prédiction.</span><span class="sxs-lookup"><span data-stu-id="4efd8-312">Although clustering is typically used for describing and understanding data, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] implementation also lets you make prediction about cluster membership, and return probabilities associated with the prediction.</span></span> <span data-ttu-id="4efd8-313">Cette section fournit des exemples de création de requêtes de prédiction sur des modèles de clustering.</span><span class="sxs-lookup"><span data-stu-id="4efd8-313">This section provides examples of how to create prediction queries on clustering models.</span></span> <span data-ttu-id="4efd8-314">Vous pouvez faire des prédictions pour plusieurs cas, en spécifiant une source de données tabulaire, ou vous pouvez fournir une par une de nouvelles valeurs en créant une requête singleton.</span><span class="sxs-lookup"><span data-stu-id="4efd8-314">You can make predictions for multiple cases, by specifying a tabular data source, or you can provide new values on at a time by creating a singleton query.</span></span> <span data-ttu-id="4efd8-315">Pour plus de clarté, les exemples dans cette section sont tous des requêtes singleton.</span><span class="sxs-lookup"><span data-stu-id="4efd8-315">For clarity the examples in this section are all singleton queries.</span></span>  
  
 <span data-ttu-id="4efd8-316">Pour plus d’informations sur la création de requêtes de prédiction à l’aide de DMX, consultez [interfaces de requête d’exploration de données](data-mining-query-tools.md).</span><span class="sxs-lookup"><span data-stu-id="4efd8-316">For more information about how to create prediction queries using DMX, see [Data Mining Query Interfaces](data-mining-query-tools.md).</span></span>  
  
 [<span data-ttu-id="4efd8-317">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-317">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-8-predicting-outcomes-from-a-clustering-model"></a><a name="bkmk_Query8"></a> <span data-ttu-id="4efd8-318">Exemple de requête 8 : prédiction de résultats à partir d'un modèle de clustering</span><span class="sxs-lookup"><span data-stu-id="4efd8-318">Sample Query 8: Predicting Outcomes from a Clustering Model</span></span>  
 <span data-ttu-id="4efd8-319">Si le modèle de clustering que vous créez contient un attribut prévisible, vous pouvez utiliser le modèle pour faire des prédictions sur les résultats.</span><span class="sxs-lookup"><span data-stu-id="4efd8-319">If the clustering model you create contains a predictable attribute, you can use the model to make predictions about outcomes.</span></span> <span data-ttu-id="4efd8-320">Toutefois, le modèle gère différemment l'attribut prédictible selon que vous attribuez la valeur `Predict` ou `PredictOnly` à la colonne prédictible.</span><span class="sxs-lookup"><span data-stu-id="4efd8-320">However, the model handles the predictable attribute differently depending on whether you set the predictable column to `Predict` or `PredictOnly`.</span></span> <span data-ttu-id="4efd8-321">Si vous attribuez la valeur `Predict` à la colonne, les valeurs de cet attribut sont ajoutées au modèle de clustering et apparaissent sous forme d'attributs dans le modèle fini.</span><span class="sxs-lookup"><span data-stu-id="4efd8-321">If you set the usage of the column to `Predict`, the values for that attribute are added to the clustering model and appear as attributes in the finished model.</span></span> <span data-ttu-id="4efd8-322">Toutefois, si vous attribuez la valeur `PredictOnly` à la colonne, les valeurs ne sont pas utilisées pour créer des clusters.</span><span class="sxs-lookup"><span data-stu-id="4efd8-322">However, if you set the usage of the column to `PredictOnly`, the values are not used to create clusters.</span></span> <span data-ttu-id="4efd8-323">Au lieu de cela, une fois le mode terminé, l'algorithme de clustering crée de nouvelles valeurs pour l'attribut `PredictOnly` en fonction des clusters auxquels chaque cas appartient.</span><span class="sxs-lookup"><span data-stu-id="4efd8-323">Instead, after the mode is completed, the clustering algorithm creates new values for the `PredictOnly` attribute based on the clusters to which each case belongs.</span></span>  
  
 <span data-ttu-id="4efd8-324">La requête suivante fournit un nouveau cas unique au modèle, où les seules informations sur le cas sont l'âge et le sexe.</span><span class="sxs-lookup"><span data-stu-id="4efd8-324">The following query provides a single new case to the model, where the only information about the case is the age and gender.</span></span> <span data-ttu-id="4efd8-325">L’instruction SELECT spécifie la paire attribut/valeur prévisible qui vous intéresse, et la fonction [PredictProbability &#40;DMX&#41;](/sql/dmx/predictprobability-dmx) indique la probabilité qu’un cas avec ces attributs ait le résultat désiré.</span><span class="sxs-lookup"><span data-stu-id="4efd8-325">The SELECT statement specifies the predictable attribute/value pair that you are interested in, and the [PredictProbability &#40;DMX&#41;](/sql/dmx/predictprobability-dmx) function tells you the probability that a case with those attributes will have the targeted outcome.</span></span>  
  
```  
SELECT  
  [TM_Clustering].[Bike Buyer], PredictProbability([Bike Buyer],1)  
FROM  
  [TM_Clustering]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender]) AS t  
```  
  
 <span data-ttu-id="4efd8-326">Exemple de résultats lorsque l'utilisation a pour valeur `Predict` :</span><span class="sxs-lookup"><span data-stu-id="4efd8-326">Example of results when usage is set to `Predict`:</span></span>  
  
|<span data-ttu-id="4efd8-327">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="4efd8-327">Bike Buyer</span></span>|<span data-ttu-id="4efd8-328">Expression</span><span class="sxs-lookup"><span data-stu-id="4efd8-328">Expression</span></span>|  
|----------------|----------------|  
|<span data-ttu-id="4efd8-329">1</span><span class="sxs-lookup"><span data-stu-id="4efd8-329">1</span></span>|<span data-ttu-id="4efd8-330">0.592924735740338</span><span class="sxs-lookup"><span data-stu-id="4efd8-330">0.592924735740338</span></span>|  
  
 <span data-ttu-id="4efd8-331">Exemple de résultats lorsque l'utilisation a pour valeur `PredictOnly` et que le modèle est retraité :</span><span class="sxs-lookup"><span data-stu-id="4efd8-331">Example of results when the usage is set to `PredictOnly` and the model is reprocessed:</span></span>  
  
|<span data-ttu-id="4efd8-332">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="4efd8-332">Bike Buyer</span></span>|<span data-ttu-id="4efd8-333">Expression</span><span class="sxs-lookup"><span data-stu-id="4efd8-333">Expression</span></span>|  
|----------------|----------------|  
|<span data-ttu-id="4efd8-334">1</span><span class="sxs-lookup"><span data-stu-id="4efd8-334">1</span></span>|<span data-ttu-id="4efd8-335">0.55843544003102</span><span class="sxs-lookup"><span data-stu-id="4efd8-335">0.55843544003102</span></span>|  
  
 <span data-ttu-id="4efd8-336">Dans cet exemple, la différence dans le modèle n'est pas significative.</span><span class="sxs-lookup"><span data-stu-id="4efd8-336">In this example, the difference in the model is not significant.</span></span> <span data-ttu-id="4efd8-337">Toutefois, il peut parfois être important de détecter les différences entre la distribution réelle de valeurs et ce que le modèle prédit.</span><span class="sxs-lookup"><span data-stu-id="4efd8-337">However, sometimes it can be important to detect differences between the actual distribution of values and what the model predicts.</span></span> <span data-ttu-id="4efd8-338">L’onglet [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) est utile dans ce scénario, car elle indique la probabilité qu’un cas ce produise pour un modèle donné.</span><span class="sxs-lookup"><span data-stu-id="4efd8-338">The [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) function is useful in this scenario, because it tells you how likely a case is, given the model.</span></span>  
  
 <span data-ttu-id="4efd8-339">Le nombre retourné par la fonction PredictCaseLikelihood est une probabilité. Par conséquent, il est donc toujours égal à 0 ou 1, la valeur 0,5 représentant un résultat aléatoire.</span><span class="sxs-lookup"><span data-stu-id="4efd8-339">The number that is returned by the PredictCaseLikelihood function is a probability, and therefore is always between 0 and 1, with a value of .5 representing random outcome.</span></span> <span data-ttu-id="4efd8-340">Un score inférieur à 0,5 signifie que le cas prédit est improbable pour le modèle donné, tandis qu'un score supérieur à 0,5 indique que le cas prédit est plus susceptible d'être adapté au modèle que de ne pas l'être.</span><span class="sxs-lookup"><span data-stu-id="4efd8-340">Therefore, a score less than .5 means that the predicted case is unlikely, given the model, and a score over.5 indicates that the predicted case is more likely than not to fit the model.</span></span>  
  
 <span data-ttu-id="4efd8-341">Par exemple, la requête suivante retourne deux valeurs qui caractérisent la vraisemblance d'un nouveau cas d'exemple.</span><span class="sxs-lookup"><span data-stu-id="4efd8-341">For example, the following query returns two values that characterize the likelihood of a new sample case.</span></span> <span data-ttu-id="4efd8-342">La valeur non normalisée représente la probabilité pour le modèle actuel donné.</span><span class="sxs-lookup"><span data-stu-id="4efd8-342">The non-normalized value represents the probability given the current model.</span></span> <span data-ttu-id="4efd8-343">Lorsque vous utilisez le mot clé NORMALIZED, le score de vraisemblance retourné par la fonction est ajusté en divisant la « probabilité avec le modèle » par la « probabilité sans le modèle ».</span><span class="sxs-lookup"><span data-stu-id="4efd8-343">When you use the NORMALIZED keyword, the likelihood score that is returned by the function is adjusted by dividing "probability with the model" by "probability without the model".</span></span>  
  
```  
SELECT  
PredictCaseLikelihood(NORMALIZED) AS [NormalizedValue], PredictCaseLikelihood(NONNORMALIZED) AS [NonNormalizedValue]  
FROM  
  [TM_Clustering_PredictOnly]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender]) AS t  
```  
  
 <span data-ttu-id="4efd8-344">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="4efd8-344">Example results:</span></span>  
  
|<span data-ttu-id="4efd8-345">NormalizedValue</span><span class="sxs-lookup"><span data-stu-id="4efd8-345">NormalizedValue</span></span>|<span data-ttu-id="4efd8-346">NonNormalizedValue</span><span class="sxs-lookup"><span data-stu-id="4efd8-346">NonNormalizedValue</span></span>|  
|---------------------|------------------------|  
|<span data-ttu-id="4efd8-347">5.56438372679893E-11</span><span class="sxs-lookup"><span data-stu-id="4efd8-347">5.56438372679893E-11</span></span>|<span data-ttu-id="4efd8-348">8.65459953145182E-68</span><span class="sxs-lookup"><span data-stu-id="4efd8-348">8.65459953145182E-68</span></span>|  
  
 <span data-ttu-id="4efd8-349">Notez que les nombres dans ces résultats sont exprimés en notation scientifique.</span><span class="sxs-lookup"><span data-stu-id="4efd8-349">Note that the numbers in these results are expressed in scientific notation.</span></span>  
  
 [<span data-ttu-id="4efd8-350">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-350">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-9-determining-cluster-membership"></a><a name="bkmk_Query9"></a> <span data-ttu-id="4efd8-351">Exemple de requête 9 : identification de l'appartenance au cluster</span><span class="sxs-lookup"><span data-stu-id="4efd8-351">Sample Query 9: Determining Cluster Membership</span></span>  
 <span data-ttu-id="4efd8-352">Cet exemple utilise la fonction [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) pour retourner le cluster auquel le nouveau cas est le plus susceptible d’appartenir, et la fonction [ClusterProbability &#40;DMX&#41;](/sql/dmx/clusterprobability-dmx) pour retourner la probabilité d’appartenance à ce cluster.</span><span class="sxs-lookup"><span data-stu-id="4efd8-352">This example uses the [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) function to return the cluster to which the new case is most likely to belong, and uses the [ClusterProbability &#40;DMX&#41;](/sql/dmx/clusterprobability-dmx) function to return the probability for membership in that cluster.</span></span>  
  
```  
SELECT Cluster(), ClusterProbability()  
FROM  
  [TM_Clustering]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender],  
  'S' AS [Marital Status]) AS t  
```  
  
 <span data-ttu-id="4efd8-353">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="4efd8-353">Example results:</span></span>  
  
|<span data-ttu-id="4efd8-354">$CLUSTER</span><span class="sxs-lookup"><span data-stu-id="4efd8-354">$CLUSTER</span></span>|<span data-ttu-id="4efd8-355">Expression</span><span class="sxs-lookup"><span data-stu-id="4efd8-355">Expression</span></span>|  
|--------------|----------------|  
|<span data-ttu-id="4efd8-356">Cluster 2</span><span class="sxs-lookup"><span data-stu-id="4efd8-356">Cluster 2</span></span>|<span data-ttu-id="4efd8-357">0.397918596951617</span><span class="sxs-lookup"><span data-stu-id="4efd8-357">0.397918596951617</span></span>|  
  
 <span data-ttu-id="4efd8-358">**Remarque** Par défaut, la `ClusterProbability` fonction retourne la probabilité du cluster le plus probable.</span><span class="sxs-lookup"><span data-stu-id="4efd8-358">**Note** By default, the `ClusterProbability` function returns the probability of the most likely cluster.</span></span> <span data-ttu-id="4efd8-359">Toutefois, vous pouvez spécifier un cluster différent en utilisant la syntaxe `ClusterProbability('cluster name')`.</span><span class="sxs-lookup"><span data-stu-id="4efd8-359">However, you can specify a different cluster by using the syntax `ClusterProbability('cluster name')`.</span></span> <span data-ttu-id="4efd8-360">Si vous procédez ainsi, sachez que les résultats de chaque fonction de prédiction sont indépendants des autres résultats.</span><span class="sxs-lookup"><span data-stu-id="4efd8-360">If you do this, be aware that the results from each prediction function are independent of the other results.</span></span> <span data-ttu-id="4efd8-361">Par conséquent, le score de probabilité dans la deuxième colonne peut faire référence à un cluster différent que le cluster nommé dans la première colonne.</span><span class="sxs-lookup"><span data-stu-id="4efd8-361">Therefore, the probability score in the second column could refer to a different cluster than the cluster named in the first column.</span></span>  
  
 [<span data-ttu-id="4efd8-362">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-362">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-10-returning-all-possible-clusters-with-probability-and-distance"></a><a name="bkmk_Query10"></a> <span data-ttu-id="4efd8-363">Exemple de requête 10 : retour de tous les clusters possibles avec la probabilité et la distance</span><span class="sxs-lookup"><span data-stu-id="4efd8-363">Sample Query 10: Returning All Possible Clusters with Probability and Distance</span></span>  
 <span data-ttu-id="4efd8-364">Dans l'exemple précédent, le score de probabilité n'était pas très élevé.</span><span class="sxs-lookup"><span data-stu-id="4efd8-364">In the previous example, the probability score was not very high.</span></span> <span data-ttu-id="4efd8-365">Pour déterminer si un meilleur cluster existe, vous pouvez utiliser la fonction [PredictHistogram &#40;DMX&#41;](/sql/dmx/predicthistogram-dmx) avec la fonction [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) pour retourner une table imbriquée qui inclut tous les clusters possibles, ainsi que la probabilité que le nouveau cas appartienne à chaque cluster.</span><span class="sxs-lookup"><span data-stu-id="4efd8-365">To determine if there is a better cluster, you can use the [PredictHistogram &#40;DMX&#41;](/sql/dmx/predicthistogram-dmx) function together with the [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) function to return a nested table that includes all possible clusters, together with the probability that the new case that belongs to each cluster.</span></span> <span data-ttu-id="4efd8-366">Le mot clé FLATTENED est utilisé pour remplacer l'ensemble de lignes hiérarchique par une table à plat à des fins de visualisation.</span><span class="sxs-lookup"><span data-stu-id="4efd8-366">The FLATTENED keyword is used to change the hierarchical rowset into a flat table for easier viewing.</span></span>  
  
```  
SELECT FLATTENED PredictHistogram(Cluster())  
From  
  [TM_Clustering]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender],  
  'S' AS [Marital Status])  
```  
  
|<span data-ttu-id="4efd8-367">Expression.$CLUSTER</span><span class="sxs-lookup"><span data-stu-id="4efd8-367">Expression.$CLUSTER</span></span>|<span data-ttu-id="4efd8-368">Expression.$DISTANCE</span><span class="sxs-lookup"><span data-stu-id="4efd8-368">Expression.$DISTANCE</span></span>|<span data-ttu-id="4efd8-369">Expression.$PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="4efd8-369">Expression.$PROBABILITY</span></span>|  
|-------------------------|--------------------------|-----------------------------|  
|<span data-ttu-id="4efd8-370">Cluster 2</span><span class="sxs-lookup"><span data-stu-id="4efd8-370">Cluster 2</span></span>|<span data-ttu-id="4efd8-371">0.602081403048383</span><span class="sxs-lookup"><span data-stu-id="4efd8-371">0.602081403048383</span></span>|<span data-ttu-id="4efd8-372">0.397918596951617</span><span class="sxs-lookup"><span data-stu-id="4efd8-372">0.397918596951617</span></span>|  
|<span data-ttu-id="4efd8-373">Cluster 10</span><span class="sxs-lookup"><span data-stu-id="4efd8-373">Cluster 10</span></span>|<span data-ttu-id="4efd8-374">0.719691686785675</span><span class="sxs-lookup"><span data-stu-id="4efd8-374">0.719691686785675</span></span>|<span data-ttu-id="4efd8-375">0.280308313214325</span><span class="sxs-lookup"><span data-stu-id="4efd8-375">0.280308313214325</span></span>|  
|<span data-ttu-id="4efd8-376">Cluster 4</span><span class="sxs-lookup"><span data-stu-id="4efd8-376">Cluster 4</span></span>|<span data-ttu-id="4efd8-377">0.867772590378791</span><span class="sxs-lookup"><span data-stu-id="4efd8-377">0.867772590378791</span></span>|<span data-ttu-id="4efd8-378">0.132227409621209</span><span class="sxs-lookup"><span data-stu-id="4efd8-378">0.132227409621209</span></span>|  
|<span data-ttu-id="4efd8-379">Cluster 5</span><span class="sxs-lookup"><span data-stu-id="4efd8-379">Cluster 5</span></span>|<span data-ttu-id="4efd8-380">0.931039872200985</span><span class="sxs-lookup"><span data-stu-id="4efd8-380">0.931039872200985</span></span>|<span data-ttu-id="4efd8-381">0.0689601277990149</span><span class="sxs-lookup"><span data-stu-id="4efd8-381">0.0689601277990149</span></span>|  
|<span data-ttu-id="4efd8-382">Cluster 3</span><span class="sxs-lookup"><span data-stu-id="4efd8-382">Cluster 3</span></span>|<span data-ttu-id="4efd8-383">0.942359230072167</span><span class="sxs-lookup"><span data-stu-id="4efd8-383">0.942359230072167</span></span>|<span data-ttu-id="4efd8-384">0.0576407699278328</span><span class="sxs-lookup"><span data-stu-id="4efd8-384">0.0576407699278328</span></span>|  
|<span data-ttu-id="4efd8-385">Cluster 6</span><span class="sxs-lookup"><span data-stu-id="4efd8-385">Cluster 6</span></span>|<span data-ttu-id="4efd8-386">0.958973668972756</span><span class="sxs-lookup"><span data-stu-id="4efd8-386">0.958973668972756</span></span>|<span data-ttu-id="4efd8-387">0.0410263310272437</span><span class="sxs-lookup"><span data-stu-id="4efd8-387">0.0410263310272437</span></span>|  
|<span data-ttu-id="4efd8-388">Cluster 7</span><span class="sxs-lookup"><span data-stu-id="4efd8-388">Cluster 7</span></span>|<span data-ttu-id="4efd8-389">0.979081275926724</span><span class="sxs-lookup"><span data-stu-id="4efd8-389">0.979081275926724</span></span>|<span data-ttu-id="4efd8-390">0.0209187240732763</span><span class="sxs-lookup"><span data-stu-id="4efd8-390">0.0209187240732763</span></span>|  
|<span data-ttu-id="4efd8-391">Cluster 1</span><span class="sxs-lookup"><span data-stu-id="4efd8-391">Cluster 1</span></span>|<span data-ttu-id="4efd8-392">0.999169044818624</span><span class="sxs-lookup"><span data-stu-id="4efd8-392">0.999169044818624</span></span>|<span data-ttu-id="4efd8-393">0.000830955181376364</span><span class="sxs-lookup"><span data-stu-id="4efd8-393">0.000830955181376364</span></span>|  
|<span data-ttu-id="4efd8-394">Cluster 9</span><span class="sxs-lookup"><span data-stu-id="4efd8-394">Cluster 9</span></span>|<span data-ttu-id="4efd8-395">0.999831227795894</span><span class="sxs-lookup"><span data-stu-id="4efd8-395">0.999831227795894</span></span>|<span data-ttu-id="4efd8-396">0.000168772204105754</span><span class="sxs-lookup"><span data-stu-id="4efd8-396">0.000168772204105754</span></span>|  
|<span data-ttu-id="4efd8-397">Cluster 8</span><span class="sxs-lookup"><span data-stu-id="4efd8-397">Cluster 8</span></span>|<span data-ttu-id="4efd8-398">1</span><span class="sxs-lookup"><span data-stu-id="4efd8-398">1</span></span>|<span data-ttu-id="4efd8-399">0</span><span class="sxs-lookup"><span data-stu-id="4efd8-399">0</span></span>|  
  
 <span data-ttu-id="4efd8-400">Par défaut, les résultats sont classés par probabilité.</span><span class="sxs-lookup"><span data-stu-id="4efd8-400">By default, the results are ranked by probability.</span></span> <span data-ttu-id="4efd8-401">Les résultats indiquent que le Cluster 2, bien que sa probabilité soit assez faible, est toujours le mieux adapté au nouveau point de données.</span><span class="sxs-lookup"><span data-stu-id="4efd8-401">The results tell you that, even though the probability for Cluster 2 is fairly low, Cluster 2 is still the best fit for the new data point.</span></span>  
  
 <span data-ttu-id="4efd8-402">**Remarque** La colonne supplémentaire `$DISTANCE`représente la distance du point de données au cluster.</span><span class="sxs-lookup"><span data-stu-id="4efd8-402">**Note** The additional column, `$DISTANCE`, represents the distance from the data point to the cluster.</span></span> <span data-ttu-id="4efd8-403">Par défaut, l'algorithme de gestion de clusters [!INCLUDE[msCoName](../../includes/msconame-md.md)] utilise le clustering EM évolutif qui attribue plusieurs clusters à chaque point de données et qui classe les clusters possibles.</span><span class="sxs-lookup"><span data-stu-id="4efd8-403">By default, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering Algorithm uses scalable EM clustering, which assigns multiple clusters to each data point and ranks the possible clusters.</span></span>  <span data-ttu-id="4efd8-404">Toutefois, si vous créez votre modèle de clustering à l'aide de l'algorithme K-means, un seul cluster peut être attribué à chaque point de données, et cette requête retournerait une seule ligne.</span><span class="sxs-lookup"><span data-stu-id="4efd8-404">However, if you create your clustering model using the K-means algorithm, only one cluster can be assigned to each data point, and this query would return only one row.</span></span> <span data-ttu-id="4efd8-405">Il est nécessaire de comprendre ces différences pour interpréter les résultats de la fonction [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) .</span><span class="sxs-lookup"><span data-stu-id="4efd8-405">Understanding these differences is necessary to interpret the results of the [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) function.</span></span> <span data-ttu-id="4efd8-406">Pour plus d’informations sur les différences entre le clustering EM et le clustering K-means, consultez [Références techniques relatives à l’algorithme de gestion de clusters Microsoft](microsoft-clustering-algorithm-technical-reference.md).</span><span class="sxs-lookup"><span data-stu-id="4efd8-406">For more information about the differences between EM and K-means clustering, see [Microsoft Clustering Algorithm Technical Reference](microsoft-clustering-algorithm-technical-reference.md).</span></span>  
  
 [<span data-ttu-id="4efd8-407">Retour au début</span><span class="sxs-lookup"><span data-stu-id="4efd8-407">Return to Top</span></span>](#bkmk_top2)  
  
## <a name="function-list"></a><span data-ttu-id="4efd8-408">Liste de fonctions</span><span class="sxs-lookup"><span data-stu-id="4efd8-408">Function List</span></span>  
 <span data-ttu-id="4efd8-409">Tous les algorithmes [!INCLUDE[msCoName](../../includes/msconame-md.md)] prennent en charge un ensemble commun de fonctions.</span><span class="sxs-lookup"><span data-stu-id="4efd8-409">All [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms support a common set of functions.</span></span> <span data-ttu-id="4efd8-410">Toutefois, les modèles créés avec l'algorithme de gestion de clusters [!INCLUDE[msCoName](../../includes/msconame-md.md)] prennent en charge les fonctions supplémentaires répertoriées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="4efd8-410">However, models that are built by using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm support the additional functions that are listed in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="4efd8-411">Fonction de prédiction</span><span class="sxs-lookup"><span data-stu-id="4efd8-411">Prediction Function</span></span>|<span data-ttu-id="4efd8-412">Usage</span><span class="sxs-lookup"><span data-stu-id="4efd8-412">Usage</span></span>|  
|[<span data-ttu-id="4efd8-413">Cluster &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-413">Cluster &#40;DMX&#41;</span></span>](/sql/dmx/cluster-dmx)|<span data-ttu-id="4efd8-414">Retourne le cluster qui est le plus susceptible de contenir le cas d'entrée.</span><span class="sxs-lookup"><span data-stu-id="4efd8-414">Returns the cluster that is most likely to contain the input case.</span></span>|  
|[<span data-ttu-id="4efd8-415">ClusterDistance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-415">ClusterDistance &#40;DMX&#41;</span></span>](/sql/dmx/clusterdistance-dmx)|<span data-ttu-id="4efd8-416">Retourne la distance séparant le cas d'entrée du cluster spécifié ou, si aucun cluster n'est indiqué, la distance séparant le cas d'entrée du cluster le plus probable.</span><span class="sxs-lookup"><span data-stu-id="4efd8-416">Returns the distance of the input case from the specified cluster, or if no cluster is specified, the distance of the input case from the most likely cluster.</span></span><br /><br /> <span data-ttu-id="4efd8-417">Retourne la probabilité que le cas d'entrée appartient au cluster spécifié.</span><span class="sxs-lookup"><span data-stu-id="4efd8-417">Returns the probability that the input case belongs to the specified cluster.</span></span>|  
|[<span data-ttu-id="4efd8-418">ClusterProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-418">ClusterProbability &#40;DMX&#41;</span></span>](/sql/dmx/clusterprobability-dmx)|<span data-ttu-id="4efd8-419">Retourne la probabilité que le cas d'entrée appartient au cluster spécifié.</span><span class="sxs-lookup"><span data-stu-id="4efd8-419">Returns the probability that the input case belongs to the specified cluster.</span></span>|  
|[<span data-ttu-id="4efd8-420">IsDescendant &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-420">IsDescendant &#40;DMX&#41;</span></span>](/sql/dmx/isdescendant-dmx)|<span data-ttu-id="4efd8-421">Détermine si un nœud est un enfant d'un autre nœud dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="4efd8-421">Determines whether one node is a child of another node in the model.</span></span>|  
|[<span data-ttu-id="4efd8-422">IsInNode &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-422">IsInNode &#40;DMX&#41;</span></span>](/sql/dmx/isinnode-dmx)|<span data-ttu-id="4efd8-423">Indique si le nœud spécifié contient le cas courant.</span><span class="sxs-lookup"><span data-stu-id="4efd8-423">Indicates whether the specified node contains the current case.</span></span>|  
|[<span data-ttu-id="4efd8-424">PredictAdjustedProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-424">PredictAdjustedProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictadjustedprobability-dmx)|<span data-ttu-id="4efd8-425">Retourne la probabilité pondérée.</span><span class="sxs-lookup"><span data-stu-id="4efd8-425">Returns the weighted probability.</span></span>|  
|[<span data-ttu-id="4efd8-426">PredictAssociation &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-426">PredictAssociation &#40;DMX&#41;</span></span>](/sql/dmx/predictassociation-dmx)|<span data-ttu-id="4efd8-427">Prédit l'appartenance à un dataset associatif.</span><span class="sxs-lookup"><span data-stu-id="4efd8-427">Predicts membership in an associative dataset.</span></span>|  
|[<span data-ttu-id="4efd8-428">PredictCaseLikelihood &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-428">PredictCaseLikelihood &#40;DMX&#41;</span></span>](/sql/dmx/predictcaselikelihood-dmx)|<span data-ttu-id="4efd8-429">Retourne le degré de vraisemblance de l'intégration d'un cas d'entrée au modèle existant.</span><span class="sxs-lookup"><span data-stu-id="4efd8-429">Returns the likelihood that an input case will fit in the existing model.</span></span>|  
|[<span data-ttu-id="4efd8-430">PredictHistogram &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-430">PredictHistogram &#40;DMX&#41;</span></span>](/sql/dmx/predicthistogram-dmx)|<span data-ttu-id="4efd8-431">Retourne une table des valeurs associées à la valeur prédite actuelle.</span><span class="sxs-lookup"><span data-stu-id="4efd8-431">Returns a table of values related to the current predicted value.</span></span>|  
|[<span data-ttu-id="4efd8-432">PredictNodeId &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-432">PredictNodeId &#40;DMX&#41;</span></span>](/sql/dmx/predictnodeid-dmx)|<span data-ttu-id="4efd8-433">Retourne Node_ID pour chaque cas.</span><span class="sxs-lookup"><span data-stu-id="4efd8-433">Returns the Node_ID for each case.</span></span>|  
|[<span data-ttu-id="4efd8-434">PredictProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-434">PredictProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictprobability-dmx)|<span data-ttu-id="4efd8-435">Retourne la probabilité pour la valeur prédite.</span><span class="sxs-lookup"><span data-stu-id="4efd8-435">Returns probability for the predicted value.</span></span>|  
|[<span data-ttu-id="4efd8-436">PredictStdev &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-436">PredictStdev &#40;DMX&#41;</span></span>](/sql/dmx/predictstdev-dmx)|<span data-ttu-id="4efd8-437">Retourne l'écart-type prévu pour la colonne spécifiée.</span><span class="sxs-lookup"><span data-stu-id="4efd8-437">Returns the predicted standard deviation for the specified column.</span></span>|  
|[<span data-ttu-id="4efd8-438">PredictSupport &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-438">PredictSupport &#40;DMX&#41;</span></span>](/sql/dmx/predictsupport-dmx)|<span data-ttu-id="4efd8-439">Retourne la valeur de support pour un état spécifié.</span><span class="sxs-lookup"><span data-stu-id="4efd8-439">Returns the support value for a specified state.</span></span>|  
|[<span data-ttu-id="4efd8-440">PredictVariance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="4efd8-440">PredictVariance &#40;DMX&#41;</span></span>](/sql/dmx/predictvariance-dmx)|<span data-ttu-id="4efd8-441">Retourne la variance d'une colonne spécifiée.</span><span class="sxs-lookup"><span data-stu-id="4efd8-441">Returns the variance of a specified column.</span></span>|  
  
 <span data-ttu-id="4efd8-442">Pour en savoir plus sur la syntaxe de fonctions spécifiques, consultez [Informations de référence sur les fonctions DMX &#40;Data Mining Extensions&#41;](/sql/dmx/data-mining-extensions-dmx-function-reference).</span><span class="sxs-lookup"><span data-stu-id="4efd8-442">For the syntax of specific functions, see [Data Mining Extensions &#40;DMX&#41; Function Reference](/sql/dmx/data-mining-extensions-dmx-function-reference).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4efd8-443">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="4efd8-443">See Also</span></span>  
 <span data-ttu-id="4efd8-444">[Requêtes d’exploration de données](data-mining-queries.md) </span><span class="sxs-lookup"><span data-stu-id="4efd8-444">[Data Mining Queries](data-mining-queries.md) </span></span>  
 <span data-ttu-id="4efd8-445">[Référence technique de l’algorithme de clustering Microsoft](microsoft-clustering-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="4efd8-445">[Microsoft Clustering Algorithm Technical Reference](microsoft-clustering-algorithm-technical-reference.md) </span></span>  
 [<span data-ttu-id="4efd8-446">Algorithme de clustering Microsoft</span><span class="sxs-lookup"><span data-stu-id="4efd8-446">Microsoft Clustering Algorithm</span></span>](microsoft-clustering-algorithm.md)  
  
  
