---
title: Choisir et mapper les données d’entrée pour une requête de prédiction | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- tables [Analysis Services], prediction queries
- Mining Model Prediction [Analysis Services], input tables
ms.assetid: 00d330a0-879d-4da0-9f29-53c288116f4d
author: minewiskan
ms.author: owend
ms.openlocfilehash: 54e11752d6278e01e50a379bf7bb57521ff9bb29
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87604299"
---
# <a name="choose-and-map-input-data-for-a-prediction-query"></a><span data-ttu-id="9651c-102">Choisir et mapper les données d'entrée pour une requête de prédiction</span><span class="sxs-lookup"><span data-stu-id="9651c-102">Choose and Map Input Data for a Prediction Query</span></span>
  <span data-ttu-id="9651c-103">Lorsque vous créez des prédictions à partir d'un modèle d'exploration de données, vous le faites généralement en alimentant de nouvelles données dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="9651c-103">When you create predictions from a mining model, you generally do this by feeding new data into the model.</span></span> <span data-ttu-id="9651c-104">(Les modèles de série chronologique, qui peuvent faire des prédictions basées sur des données historiques uniquement, font exception.) Pour fournir de nouvelles données au modèle, vous devez vous assurer que les données sont disponibles dans une vue de source de données.</span><span class="sxs-lookup"><span data-stu-id="9651c-104">(The exception is time series models, which can make predictions based on historical data only.) To provide the model with new data, you must make sure that the data is available as part of a data source view.</span></span> <span data-ttu-id="9651c-105">Si vous connaissez à l'avance les données que vous allez utiliser pour la prédiction, vous pouvez les inclure dans la vue de source de données utilisée pour créer le modèle.</span><span class="sxs-lookup"><span data-stu-id="9651c-105">If you know in advance which data you will use for prediction, you can include it in the data source view that you used to create the model.</span></span> <span data-ttu-id="9651c-106">Sinon, vous devrez peut-être créer une vue de source de données.</span><span class="sxs-lookup"><span data-stu-id="9651c-106">Otherwise, you might have to create a new data source view.</span></span> <span data-ttu-id="9651c-107">Pour plus d’informations, consultez [Vues de sources de données dans les modèles multidimensionnels](../multidimensional-models/data-source-views-in-multidimensional-models.md).</span><span class="sxs-lookup"><span data-stu-id="9651c-107">For more information, see [Data Source Views in Multidimensional Models](../multidimensional-models/data-source-views-in-multidimensional-models.md).</span></span>  
  
 <span data-ttu-id="9651c-108">Parfois les données dont vous avez besoin peuvent être contenues dans plusieurs tables d'une jointure un-à-plusieurs.</span><span class="sxs-lookup"><span data-stu-id="9651c-108">Sometimes the data that you need might be contained within more than one table in a one-to-many join.</span></span> <span data-ttu-id="9651c-109">Tel est le cas avec les données utilisées pour les modèles d'association ou les modèles Sequence Clustering, qui utilisent une table de cas liée à une table imbriquée qui contient les détails du produit ou de la transaction.</span><span class="sxs-lookup"><span data-stu-id="9651c-109">This is the case with data used for association models or sequence clustering models, which use a case table linked to a nested table that contains product or transaction details.</span></span> <span data-ttu-id="9651c-110">Si votre modèle utilise une structure de table de cas imbriquée, les données que vous utilisez pour la prédiction doivent également avoir une structure de table de cas imbriquée.</span><span class="sxs-lookup"><span data-stu-id="9651c-110">If your model uses a case-nested table structure, the data that you use for prediction must also have a case-nested table structure.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="9651c-111">Vous ne pouvez pas ajouter de nouvelles colonnes ou mapper des colonnes qui se trouvent dans une vue de source de données différente.</span><span class="sxs-lookup"><span data-stu-id="9651c-111">You cannot add new columns or map columns that are in a different data source view.</span></span> <span data-ttu-id="9651c-112">La vue de source de données que vous sélectionnez doit contenir toutes les colonnes dont vous avez besoin pour la requête de prédiction.</span><span class="sxs-lookup"><span data-stu-id="9651c-112">The data source view that you select must contain all the columns that you need for the prediction query.</span></span>  
  
 <span data-ttu-id="9651c-113">Après avoir identifié les tables qui contiennent les données que vous allez utiliser pour les prédictions, vous devez mapper les colonnes des données externes aux colonnes du modèle d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="9651c-113">After you have identified the tables that contain the data you will use for predictions, you must map the columns in the external data to the columns in the mining model.</span></span> <span data-ttu-id="9651c-114">Par exemple, si votre modèle prédit le comportement d'achat de clients en fonction des statistiques démographiques et des réponses aux enquêtes, vos données d'entrée contiennent des informations qui correspondent généralement à ce qui est dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="9651c-114">For example, if your model predicts customer purchasing behavior based on demographics and survey responses, your input data should contains information that generally corresponds to what is in the model.</span></span> <span data-ttu-id="9651c-115">Vous n'avez pas besoin d'avoir des données correspondantes pour chaque colonne, mais plus le nombre de colonnes correspondant est élevé, meilleurs sont les résultats.</span><span class="sxs-lookup"><span data-stu-id="9651c-115">You do not need to have matching data for every single column, but the more columns you can match, the better.</span></span> <span data-ttu-id="9651c-116">Si vous essayez de mapper des colonnes qui ont des types de données différents, vous pouvez obtenir une erreur.</span><span class="sxs-lookup"><span data-stu-id="9651c-116">If you try to map columns that have different data types, you might get an error.</span></span> <span data-ttu-id="9651c-117">Dans ce cas, vous pouvez définir un calcul nommé dans la vue de source de données pour convertir les nouvelles données de la colonne en type de données requis par le modèle.</span><span class="sxs-lookup"><span data-stu-id="9651c-117">In that case, you could define a named calculation in the data source view to cast or convert the new column data to the data type required by the model.</span></span> <span data-ttu-id="9651c-118">Pour plus d’informations, consultez [Définir des calculs nommés dans une vue de source de données &#40;Analysis Services&#41;](../multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="9651c-118">For more information, see [Define Named Calculations in a Data Source View &#40;Analysis Services&#41;](../multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md).</span></span>  
  
 <span data-ttu-id="9651c-119">Lorsque vous choisissez les données à utiliser pour la prédiction, certaines colonnes de la source de données sélectionnée peuvent être mappées automatiquement aux colonnes du modèle d’exploration de données, selon la similitude des noms et le type de données correspondant.</span><span class="sxs-lookup"><span data-stu-id="9651c-119">When you choose the data to use for prediction, some columns in the selected data source might be automatically mapped to the mining model columns, based on name similarity and matching data type.</span></span> <span data-ttu-id="9651c-120">Vous pouvez utiliser la boîte de dialogue **Modifier le mappage** dans **Prédiction de modèle d’exploration de données** pour modifier les colonnes qui sont mappées, supprimer les mappages inappropriés, ou créer des mappages pour les colonnes existantes.</span><span class="sxs-lookup"><span data-stu-id="9651c-120">You can use the **Modify Mapping** dialog box in the **Mining Model Prediction** to change the columns that are mapped, delete inappropriate mappings, or create new mappings for existing columns.</span></span> <span data-ttu-id="9651c-121">L’aire de conception **Prédiction de modèle d’exploration de données** prend également en charge la modification par glisser-déplacer des connexions.</span><span class="sxs-lookup"><span data-stu-id="9651c-121">The **Mining Model Prediction** design surface also supports drag-and-drop editing of connections.</span></span>  
  
-   <span data-ttu-id="9651c-122">Pour créer une connexion, sélectionnez une colonne dans la table **Modèle d’exploration de données** et faites-la glisser vers la colonne correspondante dans la table **Sélectionner une ou plusieurs tables d’entrée** .</span><span class="sxs-lookup"><span data-stu-id="9651c-122">To create a new connection, just select a column in the **Mining Model** table and drag it to the corresponding column in the **SelectInput Table(s)** table.</span></span>  
  
-   <span data-ttu-id="9651c-123">Pour supprimer une connexion, sélectionnez la ligne de connexion et appuyez sur la touche Suppr.</span><span class="sxs-lookup"><span data-stu-id="9651c-123">To remove a connection, select the connection line and press the DELETE key.</span></span>  
  
 <span data-ttu-id="9651c-124">La procédure suivante explique comment modifier les jointures qui ont été créées entre la table de cas et une table imbriquée utilisées comme entrées dans une requête de prédiction, à l’aide de la boîte de dialogue **Spécifier la jointure imbriquée** .</span><span class="sxs-lookup"><span data-stu-id="9651c-124">The following procedure describes how you can modify the joins that have been created between the case table and a nested table used as inputs to a prediction query, using the **Specify Nested Join** dialog box.</span></span>  
  
### <a name="select-an-input-table"></a><span data-ttu-id="9651c-125">Sélectionner une table d'entrée</span><span class="sxs-lookup"><span data-stu-id="9651c-125">Select an input table</span></span>  
  
1.  <span data-ttu-id="9651c-126">Dans la table **Sélectionner une ou plusieurs tables d’entrée** de l’onglet **Graphique d’analyse de précision de l’exploration de données** du Concepteur d’exploration de données dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], cliquez sur **Sélectionner la table de cas**.</span><span class="sxs-lookup"><span data-stu-id="9651c-126">On the **Select Input Table(s)** table of the **Mining Accuracy Chart** tab in Data Mining Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], click **Select Case Table**.</span></span>  
  
     <span data-ttu-id="9651c-127">La boîte de dialogue **Sélectionner une table** s’affiche pour vous permettre de sélectionner la table qui contient les données sur lesquelles vous voulez baser les requêtes.</span><span class="sxs-lookup"><span data-stu-id="9651c-127">The **Select Table** dialog box opens, in which you can select the table that contains the data on which to base your queries.</span></span>  
  
2.  <span data-ttu-id="9651c-128">Dans la boîte de dialogue **Sélectionner une table** , sélectionnez une source de données dans la liste **Source de données** .</span><span class="sxs-lookup"><span data-stu-id="9651c-128">In the **Select Table** dialog box, select a data source from the **Data Source** list.</span></span>  
  
3.  <span data-ttu-id="9651c-129">Sous **Nom de la table/vue**, sélectionnez la table qui contient les données à utiliser pour tester les modèles.</span><span class="sxs-lookup"><span data-stu-id="9651c-129">Under **Table/View Name**, select the table that contains the data you want to use to test the models.</span></span>  
  
4.  <span data-ttu-id="9651c-130">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="9651c-130">Click **OK**.</span></span>  
  
     <span data-ttu-id="9651c-131">Les colonnes de la structure d'exploration de données sont mappées automatiquement aux colonnes portant le même nom dans la table d'entrée.</span><span class="sxs-lookup"><span data-stu-id="9651c-131">The columns in the mining structure are automatically mapped to the columns that have the same name in the input table.</span></span>  
  
### <a name="change-the-way-that-input-data-is-mapped-to-the-model"></a><span data-ttu-id="9651c-132">Modifier la façon dont les données d'entrée sont mappées au modèle</span><span class="sxs-lookup"><span data-stu-id="9651c-132">Change the way that input data is mapped to the model</span></span>  
  
1.  <span data-ttu-id="9651c-133">Dans le Concepteur d’exploration de données de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], sélectionnez l’onglet **Prédiction de modèle d’exploration de données** .</span><span class="sxs-lookup"><span data-stu-id="9651c-133">In Data Mining Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], select the **Mining Model Prediction** tab.</span></span>  
  
2.  <span data-ttu-id="9651c-134">Dans le menu **Modèle d’exploration de données** , sélectionnez **Modifier les connexions**.</span><span class="sxs-lookup"><span data-stu-id="9651c-134">On the **Mining Model** menu, select **Modify Connections**.</span></span>  
  
     <span data-ttu-id="9651c-135">La boîte de dialogue **Modifier le mappage** s’ouvre.</span><span class="sxs-lookup"><span data-stu-id="9651c-135">The **Modify Mapping** dialog box opens.</span></span> <span data-ttu-id="9651c-136">Dans cette boîte de dialogue, la colonne **Colonne du modèle d’exploration de données** répertorie les colonnes dans la structure d’exploration de données sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="9651c-136">In this dialog box, the column **Mining Model Column** lists the columns in the selected mining structure.</span></span> <span data-ttu-id="9651c-137">La colonne **Colonne de table** répertorie les colonnes dans la source de données externe que vous avez choisie dans la boîte de dialogue **Sélectionner une ou plusieurs tables d’entrée** .</span><span class="sxs-lookup"><span data-stu-id="9651c-137">The column **Table Column** lists the columns in the external data source that you chose in the **SelectInput Table(s)** dialog box.</span></span> <span data-ttu-id="9651c-138">Les colonnes de la source de données externe sont mappées aux colonnes du modèle d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="9651c-138">The columns in the external data source are mapped to columns in the mining model.</span></span>  
  
3.  <span data-ttu-id="9651c-139">Sous **Colonne de table**, sélectionnez la ligne correspondante à la colonne du modèle d’exploration de données à mapper.</span><span class="sxs-lookup"><span data-stu-id="9651c-139">Under **Table Column**, select the row that corresponds to the mining model column that you want to map to.</span></span>  
  
4.  <span data-ttu-id="9651c-140">Sélectionnez une nouvelle colonne dans la liste de colonnes disponibles de la source de données externe.</span><span class="sxs-lookup"><span data-stu-id="9651c-140">Select a new column from the list of available columns in the external data source.</span></span> <span data-ttu-id="9651c-141">Sélectionnez l'élément vide dans la liste pour supprimer le mappage de colonnes.</span><span class="sxs-lookup"><span data-stu-id="9651c-141">Select the blank item in the list to delete the column mapping.</span></span>  
  
5.  <span data-ttu-id="9651c-142">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="9651c-142">Click **OK**.</span></span>  
  
     <span data-ttu-id="9651c-143">Les nouveaux mappages de colonnes s'affichent dans le Concepteur.</span><span class="sxs-lookup"><span data-stu-id="9651c-143">The new column mappings are displayed in the designer.</span></span>  
  
### <a name="remove-a-relationship-between-input-tables"></a><span data-ttu-id="9651c-144">Supprimer une relation entre des tables d'entrée</span><span class="sxs-lookup"><span data-stu-id="9651c-144">Remove a relationship between input tables</span></span>  
  
1.  <span data-ttu-id="9651c-145">Dans la table **Sélectionner une ou plusieurs tables d’entrée** de l’onglet **Prédiction de modèle d’exploration de données** du Concepteur d’exploration de données de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], cliquez sur **Modifier la jointure**.</span><span class="sxs-lookup"><span data-stu-id="9651c-145">On the **Select Input Table(s)** table of the **Mining Model Prediction** tab in Data Mining Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], click **Modify Join**.</span></span>  
  
     <span data-ttu-id="9651c-146">La boîte de dialogue **Spécifier la jointure imbriquée** s’ouvre.</span><span class="sxs-lookup"><span data-stu-id="9651c-146">The **Specify Nested Join** dialog box opens.</span></span>  
  
2.  <span data-ttu-id="9651c-147">Sélectionnez une relation.</span><span class="sxs-lookup"><span data-stu-id="9651c-147">Select a relationship.</span></span>  
  
3.  <span data-ttu-id="9651c-148">Cliquez sur **Supprimer la relation**.</span><span class="sxs-lookup"><span data-stu-id="9651c-148">Click **Remove Relationship**.</span></span>  
  
4.  <span data-ttu-id="9651c-149">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="9651c-149">Click **OK**.</span></span>  
  
     <span data-ttu-id="9651c-150">La relation entre la table de cas et la table imbriquée est supprimée.</span><span class="sxs-lookup"><span data-stu-id="9651c-150">The relationship between the case table and the nested table has been removed.</span></span>  
  
### <a name="create-a-new-relationship-between-input-tables"></a><span data-ttu-id="9651c-151">Créer une relation entre des tables d'entrée</span><span class="sxs-lookup"><span data-stu-id="9651c-151">Create a new relationship between input tables</span></span>  
  
1.  <span data-ttu-id="9651c-152">Dans la table **Sélectionner une ou plusieurs tables d’entrée** de l’onglet **Prédiction de modèle d’exploration de données** du Concepteur d’exploration de données, cliquez sur **Modifier la jointure**.</span><span class="sxs-lookup"><span data-stu-id="9651c-152">On the **Select Input Table(s)** table of the **Mining Model Prediction** tab in Data Mining Designer, click **Modify Join**.</span></span>  
  
     <span data-ttu-id="9651c-153">La boîte de dialogue **Spécifier la jointure imbriquée** s’ouvre.</span><span class="sxs-lookup"><span data-stu-id="9651c-153">The **Specify Nested Join** dialog box opens.</span></span>  
  
2.  <span data-ttu-id="9651c-154">Cliquez sur **Ajouter une relation**.</span><span class="sxs-lookup"><span data-stu-id="9651c-154">Click **Add Relationship**.</span></span>  
  
     <span data-ttu-id="9651c-155">La boîte de dialogue **Créer une relation** s’ouvre.</span><span class="sxs-lookup"><span data-stu-id="9651c-155">The **Create Relationship** dialog box opens.</span></span>  
  
3.  <span data-ttu-id="9651c-156">Sélectionnez la clé de la table imbriquée dans **Colonnes sources**.</span><span class="sxs-lookup"><span data-stu-id="9651c-156">Select the key of the nested table in **Source Columns**.</span></span>  
  
4.  <span data-ttu-id="9651c-157">Sélectionnez la clé de la table de cas dans **Colonnes de destination**.</span><span class="sxs-lookup"><span data-stu-id="9651c-157">Select the key of the case table in **Destination Columns**.</span></span>  
  
5.  <span data-ttu-id="9651c-158">Cliquez sur **OK** dans la boîte de dialogue **Créer une relation** .</span><span class="sxs-lookup"><span data-stu-id="9651c-158">Click **OK** in the **Create Relationship** dialog box.</span></span>  
  
6.  <span data-ttu-id="9651c-159">Cliquez sur **OK** dans la boîte de dialogue **Spécifier la jointure imbriquée** .</span><span class="sxs-lookup"><span data-stu-id="9651c-159">Click **OK** in the **Specify Nested Join** dialog box.</span></span>  
  
     <span data-ttu-id="9651c-160">Une relation est créée entre la table de cas et la table imbriquée.</span><span class="sxs-lookup"><span data-stu-id="9651c-160">A new relationship has been created between the case table and the nested table.</span></span>  
  
### <a name="add-a-nested-table-to-the-input-tables-of-a-prediction-query"></a><span data-ttu-id="9651c-161">Ajouter une table imbriquée aux tables d'entrées d'une requête de prédiction</span><span class="sxs-lookup"><span data-stu-id="9651c-161">Add a nested table to the input tables of a prediction query</span></span>  
  
1.  <span data-ttu-id="9651c-162">Sous l’onglet **Prédiction de modèle d’exploration de données** du Concepteur d’exploration de données, cliquez sur **Sélectionner la table de cas** pour ouvrir la boîte de dialogue **Sélectionner une table** .</span><span class="sxs-lookup"><span data-stu-id="9651c-162">On the **Mining Model Prediction** tab in Data Mining Designer, click **Select Case Table** to open the **Select Table** dialog box.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9651c-163">Vous ne pouvez pas ajouter de table imbriquée aux entrées, sauf si vous avez spécifié une table de cas.</span><span class="sxs-lookup"><span data-stu-id="9651c-163">You cannot add a nested table to the inputs unless you have specified a case table.</span></span> <span data-ttu-id="9651c-164">L'utilisation d'une table imbriquée nécessite que le modèle d'exploration de données que vous utilisez pour la prédiction utilise également une table imbriquée.</span><span class="sxs-lookup"><span data-stu-id="9651c-164">Use of a nested table requires that the mining model you are using for prediction also uses a nested table.</span></span>  
  
2.  <span data-ttu-id="9651c-165">Dans la boîte de dialogue **Sélectionner une table** , sélectionnez une source de données dans la liste **Source de données** , puis sélectionnez la table dans la vue de source de données qui contient les données de cas.</span><span class="sxs-lookup"><span data-stu-id="9651c-165">In the **Select Table** dialog box, select a data source from the **Data Source** list, and select the table in the data source view that contains the case data.</span></span> [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
3.  <span data-ttu-id="9651c-166">Cliquez sur **Sélectionner la table imbriquée** pour ouvrir la boîte de dialogue **Sélectionner une table** .</span><span class="sxs-lookup"><span data-stu-id="9651c-166">Click **Select Nested Table** to open the **Select Table** dialog box.</span></span>  
  
4.  <span data-ttu-id="9651c-167">Dans la boîte de dialogue **Sélectionner une table** , sélectionnez une source de données dans la liste **Source de données** , puis sélectionnez la table dans la vue de source de données qui contient les données imbriquées.</span><span class="sxs-lookup"><span data-stu-id="9651c-167">In the **Select Table** dialog box, select a data source from the **Data Source** list, and select the table in the data source view that contains the nested data.</span></span> [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
     <span data-ttu-id="9651c-168">Si une relation existe, les colonnes du modèle d'exploration de données sont mappées automatiquement aux colonnes portant le même nom dans la table d'entrée.</span><span class="sxs-lookup"><span data-stu-id="9651c-168">If a relationship already exists, the columns in the mining model are automatically mapped to the columns that have the same name in the input table.</span></span> <span data-ttu-id="9651c-169">Vous pouvez modifier la relation entre la table imbriquée et la table de cas en cliquant sur **Modifier la jointure**qui ouvre la boîte de dialogue **Créer une relation** .</span><span class="sxs-lookup"><span data-stu-id="9651c-169">You can modify the relationship between the nested table and the case table by clicking **Modify Join**, which opens the **Create Relationship** dialog box.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9651c-170">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="9651c-170">See Also</span></span>  
 [<span data-ttu-id="9651c-171">Requêtes de prédiction &#40;Exploration de données&#41;</span><span class="sxs-lookup"><span data-stu-id="9651c-171">Prediction Queries &#40;Data Mining&#41;</span></span>](prediction-queries-data-mining.md)  
  
  
