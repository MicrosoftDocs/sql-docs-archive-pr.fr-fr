---
title: Exemples de requêtes de modèle Sequence Clustering | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- sequence clustering algorithms [Analysis Services]
- content queries [DMX]
- sequence [Analysis Services]
ms.assetid: 64bebcdc-70ab-43fb-8d40-57672a126602
author: minewiskan
ms.author: owend
ms.openlocfilehash: d56924f27f7986861895cf4fff21fa758cc47070
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87600339"
---
# <a name="sequence-clustering-model-query-examples"></a><span data-ttu-id="2a407-102">Sequence Clustering Model Query Examples</span><span class="sxs-lookup"><span data-stu-id="2a407-102">Sequence Clustering Model Query Examples</span></span>
  <span data-ttu-id="2a407-103">Lorsque vous créez une requête sur un modèle d'exploration de données, vous pouvez soit créer une requête de contenu, qui fournit des détails sur les informations stockées dans le modèle, soit créer une requête de prédiction, qui utilise les séquences du modèle pour effectuer des prédictions basées sur les nouvelles données que vous fournissez.</span><span class="sxs-lookup"><span data-stu-id="2a407-103">When you create a query against a data mining model, you can create either a content query, which provides details about the information stored in the model, or you can create a prediction query, which uses the patterns in the model to make predictions based on new data that you provide.</span></span> <span data-ttu-id="2a407-104">Pour un modèle Sequence Clustering, les requêtes de contenu fournissent en général des détails supplémentaires à propos des clusters trouvés ou les transitions dans ces clusters.</span><span class="sxs-lookup"><span data-stu-id="2a407-104">For a sequence clustering model, content queries typically provide additional details about the clusters that were found, or the transitions within those clusters.</span></span> <span data-ttu-id="2a407-105">Vous pouvez également extraire les métadonnées relatives au modèle en utilisant une requête.</span><span class="sxs-lookup"><span data-stu-id="2a407-105">You can also retrieve metadata about the model by using a query.</span></span>  
  
 <span data-ttu-id="2a407-106">Les requêtes de prédiction sur un modèle Sequence Clustering font en général des recommandations basées sur les séquences et transitions, sur les attributs non-séquence inclus dans le modèle ou sur une combinaison de séquence et attributs non-séquence.</span><span class="sxs-lookup"><span data-stu-id="2a407-106">Prediction queries on a sequence clustering model typically make recommendations based either on the sequences and transitions, on non-sequence attributes that were included in the model, or on a combination of sequence and non-sequence attributes.</span></span>  
  
 <span data-ttu-id="2a407-107">Cette section explique comment créer des requêtes pour les modèles basés sur l'algorithme MSC (Microsoft Sequence Clustering).</span><span class="sxs-lookup"><span data-stu-id="2a407-107">This section explains how to create queries for models that are based on the Microsoft Sequence Clustering algorithm.</span></span> <span data-ttu-id="2a407-108">Pour obtenir des informations générales sur la création de requêtes, consultez [Requêtes d’exploration de données](data-mining-queries.md).</span><span class="sxs-lookup"><span data-stu-id="2a407-108">For general information about creating queries, see [Data Mining Queries](data-mining-queries.md).</span></span>  
  
 <span data-ttu-id="2a407-109">**Requêtes de contenu**</span><span class="sxs-lookup"><span data-stu-id="2a407-109">**Content Queries**</span></span>  
  
 [<span data-ttu-id="2a407-110">Utilisation de l'ensemble de lignes de schéma d'exploration de données pour retourner les paramètres du modèle</span><span class="sxs-lookup"><span data-stu-id="2a407-110">Using the Data Mining Schema Rowset to return model parameters</span></span>](#bkmk_Query1)  
  
 [<span data-ttu-id="2a407-111">Obtention d'une liste de séquences pour un état</span><span class="sxs-lookup"><span data-stu-id="2a407-111">Getting a list of sequences for a state</span></span>](#bkmk_Query2)  
  
 [<span data-ttu-id="2a407-112">Utilisation des procédures stockées système</span><span class="sxs-lookup"><span data-stu-id="2a407-112">Using system stored procedures</span></span>](#bkmk_Query3)  
  
 <span data-ttu-id="2a407-113">**Requêtes de prédiction**</span><span class="sxs-lookup"><span data-stu-id="2a407-113">**Prediction Queries**</span></span>  
  
 [<span data-ttu-id="2a407-114">Prédiction d'un ou de plusieurs états suivants</span><span class="sxs-lookup"><span data-stu-id="2a407-114">Predict next state or states</span></span>](#bkmk_Query4)  
  
##  <a name="finding-information-about-the-sequence-clustering-model"></a><a name="bkmk_ContentQueries"></a><span data-ttu-id="2a407-115">Recherche d’informations sur le modèle Sequence Clustering</span><span class="sxs-lookup"><span data-stu-id="2a407-115">Finding Information about the Sequence Clustering Model</span></span>  
 <span data-ttu-id="2a407-116">Pour créer des requêtes pertinentes sur le contenu d'un modèle d'exploration de données, vous devez comprendre la structure du contenu du modèle et les types d'informations stockés dans les différents types de nœuds.</span><span class="sxs-lookup"><span data-stu-id="2a407-116">To create meaningful queries on the content of a mining model, you must understand the structure of the model content, and which node types store what kind of information.</span></span> <span data-ttu-id="2a407-117">Pour plus d’informations, consultez [Contenu du modèle d’exploration de données pour les modèles Sequence Clustering &#40;Analysis Services - Exploration de données&#41;](mining-model-content-for-sequence-clustering-models.md).</span><span class="sxs-lookup"><span data-stu-id="2a407-117">For more information, see [Mining Model Content for Sequence Clustering Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-sequence-clustering-models.md).</span></span>  
  
###  <a name="sample-query-1-using-the-data-mining-schema-rowset-to-return-model-parameters"></a><a name="bkmk_Query1"></a><span data-ttu-id="2a407-118">Exemple de requête 1 : utilisation de l’ensemble de lignes de schéma d’exploration de données pour retourner les paramètres de modèle</span><span class="sxs-lookup"><span data-stu-id="2a407-118">Sample Query 1: Using the Data Mining Schema Rowset to Return Model Parameters</span></span>  
 <span data-ttu-id="2a407-119">En interrogeant l'ensemble de lignes de schéma d'exploration de données, vous pouvez rechercher plusieurs types d'informations sur le modèle, dont les métadonnées de base, sa date et heure de création, le moment où il a été traité pour la dernière fois, le nom de la structure d'exploration de données sur laquelle il est basé et la colonne utilisée comme attribut prévisible.</span><span class="sxs-lookup"><span data-stu-id="2a407-119">By querying the data mining schema rowset, you can find various kinds of information about the model, including basic metadata, the date and time that the model was created and last processed, the name of the mining structure that the model is based on, and the column used as the predictable attribute.</span></span>  
  
 <span data-ttu-id="2a407-120">La requête suivante retourne les paramètres utilisés pour générer et procéder à l'apprentissage du modèle, `[Sequence Clustering]`.</span><span class="sxs-lookup"><span data-stu-id="2a407-120">The following query returns the parameters that were used to build and train the model, `[Sequence Clustering]`.</span></span> <span data-ttu-id="2a407-121">Vous pouvez créer ce modèle dans  la leçon 5 du [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="2a407-121">You can create this model in Lesson 5 of the [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span></span>  
  
```  
SELECT MINING_PARAMETERS   
from $system.DMSCHEMA_MINING_MODELS  
WHERE MODEL_NAME = 'Sequence Clustering'  
```  
  
 <span data-ttu-id="2a407-122">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="2a407-122">Example results:</span></span>  
  
|<span data-ttu-id="2a407-123">MINING_PARAMETERS</span><span class="sxs-lookup"><span data-stu-id="2a407-123">MINING_PARAMETERS</span></span>|  
|------------------------|  
|<span data-ttu-id="2a407-124">CLUSTER_COUNT=15,MINIMUM_SUPPORT=10,MAXIMUM_STATES=100,MAXIMUM_SEQUENCE_STATES=64</span><span class="sxs-lookup"><span data-stu-id="2a407-124">CLUSTER_COUNT=15,MINIMUM_SUPPORT=10,MAXIMUM_STATES=100,MAXIMUM_SEQUENCE_STATES=64</span></span>|  
  
 <span data-ttu-id="2a407-125">Notez que ce modèle a été construit en utilisant la valeur par défaut de 10 pour CLUSTER_COUNT.</span><span class="sxs-lookup"><span data-stu-id="2a407-125">Note that this model was built by using the default value of 10 for CLUSTER_COUNT.</span></span> <span data-ttu-id="2a407-126">Lorsque vous spécifiez un nombre différent de zéro de clusters pour CLUSTER_COUNT, l'algorithme cherche à trouver ce nombre.</span><span class="sxs-lookup"><span data-stu-id="2a407-126">When you specify a non-zero number of clusters for CLUSTER_COUNT, the algorithm treats this number as a hint for the approximate number of clusters to find.</span></span> <span data-ttu-id="2a407-127">Toutefois, l'algorithme peut trouver plus ou moins de clusters dans le processus d'analyse.</span><span class="sxs-lookup"><span data-stu-id="2a407-127">However, in the process of analysis, the algorithm may find more or fewer clusters.</span></span> <span data-ttu-id="2a407-128">Dans ce cas, l'algorithme a trouvé que 15 clusters ont correspondu le mieux aux données d'apprentissage.</span><span class="sxs-lookup"><span data-stu-id="2a407-128">In this case, the algorithm found that 15 clusters best fit the training data.</span></span> <span data-ttu-id="2a407-129">Par conséquent, la liste de valeurs de paramètre pour le modèle terminé indique le nombre de clusters tel qu'il a été déterminé par l'algorithme, et non la valeur indiquée lors de la création du modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-129">Therefore, the list of parameter values for the completed model reports the count of clusters as determined by the algorithm, not the value passed in when creating the model.</span></span>  
  
 <span data-ttu-id="2a407-130">En quoi ce comportement diffère-t-il par rapport au fait de permettre à l'algorithme de déterminer le meilleur nombre de clusters ?</span><span class="sxs-lookup"><span data-stu-id="2a407-130">How does this behavior differ from letting the algorithm determine the best number of clusters?</span></span> <span data-ttu-id="2a407-131">Pour l'expérience, vous pouvez créer un autre modèle de clustering qui utilise ces mêmes données, mais en définissant CLUSTER_COUNT sur 0.</span><span class="sxs-lookup"><span data-stu-id="2a407-131">As an experiment, you can create another clustering model that uses this same data, but set CLUSTER_COUNT to 0.</span></span> <span data-ttu-id="2a407-132">Lorsque vous faites cela, l'algorithme détecte 32 clusters.</span><span class="sxs-lookup"><span data-stu-id="2a407-132">When you do this, the algorithm detects 32 clusters.</span></span> <span data-ttu-id="2a407-133">Par conséquent, vous limitez le nombre de résultats en utilisant la valeur par défaut de 10 pour CLUSTER_COUNT.</span><span class="sxs-lookup"><span data-stu-id="2a407-133">Therefore, by using the default value of 10 for CLUSTER_COUNT, you constrain the number of results.</span></span>  
  
 <span data-ttu-id="2a407-134">La valeur de 10 est utilisée par défaut parce que la réduction du nombre de clusters simplifie pour la plupart des personnes la navigation dans les regroupements des données et leur compréhension.</span><span class="sxs-lookup"><span data-stu-id="2a407-134">The value of 10 is used by default because reducing the number of clusters makes it easier for most people to browse and understand groupings in the data.</span></span> <span data-ttu-id="2a407-135">Toutefois, chaque modèle et chaque jeu de données sont différents.</span><span class="sxs-lookup"><span data-stu-id="2a407-135">However, each model and set of data is different.</span></span> <span data-ttu-id="2a407-136">Vous pouvez tester différents nombres de clusters pour voir quelle valeur de paramètre donne le modèle le plus exact.</span><span class="sxs-lookup"><span data-stu-id="2a407-136">You may wish to experiment with different numbers of clusters to see which parameter value yields the most accurate model.</span></span>  
  
###  <a name="sample-query-2-getting-a-list-of-sequences-for-a-state"></a><a name="bkmk_Query2"></a><span data-ttu-id="2a407-137">Exemple de requête 2 : obtention d’une liste de séquences pour un État</span><span class="sxs-lookup"><span data-stu-id="2a407-137">Sample Query 2: Getting a List of Sequences for a State</span></span>  
 <span data-ttu-id="2a407-138">Le contenu du modèle d'exploration de données stocke les séquences trouvées dans les données d'apprentissage comme un premier état couplé à une liste de tous les deuxièmes états.</span><span class="sxs-lookup"><span data-stu-id="2a407-138">The mining model content stores the sequences that are found in the training data as a first state coupled with a list of all related second states.</span></span> <span data-ttu-id="2a407-139">Le premier état est utilisé comme étiquette pour la séquence et les deuxièmes états connexes sont appelés des transitions.</span><span class="sxs-lookup"><span data-stu-id="2a407-139">The first state is used as the label for the sequence, and the related second states are called transitions.</span></span>  
  
 <span data-ttu-id="2a407-140">Par exemple, la requête suivante retourne la liste complète de premiers états dans le modèle, avant que les séquences soient regroupées dans des clusters.</span><span class="sxs-lookup"><span data-stu-id="2a407-140">For example, the following query returns the complete list of first states in the model, before the sequences are grouped into clusters.</span></span>  <span data-ttu-id="2a407-141">Vous pouvez obtenir cette liste en retournant la liste des séquences (NODE_TYPE = 13) qui ont le nœud racine du modèle comme parent (PARENT_UNIQUE_NAME = 0).</span><span class="sxs-lookup"><span data-stu-id="2a407-141">You can get this list by returning the list of sequences (NODE_TYPE = 13) that have the model root node as parent (PARENT_UNIQUE_NAME = 0).</span></span> <span data-ttu-id="2a407-142">Le mot clé FLATTENED simplifie la lecture des résultats.</span><span class="sxs-lookup"><span data-stu-id="2a407-142">The FLATTENED keyword makes the results easier to read.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2a407-143">Le nom des colonnes, PARENT_UNIQUE_NAME, support et probabilité, doivent être mis entre crochets afin de le distinguer des mots clés réservés du même nom.</span><span class="sxs-lookup"><span data-stu-id="2a407-143">The name of the columns, PARENT_UNIQUE_NAME, Support, and Probability must be enclosed in brackets to distinguish them from the reserved keywords of the same name.</span></span>  
  
```  
SELECT FLATTENED NODE_UNIQUE_NAME,  
(SELECT ATTRIBUTE_VALUE AS [Product 1],  
[Support] AS [Sequence Support],   
[Probability] AS [Sequence Probability]  
FROM NODE_DISTRIBUTION) AS t  
FROM [Sequence Clustering].CONTENT  
WHERE NODE_TYPE = 13  
AND [PARENT_UNIQUE_NAME] = 0  
```  
  
 <span data-ttu-id="2a407-144">Résultats partiels :</span><span class="sxs-lookup"><span data-stu-id="2a407-144">Partial results:</span></span>  
  
|<span data-ttu-id="2a407-145">NODE_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="2a407-145">NODE_UNIQUE_NAME</span></span>|<span data-ttu-id="2a407-146">Produit 1</span><span class="sxs-lookup"><span data-stu-id="2a407-146">Product 1</span></span>|<span data-ttu-id="2a407-147">Support de séquence</span><span class="sxs-lookup"><span data-stu-id="2a407-147">Sequence Support</span></span>|<span data-ttu-id="2a407-148">Probabilité de la séquence</span><span class="sxs-lookup"><span data-stu-id="2a407-148">Sequence Probability</span></span>|  
|------------------------|---------------|----------------------|--------------------------|  
|<span data-ttu-id="2a407-149">1081327</span><span class="sxs-lookup"><span data-stu-id="2a407-149">1081327</span></span>|<span data-ttu-id="2a407-150">Manquant</span><span class="sxs-lookup"><span data-stu-id="2a407-150">Missing</span></span>|<span data-ttu-id="2a407-151">0</span><span class="sxs-lookup"><span data-stu-id="2a407-151">0</span></span>|#######|  
|<span data-ttu-id="2a407-152">1081327</span><span class="sxs-lookup"><span data-stu-id="2a407-152">1081327</span></span>|<span data-ttu-id="2a407-153">All-Purpose Bike Stand</span><span class="sxs-lookup"><span data-stu-id="2a407-153">All-Purpose Bike Stand</span></span>|<span data-ttu-id="2a407-154">17</span><span class="sxs-lookup"><span data-stu-id="2a407-154">17</span></span>|<span data-ttu-id="2a407-155">0.00111</span><span class="sxs-lookup"><span data-stu-id="2a407-155">0.00111</span></span>|  
|<span data-ttu-id="2a407-156">1081327</span><span class="sxs-lookup"><span data-stu-id="2a407-156">1081327</span></span>|<span data-ttu-id="2a407-157">Bike Wash</span><span class="sxs-lookup"><span data-stu-id="2a407-157">Bike Wash</span></span>|<span data-ttu-id="2a407-158">64</span><span class="sxs-lookup"><span data-stu-id="2a407-158">64</span></span>|<span data-ttu-id="2a407-159">0.00418</span><span class="sxs-lookup"><span data-stu-id="2a407-159">0.00418</span></span>|  
|<span data-ttu-id="2a407-160">1081327</span><span class="sxs-lookup"><span data-stu-id="2a407-160">1081327</span></span>|<span data-ttu-id="2a407-161">(les lignes 4-36 sont omises)</span><span class="sxs-lookup"><span data-stu-id="2a407-161">(rows 4-36 omitted)</span></span>|||  
|<span data-ttu-id="2a407-162">1081327</span><span class="sxs-lookup"><span data-stu-id="2a407-162">1081327</span></span>|<span data-ttu-id="2a407-163">Women's Mountain Shorts</span><span class="sxs-lookup"><span data-stu-id="2a407-163">Women's Mountain Shorts</span></span>|<span data-ttu-id="2a407-164">506</span><span class="sxs-lookup"><span data-stu-id="2a407-164">506</span></span>|<span data-ttu-id="2a407-165">0.03307</span><span class="sxs-lookup"><span data-stu-id="2a407-165">0.03307</span></span>|  
  
 <span data-ttu-id="2a407-166">La liste de séquences dans le modèle est toujours triée alphabétiquement en ordre croissant.</span><span class="sxs-lookup"><span data-stu-id="2a407-166">The list of sequences in the model is always sorted alphabetically in ascending order.</span></span> <span data-ttu-id="2a407-167">Le classement des séquences est important parce que vous pouvez rechercher les transitions connexes en regardant le numéro d'ordre de la séquence.</span><span class="sxs-lookup"><span data-stu-id="2a407-167">The ordering of the sequences is important because you can find the related transitions by looking at the order number of the sequence.</span></span> <span data-ttu-id="2a407-168">La valeur `Missing` est toujours transition 0.</span><span class="sxs-lookup"><span data-stu-id="2a407-168">The `Missing` value is always transition 0.</span></span>  
  
 <span data-ttu-id="2a407-169">Par exemple, dans les résultats précédents, le produit "Women's Mountain Shorts" est le numéro de séquence 37 du modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-169">For example, in the previous results, the product "Women's Mountain Shorts" is the sequence number 37 in the model.</span></span> <span data-ttu-id="2a407-170">Vous pouvez utiliser ces informations pour consulter tous les produits qui ont été achetés après "Women's Mountain Shorts".</span><span class="sxs-lookup"><span data-stu-id="2a407-170">You can use that information to view all of the products that were ever purchased after "Women's Mountain Shorts."</span></span>  
  
 <span data-ttu-id="2a407-171">Pour cela, référencez d'abord la valeur retournée pour NODE_UNIQUE_NAME dans la requête précédente, pour obtenir l'ID du nœud qui contient toutes les séquences du modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-171">To do this, first, you reference the value returned for NODE_UNIQUE_NAME in the previous query, to get the ID of the node that contains all sequences for the model.</span></span> <span data-ttu-id="2a407-172">Entrez cette valeur dans la requête comme l'ID du nœud parent pour obtenir uniquement les transitions incluses dans ce nœud, qui contient une liste de toutes les séquences du modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-172">You pass this value to the query as the ID of the parent node, to get only the transitions included in this node, which happens to contain a list of al sequences for the model.</span></span> <span data-ttu-id="2a407-173">Toutefois, si vous souhaitez consulter la liste de transitions d'un cluster spécifique, vous pouvez entrer l'ID du nœud de cluster et consulter uniquement les séquences associées à ce cluster.</span><span class="sxs-lookup"><span data-stu-id="2a407-173">However, if you wanted to see the list of transitions for a specific cluster, you could pass in the ID of the cluster node, and see only the sequences associated with that cluster.</span></span>  
  
```  
SELECT NODE_UNIQUE_NAME  
FROM [Sequence Clustering].CONTENT  
WHERE NODE_DESCRIPTION = 'Transition row for sequence state 37'  
AND [PARENT_UNIQUE_NAME] = '1081327'  
```  
  
 <span data-ttu-id="2a407-174">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="2a407-174">Example results:</span></span>  
  
|<span data-ttu-id="2a407-175">NODE_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="2a407-175">NODE_UNIQUE_NAME</span></span>|  
|------------------------|  
|<span data-ttu-id="2a407-176">1081365</span><span class="sxs-lookup"><span data-stu-id="2a407-176">1081365</span></span>|  
  
 <span data-ttu-id="2a407-177">Le nœud représenté par cet ID contient une liste des séquences qui suivent le produit « Women's Mountain Shorts », avec les valeurs de support et de probabilité.</span><span class="sxs-lookup"><span data-stu-id="2a407-177">The node represented by this ID contains a list of the sequences that follow the "Women's Mountain Shorts" product, together with the support and probability values.</span></span>  
  
```  
SELECT FLATTENED  
(SELECT ATTRIBUTE_VALUE AS Product2,  
[Support] AS [P2 Support],  
[Probability] AS [P2 Probability]  
FROM NODE_DISTRIBUTION) AS t  
FROM [Sequence Clustering].CONTENT  
WHERE NODE_UNIQUE_NAME = '1081365'  
```  
  
 <span data-ttu-id="2a407-178">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="2a407-178">Example results:</span></span>  
  
|<span data-ttu-id="2a407-179">t.Product2</span><span class="sxs-lookup"><span data-stu-id="2a407-179">t.Product2</span></span>|<span data-ttu-id="2a407-180">t.P2 Support</span><span class="sxs-lookup"><span data-stu-id="2a407-180">t.P2 Support</span></span>|<span data-ttu-id="2a407-181">t.P2 Probability</span><span class="sxs-lookup"><span data-stu-id="2a407-181">t.P2 Probability</span></span>|  
|----------------|------------------|----------------------|  
|<span data-ttu-id="2a407-182">Manquant</span><span class="sxs-lookup"><span data-stu-id="2a407-182">Missing</span></span>|<span data-ttu-id="2a407-183">230.7419</span><span class="sxs-lookup"><span data-stu-id="2a407-183">230.7419</span></span>|<span data-ttu-id="2a407-184">0.456012</span><span class="sxs-lookup"><span data-stu-id="2a407-184">0.456012</span></span>|  
|<span data-ttu-id="2a407-185">Classic Vest</span><span class="sxs-lookup"><span data-stu-id="2a407-185">Classic Vest</span></span>|<span data-ttu-id="2a407-186">8.16129</span><span class="sxs-lookup"><span data-stu-id="2a407-186">8.16129</span></span>|<span data-ttu-id="2a407-187">0.016129</span><span class="sxs-lookup"><span data-stu-id="2a407-187">0.016129</span></span>|  
|<span data-ttu-id="2a407-188">Cycling Cap</span><span class="sxs-lookup"><span data-stu-id="2a407-188">Cycling Cap</span></span>|<span data-ttu-id="2a407-189">60.83871</span><span class="sxs-lookup"><span data-stu-id="2a407-189">60.83871</span></span>|<span data-ttu-id="2a407-190">0.120235</span><span class="sxs-lookup"><span data-stu-id="2a407-190">0.120235</span></span>|  
|<span data-ttu-id="2a407-191">Half-Finger Gloves</span><span class="sxs-lookup"><span data-stu-id="2a407-191">Half-Finger Gloves</span></span>|<span data-ttu-id="2a407-192">30.41935</span><span class="sxs-lookup"><span data-stu-id="2a407-192">30.41935</span></span>|<span data-ttu-id="2a407-193">0.060117</span><span class="sxs-lookup"><span data-stu-id="2a407-193">0.060117</span></span>|  
|<span data-ttu-id="2a407-194">Long-Sleeve Logo Jersey (Pull-over à manches longues)</span><span class="sxs-lookup"><span data-stu-id="2a407-194">Long-Sleeve Logo Jersey</span></span>|<span data-ttu-id="2a407-195">86.80645</span><span class="sxs-lookup"><span data-stu-id="2a407-195">86.80645</span></span>|<span data-ttu-id="2a407-196">0.171554</span><span class="sxs-lookup"><span data-stu-id="2a407-196">0.171554</span></span>|  
|<span data-ttu-id="2a407-197">Racing Socks</span><span class="sxs-lookup"><span data-stu-id="2a407-197">Racing Socks</span></span>|<span data-ttu-id="2a407-198">28.93548</span><span class="sxs-lookup"><span data-stu-id="2a407-198">28.93548</span></span>|<span data-ttu-id="2a407-199">0.057185</span><span class="sxs-lookup"><span data-stu-id="2a407-199">0.057185</span></span>|  
|<span data-ttu-id="2a407-200">Short-Sleeve Classic Jersey</span><span class="sxs-lookup"><span data-stu-id="2a407-200">Short-Sleeve Classic Jersey</span></span>|<span data-ttu-id="2a407-201">60.09677</span><span class="sxs-lookup"><span data-stu-id="2a407-201">60.09677</span></span>|<span data-ttu-id="2a407-202">0.118768</span><span class="sxs-lookup"><span data-stu-id="2a407-202">0.118768</span></span>|  
  
 <span data-ttu-id="2a407-203">Notez que le support des diverses séquences en rapport avec Women's Mountain Shorts est 506 dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-203">Note that support for the various sequences related to Women's Mountain Shorts is 506 in the model.</span></span> <span data-ttu-id="2a407-204">Les valeurs de support pour les transitions donnent également un total de 506.</span><span class="sxs-lookup"><span data-stu-id="2a407-204">The support values for the transitions also add up to 506.</span></span> <span data-ttu-id="2a407-205">Toutefois, les nombres ne sont pas des nombres entiers, ce qui semble un peu étrange lorsque l'on s'attend à ce que le support représente simplement un nombre de cas qui contiennent chaque transition.</span><span class="sxs-lookup"><span data-stu-id="2a407-205">However, the numbers are not whole numbers, which seems a bit odd if you expect support to simply represent a count of cases that contain each transition.</span></span> <span data-ttu-id="2a407-206">Toutefois, la probabilité de toute transition dans un cluster doit être pondérée par sa probabilité d'appartenir à ce cluster particulier parce que la méthode de création des clusters calcule l'appartenance partielle.</span><span class="sxs-lookup"><span data-stu-id="2a407-206">However, because the method for creating clusters calculates partial membership, the probability of any transition within a cluster must be weighted by its probability of belonging to that particular cluster.</span></span>  
  
 <span data-ttu-id="2a407-207">Par exemple, s'il y a quatre clusters, une séquence particulière peut avoir 40 % de chance d'appartenir au cluster 1, 30 % de chance d'appartenir au cluster 2, 20 % de chance d'appartenir au cluster 3 et 100 % de chance d'appartenir au cluster 4.</span><span class="sxs-lookup"><span data-stu-id="2a407-207">For example, if there are four clusters, a particular sequence might have a 40% chance of belonging to cluster 1, a 30% chance of belonging to cluster 2, a 20% chance of belonging to cluster 3, and a 10% chance of belonging to cluster 4.</span></span> <span data-ttu-id="2a407-208">Lorsque l'algorithme a déterminé le cluster auquel la transition a le plus de chance d'appartenir, il pondère les probabilités au sein du cluster par la probabilité a priori du cluster.</span><span class="sxs-lookup"><span data-stu-id="2a407-208">After the algorithm determines the cluster that the transition is mostly likely to belong to, it weights the probabilities within the cluster by the cluster prior probability.</span></span>  
  
###  <a name="sample-query-3-using-system-stored-procedures"></a><a name="bkmk_Query3"></a><span data-ttu-id="2a407-209">Exemple de requête 3 : utilisation des procédures stockées système</span><span class="sxs-lookup"><span data-stu-id="2a407-209">Sample Query 3: Using System Stored Procedures</span></span>  
 <span data-ttu-id="2a407-210">Vous pouvez voir à partir de ces exemples de requête que les informations stockées dans le modèle sont complexes et que vous devrez peut-être créer plusieurs requêtes pour obtenir les informations dont vous avez besoin.</span><span class="sxs-lookup"><span data-stu-id="2a407-210">You can see from these query samples that the information stored in the model is complex, and that you might need to create multiple queries to get the information that you need.</span></span> <span data-ttu-id="2a407-211">Toutefois, la visionneuse de l'algorithme MSC fournit un jeu performant d'outils pour parcourir graphiquement les informations contenues dans une séquence de modèle Sequence Clustering. Vous pouvez également utiliser la visionneuse pour interroger et extraire dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-211">However, the Microsoft Sequence Clustering viewer provides a powerful set of tools for graphically browsing the information contained in a sequence clustering model, and you can also use the viewer to query and drill down into the model.</span></span>  
  
 <span data-ttu-id="2a407-212">Dans la plupart des cas, les informations présentées dans la visionneuse de l'algorithme MSC sont créées en utilisant des procédures stockées système Analysis Services pour interroger le modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-212">In most cases, the information that is presented in the Microsoft Sequence Clustering viewer is created by using Analysis Services system stored procedures to query the model.</span></span> <span data-ttu-id="2a407-213">Vous pouvez écrire des requêtes Data Mining Extensions (DMX) sur le contenu du modèle pour extraire les mêmes informations, mais les procédures stockées système Analysis Services fournissent un raccourci commode lors de l'exploration ou du test des modèles.</span><span class="sxs-lookup"><span data-stu-id="2a407-213">You can write Data Mining Extensions (DMX) queries against the model content to retrieve the same information, but the Analysis Services system stored procedures provide a convenient shortcut when for exploration or for testing models.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2a407-214">Les procédures stockées système sont utilisées pour le traitement interne par le serveur et par les clients que Microsoft fournit pour interagir avec le serveur Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="2a407-214">System stored procedures are used for internal processing by the server and by the clients that Microsoft provides for interacting with the Analysis Services server.</span></span> <span data-ttu-id="2a407-215">Par conséquent, Microsoft se réserve le droit de les modifier n'importe quand.</span><span class="sxs-lookup"><span data-stu-id="2a407-215">Therefore, Microsoft reserves the right to change them at any time.</span></span> <span data-ttu-id="2a407-216">Bien qu'ils soient décrits ici pour plus de commodité, nous ne prenons pas en charge leur utilisation dans un environnement de production.</span><span class="sxs-lookup"><span data-stu-id="2a407-216">Although they are described here for your convenience, we do not support their use in a production environment.</span></span> <span data-ttu-id="2a407-217">Pour garantir stabilité et compatibilité dans un environnement de production, vous devez toujours écrire vos propres requêtes en utilisant DMX.</span><span class="sxs-lookup"><span data-stu-id="2a407-217">To ensure stability and compatibility in a production environment, you should always write your own queries by using DMX.</span></span>  
  
 <span data-ttu-id="2a407-218">Cette section fournit quelques exemples sur la façon d'utiliser les procédures stockées système pour créer des requêtes sur un modèle Sequence Clustering :</span><span class="sxs-lookup"><span data-stu-id="2a407-218">This section provides some samples of how to use the system stored procedures to create queries against a sequence clustering model:</span></span>  
  
#### <a name="cluster-profiles-and-sample-cases"></a><span data-ttu-id="2a407-219">Profils du cluster et cas d'exemple</span><span class="sxs-lookup"><span data-stu-id="2a407-219">Cluster Profiles and Sample Cases</span></span>  
 <span data-ttu-id="2a407-220">L'onglet Profils du cluster affiche une liste des clusters dans le modèle, la taille de chaque cluster et un histogramme qui indique les états inclus dans le cluster.</span><span class="sxs-lookup"><span data-stu-id="2a407-220">The Cluster Profiles tab shows you a list of the clusters in the model, the size of each cluster, and a histogram that indicates the states included in the cluster.</span></span> <span data-ttu-id="2a407-221">Il existe deux procédures stockées système que vous pouvez utiliser dans les requêtes pour extraire des informations semblables :</span><span class="sxs-lookup"><span data-stu-id="2a407-221">There are two system stored procedures that you can use in queries to retrieve similar information:</span></span>  
  
-   <span data-ttu-id="2a407-222">`GetClusterProfile` retourne les caractéristiques du cluster, avec toutes les informations trouvées dans la table NODE_DISTRIBUTION du cluster.</span><span class="sxs-lookup"><span data-stu-id="2a407-222">`GetClusterProfile` returns the characteristics of the cluster, with all the information that is found in the NODE_DISTRIBUTION table for the cluster.</span></span>  
  
-   <span data-ttu-id="2a407-223">`GetNodeGraph` retourne les nœuds et les contours qui peuvent être utilisés pour construire une représentation graphique mathématique des clusters, correspondant à ce que vous voyez sur le premier onglet de la vue Sequence Clustering.</span><span class="sxs-lookup"><span data-stu-id="2a407-223">`GetNodeGraph` returns nodes and edges that can be used to construct a mathematical graph representation of the clusters, corresponding to what you see on the first tab of the Sequence Clustering view.</span></span> <span data-ttu-id="2a407-224">Les nœuds sont des clusters et les contours représentent des poids ou force.</span><span class="sxs-lookup"><span data-stu-id="2a407-224">The nodes are clusters, and the edges represent weights or strength.</span></span>  
  
 <span data-ttu-id="2a407-225">L'exemple suivant illustre la manière d'utiliser la procédure stockée système `GetClusterProfiles`pour retourner tous les clusters du modèle, avec leurs profils respectifs.</span><span class="sxs-lookup"><span data-stu-id="2a407-225">The following example illustrates how to use the system stored procedure, `GetClusterProfiles`, to return all of the clusters in the model, with their respective profiles.</span></span> <span data-ttu-id="2a407-226">Cette procédure stockée exécute une série d'instructions DMX qui retournent le jeu complet de profils dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-226">This stored procedure executes a series of DMX statements that return the complete set of profiles in the model.</span></span> <span data-ttu-id="2a407-227">Toutefois, pour utiliser cette procédure stockée, vous devez connaître l'adresse du modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-227">However, to use this stored procedure you must know the address of the model.</span></span>  
  
 `CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterProfiles('Sequence Clustering', 2147483647, 0)`  
  
 <span data-ttu-id="2a407-228">L'exemple suivant illustre la façon d'extraire le profil pour un cluster spécifique, Cluster 12, en utilisant la procédure stockée système `GetNodeGraph`et en spécifiant l'ID du cluster, qui est habituellement le même que le numéro dans le nom du cluster.</span><span class="sxs-lookup"><span data-stu-id="2a407-228">The following example illustrates how to retrieve the profile for a specific cluster, Cluster 12, by using the system stored procedure `GetNodeGraph`, and specifying the cluster ID, which is usually the same as the number in the cluster name.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetNodeGraph('Sequence Clustering','12',0)  
```  
  
 <span data-ttu-id="2a407-229">Si vous omettez l'ID du cluster, comme affiché dans la requête suivante, `GetNodeGraph` retourne une liste triée et aplatie de tous les profils :</span><span class="sxs-lookup"><span data-stu-id="2a407-229">If you omit the cluster ID, as shown in the following query, `GetNodeGraph` returns an ordered, flattened list of all cluster profiles:</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetNodeGraph('Sequence Clustering','',0)  
```  
  
 <span data-ttu-id="2a407-230">L'onglet **Profil du cluster** affiche également un histogramme de cas d'exemple du modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-230">The **Cluster Profile** tab also displays a histogram of model sample cases.</span></span> <span data-ttu-id="2a407-231">Ces cas d'exemple représentent les cas idéalisés pour le modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-231">These sample cases represent the idealized cases for the model.</span></span> <span data-ttu-id="2a407-232">Ces cas ne sont pas stockés dans le modèle de la même façon que les données d'apprentissage ; vous devez utiliser une syntaxe spéciale pour extraire les cas d'exemple du modèle.</span><span class="sxs-lookup"><span data-stu-id="2a407-232">These cases are not stored in the model the same way that the training data is; you must use a special syntax to retrieve the sample cases for the model.</span></span>  
  
```  
SELECT * FROM [Sequence Clustering].SAMPLE_CASES WHERE IsInNode('12')  
```  
  
 <span data-ttu-id="2a407-233">Pour plus d’informations, consultez [SELECT FROM &#60;modèle&#62;.SAMPLE_CASES &#40;DMX&#41;](/sql/dmx/select-from-model-dmx).</span><span class="sxs-lookup"><span data-stu-id="2a407-233">For more information, see [SELECT FROM &#60;model&#62;.SAMPLE_CASES &#40;DMX&#41;](/sql/dmx/select-from-model-dmx).</span></span>  
  
#### <a name="cluster-characteristics-and-cluster-discrimination"></a><span data-ttu-id="2a407-234">Caractéristiques et discrimination du cluster</span><span class="sxs-lookup"><span data-stu-id="2a407-234">Cluster Characteristics and Cluster Discrimination</span></span>  
 <span data-ttu-id="2a407-235">L'onglet **Caractéristiques du cluster** résume les attributs principaux de chaque cluster, classés par probabilité.</span><span class="sxs-lookup"><span data-stu-id="2a407-235">The **Cluster Characteristics** tab summarizes the main attributes of each cluster, ranked by probability.</span></span> <span data-ttu-id="2a407-236">Vous pouvez trouver le nombre de cas appartenant à un cluster ainsi que des informations relatives à la distribution des cas dans le cluster : chaque caractéristique a un certain support.</span><span class="sxs-lookup"><span data-stu-id="2a407-236">You can find out how many cases belong to a cluster, and what the distribution of cases is like in the cluster: Each characteristic has certain support.</span></span> <span data-ttu-id="2a407-237">Pour consulter les caractéristiques d'un cluster particulier, vous devez connaître l'ID du cluster.</span><span class="sxs-lookup"><span data-stu-id="2a407-237">To see the characteristics of a particular cluster, you must know the ID of the cluster.</span></span>  
  
 <span data-ttu-id="2a407-238">Les exemples suivants utilisent la procédure stockée système `GetClusterCharacteristics`pour retourner toutes les caractéristiques du Cluster 12 qui ont un score de probabilité supérieur au seuil spécifié de 0,0005.</span><span class="sxs-lookup"><span data-stu-id="2a407-238">The following examples uses the system stored procedure, `GetClusterCharacteristics`, to return all the characteristics of Cluster 12 that have a probability score over the specified threshold of 0.0005.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterCharacteristics('Sequence Clustering','12',0.0005)  
```  
  
 <span data-ttu-id="2a407-239">Pour retourner les caractéristiques de tous les clusters, vous pouvez laisser l'ID du cluster vide.</span><span class="sxs-lookup"><span data-stu-id="2a407-239">To return the characteristics of all clusters, you can leave the cluster ID empty.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterCharacteristics('Sequence Clustering','',0.0005)  
```  
  
 <span data-ttu-id="2a407-240">L'exemple suivant appelle la procédure stockée système `GetClusterDiscrimination` pour comparer les caractéristiques du Cluster 1 et du Cluster 12.</span><span class="sxs-lookup"><span data-stu-id="2a407-240">The following example calls the system stored procedure `GetClusterDiscrimination` to compare the characteristics of Cluster 1 and Cluster 12.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterDiscrimination('Sequence Clustering','1','12',0.0005,true)  
```  
  
 <span data-ttu-id="2a407-241">Si vous souhaitez écrire votre propre requête en DMX pour comparer deux clusters, ou comparer un cluster avec son complément, vous devez commencer par extraire un jeu de caractéristiques, puis extraire les caractéristiques du cluster qui vous intéresse et comparer les deux jeux.</span><span class="sxs-lookup"><span data-stu-id="2a407-241">If you want to write your own query in DMX to compare two clusters, or compare a cluster with its complement, you must first retrieve one set of characteristics, and then retrieve the characteristics for the specific cluster that you are interested in, and compare the two sets.</span></span> <span data-ttu-id="2a407-242">Ce scénario est plus compliqué et nécessite généralement un traitement client.</span><span class="sxs-lookup"><span data-stu-id="2a407-242">This scenario is more complicated and typically requires some client processing.</span></span>  
  
#### <a name="states-and-transitions"></a><span data-ttu-id="2a407-243">États et transitions</span><span class="sxs-lookup"><span data-stu-id="2a407-243">States and Transitions</span></span>  
 <span data-ttu-id="2a407-244">L'onglet **Transitions d'état** de l'algorithme Microsoft Sequence Clustering effectue des requêtes compliquées interroge sur le principal pour extraire et comparer les statistiques de clusters différents.</span><span class="sxs-lookup"><span data-stu-id="2a407-244">The **State Transitions** tab of the Microsoft Sequence Clustering performs complicated queries on the back end to retrieve and compare the statistics for different clusters.</span></span> <span data-ttu-id="2a407-245">Reproduire ces résultats requiert une requête plus complexe et un traitement client.</span><span class="sxs-lookup"><span data-stu-id="2a407-245">To reproduce these results requires a more complex query and some client processing.</span></span>  
  
 <span data-ttu-id="2a407-246">Toutefois, vous pouvez utiliser les requêtes DMX décrites dans l'exemple 2 de la section [Requêtes de contenu](#bkmk_ContentQueries)pour extraire des probabilités et des états pour les séquences ou pour les transitions individuelles.</span><span class="sxs-lookup"><span data-stu-id="2a407-246">However, you can use the DMX queries described in Example 2 of the section, [Content Queries](#bkmk_ContentQueries), to retrieve probabilities and states for sequences or for individual transitions.</span></span>  
  
## <a name="using-the-model-to-make-predictions"></a><span data-ttu-id="2a407-247">Utilisation du modèle pour réaliser des prédictions</span><span class="sxs-lookup"><span data-stu-id="2a407-247">Using the Model to Make Predictions</span></span>  
 <span data-ttu-id="2a407-248">Les requêtes de prédiction sur un modèle Sequence Clustering peuvent utiliser beaucoup des fonctions de prédiction utilisées avec d'autres modèles de clustering.</span><span class="sxs-lookup"><span data-stu-id="2a407-248">Prediction queries on a sequence clustering model can use many of the prediction functions that are used with other clustering models.</span></span> <span data-ttu-id="2a407-249">De plus, vous pouvez utiliser la fonction de prédiction spéciale, [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx), pour effectuer des recommandations ou prédire les états suivants.</span><span class="sxs-lookup"><span data-stu-id="2a407-249">In addition, you can use the special prediction function, [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx), to make recommendations or to predict next states.</span></span>  
  
###  <a name="sample-query-4-predict-next-state-or-states"></a><a name="bkmk_Query4"></a><span data-ttu-id="2a407-250">Exemple de requête 4 : prédiction de l’État ou des États suivants</span><span class="sxs-lookup"><span data-stu-id="2a407-250">Sample Query 4: Predict Next State or States</span></span>  
 <span data-ttu-id="2a407-251">Vous pouvez utiliser la fonction [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx) pour prévoir l’état suivant le plus probable, compte tenu d’une valeur.</span><span class="sxs-lookup"><span data-stu-id="2a407-251">You can use the [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx) function to predict the next most likely state, given a value.</span></span> <span data-ttu-id="2a407-252">Vous pouvez également prédire plusieurs états suivants. Par exemple, vous pouvez retourner une liste des trois premiers produits qu'il est probable qu'un client achète, pour présenter une liste de recommandations.</span><span class="sxs-lookup"><span data-stu-id="2a407-252">You can also predict multiple next states: for example, you can return a list of the top three products that a customer is likely to purchase, to present a list of recommendations.</span></span>  
  
 <span data-ttu-id="2a407-253">La requête d'exemple suivante est une requête singleton de prédiction qui retourne les cinq premières prédictions, avec leur probabilité.</span><span class="sxs-lookup"><span data-stu-id="2a407-253">The following sample query is a singleton prediction query that returns the top five predictions, together with their probability.</span></span> <span data-ttu-id="2a407-254">Vous devez utiliser une table imbriquée, `[v Assoc Seq Line Items]`, comme référence de colonne lorsque vous effectuez des prédictions parce que le modèle inclut une table imbriquée.</span><span class="sxs-lookup"><span data-stu-id="2a407-254">Because the model includes a nested table, you must use the nested table, `[v Assoc Seq Line Items]`, as the column reference when making predictions.</span></span> <span data-ttu-id="2a407-255">En outre, lorsque vous fournissez des valeurs comme entrée, vous devez joindre à la fois les colonnes de la table de cas et de la table imbriquée, comme indiqué dans les instructions SELECT imbriquées.</span><span class="sxs-lookup"><span data-stu-id="2a407-255">Also, when you supply values as input, you must join both the case table and the nested table columns, as shown by the nested SELECT statements.</span></span>  
  
```  
SELECT FLATTENED PredictSequence([v Assoc Seq Line Items], 7)  
FROM [Sequence Clustering]  
NATURAL PREDICTION JOIN  
(SELECT  (SELECT 1 as [Line Number],  
   'All-Purpose Bike Stand' as [Model]) AS [v Assoc Seq Line Items])   
AS t  
```  
  
 <span data-ttu-id="2a407-256">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="2a407-256">Example results:</span></span>  
  
|<span data-ttu-id="2a407-257">Expression.$Sequence</span><span class="sxs-lookup"><span data-stu-id="2a407-257">Expression.$Sequence</span></span>|<span data-ttu-id="2a407-258">Expression.Line Number</span><span class="sxs-lookup"><span data-stu-id="2a407-258">Expression.Line Number</span></span>|<span data-ttu-id="2a407-259">Expression.Model</span><span class="sxs-lookup"><span data-stu-id="2a407-259">Expression.Model</span></span>|  
|--------------------------|----------------------------|----------------------|  
|<span data-ttu-id="2a407-260">1</span><span class="sxs-lookup"><span data-stu-id="2a407-260">1</span></span>||<span data-ttu-id="2a407-261">Cycling Cap</span><span class="sxs-lookup"><span data-stu-id="2a407-261">Cycling Cap</span></span>|  
|<span data-ttu-id="2a407-262">2</span><span class="sxs-lookup"><span data-stu-id="2a407-262">2</span></span>||<span data-ttu-id="2a407-263">Cycling Cap</span><span class="sxs-lookup"><span data-stu-id="2a407-263">Cycling Cap</span></span>|  
|<span data-ttu-id="2a407-264">3</span><span class="sxs-lookup"><span data-stu-id="2a407-264">3</span></span>||<span data-ttu-id="2a407-265">Sport-100</span><span class="sxs-lookup"><span data-stu-id="2a407-265">Sport-100</span></span>|  
|<span data-ttu-id="2a407-266">4</span><span class="sxs-lookup"><span data-stu-id="2a407-266">4</span></span>||<span data-ttu-id="2a407-267">Long-Sleeve Logo Jersey (Pull-over à manches longues)</span><span class="sxs-lookup"><span data-stu-id="2a407-267">Long-Sleeve logo Jersey</span></span>|  
|<span data-ttu-id="2a407-268">5</span><span class="sxs-lookup"><span data-stu-id="2a407-268">5</span></span>||<span data-ttu-id="2a407-269">Half-Finger Gloves</span><span class="sxs-lookup"><span data-stu-id="2a407-269">Half-Finger Gloves</span></span>|  
|<span data-ttu-id="2a407-270">6</span><span class="sxs-lookup"><span data-stu-id="2a407-270">6</span></span>||<span data-ttu-id="2a407-271">All-Purpose Bike Stand</span><span class="sxs-lookup"><span data-stu-id="2a407-271">All-Purpose Bike Stand</span></span>|  
|<span data-ttu-id="2a407-272">7</span><span class="sxs-lookup"><span data-stu-id="2a407-272">7</span></span>||<span data-ttu-id="2a407-273">All-Purpose Bike Stand</span><span class="sxs-lookup"><span data-stu-id="2a407-273">All-Purpose Bike Stand</span></span>|  
  
 <span data-ttu-id="2a407-274">Il y a trois colonnes dans les résultats, alors que vous pourriez vous attendre à n'en trouver qu'une, car la requête retourne toujours une colonne pour la table de cas.</span><span class="sxs-lookup"><span data-stu-id="2a407-274">There are three columns in the results, even though you might only expect one column, because the query always returns a column for the case table.</span></span> <span data-ttu-id="2a407-275">Les résultats sont aplatis, sinon la requête retournerait une colonne unique contenant deux colonnes de table imbriquée.</span><span class="sxs-lookup"><span data-stu-id="2a407-275">Here the results are flattened; otherwise, the query would return a single column that contains two nested table columns.</span></span>  
  
 <span data-ttu-id="2a407-276">La colonne $sequence est une colonne retournée par défaut par la fonction `PredictSequence` pour commander les résultats de prédiction.</span><span class="sxs-lookup"><span data-stu-id="2a407-276">The column $sequence is a column returned by default by the `PredictSequence` function to order the prediction results.</span></span> <span data-ttu-id="2a407-277">La colonne `[Line Number]`est requise pour correspondre aux clés de séquence dans le modèle, mais les clés ne sont pas des sorties.</span><span class="sxs-lookup"><span data-stu-id="2a407-277">The column, `[Line Number]`, is required to match the sequence keys in the model, but the keys are not output.</span></span>  
  
 <span data-ttu-id="2a407-278">De façon intéressante, les premières séquences prédites après All-Purpose Bike Stand sont Cycling Cap et Cycling Cap.</span><span class="sxs-lookup"><span data-stu-id="2a407-278">Interestingly, the top predicted sequences after All-Purpose Bike Stand are Cycling Cap and Cycling Cap.</span></span> <span data-ttu-id="2a407-279">Il ne s'agit pas d'une erreur.</span><span class="sxs-lookup"><span data-stu-id="2a407-279">This is not an error.</span></span> <span data-ttu-id="2a407-280">Selon la façon dont les données sont présentées au client et selon la façon dont elles sont groupées lors de l'apprentissage du modèle,  il est tout à fait possible d'obtenir des séquences de ce type.</span><span class="sxs-lookup"><span data-stu-id="2a407-280">Depending on how the data is presented to the customer, and how it is grouped when training the model, it is very possible to have sequences of this kind.</span></span> <span data-ttu-id="2a407-281">Par exemple, un client peut acheter une casquette (rouge), puis une autre casquette (bleue), ou en acheter deux à la fois s'il n'y avait aucune façon de spécifier la quantité.</span><span class="sxs-lookup"><span data-stu-id="2a407-281">For example, a customer might purchase a cycling cap (red) and then another cycling cap (blue), or purchase two in a row if there were no way to specify quantity.</span></span>  
  
 <span data-ttu-id="2a407-282">Les valeurs des lignes 6 et 7 sont des espaces réservés.</span><span class="sxs-lookup"><span data-stu-id="2a407-282">The values in rows 6 and 7 are placeholders.</span></span> <span data-ttu-id="2a407-283">Lorsque vous atteignez la fin de la chaîne de transitions possibles, plutôt que terminer les résultats de prédiction, la valeur passée comme une entrée est ajoutée aux résultats.</span><span class="sxs-lookup"><span data-stu-id="2a407-283">When you reach the end of the chain of possible transitions, rather than terminating the prediction results, the value that was passed as an input is added to the results.</span></span> <span data-ttu-id="2a407-284">Par exemple, si vous avez augmenté le nombre de prédictions jusqu'à 20, les valeurs des lignes 6-20 sont toutes les mêmes, All-Purpose Bike Stand.</span><span class="sxs-lookup"><span data-stu-id="2a407-284">For example, if you increased the number of predictions to 20, the values for rows 6-20 would all be the same, All-Purpose Bike Stand.</span></span>  
  
## <a name="function-list"></a><span data-ttu-id="2a407-285">Liste de fonctions</span><span class="sxs-lookup"><span data-stu-id="2a407-285">Function List</span></span>  
 <span data-ttu-id="2a407-286">Tous les algorithmes [!INCLUDE[msCoName](../../includes/msconame-md.md)] prennent en charge un ensemble commun de fonctions.</span><span class="sxs-lookup"><span data-stu-id="2a407-286">All [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms support a common set of functions.</span></span> <span data-ttu-id="2a407-287">Toutefois, l'algorithme MSC ( [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering) prend en charge les fonctions supplémentaires répertoriées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="2a407-287">However, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering algorithm supports the additional functions that are listed in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="2a407-288">Fonction de prédiction</span><span class="sxs-lookup"><span data-stu-id="2a407-288">Prediction Function</span></span>|<span data-ttu-id="2a407-289">Usage</span><span class="sxs-lookup"><span data-stu-id="2a407-289">Usage</span></span>|  
|[<span data-ttu-id="2a407-290">Cluster &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-290">Cluster &#40;DMX&#41;</span></span>](/sql/dmx/cluster-dmx)|<span data-ttu-id="2a407-291">Retourne le cluster qui est le plus susceptible de contenir le cas d'entrée</span><span class="sxs-lookup"><span data-stu-id="2a407-291">Returns the cluster that is most likely to contain the input case</span></span>|  
|[<span data-ttu-id="2a407-292">ClusterDistance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-292">ClusterDistance &#40;DMX&#41;</span></span>](/sql/dmx/clusterdistance-dmx)|<span data-ttu-id="2a407-293">Retourne la distance séparant le cas d'entrée du cluster spécifié ou, si aucun cluster n'est indiqué, la distance séparant le cas d'entrée du cluster le plus probable.</span><span class="sxs-lookup"><span data-stu-id="2a407-293">Returns the distance of the input case from the specified cluster, or if no cluster is specified, the distance of the input case from the most likely cluster.</span></span><br /><br /> <span data-ttu-id="2a407-294">CEtte fonction peut être utilisée avec n'importe quel type de modèle de clustering (EM, K-Means, etc.), mais les résultats diffèrent selon l'algorithme.</span><span class="sxs-lookup"><span data-stu-id="2a407-294">This function can be used with any kind of clustering model (EM, K-Means, etc.), but the results differ depending on the algorithm.</span></span>|  
|[<span data-ttu-id="2a407-295">ClusterProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-295">ClusterProbability &#40;DMX&#41;</span></span>](/sql/dmx/clusterprobability-dmx)|<span data-ttu-id="2a407-296">Retourne la probabilité que le cas d'entrée appartient au cluster spécifié.</span><span class="sxs-lookup"><span data-stu-id="2a407-296">Returns the probability that the input case belongs to the specified cluster.</span></span>|  
|[<span data-ttu-id="2a407-297">IsInNode &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-297">IsInNode &#40;DMX&#41;</span></span>](/sql/dmx/isinnode-dmx)|<span data-ttu-id="2a407-298">Indique si le nœud spécifié contient le cas courant.</span><span class="sxs-lookup"><span data-stu-id="2a407-298">Indicates whether the specified node contains the current case.</span></span>|  
|[<span data-ttu-id="2a407-299">PredictAdjustedProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-299">PredictAdjustedProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictadjustedprobability-dmx)|<span data-ttu-id="2a407-300">Retourne la probabilité ajustée d'un état spécifié.</span><span class="sxs-lookup"><span data-stu-id="2a407-300">Returns the adjusted probability of a specified state.</span></span>|  
|[<span data-ttu-id="2a407-301">PredictAssociation &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-301">PredictAssociation &#40;DMX&#41;</span></span>](/sql/dmx/predictassociation-dmx)|<span data-ttu-id="2a407-302">Prévoit une appartenance associative.</span><span class="sxs-lookup"><span data-stu-id="2a407-302">Predicts associative membership.</span></span>|  
|[<span data-ttu-id="2a407-303">PredictCaseLikelihood &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-303">PredictCaseLikelihood &#40;DMX&#41;</span></span>](/sql/dmx/predictcaselikelihood-dmx)|<span data-ttu-id="2a407-304">Retourne le degré de vraisemblance de l'intégration d'un cas d'entrée au modèle existant.</span><span class="sxs-lookup"><span data-stu-id="2a407-304">Returns the likelihood that an input case will fit in the existing model.</span></span>|  
|[<span data-ttu-id="2a407-305">PredictHistogram &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-305">PredictHistogram &#40;DMX&#41;</span></span>](/sql/dmx/predicthistogram-dmx)|<span data-ttu-id="2a407-306">Retourne une table qui représente un histogramme de la prévision d'une colonne donnée.</span><span class="sxs-lookup"><span data-stu-id="2a407-306">Returns a table that represents a histogram for the prediction of a given column.</span></span>|  
|[<span data-ttu-id="2a407-307">PredictNodeId &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-307">PredictNodeId &#40;DMX&#41;</span></span>](/sql/dmx/predictnodeid-dmx)|<span data-ttu-id="2a407-308">Retourne le Node_ID du nœud dans lequel le cas est classé.</span><span class="sxs-lookup"><span data-stu-id="2a407-308">Returns the Node_ID of the node to which the case is classified.</span></span>|  
|[<span data-ttu-id="2a407-309">PredictProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-309">PredictProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictprobability-dmx)|<span data-ttu-id="2a407-310">Retourne la probabilité pour un état spécifié.</span><span class="sxs-lookup"><span data-stu-id="2a407-310">Returns the probability for a specified state.</span></span>|  
|[<span data-ttu-id="2a407-311">PredictSequence &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-311">PredictSequence &#40;DMX&#41;</span></span>](/sql/dmx/predictsequence-dmx)|<span data-ttu-id="2a407-312">Prédit les valeurs de séquence pour un ensemble spécifié de données de séquence.</span><span class="sxs-lookup"><span data-stu-id="2a407-312">Predicts future sequence values for a specified set of sequence data.</span></span>|  
|[<span data-ttu-id="2a407-313">PredictStdev &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-313">PredictStdev &#40;DMX&#41;</span></span>](/sql/dmx/predictstdev-dmx)|<span data-ttu-id="2a407-314">Retourne l'écart-type prévu pour la colonne spécifiée.</span><span class="sxs-lookup"><span data-stu-id="2a407-314">Returns the predicted standard deviation for the specified column.</span></span>|  
|[<span data-ttu-id="2a407-315">PredictSupport &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-315">PredictSupport &#40;DMX&#41;</span></span>](/sql/dmx/predictsupport-dmx)|<span data-ttu-id="2a407-316">Retourne la valeur de support pour un état spécifié.</span><span class="sxs-lookup"><span data-stu-id="2a407-316">Returns the support value for a specified state.</span></span>|  
|[<span data-ttu-id="2a407-317">PredictVariance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-317">PredictVariance &#40;DMX&#41;</span></span>](/sql/dmx/predictvariance-dmx)|<span data-ttu-id="2a407-318">Retourne la variance d'une colonne spécifiée.</span><span class="sxs-lookup"><span data-stu-id="2a407-318">Returns the variance of a specified column.</span></span>|  
  
 <span data-ttu-id="2a407-319">Pour obtenir la liste des fonctions communes à tous les algorithmes [!INCLUDE[msCoName](../../includes/msconame-md.md)], consultez [Fonctions de prédiction générales &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span><span class="sxs-lookup"><span data-stu-id="2a407-319">For a list of the functions that are common to all [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms, see [General Prediction Functions &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span></span> <span data-ttu-id="2a407-320">Pour en savoir plus sur la syntaxe de fonctions spécifiques, consultez [Informations de référence sur les fonctions DMX &#40;Data Mining Extensions&#41;](/sql/dmx/data-mining-extensions-dmx-function-reference).</span><span class="sxs-lookup"><span data-stu-id="2a407-320">For the syntax of specific functions, see [Data Mining Extensions &#40;DMX&#41; Function Reference](/sql/dmx/data-mining-extensions-dmx-function-reference).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2a407-321">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2a407-321">See Also</span></span>  
 <span data-ttu-id="2a407-322">[Requêtes d’exploration de données](data-mining-queries.md) </span><span class="sxs-lookup"><span data-stu-id="2a407-322">[Data Mining Queries](data-mining-queries.md) </span></span>  
 <span data-ttu-id="2a407-323">[Informations techniques de référence sur l’algorithme Microsoft Sequence Clustering](microsoft-sequence-clustering-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="2a407-323">[Microsoft Sequence Clustering Algorithm Technical Reference](microsoft-sequence-clustering-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="2a407-324">[Algorithme Microsoft Sequence Clustering](microsoft-sequence-clustering-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="2a407-324">[Microsoft Sequence Clustering Algorithm](microsoft-sequence-clustering-algorithm.md) </span></span>  
 [<span data-ttu-id="2a407-325">Contenu du modèle d’exploration de données pour les modèles Sequence Clustering &#40;Analysis Services - Exploration de données&#41;</span><span class="sxs-lookup"><span data-stu-id="2a407-325">Mining Model Content for Sequence Clustering Models &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-for-sequence-clustering-models.md)  
  
  
