---
title: Exemples de requêtes de modèle d’arbre de décision | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- decision tree algorithms [Analysis Services]
- content queries [DMX]
- decision trees [Analysis Services]
ms.assetid: ceaf1370-9dd1-4d1a-a143-7f89a723ef80
author: minewiskan
ms.author: owend
ms.openlocfilehash: 7a6b158a42c9ca90bf2cfd2e9b981a1e2a735ccc
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87697327"
---
# <a name="decision-trees-model-query-examples"></a><span data-ttu-id="ef5b7-102">Exemples de requêtes de modèle d’arbre de décision</span><span class="sxs-lookup"><span data-stu-id="ef5b7-102">Decision Trees Model Query Examples</span></span>
  <span data-ttu-id="ef5b7-103">Lorsque vous créez une requête sur un modèle d'exploration de données, vous pouvez créer une requête de contenu, qui fournit des détails sur les modèles (ou séquences) découverts au cours de l'analyse, ou créer une requête de prédiction, qui utilise les séquences du modèle pour effectuer des prédictions pour les nouvelles données.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-103">When you create a query against a data mining model, you can create a content query, which provides details about the patterns discovered in analysis, or you can create a prediction query, which uses the patterns in the model to make predictions for new data.</span></span> <span data-ttu-id="ef5b7-104">Par exemple, une requête de contenu pour un modèle d'arbre de décision peut fournir des statistiques sur le nombre de cas à chaque niveau de l'arbre, ou les règles qui font la différence entre des cas.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-104">For example, a content query for a decision trees model might provide statistics about the number of cases at each level of the tree, or the rules that differentiate between cases.</span></span> <span data-ttu-id="ef5b7-105">En revanche, une requête de prédiction mappe le modèle à de nouvelles données pour générer des recommandations, des classifications, etc.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-105">Alternatively, a prediction query maps the model to new data in order to generate recommendations, classifications, and so forth.</span></span> <span data-ttu-id="ef5b7-106">Vous pouvez également extraire les métadonnées relatives au modèle en utilisant une requête.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-106">You can also retrieve metadata about the model by using a query.</span></span>  
  
 <span data-ttu-id="ef5b7-107">Cette section explique comment créer des requêtes pour les modèles basés sur l'algorithme MDT ( [!INCLUDE[msCoName](../../includes/msconame-md.md)] Decision Trees).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-107">This section explains how to create queries for models that are based on the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Decision Trees algorithm.</span></span>  
  
 <span data-ttu-id="ef5b7-108">**Requêtes de contenu**</span><span class="sxs-lookup"><span data-stu-id="ef5b7-108">**Content Queries**</span></span>  
  
 [<span data-ttu-id="ef5b7-109">Récupération des paramètres du modèle à partir de l'ensemble de lignes de schéma d'exploration de données</span><span class="sxs-lookup"><span data-stu-id="ef5b7-109">Retrieving Model Parameters from the Data Mining Schema Rowset</span></span>](#bkmk_Query1)  
  
 [<span data-ttu-id="ef5b7-110">Obtention de détails à propos des arborescences dans le modèle à l'aide de DMX</span><span class="sxs-lookup"><span data-stu-id="ef5b7-110">Getting Details about Trees in the Model by Using DMX</span></span>](#bkmk_Query2)  
  
 [<span data-ttu-id="ef5b7-111">Récupération de sous-arborescences du modèle</span><span class="sxs-lookup"><span data-stu-id="ef5b7-111">Retrieving Subtrees from the Model</span></span>](#bkmk_Query3)  
  
 <span data-ttu-id="ef5b7-112">**Requêtes de prédiction**</span><span class="sxs-lookup"><span data-stu-id="ef5b7-112">**Prediction Queries**</span></span>  
  
 [<span data-ttu-id="ef5b7-113">Retour de prédictions avec des probabilités</span><span class="sxs-lookup"><span data-stu-id="ef5b7-113">Returning Predictions with Probabilities</span></span>](#bkmk_Query4)  
  
 [<span data-ttu-id="ef5b7-114">Prédiction d'associations à partir d'un modèle d'arbres de décision</span><span class="sxs-lookup"><span data-stu-id="ef5b7-114">Predicting Associations from a Decision Trees Model</span></span>](#bkmk_Query5)  
  
 [<span data-ttu-id="ef5b7-115">Récupération d'une formule de régression d'un modèle d'arbres de décision</span><span class="sxs-lookup"><span data-stu-id="ef5b7-115">Retrieving a Regression Formula from a Decision Trees Model</span></span>](#bkmk_Query6)  
  
##  <a name="finding-information-about-a-decision-trees-model"></a><a name="bkmk_top2"></a> <span data-ttu-id="ef5b7-116">Recherche d'informations à propos d'un modèle d'arbre de décision</span><span class="sxs-lookup"><span data-stu-id="ef5b7-116">Finding Information about a Decision Trees Model</span></span>  
 <span data-ttu-id="ef5b7-117">Pour créer des requêtes explicites sur le contenu d'un modèle d'arbre de décision, vous devez comprendre la structure du contenu du modèle et les types d'informations stockés dans les différents types de nœuds.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-117">To create meaningful queries on the content of a decision trees model, you should understand the structure of the model content, and which node types store what kind of information.</span></span> <span data-ttu-id="ef5b7-118">Pour plus d’informations, consultez [Contenu du modèle d’exploration de données pour les modèles d’arbre de décision &#40;Analysis Services – Exploration de données&#41;](mining-model-content-for-decision-tree-models-analysis-services-data-mining.md).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-118">For more information, see [Mining Model Content for Decision Tree Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-decision-tree-models-analysis-services-data-mining.md).</span></span>  
  
###  <a name="sample-query-1-retrieving-model-parameters-from-the-data-mining-schema-rowset"></a><a name="bkmk_Query1"></a> <span data-ttu-id="ef5b7-119">Exemple de requête 1 : récupération des paramètres du modèle à partir de l'ensemble de lignes de schéma d'exploration de données</span><span class="sxs-lookup"><span data-stu-id="ef5b7-119">Sample Query 1: Retrieving Model Parameters from the Data Mining Schema Rowset</span></span>  
 <span data-ttu-id="ef5b7-120">En interrogeant l'ensemble de lignes de schéma d'exploration de données, vous pouvez rechercher les métadonnées relatives au modèle, par exemple sa date de création, le moment où il a été traité pour la dernière fois, le nom de la structure d'exploration de données sur laquelle il est basé et le nom de la colonne utilisée comme attribut prédictible.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-120">By querying the data mining schema rowset, you can find metadata about the model, such as when it was created, when the model was last processed, the name of the mining structure that the model is based on, and the name of the column used as the predictable attribute.</span></span> <span data-ttu-id="ef5b7-121">Vous pouvez également retourner les paramètres qui ont été utilisés lorsque le modèle a été créé pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-121">You can also return the parameters that were used when the model was first created.</span></span>  
  
```  
select MINING_PARAMETERS   
from $system.DMSCHEMA_MINING_MODELS  
WHERE MODEL_NAME = 'TM_Decision Tree'  
```  
  
 <span data-ttu-id="ef5b7-122">Exemples de résultats :</span><span class="sxs-lookup"><span data-stu-id="ef5b7-122">Sample results:</span></span>  
  
 <span data-ttu-id="ef5b7-123">MINING_PARAMETERS</span><span class="sxs-lookup"><span data-stu-id="ef5b7-123">MINING_PARAMETERS</span></span>  
  
 <span data-ttu-id="ef5b7-124">COMPLEXITY_PENALTY=0.5, MAXIMUM_INPUT_ATTRIBUTES=255,MAXIMUM_OUTPUT_ATTRIBUTES=255,MINIMUM_SUPPORT=10,SCORE_METHOD=4,SPLIT_METHOD=3,FORCE_REGRESSOR=</span><span class="sxs-lookup"><span data-stu-id="ef5b7-124">COMPLEXITY_PENALTY=0.5, MAXIMUM_INPUT_ATTRIBUTES=255,MAXIMUM_OUTPUT_ATTRIBUTES=255,MINIMUM_SUPPORT=10,SCORE_METHOD=4,SPLIT_METHOD=3,FORCE_REGRESSOR=</span></span>  
  
###  <a name="sample-query-2-returning-details-about-the-model-content-by-using-dmx"></a><a name="bkmk_Query2"></a> <span data-ttu-id="ef5b7-125">Exemple de requête 2 : retour de détails à propos du contenu du modèle à l'aide de DMX</span><span class="sxs-lookup"><span data-stu-id="ef5b7-125">Sample Query 2: Returning Details about the Model Content by Using DMX</span></span>  
 <span data-ttu-id="ef5b7-126">La requête suivante retourne des informations de base sur les arbres de décision qui ont été créés lors de la génération du modèle dans le [Didacticiel sur l’exploration de données de base](../../tutorials/basic-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-126">The following query returns some basic information about the decision trees that were created when you built the model in the [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span></span> <span data-ttu-id="ef5b7-127">Chaque arborescence est stockée dans son propre nœud.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-127">Each tree structure is stored in its own node.</span></span> <span data-ttu-id="ef5b7-128">Étant donné que ce modèle contient un seul attribut prédictible, il n'y a qu'un seul nœud d'arbre.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-128">Because this model contains a single predictable attribute, there is only one tree node.</span></span> <span data-ttu-id="ef5b7-129">Toutefois, si vous créez un modèle d'association à l'aide de l'algorithme MDT, il peut y avoir des centaines d'arbres, un pour chaque produit.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-129">However, if you create an association model by using the Decision Trees algorithm, there might be hundreds of trees, one for each product.</span></span>  
  
 <span data-ttu-id="ef5b7-130">Cette requête retourne tous les nœuds de type 2, lesquels sont les nœuds de niveau supérieur d'un arbre qui représente un attribut prédictible particulier.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-130">This query returns all the nodes of type 2, which are the top level nodes of a tree that represents a particular predictable attribute.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ef5b7-131">La colonne, `CHILDREN_CARDINALITY`, doit être placée entre parenthèses afin de la distinguer du mot clé réservé MDX du même nom.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-131">The column, `CHILDREN_CARDINALITY`, must be enclosed in brackets to distinguish it from the MDX reserved keyword of the same name.</span></span>  
  
```  
SELECT MODEL_NAME, NODE_NAME, NODE_CAPTION,   
NODE_SUPPORT, [CHILDREN_CARDINALITY]  
FROM TM_DecisionTrees.CONTENT  
WHERE NODE_TYPE = 2  
```  
  
 <span data-ttu-id="ef5b7-132">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="ef5b7-132">Example results:</span></span>  
  
|<span data-ttu-id="ef5b7-133">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="ef5b7-133">MODEL_NAME</span></span>|<span data-ttu-id="ef5b7-134">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="ef5b7-134">NODE_NAME</span></span>|<span data-ttu-id="ef5b7-135">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="ef5b7-135">NODE_CAPTION</span></span>|<span data-ttu-id="ef5b7-136">NODE_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="ef5b7-136">NODE_SUPPORT</span></span>|<span data-ttu-id="ef5b7-137">CHILDREN_CARDINALITY</span><span class="sxs-lookup"><span data-stu-id="ef5b7-137">CHILDREN_CARDINALITY</span></span>|  
|-----------------|----------------|-------------------|-------------------|---------------------------|  
|<span data-ttu-id="ef5b7-138">TM_DecisionTree</span><span class="sxs-lookup"><span data-stu-id="ef5b7-138">TM_DecisionTree</span></span>|<span data-ttu-id="ef5b7-139">000000001</span><span class="sxs-lookup"><span data-stu-id="ef5b7-139">000000001</span></span>|<span data-ttu-id="ef5b7-140">Tous</span><span class="sxs-lookup"><span data-stu-id="ef5b7-140">All</span></span>|<span data-ttu-id="ef5b7-141">12939</span><span class="sxs-lookup"><span data-stu-id="ef5b7-141">12939</span></span>|<span data-ttu-id="ef5b7-142">5</span><span class="sxs-lookup"><span data-stu-id="ef5b7-142">5</span></span>|  
  
 <span data-ttu-id="ef5b7-143">Que vous indiquent ces résultats ?</span><span class="sxs-lookup"><span data-stu-id="ef5b7-143">What do these results tell you?</span></span> <span data-ttu-id="ef5b7-144">Dans un modèle d'arbre de décision, la cardinalité d'un nœud particulier vous indique le nombre d'enfants immédiats de ce nœud.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-144">In a decision trees model, the cardinality of a particular node tells you how many immediate children that node has.</span></span> <span data-ttu-id="ef5b7-145">La cardinalité de ce nœud est de 5, ce qui signifie que le modèle a divisé la population cible d'acheteurs de bicyclettes potentiels en 5 sous-groupes.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-145">The cardinality for this node is 5, meaning that the model divided the target population of potential bike buyers into 5 subgroups.</span></span>  
  
 <span data-ttu-id="ef5b7-146">La requête associée suivante retourne les enfants de ces cinq sous-groupes, ainsi que la distribution d'attributs et de valeurs dans les nœuds enfants.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-146">The following related query returns the children for these five subgroups, together with the distribution of attributes and values in the child nodes.</span></span> <span data-ttu-id="ef5b7-147">Étant donné que des statistiques telles que la prise en charge, la probabilité et la variance sont stockées dans la table imbriquée, `NODE_DISTRIBUTION`, cet exemple utilise le mot clé `FLATTENED` pour produire les colonnes de la table imbriquée.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-147">Because statistics such as support, probability, and variance are stored in the nested table, `NODE_DISTRIBUTION`, this example uses the `FLATTENED` keyword to output the nested table columns.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ef5b7-148">La colonne de table imbriquée, `SUPPORT`, doit être placée entre parenthèses afin de la distinguer du mot clé réservé du même nom.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-148">The nested table column, `SUPPORT`, must be enclosed in brackets to distinguish it from the reserved keyword of the same name.</span></span>  
  
```  
SELECT FLATTENED NODE_NAME, NODE_CAPTION,  
(SELECT ATTRIBUTE_NAME, ATTRIBUTE_VALUE, [SUPPORT]  
FROM NODE_DISTRIBUTION) AS t  
FROM TM_DecisionTree.CONTENT  
WHERE [PARENT_UNIQUE_NAME] = '000000001'  
```  
  
 <span data-ttu-id="ef5b7-149">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="ef5b7-149">Example results:</span></span>  
  
|<span data-ttu-id="ef5b7-150">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="ef5b7-150">NODE_NAME</span></span>|<span data-ttu-id="ef5b7-151">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="ef5b7-151">NODE_CAPTION</span></span>|<span data-ttu-id="ef5b7-152">T.ATTRIBUTE_NAME</span><span class="sxs-lookup"><span data-stu-id="ef5b7-152">T.ATTRIBUTE_NAME</span></span>|<span data-ttu-id="ef5b7-153">T.ATTRIBUTE_VALUE</span><span class="sxs-lookup"><span data-stu-id="ef5b7-153">T.ATTRIBUTE_VALUE</span></span>|<span data-ttu-id="ef5b7-154">SUPPORT</span><span class="sxs-lookup"><span data-stu-id="ef5b7-154">SUPPORT</span></span>|  
|----------------|-------------------|-----------------------|------------------------|-------------|  
|<span data-ttu-id="ef5b7-155">00000000100</span><span class="sxs-lookup"><span data-stu-id="ef5b7-155">00000000100</span></span>|<span data-ttu-id="ef5b7-156">Number Cars Owned = 0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-156">Number Cars Owned = 0</span></span>|<span data-ttu-id="ef5b7-157">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ef5b7-157">Bike Buyer</span></span>|<span data-ttu-id="ef5b7-158">Manquant</span><span class="sxs-lookup"><span data-stu-id="ef5b7-158">Missing</span></span>|<span data-ttu-id="ef5b7-159">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-159">0</span></span>|  
|<span data-ttu-id="ef5b7-160">00000000100</span><span class="sxs-lookup"><span data-stu-id="ef5b7-160">00000000100</span></span>|<span data-ttu-id="ef5b7-161">Number Cars Owned = 0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-161">Number Cars Owned = 0</span></span>|<span data-ttu-id="ef5b7-162">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ef5b7-162">Bike Buyer</span></span>|<span data-ttu-id="ef5b7-163">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-163">0</span></span>|<span data-ttu-id="ef5b7-164">1067</span><span class="sxs-lookup"><span data-stu-id="ef5b7-164">1067</span></span>|  
|<span data-ttu-id="ef5b7-165">00000000100</span><span class="sxs-lookup"><span data-stu-id="ef5b7-165">00000000100</span></span>|<span data-ttu-id="ef5b7-166">Number Cars Owned = 0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-166">Number Cars Owned = 0</span></span>|<span data-ttu-id="ef5b7-167">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ef5b7-167">Bike Buyer</span></span>|<span data-ttu-id="ef5b7-168">1</span><span class="sxs-lookup"><span data-stu-id="ef5b7-168">1</span></span>|<span data-ttu-id="ef5b7-169">1875</span><span class="sxs-lookup"><span data-stu-id="ef5b7-169">1875</span></span>|  
|<span data-ttu-id="ef5b7-170">00000000101</span><span class="sxs-lookup"><span data-stu-id="ef5b7-170">00000000101</span></span>|<span data-ttu-id="ef5b7-171">Number Cars Owned = 3</span><span class="sxs-lookup"><span data-stu-id="ef5b7-171">Number Cars Owned = 3</span></span>|<span data-ttu-id="ef5b7-172">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ef5b7-172">Bike Buyer</span></span>|<span data-ttu-id="ef5b7-173">Manquant</span><span class="sxs-lookup"><span data-stu-id="ef5b7-173">Missing</span></span>|<span data-ttu-id="ef5b7-174">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-174">0</span></span>|  
|<span data-ttu-id="ef5b7-175">00000000101</span><span class="sxs-lookup"><span data-stu-id="ef5b7-175">00000000101</span></span>|<span data-ttu-id="ef5b7-176">Number Cars Owned = 3</span><span class="sxs-lookup"><span data-stu-id="ef5b7-176">Number Cars Owned = 3</span></span>|<span data-ttu-id="ef5b7-177">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ef5b7-177">Bike Buyer</span></span>|<span data-ttu-id="ef5b7-178">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-178">0</span></span>|<span data-ttu-id="ef5b7-179">678</span><span class="sxs-lookup"><span data-stu-id="ef5b7-179">678</span></span>|  
|<span data-ttu-id="ef5b7-180">00000000101</span><span class="sxs-lookup"><span data-stu-id="ef5b7-180">00000000101</span></span>|<span data-ttu-id="ef5b7-181">Number Cars Owned = 3</span><span class="sxs-lookup"><span data-stu-id="ef5b7-181">Number Cars Owned = 3</span></span>|<span data-ttu-id="ef5b7-182">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ef5b7-182">Bike Buyer</span></span>|<span data-ttu-id="ef5b7-183">1</span><span class="sxs-lookup"><span data-stu-id="ef5b7-183">1</span></span>|<span data-ttu-id="ef5b7-184">473</span><span class="sxs-lookup"><span data-stu-id="ef5b7-184">473</span></span>|  
  
 <span data-ttu-id="ef5b7-185">D'après ces résultats, vous pouvez indiquer que parmi les clients qui ont acheté un vélo (`[Bike Buyer]` = 1), 1 067 clients n'avaient pas de voitures et 473 clients 3 voitures.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-185">From these results, you can tell that of the customers who bought a bike (`[Bike Buyer]` = 1), 1067 customers had 0 cars and 473 customers had 3 cars.</span></span>  
  
###  <a name="sample-query-3-retrieving-subtrees-from-the-model"></a><a name="bkmk_Query3"></a> <span data-ttu-id="ef5b7-186">Exemple de requête 3 : récupération de sous-arborescences à partir du modèle</span><span class="sxs-lookup"><span data-stu-id="ef5b7-186">Sample Query 3: Retrieving Subtrees from the Model</span></span>  
 <span data-ttu-id="ef5b7-187">Imaginons que vous souhaitiez en savoir plus sur les clients qui ont acheté un vélo.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-187">Suppose you wanted to discover more about the customers who did buy a bike.</span></span> <span data-ttu-id="ef5b7-188">Vous pouvez afficher des détails supplémentaires pour chacun des sous-arbres en utilisant la fonction [IsDescendant &#40;DMX&#41;](/sql/dmx/isdescendant-dmx) dans la requête, comme le montre l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-188">You can view additional detail for any of the sub-trees by using the [IsDescendant &#40;DMX&#41;](/sql/dmx/isdescendant-dmx) function in the query, as shown in the following example.</span></span> <span data-ttu-id="ef5b7-189">La requête retourne le nombre d'acheteurs de vélos en extrayant les nœuds terminaux (NODE_TYPE = 4) de l'arbre qui contient les clients âgés de plus de 42 ans.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-189">The query returns the count of bike purchasers by retrieving leaf nodes (NODE_TYPE = 4) from the tree that contains customers who are over 42 years of age.</span></span> <span data-ttu-id="ef5b7-190">La requête limite les lignes de la table imbriquée à ceux pour lesquels Bike Buyer = 1.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-190">The query restricts rows from the nested table to those where Bike Buyer = 1.</span></span>  
  
```  
SELECT FLATTENED NODE_NAME, NODE_CAPTION,NODE_TYPE,  
(  
SELECT [SUPPORT] FROM NODE_DISTRIBUTION WHERE ATTRIBUTE_NAME = 'Bike Buyer' AND ATTRIBUTE_VALUE = '1'  
) AS t  
FROM TM_DecisionTree.CONTENT  
WHERE ISDESCENDANT('0000000010001')  
AND NODE_TYPE = 4  
```  
  
 <span data-ttu-id="ef5b7-191">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="ef5b7-191">Example results:</span></span>  
  
|<span data-ttu-id="ef5b7-192">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="ef5b7-192">NODE_NAME</span></span>|<span data-ttu-id="ef5b7-193">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="ef5b7-193">NODE_CAPTION</span></span>|<span data-ttu-id="ef5b7-194">t.SUPPORT</span><span class="sxs-lookup"><span data-stu-id="ef5b7-194">t.SUPPORT</span></span>|  
|----------------|-------------------|---------------|  
|<span data-ttu-id="ef5b7-195">000000001000100</span><span class="sxs-lookup"><span data-stu-id="ef5b7-195">000000001000100</span></span>|<span data-ttu-id="ef5b7-196">Yearly Income >= 26000 et < 42000</span><span class="sxs-lookup"><span data-stu-id="ef5b7-196">Yearly Income >= 26000 and < 42000</span></span>|<span data-ttu-id="ef5b7-197">266</span><span class="sxs-lookup"><span data-stu-id="ef5b7-197">266</span></span>|  
|<span data-ttu-id="ef5b7-198">00000000100010100</span><span class="sxs-lookup"><span data-stu-id="ef5b7-198">00000000100010100</span></span>|<span data-ttu-id="ef5b7-199">Total Children = 3</span><span class="sxs-lookup"><span data-stu-id="ef5b7-199">Total Children = 3</span></span>|<span data-ttu-id="ef5b7-200">75</span><span class="sxs-lookup"><span data-stu-id="ef5b7-200">75</span></span>|  
|<span data-ttu-id="ef5b7-201">0000000010001010100</span><span class="sxs-lookup"><span data-stu-id="ef5b7-201">0000000010001010100</span></span>|<span data-ttu-id="ef5b7-202">Number Children At Home = 1</span><span class="sxs-lookup"><span data-stu-id="ef5b7-202">Number Children At Home = 1</span></span>|<span data-ttu-id="ef5b7-203">75</span><span class="sxs-lookup"><span data-stu-id="ef5b7-203">75</span></span>|  
  
## <a name="making-predictions-using-a-decision-trees-model"></a><span data-ttu-id="ef5b7-204">Réaliser des prédictions à l'aide d'un modèle d'arbres de décision</span><span class="sxs-lookup"><span data-stu-id="ef5b7-204">Making Predictions using a Decision Trees Model</span></span>  
 <span data-ttu-id="ef5b7-205">Étant donné que les arbres de décision peuvent être utilisés pour différentes tâches, notamment la classification, la régression et même l'association, lorsque vous créez une requête de prédiction sur un modèle d'arbre de décision, vous disposez de nombreuses options.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-205">Because decision trees can be used for various tasks, including classification, regression, and even association, when you create a prediction query on a decision tree model you have many options available to you.</span></span> <span data-ttu-id="ef5b7-206">Pour comprendre les résultats de la prédiction, vous devez comprendre le but pour lequel le modèle a été créé.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-206">You must understand the purpose for which the model was created to understand the results of prediction.</span></span> <span data-ttu-id="ef5b7-207">Les exemples de requêtes suivants illustrent trois scénarios différents :</span><span class="sxs-lookup"><span data-stu-id="ef5b7-207">The following query samples illustrate three different scenarios:</span></span>  
  
-   <span data-ttu-id="ef5b7-208">retour d'une prédiction pour un modèle de classification, ainsi que de la probabilité d'exactitude de la prédiction, puis filtrage des résultats en fonction de la probabilité ;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-208">Returning a prediction for a classification model, together with the probability of the prediction being correct, and then filtering the results by the probability;</span></span>  
  
-   <span data-ttu-id="ef5b7-209">création d'une requête singleton pour prédire des associations ;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-209">Creating a singleton query to predict associations;</span></span>  
  
-   <span data-ttu-id="ef5b7-210">extraction de la formule de régression pour une partie d'un arbre de décision où la relation entre l'entrée et la sortie est linéaire.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-210">Retrieving the regression formula for a part of a decision tree where the relationship between the input and output is linear.</span></span>  
  
###  <a name="sample-query-4-returning-predictions-with-probabilities"></a><a name="bkmk_Query4"></a> <span data-ttu-id="ef5b7-211">Exemple de requête 4 : retour de prédictions avec des probabilités</span><span class="sxs-lookup"><span data-stu-id="ef5b7-211">Sample Query 4: Returning Predictions with Probabilities</span></span>  
 <span data-ttu-id="ef5b7-212">L’exemple de requête suivant utilise le modèle d’arbre de décision qui a été créé dans le [Didacticiel sur l’exploration de données de base](../../tutorials/basic-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-212">The following sample query uses the decision tree model that was created in the [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span></span> <span data-ttu-id="ef5b7-213">La requête passe dans un nouveau jeu d’exemples de données, de la tabledbo.ProspectiveBuyers dans [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)] DW, pour prédire quels clients du nouveau jeu de données achèteront un vélo.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-213">The query passes in a new set of sample data, from the table dbo.ProspectiveBuyers in [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)] DW, to predict which of the customers in the new data set will purchase a bike.</span></span>  
  
 <span data-ttu-id="ef5b7-214">La requête utilise la fonction de prédiction [PredictHistogram &#40;DMX&#41;](/sql/dmx/predicthistogram-dmx), qui retourne une table imbriquée qui contient des informations utiles sur les probabilités découvertes par le modèle.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-214">The query uses the prediction function [PredictHistogram &#40;DMX&#41;](/sql/dmx/predicthistogram-dmx), which returns a nested table that contains useful information about the probabilities discovered by the model.</span></span> <span data-ttu-id="ef5b7-215">La clause WHERE finale de la requête filtre les résultats afin de retourner uniquement les clients prédits comme acheteurs de vélos potentiels, avec une probabilité supérieure à 0 %.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-215">The final WHERE clause of the query filters the results to return only those customers who are predicted as likely to buy a bike, with a probability greater than 0%.</span></span>  
  
```  
SELECT  
  [TM_DecisionTree].[Bike Buyer],  
  PredictHistogram([Bike Buyer]) as Results  
From  
  [TM_DecisionTree]  
PREDICTION JOIN  
  OPENQUERY([Adventure Works DW Multidimensional 2012],  
    'SELECT  
      [FirstName],  
      [LastName],  
      [MaritalStatus],  
      [Gender],  
      [YearlyIncome],  
      [TotalChildren],  
      [NumberChildrenAtHome],  
      [HouseOwnerFlag],  
      [NumberCarsOwned]  
    FROM  
      [dbo].[ProspectiveBuyer]  
    ') AS t  
ON  
  [TM_DecisionTree].[First Name] = t.[FirstName] AND  
  [TM_DecisionTree].[Last Name] = t.[LastName] AND  
  [TM_DecisionTree].[Marital Status] = t.[MaritalStatus] AND  
  [TM_DecisionTree].[Gender] = t.[Gender] AND  
  [TM_DecisionTree].[Yearly Income] = t.[YearlyIncome] AND  
  [TM_DecisionTree].[Total Children] = t.[TotalChildren] AND  
  [TM_DecisionTree].[Number Children At Home] = t.[NumberChildrenAtHome] AND  
  [TM_DecisionTree].[House Owner Flag] = t.[HouseOwnerFlag] AND  
  [TM_DecisionTree].[Number Cars Owned] = t.[NumberCarsOwned]  
WHERE [Bike Buyer] = 1  
AND PredictProbability([Bike Buyer]) >'.05'  
```  
  
 <span data-ttu-id="ef5b7-216">Par défaut, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] retourne des tables imbriquées avec l’étiquette de colonne, **Expression**.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-216">By default, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] returns nested tables with the column label, **Expression**.</span></span> <span data-ttu-id="ef5b7-217">Vous pouvez modifier cette étiquette en utilisant un alias pour la colonne qui est retournée.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-217">You can change this label by aliasing the column that is returned.</span></span> <span data-ttu-id="ef5b7-218">En procédant ainsi, l’alias (dans le cas présent, **Results**) est utilisé à la fois comme en-tête de colonne et comme valeur dans la table imbriquée.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-218">If you do this, the alias (in this case, **Results**) is used as both the column heading and as the value in the nested table.</span></span> <span data-ttu-id="ef5b7-219">Vous devez développer la table imbriquée pour afficher les résultats.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-219">You must expand the nested table to see the results.</span></span>  
  
 <span data-ttu-id="ef5b7-220">Exemples de résultats où vélo Buyer = 1 :</span><span class="sxs-lookup"><span data-stu-id="ef5b7-220">Example results where Bike Buyer = 1:</span></span>  
  
|<span data-ttu-id="ef5b7-221">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ef5b7-221">Bike Buyer</span></span>|<span data-ttu-id="ef5b7-222">$SUPPORT</span><span class="sxs-lookup"><span data-stu-id="ef5b7-222">$SUPPORT</span></span>|<span data-ttu-id="ef5b7-223">$PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="ef5b7-223">$PROBABILITY</span></span>|<span data-ttu-id="ef5b7-224">$ADJUSTEDPROBABILITY</span><span class="sxs-lookup"><span data-stu-id="ef5b7-224">$ADJUSTEDPROBABILITY</span></span>|<span data-ttu-id="ef5b7-225">$VARIANCE</span><span class="sxs-lookup"><span data-stu-id="ef5b7-225">$VARIANCE</span></span>|<span data-ttu-id="ef5b7-226">$STDEV</span><span class="sxs-lookup"><span data-stu-id="ef5b7-226">$STDEV</span></span>|  
|----------------|--------------|------------------|--------------------------|---------------|------------|  
|<span data-ttu-id="ef5b7-227">1</span><span class="sxs-lookup"><span data-stu-id="ef5b7-227">1</span></span>|<span data-ttu-id="ef5b7-228">2540</span><span class="sxs-lookup"><span data-stu-id="ef5b7-228">2540</span></span>|<span data-ttu-id="ef5b7-229">0.634849242045644</span><span class="sxs-lookup"><span data-stu-id="ef5b7-229">0.634849242045644</span></span>|<span data-ttu-id="ef5b7-230">0.013562168281562</span><span class="sxs-lookup"><span data-stu-id="ef5b7-230">0.013562168281562</span></span>|<span data-ttu-id="ef5b7-231">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-231">0</span></span>|<span data-ttu-id="ef5b7-232">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-232">0</span></span>|  
|<span data-ttu-id="ef5b7-233">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-233">0</span></span>|<span data-ttu-id="ef5b7-234">1460</span><span class="sxs-lookup"><span data-stu-id="ef5b7-234">1460</span></span>|<span data-ttu-id="ef5b7-235">0.364984174579377</span><span class="sxs-lookup"><span data-stu-id="ef5b7-235">0.364984174579377</span></span>|<span data-ttu-id="ef5b7-236">0.00661336932550915</span><span class="sxs-lookup"><span data-stu-id="ef5b7-236">0.00661336932550915</span></span>|<span data-ttu-id="ef5b7-237">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-237">0</span></span>|<span data-ttu-id="ef5b7-238">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-238">0</span></span>|  
||<span data-ttu-id="ef5b7-239">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-239">0</span></span>|<span data-ttu-id="ef5b7-240">0.000166583374979177</span><span class="sxs-lookup"><span data-stu-id="ef5b7-240">0.000166583374979177</span></span>|<span data-ttu-id="ef5b7-241">0.000166583374979177</span><span class="sxs-lookup"><span data-stu-id="ef5b7-241">0.000166583374979177</span></span>|<span data-ttu-id="ef5b7-242">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-242">0</span></span>|<span data-ttu-id="ef5b7-243">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-243">0</span></span>|  
  
 <span data-ttu-id="ef5b7-244">Si votre fournisseur ne prend pas en charge les ensembles de lignes hiérarchiques tels que ceux présentés ici, vous pouvez utiliser le mot clé FLATTENED dans la requête pour retourner, sous forme de table, les résultats qui contiennent des valeurs Null à la place des valeurs de colonne répétées.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-244">If your provider does not support hierarchical rowsets, such as those shown here, you can use the FLATTENED keyword in the query to return the results as a table that contains nulls in place of the repeated column values.</span></span> <span data-ttu-id="ef5b7-245">Pour plus d’informations, consultez [Tables imbriquées &#40;Analysis Services – Exploration de données&#41;](nested-tables-analysis-services-data-mining.md) ou [Présentation de l’instruction DMX Select ](/sql/dmx/understanding-the-dmx-select-statement).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-245">For more information, see [Nested Tables &#40;Analysis Services - Data Mining&#41;](nested-tables-analysis-services-data-mining.md) or [Understanding the DMX Select Statement](/sql/dmx/understanding-the-dmx-select-statement).</span></span>  
  
###  <a name="sample-query-5-predicting-associations-from-a-decision-trees-model"></a><a name="bkmk_Query5"></a> <span data-ttu-id="ef5b7-246">Exemple de requête 5 : prédiction d'associations à partir d'un modèle d'arbres de décision</span><span class="sxs-lookup"><span data-stu-id="ef5b7-246">Sample Query 5: Predicting Associations from a Decision Trees Model</span></span>  
 <span data-ttu-id="ef5b7-247">L’exemple de requête suivant est basé sur la structure d’exploration de données Association.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-247">The following sample query is based on the Association mining structure.</span></span> <span data-ttu-id="ef5b7-248">Pour pouvoir suivre cet exemple, vous pouvez ajouter un nouveau modèle à cette structure d'exploration de données et sélectionner l'algorithme MDT (Microsoft Decision Trees).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-248">To follow along with this example, you can add a new model to this mining structure, and select Microsoft Decision Trees as the algorithm.</span></span> <span data-ttu-id="ef5b7-249">Pour plus d’informations sur la création de la structure d’exploration de données Association, consultez [Leçon 3 : Génération d’un scénario de panier d’achat &#40;Didacticiel d’exploration de données intermédiaire&#41;](../../tutorials/lesson-3-building-a-market-basket-scenario-intermediate-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-249">For more information on how to create the Association mining structure, see [Lesson 3: Building a Market Basket Scenario &#40;Intermediate Data Mining Tutorial&#41;](../../tutorials/lesson-3-building-a-market-basket-scenario-intermediate-data-mining-tutorial.md).</span></span>  
  
 <span data-ttu-id="ef5b7-250">L'exemple de requête suivant est une requête singleton que vous pouvez facilement créer dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] en choisissant des champs, puis en sélectionnant des valeurs pour ces champs dans une liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-250">The following sample query is a singleton query, which you can create easily in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] by choosing fields and then selecting values for those fields from a drop-down list.</span></span>  
  
```  
SELECT PredictAssociation([DT_Association].[v Assoc Seq Line Items],3)  
FROM  
  [DT_Association]  
NATURAL PREDICTION JOIN  
(SELECT (SELECT 'Patch kit' AS [Model]) AS [v Assoc Seq Line Items]) AS t  
```  
  
 <span data-ttu-id="ef5b7-251">Résultats attendus :</span><span class="sxs-lookup"><span data-stu-id="ef5b7-251">Expected results:</span></span>  
  
|<span data-ttu-id="ef5b7-252">Modèle</span><span class="sxs-lookup"><span data-stu-id="ef5b7-252">Model</span></span>|  
|-----------|  
|<span data-ttu-id="ef5b7-253">Mountain-200</span><span class="sxs-lookup"><span data-stu-id="ef5b7-253">Mountain-200</span></span>|  
|<span data-ttu-id="ef5b7-254">Mountain Tire Tube</span><span class="sxs-lookup"><span data-stu-id="ef5b7-254">Mountain Tire Tube</span></span>|  
|<span data-ttu-id="ef5b7-255">Touring Tire Tube (Pneu pour vélo de tourisme)</span><span class="sxs-lookup"><span data-stu-id="ef5b7-255">Touring Tire Tube</span></span>|  
  
 <span data-ttu-id="ef5b7-256">Les résultats vous indiquent les trois meilleurs produits à recommander aux clients qui ont acheté le produit Patch Kit.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-256">The results tell you the three best products to recommend to customers who have purchased the Patch Kit product.</span></span> <span data-ttu-id="ef5b7-257">Vous pouvez également fournir plusieurs produits comme entrée quand vous faites des recommandations, soit en entrant des valeurs, soit en ajoutant ou en supprimant des valeurs à l’aide de la boîte de dialogue **Entrée de requête singleton** .</span><span class="sxs-lookup"><span data-stu-id="ef5b7-257">You can also provide multiple products as input when you make recommendations, either by typing in values, or by using the **Singleton Query Input** dialog box and adding or removing values.</span></span> <span data-ttu-id="ef5b7-258">L'exemple de requête suivant montre comment les valeurs multiples sur lesquelles faire une prédiction sont fournies.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-258">The following sample query shows how the multiple values are provided, upon which to make a prediction.</span></span> <span data-ttu-id="ef5b7-259">Les valeurs sont connectées par une clause UNION dans l'instruction SELECT qui définit les valeurs d'entrée.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-259">Values are connected by a UNION clause in the SELECT statement that defines the input values.</span></span>  
  
```  
SELECT PredictAssociation([DT_Association].[v Assoc Seq Line Items],3)  
From  
  [DT_Association]  
NATURAL PREDICTION JOIN  
(SELECT (SELECT 'Racing Socks' AS [Model]  
  UNION SELECT 'Women''s Mountain Shorts' AS [Model]) AS [v Assoc Seq Line Items]) AS t  
```  
  
 <span data-ttu-id="ef5b7-260">Résultats attendus :</span><span class="sxs-lookup"><span data-stu-id="ef5b7-260">Expected results:</span></span>  
  
|<span data-ttu-id="ef5b7-261">Modèle</span><span class="sxs-lookup"><span data-stu-id="ef5b7-261">Model</span></span>|  
|-----------|  
|<span data-ttu-id="ef5b7-262">Long-Sleeve Logo Jersey (Pull-over à manches longues)</span><span class="sxs-lookup"><span data-stu-id="ef5b7-262">Long-Sleeve Logo Jersey</span></span>|  
|<span data-ttu-id="ef5b7-263">Mountain-400-W</span><span class="sxs-lookup"><span data-stu-id="ef5b7-263">Mountain-400-W</span></span>|  
|<span data-ttu-id="ef5b7-264">Classic Vest</span><span class="sxs-lookup"><span data-stu-id="ef5b7-264">Classic Vest</span></span>|  
  
###  <a name="sample-query-6-retrieving-a-regression-formula-from-a-decision-trees-model"></a><a name="bkmk_Query6"></a> <span data-ttu-id="ef5b7-265">Exemple de requête 6 : récupération d'une formule de régression à partir d'un modèle d'arbres de décision</span><span class="sxs-lookup"><span data-stu-id="ef5b7-265">Sample Query 6: Retrieving a Regression Formula from a Decision Trees Model</span></span>  
 <span data-ttu-id="ef5b7-266">Lorsque vous créez un modèle d'arbre de décision qui contient une régression sur un attribut continu, vous pouvez utiliser la formule de régression pour effectuer des prédictions, ou extraire des informations relatives à la formule de régression.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-266">When you create a decision tree model that contains a regression on a continuous attribute, you can use the regression formula to make predictions, or you can extract information about the regression formula.</span></span> <span data-ttu-id="ef5b7-267">Pour plus d’informations sur les requêtes sur les modèles de régression, consultez [Exemples de requête de modèle de régression linéaire](linear-regression-model-query-examples.md).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-267">For more information about queries on regression models, see [Linear Regression Model Query Examples](linear-regression-model-query-examples.md).</span></span>  
  
 <span data-ttu-id="ef5b7-268">Si le modèle d'arbre de décision contient un mélange de nœuds de régression et de nœuds qui se divisent sur les plages ou les attributs discrets, vous pouvez créer une requête qui retourne uniquement le nœud de régression.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-268">If a decision trees model contains a mixture of regression nodes and nodes that split on discrete attributes or ranges, you can create a query that returns only the regression node.</span></span> <span data-ttu-id="ef5b7-269">La table NODE_DISTRIBUTION contient les détails de la formule de régression.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-269">The NODE_DISTRIBUTION table contains the details of the regression formula.</span></span> <span data-ttu-id="ef5b7-270">Dans cet exemple, les colonnes sont aplaties et la table NODE_DISTRIBUTION a un alias afin de faciliter sa lecture.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-270">In this example, the columns are flattened and the NODE_DISTRIBUTION table is aliased for easier viewing.</span></span> <span data-ttu-id="ef5b7-271">Cependant, dans ce modèle, aucun régresseur n’a été trouvé pour lier le revenu (Income) à d’autres attributs continus.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-271">However, in this model, no regressors were found to relate Income with other continuous attributes.</span></span> <span data-ttu-id="ef5b7-272">Dans ce cas-là, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] retourne la valeur moyenne de l'attribut et la variance totale dans le modèle pour cet attribut.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-272">In such cases, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] returns the mean value of the attribute and the total variance in the model for that attribute.</span></span>  
  
```  
SELECT FLATTENED NODE_DISTRIBUTION AS t  
FROM DT_Predict. CONTENT  
WHERE NODE_TYPE = 25  
```  
  
 <span data-ttu-id="ef5b7-273">Résultats de l'exemple :</span><span class="sxs-lookup"><span data-stu-id="ef5b7-273">Example results:</span></span>  
  
|<span data-ttu-id="ef5b7-274">T.ATTRIBUTE_NAME</span><span class="sxs-lookup"><span data-stu-id="ef5b7-274">t.ATTRIBUTE_NAME</span></span>|<span data-ttu-id="ef5b7-275">t.ATTRIBUTE_VALUE</span><span class="sxs-lookup"><span data-stu-id="ef5b7-275">t.ATTRIBUTE_VALUE</span></span>|<span data-ttu-id="ef5b7-276">t.SUPPORT</span><span class="sxs-lookup"><span data-stu-id="ef5b7-276">t.SUPPORT</span></span>|<span data-ttu-id="ef5b7-277">t.PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="ef5b7-277">t.PROBABILITY</span></span>|<span data-ttu-id="ef5b7-278">t.VARIANCE</span><span class="sxs-lookup"><span data-stu-id="ef5b7-278">t.VARIANCE</span></span>|<span data-ttu-id="ef5b7-279">t.VALUETYPE</span><span class="sxs-lookup"><span data-stu-id="ef5b7-279">t.VALUETYPE</span></span>|  
|-----------------------|------------------------|---------------|-------------------|----------------|-----------------|  
|<span data-ttu-id="ef5b7-280">Yearly Income</span><span class="sxs-lookup"><span data-stu-id="ef5b7-280">Yearly Income</span></span>|<span data-ttu-id="ef5b7-281">Manquant</span><span class="sxs-lookup"><span data-stu-id="ef5b7-281">Missing</span></span>|<span data-ttu-id="ef5b7-282">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-282">0</span></span>|<span data-ttu-id="ef5b7-283">0.000457142857142857</span><span class="sxs-lookup"><span data-stu-id="ef5b7-283">0.000457142857142857</span></span>|<span data-ttu-id="ef5b7-284">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-284">0</span></span>|<span data-ttu-id="ef5b7-285">1</span><span class="sxs-lookup"><span data-stu-id="ef5b7-285">1</span></span>|  
|<span data-ttu-id="ef5b7-286">Yearly Income</span><span class="sxs-lookup"><span data-stu-id="ef5b7-286">Yearly Income</span></span>|<span data-ttu-id="ef5b7-287">57220.8876687257</span><span class="sxs-lookup"><span data-stu-id="ef5b7-287">57220.8876687257</span></span>|<span data-ttu-id="ef5b7-288">17484</span><span class="sxs-lookup"><span data-stu-id="ef5b7-288">17484</span></span>|<span data-ttu-id="ef5b7-289">0.999542857142857</span><span class="sxs-lookup"><span data-stu-id="ef5b7-289">0.999542857142857</span></span>|<span data-ttu-id="ef5b7-290">1041275619.52776</span><span class="sxs-lookup"><span data-stu-id="ef5b7-290">1041275619.52776</span></span>|<span data-ttu-id="ef5b7-291">3</span><span class="sxs-lookup"><span data-stu-id="ef5b7-291">3</span></span>|  
||<span data-ttu-id="ef5b7-292">57220.8876687257</span><span class="sxs-lookup"><span data-stu-id="ef5b7-292">57220.8876687257</span></span>|<span data-ttu-id="ef5b7-293">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-293">0</span></span>|<span data-ttu-id="ef5b7-294">0</span><span class="sxs-lookup"><span data-stu-id="ef5b7-294">0</span></span>|<span data-ttu-id="ef5b7-295">1041216662.54387</span><span class="sxs-lookup"><span data-stu-id="ef5b7-295">1041216662.54387</span></span>|<span data-ttu-id="ef5b7-296">11</span><span class="sxs-lookup"><span data-stu-id="ef5b7-296">11</span></span>|  
  
 <span data-ttu-id="ef5b7-297">Pour plus d’informations sur types de valeurs et les statistiques utilisés dans les nœuds de régression, consultez [Contenu du modèle d’exploration de données pour les modèles de régression linéaire &#40;Analysis Services – Exploration de données&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-297">For more information about the value types and the statistics used in regression models, see [Mining Model Content for Linear Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md).</span></span>  
  
## <a name="list-of-prediction-functions"></a><span data-ttu-id="ef5b7-298">Liste des fonctions de prédiction</span><span class="sxs-lookup"><span data-stu-id="ef5b7-298">List of Prediction Functions</span></span>  
 <span data-ttu-id="ef5b7-299">Tous les algorithmes [!INCLUDE[msCoName](../../includes/msconame-md.md)] prennent en charge un ensemble commun de fonctions.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-299">All [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms support a common set of functions.</span></span> <span data-ttu-id="ef5b7-300">Cependant, l’algorithme MDT ( [!INCLUDE[msCoName](../../includes/msconame-md.md)] Decision Trees) prend en charge les fonctions supplémentaires répertoriées dans le tableau ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-300">However, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Decision Trees algorithm supports the additional functions listed in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="ef5b7-301">Fonction de prédiction</span><span class="sxs-lookup"><span data-stu-id="ef5b7-301">Prediction Function</span></span>|<span data-ttu-id="ef5b7-302">Usage</span><span class="sxs-lookup"><span data-stu-id="ef5b7-302">Usage</span></span>|  
|[<span data-ttu-id="ef5b7-303">IsDescendant &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-303">IsDescendant &#40;DMX&#41;</span></span>](/sql/dmx/isdescendant-dmx)|<span data-ttu-id="ef5b7-304">Détermine si un nœud est un enfant d'un autre nœud dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-304">Determines whether one node is a child of another node in the model.</span></span>|  
|[<span data-ttu-id="ef5b7-305">IsInNode &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-305">IsInNode &#40;DMX&#41;</span></span>](/sql/dmx/isinnode-dmx)|<span data-ttu-id="ef5b7-306">Indique si le nœud spécifié contient le cas courant.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-306">Indicates whether the specified node contains the current case.</span></span>|  
|[<span data-ttu-id="ef5b7-307">PredictAdjustedProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-307">PredictAdjustedProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictadjustedprobability-dmx)|<span data-ttu-id="ef5b7-308">Retourne la probabilité pondérée.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-308">Returns the weighted probability.</span></span>|  
|[<span data-ttu-id="ef5b7-309">PredictAssociation &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-309">PredictAssociation &#40;DMX&#41;</span></span>](/sql/dmx/predictassociation-dmx)|<span data-ttu-id="ef5b7-310">Prédit l'appartenance à un dataset associatif.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-310">Predicts membership in an associative dataset.</span></span>|  
|[<span data-ttu-id="ef5b7-311">PredictHistogram &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-311">PredictHistogram &#40;DMX&#41;</span></span>](/sql/dmx/predicthistogram-dmx)|<span data-ttu-id="ef5b7-312">Retourne une table des valeurs associées à la valeur prédite actuelle.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-312">Returns a table of values related to the current predicted value.</span></span>|  
|[<span data-ttu-id="ef5b7-313">PredictNodeId &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-313">PredictNodeId &#40;DMX&#41;</span></span>](/sql/dmx/predictnodeid-dmx)|<span data-ttu-id="ef5b7-314">Retourne Node_ID pour chaque cas.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-314">Returns the Node_ID for each case.</span></span>|  
|[<span data-ttu-id="ef5b7-315">PredictProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-315">PredictProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictprobability-dmx)|<span data-ttu-id="ef5b7-316">Retourne la probabilité pour la valeur prédite.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-316">Returns probability for the predicted value.</span></span>|  
|[<span data-ttu-id="ef5b7-317">PredictStdev &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-317">PredictStdev &#40;DMX&#41;</span></span>](/sql/dmx/predictstdev-dmx)|<span data-ttu-id="ef5b7-318">Retourne l'écart-type prévu pour la colonne spécifiée.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-318">Returns the predicted standard deviation for the specified column.</span></span>|  
|[<span data-ttu-id="ef5b7-319">PredictSupport &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-319">PredictSupport &#40;DMX&#41;</span></span>](/sql/dmx/predictsupport-dmx)|<span data-ttu-id="ef5b7-320">Retourne la valeur de support pour un état spécifié.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-320">Returns the support value for a specified state.</span></span>|  
|[<span data-ttu-id="ef5b7-321">PredictVariance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-321">PredictVariance &#40;DMX&#41;</span></span>](/sql/dmx/predictvariance-dmx)|<span data-ttu-id="ef5b7-322">Retourne la variance d'une colonne spécifiée.</span><span class="sxs-lookup"><span data-stu-id="ef5b7-322">Returns the variance of a specified column.</span></span>|  
  
 <span data-ttu-id="ef5b7-323">Pour obtenir la liste des fonctions communes à tous les algorithmes [!INCLUDE[msCoName](../../includes/msconame-md.md)], consultez [Fonctions de prédiction générales &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-323">For a list of the functions that are common to all [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms, see [General Prediction Functions &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span></span> <span data-ttu-id="ef5b7-324">Pour en savoir plus sur la syntaxe de fonctions spécifiques, consultez [Informations de référence sur les fonctions DMX &#40;Data Mining Extensions&#41;](/sql/dmx/data-mining-extensions-dmx-function-reference).</span><span class="sxs-lookup"><span data-stu-id="ef5b7-324">For the syntax of specific functions, see [Data Mining Extensions &#40;DMX&#41; Function Reference](/sql/dmx/data-mining-extensions-dmx-function-reference).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ef5b7-325">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ef5b7-325">See Also</span></span>  
 <span data-ttu-id="ef5b7-326">[Requêtes d’exploration de données](data-mining-queries.md) </span><span class="sxs-lookup"><span data-stu-id="ef5b7-326">[Data Mining Queries](data-mining-queries.md) </span></span>  
 <span data-ttu-id="ef5b7-327">[Algorithme MDT (Microsoft Decision Trees)](microsoft-decision-trees-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="ef5b7-327">[Microsoft Decision Trees Algorithm](microsoft-decision-trees-algorithm.md) </span></span>  
 <span data-ttu-id="ef5b7-328">[Référence technique de l’algorithme MDT (Microsoft Decision Trees)](microsoft-decision-trees-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="ef5b7-328">[Microsoft Decision Trees Algorithm Technical Reference](microsoft-decision-trees-algorithm-technical-reference.md) </span></span>  
 [<span data-ttu-id="ef5b7-329">Contenu du modèle d’exploration de données pour les modèles d’arbre de décision &#40;Analysis Services - Exploration de données&#41;</span><span class="sxs-lookup"><span data-stu-id="ef5b7-329">Mining Model Content for Decision Tree Models &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-for-decision-tree-models-analysis-services-data-mining.md)  
  
  
