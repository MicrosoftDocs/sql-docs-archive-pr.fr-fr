---
title: Relations de dimension | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- relationships [Analysis Services]
- member groups [Analysis Services]
- regular dimensions [Analysis Services]
- many-to-many relationships [Analysis Services]
- cubes [Analysis Services], relationships
- reference dimensions
- dimensions [Analysis Services], relationships
- fact dimensions [Analysis Services]
- relationships [Analysis Services], dimensions
ms.assetid: de54c059-cb0f-4f66-bd70-8605af05ec4f
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2334c1a97bb4172fff70550dbece5376eb1cb9d7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87706891"
---
# <a name="dimension-relationships"></a><span data-ttu-id="dbf16-102">Relations de dimension</span><span class="sxs-lookup"><span data-stu-id="dbf16-102">Dimension Relationships</span></span>
  <span data-ttu-id="dbf16-103">L'utilisation d'une dimension définit les relations entre une dimension de cube et les groupes de mesures d'un cube.</span><span class="sxs-lookup"><span data-stu-id="dbf16-103">Dimension usage defines the relationships between a cube dimension and the measure groups in a cube.</span></span> <span data-ttu-id="dbf16-104">Une dimension de cube est une instance d'une dimension de base de données qui est utilisée dans un cube spécifique.</span><span class="sxs-lookup"><span data-stu-id="dbf16-104">A cube dimension is an instance of a database dimension that is used in a specific cube.</span></span> <span data-ttu-id="dbf16-105">Un cube peut (et c'est souvent le cas) avoir des dimensions de cube qui ne sont pas directement liées à un groupe de mesures, mais qui peuvent être indirectement liées au groupe de mesures via une autre dimension ou un autre groupe de mesures.</span><span class="sxs-lookup"><span data-stu-id="dbf16-105">A cube can, and frequently does, have cube dimensions that are not directly related to a measure group, but which might be indirectly related to the measure group through another dimension or measure group.</span></span> <span data-ttu-id="dbf16-106">Lorsque vous ajoutez une dimension de base de données ou un groupe de mesures à un cube, [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] tente de déterminer l’utilisation de la dimension en examinant les relations entre les tables de dimension et les tables de faits dans la vue de source de données du cube, et en examinant les relations entre les attributs dans les dimensions.</span><span class="sxs-lookup"><span data-stu-id="dbf16-106">When you add a database dimension or measure group to a cube, [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] tries to determine dimension usage by examining relationships between the dimension tables and fact tables in the cube's data source view, and by examining the relationships between attributes in dimensions.</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="dbf16-107">définit automatiquement les paramètres d'utilisation de la dimension pour les relations qu'il peut détecter.</span><span class="sxs-lookup"><span data-stu-id="dbf16-107">automatically sets the dimension usage settings for the relationships that it can detect.</span></span>  
  
 <span data-ttu-id="dbf16-108">Une relation entre une dimension et un groupe de mesures est constituée des tables de dimension et de faits qui participent à la relation et d'un attribut de granularité qui spécifie la granularité de la dimension dans le groupe de mesures particulier.</span><span class="sxs-lookup"><span data-stu-id="dbf16-108">A relationship between a dimension and a measure group consists of the dimension and fact tables participating in the relationship and a granularity attribute that specifies the granularity of the dimension in the particular measure group.</span></span>  
  
## <a name="regular-dimension-relationships"></a><span data-ttu-id="dbf16-109">Relations de dimension régulières</span><span class="sxs-lookup"><span data-stu-id="dbf16-109">Regular Dimension Relationships</span></span>  
 <span data-ttu-id="dbf16-110">Une relation de dimension régulière entre une dimension de cube et un groupe de mesures existe quand la colonne clé de la dimension est directement jointe avec la table de faits.</span><span class="sxs-lookup"><span data-stu-id="dbf16-110">A regular dimension relationship between a cube dimension and a measure group exists when the key column for the dimension is joined directly to the fact table.</span></span> <span data-ttu-id="dbf16-111">Cette relation directe est basée sur une relation de clé primaire-clé étrangère dans la base de données relationnelle sous-jacente, mais peut également être basée sur une relation logique qui est définie dans la vue de source de données.</span><span class="sxs-lookup"><span data-stu-id="dbf16-111">This direct relationship is based on a primary key-foreign key relationship in the underlying relational database, but might also be based on a logical relationship that is defined in the data source view.</span></span> <span data-ttu-id="dbf16-112">Une relation de dimension régulière représente la relation entre des tables de dimension et une table de faits dans une conception de schéma en étoile traditionnelle.</span><span class="sxs-lookup"><span data-stu-id="dbf16-112">A regular dimension relationship represents the relationship between dimension tables and a fact table in a traditional star schema design.</span></span> <span data-ttu-id="dbf16-113">Pour plus d’informations sur les relations régulières, consultez [définir une relation régulière et des propriétés de relation régulière](../multidimensional-models/define-a-regular-relationship-and-regular-relationship-properties.md).</span><span class="sxs-lookup"><span data-stu-id="dbf16-113">For more information about regular relationships, see [Define a Regular Relationship and Regular Relationship Properties](../multidimensional-models/define-a-regular-relationship-and-regular-relationship-properties.md).</span></span>  
  
## <a name="reference-dimension-relationships"></a><span data-ttu-id="dbf16-114">Relations de dimension de référence</span><span class="sxs-lookup"><span data-stu-id="dbf16-114">Reference Dimension Relationships</span></span>  
 <span data-ttu-id="dbf16-115">Une relation de dimension de référence entre une dimension de cube et un groupe de mesures existe quand la colonne clé de la dimension est indirectement jointe à la table de faits par l'intermédiaire d'une clé d'une autre table de dimension, comme le montre l'illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="dbf16-115">A reference dimension relationship between a cube dimension and a measure group exists when the key column for the dimension is joined indirectly to the fact table through a key in another dimension table, as shown in the following illustration.</span></span>  
  
 <span data-ttu-id="dbf16-116">![Diagramme logique, relation de dimension référencée](../../analysis-services/dev-guide/media/as-refdimension1.gif "Diagramme logique, relation de dimension référencée")</span><span class="sxs-lookup"><span data-stu-id="dbf16-116">![Logical diagram, referenced dimension relationship](../../analysis-services/dev-guide/media/as-refdimension1.gif "Logical diagram, referenced dimension relationship")</span></span>  
  
 <span data-ttu-id="dbf16-117">Une relation de dimension de référence représente la relation entre des tables de dimension et une table de faits dans une conception de schéma en flocons.</span><span class="sxs-lookup"><span data-stu-id="dbf16-117">A reference dimension relationship represents the relationship between dimension tables and a fact table in a snowflake schema design.</span></span> <span data-ttu-id="dbf16-118">Quand des tables de dimension sont connectées dans un schéma en flocons, vous pouvez définir une seule dimension en utilisant des colonnes de plusieurs tables ou vous pouvez définir des dimensions distinctes basées sur des tables de dimension distinctes puis définir un lien entre celles-ci en utilisant une relation de dimension de référence.</span><span class="sxs-lookup"><span data-stu-id="dbf16-118">When dimension tables are connected in a snowflake schema, you can define a single dimension using columns from multiple tables, or you can define separate dimensions based on the separate dimension tables and then define a link between them using the reference dimension relationship setting.</span></span> <span data-ttu-id="dbf16-119">L’illustration suivante montre une table de faits nommée **InternetSales**, et deux tables de dimension nommées **Customer** et **Geography**, dans un schéma en flocons.</span><span class="sxs-lookup"><span data-stu-id="dbf16-119">The following figure shows one fact table named **InternetSales**, and two dimension tables called **Customer** and **Geography**, in a snowflake schema.</span></span>  
  
 <span data-ttu-id="dbf16-120">![Schéma logique, relation de dimension référencée](../../analysis-services/dev-guide/media/as-refdim-schema1.gif "Schéma logique, relation de dimension référencée")</span><span class="sxs-lookup"><span data-stu-id="dbf16-120">![Logical schema, referenced dimension relationship](../../analysis-services/dev-guide/media/as-refdim-schema1.gif "Logical schema, referenced dimension relationship")</span></span>  
  
 <span data-ttu-id="dbf16-121">Vous pouvez créer une dimension avec la table **Customer** comme table principale de la dimension et la table **Geography** incluse en tant que table associée.</span><span class="sxs-lookup"><span data-stu-id="dbf16-121">You can create a dimension with the **Customer** table as the dimension main table and the **Geography** table included as a related table.</span></span> <span data-ttu-id="dbf16-122">Une relation régulière est ensuite définie entre la dimension et le groupe de mesures InternetSales.</span><span class="sxs-lookup"><span data-stu-id="dbf16-122">A regular relationship is then defined between the dimension and the InternetSales measure group.</span></span>  
  
 <span data-ttu-id="dbf16-123">Vous pouvez également créer deux dimensions associées au groupe de mesures InternetSales : une dimension basée sur la table **Customer** et une dimension basée sur la table **Geography** .</span><span class="sxs-lookup"><span data-stu-id="dbf16-123">Alternatively, you can create two dimensions related to the InternetSales measure group: a dimension based on the **Customer** table, and a dimension based on the **Geography** table.</span></span> <span data-ttu-id="dbf16-124">Vous pouvez ensuite lier la dimension Geography au groupe de mesures InternetSales au moyen d'une relation de dimension de référence utilisant la dimension Customer.</span><span class="sxs-lookup"><span data-stu-id="dbf16-124">You can then relate the Geography dimension to the InternetSales measure group using a reference dimension relationship using the Customer dimension.</span></span> <span data-ttu-id="dbf16-125">Dans ce cas, quand les faits du groupe de mesures InternetSales sont dimensionnés par la dimension Geography, les faits sont dimensionnés par client et par localisation géographique.</span><span class="sxs-lookup"><span data-stu-id="dbf16-125">In this case, when the facts in the InternetSales measure group are dimensioned by the Geography dimension, the facts are dimensioned by customer and by geography.</span></span> <span data-ttu-id="dbf16-126">Si le cube contenait un deuxième groupe de mesures appelé Reseller Sales, il ne vous serait pas possible de dimensionner les faits dans le groupe de mesures correspondant par Geography car il n'y aurait pas de relation entre Reseller Sales et Geography.</span><span class="sxs-lookup"><span data-stu-id="dbf16-126">If the cube contained a second measure group named Reseller Sales, you would be unable to dimension the facts in the Reseller Sales measure group by Geography because no relationship would exist between Reseller Sales and Geography.</span></span>  
  
 <span data-ttu-id="dbf16-127">Vous pouvez chaîner ensemble un nombre illimité de dimensions de référence, comme le montre l'illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="dbf16-127">There is no limit to the number of reference dimensions that can be chained together, as shown in the following illustration.</span></span>  
  
 <span data-ttu-id="dbf16-128">![Diagramme logique, relation de dimension référencée](../../analysis-services/dev-guide/media/as-refdimension2.gif "Diagramme logique, relation de dimension référencée")</span><span class="sxs-lookup"><span data-stu-id="dbf16-128">![Logical diagram, referenced dimension relationship](../../analysis-services/dev-guide/media/as-refdimension2.gif "Logical diagram, referenced dimension relationship")</span></span>  
  
 <span data-ttu-id="dbf16-129">Pour plus d’informations sur les relations référencées, consultez [définir une relation référencée et des propriétés de relation référencées](../multidimensional-models/define-a-referenced-relationship-and-referenced-relationship-properties.md).</span><span class="sxs-lookup"><span data-stu-id="dbf16-129">For more information about referenced relationships, see [Define a Referenced Relationship and Referenced Relationship Properties](../multidimensional-models/define-a-referenced-relationship-and-referenced-relationship-properties.md).</span></span>  
  
## <a name="fact-dimension-relationships"></a><span data-ttu-id="dbf16-130">Relations de dimension de fait</span><span class="sxs-lookup"><span data-stu-id="dbf16-130">Fact Dimension Relationships</span></span>  
 <span data-ttu-id="dbf16-131">Les dimensions de fait, fréquemment appelées dimensions dégénérées, sont des dimensions standard construites à partir de colonnes d'attributs de tables de faits, et non de tables de dimension.</span><span class="sxs-lookup"><span data-stu-id="dbf16-131">Fact dimensions, frequently referred to as degenerate dimensions, are standard dimensions that are constructed from attribute columns in fact tables instead of from attribute columns in dimension tables.</span></span> <span data-ttu-id="dbf16-132">Des données dimensionnelles utiles sont parfois stockées dans une table de faits pour réduire la duplication.</span><span class="sxs-lookup"><span data-stu-id="dbf16-132">Useful dimensional data is sometimes stored in a fact table to reduce duplication.</span></span> <span data-ttu-id="dbf16-133">Par exemple, le diagramme suivant affiche la table de faits **FactResellerSales** , à partir de l' [!INCLUDE[ssAWDWsp](../../includes/ssawdwsp-md.md)] exemple de base de données.</span><span class="sxs-lookup"><span data-stu-id="dbf16-133">For example, the following diagram displays the **FactResellerSales** fact table, from the [!INCLUDE[ssAWDWsp](../../includes/ssawdwsp-md.md)] sample database.</span></span>  
  
 <span data-ttu-id="dbf16-134">![Les colonnes d'une table de faits peuvent prendre en charge les dimensions](../../analysis-services/dev-guide/media/as-factdim.gif "Les colonnes d'une table de faits peuvent prendre en charge les dimensions")</span><span class="sxs-lookup"><span data-stu-id="dbf16-134">![Columns in fact table can support dimensions](../../analysis-services/dev-guide/media/as-factdim.gif "Columns in fact table can support dimensions")</span></span>  
  
 <span data-ttu-id="dbf16-135">La table contient des informations d'attribut non seulement pour chaque ligne d'une commande émise par un revendeur, mais aussi sur la commande elle-même.</span><span class="sxs-lookup"><span data-stu-id="dbf16-135">The table contains attribute information not only for each line of an order issued by a reseller, but about the order itself.</span></span> <span data-ttu-id="dbf16-136">Les attributs entourés dans le diagramme précédent identifient les informations de la table **FactResellerSales** qui peuvent être utilisées comme attributs dans une dimension.</span><span class="sxs-lookup"><span data-stu-id="dbf16-136">The attributes circled in the previous diagram identify the information in the **FactResellerSales** table that could be used as attributes in a dimension.</span></span> <span data-ttu-id="dbf16-137">Dans ce cas, deux éléments d'informations supplémentaires, le numéro de suivi du transporteur et le numéro du bon de commande émis par le revendeur, sont représentés par les colonnes d'attribut CarrrierTrackingNumber et CustomerPONumber.</span><span class="sxs-lookup"><span data-stu-id="dbf16-137">In this case, two additional pieces of information, the carrier tracking number and the purchase order number issued by the reseller, are represented by the CarrierTrackingNumber and CustomerPONumber attribute columns.</span></span> <span data-ttu-id="dbf16-138">Ces informations sont intéressantes : par exemple, les utilisateurs souhaitent sans aucun doute voir des informations agrégées, telles que le coût total du produit, pour toutes les commandes expédiées sous un numéro de suivi unique.</span><span class="sxs-lookup"><span data-stu-id="dbf16-138">This information is interesting-for example, users would definitely be interested in seeing aggregated information, such as the total product cost, for all the orders being shipped under a single tracking number.</span></span> <span data-ttu-id="dbf16-139">Mais, sans une dimension, il est impossible d'organiser ou d'agréger les données de ces deux attributs.</span><span class="sxs-lookup"><span data-stu-id="dbf16-139">But, without a dimension data for these two attributes cannot be organized or aggregated.</span></span>  
  
 <span data-ttu-id="dbf16-140">Théoriquement, vous pouvez créer une table de dimension qui utilise les mêmes informations de clé que la table FactResellerSales, et transférer les deux autres colonnes d'attribut, CarrierTrackingNumber et CustomerPONumber, vers la table de dimension.</span><span class="sxs-lookup"><span data-stu-id="dbf16-140">In theory, you could create a dimension table that uses the same key information as the FactResellerSales table and move the other two attribute columns, CarrierTrackingNumber and CustomerPONumber, to that dimension table.</span></span> <span data-ttu-id="dbf16-141">Toutefois, vous dupliquez alors une partie significative des données et augmentez inutilement la complexité dans l'entrepôt de données pour juste représenter deux attributs sous la forme d'une dimension distincte.</span><span class="sxs-lookup"><span data-stu-id="dbf16-141">However, you would be duplicating a significant portion of data and adding unnecessary complexity to the data warehouse to represent just two attributes as a separate dimension.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dbf16-142">Les dimensions de fait sont fréquemment utilisées pour prendre en charge des actions d'extraction.</span><span class="sxs-lookup"><span data-stu-id="dbf16-142">Fact dimensions are frequently used to support drillthrough actions.</span></span> <span data-ttu-id="dbf16-143">Pour plus d’informations sur les d’actions, consultez [Actions &#40;Analysis Services - Données multidimensionnelles&#41;](../multidimensional-models/actions-analysis-services-multidimensional-data.md).</span><span class="sxs-lookup"><span data-stu-id="dbf16-143">For more information about actions, see [Actions &#40;Analysis Services - Multidimensional Data&#41;](../multidimensional-models/actions-analysis-services-multidimensional-data.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dbf16-144">Les dimensions de fait doivent être mises à jour de manière incrémentielle après chaque mise à jour du groupe de mesures référencé par la relation de fait.</span><span class="sxs-lookup"><span data-stu-id="dbf16-144">Fact dimensions must be incrementally updated after every update to the measure group that is referenced by the fact relationship.</span></span> <span data-ttu-id="dbf16-145">Si la dimension de fait est une dimension ROLAP, le moteur de traitement [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] supprime les caches et traite de manière incrémentielle le groupe de mesures.</span><span class="sxs-lookup"><span data-stu-id="dbf16-145">If the fact dimension is a ROLAP dimension, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] processing engine drops any caches and incrementally processes the measure group.</span></span>  
  
 <span data-ttu-id="dbf16-146">Pour plus d’informations sur les relations de faits, consultez [définir une relation de fait et des propriétés de relation de fait](../multidimensional-models/define-a-fact-relationship-and-fact-relationship-properties.md).</span><span class="sxs-lookup"><span data-stu-id="dbf16-146">For more information about fact relationships, see [Define a Fact Relationship and Fact Relationship Properties](../multidimensional-models/define-a-fact-relationship-and-fact-relationship-properties.md).</span></span>  
  
## <a name="many-to-many-dimension-relationships"></a><span data-ttu-id="dbf16-147">Relations de dimension plusieurs-à-plusieurs</span><span class="sxs-lookup"><span data-stu-id="dbf16-147">Many to Many Dimension Relationships</span></span>  
 <span data-ttu-id="dbf16-148">Dans la plupart des dimensions, chaque fait joint un et un seul membre de dimension, un seul membre de dimension peut être associé à plusieurs faits.</span><span class="sxs-lookup"><span data-stu-id="dbf16-148">In most dimensions, each fact joins to one and only one dimension member, and a single dimension member can be associated with multiple facts.</span></span> <span data-ttu-id="dbf16-149">Dans la terminologie des bases de données relationnelles, on parle de relation un-à-plusieurs.</span><span class="sxs-lookup"><span data-stu-id="dbf16-149">In relational database terminology, this is referred to as a one-to-many relationship.</span></span> <span data-ttu-id="dbf16-150">Cependant, il est fréquemment utile de joindre un seul fait à plusieurs membres de dimension.</span><span class="sxs-lookup"><span data-stu-id="dbf16-150">However, it is frequently useful to join a single fact to multiple dimension members.</span></span> <span data-ttu-id="dbf16-151">Par exemple, un client d'une banque peut avoir plusieurs comptes (compte-chèque, compte d'épargne, compte de carte de crédit et compte d'investissement), et un compte peut avoir une jointure et plusieurs détenteurs.</span><span class="sxs-lookup"><span data-stu-id="dbf16-151">For example, a bank customer might have multiple accounts (checking, saving, credit card, and investment accounts), and an account can also have joint or multiple owners.</span></span> <span data-ttu-id="dbf16-152">La dimension Customer créée à partir de ces relations a alors plusieurs membres qui font référence à une transaction de compte.</span><span class="sxs-lookup"><span data-stu-id="dbf16-152">The Customer dimension constructed from such relationships would then have multiple members that relate to a single account transaction.</span></span>  
  
 <span data-ttu-id="dbf16-153">![Schéma logique/relation de dimension plusieurs à plusieurs (n-n)](../../analysis-services/dev-guide/media/as-many-dimension1.gif "Schéma logique/relation de dimension plusieurs à plusieurs (n-n)")</span><span class="sxs-lookup"><span data-stu-id="dbf16-153">![Logical schema/many-to-many dimension relationship](../../analysis-services/dev-guide/media/as-many-dimension1.gif "Logical schema/many-to-many dimension relationship")</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="dbf16-154">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]vous permet de définir une relation plusieurs-à-plusieurs entre une dimension et une table de faits.</span><span class="sxs-lookup"><span data-stu-id="dbf16-154">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] lets you define a many-to-many relationship between a dimension and a fact table.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dbf16-155">Pour pouvoir prendre en charge une relation de dimension plusieurs-à-plusieurs, la vue de source de données doit avoir établi une relation de clé étrangère entre toutes les tables impliquées, comme indiqué dans le schéma précédent.</span><span class="sxs-lookup"><span data-stu-id="dbf16-155">To support a many-to-many dimension relationship, the data source view must have established a foreign key relationship between all the tables involved, as shown in the previous diagram.</span></span> <span data-ttu-id="dbf16-156">Dans le cas contraire, vous ne pourrez pas sélectionner le groupe de mesures intermédiaire approprié lors de l’établissement de la relation dans l’onglet utilisation de la **dimension** du concepteur de dimensions.</span><span class="sxs-lookup"><span data-stu-id="dbf16-156">Otherwise, you will be unable to select the correct intermediate measure group when establishing the relationship in the **Dimension Usage** tab of Dimension Designer.</span></span>  
  
 <span data-ttu-id="dbf16-157">Pour plus d’informations sur les relations plusieurs-à-plusieurs, consultez [définir une relation plusieurs-à-plusieurs et des propriétés de relation plusieurs-](../multidimensional-models/define-a-many-to-many-relationship-and-many-to-many-relationship-properties.md)à-plusieurs.</span><span class="sxs-lookup"><span data-stu-id="dbf16-157">For more information about many-to-many relationships, see [Define a Many-to-Many Relationship and Many-to-Many Relationship Properties](../multidimensional-models/define-a-many-to-many-relationship-and-many-to-many-relationship-properties.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dbf16-158">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="dbf16-158">See Also</span></span>  
 [<span data-ttu-id="dbf16-159">Dimensions &#40;Analysis Services - Données multidimensionnelles&#41;</span><span class="sxs-lookup"><span data-stu-id="dbf16-159">Dimensions &#40;Analysis Services - Multidimensional Data&#41;</span></span>](../multidimensional-models-olap-logical-dimension-objects/dimensions-analysis-services-multidimensional-data.md)  
  
  
