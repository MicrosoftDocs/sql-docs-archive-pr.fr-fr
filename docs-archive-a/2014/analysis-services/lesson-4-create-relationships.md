---
title: 'Leçon 5 : créer des relations | Microsoft Docs'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: abac1a00-f827-4c3e-a473-6db5c8a3a66f
author: minewiskan
ms.author: owend
ms.openlocfilehash: f622f88d4d400fedf24e99059eda94882b1bcc3f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87703383"
---
# <a name="lesson-5-create-relationships"></a><span data-ttu-id="00e3a-102">Leçon 5 : Créer des relations</span><span class="sxs-lookup"><span data-stu-id="00e3a-102">Lesson 5: Create Relationships</span></span>
  <span data-ttu-id="00e3a-103">Dans cette leçon, vous allez vérifier les relations qui ont été créées automatiquement lorsque vous avez importé des données, et vous allez ajouter de nouvelles relations entre les tables.</span><span class="sxs-lookup"><span data-stu-id="00e3a-103">In this lesson, you will verify the relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="00e3a-104">Une relation est une connexion entre deux tables qui établit le mode de corrélation des données dans les deux tables.</span><span class="sxs-lookup"><span data-stu-id="00e3a-104">A relationship is a connection between two tables that establishes how the data in those tables should be correlated.</span></span> <span data-ttu-id="00e3a-105">Par exemple, la table Product et la table Product Subcategory ont une relation basée sur le fait que chaque produit appartient à une sous-catégorie.</span><span class="sxs-lookup"><span data-stu-id="00e3a-105">For example, the Product table and the Product Subcategory table have a relationship based on the fact that each product belongs to a subcategory.</span></span> <span data-ttu-id="00e3a-106">Pour en savoir plus, consultez [Relations &#40;SSAS Tabulaire&#41;](tabular-models/relationships-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="00e3a-106">To learn more, see [Relationships &#40;SSAS Tabular&#41;](tabular-models/relationships-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="00e3a-107">Durée estimée pour suivre cette leçon : **10 minutes**</span><span class="sxs-lookup"><span data-stu-id="00e3a-107">Estimated time to complete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="00e3a-108">Prérequis</span><span class="sxs-lookup"><span data-stu-id="00e3a-108">Prerequisites</span></span>  
 <span data-ttu-id="00e3a-109">Cette rubrique fait partie d’un didacticiel de modélisation tabulaire, qui doit être suivi dans l’ordre prévu.</span><span class="sxs-lookup"><span data-stu-id="00e3a-109">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="00e3a-110">Avant d’effectuer les tâches de cette leçon, vous devez avoir terminé la [Leçon 3 : Renommer des colonnes](rename-columns.md).</span><span class="sxs-lookup"><span data-stu-id="00e3a-110">Before performing the tasks in this lesson, you should have completed the previous lesson: [Lesson 3: Rename Columns](rename-columns.md).</span></span>  
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="00e3a-111">Examiner les relations existantes et ajouter de nouvelles relations</span><span class="sxs-lookup"><span data-stu-id="00e3a-111">Review Existing Relationships and Add New Relationships</span></span>  
 <span data-ttu-id="00e3a-112">Lorsque vous avez importé des données à l'aide de l'Assistant Importation de table, vous avez importé sept tables de la base de données AdventureWorksDW.</span><span class="sxs-lookup"><span data-stu-id="00e3a-112">When you imported data by using the Table Import Wizard, you imported seven tables from the AdventureWorksDW database.</span></span> <span data-ttu-id="00e3a-113">En général, si vous importez des données d'une source relationnelle, les relations existantes sont importées automatiquement avec les données.</span><span class="sxs-lookup"><span data-stu-id="00e3a-113">Generally, if you import data from a relational source, existing relationships are automatically imported together with the data.</span></span> <span data-ttu-id="00e3a-114">Toutefois, avant de poursuivre avec la création de votre modèle, vous devez vérifier que les relations entre les tables ont été créées correctement.</span><span class="sxs-lookup"><span data-stu-id="00e3a-114">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="00e3a-115">Pour ce didacticiel, vous allez également ajouter trois relations.</span><span class="sxs-lookup"><span data-stu-id="00e3a-115">For this tutorial, you will also add three new relationships.</span></span>  
  
#### <a name="to-review-existing-relationships"></a><span data-ttu-id="00e3a-116">Pour vérifier les relations existantes</span><span class="sxs-lookup"><span data-stu-id="00e3a-116">To review existing relationships</span></span>  
  
1.  <span data-ttu-id="00e3a-117">Dans [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], cliquez sur le menu **Modèle** , puis pointez sur **Vue du modèle**et sur **Vue de diagramme**.</span><span class="sxs-lookup"><span data-stu-id="00e3a-117">In [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], click on the **Model** menu, then point to **Model View**, and then click **Diagram View**.</span></span>  
  
     <span data-ttu-id="00e3a-118">Le concepteur de modèles apparaît maintenant dans la vue de diagramme, c'est un format graphique affichant toutes les tables que vous avez importées et les lignes les reliant.</span><span class="sxs-lookup"><span data-stu-id="00e3a-118">The model designer now appears in Diagram View, a graphical format displaying all of the tables you imported with lines between them.</span></span> <span data-ttu-id="00e3a-119">Les lignes entre les tables indiquent les relations qui ont été créées automatiquement lorsque vous avez importé les données.</span><span class="sxs-lookup"><span data-stu-id="00e3a-119">The lines between tables indicate the relationships that were automatically created when you imported the data.</span></span>  
  
     <span data-ttu-id="00e3a-120">Utilisez les contrôles de la minicarte dans l'angle supérieur droit du concepteur de modèles pour ajuster la vue et inclure autant de tables que possible.</span><span class="sxs-lookup"><span data-stu-id="00e3a-120">Use the minimap controls in the upper-right corner of the model designer to adjust the view to include as many of the tables as possible.</span></span> <span data-ttu-id="00e3a-121">Vous pouvez également cliquer et faire glisser des tables à différents emplacements, en rapprochant les tables autant que possible, ou en les plaçant dans un ordre précis.</span><span class="sxs-lookup"><span data-stu-id="00e3a-121">You can also click and drag tables to different locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="00e3a-122">Le déplacement des tables n'affecte pas les relations qui existent déjà entre elles.</span><span class="sxs-lookup"><span data-stu-id="00e3a-122">Moving tables does not affect the relationships already between the tables.</span></span> <span data-ttu-id="00e3a-123">Pour afficher toutes les colonnes d'une table donnée, cliquez et faites glisser le bord de la table pour l'agrandir ou la réduire.</span><span class="sxs-lookup"><span data-stu-id="00e3a-123">To view all of the columns in a particular table, click and drag on a table edge to expand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="00e3a-124">Cliquez sur la ligne pleine entre la table **Customer** et la table **Geography** .</span><span class="sxs-lookup"><span data-stu-id="00e3a-124">Click on the solid line between the **Customer** table and the **Geography** table.</span></span> <span data-ttu-id="00e3a-125">La ligne pleine entre ces deux tables indique que cette relation est active, c.-à-d. qu'elle est utilisée par défaut lors du calcul des formules DAX.</span><span class="sxs-lookup"><span data-stu-id="00e3a-125">The solid line between these two tables show this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
     <span data-ttu-id="00e3a-126">Notez que la colonne **Geography Id** dans la table **Customer** et la colonne **Geography Id** dans la table **Geography** apparaissent maintenant chacune dans une zone.</span><span class="sxs-lookup"><span data-stu-id="00e3a-126">Notice the **Geography Id** column in the **Customer** table and the **Geography Id** column in the **Geography** table now both each appear within a box.</span></span> <span data-ttu-id="00e3a-127">Cela indique que ce sont les colonnes utilisées dans la relation.</span><span class="sxs-lookup"><span data-stu-id="00e3a-127">This shows these are the columns used in the relationship.</span></span> <span data-ttu-id="00e3a-128">Les propriétés de la relation apparaissent maintenant aussi dans la fenêtre **Propriétés** .</span><span class="sxs-lookup"><span data-stu-id="00e3a-128">The relationship's properties now also appear in the **Properties** window.</span></span>  
  
    > [!TIP]  
    >  <span data-ttu-id="00e3a-129">Outre l’utilisation du concepteur de modèles dans la vue de diagramme, vous pouvez également utiliser la boîte de dialogue **Gérer les relations** pour afficher les relations entre toutes les tables dans un format tabulaire.</span><span class="sxs-lookup"><span data-stu-id="00e3a-129">In addition to using the model designer in diagram view, you can also use the **Manage Relationships** dialog box to show the relationships between all tables in a table format.</span></span> <span data-ttu-id="00e3a-130">Cliquez sur le menu **Table** , puis sur **Gérer les relations**.</span><span class="sxs-lookup"><span data-stu-id="00e3a-130">Click on the **Table** menu, and then click **Manage Relationships**.</span></span> <span data-ttu-id="00e3a-131">La boîte de dialogue **Gérer les relations** affiche les relations qui ont été créées automatiquement quand vous avez importé des données.</span><span class="sxs-lookup"><span data-stu-id="00e3a-131">The **Manage Relationships** dialog box shows the relationships that were automatically created when you imported data.</span></span>  
  
3.  <span data-ttu-id="00e3a-132">Utilisez le concepteur de modèles dans la vue de diagramme, ou la boîte de dialogue **Gérer les relations** , pour vérifier que les relations suivantes ont été créées quand chacune des tables a été importée à partir de la base de données AdventureWorksDW :</span><span class="sxs-lookup"><span data-stu-id="00e3a-132">Use the model designer in diagram view, or the **Manage Relationships** dialog box, to verify the following relationships were created when each of the tables were imported from the AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="00e3a-133">Actif</span><span class="sxs-lookup"><span data-stu-id="00e3a-133">Active</span></span>|<span data-ttu-id="00e3a-134">Table</span><span class="sxs-lookup"><span data-stu-id="00e3a-134">Table</span></span>|<span data-ttu-id="00e3a-135">Table de recherche associée</span><span class="sxs-lookup"><span data-stu-id="00e3a-135">Related Lookup Table</span></span>|  
    |------------|-----------|--------------------------|  
    |<span data-ttu-id="00e3a-136">Oui</span><span class="sxs-lookup"><span data-stu-id="00e3a-136">Yes</span></span>|<span data-ttu-id="00e3a-137">**Customer [Geography Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-137">**Customer [Geography Id]**</span></span>|<span data-ttu-id="00e3a-138">**Geography [Geography Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-138">**Geography [Geography Id]**</span></span>|  
    |<span data-ttu-id="00e3a-139">Oui</span><span class="sxs-lookup"><span data-stu-id="00e3a-139">Yes</span></span>|<span data-ttu-id="00e3a-140">**Product [Product Subcategory Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-140">**Product [Product Subcategory Id]**</span></span>|<span data-ttu-id="00e3a-141">**Product Subcategory [Product Subcategory Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-141">**Product Subcategory [Product Subcategory Id]**</span></span>|  
    |<span data-ttu-id="00e3a-142">Oui</span><span class="sxs-lookup"><span data-stu-id="00e3a-142">Yes</span></span>|<span data-ttu-id="00e3a-143">**Product Subcategory [Product Category Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-143">**Product Subcategory [Product Category Id]**</span></span>|<span data-ttu-id="00e3a-144">**Product Category [Product Category Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-144">**Product Category [Product Category Id]**</span></span>|  
    |<span data-ttu-id="00e3a-145">Oui</span><span class="sxs-lookup"><span data-stu-id="00e3a-145">Yes</span></span>|<span data-ttu-id="00e3a-146">**Internet Sales [Customer Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-146">**Internet Sales [Customer Id]**</span></span>|<span data-ttu-id="00e3a-147">**Customer [Customer Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-147">**Customer [Customer Id]**</span></span>|  
    |<span data-ttu-id="00e3a-148">Oui</span><span class="sxs-lookup"><span data-stu-id="00e3a-148">Yes</span></span>|<span data-ttu-id="00e3a-149">**Internet Sales [Product Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-149">**Internet Sales [Product Id]**</span></span>|<span data-ttu-id="00e3a-150">**Product [Product Id]**</span><span class="sxs-lookup"><span data-stu-id="00e3a-150">**Product [Product Id]**</span></span>|  
  
 <span data-ttu-id="00e3a-151">Si l'une des relations dans la table ci-dessus est manquante, vérifiez que votre modèle inclut les tables suivantes : Customer, Date, Geography, Product, Product Category, Product Subcategory et Internet Sales.</span><span class="sxs-lookup"><span data-stu-id="00e3a-151">If any of the relationships in the table above are missing, verify that your model includes the following tables: Customer, Date, Geography, Product, Product Category, Product Subcategory, and Internet Sales.</span></span> <span data-ttu-id="00e3a-152">Si vous importez des tables provenant de la même connexion de source de données à des moments différents, les relations entre ces tables ne sont pas créées et doivent être créées manuellement.</span><span class="sxs-lookup"><span data-stu-id="00e3a-152">If tables from the same data source connection are imported at separate times, any relationships between those tables will not be created and must be created manually.</span></span>  
  
 <span data-ttu-id="00e3a-153">Dans certains cas, vous devrez peut-être créer des relations supplémentaires entre les tables de votre modèle pour répondre aux besoins d’une certaine logique métier.</span><span class="sxs-lookup"><span data-stu-id="00e3a-153">In some cases, you may need to create additional relationships between tables in your model to support certain business logic.</span></span> <span data-ttu-id="00e3a-154">Pour ce didacticiel, vous devez créer trois relations supplémentaires entre la table Internet sales et la table Date.</span><span class="sxs-lookup"><span data-stu-id="00e3a-154">For this tutorial, you need to create three additional relationships between the Internet Sales table and the Date table.</span></span>  
  
#### <a name="to-add-new-relationships-between-tables"></a><span data-ttu-id="00e3a-155">Pour ajouter de nouvelles relations entre des tables</span><span class="sxs-lookup"><span data-stu-id="00e3a-155">To add new relationships between tables</span></span>  
  
1.  <span data-ttu-id="00e3a-156">Dans le concepteur de modèles, dans la table **Internet Sales** , cliquez et maintenez le bouton enfoncé sur la colonne **Order Date** , faites glisser le curseur sur la colonne **Date** dans la table **Date** , puis relâchez la souris.</span><span class="sxs-lookup"><span data-stu-id="00e3a-156">In the model designer, in the **Internet Sales** table, click and hold on the **Order Date** column, then drag the cursor to the **Date** column in the **Date** table, and then release.</span></span>  
  
     <span data-ttu-id="00e3a-157">Une ligne pleine apparaît et indique que vous avez créé une relation active entre la colonne **Order Date** dans la table **Internet Sales** et la colonne **Date** dans la table **Date** .</span><span class="sxs-lookup"><span data-stu-id="00e3a-157">A solid line appears showing you have created an active relationship between the **Order Date** column in the **Internet Sales** table and the **Date** column in the **Date** table.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="00e3a-158">Lorsque vous créez des relations, l'ordre entre la table primaire et la table de recherche associée est automatiquement classifié correctement.</span><span class="sxs-lookup"><span data-stu-id="00e3a-158">When creating relationships, the order between the primary table and the related lookup table is automatically put in the correct order.</span></span>  
  
2.  <span data-ttu-id="00e3a-159">Dans la table **Internet Sales** , cliquez et maintenez le bouton enfoncé sur la colonne **Due Date** , faites glisser le curseur sur la colonne **Date** dans la table **Date** , puis relâchez la souris.</span><span class="sxs-lookup"><span data-stu-id="00e3a-159">In the **Internet Sales** table, click and hold on the **Due Date** column, then drag the cursor to the **Date** column in the **Date** table, and then release.</span></span>  
  
     <span data-ttu-id="00e3a-160">Une ligne en pointillés apparaît et indique que vous avez créé une relation inactive entre la colonne **Due Date** dans la table **Internet Sales** et la colonne **Date** dans la table **Date** .</span><span class="sxs-lookup"><span data-stu-id="00e3a-160">A dotted line appears showing you have created an inactive relationship between the **Due Date** column in the **Internet Sales** table and the **Date** column in the **Date** table.</span></span> <span data-ttu-id="00e3a-161">Vous pouvez avoir plusieurs relations entre les tables, mais une seule relation peut être active à la fois.</span><span class="sxs-lookup"><span data-stu-id="00e3a-161">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span>  
  
3.  <span data-ttu-id="00e3a-162">Enfin, créez une relation supplémentaire : dans la table **Internet Sales** , cliquez et maintenez le bouton enfoncé sur la colonne **Ship Date** , faites glisser le curseur sur la colonne **Date** dans la table **Date** , puis relâchez la souris.</span><span class="sxs-lookup"><span data-stu-id="00e3a-162">Finally, create one more relationship; in the **Internet Sales** table, click and hold on the **Ship Date** column, then drag the cursor to the **Date** column in the **Date** table, and then release.</span></span>  
  
     <span data-ttu-id="00e3a-163">Une ligne en pointillés apparaît et indique que vous avez créé une relation inactive entre la colonne **Ship Date** dans la table **Internet Sales** et la colonne **Date** dans la table **Date** .</span><span class="sxs-lookup"><span data-stu-id="00e3a-163">A dotted line appears showing you have created an inactive relationship between the **Ship Date** column in the **Internet Sales** table and the **Date** column in the **Date** table.</span></span>  
  
## <a name="next-step"></a><span data-ttu-id="00e3a-164">étape suivante</span><span class="sxs-lookup"><span data-stu-id="00e3a-164">Next Step</span></span>  
 <span data-ttu-id="00e3a-165">Pour continuer cette leçon, passez à la [Leçon 6 : Créer des colonnes calculées](lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="00e3a-165">To continue this lesson, go to the next lesson: [Lesson 6: Create Calculated Columns](lesson-5-create-calculated-columns.md).</span></span>  
  
  
