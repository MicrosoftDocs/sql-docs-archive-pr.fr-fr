---
title: Conception d’agrégations (XMLA) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- statistical information [XML for Analysis]
- batches [XML for Analysis]
- aggregations [Analysis Services], XML for Analysis
- XMLA, aggregations
- queries [XMLA]
- XML for Analysis, aggregations
- iterative aggregation process [XMLA]
ms.assetid: 4dd27afa-10c7-408d-bc24-ca74217ddbcb
author: minewiskan
ms.author: owend
ms.openlocfilehash: 632cc071605cff6e42adec4acd32c9bd9949fc77
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87613187"
---
# <a name="designing-aggregations-xmla"></a><span data-ttu-id="7993e-102">Conception d'agrégations (XMLA)</span><span class="sxs-lookup"><span data-stu-id="7993e-102">Designing Aggregations (XMLA)</span></span>
  <span data-ttu-id="7993e-103">Les conceptions d'agrégation sont associées aux partitions d'un groupe de mesures particulier pour s'assurer que les partitions utilisent la même structure lors du stockage d'agrégations.</span><span class="sxs-lookup"><span data-stu-id="7993e-103">Aggregation designs are associated with the partitions of a particular measure group to make sure that the partitions use the same structure when storing aggregations.</span></span> <span data-ttu-id="7993e-104">L’utilisation de la même structure de stockage pour les partitions vous permet de définir facilement des partitions qui peuvent être fusionnées ultérieurement à l’aide de la commande [MergePartitions](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/mergepartitions-element-xmla) .</span><span class="sxs-lookup"><span data-stu-id="7993e-104">Using the same storage structure for partitions lets you to easily define partitions that can be later merged using the [MergePartitions](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/mergepartitions-element-xmla) command.</span></span> <span data-ttu-id="7993e-105">Pour plus d’informations sur les conceptions d’agrégation, consultez [agrégations et conceptions d’agrégation](../multidimensional-models-olap-logical-cube-objects/aggregations-and-aggregation-designs.md).</span><span class="sxs-lookup"><span data-stu-id="7993e-105">For more information about aggregation designs, see [Aggregations and Aggregation Designs](../multidimensional-models-olap-logical-cube-objects/aggregations-and-aggregation-designs.md).</span></span>  
  
 <span data-ttu-id="7993e-106">Pour définir des agrégations pour une conception d’agrégation, vous pouvez utiliser la commande [DesignAggregations](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/designaggregations-element-xmla) dans XML for Analysis (XMLA).</span><span class="sxs-lookup"><span data-stu-id="7993e-106">To define aggregations for an aggregation design, you can use the [DesignAggregations](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/designaggregations-element-xmla) command in XML for Analysis (XMLA).</span></span> <span data-ttu-id="7993e-107">La commande `DesignAggregations` possède des propriétés qui identifient la conception d'agrégation à utiliser comme référence et la façon dont est contrôlé le processus de conception basé sur cette référence.</span><span class="sxs-lookup"><span data-stu-id="7993e-107">The `DesignAggregations` command has properties that identify which aggregation design to use as a reference and how to control the design process based upon that reference.</span></span> <span data-ttu-id="7993e-108">Par le biais de la commande `DesignAggregations` et de ses propriétés, vous pouvez concevoir des agrégations de manière itérative ou par lot, puis consulter les statistiques de conception obtenues pour évaluer le processus de conception.</span><span class="sxs-lookup"><span data-stu-id="7993e-108">Using the `DesignAggregations` command and its properties, you can design aggregations iteratively or in batch, and then view the resulting design statistics to evaluate the design process.</span></span>  
  
## <a name="specifying-an-aggregation-design"></a><span data-ttu-id="7993e-109">Définition d'une conception d'agrégation</span><span class="sxs-lookup"><span data-stu-id="7993e-109">Specifying an Aggregation Design</span></span>  
 <span data-ttu-id="7993e-110">La propriété [Object](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/object-element-xmla) de la `DesignAggregations` commande doit contenir une référence d’objet à une conception d’agrégation existante.</span><span class="sxs-lookup"><span data-stu-id="7993e-110">The [Object](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/object-element-xmla) property of the `DesignAggregations` command must contain an object reference to an existing aggregation design.</span></span> <span data-ttu-id="7993e-111">La référence d'objet contient un identificateur de base de données, un identificateur de cube, un identificateur de groupe de mesures et un identificateur de conception d'agrégation.</span><span class="sxs-lookup"><span data-stu-id="7993e-111">The object reference contains a database identifier, cube identifier, measure group identifier, and aggregation design identifier.</span></span> <span data-ttu-id="7993e-112">Si la conception d'agrégation n'existe pas déjà, une erreur se produit.</span><span class="sxs-lookup"><span data-stu-id="7993e-112">If the aggregation design does not already exist, an error occurs.</span></span>  
  
## <a name="controlling-the-design-process"></a><span data-ttu-id="7993e-113">Contrôle du processus de conception</span><span class="sxs-lookup"><span data-stu-id="7993e-113">Controlling the Design Process</span></span>  
 <span data-ttu-id="7993e-114">Vous pouvez utiliser les propriétés de la commande `DesignAggregations` décrites ci-dessous pour contrôler l'algorithme utilisé pour définir des agrégations pour la conception d'agrégation :</span><span class="sxs-lookup"><span data-stu-id="7993e-114">You can use the following properties of the `DesignAggregations` command to control the algorithm used to define aggregations for the aggregation design:</span></span>  
  
-   <span data-ttu-id="7993e-115">La propriété [Steps](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/steps-element-xmla) détermine le nombre d’itérations `DesignAggregations` que la commande doit effectuer avant de retourner le contrôle à l’application cliente.</span><span class="sxs-lookup"><span data-stu-id="7993e-115">The [Steps](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/steps-element-xmla) property determines how many iterations the `DesignAggregations` command should take before it returns control to the client application.</span></span>  
  
-   <span data-ttu-id="7993e-116">La propriété [Time](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/time-element-xmla) détermine le nombre `DesignAggregations` de millisecondes que la commande doit prendre avant de retourner le contrôle à l’application cliente.</span><span class="sxs-lookup"><span data-stu-id="7993e-116">The [Time](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/time-element-xmla) property determines how many milliseconds the `DesignAggregations` command should take before it returns control to the client application.</span></span>  
  
-   <span data-ttu-id="7993e-117">La propriété [Optimization](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/optimization-element-xmla) détermine le pourcentage estimé d’amélioration des performances que la `DesignAggregations` commande doit tenter d’atteindre.</span><span class="sxs-lookup"><span data-stu-id="7993e-117">The [Optimization](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/optimization-element-xmla) property determines the estimated percentage of performance improvement the `DesignAggregations` command should try to achieve.</span></span> <span data-ttu-id="7993e-118">Si vous concevez des agrégations de manière itérative, vous n'avez besoin d'envoyer cette propriété que dans la première commande.</span><span class="sxs-lookup"><span data-stu-id="7993e-118">If you are iteratively designing aggregations, you only have to send this property on the first command.</span></span>  
  
-   <span data-ttu-id="7993e-119">La propriété [Storage](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/storage-element-xmla) détermine la quantité d'espace de stockage sur disque estimée, en octets, qu'utilise la commande `DesignAggregations`.</span><span class="sxs-lookup"><span data-stu-id="7993e-119">The [Storage](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/storage-element-xmla) property determines the estimated amount of disk storage, in bytes, used by the `DesignAggregations` command.</span></span> <span data-ttu-id="7993e-120">Si vous concevez des agrégations de manière itérative, vous n'avez besoin d'envoyer cette propriété que dans la première commande.</span><span class="sxs-lookup"><span data-stu-id="7993e-120">If you are iteratively designing aggregations, you only have to send this property on the first command.</span></span>  
  
-   <span data-ttu-id="7993e-121">La propriété [matérial](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/materialize-element-xmla) détermine si la `DesignAggregations` commande doit créer les agrégations définies pendant le processus de conception.</span><span class="sxs-lookup"><span data-stu-id="7993e-121">The [Materialize](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/materialize-element-xmla) property determines whether the `DesignAggregations` command should create the aggregations defined during the design process.</span></span> <span data-ttu-id="7993e-122">Si vous concevez des agrégations de manière itérative, cette propriété doit être définie à false tant que vous n'êtes pas prêt à enregistrer les agrégations conçues.</span><span class="sxs-lookup"><span data-stu-id="7993e-122">If you are iteratively designing aggregations, this property should be set to false until you are ready to save the designed aggregations.</span></span> <span data-ttu-id="7993e-123">Lorsqu'elle est définie à true, le processus de conception en cours prend fin et les agrégations définies sont ajoutées à la conception d'agrégation spécifiée.</span><span class="sxs-lookup"><span data-stu-id="7993e-123">When set to true, the current design process ends and the defined aggregations are added to the specified aggregation design.</span></span>  
  
## <a name="specifying-queries"></a><span data-ttu-id="7993e-124">Définition de la propriété Queries</span><span class="sxs-lookup"><span data-stu-id="7993e-124">Specifying Queries</span></span>  
 <span data-ttu-id="7993e-125">La commande DesignAggregations prend en charge la commande d’optimisation basée sur l’utilisation en incluant un ou plusieurs `Query` éléments dans la propriété [Queries](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/queries-element-xmla) .</span><span class="sxs-lookup"><span data-stu-id="7993e-125">The DesignAggregations command supports usage-based optimization command by including one or more `Query` elements in the [Queries](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/queries-element-xmla) property.</span></span> <span data-ttu-id="7993e-126">La `Queries` propriété peut contenir un ou plusieurs éléments de [requête](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/query-element-xmla) .</span><span class="sxs-lookup"><span data-stu-id="7993e-126">The `Queries` property can contain one or more [Query](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/query-element-xmla) elements.</span></span> <span data-ttu-id="7993e-127">Si la propriété `Queries` ne contient pas d'éléments `Query`, la conception d'agrégation spécifiée dans l'élément `Object` utilise une structure par défaut qui contient un ensemble général d'agrégations.</span><span class="sxs-lookup"><span data-stu-id="7993e-127">If the `Queries` property does not contain any `Query` elements, the aggregation design specified in the `Object` element uses a default structure that contains a general set of aggregations.</span></span> <span data-ttu-id="7993e-128">Cet ensemble général d'agrégations vise à répondre aux critères spécifiés dans les propriétés `Optimization` et `Storage` de la commande `DesignAggregations`.</span><span class="sxs-lookup"><span data-stu-id="7993e-128">This general set of aggregations is designed to meet the criteria specified in the `Optimization` and `Storage` properties of the `DesignAggregations` command.</span></span>  
  
 <span data-ttu-id="7993e-129">Chaque élément `Query` représente une requête d'objectif que le processus de conception utilise pour définir des agrégations qui visent les requêtes utilisées le plus fréquemment.</span><span class="sxs-lookup"><span data-stu-id="7993e-129">Each `Query` element represents a goal query that the design process uses to define aggregations that target the most frequently used queries.</span></span> <span data-ttu-id="7993e-130">Vous pouvez spécifier vos propres requêtes d’objectif, ou vous pouvez utiliser les informations stockées par une instance de [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dans le journal des requêtes pour récupérer des informations sur les requêtes les plus fréquemment utilisées.</span><span class="sxs-lookup"><span data-stu-id="7993e-130">You can either specify your own goal queries, or you can use the information stored by an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] in the query log to retrieve information about the most frequently used queries.</span></span> <span data-ttu-id="7993e-131">L'Assistant Optimisation de l'utilisation utilise le journal des requêtes pour récupérer les requêtes d'objectif en fonction du temps, de l'utilisation ou d'un utilisateur spécifié lors de l'envoi d'une commande `DesignAggregations`.</span><span class="sxs-lookup"><span data-stu-id="7993e-131">The Usage-Based Optimization Wizard uses the query log to retrieve goal queries based on time, usage, or a specified user when it sends a `DesignAggregations` command.</span></span> <span data-ttu-id="7993e-132">Pour plus d’informations, consultez l' [aide (F1) de l’Assistant Optimisation de l’utilisation](../usage-based-optimization-wizard-f1-help.md).</span><span class="sxs-lookup"><span data-stu-id="7993e-132">For more information, see [Usage-Based Optimization Wizard F1 Help](../usage-based-optimization-wizard-f1-help.md).</span></span>  
  
 <span data-ttu-id="7993e-133">Si vous créez des agrégations de manière itérative, vous ne devez passer de requêtes d'objectif que dans la première commande `DesignAggregations` parce que l'instance [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] stocke ces requêtes d'objectif et les utilise pendant les commandes `DesignAggregations` suivantes.</span><span class="sxs-lookup"><span data-stu-id="7993e-133">If you are iteratively designing aggregations, you only have to pass goal queries in the first `DesignAggregations` command because the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance stores these goal queries and uses these queries during subsequent `DesignAggregations` commands.</span></span> <span data-ttu-id="7993e-134">Une fois les requêtes d'objectif passées dans la première commande `DesignAggregations` d'un procédé itératif, toute commande `DesignAggregations` suivante qui contient des requêtes d'objectif dans la propriété `Queries` génère une erreur.</span><span class="sxs-lookup"><span data-stu-id="7993e-134">After you pass goal queries in the first `DesignAggregations` command of an iterative process, any subsequent `DesignAggregations` command that contains goal queries in the `Queries` property generates an error.</span></span>  
  
 <span data-ttu-id="7993e-135">L'élément `Query` contient une valeur délimitée par des virgules qui renferme les arguments suivants :</span><span class="sxs-lookup"><span data-stu-id="7993e-135">The `Query` element contains a comma-delimited value that contains the following arguments:</span></span>  
  
 <span data-ttu-id="7993e-136">*Frequency*,*Dataset*[,*Dataset*...]</span><span class="sxs-lookup"><span data-stu-id="7993e-136">*Frequency*,*Dataset*[,*Dataset*...]</span></span>  
  
 <span data-ttu-id="7993e-137">*Fréquence*</span><span class="sxs-lookup"><span data-stu-id="7993e-137">*Frequency*</span></span>  
 <span data-ttu-id="7993e-138">Un facteur de pondération qui correspond au nombre de fois que la requête a été exécutée antérieurement.</span><span class="sxs-lookup"><span data-stu-id="7993e-138">A weighting factor that corresponds to the number of times that the query has previously been executed.</span></span> <span data-ttu-id="7993e-139">Si l' `Query` élément représente une nouvelle requête, la valeur *Frequency* représente le facteur de pondération utilisé par le processus de conception pour évaluer la requête.</span><span class="sxs-lookup"><span data-stu-id="7993e-139">If the `Query` element represents a new query, the *Frequency* value represents the weighting factor used by the design process to evaluate the query.</span></span> <span data-ttu-id="7993e-140">À mesure que la valeur de la fréquence s'accroît, le poids associé à la requête pendant le processus de conception augmente.</span><span class="sxs-lookup"><span data-stu-id="7993e-140">As the frequency value becomes larger, the weight that is put on the query during the design process increases.</span></span>  
  
 <span data-ttu-id="7993e-141">*Dataset*</span><span class="sxs-lookup"><span data-stu-id="7993e-141">*Dataset*</span></span>  
 <span data-ttu-id="7993e-142">Une chaîne numérique qui spécifie quels attributs d'une dimension doivent être inclus dans la requête.</span><span class="sxs-lookup"><span data-stu-id="7993e-142">A numeric string that specifies which attributes from a dimension are to be included in the query.</span></span> <span data-ttu-id="7993e-143">Cette chaîne doit comporter autant de caractères que la dimension compte d'attributs.</span><span class="sxs-lookup"><span data-stu-id="7993e-143">This string must have the same number of characters as the number of attributes in the dimension.</span></span> <span data-ttu-id="7993e-144">Zéro (0) indique que l'attribut à la position ordinale spécifiée n'est pas inclus dans la requête pour la dimension spécifiée, alors qu'un (1) indique que l'attribut à la position ordinale spécifiée est inclus dans la requête pour la dimension spécifiée.</span><span class="sxs-lookup"><span data-stu-id="7993e-144">Zero (0) indicates that the attribute in the specified ordinal position is not included in the query for the specified dimension, while one (1) indicates that the attribute in the specified ordinal position is included in the query for the specified dimension.</span></span>  
  
 <span data-ttu-id="7993e-145">Par exemple, la chaîne  « 011 » se rapporte à une requête concernant une dimension à trois attributs, dont le deuxième et le troisième sont inclus dans la requête.</span><span class="sxs-lookup"><span data-stu-id="7993e-145">For example, the string "011" would refer to a query involving a dimension with three attributes, from which the second and third attributes are included in the query.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7993e-146">Certains attributs, qualifiés d'exclus, ne sont pas pris en compte dans le dataset.</span><span class="sxs-lookup"><span data-stu-id="7993e-146">Some attributes are excluded from consideration in the dataset.</span></span> <span data-ttu-id="7993e-147">Pour plus d’informations sur les attributs exclus, consultez [élément Query &#40;&#41;XMLA ](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/query-element-xmla).</span><span class="sxs-lookup"><span data-stu-id="7993e-147">For more information about excluded attributes, see [Query Element &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/query-element-xmla).</span></span>  
  
 <span data-ttu-id="7993e-148">Chaque dimension dans le groupe de mesures qui contient la conception d’agrégation est représentée par une valeur de *jeu de données* dans l' `Query` élément.</span><span class="sxs-lookup"><span data-stu-id="7993e-148">Each dimension in the measure group that contains the aggregation design is represented by a *Dataset* value in the `Query` element.</span></span> <span data-ttu-id="7993e-149">L'ordre des valeurs *Dataset* doit correspondre à celui des dimensions incluses dans le groupe de mesures.</span><span class="sxs-lookup"><span data-stu-id="7993e-149">The order of *Dataset* values must match the order of dimensions included in the measure group.</span></span>  
  
## <a name="designing-aggregations-using-iterative-or-batch-processes"></a><span data-ttu-id="7993e-150">Conception d'agrégations au moyen d'un processus de traitement itératif ou par lots</span><span class="sxs-lookup"><span data-stu-id="7993e-150">Designing Aggregations Using Iterative or Batch Processes</span></span>  
 <span data-ttu-id="7993e-151">Vous pouvez utiliser la commande `DesignAggregations` dans le cadre d'un processus de traitement itératif ou par lots, selon le degré d'interactivité exigé par le processus de conception.</span><span class="sxs-lookup"><span data-stu-id="7993e-151">You can use the `DesignAggregations` command as part of an iterative process or a batch process, depending on the interactivity required by the design process.</span></span>  
  
### <a name="designing-aggregations-using-an-iterative-process"></a><span data-ttu-id="7993e-152">Conception d'agrégations au moyen d'un processus de traitement itératif</span><span class="sxs-lookup"><span data-stu-id="7993e-152">Designing Aggregations Using an Iterative Process</span></span>  
 <span data-ttu-id="7993e-153">Pour concevoir des agrégations de manière itérative, vous devez envoyer plusieurs commandes `DesignAggregations` de façon à fournir un contrôle précis sur le processus de conception.</span><span class="sxs-lookup"><span data-stu-id="7993e-153">To iteratively design aggregations, you send multiple `DesignAggregations` commands to provide fine control over the design process.</span></span> <span data-ttu-id="7993e-154">L'Assistant Conception d'agrégation utilise cette même approche pour fournir un contrôle précis sur le processus de conception.</span><span class="sxs-lookup"><span data-stu-id="7993e-154">The Aggregation Design Wizard uses this same approach to provide fine control over the design process.</span></span> <span data-ttu-id="7993e-155">Pour plus d’informations, consultez aide (F1) de [l’Assistant conception d’agrégation](../aggregation-design-wizard-f1-help.md).</span><span class="sxs-lookup"><span data-stu-id="7993e-155">For more information, see [Aggregation Design Wizard F1 Help](../aggregation-design-wizard-f1-help.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7993e-156">Une session explicite est nécessaire pour concevoir des agrégations de manière itérative.</span><span class="sxs-lookup"><span data-stu-id="7993e-156">An explicit session is required to iteratively design aggregations.</span></span> <span data-ttu-id="7993e-157">Pour plus d’informations sur les sessions explicites, consultez [gestion des connexions et des sessions &#40;XMLA&#41;](managing-connections-and-sessions-xmla.md).</span><span class="sxs-lookup"><span data-stu-id="7993e-157">For more information about explicit sessions, see [Managing Connections and Sessions &#40;XMLA&#41;](managing-connections-and-sessions-xmla.md).</span></span>  
  
 <span data-ttu-id="7993e-158">Pour lancer le processus de traitement itératif, vous devez commencer par envoyer une commande `DesignAggregations` contenant les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="7993e-158">To start the iterative process, you first send a `DesignAggregations` command that contains the following information:</span></span>  
  
-   <span data-ttu-id="7993e-159">les valeurs des propriétés `Storage` et `Optimization` sur lesquelles porte l'ensemble du processus de conception ;</span><span class="sxs-lookup"><span data-stu-id="7993e-159">The `Storage` and `Optimization` property values on which the whole design process is targeted.</span></span>  
  
-   <span data-ttu-id="7993e-160">les valeurs des propriétés `Steps` et `Time` sur lesquelles se limite la première étape du processus de conception ;</span><span class="sxs-lookup"><span data-stu-id="7993e-160">The `Steps` and `Time` property values on which the first step of the design process is limited.</span></span>  
  
-   <span data-ttu-id="7993e-161">si vous souhaitez recourir à l'optimisation basée sur l'utilisation, la propriété `Queries` qui contient les requêtes d'objectif sur lesquelles porte l'ensemble du processus de conception ;</span><span class="sxs-lookup"><span data-stu-id="7993e-161">If you want usage-based optimization, the `Queries` property that contains the goal queries on which the whole design process is targeted.</span></span>  
  
-   <span data-ttu-id="7993e-162">la propriété `Materialize` définie à false.</span><span class="sxs-lookup"><span data-stu-id="7993e-162">The `Materialize` property set to false.</span></span> <span data-ttu-id="7993e-163">La définition de cette propriété à false indique que le processus de conception n'enregistre pas les agrégations définies dans la conception d'agrégation lorsque la commande aboutit.</span><span class="sxs-lookup"><span data-stu-id="7993e-163">Setting this property to false indicates that the design process does not save the defined aggregations to the aggregation design when the command is completed.</span></span>  
  
 <span data-ttu-id="7993e-164">Lorsque la première commande `DesignAggregations` aboutit, elle retourne un ensemble de lignes qui contient des statistiques de conception.</span><span class="sxs-lookup"><span data-stu-id="7993e-164">When the first `DesignAggregations` command finishes, the command returns a rowset that contains design statistics.</span></span> <span data-ttu-id="7993e-165">Vous pouvez évaluer ces statistiques pour déterminer si le processus de conception doit continuer ou s'il est terminé.</span><span class="sxs-lookup"><span data-stu-id="7993e-165">You can evaluate these design statistics to determine whether the design process should continue or whether the design process is finished.</span></span> <span data-ttu-id="7993e-166">Si le processus doit continuer, vous devez envoyer une autre commande `DesignAggregations` qui contient les valeurs `Steps` et `Time` auxquelles se limite cette étape du processus de conception.</span><span class="sxs-lookup"><span data-stu-id="7993e-166">If the process should continue, you then send another `DesignAggregations` command that contains the `Steps` and `Time` values with which this step of the design process is limited.</span></span> <span data-ttu-id="7993e-167">Vous évaluez ensuite les statistiques obtenues et vous déterminez si le processus de conception doit continuer.</span><span class="sxs-lookup"><span data-stu-id="7993e-167">You evaluate the resulting statistics and then determine whether the design process should continue.</span></span> <span data-ttu-id="7993e-168">Ce processus itératif d'envoi de commandes `DesignAggregations` et d'évaluation des résultats se poursuit tant que vous n'avez pas atteint vos objectifs et que vous n'avez pas défini un ensemble d'agrégations approprié.</span><span class="sxs-lookup"><span data-stu-id="7993e-168">This iterative process of sending `DesignAggregations` commands and evaluating the results continues until you reach your goals and have a appropriate set of aggregations defined.</span></span>  
  
 <span data-ttu-id="7993e-169">Une fois que vous être satisfait de l'ensemble d'agrégations, vous devez envoyer une dernière commande `DesignAggregations`.</span><span class="sxs-lookup"><span data-stu-id="7993e-169">After you have reached the set of aggregations that you want, you send one final `DesignAggregations` command.</span></span> <span data-ttu-id="7993e-170">La propriété `DesignAggregations` de cette commande finale `Steps` doit avoir la valeur 1, tandis que sa propriété `Materialize` doit être définie à true.</span><span class="sxs-lookup"><span data-stu-id="7993e-170">This final `DesignAggregations` command should have its `Steps` property set to 1 and its `Materialize` property set to true.</span></span> <span data-ttu-id="7993e-171">En utilisant ces paramètres, cette dernière commande `DesignAggregations` met fin au processus de conception et enregistre l'agrégation définie dans la conception d'agrégation.</span><span class="sxs-lookup"><span data-stu-id="7993e-171">By using these settings, this final `DesignAggregations` command completes the design process and saves the defined aggregation to the aggregation design.</span></span>  
  
### <a name="designing-aggregations-using-a-batch-process"></a><span data-ttu-id="7993e-172">Conception d'agrégations au moyen d'un processus de traitement par lots</span><span class="sxs-lookup"><span data-stu-id="7993e-172">Designing Aggregations Using a Batch Process</span></span>  
 <span data-ttu-id="7993e-173">Vous pouvez également concevoir des agrégations dans un processus de traitement par lots en envoyant une commande `DesignAggregations` unique qui contient les valeurs des propriétés `Steps`, `Time`, `Storage` et `Optimization` sur lesquelles porte et se limite l'ensemble du processus de conception.</span><span class="sxs-lookup"><span data-stu-id="7993e-173">You can also design aggregations in a batch process by sending a single `DesignAggregations` command that contains the `Steps`, `Time`, `Storage`, and `Optimization` property values on which the whole design process is targeted and limited.</span></span> <span data-ttu-id="7993e-174">Si vous souhaitez recourir à l'optimisation basée sur l'utilisation, les requêtes d'objectif sur lesquelles porte le processus de conception doivent également être incluses dans la propriété `Queries`.</span><span class="sxs-lookup"><span data-stu-id="7993e-174">If you want usage-based optimization, the goal queries on which the design process is targeted should also be included in the `Queries` property.</span></span> <span data-ttu-id="7993e-175">De même, veillez à ce que la propriété `Materialize` soit définie à true pour que le processus de conception enregistre les agrégations définies dans la conception d'agrégation dès que la commande aboutit.</span><span class="sxs-lookup"><span data-stu-id="7993e-175">Also make sure that the `Materialize` property is set to true, so that the design process saves the defined aggregations to the aggregation design when the command finishes.</span></span>  
  
 <span data-ttu-id="7993e-176">Vous pouvez concevoir des agrégations en utilisant un processus de traitement par lots dans le cadre d'une session implicite ou explicite.</span><span class="sxs-lookup"><span data-stu-id="7993e-176">You can design aggregations using a batch process in either an implicit or explicit session.</span></span> <span data-ttu-id="7993e-177">Pour plus d’informations sur les sessions implicites et explicites, consultez [gestion des connexions et des sessions &#40;XMLA&#41;](managing-connections-and-sessions-xmla.md).</span><span class="sxs-lookup"><span data-stu-id="7993e-177">For more information about implicit and explicit sessions, see [Managing Connections and Sessions &#40;XMLA&#41;](managing-connections-and-sessions-xmla.md).</span></span>  
  
## <a name="returning-design-statistics"></a><span data-ttu-id="7993e-178">Retour des statistiques de conception</span><span class="sxs-lookup"><span data-stu-id="7993e-178">Returning Design Statistics</span></span>  
 <span data-ttu-id="7993e-179">Au moment où la commande `DesignAggregations` restitue le contrôle à l'application cliente, elle retourne un ensemble de lignes tenant sur une seule ligne qui représente les statistiques de conception pour la commande.</span><span class="sxs-lookup"><span data-stu-id="7993e-179">When the `DesignAggregations` command returns control to the client application, the command returns a rowset that contains a single row representing the design statistics for the command.</span></span> <span data-ttu-id="7993e-180">Cet ensemble de lignes se compose des colonnes répertoriées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="7993e-180">The rowset contains the columns listed in the following table.</span></span>  
  
|<span data-ttu-id="7993e-181">Colonne</span><span class="sxs-lookup"><span data-stu-id="7993e-181">Column</span></span>|<span data-ttu-id="7993e-182">Type de données</span><span class="sxs-lookup"><span data-stu-id="7993e-182">Data type</span></span>|<span data-ttu-id="7993e-183">Description</span><span class="sxs-lookup"><span data-stu-id="7993e-183">Description</span></span>|  
|------------|---------------|-----------------|  
|<span data-ttu-id="7993e-184">Étapes</span><span class="sxs-lookup"><span data-stu-id="7993e-184">Steps</span></span>|<span data-ttu-id="7993e-185">Integer</span><span class="sxs-lookup"><span data-stu-id="7993e-185">Integer</span></span>|<span data-ttu-id="7993e-186">Nombre d'étapes parcourues par la commande avant de restituer le contrôle à l'application cliente.</span><span class="sxs-lookup"><span data-stu-id="7993e-186">The number of steps taken by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="7993e-187">Temps</span><span class="sxs-lookup"><span data-stu-id="7993e-187">Time</span></span>|<span data-ttu-id="7993e-188">Entier long</span><span class="sxs-lookup"><span data-stu-id="7993e-188">Long integer</span></span>|<span data-ttu-id="7993e-189">Temps en millisecondes nécessaire à la commande pour restituer le contrôle à l'application cliente.</span><span class="sxs-lookup"><span data-stu-id="7993e-189">The number of milliseconds taken by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="7993e-190">Optimisation</span><span class="sxs-lookup"><span data-stu-id="7993e-190">Optimization</span></span>|<span data-ttu-id="7993e-191">Double</span><span class="sxs-lookup"><span data-stu-id="7993e-191">Double</span></span>|<span data-ttu-id="7993e-192">Estimation du pourcentage d'amélioration des performances atteint par la commande avant de restituer le contrôle à l'application cliente.</span><span class="sxs-lookup"><span data-stu-id="7993e-192">The estimated percentage of performance improvement achieved by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="7993e-193">Stockage</span><span class="sxs-lookup"><span data-stu-id="7993e-193">Storage</span></span>|<span data-ttu-id="7993e-194">Entier long</span><span class="sxs-lookup"><span data-stu-id="7993e-194">Long integer</span></span>|<span data-ttu-id="7993e-195">Estimation du nombre d'octets nécessaires à la commande pour restituer le contrôle à l'application cliente.</span><span class="sxs-lookup"><span data-stu-id="7993e-195">The estimated number of bytes taken by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="7993e-196">Agrégations</span><span class="sxs-lookup"><span data-stu-id="7993e-196">Aggregations</span></span>|<span data-ttu-id="7993e-197">Entier long</span><span class="sxs-lookup"><span data-stu-id="7993e-197">Long integer</span></span>|<span data-ttu-id="7993e-198">Nombre d'agrégations définies par la commande avant de restituer le contrôle à l'application cliente.</span><span class="sxs-lookup"><span data-stu-id="7993e-198">The number of aggregations defined by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="7993e-199">LastStep</span><span class="sxs-lookup"><span data-stu-id="7993e-199">LastStep</span></span>|<span data-ttu-id="7993e-200">Boolean</span><span class="sxs-lookup"><span data-stu-id="7993e-200">Boolean</span></span>|<span data-ttu-id="7993e-201">Indique si les données contenues dans l'ensemble de lignes correspondent à la dernière étape du processus de conception.</span><span class="sxs-lookup"><span data-stu-id="7993e-201">Indicates whether the data in the rowset represents the last step in the design process.</span></span> <span data-ttu-id="7993e-202">Si la propriété `Materialize` de la commande a été définie à true, la valeur de cette colonne est définie à true.</span><span class="sxs-lookup"><span data-stu-id="7993e-202">If the `Materialize` property of the command was set to true,  the value of this column is set to true.</span></span>|  
  
 <span data-ttu-id="7993e-203">Vous pouvez utiliser les statistiques de conception contenues dans l'ensemble de lignes après chaque commande `DesignAggregations`, que ce soit dans le cadre d'une conception itérative ou dans celui d'une conception par lots.</span><span class="sxs-lookup"><span data-stu-id="7993e-203">You can use the design statistics that are contained in the rowset returned after each `DesignAggregations` command in both iterative and batch design.</span></span> <span data-ttu-id="7993e-204">Dans le cadre d'une conception itérative, vous pouvez utiliser les statistiques de conception pour déterminer et afficher l'état d'avancement.</span><span class="sxs-lookup"><span data-stu-id="7993e-204">In iterative design, you can use the design statistics to determine and display progress.</span></span> <span data-ttu-id="7993e-205">Lorsque vous concevez des agrégations par lots, vous pouvez utiliser les statistiques de conception pour déterminer le nombre d'agrégations créés par la commande.</span><span class="sxs-lookup"><span data-stu-id="7993e-205">When you are designing aggregations in batch, you can use the design statistics to determine the number of aggregations created by the command.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7993e-206">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7993e-206">See Also</span></span>  
 [<span data-ttu-id="7993e-207">Développement avec XMLA dans Analysis Services</span><span class="sxs-lookup"><span data-stu-id="7993e-207">Developing with XMLA in Analysis Services</span></span>](developing-with-xmla-in-analysis-services.md)  
  
  
