---
title: Matrice de classification (compléments d’exploration de données SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining models, validating
- classification matrix
- confusion table
- mining models, testing
ms.assetid: d6f620f4-39af-4714-9628-28ce3c361fca
author: minewiskan
ms.author: owend
ms.openlocfilehash: a930f2628ac41fc5886cf41d7ec0ad274b42bf2f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87602522"
---
# <a name="classification-matrix-sql-server-data-mining-add-ins"></a><span data-ttu-id="07b21-102">Matrice de classification (Compléments d'exploration de données SQL Server)</span><span class="sxs-lookup"><span data-stu-id="07b21-102">Classification Matrix (SQL Server Data Mining Add-ins)</span></span>
  <span data-ttu-id="07b21-103">![Bouton Matrice de classification, ruban Exploration de données](media/dmc-cmatrix.gif "Bouton Matrice de classification, ruban Exploration de données")</span><span class="sxs-lookup"><span data-stu-id="07b21-103">![Classification Matrix button, Data Mining ribbon](media/dmc-cmatrix.gif "Classification Matrix button, Data Mining ribbon")</span></span>  
  
 <span data-ttu-id="07b21-104">Utilisez la matrice de classification pour évaluer la précision d'un modèle de prédiction.</span><span class="sxs-lookup"><span data-stu-id="07b21-104">You can use the classification matrix to assess the accuracy of a model for prediction.</span></span> <span data-ttu-id="07b21-105">Pour créer une matrice de classification, vous exécutez un jeu de données de test dans le modèle, et l'outil matrice de classification compare les valeurs réelles du jeu de test par rapport aux prédictions effectuées par le modèle.</span><span class="sxs-lookup"><span data-stu-id="07b21-105">To generate a classification matrix, you run a set of testing data through the model, and the classification matrix tool compares the actual values from the testing set against the predictions made by the model.</span></span> <span data-ttu-id="07b21-106">Consultez la matrice pour indiquer, d'un seul coup d'œil, la fréquence à laquelle le modèle est correct, et la fréquence à laquelle les prédictions sont incorrectes.</span><span class="sxs-lookup"><span data-stu-id="07b21-106">By looking at the matrix, you can tell at a glance how often the model is correct, and how often it predicts wrongly.</span></span>  
  
 <span data-ttu-id="07b21-107">Dans ces compléments, utilisez l’Assistant **matrice de classification** pour sélectionner un modèle, spécifier les données de test, puis générer une matrice de résultats.</span><span class="sxs-lookup"><span data-stu-id="07b21-107">In these add-ins, use the **Classification Matrix** wizard to select a model, specify the testing data, and then generate a results matrix.</span></span>  
  
## <a name="how-to-read-a-classification-matrix"></a><span data-ttu-id="07b21-108">Procédure : lire une matrice de classification</span><span class="sxs-lookup"><span data-stu-id="07b21-108">How to Read a Classification Matrix</span></span>  
 <span data-ttu-id="07b21-109">Supposons que votre objectif est de concevoir un programme de fidélisation des clients, puis d’affecter des clients aux catégories appropriées, afin que vous puissiez leur fournir le niveau d’incentives approprié.</span><span class="sxs-lookup"><span data-stu-id="07b21-109">Let's assume your objective is to design a customer loyalty program and then assign customers to appropriate categories, so that you can provide them with the appropriate level of incentives.</span></span> <span data-ttu-id="07b21-110">Vous avez mis en œuvre trois niveaux pour le programme de récompense (bronze, Silver et Gold) et nous l’avons donné aux clients dans le cas d’une phase d’essai.</span><span class="sxs-lookup"><span data-stu-id="07b21-110">You have implemented three levels for the reward program -- bronze, silver, and gold - and given these out to customers in a trial phase.</span></span> <span data-ttu-id="07b21-111">Vous avez également conçu un modèle qui analyse les clients et prédit les catégories correctes.</span><span class="sxs-lookup"><span data-stu-id="07b21-111">You have also designed a model that analyzes customers and predicts the correct categories.</span></span> <span data-ttu-id="07b21-112">Maintenant vous allez utiliser la matrice de classification sur les données de test pour déterminer la qualité du modèle est prédire l'offre correcte pour tous les clients.</span><span class="sxs-lookup"><span data-stu-id="07b21-112">Now you will use the classification matrix on the trial data to determine how good the model was at predicting the correct offer for all customers.</span></span>  
  
 <span data-ttu-id="07b21-113">La table de la matrice de classification vous indique combien de clients sont affectés à chaque catégorie selon le modèle, puis compare le résultat au nombre de clients qui se sont réellement inscrits pour chaque niveau de récompense.</span><span class="sxs-lookup"><span data-stu-id="07b21-113">The table from the classification matrix tells you how many customers would be assigned to each category based on the model, and compares that result to the number of customers who actually signed up for each reward level.</span></span>  
  
||<span data-ttu-id="07b21-114">Bronze (réel)</span><span class="sxs-lookup"><span data-stu-id="07b21-114">Bronze (Actual)</span></span>|<span data-ttu-id="07b21-115">Or (réel)</span><span class="sxs-lookup"><span data-stu-id="07b21-115">Gold (Actual)</span></span>|<span data-ttu-id="07b21-116">Argent (réel)</span><span class="sxs-lookup"><span data-stu-id="07b21-116">Silver (Actual)</span></span>|  
|-|-----------------------|---------------------|-----------------------|  
|<span data-ttu-id="07b21-117">Bronze</span><span class="sxs-lookup"><span data-stu-id="07b21-117">Bronze</span></span>|<span data-ttu-id="07b21-118">**94,45%**</span><span class="sxs-lookup"><span data-stu-id="07b21-118">**94.45%**</span></span>|<span data-ttu-id="07b21-119">15,18%</span><span class="sxs-lookup"><span data-stu-id="07b21-119">15.18%</span></span>|<span data-ttu-id="07b21-120">1,70 %</span><span class="sxs-lookup"><span data-stu-id="07b21-120">1.70%</span></span>|  
|<span data-ttu-id="07b21-121">Or</span><span class="sxs-lookup"><span data-stu-id="07b21-121">Gold</span></span>|<span data-ttu-id="07b21-122">2,72 %</span><span class="sxs-lookup"><span data-stu-id="07b21-122">2.72%</span></span>|<span data-ttu-id="07b21-123">**84,82%**</span><span class="sxs-lookup"><span data-stu-id="07b21-123">**84.82%**</span></span>|<span data-ttu-id="07b21-124">0.00%</span><span class="sxs-lookup"><span data-stu-id="07b21-124">0.00%</span></span>|  
|<span data-ttu-id="07b21-125">Argent</span><span class="sxs-lookup"><span data-stu-id="07b21-125">Silver</span></span>|<span data-ttu-id="07b21-126">1,84%</span><span class="sxs-lookup"><span data-stu-id="07b21-126">1.84%</span></span>|<span data-ttu-id="07b21-127">0.00%</span><span class="sxs-lookup"><span data-stu-id="07b21-127">0.00%</span></span>|<span data-ttu-id="07b21-128">**93,80%**</span><span class="sxs-lookup"><span data-stu-id="07b21-128">**93.80%**</span></span>|  
|<span data-ttu-id="07b21-129">*Correctrices*</span><span class="sxs-lookup"><span data-stu-id="07b21-129">*Correct*</span></span>|<span data-ttu-id="07b21-130">*95,45%*</span><span class="sxs-lookup"><span data-stu-id="07b21-130">*95.45%*</span></span>|<span data-ttu-id="07b21-131">*84,82%*</span><span class="sxs-lookup"><span data-stu-id="07b21-131">*84.82%*</span></span>|<span data-ttu-id="07b21-132">*98,30%*</span><span class="sxs-lookup"><span data-stu-id="07b21-132">*98.30%*</span></span>|  
|<span data-ttu-id="07b21-133">*Mal classés*</span><span class="sxs-lookup"><span data-stu-id="07b21-133">*Misclassified*</span></span>|<span data-ttu-id="07b21-134">*4,55%*</span><span class="sxs-lookup"><span data-stu-id="07b21-134">*4.55%*</span></span>|<span data-ttu-id="07b21-135">*15,18%*</span><span class="sxs-lookup"><span data-stu-id="07b21-135">*15.18%*</span></span>|<span data-ttu-id="07b21-136">*1,70%*</span><span class="sxs-lookup"><span data-stu-id="07b21-136">*1.70%*</span></span>|  
  
-   <span data-ttu-id="07b21-137">Chaque colonne indique les valeurs réelles dans le jeu de données de test.</span><span class="sxs-lookup"><span data-stu-id="07b21-137">Each column shows the actual values in the testing dataset.</span></span>  
  
-   <span data-ttu-id="07b21-138">Chaque ligne affiche les valeurs prédites.</span><span class="sxs-lookup"><span data-stu-id="07b21-138">Each row shows the predicted values.</span></span>  
  
-   <span data-ttu-id="07b21-139">Les valeurs en gras, disposées en diagonale entre le coin supérieur gauche et le coin inférieur droit de la matrice, correspondent au nombre correct dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="07b21-139">The values in boldface, which run diagonally from the upper-left corner to the lower-right corner of the matrix, give you the picture of what the model got right.</span></span>  
  
-   <span data-ttu-id="07b21-140">Toutes les autres valeurs en dehors de la diagonale représentent des erreurs.</span><span class="sxs-lookup"><span data-stu-id="07b21-140">All other values outside the diagonal represent errors.</span></span> <span data-ttu-id="07b21-141">Certaines erreurs sont des faux positifs, c'est-à-dire que le modèle a prédit que le client va rejoindre le programme au niveau Or, ce qui est incorrect.</span><span class="sxs-lookup"><span data-stu-id="07b21-141">Some errors are false positives, meaning the model predicted the customer would join the gold program but was wrong.</span></span>  <span data-ttu-id="07b21-142">Selon votre domaine, les faux positifs s'avèrent très coûteux.</span><span class="sxs-lookup"><span data-stu-id="07b21-142">Depending on your domain, false positives can be very costly.</span></span>  
  
     <span data-ttu-id="07b21-143">D'autres sont des faux négatifs, ce qui signifie que le modèle a prédit que le client ne serait pas intéressé bien qu'il ait rejoint le programme.</span><span class="sxs-lookup"><span data-stu-id="07b21-143">Others are false negatives, meaning the model predicted the customer would not be interested though he or she did join the program.</span></span> <span data-ttu-id="07b21-144">Là encore, selon le domaine à problème, le coût de l'occasion perdue peut être significatif.</span><span class="sxs-lookup"><span data-stu-id="07b21-144">Again, depending on the problem domain, this lost opportunity cost might be significant.</span></span>  
  
## <a name="using-the-classification-matrix-wizard"></a><span data-ttu-id="07b21-145">Utilisation de l'Assistant Matrice de classification</span><span class="sxs-lookup"><span data-stu-id="07b21-145">Using the Classification Matrix Wizard</span></span>  
  
1.  <span data-ttu-id="07b21-146">Sélectionnez le modèle d'exploration de données sur lequel vous voulez baser les prédictions.</span><span class="sxs-lookup"><span data-stu-id="07b21-146">Select the mining model on which to base predictions.</span></span>  
  
2.  <span data-ttu-id="07b21-147">Sélectionnez une source de nouvelles données de test, ou utilisez les données de test enregistrées avec la structure.</span><span class="sxs-lookup"><span data-stu-id="07b21-147">Select a source of new test data, or use testing data that was saved with the structure.</span></span>  
  
3.  <span data-ttu-id="07b21-148">Sélectionnez la colonne pour laquelle vous souhaitez évaluer la précision.</span><span class="sxs-lookup"><span data-stu-id="07b21-148">Select the column for which you want to assess accuracy.</span></span> <span data-ttu-id="07b21-149">Vous pouvez choisir une seule colonne lorsque vous créez une matrice, mais la colonne peut avoir plusieurs valeurs.</span><span class="sxs-lookup"><span data-stu-id="07b21-149">You can choose only one column when creating a matrix, but the column can have multiple values.</span></span>  
  
     <span data-ttu-id="07b21-150">Conseil : Il peut être difficile d'interpréter une matrice de classification si votre colonne prédictible possède plusieurs colonnes à comparer.</span><span class="sxs-lookup"><span data-stu-id="07b21-150">Tip: It can be difficult to interpret a classification matrix if your predictable column has many columns to compare.</span></span>  
  
     <span data-ttu-id="07b21-151">Dans la page **Sélectionner les colonnes à prédire** , vous pouvez également spécifier si vous souhaitez afficher le nombre de valeurs incorrectes et incorrectes, ou afficher un pourcentage.</span><span class="sxs-lookup"><span data-stu-id="07b21-151">In the **Select Columns to Predict** page, you can also specify whether you want to display the count of incorrect and incorrect values, or display a percentage.</span></span>  
  
4.  <span data-ttu-id="07b21-152">Sur la page Sélectionner les données source, indiquez si vous utilisez des données de test externes, ou les données de test enregistrées avec le modèle.</span><span class="sxs-lookup"><span data-stu-id="07b21-152">On the Select Source Data page, indicate whether you are using external testing data, or the test data saved with the model.</span></span>  
  
5.  <span data-ttu-id="07b21-153">Si vous utilisez des données de test externes, vous devez mapper le modèle aux colonnes d’entrée dans la page **spécifier la relation** de l’Assistant.</span><span class="sxs-lookup"><span data-stu-id="07b21-153">If you use external testing data, you need to map the model to the input columns on the **Specify Relationship** page of the wizard.</span></span>  
  
     <span data-ttu-id="07b21-154">Si vous utilisez le jeu de données de test incorporé, le mappage est effectué automatiquement</span><span class="sxs-lookup"><span data-stu-id="07b21-154">If you use the embedded test data set, the mapping is done for you</span></span>  
  
6.  <span data-ttu-id="07b21-155">Cliquez sur **Terminer** pour exécuter des prédictions sur le modèle et générer la matrice de classification.</span><span class="sxs-lookup"><span data-stu-id="07b21-155">Click **Finish** to run predictions against the model and generate the classification matrix.</span></span>  
  
     <span data-ttu-id="07b21-156">L'Assistant crée un rapport contenant la matrice de classification ainsi que d'autres détails à propos de l'analyse.</span><span class="sxs-lookup"><span data-stu-id="07b21-156">The wizard creates a report that contains the classification matrix and other details about the analysis.</span></span> <span data-ttu-id="07b21-157">Ce rapport est enregistré en tant que table dans Excel, avec un résumé au-dessus du rapport qui indique combien de cas ont été prédits correctement et le nombre de prédictions incorrectes.</span><span class="sxs-lookup"><span data-stu-id="07b21-157">This report is saved as a table in Excel, with a summary above the report that indicates how many cases were correctly predicted and how many predictions were wrong.</span></span>  
  
### <a name="requirements"></a><span data-ttu-id="07b21-158">Spécifications</span><span class="sxs-lookup"><span data-stu-id="07b21-158">Requirements</span></span>  
  
-   <span data-ttu-id="07b21-159">Pour créer une matrice de classification, vous devez avoir accès à un modèle existant qui prend en charge les mesures de précision.</span><span class="sxs-lookup"><span data-stu-id="07b21-159">To create a classification matrix, you must have access to an existing mining model that supports accuracy measurement.</span></span> <span data-ttu-id="07b21-160">Les modèles de prévision et les modèles d'association ne peuvent pas être mesurés à l'aide de cet outil.</span><span class="sxs-lookup"><span data-stu-id="07b21-160">Forecasting models and association models cannot be measured using this tool.</span></span>  
  
-   <span data-ttu-id="07b21-161">Le modèle que vous mesurez doit prédire une valeur discrète ou qui a déjà été discrétisée.</span><span class="sxs-lookup"><span data-stu-id="07b21-161">The model that you are measuring needs to predict a value that is either discrete or that has already been discretized.</span></span>  
  
-   <span data-ttu-id="07b21-162">Si vous n’avez pas utilisé l’option pour enregistrer un jeu de test avec votre structure ou modèle, vous devez obtenir un jeu de données d’entrée qui a essentiellement le même nombre de colonnes, avec des types de données correspondants, comme ceux utilisés dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="07b21-162">If you didn't use the option to save a testing set along with your structure or model, you need to obtain an input data set that has essentially the same number of columns, with matching data types, as those used in the model.</span></span>  
  
-   <span data-ttu-id="07b21-163">Le modèle d'exploration de données et les nouvelles données que vous utilisez à des fins de test doivent contenir au moins une colonne qui peut être prédite, et les colonnes doivent contenir le même type de données.</span><span class="sxs-lookup"><span data-stu-id="07b21-163">Both the data mining model and the new data that you are using for testing must contain at least one column that can be predicted, and the columns must contain the same kind of data.</span></span>  
  
### <a name="known-issues"></a><span data-ttu-id="07b21-164">Problèmes connus</span><span class="sxs-lookup"><span data-stu-id="07b21-164">Known Issues</span></span>  
 <span data-ttu-id="07b21-165">Dans SQL Server 2012 et SQL Server 2014, la possibilité de mapper le jeu de données de test interne au modèle ne fonctionne pas dans l’outil **matrice de classification** .</span><span class="sxs-lookup"><span data-stu-id="07b21-165">In SQL Server 2012 and SQL Server 2014, the ability to map the internal test data set to the model is not working in the **Classification Matrix** tool.</span></span> <span data-ttu-id="07b21-166">Toutefois, vous pouvez spécifier un jeu de données externe, puis sélectionner le jeu d'apprentissage comme entrée pour déterminer l'erreur dans le jeu de données d'origine.</span><span class="sxs-lookup"><span data-stu-id="07b21-166">However, you can specify an external data set, and then select the training set as the input to determine error on the original data set.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="07b21-167">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="07b21-167">See Also</span></span>  
 <span data-ttu-id="07b21-168">[Validation des modèles et utilisation de modèles pour la prédiction &#40;compléments d’exploration de données pour Excel&#41;](validating-models-and-using-models-for-prediction-data-mining-add-ins-for-excel.md) </span><span class="sxs-lookup"><span data-stu-id="07b21-168">[Validating Models and Using Models for Prediction &#40;Data Mining Add-ins for Excel&#41;](validating-models-and-using-models-for-prediction-data-mining-add-ins-for-excel.md) </span></span>  
 <span data-ttu-id="07b21-169">[Explorez les &#40;de données SQL Server les compléments d’exploration de données&#41;](explore-data-sql-server-data-mining-add-ins.md) </span><span class="sxs-lookup"><span data-stu-id="07b21-169">[Explore Data &#40;SQL Server Data Mining Add-ins&#41;](explore-data-sql-server-data-mining-add-ins.md) </span></span>  
 [<span data-ttu-id="07b21-170">Détecter les catégories &#40;les outils d’analyse de table pour Excel&#41;</span><span class="sxs-lookup"><span data-stu-id="07b21-170">Detect Categories &#40;Table Analysis Tools for Excel&#41;</span></span>](detect-categories-table-analysis-tools-for-excel.md)  
  
  
