---
title: Configurer le stockage de chaînes pour les dimensions et les partitions | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 987f6cfc-da82-4b2e-96ef-a8af88339e5f
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2817af382599d4495dddbd8951a72a47629cf824
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87705647"
---
# <a name="configure-string-storage-for-dimensions-and-partitions"></a><span data-ttu-id="d8ecd-102">Configurer le stockage de chaînes pour des dimensions et des partitions</span><span class="sxs-lookup"><span data-stu-id="d8ecd-102">Configure String Storage for Dimensions and Partitions</span></span>
  <span data-ttu-id="d8ecd-103">Vous pouvez reconfigurer le stockage des chaînes pour adapter les chaînes de très grande taille dans les attributs de dimension ou les partitions qui dépassent la limite de taille de fichier de 4 Go pour les magasins de chaînes.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-103">You can reconfigure string storage to accommodate very large strings in dimension attributes or partitions that exceed the 4 GB file size limit for string stores.</span></span> <span data-ttu-id="d8ecd-104">Si vos dimensions ou partitions incluent des magasins de chaînes de cette taille, vous pouvez contourner cette contrainte de taille de fichier en modifiant la propriété **StringStoresCompatibilityLevel** au niveau de la dimension ou de la partition, pour les objets locaux et les objets liés (locaux ou distants).</span><span class="sxs-lookup"><span data-stu-id="d8ecd-104">If your dimensions or partitions include string stores of this size, you can work around the file size constraint by changing the **StringStoresCompatibilityLevel** property at the dimension or partition level, for local as well as linked (local or remote) objects.</span></span>  
  
 <span data-ttu-id="d8ecd-105">Notez que vous pouvez augmenter le stockage des chaînes seulement sur les objets qui nécessitent une capacité supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-105">Note that you can increase string storage on just those objects that require additional capacity.</span></span> <span data-ttu-id="d8ecd-106">Dans la plupart des modèles multidimensionnels, des données de chaîne sont associées aux dimensions.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-106">In most multidimensional models, string data is associated with dimensions.</span></span> <span data-ttu-id="d8ecd-107">Toutefois, les partitions qui contiennent des mesures de comptage distinctes sur les chaînes peuvent également bénéficier de ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-107">However, partitions that contain distinct count measures on top of strings can also benefit from this setting.</span></span> <span data-ttu-id="d8ecd-108">Le paramètre ne concernant que les chaînes, les données numériques ne sont pas affectées.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-108">Because the setting is for strings, numeric data is unaffected.</span></span>  
  
 <span data-ttu-id="d8ecd-109">Les valeurs valides pour cette propriété sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="d8ecd-109">Valid values for this property include the following:</span></span>  
  
|<span data-ttu-id="d8ecd-110">Valeur</span><span class="sxs-lookup"><span data-stu-id="d8ecd-110">Value</span></span>|<span data-ttu-id="d8ecd-111">Description</span><span class="sxs-lookup"><span data-stu-id="d8ecd-111">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="d8ecd-112">**1050**</span><span class="sxs-lookup"><span data-stu-id="d8ecd-112">**1050**</span></span>|<span data-ttu-id="d8ecd-113">Spécifie l'architecture de stockage de chaînes par défaut, assujettie à une limite de taille de fichier de 4 Go par magasin.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-113">Specifies the default string storage architecture, subject to a 4 GB maximum file size per store.</span></span>|  
|<span data-ttu-id="d8ecd-114">**1100**</span><span class="sxs-lookup"><span data-stu-id="d8ecd-114">**1100**</span></span>|<span data-ttu-id="d8ecd-115">Spécifie le stockage de chaînes plus important, prend en charge jusqu'à 4 milliards de chaînes uniques par magasin.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-115">Specifies larger string storage, supports up to 4 billion unique strings per store.</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="d8ecd-116">La modification des paramètres de stockage de chaînes d'un objet requiert que vous recyclez l'objet lui-même et tout objet dépendant.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-116">Changing the string storage settings of an object requires that you reprocess the object itself and any dependent object.</span></span> <span data-ttu-id="d8ecd-117">Le traitement est obligatoire pour compléter la procédure.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-117">Processing is required to complete the procedure.</span></span>  
  
 <span data-ttu-id="d8ecd-118">Cette rubrique contient les sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="d8ecd-118">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="d8ecd-119">À propos des magasins de chaînes</span><span class="sxs-lookup"><span data-stu-id="d8ecd-119">About String Stores</span></span>](#bkmk_background)  
  
-   [<span data-ttu-id="d8ecd-120">Composants requis</span><span class="sxs-lookup"><span data-stu-id="d8ecd-120">Prerequisites</span></span>](#bkmk_prereq)  
  
-   [<span data-ttu-id="d8ecd-121">Étape 1 : définir la propriété StringStoreCompatiblityLevel dans les outils de données SQL Server</span><span class="sxs-lookup"><span data-stu-id="d8ecd-121">Step 1: Set the StringStoreCompatiblityLevel Property in SQL Server Data Tools</span></span>](#bkmk_step1)  
  
-   [<span data-ttu-id="d8ecd-122">Étape 2 : traitement des objets</span><span class="sxs-lookup"><span data-stu-id="d8ecd-122">Step 2: Process the Objects</span></span>](#bkmk_step2)  
  
##  <a name="about-string-stores"></a><a name="bkmk_background"></a><span data-ttu-id="d8ecd-123">À propos des magasins de chaînes</span><span class="sxs-lookup"><span data-stu-id="d8ecd-123">About String Stores</span></span>  
 <span data-ttu-id="d8ecd-124">La configuration du stockage des chaînes est facultative, ce qui signifie que même les nouvelles bases de données que vous créez utilisent l'architecture du magasin de chaînes par défaut, dont la taille de fichier maximale est limitée à 4 Go.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-124">String storage configuration is optional, which means that even new databases that you create use the default string store architecture that is subject to the 4 GB maximum file size.</span></span> <span data-ttu-id="d8ecd-125">L'utilisation de l'architecture de stockage de chaînes plus important a un impact limité mais notable sur les performances.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-125">Using the larger string storage architecture has a small but noticeable impact on performance.</span></span> <span data-ttu-id="d8ecd-126">Vous devez l'utiliser uniquement si vos fichiers de stockage de chaînes s'approchent de ou atteignent la limite de 4 Go.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-126">You should use it only if your string storage files are close to or at the maximum 4 GB limit.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d8ecd-127">Ce paramètre ne s'applique pas aux modèles d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-127">This setting does not apply to data mining models.</span></span> <span data-ttu-id="d8ecd-128">Actuellement, il est toujours possible de rencontrer la limitation de taille de fichier en Go sur les modèles contenant des structures d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-128">Currently, it is still possible to encounter the GB file size limitation on models containing data mining structures.</span></span>  
  
 <span data-ttu-id="d8ecd-129">Dans une base de données multidimensionnelle Analysis Services, les chaînes sont stockées séparément des données numériques pour permettre des optimisations selon les caractéristiques des données.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-129">In an Analysis Services multidimensional database, strings are stored separately from numeric data to allow for optimizations based on characteristics of the data.</span></span> <span data-ttu-id="d8ecd-130">Les données de chaîne se trouvent en général dans les attributs de dimension qui représentent des noms ou des descriptions.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-130">String data is typically found in dimension attributes that represent names or descriptions.</span></span> <span data-ttu-id="d8ecd-131">Il est également possible de trouver des données de chaîne dans des mesures de comptage de valeurs.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-131">It is also possible to have string data in distinct count measures.</span></span> <span data-ttu-id="d8ecd-132">Les données de chaîne peuvent également être utilisées dans les clés.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-132">String data can also be used in keys.</span></span>  
  
 <span data-ttu-id="d8ecd-133">Vous pouvez identifier un magasin de chaînes par son extension de fichier (par exemple les fichiers .asstore, .bstore, .ksstore ou les fichiers .string).</span><span class="sxs-lookup"><span data-stu-id="d8ecd-133">You can identify a string store by its file extension (for example, asstore, .bstore, .ksstore, or .string files).</span></span> <span data-ttu-id="d8ecd-134">Par défaut, chacun de ces fichiers est limité à une taille maximale de 4 Go.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-134">By default, each of these files is subject to a maximum 4 GB limit.</span></span> <span data-ttu-id="d8ecd-135">Dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], vous pouvez remplacer la taille de fichier maximale en spécifiant un autre mécanisme de stockage qui permette à un magasin de chaînes de croître selon les besoins.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-135">In [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], you can override the maximum file size by specifying an alternative storage mechanism that allows a string store to grow as needed.</span></span>  
  
 <span data-ttu-id="d8ecd-136">Par opposition avec l'architecture de stockage de chaînes par défaut qui limite la taille du fichier physique, le stockage de chaînes plus important est basé sur un nombre maximal de chaînes.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-136">In contrast with the default string storage architecture which limits the size of the physical file, larger string storage is based on a maximum number of strings.</span></span> <span data-ttu-id="d8ecd-137">La limite maximale pour le stockage de chaînes plus important est de 4 milliards de chaînes uniques ou de 4 milliards d'enregistrements, l'élément qui atteint le premier cette limite étant applicable.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-137">The maximum limit for larger string storage is 4 billion unique strings or 4 billion records, whichever occurs first.</span></span> <span data-ttu-id="d8ecd-138">Le stockage de chaînes plus important crée des enregistrements de taille égale, où chaque enregistrement est égal à une page de 64 Ko.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-138">Larger string storage creates records of an even size, where each record is equal to a 64K page.</span></span> <span data-ttu-id="d8ecd-139">Si vous avez des chaînes très longues qui ne rentre pas dans un seul enregistrement, votre limite effective sera inférieure à 4 milliards de chaînes.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-139">If you have very long strings that do not fit in a single record, your effective limit will be less than 4 billion strings.</span></span>  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="d8ecd-140">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="d8ecd-140">Prerequisites</span></span>  
 <span data-ttu-id="d8ecd-141">Vous devez avoir une version [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ou ultérieure d' [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d8ecd-141">You must have a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or later version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="d8ecd-142">Les dimensions et les partitions doivent utiliser le mode de stockage MOLAP.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-142">Dimensions and partitions must use MOLAP storage.</span></span>  
  
 <span data-ttu-id="d8ecd-143">Le niveau de compatibilité de la base de données doit être 1100.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-143">The database compatibility level must be set to 1100.</span></span> <span data-ttu-id="d8ecd-144">Si vous avez créé ou déployé une base de données en utilisant [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] et la version [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ou ultérieure d’ [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], le niveau de compatibilité de la base de données est déjà défini à 1100.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-144">If you created or deployed a database using [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] and the [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or later version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the database compatibility level is already set to 1100.</span></span> <span data-ttu-id="d8ecd-145">Si vous avez déplacé une base de données créée dans une version antérieure d’ [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] vers ssSQL11 ou ultérieur, vous devez mettre à jour le niveau de compatibilité.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-145">If you moved a database created in an earlier version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to ssSQL11 or later, you must update the compatibility level.</span></span> <span data-ttu-id="d8ecd-146">Pour les bases de données que vous déplacez, mais ne redéployez pas, vous pouvez utiliser [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] pour définir le niveau de compatibilité.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-146">For databases that you are moving, but not redeploying, you can use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to set the compatibility level.</span></span> <span data-ttu-id="d8ecd-147">Pour plus d’informations, consultez [définir le niveau de compatibilité d’une base de données multidimensionnelle &#40;Analysis Services&#41;](compatibility-level-of-a-multidimensional-database-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="d8ecd-147">For more information, see [Set the Compatibility Level of a Multidimensional Database &#40;Analysis Services&#41;](compatibility-level-of-a-multidimensional-database-analysis-services.md).</span></span>  
  
##  <a name="step-1-set-the-stringstorecompatiblitylevel-property-in-sql-server-data-tools"></a><a name="bkmk_step1"></a><span data-ttu-id="d8ecd-148">Étape 1 : définir la propriété StringStoreCompatiblityLevel dans SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="d8ecd-148">Step 1: Set the StringStoreCompatiblityLevel Property in SQL Server Data Tools</span></span>  
  
1.  <span data-ttu-id="d8ecd-149">Dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], ouvrez le projet qui contient les dimensions ou partitions à modifier.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-149">Using [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open the project that contains the dimensions or partitions you want to modify.</span></span>  
  
2.  <span data-ttu-id="d8ecd-150">Pour modifier le stockage de chaînes pour les dimensions, ouvrez l'Explorateur de solutions.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-150">To change the string storage for dimensions, open Solution Explorer.</span></span> <span data-ttu-id="d8ecd-151">Double-cliquez sur la dimension pour laquelle vous modifiez le stockage de chaînes.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-151">Double-click the dimension for which you are modifying string storage.</span></span>  
  
3.  <span data-ttu-id="d8ecd-152">Dans le Concepteur de dimensions, dans le volet Attributs, assurez-vous que le nœud parent de la dimension est sélectionné (par exemple, si la dimension est Clients, sélectionnez Clients et non l'un des attributs enfants).</span><span class="sxs-lookup"><span data-stu-id="d8ecd-152">In Dimension Designer, in the Attributes pane, make sure that the parent node of the dimension is selected (for example, if the dimension is Customers, select Customers and not one of the child attributes).</span></span>  
  
4.  <span data-ttu-id="d8ecd-153">Dans le volet Propriétés, dans la section Avancé, attribuez à **StringStoresCompatibilityLevel** la valeur **1100**.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-153">In the Properties pane, in the Advanced section, set **StringStoresCompatibilityLevel** to **1100**.</span></span> <span data-ttu-id="d8ecd-154">Recommencez pour les autres dimensions qui nécessitent un stockage plus important, sinon laissez les dimensions restantes définies sur la valeur **1050** .</span><span class="sxs-lookup"><span data-stu-id="d8ecd-154">Repeat for other dimensions that require larger storage, otherwise leave the remaining dimensions at the **1050** value.</span></span>  
  
5.  <span data-ttu-id="d8ecd-155">Pour les partitions, ouvrez un cube à partir de l'Explorateur de solutions.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-155">For partitions, open a cube from Solution Explorer.</span></span>  
  
6.  <span data-ttu-id="d8ecd-156">Cliquez sur l'onglet Partitions.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-156">Click the Partitions tab.</span></span>  
  
7.  <span data-ttu-id="d8ecd-157">Développez la partition, sélectionnez la partition qui nécessite une capacité de stockage supplémentaire, puis modifiez la propriété **StringStoresCompatibilityLevel** .</span><span class="sxs-lookup"><span data-stu-id="d8ecd-157">Expand the partition, select the partition that requires extra storage capacity, and then modify the **StringStoresCompatibilityLevel** property.</span></span>  
  
8.  <span data-ttu-id="d8ecd-158">Enregistrez le fichier .</span><span class="sxs-lookup"><span data-stu-id="d8ecd-158">Save the file.</span></span>  
  
##  <a name="step-2-process-the-objects"></a><a name="bkmk_step2"></a><span data-ttu-id="d8ecd-159">Étape 2 : traitement des objets</span><span class="sxs-lookup"><span data-stu-id="d8ecd-159">Step 2: Process the Objects</span></span>  
 <span data-ttu-id="d8ecd-160">La nouvelle architecture de stockage sera utilisée une fois que vous aurez traité les objets.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-160">The new storage architecture will be used after you process the objects.</span></span> <span data-ttu-id="d8ecd-161">Le traitement des objets prouve également que vous avez résolu les problèmes de limite de stockage parce que l'erreur qui signalait précédemment une condition de dépassement de capacité du magasin de chaînes ne devrait plus apparaître.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-161">Processing objects also proves you have successfully resolved storage constraint problem because the error that previously reported a string store overflow condition should no longer occur.</span></span>  
  
-   <span data-ttu-id="d8ecd-162">Dans l’Explorateur de solutions, cliquez avec le bouton droit sur la dimension que vous venez de modifier et sélectionnez **Traiter**.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-162">In Solution Explorer, right-click the dimension or you just modified and select **Process**.</span></span>  
  
 <span data-ttu-id="d8ecd-163">Vous devez utiliser l'option Traiter entièrement sur chaque objet qui utilise la nouvelle architecture du magasin de chaînes.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-163">You must use the Process Full option on each object that is using the new string store architecture.</span></span> <span data-ttu-id="d8ecd-164">Avant le traitement, veillez à exécuter une analyse d'impact sur la dimension pour vérifier si les objets dépendants doivent aussi être retraités.</span><span class="sxs-lookup"><span data-stu-id="d8ecd-164">Before processing, be sure to run an impact analysis on the dimension to check whether dependent objects also require reprocessing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d8ecd-165">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="d8ecd-165">See Also</span></span>  
 <span data-ttu-id="d8ecd-166">[Outils et approches pour le traitement des Analysis Services de &#40;&#41;](tools-and-approaches-for-processing-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="d8ecd-166">[Tools and Approaches for Processing &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md) </span></span>  
 <span data-ttu-id="d8ecd-167">[Options de traitement et paramètres &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="d8ecd-167">[Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md) </span></span>  
 <span data-ttu-id="d8ecd-168">[Traitement et modes de stockage des partitions](../multidimensional-models-olap-logical-cube-objects/partitions-partition-storage-modes-and-processing.md) </span><span class="sxs-lookup"><span data-stu-id="d8ecd-168">[Partition Storage Modes and Processing](../multidimensional-models-olap-logical-cube-objects/partitions-partition-storage-modes-and-processing.md) </span></span>  
 [<span data-ttu-id="d8ecd-169">Stockage de dimension</span><span class="sxs-lookup"><span data-stu-id="d8ecd-169">Dimension Storage</span></span>](../multidimensional-models-olap-logical-dimension-objects/dimensions-storage.md)  
  
  
