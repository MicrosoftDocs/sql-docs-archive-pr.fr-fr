---
title: Attacher et détacher des bases de données Analysis Services | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.ssms.detachdatabase.f1
- sql12.asvs.ssms.attachdatabase.f1
- sql12.asvs.ssmsimbi.AttachDatabase.f1
- sql12.asvs.ssmsimbi.DetachDatabase.f1
helpviewer_keywords:
- databases [Analysis Services], attach
- databases [Analysis Services], detach
ms.assetid: 41887413-2d47-49b8-8614-553cb799fb18
author: minewiskan
ms.author: owend
ms.openlocfilehash: cd72277970605691e06f3baacf167ea135343b3f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87614209"
---
# <a name="attach-and-detach-analysis-services-databases"></a><span data-ttu-id="61df9-102">Attacher et détacher des bases de données Analysis Services</span><span class="sxs-lookup"><span data-stu-id="61df9-102">Attach and Detach Analysis Services Databases</span></span>
  <span data-ttu-id="61df9-103">Il existe souvent des cas où un administrateur de base de données [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] (dba) souhaite mettre une base de données hors connexion pendant un certain temps, puis la replacer en ligne sur la même (ou une autre) instance de serveur.</span><span class="sxs-lookup"><span data-stu-id="61df9-103">There are often situations when an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database administrator (dba) wants to take a database offline for a period, and then bring that database back online on the same server instance, or on a different one.</span></span> <span data-ttu-id="61df9-104">Ces cas sont souvent motivés par des impératifs d’exploitation, tels que le déplacement de la base de données vers un autre disque afin d’obtenir de meilleures performances, le gain de place afin de permettre la croissance de la base de données, ou la mise à niveau d'un produit.</span><span class="sxs-lookup"><span data-stu-id="61df9-104">These situations are often driven by business needs, such as moving the database to a different disk for better performance, gaining room for database growth, or to upgrade a product.</span></span> <span data-ttu-id="61df9-105">Pour tous ces cas, et bien plus encore, les `Attach` `Detach` commandes et permettent [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] à l’administrateur de base de données de mettre la base de données hors connexion et de la remettre en ligne avec un minimum d’effort.</span><span class="sxs-lookup"><span data-stu-id="61df9-105">For all those cases and more, the `Attach` and `Detach` commands enable the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dba to take the database offline and bring it back online with little effort.</span></span>  
  
## <a name="attach-and-detach-commands"></a><span data-ttu-id="61df9-106">Commandes Attach et Detach</span><span class="sxs-lookup"><span data-stu-id="61df9-106">Attach and Detach commands</span></span>  
 <span data-ttu-id="61df9-107">La commande `Attach` permet de mettre en ligne une base de données placée en mode hors connexion.</span><span class="sxs-lookup"><span data-stu-id="61df9-107">The `Attach` command enables you to bring online a database that was taken offline.</span></span> <span data-ttu-id="61df9-108">Vous pouvez attacher la base de données à l'instance de serveur d'origine ou à une autre instance.</span><span class="sxs-lookup"><span data-stu-id="61df9-108">You can attach the database to the original server instance, or to another instance.</span></span> <span data-ttu-id="61df9-109">Lorsque vous attachez une base de données, l'utilisateur peut spécifier le paramètre **ReadWriteMode** pour la base de données.</span><span class="sxs-lookup"><span data-stu-id="61df9-109">When you attach a database the user can specify the **ReadWriteMode** setting for the database.</span></span> <span data-ttu-id="61df9-110">La commande `Detach` permet de placer en mode hors connexion une base de données du serveur.</span><span class="sxs-lookup"><span data-stu-id="61df9-110">The `Detach` command enables you to take offline a database from the server.</span></span>  
  
## <a name="attach-and-detach-usage"></a><span data-ttu-id="61df9-111">Utilisation des commandes Attach et Detach</span><span class="sxs-lookup"><span data-stu-id="61df9-111">Attach and Detach Usage</span></span>  
 <span data-ttu-id="61df9-112">La commande `Attach` est utilisée pour mettre en ligne une structure de base de données existante.</span><span class="sxs-lookup"><span data-stu-id="61df9-112">The `Attach` command is used to bring online an existing database structure.</span></span> <span data-ttu-id="61df9-113">Si la base de données est attachée en mode `ReadWrite`, elle ne peut être jointe qu'une seule fois à une instance de serveur.</span><span class="sxs-lookup"><span data-stu-id="61df9-113">If the database is attached in `ReadWrite` mode, it can be attached only one time to a server instance.</span></span> <span data-ttu-id="61df9-114">Toutefois, si la base de données est attachée en mode `ReadOnly`, elle peut être jointe plusieurs fois aux différentes instances de serveur.</span><span class="sxs-lookup"><span data-stu-id="61df9-114">However, if the database is attached in `ReadOnly` mode, it can be attached multiple times to different server instances.</span></span> <span data-ttu-id="61df9-115">Par ailleurs, la même base de données ne peut pas être attachée plus d'une fois à la même instance de serveur.</span><span class="sxs-lookup"><span data-stu-id="61df9-115">However, the same database cannot be attached more than one time to the same server instance.</span></span> <span data-ttu-id="61df9-116">Une erreur est déclenchée en cas de tentative faite pour attacher la même base de données plusieurs fois, même si les données ont été copiées dans des dossiers distincts.</span><span class="sxs-lookup"><span data-stu-id="61df9-116">An error is raised when an attempt is made to attach the same database more than one time, even if the data has been copied to separate folders.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="61df9-117">S'il a été demandé un mot de passe pour détacher la base de données, le même mot de passe est requis pour attacher la base de données.</span><span class="sxs-lookup"><span data-stu-id="61df9-117">If a password was required to detach the database, the same password is required to attach the database.</span></span>  
  
 <span data-ttu-id="61df9-118">La commande `Detach` est utilisée pour mettre hors connexion une structure de base de données existante.</span><span class="sxs-lookup"><span data-stu-id="61df9-118">The `Detach` command is used to take offline an existing database structure.</span></span> <span data-ttu-id="61df9-119">Lorsqu'une base de données est détachée, vous devez fournir un mot de passe pour protéger les métadonnées confidentielles.</span><span class="sxs-lookup"><span data-stu-id="61df9-119">When a database is detached, you should provide a password to protect confidential metadata.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="61df9-120">Pour protéger le contenu des fichiers de données, vous devez utiliser une liste de contrôle d'accès pour le dossier, les sous-dossiers et les fichiers de données.</span><span class="sxs-lookup"><span data-stu-id="61df9-120">To protect the content of the data files, you should use an access control list for the folder, subfolders, and data files.</span></span>  
  
 <span data-ttu-id="61df9-121">Lorsque vous détachez une base de données, le serveur suit les étapes ci-après.</span><span class="sxs-lookup"><span data-stu-id="61df9-121">When you detach a database, the server follows these steps.</span></span>  
  
|<span data-ttu-id="61df9-122">Détachement d'une base de données en lecture/écriture</span><span class="sxs-lookup"><span data-stu-id="61df9-122">Detaching a read/write database</span></span>|<span data-ttu-id="61df9-123">Détachement d'une base de données en lecture seule</span><span class="sxs-lookup"><span data-stu-id="61df9-123">Detaching a read-only database</span></span>|  
|--------------------------------------|-------------------------------------|  
|<span data-ttu-id="61df9-124">1) Le serveur émet une demande de verrou CommitExclusive sur la base de données.</span><span class="sxs-lookup"><span data-stu-id="61df9-124">1) The server issues a request for a CommitExclusive Lock on the database</span></span><br /><span data-ttu-id="61df9-125">2) Le serveur attend que toutes les transactions en cours soient validées ou annulées.</span><span class="sxs-lookup"><span data-stu-id="61df9-125">2) The server waits until all ongoing transactions are either committed or rolled back</span></span><br /><span data-ttu-id="61df9-126">3) Le serveur génère toutes les métadonnées dont il a besoin pour détacher la base de données.</span><span class="sxs-lookup"><span data-stu-id="61df9-126">3) The server builds all the metadata that it must have to detach the database</span></span><br /><span data-ttu-id="61df9-127">4) La base de données est marquée comme supprimée.</span><span class="sxs-lookup"><span data-stu-id="61df9-127">4) The database is marked as deleted</span></span><br /><span data-ttu-id="61df9-128">5) Le serveur valide la transaction.</span><span class="sxs-lookup"><span data-stu-id="61df9-128">5) The server commits the transaction</span></span>|<span data-ttu-id="61df9-129">1) La base de données est marquée comme supprimée.</span><span class="sxs-lookup"><span data-stu-id="61df9-129">1) The database is marked as deleted</span></span><br /><span data-ttu-id="61df9-130">2) Le serveur valide la transaction.</span><span class="sxs-lookup"><span data-stu-id="61df9-130">2) The server commits the transaction</span></span><br /><br /> <br /><br /> <span data-ttu-id="61df9-131">Remarque : le mot de passe qui sert à détacher la base de données ne peut pas être modifié pour une base de données en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="61df9-131">Note: The detaching password cannot be changed for a read-only database.</span></span> <span data-ttu-id="61df9-132">Une erreur est déclenchée si un paramètre de mot de passe est fourni pour une base de données attachée contenant déjà un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="61df9-132">An error is raised if the password parameter is provided for an attached database that already contains a password.</span></span>|  
  
 <span data-ttu-id="61df9-133">Les commandes `Attach` et `Detach` doivent être exécutées comme de simples opérations.</span><span class="sxs-lookup"><span data-stu-id="61df9-133">The `Attach` and `Detach` commands must be executed as single operations.</span></span> <span data-ttu-id="61df9-134">Elles ne peuvent pas être combinées à d'autres opérations de la même transaction.</span><span class="sxs-lookup"><span data-stu-id="61df9-134">They cannot be combined with other operations in the same transaction.</span></span> <span data-ttu-id="61df9-135">En outre, `Attach` les `Detach` commandes et sont des commandes transactionnelles atomiques.</span><span class="sxs-lookup"><span data-stu-id="61df9-135">Also, the `Attach` and `Detach` commands are atomic transactional commands.</span></span> <span data-ttu-id="61df9-136">Cela signifie que soit l'opération réussit, soit elle échoue.</span><span class="sxs-lookup"><span data-stu-id="61df9-136">This means the operation will either succeed or fail.</span></span> <span data-ttu-id="61df9-137">Aucune base de données ne demeurera dans un état inachevé.</span><span class="sxs-lookup"><span data-stu-id="61df9-137">No database will be left in an uncompleted state.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="61df9-138">Les privilèges administrateur de serveur ou de base de données sont nécessaires pour exécuter la commande `Detach`.</span><span class="sxs-lookup"><span data-stu-id="61df9-138">Server or database administrator privileges are required to execute the `Detach` command.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="61df9-139">Les privilèges d'administrateur de serveur sont requis pour exécuter la commande `Attach`.</span><span class="sxs-lookup"><span data-stu-id="61df9-139">Server administrator privileges are required to execute the `Attach` command.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="61df9-140">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="61df9-140">See Also</span></span>  
 <xref:Microsoft.AnalysisServices.Server.Attach%2A>   
 <span data-ttu-id="61df9-141">[Microsoft. AnalysisServices. Database. Detach \*](/dotnet/api/microsoft.analysisservices.core.database.detach) </span><span class="sxs-lookup"><span data-stu-id="61df9-141">[Microsoft.AnalysisServices.Database.Detach\*](/dotnet/api/microsoft.analysisservices.core.database.detach) </span></span>  
 <span data-ttu-id="61df9-142">[Déplacer une base de données Analysis Services](move-an-analysis-services-database.md) </span><span class="sxs-lookup"><span data-stu-id="61df9-142">[Move an Analysis Services Database](move-an-analysis-services-database.md) </span></span>  
 <span data-ttu-id="61df9-143">[ReadWriteModes de base de données](database-readwritemodes.md) </span><span class="sxs-lookup"><span data-stu-id="61df9-143">[Database ReadWriteModes](database-readwritemodes.md) </span></span>  
 <span data-ttu-id="61df9-144">[Basculer une base de données Analysis Services entre les modes ReadOnly et ReadWrite](switch-an-analysis-services-database-between-readonly-and-readwrite-modes.md) </span><span class="sxs-lookup"><span data-stu-id="61df9-144">[Switch an Analysis Services database between ReadOnly and ReadWrite modes](switch-an-analysis-services-database-between-readonly-and-readwrite-modes.md) </span></span>  
 <span data-ttu-id="61df9-145">[Détacher l’élément](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/detach-element) </span><span class="sxs-lookup"><span data-stu-id="61df9-145">[Detach Element](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/detach-element) </span></span>  
 [<span data-ttu-id="61df9-146">Élément Attach</span><span class="sxs-lookup"><span data-stu-id="61df9-146">Attach Element</span></span>](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/attach-element)  
  
  
