---
title: Ajouter une agrégation personnalisée à une dimension | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- dimensions [Analysis Services], Business Intelligence enhancements
- Business Intelligence enhancements [Analysis Services], custom aggregations
- aggregations [Analysis Services], custom
- unary operators
- custom aggregations [Analysis Services]
ms.assetid: 3199a6c2-a06d-47b9-bd1c-604dbb085318
author: minewiskan
ms.author: owend
ms.openlocfilehash: ed843b8b0005ff62f05b13ebd20024d528857388
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87601149"
---
# <a name="add-a-custom-aggregation-to-a-dimension"></a><span data-ttu-id="6dd53-102">Ajouter une agrégation personnalisée à une dimension</span><span class="sxs-lookup"><span data-stu-id="6dd53-102">Add a Custom Aggregation to a Dimension</span></span>
  <span data-ttu-id="6dd53-103">Ajoutez une agrégation personnalisée à un cube ou à une dimension pour remplacer les agrégations par défaut qui sont associées à un membre de dimension avec un opérateur unaire différent.</span><span class="sxs-lookup"><span data-stu-id="6dd53-103">Add a custom aggregation enhancement to a cube or dimension to replace the default aggregations that are associated with a dimension member with a different unary operator.</span></span> <span data-ttu-id="6dd53-104">Cette amélioration spécifie une colonne d'opérateur unaire qui, dans la table de dimension, définit le cumul pour les membres d'une hiérarchie parent-enfant.</span><span class="sxs-lookup"><span data-stu-id="6dd53-104">This enhancement specifies a unary operator column in the dimension table that defines rollup for members in a parent-child hierarchy.</span></span> <span data-ttu-id="6dd53-105">L'opérateur unaire agit sur l'attribut parent dans une hiérarchie parent-enfant.</span><span class="sxs-lookup"><span data-stu-id="6dd53-105">The unary operator acts on the parent attribute in a parent-child hierarchy.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6dd53-106">Une agrégation personnalisée n'est disponible que pour les dimensions qui sont basées sur des sources de données existantes.</span><span class="sxs-lookup"><span data-stu-id="6dd53-106">A custom aggregation is available only for dimensions that are based on existing data sources.</span></span> <span data-ttu-id="6dd53-107">Pour les dimensions créées sans utiliser de source de données, vous devez exécuter l'Assistant Génération de schéma pour créer une vue de source de données avant d'ajouter l'agrégation personnalisée.</span><span class="sxs-lookup"><span data-stu-id="6dd53-107">For dimensions that were created without using a data source, you must run the Schema Generation Wizard to create a data source view before adding the custom aggregation.</span></span>  
  
 <span data-ttu-id="6dd53-108">Pour ajouter une agrégation personnalisée, vous utilisez l’Assistant Business Intelligence et vous sélectionnez l’option **Spécifier un opérateur unaire** dans la page **Choisir des améliorations** .</span><span class="sxs-lookup"><span data-stu-id="6dd53-108">To add a custom aggregation, you use the Business Intelligence Wizard, and select the **Specify a unary operator** option on the **Choose Enhancement** page.</span></span> <span data-ttu-id="6dd53-109">Cet Assistant vous guide tout au long des étapes de sélection de la dimension à laquelle vous souhaitez appliquer une agrégation personnalisée et d'identification de l'agrégation personnalisée.</span><span class="sxs-lookup"><span data-stu-id="6dd53-109">This wizard then guides you through the steps of selecting a dimension to which you want to apply a custom aggregation and identifying the custom aggregation.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6dd53-110">Avant d'exécuter l'Assistant Business Intelligence pour ajouter une agrégation personnalisée, vérifiez que la dimension que vous voulez améliorer contient une hiérarchie d'attribut parent-enfant.</span><span class="sxs-lookup"><span data-stu-id="6dd53-110">Before you run the Business Intelligence Wizard to add a custom aggregation, make sure that the dimension that you want to enhance contains a parent-child attribute hierarchy.</span></span> <span data-ttu-id="6dd53-111">Pour plus d’informations, consultez [hiérarchie parent-enfant](parent-child-dimension.md).</span><span class="sxs-lookup"><span data-stu-id="6dd53-111">For more information, see [Parent-Child Hierarchy](parent-child-dimension.md).</span></span>  
  
## <a name="selecting-a-dimension"></a><span data-ttu-id="6dd53-112">Sélection d'une dimension</span><span class="sxs-lookup"><span data-stu-id="6dd53-112">Selecting a Dimension</span></span>  
 <span data-ttu-id="6dd53-113">Dans la première page **Spécifier un opérateur unaire** de l’Assistant, vous spécifiez la dimension à laquelle vous voulez appliquer une agrégation personnalisée.</span><span class="sxs-lookup"><span data-stu-id="6dd53-113">On the first **Specify a Unary Operator** page of the wizard, you specify the dimension to which you want to apply a custom aggregation.</span></span> <span data-ttu-id="6dd53-114">L'agrégation personnalisée ajoutée à la dimension sélectionnée provoquera des changements dans cette dimension.</span><span class="sxs-lookup"><span data-stu-id="6dd53-114">The custom aggregation added to this selected dimension will result in changes to the dimension.</span></span> <span data-ttu-id="6dd53-115">Ces modifications seront héritées par tous les cubes contenant la dimension sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="6dd53-115">These changes will be inherited by all cubes that include the selected dimension.</span></span>  
  
## <a name="adding-custom-aggregation-unary-operator"></a><span data-ttu-id="6dd53-116">Ajout d'une agrégation personnalisée (opérateur unaire)</span><span class="sxs-lookup"><span data-stu-id="6dd53-116">Adding Custom Aggregation (Unary Operator)</span></span>  
 <span data-ttu-id="6dd53-117">Dans la seconde page **Spécifier un opérateur unaire** , vous spécifiez l’attribut parent souhaité pour l’agrégation personnalisée et la colonne source de la table de dimension pour l’opérateur unaire.</span><span class="sxs-lookup"><span data-stu-id="6dd53-117">On the second **Specify a Unary Operator** page, you specify the parent attribute that you want for the custom aggregation and the source column in the dimension table for the unary operator.</span></span> <span data-ttu-id="6dd53-118">**Attribut parent** répertorie les attributs dont la propriété a la `Usage` valeur `Parent` .</span><span class="sxs-lookup"><span data-stu-id="6dd53-118">**Parent attribute** lists attributes that have their `Usage` property set to `Parent`.</span></span> <span data-ttu-id="6dd53-119">S'il y a plus d'un attribut parent, choisissez l'attribut parent qui correspond à la relation parent-enfant que vous voulez utiliser.</span><span class="sxs-lookup"><span data-stu-id="6dd53-119">If there is more than one parent attribute, choose the parent attribute that corresponds to the parent-child relationship that you want to use.</span></span> <span data-ttu-id="6dd53-120">Si la liste ne contient aucun attribut parent, la dimension ne possède pas de hiérarchie parent-enfant valide.</span><span class="sxs-lookup"><span data-stu-id="6dd53-120">If there is no parent attribute listed, then the dimension does not have a valid parent-child hierarchy.</span></span>  
  
 <span data-ttu-id="6dd53-121">Dans **Colonne source**, vous sélectionnez la colonne de valeurs de chaîne qui contient les opérateurs unaires.</span><span class="sxs-lookup"><span data-stu-id="6dd53-121">In **Source column**, you select the string column that contains the unary operators.</span></span> <span data-ttu-id="6dd53-122">(Cette sélection définit la `UnaryOperatorColumn` propriété sur l’attribut parent.) La table de dimension doit également avoir une colonne de chaîne qui spécifie l’opérateur de cumul unaire.</span><span class="sxs-lookup"><span data-stu-id="6dd53-122">(This selection sets the `UnaryOperatorColumn` property on the parent attribute.) The dimension table should also have a string column that specifies the unary rollup operator.</span></span> <span data-ttu-id="6dd53-123">Les valeurs de chaîne de cette colonne doivent contenir des opérateurs d'agrégation valides.</span><span class="sxs-lookup"><span data-stu-id="6dd53-123">The string values in this column should contain valid aggregation operators.</span></span> <span data-ttu-id="6dd53-124">Si une ligne est vide, le membre correspondant est calculé normalement.</span><span class="sxs-lookup"><span data-stu-id="6dd53-124">If a row is empty, the corresponding member is calculated normally.</span></span> <span data-ttu-id="6dd53-125">Si la formule figurant dans une colonne n'est pas valide, une erreur se produit au moment de l'exécution lorsqu'une valeur de cellule utilisant le membre est extraite.</span><span class="sxs-lookup"><span data-stu-id="6dd53-125">If the formula in a column is not valid, a run-time error occurs when a cell value that uses the member is retrieved.</span></span> <span data-ttu-id="6dd53-126">Pour plus d’informations, consultez [Opérateurs unaires dans les dimensions parent-enfant](parent-child-dimension-attributes-unary-operators.md).</span><span class="sxs-lookup"><span data-stu-id="6dd53-126">For more information, see [Unary Operators in Parent-Child Dimensions](parent-child-dimension-attributes-unary-operators.md).</span></span>  
  
  
