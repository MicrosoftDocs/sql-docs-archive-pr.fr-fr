---
title: Traitement à distance (Analysis Services) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: d58bcb3c-0b3f-4ab0-81eb-4fdcc86153af
author: minewiskan
ms.author: owend
ms.openlocfilehash: 4e0d6ade25f5a321e49c748692a961abc369efad
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87611361"
---
# <a name="remote-processing-analysis-services"></a><span data-ttu-id="f0858-102">Traitement à distance (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="f0858-102">Remote Processing (Analysis Services)</span></span>
  <span data-ttu-id="f0858-103">Vous pouvez exécuter un traitement planifié ou sans assistance sur une instance [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] . La demande de traitement proviendra d'un ordinateur, mais s'exécutera sur un autre ordinateur du même réseau.</span><span class="sxs-lookup"><span data-stu-id="f0858-103">You can run scheduled or unattended processing on a remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, where the processing request originates from one computer but executes on another computer on the same network.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="f0858-104">Prérequis</span><span class="sxs-lookup"><span data-stu-id="f0858-104">Prerequisites</span></span>  
  
-   <span data-ttu-id="f0858-105">Si vous exécutez différentes versions de SQL Server sur chaque ordinateur, les bibliothèques clientes doivent correspondre à la version de l'instance [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] qui traite le modèle.</span><span class="sxs-lookup"><span data-stu-id="f0858-105">If you are running different versions of SQL Server on each computer, the client libraries must match the version of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance that is processing the model.</span></span> <span data-ttu-id="f0858-106">Par exemple, si le traitement se trouve sur une instance [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] , l'ordinateur d'où provient la demande doit disposer de la bibliothèque cliente correspondant à [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f0858-106">For example, if processing is on a [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] instance, then the computer from which the request originates must have the client library corresponding to [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)].</span></span> <span data-ttu-id="f0858-107">Consultez [Fournisseurs de données utilisés pour les connexions Analysis Services](../instances/data-providers-used-for-analysis-services-connections.md).</span><span class="sxs-lookup"><span data-stu-id="f0858-107">See [Data providers used for Analysis Services connections](../instances/data-providers-used-for-analysis-services-connections.md).</span></span>  
  
-   <span data-ttu-id="f0858-108">Sur le serveur distant, l'option **Autoriser les connexions à distance à cet ordinateur** doit être activée, et le compte qui émet la demande de traitement doit être répertorié en tant qu'utilisateur autorisé.</span><span class="sxs-lookup"><span data-stu-id="f0858-108">On the remote server, **Allow remote connections to this computer** must be enabled, and the account issuing the processing request must be listed as an allowed user.</span></span>  
  
-   <span data-ttu-id="f0858-109">Les règles du Pare-feu Windows doivent être configurées pour autoriser les connexions entrantes à [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f0858-109">Windows firewall rules must be configured to allow inbound connections to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="f0858-110">Vérifiez que vous pouvez vous connecter à l'instance [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] distante à l'aide de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f0858-110">Verify you can connect to the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="f0858-111">Consultez [Configure the Windows Firewall to Allow Analysis Services Access](../instances/configure-the-windows-firewall-to-allow-analysis-services-access.md).</span><span class="sxs-lookup"><span data-stu-id="f0858-111">See [Configure the Windows Firewall to Allow Analysis Services Access](../instances/configure-the-windows-firewall-to-allow-analysis-services-access.md).</span></span>  
  
-   <span data-ttu-id="f0858-112">Résolvez les erreurs de traitement local existantes avant de tenter le traitement à distance.</span><span class="sxs-lookup"><span data-stu-id="f0858-112">Resolve any existing local processing errors before attempting remote processing.</span></span> <span data-ttu-id="f0858-113">Quand le traitement de la demande est local, vérifiez que les données peuvent être récupérées à partir de la source de données relationnelles externe.</span><span class="sxs-lookup"><span data-stu-id="f0858-113">Verify that when the processing request is local, data can be successfully retrieved from the external relational data source.</span></span> <span data-ttu-id="f0858-114">Pour obtenir des instructions sur la spécification des informations d’identification utilisées pour récupérer des données, consultez [Définir les options d’emprunt d’identité &#40;SSAS - Multidimensionnel&#41;](set-impersonation-options-ssas-multidimensional.md).</span><span class="sxs-lookup"><span data-stu-id="f0858-114">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](set-impersonation-options-ssas-multidimensional.md) for instructions on specifying credentials used to retrieve data.</span></span>  
  
## <a name="on-demand-remote-processing"></a><span data-ttu-id="f0858-115">Traitement à distance à la demande</span><span class="sxs-lookup"><span data-stu-id="f0858-115">On-demand remote processing</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="f0858-116">accepte les demandes de traitement des comptes d'utilisateur ou d'application disposants des autorisations d'administrateur pour [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f0858-116">accepts processing requests from user or application accounts that have [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] administrator permissions.</span></span> <span data-ttu-id="f0858-117">Si vous êtes administrateur, vérifiez que vous pouvez vous connecter à l'instance distante et traiter la base de données manuellement via la connexion à distance.</span><span class="sxs-lookup"><span data-stu-id="f0858-117">If you are an administrator, verify that you can connect to the remote instance and process the database manually over the remote connection.</span></span>  
  
1.  <span data-ttu-id="f0858-118">Sur l'ordinateur qui sera utilisé pour planifier le traitement, démarrez [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , puis connectez-vous à l'instance [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] distante.</span><span class="sxs-lookup"><span data-stu-id="f0858-118">On the computer that will be used to schedule processing, start [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and connect to the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span>  
  
2.  <span data-ttu-id="f0858-119">Cliquez avec le bouton droit sur la base de données, sélectionnez **Traiter**, pointez sur **Script** , puis choisissez **Action de script dans une nouvelle fenêtre de requête**.</span><span class="sxs-lookup"><span data-stu-id="f0858-119">Right-click the database, select **Process**, point to **Script** and choose **Script Action to New Query Window**.</span></span> <span data-ttu-id="f0858-120">Les commandes utilisées pour appeler le traitement apparaîtront dans la fenêtre de requête.</span><span class="sxs-lookup"><span data-stu-id="f0858-120">Commands used to invoke processing will appear in the query window.</span></span>  
  
3.  <span data-ttu-id="f0858-121">Cliquez sur **OK** pour commencer le traitement.</span><span class="sxs-lookup"><span data-stu-id="f0858-121">Click **OK** to begin processing.</span></span>  
  
     <span data-ttu-id="f0858-122">Si cette tâche se termine correctement, vous obtiendrez une requête XMLA que vous pourrez incorporer dans une tâche planifiée.</span><span class="sxs-lookup"><span data-stu-id="f0858-122">Successful completion of this task provides an XMLA query that you can embed in a scheduled job.</span></span> <span data-ttu-id="f0858-123">Par ailleurs, si la tâche se termine correctement, cela confirme qu'il n'existe aucun problème de connexion.</span><span class="sxs-lookup"><span data-stu-id="f0858-123">It also confirms there are no connection problems.</span></span>  
  
## <a name="schedule-remote-processing-using-sql-server-agent-service"></a><span data-ttu-id="f0858-124">Planifier le traitement à distance à l'aide du service SQL Server Agent</span><span class="sxs-lookup"><span data-stu-id="f0858-124">Schedule remote processing using SQL Server Agent Service</span></span>  
 <span data-ttu-id="f0858-125">Par défaut, le service SQL Server Agent s'exécute sous un compte virtuel, avec des connexions réseau établies avec le compte d'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="f0858-125">By default, SQL Server Agent service runs under a virtual account, with network connections made using the machine account.</span></span> <span data-ttu-id="f0858-126">Pour éviter d'avoir à accorder des droits d'administration à un compte d'ordinateur sur l'instance [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] distante, vous devez modifier le compte du service SQL Server Agent pour qu'il soit s'exécuté en tant que compte d'utilisateur de domaine doté de privilèges minimum.</span><span class="sxs-lookup"><span data-stu-id="f0858-126">To avoid having to give a machine account administrative rights on the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, you should change the SQL Server Agent service account to run as a least-privilege domain user account.</span></span>  
  
 <span data-ttu-id="f0858-127">Veillez à accorder toutes les autorisations nécessaires, notamment en attribuant au compte **sysadmin** les droits sur l'instance du moteur de base de données qui fournit le service.</span><span class="sxs-lookup"><span data-stu-id="f0858-127">Be sure to grant all of the necessary permissions, including giving the account **sysadmin** rights on the Database Engine instance providing the service.</span></span>  
  
 <span data-ttu-id="f0858-128">Utilisez les liens suivants pour définir les autorisations :</span><span class="sxs-lookup"><span data-stu-id="f0858-128">Use the following links to set permissions:</span></span>  
  
-   [<span data-ttu-id="f0858-129">Configurer l'Agent SQL Server</span><span class="sxs-lookup"><span data-stu-id="f0858-129">Configure SQL Server Agent</span></span>](../../ssms/agent/configure-sql-server-agent.md)  
  
-   <span data-ttu-id="f0858-130">[SQL Server Agent Components](../../ssms/agent/sql-server-agent.md#Components) suggère d'autres rôles serveur fixes s'il n'est pas possible d'accorder des autorisations à **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="f0858-130">[SQL Server Agent Components](../../ssms/agent/sql-server-agent.md#Components) suggests alternative fixed server roles if granting **sysadmin** permissions is not possible.</span></span>  
  
 <span data-ttu-id="f0858-131">Après avoir configuré les autorisations du compte, passez aux étapes suivantes.</span><span class="sxs-lookup"><span data-stu-id="f0858-131">After account permissions are configured, continue with these steps.</span></span>  
  
#### <a name="grant-the-sql-server-agent-account-administrator-permission-on-ssas"></a><span data-ttu-id="f0858-132">Accorder des droits d'administration au compte SQL Server Agent sur SSAS</span><span class="sxs-lookup"><span data-stu-id="f0858-132">Grant the SQL Server Agent account administrator permission on SSAS</span></span>  
  
1.  <span data-ttu-id="f0858-133">À l'aide de [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], connectez-vous à l'instance [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] distante.</span><span class="sxs-lookup"><span data-stu-id="f0858-133">Using [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], connect to the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span>  
  
2.  <span data-ttu-id="f0858-134">Cliquez avec le bouton droit sur le nom du serveur, puis cliquez sur**Propriétés**et sur **Sécurité**.</span><span class="sxs-lookup"><span data-stu-id="f0858-134">Right-click the server name, click P**roperties**, and then click **Security**.</span></span>  
  
3.  <span data-ttu-id="f0858-135">Cliquez sur **Ajouter** pour ajouter le compte SQL Server Agent.</span><span class="sxs-lookup"><span data-stu-id="f0858-135">Click **Add** to add the SQL Server Agent account.</span></span>  
  
#### <a name="create-the-job"></a><span data-ttu-id="f0858-136">Créer un travail</span><span class="sxs-lookup"><span data-stu-id="f0858-136">Create the Job</span></span>  
  
1.  <span data-ttu-id="f0858-137">Dans Management Studio, connectez-vous à l'instance locale du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="f0858-137">In Management Studio, connect to the local Database Engine instance.</span></span> <span data-ttu-id="f0858-138">SQL Server Agent est le dernier élément dans l'Explorateur d'objets.</span><span class="sxs-lookup"><span data-stu-id="f0858-138">SQL Server Agent is the last item in Object Explorer.</span></span> <span data-ttu-id="f0858-139">Si nécessaire, démarrez le service.</span><span class="sxs-lookup"><span data-stu-id="f0858-139">If necessary, start the service.</span></span>  
  
2.  <span data-ttu-id="f0858-140">Cliquez avec le bouton droit sur **Travaux**, cliquez sur **Nouveau travail** , puis entrez un nom.</span><span class="sxs-lookup"><span data-stu-id="f0858-140">Right-click **Job**s, click **New Job** and then enter a name.</span></span>  
  
3.  <span data-ttu-id="f0858-141">Dans Étapes, cliquez sur **Nouveau** , puis entrez un nom.</span><span class="sxs-lookup"><span data-stu-id="f0858-141">In Steps, click **New** and then enter a name.</span></span>  
  
4.  <span data-ttu-id="f0858-142">Dans Type, sélectionnez **Commande SQL Server Analysis Services**.</span><span class="sxs-lookup"><span data-stu-id="f0858-142">In Type, choose **SQL Server Analysis Services Command**.</span></span>  
  
5.  <span data-ttu-id="f0858-143">Dans Serveur, entrez le nom de l'instance [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] distante.</span><span class="sxs-lookup"><span data-stu-id="f0858-143">In Server, enter the name of the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span>  
  
6.  <span data-ttu-id="f0858-144">Dans Commande, collez la commande XMLA pour le traitement de la base de données.</span><span class="sxs-lookup"><span data-stu-id="f0858-144">In Command, paste the XMLA command for processing the database.</span></span> <span data-ttu-id="f0858-145">Il s'agit du script XMLA que vous avez généré à l'étape de vérification pour le traitement à distance à la demande.</span><span class="sxs-lookup"><span data-stu-id="f0858-145">This is the XMLA script that you generated in the verification step for on-demand remote processing.</span></span> <span data-ttu-id="f0858-146">Cliquez sur **OK** pour enregistrer le travail.</span><span class="sxs-lookup"><span data-stu-id="f0858-146">Click **OK** to save the job.</span></span>  
  
#### <a name="start-sql-server-profiler"></a><span data-ttu-id="f0858-147">Démarrer SQL Server Profiler</span><span class="sxs-lookup"><span data-stu-id="f0858-147">Start SQL Server Profiler</span></span>  
  
1.  <span data-ttu-id="f0858-148">Sur l'ordinateur distant, démarrez SQL Server Profiler.</span><span class="sxs-lookup"><span data-stu-id="f0858-148">On the remote computer, start SQL Server Profiler.</span></span> <span data-ttu-id="f0858-149">Connectez-vous à l'instance [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , puis cliquez sur **Exécuter** pour démarrer la trace à l'aide des événements par défaut.</span><span class="sxs-lookup"><span data-stu-id="f0858-149">Connect to the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, and click **Run** to start the trace using the default events.</span></span>  
  
     <span data-ttu-id="f0858-150">Vous allez utiliser SQL Server Profiler pour surveiller les événements de traitement à mesure qu'ils se produisent.</span><span class="sxs-lookup"><span data-stu-id="f0858-150">You will use SQL Server Profiler to monitor the processing events as they occur.</span></span>  
  
2.  <span data-ttu-id="f0858-151">Si vous le souhaitez, vous pouvez définir des propriétés de trace pour envoyer la trace vers un fichier ou une table dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="f0858-151">Optionally, you can set trace properties to send the trace to a file or table in a database.</span></span>  
  
#### <a name="run-the-job"></a><span data-ttu-id="f0858-152">Exécuter le travail</span><span class="sxs-lookup"><span data-stu-id="f0858-152">Run the job</span></span>  
  
1.  <span data-ttu-id="f0858-153">Sur l'ordinateur utilisé pour exécuter le travail, vérifiez que le travail peut effectuer l'opération de base.</span><span class="sxs-lookup"><span data-stu-id="f0858-153">On the computer used to run the job, verify that the job can perform the basic operation.</span></span> <span data-ttu-id="f0858-154">Dans l’Explorateur d’objets, sous SQL Server Agent, développez **Travaux**, cliquez avec le bouton droit sur le travail que vous venez de créer, puis cliquez sur **Démarrer le travail à l’étape**.</span><span class="sxs-lookup"><span data-stu-id="f0858-154">In Object Explorer, under SQL Server Agent, expand **Jobs**, right-click the job you just created, and click **Start Job at Step**.</span></span> <span data-ttu-id="f0858-155">Le travail démarre immédiatement.</span><span class="sxs-lookup"><span data-stu-id="f0858-155">The job starts immediately.</span></span> <span data-ttu-id="f0858-156">Vous pouvez surveiller la progression dans SQL Server Profiler.</span><span class="sxs-lookup"><span data-stu-id="f0858-156">You can monitor progress in SQL Server Profiler.</span></span>  
  
2.  <span data-ttu-id="f0858-157">Dans la dernière étape, modifiez le travail pour qu'il soit exécuté selon la planification de votre choix, en ajoutant toutes les alertes ou notifications nécessaires à la gestion du travail.</span><span class="sxs-lookup"><span data-stu-id="f0858-157">As a final step, modify the job to run on a schedule that you define, adding any alerts or notifications necessary to administer the job.</span></span> <span data-ttu-id="f0858-158">Vous pouvez également affiner le script de traitement ou créer plusieurs étapes au sein du travail pour traiter les objets indépendamment.</span><span class="sxs-lookup"><span data-stu-id="f0858-158">You might also want to refine the processing script, or create multiple steps in the job to process objects independently.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f0858-159">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f0858-159">See Also</span></span>  
 <span data-ttu-id="f0858-160">[Composants SQL Server Agent](../../ssms/agent/sql-server-agent.md#Components) </span><span class="sxs-lookup"><span data-stu-id="f0858-160">[SQL Server Agent Components](../../ssms/agent/sql-server-agent.md#Components) </span></span>  
 <span data-ttu-id="f0858-161">[Planifier des tâches administratives SSAS avec SQL Server Agent](../instances/schedule-ssas-administrative-tasks-with-sql-server-agent.md) </span><span class="sxs-lookup"><span data-stu-id="f0858-161">[Schedule SSAS Administrative Tasks with SQL Server Agent](../instances/schedule-ssas-administrative-tasks-with-sql-server-agent.md) </span></span>  
 <span data-ttu-id="f0858-162">[Traitement par lots &#40;Analysis Services&#41;](batch-processing-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="f0858-162">[Batch Processing &#40;Analysis Services&#41;](batch-processing-analysis-services.md) </span></span>  
 <span data-ttu-id="f0858-163">[Traitement d’objets de modèle multidimensionnel](processing-a-multidimensional-model-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="f0858-163">[Multidimensional Model Object Processing](processing-a-multidimensional-model-analysis-services.md) </span></span>  
 [<span data-ttu-id="f0858-164">Traitement d’objets &#40;XMLA&#41;</span><span class="sxs-lookup"><span data-stu-id="f0858-164">Processing Objects &#40;XMLA&#41;</span></span>](https://docs.microsoft.com/bi-reference/xmla/xml-elements-objects)  
  
  
