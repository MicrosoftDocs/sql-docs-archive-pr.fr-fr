---
title: Fusionner des partitions dans Analysis Services (SSAS-multidimensionnel) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- partitions [Analysis Services], merging
- merging partitions [Analysis Services]
ms.assetid: b3857b9b-de43-4911-989d-d14da0196f89
author: minewiskan
ms.author: owend
ms.openlocfilehash: 42820a202c4da58e21dfd55756b7bb03522ea879
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87707955"
---
# <a name="merge-partitions-in-analysis-services-ssas---multidimensional"></a><span data-ttu-id="a9d23-102">Fusionner des partitions dans Analysis Services (SSAS - Multidimensionnel)</span><span class="sxs-lookup"><span data-stu-id="a9d23-102">Merge Partitions in Analysis Services (SSAS - Multidimensional)</span></span>
  <span data-ttu-id="a9d23-103">Vous pouvez fusionner des partitions dans une base de données [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] existante pour consolider les données de faits de plusieurs partitions du même groupe de mesures.</span><span class="sxs-lookup"><span data-stu-id="a9d23-103">You can merge partitions in an existing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database to consolidate fact data from multiple partitions of the same measure group.</span></span>  
  
 [<span data-ttu-id="a9d23-104">Scénarios courants</span><span class="sxs-lookup"><span data-stu-id="a9d23-104">Common scenarios</span></span>](#bkmk_Scenario)  
  
 [<span data-ttu-id="a9d23-105">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="a9d23-105">Requirements</span></span>](#bkmk_prereq)  
  
 [<span data-ttu-id="a9d23-106">Mettre à jour la source de partition après avoir fusionné les partitions</span><span class="sxs-lookup"><span data-stu-id="a9d23-106">Update the Partition Source after merging partitions</span></span>](#bkmk_Where)  
  
 [<span data-ttu-id="a9d23-107">Considérations spéciales pour les partitions segmentées par une table de faits ou une requête nommée</span><span class="sxs-lookup"><span data-stu-id="a9d23-107">Special considerations for partitions segmented by fact table or named query</span></span>](#bkmk_fact)  
  
 [<span data-ttu-id="a9d23-108">Procédure pour fusionner des partitions à l'aide de SSMS</span><span class="sxs-lookup"><span data-stu-id="a9d23-108">How to merge partitions using SSMS</span></span>](#bkmk_partitionSSMS)  
  
 [<span data-ttu-id="a9d23-109">Comment fusionner des partitions à l’aide de XMLA</span><span class="sxs-lookup"><span data-stu-id="a9d23-109">How to merge partitions using XMLA</span></span>](#bkmk_partitionsXMLA)  
  
##  <a name="common-scenarios"></a><a name="bkmk_Scenario"></a><span data-ttu-id="a9d23-110">Scénarios courants</span><span class="sxs-lookup"><span data-stu-id="a9d23-110">Common scenarios</span></span>  
 <span data-ttu-id="a9d23-111">La configuration individuelle la plus commune pour l'utilisation de partitions repose sur une séparation des données à travers la dimension du temps.</span><span class="sxs-lookup"><span data-stu-id="a9d23-111">The single most common configuration for partition use involves the separation of data across the dimension of time.</span></span> <span data-ttu-id="a9d23-112">La granularité du temps associé à chaque partition varie selon les besoins de l'entreprise spécifiques au projet.</span><span class="sxs-lookup"><span data-stu-id="a9d23-112">The granularity of time associated with each partition varies depending on the business requirements specific to the project.</span></span> <span data-ttu-id="a9d23-113">Par exemple, la segmentation peut se faire par années, avec l'année la plus récente divisée en mois, plus une partition distincte pour le mois actif.</span><span class="sxs-lookup"><span data-stu-id="a9d23-113">For example, segmentation might be by years, with the most recent year divided by months, plus a separate partition for the active month.</span></span> <span data-ttu-id="a9d23-114">La partition du mois actif accepte régulièrement de nouvelles données.</span><span class="sxs-lookup"><span data-stu-id="a9d23-114">The active month partition regularly takes on new data.</span></span>  
  
 <span data-ttu-id="a9d23-115">Lorsque le mois actif est terminé, cette partition est fusionnée dans les mois de la partition de l'année en cours et le processus continue.</span><span class="sxs-lookup"><span data-stu-id="a9d23-115">When the active month is completed, that partition is merged back into the months in the year-to-date partition and the process continues.</span></span> <span data-ttu-id="a9d23-116">À la fin de l'année, une nouvelle partition annuelle toute entière a été formée.</span><span class="sxs-lookup"><span data-stu-id="a9d23-116">At the end of the year, a whole new year partition has been formed.</span></span>  
  
 <span data-ttu-id="a9d23-117">Comme le montre ce scénario, fusionner des partitions peut devenir une tâche courante effectuée régulièrement et constituer une approche progressive pour consolider et organiser les données d'historique.</span><span class="sxs-lookup"><span data-stu-id="a9d23-117">As this scenario demonstrates, merging partitions can become a routine task performed on a regular basis, providing a progressive approach for consolidating and organizing historical data.</span></span>  
  
##  <a name="requirements"></a><a name="bkmk_prereq"></a> <span data-ttu-id="a9d23-118">Spécifications</span><span class="sxs-lookup"><span data-stu-id="a9d23-118">Requirements</span></span>  
 <span data-ttu-id="a9d23-119">Les partitions peuvent être fusionnées seulement si elles répondent à tous les critères suivants :</span><span class="sxs-lookup"><span data-stu-id="a9d23-119">Partitions can be merged only if they meet all of the following criteria:</span></span>  
  
-   <span data-ttu-id="a9d23-120">Elles ont le même groupe de mesures.</span><span class="sxs-lookup"><span data-stu-id="a9d23-120">They have the same measure group.</span></span>  
  
-   <span data-ttu-id="a9d23-121">Elles ont la même structure.</span><span class="sxs-lookup"><span data-stu-id="a9d23-121">They have the same structure.</span></span>  
  
-   <span data-ttu-id="a9d23-122">Elles doivent se trouver à l'état traité.</span><span class="sxs-lookup"><span data-stu-id="a9d23-122">They must be in a processed state.</span></span>  
  
-   <span data-ttu-id="a9d23-123">Elles ont les mêmes modes de stockage.</span><span class="sxs-lookup"><span data-stu-id="a9d23-123">They have the same storage modes.</span></span>  
  
-   <span data-ttu-id="a9d23-124">Elles contiennent des conceptions d'agrégation identiques.</span><span class="sxs-lookup"><span data-stu-id="a9d23-124">They contain identical aggregation designs.</span></span>  
  
-   <span data-ttu-id="a9d23-125">Elles partagent le même niveau de compatibilité du magasin de chaînes (s'applique uniquement aux groupes de mesure de comptage de valeurs partitionnés).</span><span class="sxs-lookup"><span data-stu-id="a9d23-125">They share the same string store compatibility level (applies to partitioned distinct count measure groups only).</span></span>  
  
 <span data-ttu-id="a9d23-126">Si la partition cible est vide (autrement dit, elle possède une conception d'agrégation, mais aucune agrégation), la fusion supprime les agrégations des partitions sources.</span><span class="sxs-lookup"><span data-stu-id="a9d23-126">If the target partition is empty (that is, it has an aggregation design but no aggregations), merge will drop the aggregations for the source partitions.</span></span> <span data-ttu-id="a9d23-127">Vous devez exécuter un traitement d'index, un traitement complet ou un traitement par défaut de la partition pour générer les agrégations.</span><span class="sxs-lookup"><span data-stu-id="a9d23-127">You must run Process Index, Process Full, or Process Default on the partition to build the aggregations.</span></span>  
  
 <span data-ttu-id="a9d23-128">Les partitions distantes peuvent être fusionnées uniquement avec d’autres partitions distantes qui sont définies avec la même instance distante de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a9d23-128">Remote partitions can be merged only with other remote partitions that are defined with the same remote instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a9d23-129">Si vous utilisez une combinaison de partitions locales et distantes, une autre méthode consiste à créer des partitions qui contiennent les données combinées, en supprimant les partitions que vous n'utilisez plus.</span><span class="sxs-lookup"><span data-stu-id="a9d23-129">If you are using a combination of local and remote partitions, an alternative approach is to create new partitions that include the combined data, deleting the partitions you no longer use.</span></span>  
  
 <span data-ttu-id="a9d23-130">Pour créer une partition destinée à être fusionnée ultérieurement, vous pouvez copier la conception d'agrégation d'une autre partition du cube lors de la création de la partition dans l'Assistant Partition.</span><span class="sxs-lookup"><span data-stu-id="a9d23-130">To create a partition that is a candidate for future merging, when you create the partition in the Partition Wizard, you can choose to copy the aggregation design from another of the cube's partitions.</span></span> <span data-ttu-id="a9d23-131">Cette méthode garantit une même conception d'agrégation aux partitions.</span><span class="sxs-lookup"><span data-stu-id="a9d23-131">This ensures that these partitions have the same aggregation design.</span></span> <span data-ttu-id="a9d23-132">Au moment de leur fusion, les agrégations de la partition source sont associées à celles de la partition de destination.</span><span class="sxs-lookup"><span data-stu-id="a9d23-132">When they are merged, the aggregations of the source partition are combined with the aggregations in the target partition.</span></span>  
  
##  <a name="update-the-partition-source-after-merging-partitions"></a><a name="bkmk_Where"></a><span data-ttu-id="a9d23-133">Mettre à jour la source de partition après avoir fusionné des partitions</span><span class="sxs-lookup"><span data-stu-id="a9d23-133">Update the Partition Source after merging partitions</span></span>  
 <span data-ttu-id="a9d23-134">Les partitions sont segmentées par requête, comme la clause WHERE d'une requête SQL utilisée pour traiter les données, ou par une table ou une requête nommée qui fournit des données à la partition.</span><span class="sxs-lookup"><span data-stu-id="a9d23-134">Partitions are segmented by query, such as the WHERE clause of a SQL query used to process the data, or by a table or named query that provides data to the partition.</span></span> <span data-ttu-id="a9d23-135">La propriété `Source` sur la partition indique si la partition est liée à une requête ou une table.</span><span class="sxs-lookup"><span data-stu-id="a9d23-135">The `Source` property on the partition indicates whether the partition is bound to a query or a table.</span></span>  
  
 <span data-ttu-id="a9d23-136">Lorsque vous fusionnez des partitions, le contenu des partitions est consolidé, mais la propriété `Source` n'est pas mise à jour pour refléter l'étendue supplémentaire de la partition.</span><span class="sxs-lookup"><span data-stu-id="a9d23-136">When you merge partitions, the contents of the partitions are consolidated, but the `Source` property is not updated to reflect the additional scope of the partition.</span></span> <span data-ttu-id="a9d23-137">Cela signifie que si, plus tard, vous traitez à nouveau une partition qui conserve sa `Source`d'origine, vous obtiendrez des données incorrectes de cette partition.</span><span class="sxs-lookup"><span data-stu-id="a9d23-137">This means if you subsequently reprocess a partition that retains its original `Source`, you will get incorrect data from that partition.</span></span> <span data-ttu-id="a9d23-138">La partition agrégera à tort des données au niveau parent.</span><span class="sxs-lookup"><span data-stu-id="a9d23-138">The partition will erroneously aggregate data at the parent level.</span></span> <span data-ttu-id="a9d23-139">L’exemple suivant illustre ce comportement.</span><span class="sxs-lookup"><span data-stu-id="a9d23-139">The following example illustrates this behavior.</span></span>  
  
 <span data-ttu-id="a9d23-140">**Le problème**</span><span class="sxs-lookup"><span data-stu-id="a9d23-140">**The Problem**</span></span>  
  
 <span data-ttu-id="a9d23-141">Supposons que vous disposiez d'un cube contenant des informations sur trois produits de boissons non alcoolisées.</span><span class="sxs-lookup"><span data-stu-id="a9d23-141">Suppose you have a cube containing information about three soft drink products.</span></span> <span data-ttu-id="a9d23-142">Il comporte trois partitions qui utilisent la même table de faits.</span><span class="sxs-lookup"><span data-stu-id="a9d23-142">It has three partitions that use the same fact table.</span></span> <span data-ttu-id="a9d23-143">Ces partitions sont segmentées par produit.</span><span class="sxs-lookup"><span data-stu-id="a9d23-143">These partitions are segmented by product.</span></span> <span data-ttu-id="a9d23-144">La partition 1, la partition 2 et la partition 3 contiennent des données sur [ColaFull], [ColaDecaf] et [ColaDiet], respectivement.</span><span class="sxs-lookup"><span data-stu-id="a9d23-144">Partition 1 contains data about [ColaFull], Partition 2 contains data about [ColaDecaf], and Partition 3 contains data about [ColaDiet].</span></span> <span data-ttu-id="a9d23-145">Si la partition 3 est fusionnée dans la partition 2, les données de la partition obtenue (partition 2) sont correctes et les données du cube sont exactes.</span><span class="sxs-lookup"><span data-stu-id="a9d23-145">If Partition 3 is merged into Partition 2, the data in the resulting partition (Partition 2) is correct and the cube data is accurate.</span></span> <span data-ttu-id="a9d23-146">Cependant, lors du traitement de la partition 2, son contenu peut être déterminé par le parent des membres au niveau du produit.</span><span class="sxs-lookup"><span data-stu-id="a9d23-146">However, when Partition 2 is processed, its content may be determined by the parent of the members at the product level.</span></span> <span data-ttu-id="a9d23-147">Ce parent, [SoftDrinks], comprend également [ColaFull], le produit de la partition 1.</span><span class="sxs-lookup"><span data-stu-id="a9d23-147">This parent, [SoftDrinks], also includes [ColaFull], the product in Partition 1.</span></span> <span data-ttu-id="a9d23-148">Le traitement de la partition 2 charge la partition contenant les données relatives à toutes les boissons non alcoolisées, y compris [ColaFull].</span><span class="sxs-lookup"><span data-stu-id="a9d23-148">Processing Partition 2 loads the partition with data for all soft drinks, including [ColaFull].</span></span> <span data-ttu-id="a9d23-149">Le cube contient alors des données en double pour [ColaFull] et renvoie des données incorrectes aux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="a9d23-149">The cube then contains duplicate data for [ColaFull] and returns incorrect data to end users.</span></span>  
  
 <span data-ttu-id="a9d23-150">**La solution**</span><span class="sxs-lookup"><span data-stu-id="a9d23-150">**The Solution**</span></span>  
  
 <span data-ttu-id="a9d23-151">La solution consiste à mettre à jour la propriété `Source`, en ajustant la clause WHERE ou la requête nommée, ou en fusionnant manuellement les données des tables de faits sous-jacentes, afin que le traitement suivant soit précis, compte tenu de l'étendue supplémentaire de la partition.</span><span class="sxs-lookup"><span data-stu-id="a9d23-151">The solution is to update the `Source` property, adjusting either the WHERE clause or named query, or manually merging data from the underlying fact tables, to ensure that subsequent processing is accurate given the expanded scope of the partition.</span></span>  
  
 <span data-ttu-id="a9d23-152">Dans cet exemple, après la fusion de la partition 3 dans la partition 2, vous pouvez créer un filtre, tel que ("Product" = 'ColaDecaf' OR "Product" = 'ColaDiet') dans la partition obtenue (partition2) pour spécifier que seules les données relatives à [ColaDecaf] et [ColaDiet] doivent être extraites de la table de faits, et que les données de [ColaFull] doivent être exclues.</span><span class="sxs-lookup"><span data-stu-id="a9d23-152">In this example, after merging Partition 3 into Partition 2, you can provide a filter such as ("Product" = 'ColaDecaf' OR "Product" = 'ColaDiet') in the resulting Partition 2 to specify that only data about [ColaDecaf] and [ColaDiet] be extracted from the fact table, and the data pertaining to [ColaFull] be excluded.</span></span> <span data-ttu-id="a9d23-153">Vous pouvez également spécifier des filtres pour la partition2 et la partition 3 au moment de la création de ces partitions. Ces filtres seront associés pendant la fusion.</span><span class="sxs-lookup"><span data-stu-id="a9d23-153">Alternatively, you can specify filters for Partition 2 and Partition 3 when they are created, and these filters will be combined during the merger process.</span></span> <span data-ttu-id="a9d23-154">Dans les deux cas, après le traitement de la partition, le cube ne contiendra pas de données en double.</span><span class="sxs-lookup"><span data-stu-id="a9d23-154">In either case, after the partition is processed the cube does not contain duplicate data.</span></span>  
  
 <span data-ttu-id="a9d23-155">**La conclusion**</span><span class="sxs-lookup"><span data-stu-id="a9d23-155">**The Conclusion**</span></span>  
  
 <span data-ttu-id="a9d23-156">Après avoir fusionné des partitions, vérifiez toujours la `Source` pour vous assurer que le filtre est approprié pour les données fusionnées.</span><span class="sxs-lookup"><span data-stu-id="a9d23-156">After you merge partitions, always check the `Source` to verify the filter is correct for the merged data.</span></span> <span data-ttu-id="a9d23-157">Si vous avez commencé par une partition qui incluait des données historiques pour Q1, Q2 et Q3 et que vous fusionnez maintenant Q4, vous devez ajuster le filtre de manière à inclure Q4.</span><span class="sxs-lookup"><span data-stu-id="a9d23-157">If you started with a partition that included historical data for Q1, Q2, and Q3, and you now merge Q4, you must adjust the filter to include Q4.</span></span> <span data-ttu-id="a9d23-158">Sinon, le traitement ultérieur de la partition générera des résultats erronés.</span><span class="sxs-lookup"><span data-stu-id="a9d23-158">Otherwise, subsequent processing of the partition will yield erroneous results.</span></span> <span data-ttu-id="a9d23-159">Il ne sera pas correct pour Q4.</span><span class="sxs-lookup"><span data-stu-id="a9d23-159">It will not be correct for Q4.</span></span>  
  
##  <a name="special-considerations-for-partitions-segmented-by-fact-table-or-named-query"></a><a name="bkmk_fact"></a><span data-ttu-id="a9d23-160">Considérations spéciales pour les partitions segmentées par une table de faits ou une requête nommée</span><span class="sxs-lookup"><span data-stu-id="a9d23-160">Special considerations for partitions segmented by fact table or named query</span></span>  
 <span data-ttu-id="a9d23-161">Outre les requêtes, les partitions peuvent également être segmentées par une table ou une requête nommée.</span><span class="sxs-lookup"><span data-stu-id="a9d23-161">In addition to queries, partitions can also be segmented by table or named query.</span></span> <span data-ttu-id="a9d23-162">Si la partition source et la partition cible utilisent la même table de faits dans une source de données ou une vue de source de données, la propriété `Source` est valide après la fusion des partitions.</span><span class="sxs-lookup"><span data-stu-id="a9d23-162">If the source partition and target partition use the same fact table in a data source or data source view, the `Source` property is valid after merging partitions.</span></span> <span data-ttu-id="a9d23-163">Elle spécifie les données de la table de faits qui sont appropriées à la partition résultante.</span><span class="sxs-lookup"><span data-stu-id="a9d23-163">It specifies the fact table data that is appropriate to the resulting partition.</span></span> <span data-ttu-id="a9d23-164">Étant donné que les faits nécessaires à la partition résultante existent dans la table de faits, aucune modification de la propriété `Source` n'est requise.</span><span class="sxs-lookup"><span data-stu-id="a9d23-164">Because the facts that are required for the resulting partition are present in the fact table, no modification to the `Source` property is necessary.</span></span>  
  
 <span data-ttu-id="a9d23-165">Les partitions utilisant des données provenant de plusieurs tables de faits ou requêtes nommées requièrent un travail supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="a9d23-165">Partitions using data from multiple fact tables or named queries require additional work.</span></span> <span data-ttu-id="a9d23-166">Vous devez fusionner manuellement les faits de la table de faits de la partition source dans la table de faits de la partition de destination.</span><span class="sxs-lookup"><span data-stu-id="a9d23-166">You must manually merge the facts from the fact table of the source partition into the fact table of the target partition.</span></span>  
  
 <span data-ttu-id="a9d23-167">Vous pouvez également remplacer la source pour la partition fusionnée par une requête nommée qui retourne le contenu de deux tables de faits distinctes.</span><span class="sxs-lookup"><span data-stu-id="a9d23-167">Alternatively, you can change the source for the merged partition to a named query that returns the contents of two separate fact tables.</span></span> <span data-ttu-id="a9d23-168">Si vous n'effectuez pas cette opération manuelle, les informations contenues dans la table de faits ne seront pas complètes.</span><span class="sxs-lookup"><span data-stu-id="a9d23-168">If this manual step is not performed, the fact table does not contain complete information.</span></span>  
  
 <span data-ttu-id="a9d23-169">Pour la même raison, les partitions obtenant des données segmentées de requêtes nommées requièrent également une mise à jour.</span><span class="sxs-lookup"><span data-stu-id="a9d23-169">For the same reason, partitions obtaining segmented data from named queries also require updating.</span></span> <span data-ttu-id="a9d23-170">La partition associée doit maintenant avoir une requête nommée qui retourne le jeu de résultats combiné qui a été obtenu précédemment à partir des requêtes nommées distinctes.</span><span class="sxs-lookup"><span data-stu-id="a9d23-170">The combined partition must now have a named query that returns the combined result set that was previously obtained from the separate named queries.</span></span>  
  
## <a name="partition-storage-considerations-molap"></a><span data-ttu-id="a9d23-171">Considérations sur le stockage de partitions : MOLAP</span><span class="sxs-lookup"><span data-stu-id="a9d23-171">Partition storage considerations: MOLAP</span></span>  
 <span data-ttu-id="a9d23-172">Lors de la fusion de partitions MOLAP, les faits stockés dans les structures multidimensionnelles des partitions sont également fusionnés.</span><span class="sxs-lookup"><span data-stu-id="a9d23-172">When MOLAP partitions are merged, the facts stored in the multidimensional structures of the partitions are also merged.</span></span> <span data-ttu-id="a9d23-173">Ceci produit une partition complète et cohérente en interne.</span><span class="sxs-lookup"><span data-stu-id="a9d23-173">This results in an internally complete and consistent partition.</span></span> <span data-ttu-id="a9d23-174">Cependant, les faits stockés dans les partitions MOLAP sont des copies des faits de la table de faits.</span><span class="sxs-lookup"><span data-stu-id="a9d23-174">However, the facts stored in MOLAP partitions are copies of facts in the fact table.</span></span> <span data-ttu-id="a9d23-175">Lorsque la partition est traitée ultérieurement, les faits de la structure multidimensionnelle sont supprimés (seulement pour un traitement complet et d'actualisation) et les données sont copiées à partir de la table de faits, comme indiqué par la source de données et le filtre de la partition.</span><span class="sxs-lookup"><span data-stu-id="a9d23-175">When the partition is subsequently processed, the facts in the multidimensional structure are deleted (only for full and refresh) and data is copied from the fact table as specified by the data source and filter for the partition.</span></span> <span data-ttu-id="a9d23-176">Si la partition source utilise une table de faits différente de celle de la partition de destination, vous devez fusionner manuellement ces deux tables de faits pour vous assurer qu'un ensemble de données complet sera disponible au moment du traitement de la partition résultante.</span><span class="sxs-lookup"><span data-stu-id="a9d23-176">If the source partition uses a different fact table from the target partition, the fact table of the source partition must be manually merged with the fact table of the target partition to ensure that a complete set of data is available when the resulting partition is processed.</span></span> <span data-ttu-id="a9d23-177">Cela s'applique également si les deux partitions se basent sur des requêtes nommées différentes.</span><span class="sxs-lookup"><span data-stu-id="a9d23-177">This applies as well if the two partitions were based on different named queries.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="a9d23-178">Une partition MOLAP (OLAP multidimensionnel) fusionnée avec une table de faits incomplète contient une copie fusionnée en interne des données de la table de faits et fonctionne correctement jusqu'à son traitement.</span><span class="sxs-lookup"><span data-stu-id="a9d23-178">A merged MOLAP partition with an incomplete fact table contains an internally merged copy of fact table data and operates correctly until it is processed.</span></span>  
  
## <a name="partition-storage-considerations-holap-and-rolap-partitions"></a><span data-ttu-id="a9d23-179">Considérations sur le stockage de partitions : partitions HOLAP et ROLAP</span><span class="sxs-lookup"><span data-stu-id="a9d23-179">Partition storage considerations: HOLAP and ROLAP Partitions</span></span>  
 <span data-ttu-id="a9d23-180">Lorsque des partitions HOLAP ou ROLAP ayant des tables de faits différentes sont fusionnées, ces tables de faits ne sont pas automatiquement fusionnées.</span><span class="sxs-lookup"><span data-stu-id="a9d23-180">When HOLAP or ROLAP partitions that have different fact tables are merged, the fact tables are not automatically merged.</span></span> <span data-ttu-id="a9d23-181">À moins qu'elles ne soient fusionnées manuellement, seule la table de faits associée à la partition de destination est disponible pour la partition fusionnée.</span><span class="sxs-lookup"><span data-stu-id="a9d23-181">Unless the fact tables are manually merged, only the fact table associated with the target partition is available to the resulting partition.</span></span> <span data-ttu-id="a9d23-182">Les faits associés à la partition source ne permettent pas de développer le niveau inférieur d'une partition résultante, et au moment du traitement de la partition, les agrégations ne synthétiseront pas les données de la table non disponible.</span><span class="sxs-lookup"><span data-stu-id="a9d23-182">Facts associated with the source partition are not available for drilldown in the resulting partition, and when the partition is processed, aggregations do not summarize data from the unavailable table.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="a9d23-183">Une partition HOLAP ou ROLAP fusionnée avec une table de faits incomplète contient des agrégations exactes mais des faits incomplets.</span><span class="sxs-lookup"><span data-stu-id="a9d23-183">A merged HOLAP or ROLAP partition with an incomplete fact table contains accurate aggregations, but incomplete facts.</span></span> <span data-ttu-id="a9d23-184">Les requêtes qui font référence à des faits manquants renvoient des données incorrectes.</span><span class="sxs-lookup"><span data-stu-id="a9d23-184">Queries that refer to missing facts return incorrect data.</span></span> <span data-ttu-id="a9d23-185">Au moment du traitement de la partition, les agrégations sont uniquement calculées à partir des faits disponibles.</span><span class="sxs-lookup"><span data-stu-id="a9d23-185">When the partition is processed, aggregations are computed only from available facts.</span></span>  
  
 <span data-ttu-id="a9d23-186">L'absence des faits non disponibles ne se remarque pas nécessairement, à moins qu'un utilisateur ne tente de développer le niveau inférieur d'un fait d'une table non disponible ou n'exécute une requête qui nécessite un fait d'une table non disponible.</span><span class="sxs-lookup"><span data-stu-id="a9d23-186">The absence of unavailable facts might not be noticed unless a user attempts to drill down to a fact in the unavailable table or executes a query that requires a fact from the unavailable table.</span></span> <span data-ttu-id="a9d23-187">Étant donné que les agrégations sont associées pendant le processus de fusion, les requêtes dont les résultats sont uniquement fondés sur les agrégations renvoient des données exactes, tandis que les autres peuvent renvoyer des données erronées.</span><span class="sxs-lookup"><span data-stu-id="a9d23-187">Because aggregations are combined during the merge process, queries whose results are based only on aggregations return accurate data, whereas other queries may return inaccurate data.</span></span> <span data-ttu-id="a9d23-188">Même après le traitement de la partition résultante, les données manquantes d'une table de faits non disponible peuvent ne pas être remarquées, surtout si elles ne représentent qu'une faible partie des données combinées.</span><span class="sxs-lookup"><span data-stu-id="a9d23-188">Even after the resulting partition is processed, the missing data from the unavailable fact table may not be noticed, especially if it represents only a small portion of the combined data.</span></span>  
  
 <span data-ttu-id="a9d23-189">Les tables de faits peuvent être fusionnées avant ou après les partitions.</span><span class="sxs-lookup"><span data-stu-id="a9d23-189">Fact tables can be merged before or after merging the partitions.</span></span> <span data-ttu-id="a9d23-190">Cependant, les agrégations ne représenteront pas avec exactitude les faits sous-jacents tant que les deux opérations ne seront pas terminées.</span><span class="sxs-lookup"><span data-stu-id="a9d23-190">However, the aggregations will not accurately represent the underlying facts until both operations have been completed.</span></span> <span data-ttu-id="a9d23-191">Il est recommandé de procéder à la fusion des partitions HOLAP ou ROLAP qui ont accès à différentes tables de faits lorsque les utilisateurs ne sont pas connectés au cube qui contient ces partitions.</span><span class="sxs-lookup"><span data-stu-id="a9d23-191">It is recommended that you merge HOLAP or ROLAP partitions that access different fact tables when users are not connected to the cube that contains these partitions.</span></span>  
  
##  <a name="how-to-merge-partitions-using-ssms"></a><a name="bkmk_partitionSSMS"></a><span data-ttu-id="a9d23-192">Comment fusionner des partitions à l’aide de SSMS</span><span class="sxs-lookup"><span data-stu-id="a9d23-192">How to merge partitions using SSMS</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="a9d23-193">Avant de fusionner des partitions, commencez par copier les informations de filtrage de données (souvent, la clause WHERE pour les filtres basés sur des requêtes SQL).</span><span class="sxs-lookup"><span data-stu-id="a9d23-193">Before merging partitions, first copy the data filter information (often, the WHERE clause for filters based on SQL queries).</span></span> <span data-ttu-id="a9d23-194">Plus tard, une fois la fusion terminée, vous devrez mettre à jour la propriété Source de la partition contenant les données de faits cumulées.</span><span class="sxs-lookup"><span data-stu-id="a9d23-194">Later, after the merge is completed, you should update the Partition Source property of the partition containing the accumulated fact data.</span></span>  
  
1.  <span data-ttu-id="a9d23-195">Dans l’Explorateur d’objets, développez le nœud **Groupes de mesures** du cube contenant les partitions à fusionner, développez **Partitions**, cliquez avec le bouton droit sur la partition correspondant à la cible ou à la destination de la fusion.</span><span class="sxs-lookup"><span data-stu-id="a9d23-195">In Object Explorer, expand the **Measure Groups** node of the cube containing the partitions that you want to merge, expand **Partitions**, right-click the partition that is the target or destination of the merge operation.</span></span> <span data-ttu-id="a9d23-196">Par exemple, si vous déplacez des données de faits trimestrielles vers une partition qui stocke des données de faits annuelles, sélectionnez la partition qui contient les données de faits annuelles.</span><span class="sxs-lookup"><span data-stu-id="a9d23-196">For example, if you are moving quarterly fact data to a partition that stores annual fact data, select the partition that contains the annual fact data.</span></span>  
  
2.  <span data-ttu-id="a9d23-197">Cliquez sur **fusionner des partitions** pour ouvrir la boîte de dialogue **fusionner une \<partition name> partition** .</span><span class="sxs-lookup"><span data-stu-id="a9d23-197">Click **Merge Partitions** to open the **Merge Partition \<partition name>** dialog box.</span></span>  
  
3.  <span data-ttu-id="a9d23-198">Sous **Partitions sources**, cochez la case à côté de chaque partition source que vous voulez fusionner avec la partition cible, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="a9d23-198">Under **Source Partitions**, select the check box next to each source partition that you want to merge with the target partition, and click **OK**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="a9d23-199">Les partitions sources sont immédiatement supprimées une fois la source fusionnée dans la partition cible.</span><span class="sxs-lookup"><span data-stu-id="a9d23-199">Source partitions are immediately deleted after the source is merged into the target partition.</span></span> <span data-ttu-id="a9d23-200">Actualisez le dossier Partitions pour mettre à jour son contenu une fois la fusion terminée.</span><span class="sxs-lookup"><span data-stu-id="a9d23-200">Refresh the Partitions folder to update its contents after the merge is completed.</span></span>  
  
4.  <span data-ttu-id="a9d23-201">Cliquez avec le bouton droit sur la partition contenant les données cumulées et sélectionnez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="a9d23-201">Right-click the partition containing the accumulated data and select **Properties**.</span></span>  
  
5.  <span data-ttu-id="a9d23-202">Ouvrez la `Source` propriété et modifiez la clause WHERE pour qu’elle inclue les données de partition que vous venez de fusionner.</span><span class="sxs-lookup"><span data-stu-id="a9d23-202">Open the `Source` property and modify the WHERE clause so that it includes the partition data you just merged.</span></span> <span data-ttu-id="a9d23-203">Souvenez-vous que la `Source` propriété n’est pas mise à jour automatiquement.</span><span class="sxs-lookup"><span data-stu-id="a9d23-203">Recall that the `Source` property is not updated automatically.</span></span> <span data-ttu-id="a9d23-204">Si vous retraitez sans commencer par mettre à jour le `Source` , vous risquez de ne pas recevoir toutes les données attendues.</span><span class="sxs-lookup"><span data-stu-id="a9d23-204">If you reprocess without first updating the `Source`, you might not get all of the expected data.</span></span>  
  
##  <a name="how-to-merge-partitions-using-xmla"></a><a name="bkmk_partitionsXMLA"></a> <span data-ttu-id="a9d23-205">Procédure pour fusionner des partitions à l'aide de XMLA</span><span class="sxs-lookup"><span data-stu-id="a9d23-205">How to merge partitions using XMLA</span></span>  
 <span data-ttu-id="a9d23-206">Pour plus d’informations, consultez [Fusion de partitions &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/merging-partitions-xmla.md).</span><span class="sxs-lookup"><span data-stu-id="a9d23-206">See this topic for information, [Merging Partitions &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/merging-partitions-xmla.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a9d23-207">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="a9d23-207">See Also</span></span>  
 <span data-ttu-id="a9d23-208">[Traitement des objets Analysis Services](processing-analysis-services-objects.md) </span><span class="sxs-lookup"><span data-stu-id="a9d23-208">[Processing Analysis Services Objects](processing-analysis-services-objects.md) </span></span>  
 <span data-ttu-id="a9d23-209">[Partitions &#40;Analysis Services-données multidimensionnelles&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span><span class="sxs-lookup"><span data-stu-id="a9d23-209">[Partitions &#40;Analysis Services - Multidimensional Data&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span></span>  
 <span data-ttu-id="a9d23-210">[Créer et gérer une partition locale &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="a9d23-210">[Create and Manage a Local Partition &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md) </span></span>  
 <span data-ttu-id="a9d23-211">[Créer et gérer une partition distante &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="a9d23-211">[Create and Manage a Remote Partition &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md) </span></span>  
 <span data-ttu-id="a9d23-212">[Définir l’écriture différée de partition](set-partition-writeback.md) </span><span class="sxs-lookup"><span data-stu-id="a9d23-212">[Set Partition Writeback](set-partition-writeback.md) </span></span>  
 <span data-ttu-id="a9d23-213">[Partitions activées en écriture](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span><span class="sxs-lookup"><span data-stu-id="a9d23-213">[Write-Enabled Partitions](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span></span>  
 [<span data-ttu-id="a9d23-214">Configurer le stockage de chaînes pour des dimensions et des partitions</span><span class="sxs-lookup"><span data-stu-id="a9d23-214">Configure String Storage for Dimensions and Partitions</span></span>](configure-string-storage-for-dimensions-and-partitions.md)  
  
  
