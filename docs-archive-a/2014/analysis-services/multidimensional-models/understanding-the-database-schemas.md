---
title: Fonctionnement des schémas de base de données | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Schema Generation Wizard, database schema
- database schema [Analysis Services]
- relational schema [Analysis Services], database schema
- subject area schema options [Analysis Services]
- staging area schema options [Analysis Services]
- denormalized schemas
ms.assetid: 51e411f9-ee3f-4b92-9833-c2bce8c6b752
author: minewiskan
ms.author: owend
ms.openlocfilehash: 84f44db1b7abca1b8cad45cf5f46fcc0006bd92a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87700326"
---
# <a name="understanding-the-database-schemas"></a><span data-ttu-id="e5e2b-102">Présentation des schémas de base de données</span><span class="sxs-lookup"><span data-stu-id="e5e2b-102">Understanding the Database Schemas</span></span>
  <span data-ttu-id="e5e2b-103">L'Assistant Génération de schéma crée pour la base de données de la zone de sujet un schéma relationnel dénormalisé basé sur les dimensions et les groupes de mesures définis dans [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e5e2b-103">The Schema Generation Wizard generates a denormalized relational schema for the subject area database based on the dimensions and measure groups in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="e5e2b-104">L'Assistant génère pour chaque dimension une table relationnelle appelée table de dimension, destinée à stocker les données de dimension, et pour chaque groupe de mesures une table relationnelle appelée table de faits, servant à stocker les données de faits.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-104">The wizard generates a relational table for each dimension to store dimension data, which is called a dimension table, and a relational table for each measure group to store fact data, which is called a fact table.</span></span> <span data-ttu-id="e5e2b-105">Lorsqu'il génère ces tables relationnelles, l'Assistant ignore les dimensions liées, les groupes de mesures liés et les dimensions de temps de serveur.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-105">The wizard ignores linked dimensions, linked measure groups, and server time dimensions when it generates these relational tables.</span></span>  
  
## <a name="validation"></a><span data-ttu-id="e5e2b-106">Validation</span><span class="sxs-lookup"><span data-stu-id="e5e2b-106">Validation</span></span>  
 <span data-ttu-id="e5e2b-107">Avant de commencer à générer le schéma relationnel sous-jacent, l'Assistant Génération de schéma valide les cubes et les dimensions [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e5e2b-107">Before it begins to generate the underlying relational schema, the Schema Generation Wizard validates the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions.</span></span> <span data-ttu-id="e5e2b-108">Si l'Assistant détecte des erreurs, il s'arrête et signale ces erreurs dans la fenêtre Liste des tâches de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e5e2b-108">If the wizard detects errors, it stops and reports the errors to the Task List window in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="e5e2b-109">Voici quelques exemples d'erreurs qui empêchent la génération :</span><span class="sxs-lookup"><span data-stu-id="e5e2b-109">Examples of errors that prevent generation include the following:</span></span>  
  
-   <span data-ttu-id="e5e2b-110">Les dimensions qui ont plus d'un attribut clé.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-110">Dimensions that have more than one key attribute.</span></span>  
  
-   <span data-ttu-id="e5e2b-111">Les attributs parents qui ont des types de données différents de ceux des attributs clés.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-111">Parent attributes that have different data types than the key attributes.</span></span>  
  
-   <span data-ttu-id="e5e2b-112">Les groupes de mesures dépourvus de mesures.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-112">Measure groups that do not have measures.</span></span>  
  
-   <span data-ttu-id="e5e2b-113">Les dimensions dégénérées ou les mesures mal configurées.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-113">Degenerate dimensions or measures that are improperly configured.</span></span>  
  
-   <span data-ttu-id="e5e2b-114">Les clés de substitution mal configurées, par exemple plusieurs attributs utilisant le type d'attribut `ScdOriginalID` ou un attribut utilisant le type `ScdOriginalID` sans être lié à une colonne utilisant le type de données Integer.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-114">Surrogate keys that are improperly configured, such as multiple attributes using the `ScdOriginalID` attribute type or an attribute using the `ScdOriginalID` that is not bound to a column using the integer data type.</span></span>  
  
## <a name="dimension-tables"></a><span data-ttu-id="e5e2b-115">Tables de dimension</span><span class="sxs-lookup"><span data-stu-id="e5e2b-115">Dimension Tables</span></span>  
 <span data-ttu-id="e5e2b-116">Pour chaque dimension, l'Assistant Génération de schéma crée une table de dimension à inclure dans la base de données de la zone de sujet.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-116">For each dimension, the Schema Generation Wizard generates a dimension table to be included in the subject area database.</span></span> <span data-ttu-id="e5e2b-117">La structure de la table de dimension dépend des choix effectués lors de la conception de la dimension sur laquelle elle est basée.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-117">The structure of the dimension table depends on the choices made while designing the dimension on which it is based.</span></span>  
  
 <span data-ttu-id="e5e2b-118">Colonnes</span><span class="sxs-lookup"><span data-stu-id="e5e2b-118">Columns</span></span>  
 <span data-ttu-id="e5e2b-119">L'Assistant génère une colonne pour les liaisons associées à chaque attribut de la dimension sur laquelle la table de dimension est basée, par exemple les liaisons pour les propriétés `KeyColumns`, `NameColumn`, `ValueColumn`, `CustomRollupColumn`, `CustomRollupPropertiesColumn` et `UnaryOperatorColumn` de chaque attribut.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-119">The wizard generates one column for the bindings associated to each attribute in the dimension on which the dimension table is based, such as the bindings for the `KeyColumns`, `NameColumn`, `ValueColumn`, `CustomRollupColumn`, `CustomRollupPropertiesColumn`, and `UnaryOperatorColumn` properties of each attribute.</span></span>  
  
 <span data-ttu-id="e5e2b-120">Relations</span><span class="sxs-lookup"><span data-stu-id="e5e2b-120">Relationships</span></span>  
 <span data-ttu-id="e5e2b-121">L'Assistant génère une relation entre la colonne de chaque attribut parent et la clé primaire de la table de dimension.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-121">The wizard generates a relationship between the column for each parent attribute and the primary key of the dimension table.</span></span>  
  
 <span data-ttu-id="e5e2b-122">L'Assistant crée également, s'il y a lieu, une relation à la clé primaire de chaque table de dimension supplémentaire définie comme dimension référencée du cube.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-122">The wizard also generates a relationship to the primary key in each additional dimension table defined as a referenced dimension in the cube, if applicable.</span></span>  
  
 <span data-ttu-id="e5e2b-123">Contraintes</span><span class="sxs-lookup"><span data-stu-id="e5e2b-123">Constraints</span></span>  
 <span data-ttu-id="e5e2b-124">L'Assistant génère par défaut pour chaque table de dimension une contrainte de clé primaire basée sur l'attribut clé de la dimension.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-124">The wizard generates a primary key constraint, by default, for each dimension table based on the key attribute of the dimension.</span></span> <span data-ttu-id="e5e2b-125">Si la contrainte de clé primaire est générée, une colonne de nom séparée est créée par défaut.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-125">If the primary key constraint is generated, a separate name column is generated by default.</span></span> <span data-ttu-id="e5e2b-126">Une clé primaire logique est créée dans la vue de source de données même si vous décidez de ne pas créer la clé primaire dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-126">A logical primary key is created in the data source view even if you decide not to create the primary key in the database.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e5e2b-127">Une erreur se produit si plusieurs attributs clés sont spécifiés dans la dimension sur laquelle la table de dimension est basée.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-127">An error occurs if more than one key attribute is specified in the dimension on which the dimension table is based.</span></span>  
  
 <span data-ttu-id="e5e2b-128">Translations</span><span class="sxs-lookup"><span data-stu-id="e5e2b-128">Translations</span></span>  
 <span data-ttu-id="e5e2b-129">L'Assistant génère une table séparée pour stocker les valeurs traduites de tout attribut qui nécessite une colonne de traduction.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-129">The wizard generates a separate table to hold the translated values for any attribute that requires a translation column.</span></span> <span data-ttu-id="e5e2b-130">L'Assistant crée également une colonne séparée pour chacune des langues requises.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-130">The wizard also creates a separate column for each of the required languages.</span></span>  
  
## <a name="fact-tables"></a><span data-ttu-id="e5e2b-131">Tables de faits</span><span class="sxs-lookup"><span data-stu-id="e5e2b-131">Fact Tables</span></span>  
 <span data-ttu-id="e5e2b-132">Pour chaque groupe de mesures d'un cube, l'Assistant Génération de schéma crée une table de faits à inclure dans la base de données de la zone de sujet.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-132">For each measure group in a cube, the Schema Generation Wizard generates a fact table to be included in the subject area database.</span></span> <span data-ttu-id="e5e2b-133">La structure de la table de faits dépend des choix effectués lors de la conception du groupe de mesures sur lequel elle est basée et des relations établies entre le groupe de mesures et les dimensions incluses.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-133">The structure of the fact table depends on the choices made while designing the measure group on which it is based, and the relationships established between the measure group and any included dimensions.</span></span>  
  
 <span data-ttu-id="e5e2b-134">Colonnes</span><span class="sxs-lookup"><span data-stu-id="e5e2b-134">Columns</span></span>  
 <span data-ttu-id="e5e2b-135">L'Assistant génère une colonne pour chaque mesure, sauf pour les mesures qui utilisent la fonction d'agrégation `Count`.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-135">The wizard generates one column for each measure, except for measures that use the `Count` aggregation function.</span></span> <span data-ttu-id="e5e2b-136">En effet, de telles mesures ne nécessitent pas de colonne correspondante dans la table de faits.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-136">Such measures do not require a corresponding column in the fact table.</span></span>  
  
 <span data-ttu-id="e5e2b-137">L'Assistant génère également une colonne pour chaque colonne d'attribut de granularité de chaque relation de dimension régulière du groupe de mesures et, s'il y a lieu, une ou plusieurs colonnes pour les liaisons associées à chaque attribut d'une dimension qui entretient une relation de dimension de fait avec le groupe de mesures sur lequel cette table est basée.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-137">The wizard also generates one column for each granularity attribute column of each regular dimension relationship on the measure group, and one or more columns for the bindings associated to each attribute of a dimension that has a fact dimension relationship to the measure group on which this table is based, if applicable.</span></span>  
  
 <span data-ttu-id="e5e2b-138">Relations</span><span class="sxs-lookup"><span data-stu-id="e5e2b-138">Relationships</span></span>  
 <span data-ttu-id="e5e2b-139">L'Assistant génère une relation pour chaque relation de dimension régulière de la table de faits à l'attribut de granularité de la table de la dimension.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-139">The wizard generates one relationship for each regular dimension relationship from the fact table to the dimension table's granularity attribute.</span></span> <span data-ttu-id="e5e2b-140">Si la granularité est basée sur l'attribut clé de la table de dimension, la relation est créée dans la base de données et dans la vue de source de données.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-140">If the granularity is based on the key attribute of the dimension table, the relationship is created in the database and in the data source view.</span></span> <span data-ttu-id="e5e2b-141">Si la granularité est basée sur un autre attribut, la relation n'est créée que dans la vue de source de données.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-141">If the granularity is based on another attribute, the relationship is created only in the data source view.</span></span>  
  
 <span data-ttu-id="e5e2b-142">Si vous avez choisi de générer des index dans l’Assistant, un index non-cluster est généré pour chacune de ces colonnes de relation.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-142">If you chose to generate indexes in the wizard, a nonclustered index is generated for each of these relationship columns.</span></span>  
  
 <span data-ttu-id="e5e2b-143">Contraintes</span><span class="sxs-lookup"><span data-stu-id="e5e2b-143">Constraints</span></span>  
 <span data-ttu-id="e5e2b-144">Les clés primaires ne sont pas générées sur les tables de faits.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-144">Primary keys are not generated on fact tables.</span></span>  
  
 <span data-ttu-id="e5e2b-145">Si vous choisissez d'appliquer l'intégrité référentielle, des contraintes d'intégrité référentielle sont générées, le cas échéant, entre les tables de dimension et les tables de faits.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-145">If you chose to enforce referential integrity, referential integrity constraints are generated between dimension tables and fact tables where applicable.</span></span>  
  
 <span data-ttu-id="e5e2b-146">Translations</span><span class="sxs-lookup"><span data-stu-id="e5e2b-146">Translations</span></span>  
 <span data-ttu-id="e5e2b-147">L'Assistant génère une table séparée pour stocker les valeurs traduites de toute propriété du groupe de mesures qui nécessite une colonne de traduction.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-147">The wizard generates a separate table to hold the translated values for any property in the measure group that requires a translation column.</span></span> <span data-ttu-id="e5e2b-148">L'Assistant crée également une colonne séparée pour chacune des langues requises.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-148">The wizard also creates a separate column for each of the required languages.</span></span>  
  
## <a name="data-type-conversion-and-default-lengths"></a><span data-ttu-id="e5e2b-149">Conversion de type de données et longueurs par défaut</span><span class="sxs-lookup"><span data-stu-id="e5e2b-149">Data Type Conversion and Default Lengths</span></span>  
 <span data-ttu-id="e5e2b-150">L’Assistant génération de schéma ignore les types de données dans tous les cas, à l’exception des colonnes qui utilisent le [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] `wchar` type de données.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-150">Schema Generation Wizard ignores data types in all cases except for columns that use the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] `wchar` data type.</span></span> <span data-ttu-id="e5e2b-151">Le type de données `wchar` se traduit directement en type de données `nvarchar`.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-151">The `wchar` data size translates directly to the `nvarchar` data type.</span></span> <span data-ttu-id="e5e2b-152">Toutefois, si la longueur spécifiée d'une colonne utilisant le type `wchar` dépasse 4 000 octets, l'Assistant Génération de schéma produit une erreur.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-152">However, if the specified length of a column using the `wchar` size is larger than 4000 bytes, the Schema Generation Wizard generates an error.</span></span>  
  
 <span data-ttu-id="e5e2b-153">Le tableau suivant indique la longueur par défaut de la colonne si un élément de données, par exemple la liaison d'un attribut, n'a pas de longueur spécifiée.</span><span class="sxs-lookup"><span data-stu-id="e5e2b-153">If a data item, such as the binding for an attribute, has no specified length, the default length listed in the following table is used for the column.</span></span>  
  
|<span data-ttu-id="e5e2b-154">Élément de données</span><span class="sxs-lookup"><span data-stu-id="e5e2b-154">Data item</span></span>|<span data-ttu-id="e5e2b-155">Longueur par défaut (en octets)</span><span class="sxs-lookup"><span data-stu-id="e5e2b-155">Default length (bytes)</span></span>|  
|---------------|------------------------------|  
|<span data-ttu-id="e5e2b-156">KeyColumn</span><span class="sxs-lookup"><span data-stu-id="e5e2b-156">KeyColumn</span></span>|<span data-ttu-id="e5e2b-157">50</span><span class="sxs-lookup"><span data-stu-id="e5e2b-157">50</span></span>|  
|<span data-ttu-id="e5e2b-158">NameColumn</span><span class="sxs-lookup"><span data-stu-id="e5e2b-158">NameColumn</span></span>|<span data-ttu-id="e5e2b-159">50</span><span class="sxs-lookup"><span data-stu-id="e5e2b-159">50</span></span>|  
|<span data-ttu-id="e5e2b-160">CustomRollupColumn</span><span class="sxs-lookup"><span data-stu-id="e5e2b-160">CustomRollupColumn</span></span>|<span data-ttu-id="e5e2b-161">3000</span><span class="sxs-lookup"><span data-stu-id="e5e2b-161">3000</span></span>|  
|<span data-ttu-id="e5e2b-162">CustomRollupPropertiesColumn</span><span class="sxs-lookup"><span data-stu-id="e5e2b-162">CustomRollupPropertiesColumn</span></span>|<span data-ttu-id="e5e2b-163">500</span><span class="sxs-lookup"><span data-stu-id="e5e2b-163">500</span></span>|  
|<span data-ttu-id="e5e2b-164">UnaryOperatorColumn</span><span class="sxs-lookup"><span data-stu-id="e5e2b-164">UnaryOperatorColumn</span></span>|<span data-ttu-id="e5e2b-165">1</span><span class="sxs-lookup"><span data-stu-id="e5e2b-165">1</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="e5e2b-166">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="e5e2b-166">See Also</span></span>  
 <span data-ttu-id="e5e2b-167">[Fonctionnement de la génération incrémentielle](understanding-incremental-generation.md) </span><span class="sxs-lookup"><span data-stu-id="e5e2b-167">[Understanding Incremental Generation](understanding-incremental-generation.md) </span></span>  
 [<span data-ttu-id="e5e2b-168">Gérer des modifications dans les vues de source de données et les sources de données</span><span class="sxs-lookup"><span data-stu-id="e5e2b-168">Manage Changes to Data Source Views and Data Sources</span></span>](manage-changes-to-data-source-views-and-data-sources.md)  
  
  
