---
title: Accorder un accès personnalisé à des données de dimension (Analysis Services) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.roledesignerdialog.dimensiondata.f1
helpviewer_keywords:
- dimensions [Analysis Services], security
- AllowedSet property
- IsAllowed property
- DeniedSet property
- user access rights [Analysis Services], dimensions
- custom dimension data access [Analysis Services]
- permissions [Analysis Services], dimensions
- DefaultMember property
- VisualTotals property
- ApplyDenied property
ms.assetid: b028720d-3785-4381-9572-157d13ec4291
author: minewiskan
ms.author: owend
ms.openlocfilehash: 4d3f91fef6410e05bfd9014f3f2db67530e83e5e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87694768"
---
# <a name="grant-custom-access-to-dimension-data-analysis-services"></a><span data-ttu-id="9487b-102">Octroyer un accès personnalisé à des données de dimension (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="9487b-102">Grant custom access to dimension data (Analysis Services)</span></span>
  <span data-ttu-id="9487b-103">Après avoir activé l'accès en lecture à un cube, vous pouvez définir des autorisations supplémentaires qui accordent ou refusent explicitement l'accès aux membres de dimension (y compris les mesures contenues dans la dimension de mesures contenant toutes les mesures utilisées dans un cube).</span><span class="sxs-lookup"><span data-stu-id="9487b-103">After enabling read access to a cube, you can set additional permissions that explicitly allow or deny access to dimension members (including measures contained in the Measures Dimension containing all of the measures used in a cube).</span></span> <span data-ttu-id="9487b-104">Par exemple, étant donné plusieurs catégories de revendeurs, vous pouvez définir des autorisations pour exclure les données d'un type spécifique.</span><span class="sxs-lookup"><span data-stu-id="9487b-104">For example, given multiple categories of resellers, you might want to set permissions to exclude data for a specific business type.</span></span> <span data-ttu-id="9487b-105">L'illustration suivante est une représentation avant/après du refus de l'accès au type d'entreprise Warehouse dans la dimension Reseller.</span><span class="sxs-lookup"><span data-stu-id="9487b-105">The following illustration is a before-and-after effect of denying access to the Warehouse business type in the Reseller dimension.</span></span>  
  
 <span data-ttu-id="9487b-106">![Tableaux croisés dynamiques avec et sans membre de dimension](../media/ssas-permsdimdenied.png "Tableaux croisés dynamiques avec et sans membre de dimension")</span><span class="sxs-lookup"><span data-stu-id="9487b-106">![PivotTables with and without a dimension member](../media/ssas-permsdimdenied.png "PivotTables with and without a dimension member")</span></span>  
  
 <span data-ttu-id="9487b-107">Par défaut, si vous pouvez lire les données d’un cube [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , vous disposez automatiquement d’autorisations d’accès en lecture pour toutes les mesures et tous les membres de dimension associés à ce cube.</span><span class="sxs-lookup"><span data-stu-id="9487b-107">By default, if you can read data from an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cube, you automatically have read permissions on all measures and dimension members associated with that cube.</span></span> <span data-ttu-id="9487b-108">Ce comportement peut être suffisant pour de nombreux scénarios, cependant parfois des exigences de sécurité demandent une stratégie d'autorisation segmentée, avec différents niveaux d'accès pour différents utilisateurs dans la même dimension.</span><span class="sxs-lookup"><span data-stu-id="9487b-108">While this behavior might be sufficient for many scenarios, sometimes security requirements call for a more segmented authorization strategy, with varying levels of access for different users, on the same dimension.</span></span>  
  
 <span data-ttu-id="9487b-109">Vous pouvez limiter l’accès en choisissant les membres auxquels accorder (AllowedSet) ou refuser (DeniedSet) l’accès.</span><span class="sxs-lookup"><span data-stu-id="9487b-109">You can restrict access by choosing which members to allow (AllowedSet) or deny (DeniedSet) access.</span></span> <span data-ttu-id="9487b-110">Pour ce faire, vous sélectionnez ou désélectionnez les membres de la dimension à inclure ou exclure du rôle.</span><span class="sxs-lookup"><span data-stu-id="9487b-110">You do this by either selecting or deselecting dimension members to include or exclude from the role.</span></span>  
  
 <span data-ttu-id="9487b-111">La sécurité de base de la dimension est la plus simple : il suffit de sélectionner les attributs de dimension et les hiérarchies d'attributs à inclure ou à exclure dans le rôle.</span><span class="sxs-lookup"><span data-stu-id="9487b-111">Basic dimension security is the easiest; you simply select which dimension attributes and attribute hierarchies to include or exclude in the role.</span></span> <span data-ttu-id="9487b-112">La sécurité avancée est plus complexe et nécessite une connaissance des scripts MDX.</span><span class="sxs-lookup"><span data-stu-id="9487b-112">Advanced security is more complex and requires expertise in MDX scripting.</span></span> <span data-ttu-id="9487b-113">Les deux approches sont décrites ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="9487b-113">Both approaches are described below.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="9487b-114">Prérequis</span><span class="sxs-lookup"><span data-stu-id="9487b-114">Prerequisites</span></span>  
 <span data-ttu-id="9487b-115">Vous ne pouvez pas utiliser toutes les mesures, ni tous les membres de dimension dans les scénarios d'accès personnalisés.</span><span class="sxs-lookup"><span data-stu-id="9487b-115">Not all measures or dimension members can be used in custom access scenarios.</span></span> <span data-ttu-id="9487b-116">Une connexion échoue si un rôle restreint l'accès à une mesure ou un membre par défaut, ou s'il restreint l'accès à des mesures qui font partie d'expressions de mesure.</span><span class="sxs-lookup"><span data-stu-id="9487b-116">A connection will fail if a role restricts access to a default measure or member, or restricts access to measures that are part of measure expressions.</span></span>  
  
 <span data-ttu-id="9487b-117">**Vérifier les obstructions en matière de sécurité des dimensions : mesures par défaut, membres par défaut et mesures utilisées dans les expressions de mesure**</span><span class="sxs-lookup"><span data-stu-id="9487b-117">**Check for obstructions to dimension security: default measures, default members, and measures used in measure expressions**</span></span>  
  
1.  <span data-ttu-id="9487b-118">Dans SQL Server Management Studio, cliquez avec le bouton droit sur un cube, puis sélectionnez générer un **script du cube en tant que**  |  **modification de**la fenêtre de l'  |  **éditeur de requête**.</span><span class="sxs-lookup"><span data-stu-id="9487b-118">In SQL Server Management Studio, right-click a cube and select **Script Cube as** | **ALTER To** | **New Query Editor Window**.</span></span>  
  
2.  <span data-ttu-id="9487b-119">Recherchez `DefaultMeasure`.</span><span class="sxs-lookup"><span data-stu-id="9487b-119">Search for `DefaultMeasure`.</span></span> <span data-ttu-id="9487b-120">Vous devriez en trouver une pour le cube, et une pour chaque perspective.</span><span class="sxs-lookup"><span data-stu-id="9487b-120">You should find one for the cube, and one for each perspective.</span></span> <span data-ttu-id="9487b-121">Quand vous définissez la sécurité des dimensions, évitez de restreindre l'accès aux mesures par défaut.</span><span class="sxs-lookup"><span data-stu-id="9487b-121">When defining dimension security, avoid restricting access to default measures.</span></span>  
  
3.  <span data-ttu-id="9487b-122">Recherchez ensuite `MeasureExpression`.</span><span class="sxs-lookup"><span data-stu-id="9487b-122">Next, search for `MeasureExpression`.</span></span> <span data-ttu-id="9487b-123">Une expression de mesure est une mesure basée sur un calcul, qui inclut souvent d'autres mesures.</span><span class="sxs-lookup"><span data-stu-id="9487b-123">A measure expression is a measure, based on a calculation, where the calculation often includes other measures.</span></span> <span data-ttu-id="9487b-124">Vérifiez que la mesure que vous souhaitez restreindre n'est pas utilisée dans une expression.</span><span class="sxs-lookup"><span data-stu-id="9487b-124">Verify that the measure you want to restrict is not used in an expression.</span></span> <span data-ttu-id="9487b-125">Sinon, continuez et limitez l'accès. Toutefois, veillez à exclure également toutes les références à cette mesure dans l'ensemble du cube.</span><span class="sxs-lookup"><span data-stu-id="9487b-125">Alternatively, go ahead and restrict access, just make sure to also exclude all references to that measure throughout the cube.</span></span>  
  
4.  <span data-ttu-id="9487b-126">Enfin, recherchez `DefaultMember`.</span><span class="sxs-lookup"><span data-stu-id="9487b-126">Finally, search for `DefaultMember`.</span></span> <span data-ttu-id="9487b-127">Notez tous les attributs qui servent de membre par défaut à un attribut.</span><span class="sxs-lookup"><span data-stu-id="9487b-127">Make a note of any attributes that serve as a default member of an attribute.</span></span> <span data-ttu-id="9487b-128">Évitez d'appliquer des restrictions à ces attributs quand vous définissez la sécurité des dimensions.</span><span class="sxs-lookup"><span data-stu-id="9487b-128">Avoid putting restrictions on those attributes when setting up dimension security.</span></span>  
  
## <a name="basic-dimension-security"></a><span data-ttu-id="9487b-129">Sécurité de base de la dimension</span><span class="sxs-lookup"><span data-stu-id="9487b-129">Basic dimension security</span></span>  
  
1.  <span data-ttu-id="9487b-130">Dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , connectez-vous à l’instance de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , développez **rôles** pour la base de données appropriée dans l’Explorateur d’objets, puis cliquez sur un rôle de base de données (ou créez un rôle de base de données).</span><span class="sxs-lookup"><span data-stu-id="9487b-130">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], connect to the instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], expand **Roles** for the appropriate database in Object Explorer, and then click a database role (or create a new database role).</span></span>  
  
     <span data-ttu-id="9487b-131">Le rôle doit déjà avoir l'accès en lecture sur le cube.</span><span class="sxs-lookup"><span data-stu-id="9487b-131">The role should already have read access to the cube.</span></span> <span data-ttu-id="9487b-132">Pour plus d’informations, consultez [Octroyer des autorisations de cube ou de modèle &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) .</span><span class="sxs-lookup"><span data-stu-id="9487b-132">See [Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) if you need help with this step.</span></span>  
  
2.  <span data-ttu-id="9487b-133">Dans **dimension Data**  |  **base**, sélectionnez la dimension pour laquelle vous définissez des autorisations.</span><span class="sxs-lookup"><span data-stu-id="9487b-133">On **Dimension Data** | **Basic**, select the dimension for which you are setting permissions.</span></span>  
  
3.  <span data-ttu-id="9487b-134">Choisissez la hiérarchie d'attribut.</span><span class="sxs-lookup"><span data-stu-id="9487b-134">Choose the attribute hierarchy.</span></span> <span data-ttu-id="9487b-135">Tous les attributs ne seront pas disponibles.</span><span class="sxs-lookup"><span data-stu-id="9487b-135">Not all attributes will be available.</span></span> <span data-ttu-id="9487b-136">Seuls les attributs avec **AttributeHierarchyEnabled** s’affichent dans la liste **Hiérarchie d’attribut** .</span><span class="sxs-lookup"><span data-stu-id="9487b-136">Only those attributes having **AttributeHierarchyEnabled** appear in the **Attribute Hierarchy** list.</span></span>  
  
4.  <span data-ttu-id="9487b-137">Choisissez les membres auxquels autoriser ou refuser l'accès.</span><span class="sxs-lookup"><span data-stu-id="9487b-137">Choose which members to allow or deny access.</span></span> <span data-ttu-id="9487b-138">L’autorisation d’accès, via l’option **Sélectionner tous les membres** , est l’option par défaut.</span><span class="sxs-lookup"><span data-stu-id="9487b-138">Allowing access, through the **Select all members** option, is the default.</span></span> <span data-ttu-id="9487b-139">Nous vous suggérons de conserver cette valeur par défaut, puis de désélectionner chaque membre individuel qui ne doit pas être visible aux comptes d’utilisateur et de groupe Windows dans le volet **Appartenances** via ce rôle.</span><span class="sxs-lookup"><span data-stu-id="9487b-139">We suggest you keep this default and then clear individual members that should not be visible to the Windows user and group accounts in the **Memberships** pane via this role.</span></span> <span data-ttu-id="9487b-140">L'avantage de ce choix est que les nouveaux membres ajoutés dans des opérations de traitement futures sont automatiquement disponibles aux personnes qui se connectent via ce rôle.</span><span class="sxs-lookup"><span data-stu-id="9487b-140">The advantage is that new members added in future processing operations are automatically available to people connecting through this role.</span></span>  
  
     <span data-ttu-id="9487b-141">Vous pouvez également **Désélectionner tous les membres** pour révoquer l’accès de façon globale, puis sélectionner les membres à autoriser.</span><span class="sxs-lookup"><span data-stu-id="9487b-141">Alternatively, you can **Deselect all members** to revoke access overall, and then pick which members to allow.</span></span> <span data-ttu-id="9487b-142">Dans les opérations de traitement futures, les nouveaux membres ne sont pas visibles tant que vous ne modifiez pas manuellement la sécurité des données de la dimension pour autoriser l'accès.</span><span class="sxs-lookup"><span data-stu-id="9487b-142">In future processing operations, new members are not visible until you manually edit dimension data security to allow access to them.</span></span>  
  
5.  <span data-ttu-id="9487b-143">Si vous le souhaitez, cliquez sur **avancé** pour activer `Visual Totals` cette hiérarchie d’attribut.</span><span class="sxs-lookup"><span data-stu-id="9487b-143">Optionally, click **Advanced** to enable `Visual Totals` for this attribute hierarchy.</span></span> <span data-ttu-id="9487b-144">Cette option recalcule les agrégations en fonction des membres disponibles via ce rôle.</span><span class="sxs-lookup"><span data-stu-id="9487b-144">This option recalculates aggregations based on the members available through the role.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9487b-145">Lorsque vous appliquez des autorisations qui suppriment des membres de la dimension, les totaux agrégés ne sont pas automatiquement recalculés.</span><span class="sxs-lookup"><span data-stu-id="9487b-145">When applying permissions that trim dimension members, aggregated totals are not recalculated automatically.</span></span> <span data-ttu-id="9487b-146">Supposons que le `All` membre d’une hiérarchie d’attribut retourne un nombre de 200 avant l’application des autorisations.</span><span class="sxs-lookup"><span data-stu-id="9487b-146">Suppose the `All` member of an attribute hierarchy returns a count of 200 before permissions are applied.</span></span> <span data-ttu-id="9487b-147">Après avoir appliqué des autorisations qui refusent l’accès à certains membres, `All` retourne toujours 200, même si les valeurs de membre visibles à l’utilisateur sont nettement inférieures.</span><span class="sxs-lookup"><span data-stu-id="9487b-147">After applying permissions that deny access to some members, `All` still returns 200, even though the member values visible to the user are much less.</span></span> <span data-ttu-id="9487b-148">Pour éviter de semer la confusion entre les consommateurs de votre cube, vous pouvez configurer le `All` membre comme l’agrégat des membres de rôle, plutôt que l’agrégat de tous les membres de la hiérarchie d’attribut.</span><span class="sxs-lookup"><span data-stu-id="9487b-148">To avoid confusing the consumers of your cube, you can configure the `All` member be the aggregate of just those members to which role members, rather than the aggregate of all of the members of the attribute hierarchy.</span></span> <span data-ttu-id="9487b-149">Pour appeler ce comportement, vous pouvez activer `Visual Totals` sous l’onglet **avancé** lors de la configuration de la sécurité de la dimension.</span><span class="sxs-lookup"><span data-stu-id="9487b-149">To invoke this behavior, you can enable `Visual Totals` on the **Advanced** tab when configuring dimension security.</span></span> <span data-ttu-id="9487b-150">Une fois activé, l'agrégation est calculée au moment de la requête au lieu d'être extraite d'agrégations précalculées.</span><span class="sxs-lookup"><span data-stu-id="9487b-150">Once enabled, the aggregate is calculated at query time rather than retrieved from pre-calculated aggregations.</span></span> <span data-ttu-id="9487b-151">Cela peut avoir un effet notable sur les performances de la requête, c'est pourquoi il est conseillé de l'utiliser uniquement lorsque cela est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="9487b-151">This can have a noticeable effect on query performance, so use it only when necessary.</span></span>  
  
## <a name="hiding-measures"></a><span data-ttu-id="9487b-152">Masquage des mesures</span><span class="sxs-lookup"><span data-stu-id="9487b-152">Hiding measures</span></span>  
 <span data-ttu-id="9487b-153">Dans [Octroyer un accès personnalisé à des données de cellule &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md), il a été expliqué que le masquage complet de tous les aspects visuels d’une mesure, et pas seulement de ses données de cellule, nécessite des autorisations sur les membres de la dimension.</span><span class="sxs-lookup"><span data-stu-id="9487b-153">In [Grant custom access to cell data &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md), it was explained that fully hiding all visual aspects of a measure, and not just its cell data, requires permissions on dimension members.</span></span> <span data-ttu-id="9487b-154">Cette section explique comment refuser l'accès aux métadonnées d'objet d'une mesure.</span><span class="sxs-lookup"><span data-stu-id="9487b-154">This section explains how to deny access to the object metadata of a measure.</span></span>  
  
1.  <span data-ttu-id="9487b-155">Dans **dimension Data**  |  **base**, faites défiler la liste dimension jusqu’à ce que vous atteigniez les dimensions du cube, puis sélectionnez **dimension Measures**.</span><span class="sxs-lookup"><span data-stu-id="9487b-155">On **Dimension Data** | **Basic**, scroll down the Dimension list until you reach cube dimensions, and then select **Measures Dimension**.</span></span>  
  
2.  <span data-ttu-id="9487b-156">Dans la liste des mesures, décochez la case pour les mesures qui ne doivent pas s'afficher aux utilisateurs qui se connectent via ce rôle.</span><span class="sxs-lookup"><span data-stu-id="9487b-156">From the list of measures, clear the check box for measures that should not appear to users connecting via this role.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9487b-157">Vérifiez les conditions préalables pour apprendre à identifier les mesures qui peuvent perturber la sécurité du rôle.</span><span class="sxs-lookup"><span data-stu-id="9487b-157">Check the Prerequisites to learn how to identify measures that can break role security.</span></span>  
  
## <a name="advanced-dimension-security"></a><span data-ttu-id="9487b-158">Sécurité avancée de la dimension</span><span class="sxs-lookup"><span data-stu-id="9487b-158">Advanced dimension security</span></span>  
 <span data-ttu-id="9487b-159">Si vous êtes familier de MDX, vous pouvez également écrire des expressions MDX qui définissent les critères pour les membres auxquels l'accès est autorisé ou refusé.</span><span class="sxs-lookup"><span data-stu-id="9487b-159">If you have MDX expertise, another approach is to write MDX expressions that set the criteria for which members are allowed or denied access.</span></span> <span data-ttu-id="9487b-160">Cliquez sur **créer un rôle**  |  **données de dimension**  |  **avancé** pour fournir le script.</span><span class="sxs-lookup"><span data-stu-id="9487b-160">Click **Create Role** | **Dimension Data** | **Advanced** to provide the script.</span></span>  
  
 <span data-ttu-id="9487b-161">Vous pouvez utiliser le Générateur MDX pour écrire l'instruction MDX.</span><span class="sxs-lookup"><span data-stu-id="9487b-161">You can the MDX Builder to write the MDX statement.</span></span> <span data-ttu-id="9487b-162">Pour plus d’informations, consultez [Générateur MDX &#40;Analysis Services – Données multidimensionnelles&#41;](../mdx-builder-analysis-services-multidimensional-data.md).</span><span class="sxs-lookup"><span data-stu-id="9487b-162">See [MDX Builder &#40;Analysis Services - Multidimensional Data&#41;](../mdx-builder-analysis-services-multidimensional-data.md) for details.</span></span> <span data-ttu-id="9487b-163">L’onglet **Avancé** a les options suivantes :</span><span class="sxs-lookup"><span data-stu-id="9487b-163">The **Advanced** tab has the following options:</span></span>  
  
 <span data-ttu-id="9487b-164">**Attribut**</span><span class="sxs-lookup"><span data-stu-id="9487b-164">**Attribute**</span></span>  
 <span data-ttu-id="9487b-165">Sélectionnez l'attribut dont vous voulez gérer la sécurité des membres.</span><span class="sxs-lookup"><span data-stu-id="9487b-165">Select the attribute for which you want to manage member security.</span></span>  
  
 <span data-ttu-id="9487b-166">**Jeu de membres autorisé**</span><span class="sxs-lookup"><span data-stu-id="9487b-166">**Allowed member set**</span></span>  
 <span data-ttu-id="9487b-167">Le AllowedSet peut être résolu en : aucun membre (valeur par défaut), tous les membres ou certains membres.</span><span class="sxs-lookup"><span data-stu-id="9487b-167">The AllowedSet can resolve to no members (default), all members, or some members.</span></span> <span data-ttu-id="9487b-168">Si vous autorisez l'accès à un attribut et ne définissez pas les membres du jeu autorisé, tous les membres sont accessibles.</span><span class="sxs-lookup"><span data-stu-id="9487b-168">If you allow access to an attribute and do not define any members of the allowed set, access to all members is granted.</span></span> <span data-ttu-id="9487b-169">Si vous autorisez l'accès à un attribut et définissez un jeu de membres d'attribut spécifique, seuls les membres autorisés explicitement sont visibles.</span><span class="sxs-lookup"><span data-stu-id="9487b-169">If you allow access to an attribute and define a specific set of attribute members, only the explicitly allowed members are visible.</span></span>  
  
 <span data-ttu-id="9487b-170">La création d’un AllowedSet a un effet de contagion quand l’attribut participe à une hiérarchie à plusieurs niveaux.</span><span class="sxs-lookup"><span data-stu-id="9487b-170">Creating an AllowedSet has a ripple effect when the attribute participates in a multi-level hierarchy.</span></span> <span data-ttu-id="9487b-171">Par exemple, supposons qu'un rôle autorise l'accès à l'état Washington (dans un scénario où le rôle accorde des autorisations au service des ventes d'une société dans l'état de Washington).</span><span class="sxs-lookup"><span data-stu-id="9487b-171">For example, suppose a role allows access to Washington state (assume a scenario where the role is granting permissions to a company's Washington state sales division).</span></span> <span data-ttu-id="9487b-172">Pour les personnes qui se connectent via ce rôle, les requêtes qui contiennent les ancêtres (United States) ou les descendants (Seattle et Redmond) ne verront que les membres dans une chaîne qui contient l'état Washington.</span><span class="sxs-lookup"><span data-stu-id="9487b-172">For people connecting through this role, queries that include ancestors (United States) or descendants (Seattle and Redmond) will only see members in a chain including Washington state.</span></span> <span data-ttu-id="9487b-173">Dans la mesure où d'autres états ne sont pas explicitement autorisés, l'effet sera le même que si l'accès leur avait été refusé.</span><span class="sxs-lookup"><span data-stu-id="9487b-173">Because other states are not explicitly allowed, the effect will be the same as if they were denied.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9487b-174">Si vous définissez un jeu vide ( {} ) de membres d’attribut, aucun membre de l’attribut n’est visible pour le rôle de base de données.</span><span class="sxs-lookup"><span data-stu-id="9487b-174">If you define an empty set ({}) of attribute members, no members of the attribute will be visible to the database role.</span></span> <span data-ttu-id="9487b-175">Un jeu autorisé absent ne correspond pas à un jeu vide.</span><span class="sxs-lookup"><span data-stu-id="9487b-175">The absence of an allowed set is not interpreted as an empty set.</span></span>  
  
 <span data-ttu-id="9487b-176">**Jeu de membres refusé**</span><span class="sxs-lookup"><span data-stu-id="9487b-176">**Denied member set**</span></span>  
 <span data-ttu-id="9487b-177">La propriété DeniedSet peut être résolue en : aucun membre, tous les membres (valeur par défaut) ou certains membres d’attribut.</span><span class="sxs-lookup"><span data-stu-id="9487b-177">The DeniedSet property can resolve to no members, all members (default), or some attribute members.</span></span> <span data-ttu-id="9487b-178">Quand le jeu refusé contient uniquement un jeu de membres d'attribut spécifique, le rôle de base de données n'a pas accès à ces membres spécifiques ainsi qu'à ses descendants si l'attribut se trouve dans une hiérarchie à plusieurs niveaux.</span><span class="sxs-lookup"><span data-stu-id="9487b-178">When the denied set contains only a specific set of attribute members, the database role is denied access only to those specific members, as well as descendants if the attribute is in a multi-level hierarchy.</span></span> <span data-ttu-id="9487b-179">Prenons l'exemple du service des ventes de l'état de Washington.</span><span class="sxs-lookup"><span data-stu-id="9487b-179">Consider the Washington state sales division example.</span></span> <span data-ttu-id="9487b-180">Si Washington se trouve dans le DeniedSet, les personnes qui se connectent via ce rôle verront tous les autres états à l’exception de Washington et de ses attributs descendants.</span><span class="sxs-lookup"><span data-stu-id="9487b-180">If Washington is placed in the DeniedSet, people connecting through this role will see all other states except Washington and its descendent attributes.</span></span>  
  
 <span data-ttu-id="9487b-181">Souvenez-vous que le jeu refusé est une collection fixe.</span><span class="sxs-lookup"><span data-stu-id="9487b-181">Recall from the previous section that the denied set is a fixed collection.</span></span> <span data-ttu-id="9487b-182">Lors du traitement de nouveaux membres qui sont ajoutés ensuite et auxquels l'accès doit également être refusé, vous devez modifier ce rôle pour ajouter ces membres à la liste.</span><span class="sxs-lookup"><span data-stu-id="9487b-182">If processing subsequently introduces new members that should also be denied access, you will need to edit this role to add those members to the list.</span></span>  
  
 <span data-ttu-id="9487b-183">**Membre par défaut**</span><span class="sxs-lookup"><span data-stu-id="9487b-183">**Default member**</span></span>  
 <span data-ttu-id="9487b-184">La propriété DefaultMember détermine le jeu de données retourné à un client quand un attribut n’est pas explicitement inclus dans une requête.</span><span class="sxs-lookup"><span data-stu-id="9487b-184">The DefaultMember property determines the data set returned to a client when an attribute is not explicitly included in a query.</span></span> <span data-ttu-id="9487b-185">Quand l’attribut n’est pas explicitement inclus, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilise un des membres par défaut suivants pour l’attribut :</span><span class="sxs-lookup"><span data-stu-id="9487b-185">When the attribute is not explicitly included, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses one of the following default members for the attribute:</span></span>  
  
-   <span data-ttu-id="9487b-186">Si le rôle de base de données définit un membre par défaut pour l'attribut, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilise le membre par défaut.</span><span class="sxs-lookup"><span data-stu-id="9487b-186">If the database role defines a default member for the attribute, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses this default member.</span></span>  
  
-   <span data-ttu-id="9487b-187">Si le rôle de base de données ne définit pas un membre par défaut pour l'attribut, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilise le membre par défaut défini pour l'attribut lui-même.</span><span class="sxs-lookup"><span data-stu-id="9487b-187">If the database role does not define a default member for the attribute, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses the default member that is defined for the attribute itself.</span></span> <span data-ttu-id="9487b-188">Le membre par défaut d'un attribut, sauf indication contraire, est le membre `All` (si l'attribut n'est pas défini comme ne pouvant pas faire l'objet d'une agrégation).</span><span class="sxs-lookup"><span data-stu-id="9487b-188">The default member for an attribute, unless you specify otherwise, is the `All` member (unless the attribute is defined as non-aggregatable).</span></span>  
  
 <span data-ttu-id="9487b-189">Par exemple, supposez qu'un rôle de base de données spécifie `Male` comme membre par défaut de l'attribut `Gender`.</span><span class="sxs-lookup"><span data-stu-id="9487b-189">For example, suppose a database role specifies `Male` as the default member for the `Gender` attribute.</span></span> <span data-ttu-id="9487b-190">Si une requête n'inclut pas explicitement l'attribut `Gender` et ne définit pas un membre différent pour l'attribut, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] retourne un ensemble de données qui inclut uniquement les clients hommes.</span><span class="sxs-lookup"><span data-stu-id="9487b-190">Unless a query both explicitly includes the `Gender` attribute and specifies a different member for this attribute, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] would return a data set that included only male customers.</span></span> <span data-ttu-id="9487b-191">Pour plus d’informations sur la définition du membre par défaut, consultez [Définir un membre par défaut](attribute-properties-define-a-default-member.md).</span><span class="sxs-lookup"><span data-stu-id="9487b-191">For more information about setting the default member, see [Define a Default Member](attribute-properties-define-a-default-member.md).</span></span>  
  
 <span data-ttu-id="9487b-192">**Activer les valeurs visibles**</span><span class="sxs-lookup"><span data-stu-id="9487b-192">**Enable Visual Total**</span></span>  
 <span data-ttu-id="9487b-193">La propriété VisualTotals indique si les valeurs des cellules agrégées affichées sont calculées en fonction de toutes les valeurs des cellules ou en fonction des valeurs des cellules auxquelles le rôle de base de données peut accéder.</span><span class="sxs-lookup"><span data-stu-id="9487b-193">The VisualTotals property indicates whether the aggregated cell values that are displayed are calculated according to all cell values or only according to the cell values that are visible to the database role.</span></span>  
  
 <span data-ttu-id="9487b-194">Par défaut, la propriété VisualTotals est désactivée (a la valeur `False` ).</span><span class="sxs-lookup"><span data-stu-id="9487b-194">By default, the VisualTotals property is disabled (set to `False`).</span></span> <span data-ttu-id="9487b-195">Cette valeur par défaut optimise les performances, car [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] peut calculer rapidement le total de toutes les valeurs des cellules, au lieu de passer du temps à sélectionner les valeurs des cellules à calculer.</span><span class="sxs-lookup"><span data-stu-id="9487b-195">This default setting maximizes performance because [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] can quickly calculate the total of all cell values, instead of having to spend time selecting which cells values to calculate.</span></span>  
  
 <span data-ttu-id="9487b-196">Cependant, la désactivation de la propriété VisualTotals peut créer un problème de sécurité si un utilisateur peut utiliser les valeurs des cellules agrégées pour en déduire les valeurs pour les membres d’attribut auxquels le rôle de base de données de l’utilisateur ne peut pas accéder.</span><span class="sxs-lookup"><span data-stu-id="9487b-196">However, having the VisualTotals property disabled could create a security issue if a user can use the aggregated cell values to deduce values for attribute members to which the user's database role does not have access.</span></span> <span data-ttu-id="9487b-197">Par exemple, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilise les valeurs de trois membres d’attribut pour calculer une valeur de cellule agrégée.</span><span class="sxs-lookup"><span data-stu-id="9487b-197">For example, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses the values for three attribute members to calculate an aggregated cell value.</span></span> <span data-ttu-id="9487b-198">Le rôle de base de données peut afficher deux de ces membres.</span><span class="sxs-lookup"><span data-stu-id="9487b-198">The database role has access to view two of these three attribute members.</span></span> <span data-ttu-id="9487b-199">En utilisant la valeur de cellule agrégée, un membre de ce rôle de base de données peut déduire la valeur du troisième membre de l'attribut.</span><span class="sxs-lookup"><span data-stu-id="9487b-199">Using the aggregated cell value, a member of this database role would be able to deduce the value for the third attribute member.</span></span>  
  
 <span data-ttu-id="9487b-200">L’affectation de la valeur à la propriété VisualTotals `True` peut éliminer ce risque.</span><span class="sxs-lookup"><span data-stu-id="9487b-200">Setting VisualTotals property to `True` can eliminate this risk.</span></span> <span data-ttu-id="9487b-201">Quand vous activez la propriété VisualTotals, un rôle de base de données peut afficher seulement les totaux agrégés des membres de la dimension sur lesquels il dispose d’une autorisation.</span><span class="sxs-lookup"><span data-stu-id="9487b-201">When you enable the VisualTotals property, a database role can only view aggregated totals for dimension members to which the role has permission.</span></span>  
  
 <span data-ttu-id="9487b-202">**Vérification**</span><span class="sxs-lookup"><span data-stu-id="9487b-202">**Check**</span></span>  
 <span data-ttu-id="9487b-203">Cliquez pour tester la syntaxe MDX définie dans cette page.</span><span class="sxs-lookup"><span data-stu-id="9487b-203">Click to test the MDX syntax defined on this page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9487b-204">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="9487b-204">See Also</span></span>  
 <span data-ttu-id="9487b-205">[Octroi d’autorisations de cube ou de modèle &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="9487b-205">[Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) </span></span>  
 <span data-ttu-id="9487b-206">[Accorder un accès personnalisé à des données de cellule &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="9487b-206">[Grant custom access to cell data &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md) </span></span>  
 <span data-ttu-id="9487b-207">[Accordez des autorisations sur les modèles et les structures d’exploration de données &#40;Analysis Services&#41;](grant-permissions-on-data-mining-structures-and-models-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="9487b-207">[Grant permissions on data mining structures and models &#40;Analysis Services&#41;](grant-permissions-on-data-mining-structures-and-models-analysis-services.md) </span></span>  
 [<span data-ttu-id="9487b-208">Octroyer des autorisations sur un objet de source de données &#40;Analysis Services&#41;</span><span class="sxs-lookup"><span data-stu-id="9487b-208">Grant permissions on a data source object &#40;Analysis Services&#41;</span></span>](grant-permissions-on-a-data-source-object-analysis-services.md)  
  
  
