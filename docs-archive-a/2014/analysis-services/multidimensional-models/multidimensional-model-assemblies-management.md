---
title: Gestion des assemblys de modèles multidimensionnels | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- permissions [Analysis Services], assemblies
- calling user-defined functions
- user impersonation [Analysis Services]
- impersonation [Analysis Services]
- Data Mining Extensions [Analysis Services], assemblies
- MDX [Analysis Services], assemblies
- user-defined functions [Analysis Services]
- Analysis Services objects, assemblies
- assemblies [Analysis Services]
- application domains [Analysis Services]
ms.assetid: b2645d10-6d17-444e-9289-f111ec48bbfb
author: minewiskan
ms.author: owend
ms.openlocfilehash: b95a3171b3b194e84f10809f71eb72fefb07172b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87696235"
---
# <a name="multidimensional-model-assemblies-management"></a><span data-ttu-id="c27dd-102">Gestion des assemblys de modèles multidimensionnels</span><span class="sxs-lookup"><span data-stu-id="c27dd-102">Multidimensional Model Assemblies Management</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="c27dd-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] fournit un grand nombre de fonctions intrinsèques à utiliser avec les langages MDX (Multidimensional Expressions) et DMX (Data Mining Extensions), conçus pour effectuer toutes les opérations, des calculs statistiques standard au parcours des membres d’une hiérarchie.</span><span class="sxs-lookup"><span data-stu-id="c27dd-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] supplies lots of intrinsic functions for use with the Multidimensional Expressions (MDX) and Data Mining Extensions (DMX) languages, designed to accomplish everything from standard statistical calculations to traversing members in a hierarchy.</span></span> <span data-ttu-id="c27dd-104">Cependant, comme dans tout autre produit complexe et robuste, il est toujours nécessaire d'étendre la fonctionnalité de ce type d'outil.</span><span class="sxs-lookup"><span data-stu-id="c27dd-104">But, as with any other complex and robust product, there is always the need to extend the functionality of such a product further.</span></span>  
  
 <span data-ttu-id="c27dd-105">Par conséquent, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] vous permet d'ajouter des assemblys à une base de données ou à une instance d' [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c27dd-105">Therefore, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] lets you add assemblies to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance or database.</span></span> <span data-ttu-id="c27dd-106">Les assemblys vous permettent de créer des fonctions externes définies par l'utilisateur à l'aide de tout langage CLR (Common Language Runtime), tel que Microsoft Visual Basic .NET ou Microsoft Visual C#.</span><span class="sxs-lookup"><span data-stu-id="c27dd-106">Assemblies let you create external, user-defined functions using any common language runtime (CLR) language, such as Microsoft Visual Basic .NET or Microsoft Visual C#.</span></span> <span data-ttu-id="c27dd-107">Vous pouvez aussi utiliser des langages d'automatisation COM (Component Object Model) tels que Microsoft Visual Basic ou Microsoft Visual C++.</span><span class="sxs-lookup"><span data-stu-id="c27dd-107">You can also use Component Object Model (COM) Automation languages such as Microsoft Visual Basic or Microsoft Visual C++.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="c27dd-108">Les assemblys COM peuvent présenter un risque pour la sécurité.</span><span class="sxs-lookup"><span data-stu-id="c27dd-108">COM assemblies might pose a security risk.</span></span> <span data-ttu-id="c27dd-109">En raison de ce risque et d'autres considérations, les assemblys COM ont été déconseillés dans [!INCLUDE[ssASversion10](../../includes/ssasversion10-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c27dd-109">Due to this risk and other considerations, COM assemblies were deprecated in [!INCLUDE[ssASversion10](../../includes/ssasversion10-md.md)].</span></span> <span data-ttu-id="c27dd-110">Les assemblys COM peuvent ne pas être pris en charge dans les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="c27dd-110">COM assemblies might not be supported in future releases.</span></span>  
  
 <span data-ttu-id="c27dd-111">Les assemblys vous permettent d'étendre les fonctions d'entreprise de MDX et de DMX.</span><span class="sxs-lookup"><span data-stu-id="c27dd-111">Assemblies let you extend the business functionality of MDX and DMX.</span></span> <span data-ttu-id="c27dd-112">Vous créez la fonctionnalité que vous souhaitez dans une bibliothèque de liens dynamiques (DLL), et vous ajoutez la bibliothèque en tant qu'assembly à une instance d' [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ou à une base de données [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c27dd-112">You build the functionality that you want into a library, such as a dynamic link library (DLL) and add the library as an assembly to an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="c27dd-113">Les méthodes publiques de la bibliothèque sont alors exposées en tant que fonctions définies par l'utilisateur aux expressions, procédures, calculs, actions et applications clientes MDX et DMX.</span><span class="sxs-lookup"><span data-stu-id="c27dd-113">The public methods in the library are then exposed as user-defined functions to MDX and DMX expressions, procedures, calculations, actions, and client applications.</span></span>  
  
 <span data-ttu-id="c27dd-114">Un assembly avec les nouvelles procédures et les fonctions peut être ajouté au serveur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-114">An assembly with new procedures and functions can be added to the server.</span></span> <span data-ttu-id="c27dd-115">Vous pouvez utiliser des assemblys pour améliorer ou ajouter des fonctionnalités personnalisées qui ne sont pas fournies par le serveur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-115">You can use assemblies to enhance or add custom functionality that is not provided by the server.</span></span> <span data-ttu-id="c27dd-116">En utilisant des assemblys, vous pouvez ajouter de nouvelles fonctions aux expressions MDX (Multidimensional Expressions), aux Extensions DMX (Data Mining Extensions) ou aux procédures stockées.</span><span class="sxs-lookup"><span data-stu-id="c27dd-116">By using assemblies, you can add new functions to Multidimensional Expressions (MDX), Data Mining Extensions (DMX), or stored procedures.</span></span> <span data-ttu-id="c27dd-117">Les assemblys sont chargés à partir de l'emplacement où l'application personnalisée est exécutée, et une copie du fichier binaire d'assembly est enregistrée avec les données de base de données dans le serveur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-117">Assemblies are loaded from the location where the custom application is run, and a copy of the assembly binary file is saved along with the database data in the server.</span></span> <span data-ttu-id="c27dd-118">Lorsqu'un assembly est supprimé, l'assembly copié est également supprimé du serveur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-118">When an assembly is removed, the copied assembly is also removed from the server.</span></span>  
  
 <span data-ttu-id="c27dd-119">Les assemblys peuvent être de deux types différents : COM et CLR.</span><span class="sxs-lookup"><span data-stu-id="c27dd-119">Assemblies can be of two different types: COM and CLR.</span></span> <span data-ttu-id="c27dd-120">Les assemblys CLR sont de assemblys développés dans les langages de programmation du .NET Framework tels que C#, Visual Basic .NET, C++ managé.</span><span class="sxs-lookup"><span data-stu-id="c27dd-120">CLR assemblies are assemblies developed in .NET Framework programming languages such as C#, Visual Basic .NET, managed C++.</span></span> <span data-ttu-id="c27dd-121">Les assemblys COM sont des bibliothèques COM qui doivent être enregistrées dans le serveur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-121">COM assemblies are COM libraries that must be registered in the server</span></span>  
  
 <span data-ttu-id="c27dd-122">Les assemblys peuvent être ajoutés aux objets <xref:Microsoft.AnalysisServices.Server> ou <xref:Microsoft.AnalysisServices.Database> .</span><span class="sxs-lookup"><span data-stu-id="c27dd-122">Assemblies can be added to <xref:Microsoft.AnalysisServices.Server> or <xref:Microsoft.AnalysisServices.Database> objects.</span></span> <span data-ttu-id="c27dd-123">Les assemblys de serveur peuvent être appelés par tout utilisateur connecté au serveur ou tout objet dans le serveur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-123">Server assemblies can be called by any user connected to the server or any object in the server.</span></span> <span data-ttu-id="c27dd-124">Les assemblys de base de données peuvent être appelés uniquement par les objets <xref:Microsoft.AnalysisServices.Database> ou les utilisateurs connectés à la base de données.</span><span class="sxs-lookup"><span data-stu-id="c27dd-124">Database assemblies can be called only by <xref:Microsoft.AnalysisServices.Database> objects or users connected to the database.</span></span>  
  
 <span data-ttu-id="c27dd-125">Un objet <xref:Microsoft.AnalysisServices.Assembly> simple est composé d’informations de base (Nom et ID), d’une collection de fichiers et de caractéristiques de sécurité.</span><span class="sxs-lookup"><span data-stu-id="c27dd-125">A simple <xref:Microsoft.AnalysisServices.Assembly> object is composed of basic information (Name and Id), file collection, and security specifications.</span></span>  
  
 <span data-ttu-id="c27dd-126">La collection de fichiers fait référence aux fichiers d'assembly chargés et aux fichiers de débogage (.pdb) correspondants, si les fichiers de débogage ont été chargés avec les fichiers d'assembly.</span><span class="sxs-lookup"><span data-stu-id="c27dd-126">The file collection refers to the loaded assembly files and their corresponding debugging (.pdb) files, if the debugging files were loaded with the assembly files.</span></span> <span data-ttu-id="c27dd-127">Les fichiers d'assemblys sont chargés à partir de l'emplacement où l'application a défini les fichiers et une copie est enregistrée avec les données, dans le serveur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-127">Assembly files are loaded from the location where the application defined the files to, and a copy is saved in the server along with the data.</span></span> <span data-ttu-id="c27dd-128">La copie du fichier d'assembly est utilisée pour charger l'assembly chaque fois que le service est démarré.</span><span class="sxs-lookup"><span data-stu-id="c27dd-128">The copy of the assembly file is used to load the assembly every time the service is started.</span></span>  
  
 <span data-ttu-id="c27dd-129">Les caractéristiques de sécurité incluent le jeu d'autorisations et l'emprunt d'identité utilisés pour exécuter l'assembly.</span><span class="sxs-lookup"><span data-stu-id="c27dd-129">Security specifications include the permission set and the impersonation used to run the assembly.</span></span>  
  
## <a name="calling-user-defined-functions"></a><span data-ttu-id="c27dd-130">Appel de fonctions définies par l'utilisateur</span><span class="sxs-lookup"><span data-stu-id="c27dd-130">Calling User-Defined Functions</span></span>  
 <span data-ttu-id="c27dd-131">L'appel d'une fonction définie par l'utilisateur dans un assembly est semblable à l'appel d'une fonction intrinsèque, excepté que vous devez utiliser un nom complet.</span><span class="sxs-lookup"><span data-stu-id="c27dd-131">Calling a user-defined function in an assembly is performed just like calling an intrinsic function, except that you must use a fully qualified name.</span></span> <span data-ttu-id="c27dd-132">Par exemple, une fonction définie par l'utilisateur qui renvoie un type attendu par MDX est insérée comme ceci dans une requête MDX :</span><span class="sxs-lookup"><span data-stu-id="c27dd-132">For example, a user-defined function that returns a type expected by MDX is included in an MDX query, as shown in the following example:</span></span>  
  
```  
Select MyAssembly.MyClass.MyStoredProcedure(a, b, c) on 0 from Sales  
```  
  
 <span data-ttu-id="c27dd-133">Les fonctions définies par l'utilisateur peuvent aussi être appelées à l'aide du mot clé CALL.</span><span class="sxs-lookup"><span data-stu-id="c27dd-133">User-defined functions can also be called using the CALL keyword.</span></span> <span data-ttu-id="c27dd-134">Vous devez utiliser le mot clé CALL pour les fonctions définies par l'utilisateur qui renvoient des jeux d'enregistrements ou des valeurs de type void, et vous ne pouvez pas utiliser le mot clé CALL si la fonction définie par l'utilisateur dépend d'un objet dans le contexte de l'instruction ou du script MDX ou DMX, tel que le cube en cours ou le modèle d'exploration de données.</span><span class="sxs-lookup"><span data-stu-id="c27dd-134">You must use the CALL keyword for user-defined functions which return recordsets or void values, and you cannot use the CALL keyword if the user-defined function depends on an object in the context of the MDX or DMX statement or script, such as the current cube or data mining model.</span></span> <span data-ttu-id="c27dd-135">Une utilisation courante d'une fonction appelée en dehors d'une requête MDX ou DMX est l'utilisation du modèle d'objets AMO pour effectuer des fonctions d'administration.</span><span class="sxs-lookup"><span data-stu-id="c27dd-135">A common use for a function called outside an MDX or DMX query is to use the AMO object model to perform administrative functions.</span></span> <span data-ttu-id="c27dd-136">Si vous souhaitez par exemple utiliser la fonction `MyVoidProcedure(a, b, c)` dans une instruction MDX, utilisez la syntaxe suivante :</span><span class="sxs-lookup"><span data-stu-id="c27dd-136">If, for example, you wanted to use the function `MyVoidProcedure(a, b, c)` in an MDX statement, the following syntax would be employed:</span></span>  
  
```  
Call MyAssembly.MyClass.MyVoidProcedure(a, b, c)  
```  
  
 <span data-ttu-id="c27dd-137">Les assemblys simplifient le développement de bases de données en permettant à du code commun d'être développé une seule fois et d'être stocké à un seul emplacement.</span><span class="sxs-lookup"><span data-stu-id="c27dd-137">Assemblies simplify database development by enabling common code to be developed once and stored in a single location.</span></span> <span data-ttu-id="c27dd-138">Les développeurs de logiciels clients peuvent créer des bibliothèques de fonctions pour [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] et les distribuer avec leurs applications.</span><span class="sxs-lookup"><span data-stu-id="c27dd-138">Client software developers can create libraries of functions for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and distribute them with their applications.</span></span>  
  
 <span data-ttu-id="c27dd-139">Les assemblys et les fonctions définies par l'utilisateur peuvent dupliquer les noms des fonctions de la bibliothèque de fonctions de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ou d'autres assemblys.</span><span class="sxs-lookup"><span data-stu-id="c27dd-139">Assemblies and user-defined functions can duplicate the function names of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] function library or of other assemblies.</span></span> <span data-ttu-id="c27dd-140">Dès lors que vous appelez la fonction définie par l'utilisateur avec son nom complet, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilise la procédure correcte.</span><span class="sxs-lookup"><span data-stu-id="c27dd-140">As long as you call the user-defined function by using its fully qualified name, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will use the correct procedure.</span></span> <span data-ttu-id="c27dd-141">Pour des raisons de sécurité et pour éliminer la possibilité d'appeler un nom dupliqué dans une autre bibliothèque de classes, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] requiert l'utilisation des seuls noms complets pour les procédures stockées.</span><span class="sxs-lookup"><span data-stu-id="c27dd-141">For security purposes, and to eliminate the chance of calling a duplicate name in a different class library, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] requires that you use only fully qualified names for stored procedures.</span></span>  
  
 <span data-ttu-id="c27dd-142">Pour appeler une fonction définie par l'utilisateur depuis un assembly CLR spécifique, la fonction définie par l'utilisateur est précédée du nom de l'assembly, du nom complet de la classe et du nom de la procédure, comme dans l'exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="c27dd-142">To call a user-defined function from a specific CLR assembly, the user-defined function is preceded by the assembly name, full class name, and procedure name, as demonstrated here:</span></span>  
  
 <span data-ttu-id="c27dd-143">*AssemblyName*. *FullClassName*. *Nomprocédure*(*argument1*, *argument2*,...)</span><span class="sxs-lookup"><span data-stu-id="c27dd-143">*AssemblyName*.*FullClassName*.*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
 <span data-ttu-id="c27dd-144">Pour assurer la compatibilité amont avec les versions antérieures de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], la syntaxe suivante est également acceptable :</span><span class="sxs-lookup"><span data-stu-id="c27dd-144">For backward compatibility with earlier versions of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the following syntax is also acceptable:</span></span>  
  
 <span data-ttu-id="c27dd-145">*AssemblyName*!*FullClassName*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span><span class="sxs-lookup"><span data-stu-id="c27dd-145">*AssemblyName*!*FullClassName*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
 <span data-ttu-id="c27dd-146">Si une bibliothèque COM prend en charge plusieurs interfaces, l'identificateur d'interface peut également être utilisé pour résoudre le nom de la procédure, comme dans cet exemple :</span><span class="sxs-lookup"><span data-stu-id="c27dd-146">If a COM library supports multiple interfaces, the interface ID can also be used to resolve the procedure name, as demonstrated here:</span></span>  
  
 <span data-ttu-id="c27dd-147">*AssemblyName*!*InterfaceID*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span><span class="sxs-lookup"><span data-stu-id="c27dd-147">*AssemblyName*!*InterfaceID*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
## <a name="security"></a><span data-ttu-id="c27dd-148">Sécurité</span><span class="sxs-lookup"><span data-stu-id="c27dd-148">Security</span></span>  
 <span data-ttu-id="c27dd-149">La sécurité des assemblys est basée sur le modèle de sécurité de .NET Framework, qui est un modèle de sécurité d'accès du code.</span><span class="sxs-lookup"><span data-stu-id="c27dd-149">Security for assemblies is based on the .NET Framework security model, which is a code-access security model.</span></span> <span data-ttu-id="c27dd-150">.NET Framework prend en charge un mécanisme de sécurité d'accès du code qui suppose que le module d'exécution peut héberger à la fois du code d'un niveau de confiance total et d'un niveau de confiance partiel.</span><span class="sxs-lookup"><span data-stu-id="c27dd-150">.NET Framework supports a code-access security mechanism that assumes that the runtime can host both fully trusted and partially trusted code.</span></span> <span data-ttu-id="c27dd-151">Les ressources qui sont protégées par la sécurité d'accès du code de .NET Framework sont généralement intégrées à du code managé qui demande l'autorisation correspondante avant d'autoriser l'accès à la ressource.</span><span class="sxs-lookup"><span data-stu-id="c27dd-151">The resources that are protected by .NET Framework code access security are typically wrapped by managed code which demands the corresponding permission before enabling access to the resource.</span></span> <span data-ttu-id="c27dd-152">La demande d'autorisation est satisfaite seulement si tous les appelants (au niveau de l'assembly) de la pile d'appels ont l'autorisation pour la ressource correspondante.</span><span class="sxs-lookup"><span data-stu-id="c27dd-152">The demand for the permission is satisfied only if all the callers (at the assembly level) in the call stack have the corresponding resource permission.</span></span>  
  
 <span data-ttu-id="c27dd-153">Pour les assemblys, l'autorisation d'exécution est passée avec la propriété `PermissionSet` sur l'objet `Assembly`.</span><span class="sxs-lookup"><span data-stu-id="c27dd-153">For assemblies, permission for execution is passed with the `PermissionSet` property on the `Assembly` object.</span></span> <span data-ttu-id="c27dd-154">Les autorisations reçues par le code managé sont déterminées par la stratégie de sécurité effective.</span><span class="sxs-lookup"><span data-stu-id="c27dd-154">The permissions that managed code receives are determined by the security policy in effect.</span></span> <span data-ttu-id="c27dd-155">Il existe déjà trois niveaux de stratégie effectifs dans un environnement hébergé non-[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] : entreprise, ordinateur et utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-155">There are already three levels of policy in effect in a non-[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] hosted environment: enterprise, computer and user.</span></span> <span data-ttu-id="c27dd-156">La liste effective des autorisations reçues par le code est déterminée par l'intersection des autorisations obtenues par ces trois niveaux.</span><span class="sxs-lookup"><span data-stu-id="c27dd-156">The effective list of permissions that code receives is determined by the intersection of the permissions obtained by these three levels.</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="c27dd-157">fournit une stratégie de sécurité au niveau de l’hôte au CLR (Common Language Runtime) quand il l’héberge. Cette stratégie est un niveau de stratégie supplémentaire sous les trois niveaux de stratégie qui sont toujours effectifs.</span><span class="sxs-lookup"><span data-stu-id="c27dd-157">supplies a host-level security policy level to the CLR while hosting it; this policy is an additional policy level below the three policy levels that are always in effect.</span></span> <span data-ttu-id="c27dd-158">Cette stratégie est définie pour chaque domaine d'application qui est créé par [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c27dd-158">This policy is set for every application domain that is created by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="c27dd-159">La stratégie de niveau hôte de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] est une combinaison de la stratégie fixe de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] pour les assemblys système et de la stratégie spécifiée par l’utilisateur pour les assemblys utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-159">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] host-level policy is a combination of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] fixed policy for system assemblies and user-specified policy for user assemblies.</span></span> <span data-ttu-id="c27dd-160">La partie spécifiée par l'utilisateur de la stratégie d'hôte d' [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] est basée sur le propriétaire de l'assembly spécifiant un des trois compartiments d'autorisation pour chaque assembly :</span><span class="sxs-lookup"><span data-stu-id="c27dd-160">The user-specified piece of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] host policy is based on the assembly owner specifying one of three permission buckets for each assembly:</span></span>  
  
|<span data-ttu-id="c27dd-161">Paramètre d'autorisation</span><span class="sxs-lookup"><span data-stu-id="c27dd-161">Permission Setting</span></span>|<span data-ttu-id="c27dd-162">Description</span><span class="sxs-lookup"><span data-stu-id="c27dd-162">Description</span></span>|  
|------------------------|-----------------|  
|`Safe`|<span data-ttu-id="c27dd-163">Fournit une autorisation de traitement interne.</span><span class="sxs-lookup"><span data-stu-id="c27dd-163">Provides internal computation permission.</span></span> <span data-ttu-id="c27dd-164">Ce compartiment d'autorisations ne donne pas d'autorisations pour accéder aux ressources protégées dans le .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c27dd-164">This permission bucket does not assign permissions to access any of the protected resources in the .NET Framework.</span></span> <span data-ttu-id="c27dd-165">Il s'agit du compartiment d'autorisations par défaut pour un assembly si aucun n'est spécifié avec la propriété `PermissionSet`.</span><span class="sxs-lookup"><span data-stu-id="c27dd-165">This is the default permission bucket for an assembly if none is specified with the `PermissionSet` property.</span></span>|  
|`ExternalAccess`|<span data-ttu-id="c27dd-166">Fournit le même accès que le paramètre `Safe`, avec la possibilité supplémentaire de pouvoir accéder à des ressources système externes.</span><span class="sxs-lookup"><span data-stu-id="c27dd-166">Provides the same access as the `Safe` setting, with the additional ability to access external system resources.</span></span> <span data-ttu-id="c27dd-167">Ce compartiment d'autorisations n'offre pas de garanties de sécurité (même s'il est possible de sécuriser ce scénario), mais il donne des garanties de fiabilité.</span><span class="sxs-lookup"><span data-stu-id="c27dd-167">This permission bucket does not offer security guarantees (although it is possible to secure this scenario), but it does give reliability guarantees.</span></span>|  
|`Unsafe`|<span data-ttu-id="c27dd-168">Ne fournit pas de restrictions.</span><span class="sxs-lookup"><span data-stu-id="c27dd-168">Provides no restrictions.</span></span> <span data-ttu-id="c27dd-169">Aucune garantie de sécurité ou de fiabilité ne peut être donnée pour du code managé s'exécutant sous cet ensemble d'autorisations.</span><span class="sxs-lookup"><span data-stu-id="c27dd-169">No security or reliability guarantees can be made for managed code running under this permission set.</span></span> <span data-ttu-id="c27dd-170">Toutes les autorisations, même une autorisation personnalisée incluse par l'administrateur, sont accordées au code s'exécutant à ce niveau de confiance.</span><span class="sxs-lookup"><span data-stu-id="c27dd-170">Any permission, even a custom permission included by the administrator, is granted to code running at this level of trust.</span></span>|  
  
 <span data-ttu-id="c27dd-171">Quand le CLR est hébergé par [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], la vérification des autorisations basée sur le parcours de pile s'arrête à la limite avec le code [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] natif.</span><span class="sxs-lookup"><span data-stu-id="c27dd-171">When CLR is hosted by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the stack-walk based permission check stops at the boundary with native [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] code.</span></span> <span data-ttu-id="c27dd-172">Tout code managé dans des assemblys [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] tombe toujours dans une des trois catégories d'autorisations dont la liste est donnée ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="c27dd-172">Any managed code in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] assemblies always falls into one of the three permission categories listed earlier.</span></span>  
  
 <span data-ttu-id="c27dd-173">Les routines d'assembly COM (ou non managée) ne prennent pas en charge le modèle de sécurité CLR.</span><span class="sxs-lookup"><span data-stu-id="c27dd-173">COM (or unmanaged) assembly routines do not support the CLR security model.</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="c27dd-174">Emprunt d'identité</span><span class="sxs-lookup"><span data-stu-id="c27dd-174">Impersonation</span></span>  
 <span data-ttu-id="c27dd-175">Quand du code managé accède à une ressource en dehors d'[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] suit les règles associées à un paramètre de la propriété `ImpersonationMode` de l'assembly de façon à garantir que l'accès se fait dans un contexte de sécurité Windows approprié.</span><span class="sxs-lookup"><span data-stu-id="c27dd-175">Whenever managed code accesses any resource outside [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] follows the rules associated with the `ImpersonationMode` property setting of the assembly to make sure that the access occurs in an appropriate Windows security context.</span></span> <span data-ttu-id="c27dd-176">Étant donné que les assemblys qui utilisent le paramètre d'autorisation `Safe` ne peuvent pas accéder à des ressources en dehors d'[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], ces règles sont applicables seulement pour les assemblys utilisant les paramètres d'autorisation `ExternalAccess` et `Unsafe`.</span><span class="sxs-lookup"><span data-stu-id="c27dd-176">Because assemblies using the `Safe` permission setting cannot access resources outside [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], these rules are applicable only for assemblies using the `ExternalAccess` and `Unsafe` permission settings.</span></span>  
  
-   <span data-ttu-id="c27dd-177">Si le contexte d’exécution actuel correspond à une connexion authentifiée Windows et qu’il est le même que le contexte de l’appelant d’origine (c’est-à-dire qu’il n’y a pas d’instruction intermédiaire EXECUTE AS), [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] emprunte l’identité de la connexion authentifiée Windows avant d’accéder à la ressource.</span><span class="sxs-lookup"><span data-stu-id="c27dd-177">If the current execution context corresponds to Windows Authenticated login and is the same as the context of the original caller (that is, there is no EXECUTE AS in the middle), [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will impersonate the Windows Authenticated login before accessing the resource.</span></span>  
  
-   <span data-ttu-id="c27dd-178">S'il y a une instruction EXECUTE AS intermédiaire qui a changé le contexte relativement à celui de l'appelant d'origine, la tentative d'accès à une ressource externe échoue.</span><span class="sxs-lookup"><span data-stu-id="c27dd-178">If there is an intermediate EXECUTE AS that changed the context from that of the original caller), the attempt to access external resource will fail.</span></span>  
  
 <span data-ttu-id="c27dd-179">La propriété `ImpersonationMode` doit être définie à `ImpersonateCurrentUser` ou à `ImpersonateAnonymous`.</span><span class="sxs-lookup"><span data-stu-id="c27dd-179">The `ImpersonationMode` property can be set to `ImpersonateCurrentUser` or `ImpersonateAnonymous`.</span></span> <span data-ttu-id="c27dd-180">Le paramètre par défaut, `ImpersonateCurrentUser`, exécute un assembly sous le compte de connexion réseau de l'utilisateur en cours.</span><span class="sxs-lookup"><span data-stu-id="c27dd-180">The default setting, `ImpersonateCurrentUser`, runs an assembly under the current user's network login account.</span></span> <span data-ttu-id="c27dd-181">Si le `ImpersonateAnonymous` paramètre est utilisé, le contexte d’exécution correspond au compte d’utilisateur de connexion Windows IUSER_*ServerName* sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-181">If the `ImpersonateAnonymous` setting is used, the execution context is corresponds to the Windows login user account IUSER_*servername* on the server.</span></span> <span data-ttu-id="c27dd-182">Il s'agit du compte Invité Internet, qui a des droits limités sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="c27dd-182">This is the Internet guest account, which has limited privileges on the server.</span></span> <span data-ttu-id="c27dd-183">Un assembly s'exécutant dans ce contexte peut seulement accéder à des ressources limitées sur le serveur local.</span><span class="sxs-lookup"><span data-stu-id="c27dd-183">An assembly running in this context can only access limited resources on the local server.</span></span>  
  
### <a name="application-domains"></a><span data-ttu-id="c27dd-184">Domaines d'application</span><span class="sxs-lookup"><span data-stu-id="c27dd-184">Application Domains</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="c27dd-185">n’expose pas directement les domaines d’application.</span><span class="sxs-lookup"><span data-stu-id="c27dd-185">does not expose application domains directly.</span></span> <span data-ttu-id="c27dd-186">Grâce à un ensemble d'assemblys s'exécutant dans le même domaine d'application, les domaines d'application sont capables de se découvrir les uns les autres au moment de l'exécution à l'aide de l'espace de noms `System.Reflection` dans .NET Framework ou par d'autres moyens, et ils sont capables d'y faire des appels en mode de liaison tardive.</span><span class="sxs-lookup"><span data-stu-id="c27dd-186">Because of a set of assemblies running in the same application domain, application domains can discover each other at execution time by using the `System.Reflection` namespace in the .NET Framework or in some other way, and can call into them in late-bound manner.</span></span> <span data-ttu-id="c27dd-187">De tels appels font l'objet des vérifications d'autorisations utilisées par la sécurité basée sur les autorisations de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c27dd-187">Such calls will be subject to the permission checks used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] authorization-based security.</span></span>  
  
 <span data-ttu-id="c27dd-188">Il est recommandé de ne pas se baser sur la recherche d'assemblys dans le même domaine d'application, dans la mesure où la limite du domaine d'application et les assemblys qui vont dans chacun des domaines sont définis par la mise en œuvre.</span><span class="sxs-lookup"><span data-stu-id="c27dd-188">You should not rely on finding assemblies in the same application domain, because the application domain boundary and the assemblies that go into each domain are defined by the implementation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c27dd-189">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c27dd-189">See Also</span></span>  
 <span data-ttu-id="c27dd-190">[Définition de la sécurité des procédures stockées](../multidimensional-models-extending-olap-stored-procedures/setting-security-for-stored-procedures.md) </span><span class="sxs-lookup"><span data-stu-id="c27dd-190">[Setting Security for Stored Procedures](../multidimensional-models-extending-olap-stored-procedures/setting-security-for-stored-procedures.md) </span></span>  
 [<span data-ttu-id="c27dd-191">Définition de procédures stockées</span><span class="sxs-lookup"><span data-stu-id="c27dd-191">Defining Stored Procedures</span></span>](../multidimensional-models-extending-olap-stored-procedures/defining-stored-procedures.md)  
  
  
