---
title: Partitions et mode DirectQuery (SSAS tabulaire) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 5f179ba9-6efb-46ae-90e5-945bbfddb719
author: minewiskan
ms.author: owend
ms.openlocfilehash: 5957ed919f15a5c7f39c3c78133786ae6687a2d2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87612476"
---
# <a name="partitions-and-directquery-mode-ssas-tabular"></a><span data-ttu-id="239a7-102">Partitions et mode DirectQuery (SSAS Tabulaire)</span><span class="sxs-lookup"><span data-stu-id="239a7-102">Partitions and DirectQuery Mode (SSAS Tabular)</span></span>
  <span data-ttu-id="239a7-103">Cette section explique comment sont utilisées les partitions dans les modèles DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="239a7-103">This section explains how partitions are used in DirectQuery models.</span></span> <span data-ttu-id="239a7-104">Pour obtenir des informations générales sur les partitions dans les modèles tabulaires, consultez [Partitions &#40;SSAS Tabulaire&#41;](partitions-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="239a7-104">For more general information about partitions in tabular models, see [Partitions &#40;SSAS Tabular&#41;](partitions-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="239a7-105">Pour obtenir des instructions sur la façon de modifier la partition utilisée, ou afficher des informations sur la partition, consultez [modifier la partition DirectQuery &#40;la&#41;tabulaire SSAS ](../change-the-directquery-partition-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="239a7-105">For instructions on how to change the partition that is used, or view information about the partition, see [Change the DirectQuery Partition &#40;SSAS Tabular&#41;](../change-the-directquery-partition-ssas-tabular.md).</span></span>  
  
## <a name="using-partitions-in-directquery-mode"></a><span data-ttu-id="239a7-106">Utilisation de partitions en mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="239a7-106">Using Partitions in DirectQuery Mode</span></span>  
 <span data-ttu-id="239a7-107">Pour chaque table, vous devez spécifier une seule partition à utiliser en tant que source de données DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="239a7-107">For each table, you must specify a single partition to use as the DirectQuery data source.</span></span>  <span data-ttu-id="239a7-108">S'il existe plusieurs partitions, lorsque vous basculez le modèle pour activer le mode DirectQuery, par défaut la première partition qui a été créée dans la table est marquée en tant que partition DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="239a7-108">If there are multiple partitions, when you switch the model to enable DirectQuery mode, by default the first partition that was created in the table is flagged as the DirectQuery partition.</span></span> <span data-ttu-id="239a7-109">Vous pouvez modifier ce comportement ultérieurement à l'aide du Gestionnaire de partitions de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="239a7-109">You can change this later by using the Partition Manager in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="239a7-110">Pourquoi autoriser une seule partition en mode DirectQuery ?</span><span class="sxs-lookup"><span data-stu-id="239a7-110">Why allow only a single partition in DirectQuery mode?</span></span>  
  
 <span data-ttu-id="239a7-111">Dans les modèles tabulaires (comme dans les modèles OLAP), les partitions d'une table sont définies par des requêtes SQL.</span><span class="sxs-lookup"><span data-stu-id="239a7-111">In tabular models (as in OLAP models), the partitions of a table are defined by SQL queries.</span></span> <span data-ttu-id="239a7-112">Le développeur qui crée la définition de partition doit s'assurer que les partitions ne se chevauchent pas.</span><span class="sxs-lookup"><span data-stu-id="239a7-112">The developer who creates the partition definition is responsible for ensuring that partitions do not overlap.</span></span> <span data-ttu-id="239a7-113">Analysis Services ne vérifie pas si les enregistrements appartiennent à une ou plusieurs partitions.</span><span class="sxs-lookup"><span data-stu-id="239a7-113">Analysis Services does not check whether records belong in one or multiple partitions.</span></span>  
  
 <span data-ttu-id="239a7-114">Les partitions dans un modèle tabulaire mis en cache se comportent de la même manière.</span><span class="sxs-lookup"><span data-stu-id="239a7-114">Partitions in a cached tabular model behave the same way.</span></span> <span data-ttu-id="239a7-115">Si vous utilisez un modèle en mémoire, lors de l'accès au cache, les formules DAX sont évaluées pour chaque partition et les résultats sont associés.</span><span class="sxs-lookup"><span data-stu-id="239a7-115">If you are using an in-memory model, while the cache is being accessed, DAX formulas are evaluated for each partition, and the results are combined.</span></span> <span data-ttu-id="239a7-116">Toutefois, lorsqu'un modèle tabulaire utilise le mode DirectQuery, il est impossible d'évaluer plusieurs partitions, de combiner les résultats et de les convertir en une instruction SQL pour l'envoi à la banque de données relationnelle.</span><span class="sxs-lookup"><span data-stu-id="239a7-116">However, when a tabular model uses DirectQuery mode, it would be impossible to evaluate multiple partitions, combine the results, and convert that into a SQL statement for sending to the relational data store.</span></span> <span data-ttu-id="239a7-117">Cela peut entraîner une perte inacceptable de performances, ainsi que des inexactitudes potentielles à mesure que les résultats sont agrégés.</span><span class="sxs-lookup"><span data-stu-id="239a7-117">Doing so could lead to unacceptable loss of performance, as well as potential inaccuracies as the results are aggregated.</span></span>  
  
 <span data-ttu-id="239a7-118">Par conséquent, pour les requêtes ayant obtenu une réponse en mode DirectQuery, le serveur utilise une seule partition qui a été marquée comme partition principale pour l’accès DirectQuery, que l’on appelle *partition DirectQuery*.</span><span class="sxs-lookup"><span data-stu-id="239a7-118">Therefore, for queries answered in DirectQuery mode, the server uses a single partition that has been marked as the primary partition for DirectQuery access, called the *DirectQuery partition*.</span></span>  <span data-ttu-id="239a7-119">La requête SQL spécifiée dans la définition de cette partition définit l’ensemble complet des données qui peuvent être utilisées pour répondre aux requêtes en mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="239a7-119">The SQL query specified in the definition of this partition defines the complete set of data that can be used to answer queries in DirectQuery mode.</span></span>  
  
 <span data-ttu-id="239a7-120">Si vous ne définissez aucune partition de manière explicite, le moteur transmet simplement une requête SQL à l'ensemble de la source de données relationnelle, effectue toutes les opérations reposant sur un jeu dictées par la formule DAX et retourne les résultats de la requête.</span><span class="sxs-lookup"><span data-stu-id="239a7-120">If you do not explicitly define a partition, the engine simply issues a SQL query to the entire relational data source, performs any set-based operations dictated by the DAX formula, and returns the query results.</span></span>  
  
 <span data-ttu-id="239a7-121">Si vous disposez de plusieurs partitions dans une table et sélectionnez une partition en tant que partition DirectQuery, par défaut, toutes les autres partitions sont marquées comme étant utilisables en mémoire uniquement.</span><span class="sxs-lookup"><span data-stu-id="239a7-121">If you have multiple partitions in a table, and select one partition as the DirectQuery partition, by default all other partitions are marked as being for in-memory use only.</span></span>  
  
## <a name="partitions-in-cached-models-and-in-directquery-models"></a><span data-ttu-id="239a7-122">Partitions dans les modèles mis en cache et dans les modèles DirectQuery</span><span class="sxs-lookup"><span data-stu-id="239a7-122">Partitions in Cached Models and in DirectQuery Models</span></span>  
 <span data-ttu-id="239a7-123">Lorsque vous configurez une partition DirectQuery, vous devez spécifier les options de traitement pour la partition.</span><span class="sxs-lookup"><span data-stu-id="239a7-123">When you configure a DirectQuery partition, you must specify processing options for the partition.</span></span>  
  
 <span data-ttu-id="239a7-124">Il existe deux options de traitement pour la partition DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="239a7-124">There are two processing options for the DirectQuery partition.</span></span> <span data-ttu-id="239a7-125">Pour définir cette propriété, utilisez le **Gestionnaire de partitions** de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], ou [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], puis sélectionnez la propriété **Option de traitement** .</span><span class="sxs-lookup"><span data-stu-id="239a7-125">To set this property, use the **Partition Manager** in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and select the **Processing Option** property.</span></span> <span data-ttu-id="239a7-126">Le tableau suivant répertorie les valeurs de cette propriété, et décrit les effets de chaque valeur lorsqu'elle est associée à la propriété DirectQueryUsage sur la chaîne de connexion :</span><span class="sxs-lookup"><span data-stu-id="239a7-126">The following table lists the values of this property, and describes the effects of each value when combined with the DirectQueryUsage property on the connection string:</span></span>  
  
|<span data-ttu-id="239a7-127">Propriété **DirectQueryUsage**</span><span class="sxs-lookup"><span data-stu-id="239a7-127">**DirectQueryUsage** property</span></span>|<span data-ttu-id="239a7-128">Propriété**Option de traitement**</span><span class="sxs-lookup"><span data-stu-id="239a7-128">**Processing Option** property</span></span>|<span data-ttu-id="239a7-129">Notes</span><span class="sxs-lookup"><span data-stu-id="239a7-129">Notes</span></span>|  
|-----------------------------------|------------------------------------|-----------|  
|<span data-ttu-id="239a7-130">DirectQuery</span><span class="sxs-lookup"><span data-stu-id="239a7-130">DirectQuery</span></span>|<span data-ttu-id="239a7-131">Ne jamais traiter cette partition</span><span class="sxs-lookup"><span data-stu-id="239a7-131">Never process this partition</span></span>|<span data-ttu-id="239a7-132">Lorsque le modèle utilise DirectQuery uniquement, le traitement n'est jamais nécessaire.</span><span class="sxs-lookup"><span data-stu-id="239a7-132">When the model is using DirectQuery only, processing is never necessary.</span></span><br /><br /> <span data-ttu-id="239a7-133">Dans les modèles hybrides, vous pouvez configurer la partition DirectQuery de façon à ce qu'elle ne soit jamais traitée.</span><span class="sxs-lookup"><span data-stu-id="239a7-133">In hybrid models, you can configure the DirectQuery partition to never be processed.</span></span> <span data-ttu-id="239a7-134">Par exemple, si vous effectuez une opération sur un jeu de données très volumineux et vous ne souhaitez pas que les résultats complets soient ajoutés dans le cache, vous pouvez spécifier que la partition DirectQuery inclut l'union des résultats pour toutes les autres partitions dans la table, et ne jamais traiter l'union.</span><span class="sxs-lookup"><span data-stu-id="239a7-134">For example, if you are operating over a very large data set and do not want the full results added to the cache, you can specify that the DirectQuery partition include the union of results for all other partitions in the table, and then never process the union.</span></span> <span data-ttu-id="239a7-135">Les requêtes transmises à la source relationnelle ne sont pas affectées, et les requêtes sur des données en mémoire cache associent les données des autres partitions.</span><span class="sxs-lookup"><span data-stu-id="239a7-135">Queries that go to the relational source will not be affected, and queries against cached data will combine data from the other partitions</span></span>|  
|<span data-ttu-id="239a7-136">InMemory avec DirectQuery</span><span class="sxs-lookup"><span data-stu-id="239a7-136">InMemory With DirectQuery</span></span>|<span data-ttu-id="239a7-137">Autoriser le traitement de la partition</span><span class="sxs-lookup"><span data-stu-id="239a7-137">Allow partition to be processed</span></span>|<span data-ttu-id="239a7-138">Si le modèle utilise le mode hybride, vous devez utiliser la même partition pour les requêtes sur InMemory et les requêtes sur la source de données DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="239a7-138">If the model is using hybrid mode, you should use the same partition for queries against the in-memory and queries against the DirectQuery data source.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="239a7-139">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="239a7-139">See Also</span></span>  
 [<span data-ttu-id="239a7-140">Partitions &#40;SSAS Tabulaire&#41;</span><span class="sxs-lookup"><span data-stu-id="239a7-140">Partitions &#40;SSAS Tabular&#41;</span></span>](partitions-ssas-tabular.md)  
  
  
