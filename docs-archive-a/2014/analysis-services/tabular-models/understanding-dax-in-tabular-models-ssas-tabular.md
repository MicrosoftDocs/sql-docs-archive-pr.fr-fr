---
title: Présentation de DAX dans les modèles tabulaires (SSAS tabulaire) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: b2693985-1bea-4861-a100-cea4761ba809
author: minewiskan
ms.author: owend
ms.openlocfilehash: 4bf7dc2f41a1d42e8b565459c3b094479d937a91
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87613143"
---
# <a name="understanding-dax-in-tabular-models-ssas-tabular"></a><span data-ttu-id="c3678-102">Fonctionnement de DAX dans les modèles tabulaires (SSAS Tabulaire)</span><span class="sxs-lookup"><span data-stu-id="c3678-102">Understanding DAX in Tabular Models (SSAS Tabular)</span></span>
  <span data-ttu-id="c3678-103">DAX (Data Analysis Expressions) est le langage de formule utilisé pour créer des calculs personnalisés dans [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] pour les classeurs Microsoft Excel et les modèles tabulaires de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c3678-103">Data Analysis Expressions (DAX) is the formula language used to create custom calculations in [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] for Microsoft Excel workbooks and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] tabular model projects.</span></span> <span data-ttu-id="c3678-104">Les formules DAX comportent des fonctions, des opérateurs, et des valeurs pour effectuer des calculs avancés sur les données des tables et des colonnes.</span><span class="sxs-lookup"><span data-stu-id="c3678-104">DAX formulas include functions, operators, and values to perform advanced calculations on data in tables and columns.</span></span>  
  
 <span data-ttu-id="c3678-105">Bien que DAX s'applique à la fois aux classeurs et aux projets de modèles tabulaires [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] , cette rubrique traite plus précisément des projets de modèles tabulaires créés dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3678-105">While DAX applies to both [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] workbooks and tabular model projects, this topic applies more to tabular model projects authored in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="c3678-106">Avant de lire cette rubrique, vous devez avoir une bonne compréhension des modèles tabulaires et de l'environnement de création de projets de modèles tabulaires dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3678-106">Before reading this topic, you should have a good understanding of tabular models and the tabular model project authoring environment in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="c3678-107">Sections de cette rubrique :</span><span class="sxs-lookup"><span data-stu-id="c3678-107">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="c3678-108">DAX dans les modèles tabulaires</span><span class="sxs-lookup"><span data-stu-id="c3678-108">DAX in Tabular Models</span></span>](#bkmk_DAXintm)  
  
-   [<span data-ttu-id="c3678-109">Formules DAX dans les colonnes calculées, les mesures et les filtres de lignes</span><span class="sxs-lookup"><span data-stu-id="c3678-109">DAX Formulas in Calculated Columns, Measures, and Row Filters</span></span>](#bkmk_DAX)  
  
-   [<span data-ttu-id="c3678-110">Types de données DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-110">DAX Data Types</span></span>](#bkmk_DAX_datatypes)  
  
-   [<span data-ttu-id="c3678-111">Opérateurs DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-111">DAX Operators</span></span>](#bkmk_DAX_opertors)  
  
-   [<span data-ttu-id="c3678-112">Formules DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-112">DAX Formulas</span></span>](#bkmk_DAX_Formulas)  
  
-   [<span data-ttu-id="c3678-113">Fonctions DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-113">DAX Functions</span></span>](#bkmk_DAX_functions)  
  
-   [<span data-ttu-id="c3678-114">Contexte dans les formules DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-114">Context in DAX Formulas</span></span>](#bkmk_context)  
  
-   [<span data-ttu-id="c3678-115">Formules et modèle tabulaire</span><span class="sxs-lookup"><span data-stu-id="c3678-115">Formulas and the Tabular Model</span></span>](#bkmk_RelModel)  
  
-   [<span data-ttu-id="c3678-116">Utilisation de tables et de colonnes</span><span class="sxs-lookup"><span data-stu-id="c3678-116">Working with Tables and Columns</span></span>](#bkmk_tables)  
  
-   [<span data-ttu-id="c3678-117">Mise à jour des résultats des formules (processus)</span><span class="sxs-lookup"><span data-stu-id="c3678-117">Updating the Results of Formulas (Process)</span></span>](#bkmk_RefreshRecalc)  
  
-   [<span data-ttu-id="c3678-118">Résolution des erreurs dans les formules</span><span class="sxs-lookup"><span data-stu-id="c3678-118">Troubleshooting Errors in Formulas</span></span>](#bkmk_troubleshoot)  
  
-   [<span data-ttu-id="c3678-119">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="c3678-119">Additional Resources</span></span>](#bkmk_addional_resources)  
  
##  <a name="dax-in-tabular-models"></a><a name="bkmk_DAXintm"></a><span data-ttu-id="c3678-120">DAX dans les modèles tabulaires</span><span class="sxs-lookup"><span data-stu-id="c3678-120">DAX in Tabular Models</span></span>  
 <span data-ttu-id="c3678-121">Dans [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] et dans les modèles tabulaires, il n'y a pas de différence fonctionnelle dans la façon dont les formules DAX calculent les valeurs à partir de leurs jeux de données respectifs.</span><span class="sxs-lookup"><span data-stu-id="c3678-121">In both [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] and tabular models, functionally, there is no difference in how DAX formulas calculate values from their respective data sets.</span></span> <span data-ttu-id="c3678-122">Toutefois, l'endroit où les formules DAX sont créées dans les outils de création de classeurs et de modèles est différent, ainsi que l'endroit où le contexte est évalué dans certaines mesures.</span><span class="sxs-lookup"><span data-stu-id="c3678-122">However, where DAX formulas are created in the workbook and model authoring tools is different, as well as where context in certain measures is evaluated.</span></span>  
  
 <span data-ttu-id="c3678-123">Dans [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)], les formules de calcul sont généralement créées par l'utilisateur du classeur dans le cadre de l'analyse décisionnelle en libre-service.</span><span class="sxs-lookup"><span data-stu-id="c3678-123">In [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)], calculation formulas are typically created by the workbook user for self-service business intelligence analysis.</span></span> <span data-ttu-id="c3678-124">Les colonnes calculées sont créées pour une table dans la fenêtre PowerPivot, et les mesures sont créées dans des tableaux croisés dynamiques ou dans la zone de calcul.</span><span class="sxs-lookup"><span data-stu-id="c3678-124">Calculated columns are created for a table in the PowerPivot window, and measures are created in PivotTables or the calculation area.</span></span> <span data-ttu-id="c3678-125">Contrairement aux projets de modèles tabulaires, les classeurs PowerPivot ne fournissent pas la sécurité basée sur les rôles qui peut utiliser des formules DAX pour sécuriser les données.</span><span class="sxs-lookup"><span data-stu-id="c3678-125">Unlike tabular model projects, PowerPivot workbooks do not provide role-based security, which can use DAX formulas to secure data.</span></span>  
  
 <span data-ttu-id="c3678-126">Dans les projets de modèles tabulaires, les formules de calcul sont créées dans le générateur de modèles de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] par les auteurs du modèle.</span><span class="sxs-lookup"><span data-stu-id="c3678-126">In tabular model projects, calculation formulas are created in the model designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] by model authors.</span></span> <span data-ttu-id="c3678-127">Alors que les valeurs des colonnes calculées à l'aide de formules DAX apparaissent immédiatement dans la table dans le générateur de modèles, à l'exception de la fonctionnalité d'aperçu des mesures dans la grille de mesures, les mesures ne sont pas calculées tant qu'un utilisateur ne spécifie pas un filtre dans un client de création de rapports tel que [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] ou dans des tableaux croisés dynamiques dans Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="c3678-127">While values for calculated columns, calculated by using DAX formulas, appear immediately in the table in the model designer, with exception to the measure preview feature in the measure grid, measures are not calculated until a user specifies a filter in a reporting client such as [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] or in PivotTables in Microsoft Excel.</span></span>  
  
 <span data-ttu-id="c3678-128">Si vous importez un classeur PowerPivot dans un projet de modèle tabulaire à l'aide du modèle de projet Importer à partir de PowerPivot, les formules DAX des colonnes calculées sont automatiquement créées dans le nouveau modèle tabulaire.</span><span class="sxs-lookup"><span data-stu-id="c3678-128">If you import a PowerPivot workbook into a new tabular model project by using the Import from PowerPivot project template, DAX formulas for calculated columns will be automatically created in the new tabular model.</span></span> <span data-ttu-id="c3678-129">Les formules DAX des mesures implicites et explicites dans le classeur sont automatiquement créées dans le nouveau modèle tabulaire en tant que mesures explicites.</span><span class="sxs-lookup"><span data-stu-id="c3678-129">DAX formulas for implicit and explicit measures in the workbook will be automatically created in the new tabular model as explicit measures.</span></span> <span data-ttu-id="c3678-130">Étant donné que les fonctionnalités de rôle et de sécurité du filtre de lignes n'existent pas encore dans les classeurs PowerPivot, vous devez créer au moins un rôle dans le nouveau modèle tabulaire pour fournir aux membres du rôle l'accès aux données du modèle.</span><span class="sxs-lookup"><span data-stu-id="c3678-130">Because role and secure row filter functionality do not already exist in PowerPivot workbooks, you will need to create at least one role in the new tabular model to provide model data access to role members.</span></span> <span data-ttu-id="c3678-131">Les formules DAX dans les filtres de lignes ne sont nécessaires que si vous souhaitez sécuriser les données de table au niveau de la ligne.</span><span class="sxs-lookup"><span data-stu-id="c3678-131">DAX formulas in row filters are necessary only if you want to secure table data at the row-level.</span></span>  
  
##  <a name="dax-formulas-in-calculated-columns-measures-and-row-filters"></a><a name="bkmk_DAX"></a><span data-ttu-id="c3678-132">Formules DAX dans les colonnes calculées, les mesures et les filtres de lignes</span><span class="sxs-lookup"><span data-stu-id="c3678-132">DAX Formulas in Calculated Columns, Measures, and Row Filters</span></span>  
 <span data-ttu-id="c3678-133">Pour les modèles tabulaires créés dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], les formules DAX sont utilisées dans les colonnes calculées, les mesures et les filtres de lignes.</span><span class="sxs-lookup"><span data-stu-id="c3678-133">For tabular models authored in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], DAX formulas are used in calculated columns, measures, and row filters.</span></span>  
  
### <a name="calculated-columns"></a><span data-ttu-id="c3678-134">Colonnes calculées</span><span class="sxs-lookup"><span data-stu-id="c3678-134">Calculated Columns</span></span>  
 <span data-ttu-id="c3678-135">Une colonne calculée est une colonne que vous ajoutez à une table existante (dans le concepteur de modèles) et ses valeurs sont définies par la formule DAX créée.</span><span class="sxs-lookup"><span data-stu-id="c3678-135">A calculated column is a column that you add to an existing table (in the model designer) and then create a DAX formula that defines the column values.</span></span> <span data-ttu-id="c3678-136">Vous créez les formules des colonnes calculées dans le concepteur de modèles à l'aide de la barre de formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-136">You create formulas for calculated columns in the model designer by using the formula bar.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c3678-137">Les colonnes calculées ne sont pas prises en charge pour les modèles qui récupèrent des données d'une source de données relationnelle à l'aide du mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="c3678-137">Calculated columns are not supported for models that retrieve data from a relational data source using DirectQuery mode.</span></span>  
  
 <span data-ttu-id="c3678-138">Lorsqu'une colonne calculée contient une formule DAX valide, les valeurs sont calculées pour chaque ligne dès que la formule est écrite.</span><span class="sxs-lookup"><span data-stu-id="c3678-138">When a calculated column contains a valid DAX formula, values are calculated for each row as soon as the formula is entered.</span></span> <span data-ttu-id="c3678-139">Les valeurs sont ensuite stockées dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="c3678-139">Values are then stored in the database.</span></span> <span data-ttu-id="c3678-140">Par exemple, dans une table Date, lorsque la formule `=[Calendar Year] & " Q" & [Calendar Quarter]` est entrée dans la barre de formule, la valeur de chaque ligne de la table est calculée en utilisant les valeurs de la colonne Calendar Year (dans la même table Date), en ajoutant un espace et la majuscule Q, puis en ajoutant les valeurs de la colonne Calendar Quarter (dans la même table Date).</span><span class="sxs-lookup"><span data-stu-id="c3678-140">For example, in a Date table, when the formula `=[Calendar Year] & " Q" & [Calendar Quarter]` is entered into the formula bar, a value for each row in the table is calculated by taking values from the Calendar Year column (in the same Date table), adding a space and the capital letter Q, and then adding the values from the Calendar Quarter column (in the same Date table).</span></span> <span data-ttu-id="c3678-141">Le résultat de chaque ligne de la colonne calculée est calculé immédiatement et apparaît, par exemple, comme **2010 Q1**.</span><span class="sxs-lookup"><span data-stu-id="c3678-141">The result for each row in the calculated column is calculated immediately and appears, for example, as **2010 Q1**.</span></span> <span data-ttu-id="c3678-142">Les valeurs de la colonne sont recalculées uniquement si les données sont retraitées.</span><span class="sxs-lookup"><span data-stu-id="c3678-142">Column values are only recalculated if the data is re-processed.</span></span>  
  
 <span data-ttu-id="c3678-143">Pour plus d’informations, consultez [Colonnes calculées &#40;SSAS tabulaire&#41;](ssas-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="c3678-143">For more information, see [Calculated Columns &#40;SSAS Tabular&#41;](ssas-calculated-columns.md).</span></span>  
  
### <a name="measures"></a><span data-ttu-id="c3678-144">Mesures</span><span class="sxs-lookup"><span data-stu-id="c3678-144">Measures</span></span>  
 <span data-ttu-id="c3678-145">Les mesures sont des formules dynamiques dont les résultats changent selon le contexte.</span><span class="sxs-lookup"><span data-stu-id="c3678-145">Measures are dynamic formulas where the results change depending on context.</span></span> <span data-ttu-id="c3678-146">Les mesures sont utilisées dans les formats de création de rapports qui prennent en charge la combinaison et le filtrage des données de modèle à l'aide de plusieurs attributs, tels qu'un rapport [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] , un tableau croisé dynamique ou un graphique croisé dynamique Excel.</span><span class="sxs-lookup"><span data-stu-id="c3678-146">Measures are used in reporting formats that support combining and filtering model data by using multiple attributes such as a [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] report or Excel PivotTable or PivotChart.</span></span> <span data-ttu-id="c3678-147">Dans les projets de modèles tabulaires, les mesures sont définies par l'auteur du modèle à l'aide de la grille de mesures (et de la barre de formule) dans le concepteur de modèles dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3678-147">In tabular model projects, measures are defined by the model author by using the measure grid (and formula bar) in the model designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="c3678-148">Une formule dans une mesure peut utiliser des fonctions d'agrégation standard créées automatiquement à l'aide de la fonction Somme automatique, telles que COUNT ou SUM, ou vous pouvez définir votre propre formule à l'aide de DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-148">A formula in a measure can use standard aggregation functions automatically created by using the Autosum feature, such as COUNT or SUM, or you can define your own formula by using DAX.</span></span> <span data-ttu-id="c3678-149">Lorsque vous définissez une formule pour une mesure dans la barre de formule, une info-bulle affiche un aperçu rapide de ce que seront les résultats pour l'ensemble du contexte actuel, mais autrement, aucun résultat n'est immédiatement généré.</span><span class="sxs-lookup"><span data-stu-id="c3678-149">When you define a formula for a measure in the formula bar, a Tooltip feature shows a preview of what the results would be for the total in the current context, but otherwise the results are not immediately output anywhere.</span></span> <span data-ttu-id="c3678-150">D'autres détails concernant la mesure apparaissent également dans le volet **Propriétés** .</span><span class="sxs-lookup"><span data-stu-id="c3678-150">Other measure details also appear in the **Properties** pane.</span></span>  
  
 <span data-ttu-id="c3678-151">La raison pour laquelle vous ne pouvez pas voir les résultats (filtrés) du calcul immédiatement tient au fait que le résultat d'une mesure ne peut pas être déterminé sans contexte.</span><span class="sxs-lookup"><span data-stu-id="c3678-151">The reason you cannot see the (filtered) results of the calculation immediately is because the result of a measure cannot be determined without context.</span></span> <span data-ttu-id="c3678-152">Évaluer une mesure requiert une application cliente de création de rapports qui peut fournir le contexte nécessaire pour récupérer les données relatives à chaque cellule, puis évaluer l'expression pour chaque cellule.</span><span class="sxs-lookup"><span data-stu-id="c3678-152">To evaluate a measure requires a reporting client application that can provide the context needed to retrieve the data relevant to each cell and then evaluate the expression for each cell.</span></span> <span data-ttu-id="c3678-153">Ce client peut être un tableau croisé dynamique ou un graphique croisé dynamique Excel, un rapport [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] ou une requête MDX.</span><span class="sxs-lookup"><span data-stu-id="c3678-153">That client might be an Excel PivotTable or PivotChart, a [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] report, or an MDX query.</span></span> <span data-ttu-id="c3678-154">Indépendamment du client de création de rapports, une requête distincte est exécutée pour chaque cellule dans les résultats.</span><span class="sxs-lookup"><span data-stu-id="c3678-154">Regardless of the reporting client, a separate query is run for each cell in the results.</span></span> <span data-ttu-id="c3678-155">Autrement dit, chaque combinaison d'en-têtes de lignes et de colonnes dans un tableau croisé dynamique, ou chaque sélection de segments et de filtres dans un rapport [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] , génère un sous-ensemble différent de données à partir desquelles la mesure est calculée.</span><span class="sxs-lookup"><span data-stu-id="c3678-155">That is to say, each combination of row and column headers in a PivotTable, or each selection of slicers and filters in a [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] report, generates a different subset of data over which the measure is calculated.</span></span> <span data-ttu-id="c3678-156">Par exemple, dans une mesure avec la formule, `Total Sales:=SUM([Sales Amount])`, lorsqu'un utilisateur place la mesure Total Sales dans la fenêtre Values dans un tableau croisé dynamique et place la colonne Product Category d'une table Product dans la fenêtre de filtres, la somme de Sales Amount est calculée et affichée pour chaque catégorie de produit.</span><span class="sxs-lookup"><span data-stu-id="c3678-156">For example, in a measure with the formula, `Total Sales:=SUM([Sales Amount])`, when a user places the Total Sales measure in the Values window in a PivotTable, and then places the Product Category column from a Product table into the Filters window, the sum of Sales Amount is calculated and displayed for each product category.</span></span>  
  
 <span data-ttu-id="c3678-157">Contrairement aux colonnes calculées et aux filtres de lignes, la syntaxe d’une mesure inclut le nom de la mesure avant la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-157">Unlike calculated columns and row filters, the syntax for a measure includes the measure's name preceding the formula.</span></span> <span data-ttu-id="c3678-158">Dans l'exemple qui vient d'être donné, le nom, **Total Sales:** apparaît avant la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-158">In the example just provided, the name **Total Sales:** appears preceding the formula.</span></span> <span data-ttu-id="c3678-159">Après avoir créé une mesure, le nom et sa définition s'affichent dans la liste de champs de l'application cliente de génération de rapports et sont disponibles à tous les utilisateurs du modèle selon les perspectives et les rôles.</span><span class="sxs-lookup"><span data-stu-id="c3678-159">After you have created a measure, the name and its definition appear in the reporting client application Field List and depending on perspectives and roles is available to all users of the model.</span></span>  
  
 <span data-ttu-id="c3678-160">Pour plus d’informations, consultez [Mesures &#40;SSAS tabulaire&#41;](measures-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="c3678-160">For more information, see [Measures &#40;SSAS Tabular&#41;](measures-ssas-tabular.md).</span></span>  
  
### <a name="row-filters"></a><span data-ttu-id="c3678-161">Filtres de lignes</span><span class="sxs-lookup"><span data-stu-id="c3678-161">Row Filters</span></span>  
 <span data-ttu-id="c3678-162">Les filtres de lignes définissent les lignes d'une table qui sont visibles aux membres d'un rôle donné.</span><span class="sxs-lookup"><span data-stu-id="c3678-162">Row filters define which rows in a table are visible to members of a particular role.</span></span> <span data-ttu-id="c3678-163">Les filtres de lignes peuvent être créés pour chaque table dans un modèle à l'aide de formules DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-163">Row filters can be created for each table in a model by using DAX formulas.</span></span> <span data-ttu-id="c3678-164">Les filtres de lignes sont créés pour un rôle particulier à l'aide du Gestionnaire de rôles dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3678-164">Row filters are created for a particular role by using Role Manager in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="c3678-165">Les filtres de lignes peuvent également être définis pour un modèle déployé à l'aide des propriétés de rôle dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3678-165">Row filters can also be defined for a deployed model by using Role Properties in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="c3678-166">Dans un filtre de lignes, une formule DAX, qui doit générer une valeur booléenne TRUE/FALSE, définit les lignes qui peuvent être retournées par les résultats d'une requête par les membres de ce rôle particulier.</span><span class="sxs-lookup"><span data-stu-id="c3678-166">In a row filter, a DAX formula, which must evaluate to a Boolean TRUE/FALSE condition, defines which rows can be returned by the results of a query by members of that particular role.</span></span> <span data-ttu-id="c3678-167">Les lignes non incluses dans la formule DAX ne peuvent pas être retournées.</span><span class="sxs-lookup"><span data-stu-id="c3678-167">Rows not included in the DAX formula cannot be returned.</span></span> <span data-ttu-id="c3678-168">Si nous prenons comme exemple les membres du rôle Sales et la table Customers avec la formule DAX suivante, `=Customers[Country] = "USA"`, les membres du rôle Sales peuvent uniquement afficher les données des clients aux États-unis et les agrégats, tels que SUM, sont retournés uniquement pour ces clients.</span><span class="sxs-lookup"><span data-stu-id="c3678-168">For example, for members of the Sales role, the Customers table with the following DAX formula, `=Customers[Country] = "USA"`, members of the Sales role will only be able to view data for customers in the USA, and aggregates, such as SUM are returned only for customers in the USA.</span></span>  
  
 <span data-ttu-id="c3678-169">Lorsque vous définissez un filtre de lignes à l'aide d'une formule DAX, vous créez un ensemble de lignes autorisé.</span><span class="sxs-lookup"><span data-stu-id="c3678-169">When you define a row filter by using DAX formula, you are creating an allowed row set.</span></span> <span data-ttu-id="c3678-170">Cela interdit pas l'accès à d'autres lignes ; en revanche, elles ne sont pas retournées dans le cadre de l'ensemble de lignes autorisé.</span><span class="sxs-lookup"><span data-stu-id="c3678-170">This does not deny access to other rows; rather, they are simply not returned as part of the allowed row set.</span></span> <span data-ttu-id="c3678-171">D'autres rôles peuvent autoriser l'accès aux lignes exclues par la formule DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-171">Other roles can allow access to the rows excluded by the DAX formula.</span></span> <span data-ttu-id="c3678-172">Si un utilisateur est membre d’un autre rôle et que les filtres de lignes de ce rôle autorisent l’accès à cet ensemble de lignes particulier, l’utilisateur peut voir les données de ces lignes.</span><span class="sxs-lookup"><span data-stu-id="c3678-172">If a user is a member of another role, and that role's row filters allow access to that particular row set, the user can view data for that row.</span></span>  
  
 <span data-ttu-id="c3678-173">Les filtres de lignes s'appliquent aux lignes spécifiées ainsi qu'aux lignes connexes.</span><span class="sxs-lookup"><span data-stu-id="c3678-173">Row filters apply to the specified rows as well as related rows.</span></span> <span data-ttu-id="c3678-174">Lorsqu'une table contient plusieurs relations, les filtres appliquent la sécurité de la relation qui est active.</span><span class="sxs-lookup"><span data-stu-id="c3678-174">When a table has multiple relationships, filters apply security for the relationship that is active.</span></span> <span data-ttu-id="c3678-175">Les filtres de lignes se croisent avec d'autres filtres de ligne définis pour les tables associées.</span><span class="sxs-lookup"><span data-stu-id="c3678-175">Row filters will be intersected with other row filters defined for related tables.</span></span>  
  
 <span data-ttu-id="c3678-176">Pour plus d’informations, consultez [Rôles &#40;SSAS tabulaire&#41;](roles-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="c3678-176">For more information, see [Roles &#40;SSAS Tabular&#41;](roles-ssas-tabular.md).</span></span>  
  
##  <a name="dax-data-types"></a><a name="bkmk_DAX_datatypes"></a><span data-ttu-id="c3678-177">Types de données DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-177">DAX Data Types</span></span>  
 <span data-ttu-id="c3678-178">Vous pouvez importer des données dans un modèle à partir de nombreuses sources de données différentes, qui peuvent prendre en charge des types de données différents.</span><span class="sxs-lookup"><span data-stu-id="c3678-178">You can import data into a model from many different data sources that might support different data types.</span></span> <span data-ttu-id="c3678-179">Lorsque vous importez des données dans un modèle, les données sont converties en un des types de données de modèle tabulaire.</span><span class="sxs-lookup"><span data-stu-id="c3678-179">When you import data into a model, the data is converted to one of the tabular model data types.</span></span> <span data-ttu-id="c3678-180">Quand les données du modèle sont utilisées dans un calcul, les données sont converties en un type de données DAX pour la durée et le résultat du calcul.</span><span class="sxs-lookup"><span data-stu-id="c3678-180">When the model data is used in a calculation, the data is then converted to a DAX data type for the duration and output of the calculation.</span></span> <span data-ttu-id="c3678-181">Lorsque vous créez une formule DAX, les termes utilisés dans la formule déterminent automatiquement le type de données de valeur retournées.</span><span class="sxs-lookup"><span data-stu-id="c3678-181">When you create a DAX formula, the terms used in the formula will automatically determine the value data type returned.</span></span>  
  
 <span data-ttu-id="c3678-182">Les modèles tabulaires, et DAX, prennent en charge les types de données suivants :</span><span class="sxs-lookup"><span data-stu-id="c3678-182">Tabular models, and DAX, support the following data types:</span></span>  
  
|<span data-ttu-id="c3678-183">Type de données dans le modèle</span><span class="sxs-lookup"><span data-stu-id="c3678-183">Data type in model</span></span>|<span data-ttu-id="c3678-184">Type de données dans DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-184">Data type in DAX</span></span>|<span data-ttu-id="c3678-185">Description</span><span class="sxs-lookup"><span data-stu-id="c3678-185">Description</span></span>|  
|------------------------|----------------------|-----------------|  
|<span data-ttu-id="c3678-186">Nombre entier</span><span class="sxs-lookup"><span data-stu-id="c3678-186">Whole Number</span></span>|<span data-ttu-id="c3678-187">Valeur entière de 64 bits (huit octets) <sup>1, 2</sup></span><span class="sxs-lookup"><span data-stu-id="c3678-187">A 64 bit (eight-bytes) integer value <sup>1, 2</sup></span></span>|<span data-ttu-id="c3678-188">Nombres qui n'ont pas de décimales.</span><span class="sxs-lookup"><span data-stu-id="c3678-188">Numbers that have no decimal places.</span></span> <span data-ttu-id="c3678-189">Les entiers peuvent être des nombres positifs ou négatifs, mais doivent être compris entre -9 223 372 036 854 775 808 (-2^63) et 9 223 372 036 854 775 807 (2^63-1).</span><span class="sxs-lookup"><span data-stu-id="c3678-189">Integers can be positive or negative numbers, but must be whole numbers between -9,223,372,036,854,775,808 (-2^63) and 9,223,372,036,854,775,807 (2^63-1).</span></span>|  
|<span data-ttu-id="c3678-190">Nombre décimal</span><span class="sxs-lookup"><span data-stu-id="c3678-190">Decimal Number</span></span>|<span data-ttu-id="c3678-191">Nombre réel de 64 bits (huit octets) <sup>1, 2</sup></span><span class="sxs-lookup"><span data-stu-id="c3678-191">A 64 bit (eight-bytes) real number <sup>1, 2</sup></span></span>|<span data-ttu-id="c3678-192">Les nombres réels sont des nombres qui peuvent avoir des décimales.</span><span class="sxs-lookup"><span data-stu-id="c3678-192">Real numbers are numbers that can have decimal places.</span></span> <span data-ttu-id="c3678-193">Les nombres réels couvrent une large gamme de valeurs :</span><span class="sxs-lookup"><span data-stu-id="c3678-193">Real numbers cover a wide range of values:</span></span><br /><br /> <span data-ttu-id="c3678-194">Valeurs négatives de -1.79E +308 à -2.23E -308</span><span class="sxs-lookup"><span data-stu-id="c3678-194">Negative values from -1.79E +308 through -2.23E -308</span></span><br /><br /> <span data-ttu-id="c3678-195">Zéro</span><span class="sxs-lookup"><span data-stu-id="c3678-195">Zero</span></span><br /><br /> <span data-ttu-id="c3678-196">Valeurs positives de 2.23E -308 à -1.79E +308</span><span class="sxs-lookup"><span data-stu-id="c3678-196">Positive values from 2.23E -308 through 1.79E + 308</span></span><br /><br /> <span data-ttu-id="c3678-197">Toutefois, le nombre de bits significatifs est limité à 17 chiffres décimaux.</span><span class="sxs-lookup"><span data-stu-id="c3678-197">However, the number of significant digits is limited to 17 decimal digits.</span></span>|  
|<span data-ttu-id="c3678-198">Boolean</span><span class="sxs-lookup"><span data-stu-id="c3678-198">Boolean</span></span>|<span data-ttu-id="c3678-199">Boolean</span><span class="sxs-lookup"><span data-stu-id="c3678-199">Boolean</span></span>|<span data-ttu-id="c3678-200">Valeur True ou valeur False.</span><span class="sxs-lookup"><span data-stu-id="c3678-200">Either a True or False value.</span></span>|  
|<span data-ttu-id="c3678-201">Texte</span><span class="sxs-lookup"><span data-stu-id="c3678-201">Text</span></span>|<span data-ttu-id="c3678-202">String</span><span class="sxs-lookup"><span data-stu-id="c3678-202">String</span></span>|<span data-ttu-id="c3678-203">Chaîne de données caractères au format Unicode.</span><span class="sxs-lookup"><span data-stu-id="c3678-203">A Unicode character data string.</span></span> <span data-ttu-id="c3678-204">Il peut s'agir de chaînes, de nombres ou de dates représentés dans un format texte.</span><span class="sxs-lookup"><span data-stu-id="c3678-204">Can be strings, numbers or dates represented in a text format.</span></span>|  
|<span data-ttu-id="c3678-205">Date</span><span class="sxs-lookup"><span data-stu-id="c3678-205">Date</span></span>|<span data-ttu-id="c3678-206">Date/time</span><span class="sxs-lookup"><span data-stu-id="c3678-206">Date/time</span></span>|<span data-ttu-id="c3678-207">Dates et heures dans une représentation date-heure acceptée.</span><span class="sxs-lookup"><span data-stu-id="c3678-207">Dates and times in an accepted date-time representation.</span></span><br /><br /> <span data-ttu-id="c3678-208">Les dates valides sont toutes les dates après le 1er mars 1900.</span><span class="sxs-lookup"><span data-stu-id="c3678-208">Valid dates are all dates after March 1, 1900.</span></span>|  
|<span data-ttu-id="c3678-209">Devise</span><span class="sxs-lookup"><span data-stu-id="c3678-209">Currency</span></span>|<span data-ttu-id="c3678-210">Devise</span><span class="sxs-lookup"><span data-stu-id="c3678-210">Currency</span></span>|<span data-ttu-id="c3678-211">Le type de données devise autorise des valeurs entre -922 337 203 685 477,5808 et 922 337 203 685 477,5807 avec quatre chiffres décimaux à précision fixe.</span><span class="sxs-lookup"><span data-stu-id="c3678-211">Currency data type allows values between -922,337,203,685,477.5808 to 922,337,203,685,477.5807 with four decimal digits of fixed precision.</span></span>|  
|<span data-ttu-id="c3678-212">N/A</span><span class="sxs-lookup"><span data-stu-id="c3678-212">N/A</span></span>|<span data-ttu-id="c3678-213">Vide</span><span class="sxs-lookup"><span data-stu-id="c3678-213">Blank</span></span>|<span data-ttu-id="c3678-214">Le type de données Vide (Blank) de DAX représente et remplace les valeurs Null SQL.</span><span class="sxs-lookup"><span data-stu-id="c3678-214">A blank is a data type in DAX that represents and replaces SQL nulls.</span></span> <span data-ttu-id="c3678-215">Vous pouvez créer une valeur vide à l'aide de la fonction BLANK et tester les valeurs vides à l'aide de la fonction logique ISBLANK.</span><span class="sxs-lookup"><span data-stu-id="c3678-215">You can create a blank by using the BLANK function, and test for blanks by using the logical function, ISBLANK.</span></span>|  
  
 <span data-ttu-id="c3678-216">Les modèles tabulaires incluent également le type de données Table comme entrée ou sortie dans de nombreuses fonctions DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-216">Tabular models also include the Table data type as the input or output to many DAX functions.</span></span> <span data-ttu-id="c3678-217">Par exemple, la fonction FILTER prend une table en entrée et génère en sortie une autre table qui contient uniquement les lignes qui répondent aux conditions de filtre.</span><span class="sxs-lookup"><span data-stu-id="c3678-217">For example, the FILTER function takes a table as input and outputs another table that contains only the rows that meet the filter conditions.</span></span> <span data-ttu-id="c3678-218">En associant des fonctions de table à des fonctions d'agrégation, vous pouvez effectuer des calculs complexes sur des jeux de données définis de façon dynamique.</span><span class="sxs-lookup"><span data-stu-id="c3678-218">By combining table functions with aggregation functions, you can perform complex calculations over dynamically defined data sets.</span></span>  
  
 <span data-ttu-id="c3678-219">Bien que les types de données soient généralement définis automatiquement, il est important de comprendre de quelle façon ils s'appliquent, notamment, aux formules DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-219">While data types are typically automatically set, it is important to understand data types and how they apply, in-particular, to DAX formulas.</span></span> <span data-ttu-id="c3678-220">Des erreurs dans les formules ou des résultats inattendus sont notamment dus à l'emploi d'un opérateur spécifique qui ne peut pas être utilisé avec le type de données spécifié dans un argument.</span><span class="sxs-lookup"><span data-stu-id="c3678-220">Errors in formulas or unexpected results, for example, are often caused by using a particular operator that cannot be used with a data type specified in an argument.</span></span> <span data-ttu-id="c3678-221">Par exemple, la formule `= 1 & 2`, retourne un résultat de chaîne de 12.</span><span class="sxs-lookup"><span data-stu-id="c3678-221">For example, the formula, `= 1 & 2`, returns a string result of 12.</span></span> <span data-ttu-id="c3678-222">Toutefois, la formule `= "1" + "2"`retourne un résultat entier de 3.</span><span class="sxs-lookup"><span data-stu-id="c3678-222">The formula, `= "1" + "2"`, however, returns an integer result of 3.</span></span>  
  
 <span data-ttu-id="c3678-223">Pour plus d’informations sur les types de données dans les modèles tabulaires et les conversions explicites et implicites des types de données dans DAX, consultez [Types de données pris en charge &#40;SSAS tabulaire&#41;](data-types-supported-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="c3678-223">For detailed information about data types in tabular models and explicit and implicit conversions of data types in DAX, see [Data Types Supported &#40;SSAS Tabular&#41;](data-types-supported-ssas-tabular.md).</span></span>  
  
##  <a name="dax-operators"></a><a name="bkmk_DAX_opertors"></a><span data-ttu-id="c3678-224">Opérateurs DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-224">DAX Operators</span></span>  
 <span data-ttu-id="c3678-225">Le langage DAX utilise quatre types différents d'opérateurs de calcul dans les formules :</span><span class="sxs-lookup"><span data-stu-id="c3678-225">The DAX language uses four different types of calculation operators in formulas:</span></span>  
  
-   <span data-ttu-id="c3678-226">Opérateurs de comparaison pour comparer des valeurs et retourner une valeur TRUE\FALSE logique.</span><span class="sxs-lookup"><span data-stu-id="c3678-226">Comparison operators to compare values and return a logical TRUE\FALSE value.</span></span>  
  
-   <span data-ttu-id="c3678-227">Opérateurs arithmétiques pour effectuer des calculs arithmétiques qui retournent des valeurs numériques.</span><span class="sxs-lookup"><span data-stu-id="c3678-227">Arithmetic operators to perform arithmetic calculations that return numeric values.</span></span>  
  
-   <span data-ttu-id="c3678-228">Opérateurs de concaténation de texte pour joindre deux chaînes de texte ou plus.</span><span class="sxs-lookup"><span data-stu-id="c3678-228">Text concatenation operators to join two or more text strings.</span></span>  
  
-   <span data-ttu-id="c3678-229">Opérateurs logiques qui combinent deux expressions ou plus pour retourner un résultat unique.</span><span class="sxs-lookup"><span data-stu-id="c3678-229">Logical operators that combine two or more expressions to return a single result.</span></span>  
  
 <span data-ttu-id="c3678-230">Pour plus d’informations sur les opérateurs utilisés dans les formules DAX, consultez [référence des opérateurs Dax pour PowerPivot](/dax/dax-operator-reference).</span><span class="sxs-lookup"><span data-stu-id="c3678-230">For detailed information about operators used in DAX formulas, see [DAX Operator Reference for PowerPivot](/dax/dax-operator-reference).</span></span>  
  
##  <a name="dax-formulas"></a><a name="bkmk_DAX_Formulas"></a><span data-ttu-id="c3678-231">Formules DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-231">DAX Formulas</span></span>  
 <span data-ttu-id="c3678-232">Les formules DAX sont essentielles pour créer des calculs dans les colonnes calculées et les mesures, et sécuriser vos données à l'aide de filtres au niveau des lignes.</span><span class="sxs-lookup"><span data-stu-id="c3678-232">DAX formulas are essential for creating calculations in calculated columns and measures, and securing your data by using row level filters.</span></span> <span data-ttu-id="c3678-233">Pour créer des formules pour les colonnes calculées et les mesures, vous utilisez la barre de formule en haut de la fenêtre du concepteur de modèles.</span><span class="sxs-lookup"><span data-stu-id="c3678-233">To create formulas for calculated columns and measures, you will use the formula bar along the top of the model designer window.</span></span> <span data-ttu-id="c3678-234">Pour créer des formules pour les filtres de lignes, vous utilisez la boîte de dialogue Gestionnaire de rôles.</span><span class="sxs-lookup"><span data-stu-id="c3678-234">To create formulas for row filters, you will use the Role Manager dialog box.</span></span> <span data-ttu-id="c3678-235">Les informations de cette section sont une mise en route et vous aident à comprendre les aspects fondamentaux des formules DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-235">Information in this section is meant to get you started with understanding the basics of DAX formulas.</span></span>  
  
###  <a name="formula-basics"></a><a name="basics"></a><span data-ttu-id="c3678-236">Concepts de base des formules</span><span class="sxs-lookup"><span data-stu-id="c3678-236">Formula Basics</span></span>  
 <span data-ttu-id="c3678-237">DAX permet aux créateurs de modèles tabulaires de définir des calculs personnalisés dans les deux tables de modèle, dans le cadre de colonnes calculées, et en tant que mesures associées à des tables mais n'apparaissant pas directement dans celles-ci.</span><span class="sxs-lookup"><span data-stu-id="c3678-237">DAX enables tabular model authors to define custom calculations in both model tables, as part of calculated columns, and as measures associated with tables, but not appearing directly in them.</span></span> <span data-ttu-id="c3678-238">DAX permet également aux créateurs de modèles de sécuriser les données en créant des calculs qui retournent une valeur booléenne indiquant quelles lignes dans une table spécifique ou associée peuvent être interrogées par des utilisateurs membres du rôle associé.</span><span class="sxs-lookup"><span data-stu-id="c3678-238">DAX also enables model authors to secure data, by creating calculations that return a Boolean value defining which rows in a particular or related table can be queried by member users of the associated role.</span></span>  
  
 <span data-ttu-id="c3678-239">Les formules DAX peuvent être très simples ou assez complexes.</span><span class="sxs-lookup"><span data-stu-id="c3678-239">DAX formulas can be very simple or quite complex.</span></span> <span data-ttu-id="c3678-240">Le tableau suivant présente des exemples de formules simples qui peuvent être utilisées dans une colonne calculée.</span><span class="sxs-lookup"><span data-stu-id="c3678-240">The following table shows some examples of simple formulas that could be used in a calculated column.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="c3678-241">Formule</span><span class="sxs-lookup"><span data-stu-id="c3678-241">Formula</span></span>|<span data-ttu-id="c3678-242">Description</span><span class="sxs-lookup"><span data-stu-id="c3678-242">Description</span></span>|  
|`=TODAY()`|<span data-ttu-id="c3678-243">Insère la date du jour dans chaque ligne de la colonne.</span><span class="sxs-lookup"><span data-stu-id="c3678-243">Inserts today's date in every row of the column.</span></span>|  
|`=3`|<span data-ttu-id="c3678-244">Insère la valeur 3 dans chaque ligne de la colonne.</span><span class="sxs-lookup"><span data-stu-id="c3678-244">Inserts the value 3 in every row of the column.</span></span>|  
|`=[Column1] + [Column2]`|<span data-ttu-id="c3678-245">Ajoute les valeurs dans la même ligne de [Column1] et [Column2] et place les résultats dans la colonne calculée de la même ligne.</span><span class="sxs-lookup"><span data-stu-id="c3678-245">Adds the values in the same row of [Column1] and [Column2] and puts the results in the calculated column of the same row.</span></span>|  
  
 <span data-ttu-id="c3678-246">Que la formule que vous créez soit simple ou complexe, les étapes suivantes vous permettent de la générer :</span><span class="sxs-lookup"><span data-stu-id="c3678-246">Whether the formula you create is simple or complex, you can use the following steps when building a formula:</span></span>  
  
1.  <span data-ttu-id="c3678-247">Chaque formule doit commencer par un signe égal.</span><span class="sxs-lookup"><span data-stu-id="c3678-247">Each formula must begin with an equal sign.</span></span>  
  
2.  <span data-ttu-id="c3678-248">Vous pouvez taper ou sélectionner un nom de fonction ou taper une expression.</span><span class="sxs-lookup"><span data-stu-id="c3678-248">You can either type or select a function name, or type an expression.</span></span>  
  
3.  <span data-ttu-id="c3678-249">Commencez par taper les premières lettres de la fonction ou du nom que vous recherchez pour que la saisie semi-automatique affiche une liste des fonctions, tables et colonnes disponibles.</span><span class="sxs-lookup"><span data-stu-id="c3678-249">Begin to type the first few letters of the function or name you want, and AutoComplete displays a list of available functions, tables, and columns.</span></span> <span data-ttu-id="c3678-250">Appuyez sur TAB pour ajouter un élément de la liste de saisie semi-automatique dans la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-250">Press TAB to add an item from the AutoComplete list to the formula.</span></span>  
  
     <span data-ttu-id="c3678-251">Vous pouvez aussi cliquer sur le bouton **Fx** pour afficher une liste de fonctions disponibles.</span><span class="sxs-lookup"><span data-stu-id="c3678-251">You can also click the **Fx** button to display a list of available functions.</span></span> <span data-ttu-id="c3678-252">Pour sélectionner une fonction dans la liste déroulante, utilisez les touches de direction pour mettre en surbrillance celle de votre choix, puis cliquez sur **OK** pour l'ajouter à la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-252">To select a function from the dropdown list, use the arrow keys to highlight the item, and click **OK** to add the function to the formula.</span></span>  
  
4.  <span data-ttu-id="c3678-253">Fournissez les arguments de la fonction en les sélectionnant dans une liste déroulante de tables et colonnes possibles ou en tapant des valeurs.</span><span class="sxs-lookup"><span data-stu-id="c3678-253">Supply the arguments to the function by selecting them from a dropdown list of possible tables and columns, or by typing in values.</span></span>  
  
5.  <span data-ttu-id="c3678-254">Recherchez les éventuelles erreurs de syntaxe : vérifiez que toutes les parenthèses sont fermées, et que les références aux colonnes, tables et valeurs sont correctes.</span><span class="sxs-lookup"><span data-stu-id="c3678-254">Check for syntax errors: ensure that all parentheses are closed and columns, tables and values are referenced correctly.</span></span>  
  
6.  <span data-ttu-id="c3678-255">Appuyez sur Entrée pour accepter la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-255">Press ENTER to accept the formula.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c3678-256">Dans une colonne calculée, dès que vous acceptez la formule et que la formule est validée, la colonne est remplie avec des valeurs.</span><span class="sxs-lookup"><span data-stu-id="c3678-256">In a calculated column, as soon as you accept the formula and the formula is validated, the column is populated with values.</span></span> <span data-ttu-id="c3678-257">Dans une mesure, en appuyant sur ENTRÉE vous enregistrez la définition de la mesure dans la grille de mesures de la table.</span><span class="sxs-lookup"><span data-stu-id="c3678-257">In a measure, pressing ENTER saves the measure definition in the measure grid with the table.</span></span> <span data-ttu-id="c3678-258">Si une formule n'est pas valide, une erreur sera affichée.</span><span class="sxs-lookup"><span data-stu-id="c3678-258">If a formula is invalid, an error will be displayed.</span></span>  
  
 <span data-ttu-id="c3678-259">Dans cet exemple, nous allons nous intéresser à une formule plus complexe dans une mesure nommée Days in Current Quarter :</span><span class="sxs-lookup"><span data-stu-id="c3678-259">In this example, we will look at a more complex formula in a measure named Days in Current Quarter:</span></span>  
  
```  
Days in Current Quarter:=COUNTROWS( DATESBETWEEN( 'Date'[Date], STARTOFQUARTER( LASTDATE('Date'[Date])), ENDOFQUARTER('Date'[Date])))  
```  
  
 <span data-ttu-id="c3678-260">Cette mesure est utilisée pour créer un taux de comparaison entre une période incomplète et la période précédente.</span><span class="sxs-lookup"><span data-stu-id="c3678-260">This measure is used to create a comparison ratio between an incomplete period and the previous period.</span></span> <span data-ttu-id="c3678-261">La formule doit prendre en compte la partie de la période qui s'est écoulée, et la comparer à la même partie de la période précédente.</span><span class="sxs-lookup"><span data-stu-id="c3678-261">The formula must take into account the proportion of the period that has elapsed, and compare it to the same proportion in the previous period.</span></span> <span data-ttu-id="c3678-262">Dans ce cas, [Jours du trimestre en cours à ce jour] /[Jours du trimestre en cours] donne la période écoulée dans la période actuelle.</span><span class="sxs-lookup"><span data-stu-id="c3678-262">In this case, [Days Current Quarter to Date]/[Days in Current Quarter] gives the proportion elapsed in the current period.</span></span>  
  
 <span data-ttu-id="c3678-263">Cette formule contient les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="c3678-263">This formula contains the following elements:</span></span>  
  
|<span data-ttu-id="c3678-264">Élément de formule</span><span class="sxs-lookup"><span data-stu-id="c3678-264">Formula element</span></span>|<span data-ttu-id="c3678-265">Description</span><span class="sxs-lookup"><span data-stu-id="c3678-265">Description</span></span>|  
|---------------------|-----------------|  
|`Days in Current Quarter:=`|<span data-ttu-id="c3678-266">Nom de la mesure.</span><span class="sxs-lookup"><span data-stu-id="c3678-266">The name of the measure.</span></span>|  
|`=`|<span data-ttu-id="c3678-267">Le signe égal (=) démarre la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-267">The equals sign (=) begins the formula.</span></span>|  
|`COUNTROWS`|<span data-ttu-id="c3678-268">La [fonction COUNTROWS &#40;le&#41;Dax](/dax/countrows-function-dax) compte le nombre de lignes dans la table date</span><span class="sxs-lookup"><span data-stu-id="c3678-268">The [COUNTROWS Function &#40;DAX&#41;](/dax/countrows-function-dax) counts the number of rows in the Date table</span></span>|  
|`()`|<span data-ttu-id="c3678-269">Les parenthèses ouvertes et fermées spécifient les arguments.</span><span class="sxs-lookup"><span data-stu-id="c3678-269">Open and closing parenthesis specifies arguments.</span></span>|  
|`DATESBETWEEN`|<span data-ttu-id="c3678-270">La fonction DATESBETWEEN retourne les dates entre la dernière date de chaque valeur dans la colonne Date dans la table Date.</span><span class="sxs-lookup"><span data-stu-id="c3678-270">The DATESBETWEEN function returns the dates between the last date for each value in the Date column in the Date table.</span></span>|  
|`'Date'`|<span data-ttu-id="c3678-271">Spécifie la table Date.</span><span class="sxs-lookup"><span data-stu-id="c3678-271">Specifies the Date table.</span></span> <span data-ttu-id="c3678-272">Les tables sont entre guillemets simples.</span><span class="sxs-lookup"><span data-stu-id="c3678-272">Tables are in single quotes.</span></span>|  
|`[Date]`|<span data-ttu-id="c3678-273">Spécifie la colonne Date dans la table Date.</span><span class="sxs-lookup"><span data-stu-id="c3678-273">Specifies the Date column in the Date table.</span></span> <span data-ttu-id="c3678-274">Les colonnes sont entre parenthèses.</span><span class="sxs-lookup"><span data-stu-id="c3678-274">Columns are in brackets.</span></span>|  
|`,`||  
|`STARTOFQUARTER`|<span data-ttu-id="c3678-275">La fonction STARTOFQUARTER retourne la date du début du trimestre.</span><span class="sxs-lookup"><span data-stu-id="c3678-275">The STARTOFQUARTER function returns the date of the start of the quarter.</span></span>|  
|`LASTDATE`|<span data-ttu-id="c3678-276">La fonction LASTDATE retourne la dernière date du trimestre.</span><span class="sxs-lookup"><span data-stu-id="c3678-276">The LASTDATE function returns the last date of the quarter.</span></span>|  
|`'Date'`|<span data-ttu-id="c3678-277">Spécifie la table Date.</span><span class="sxs-lookup"><span data-stu-id="c3678-277">Specifies the Date table.</span></span>|  
|`[Date]`|<span data-ttu-id="c3678-278">Spécifie la colonne Date dans la table Date.</span><span class="sxs-lookup"><span data-stu-id="c3678-278">Specifies the Date column in the Date table.</span></span>|  
|`,`||  
|`ENDOFQUARTER`|<span data-ttu-id="c3678-279">Fonction ENDOFQUARTER</span><span class="sxs-lookup"><span data-stu-id="c3678-279">The ENDOFQUARTER function</span></span>|  
|`'Date'`|<span data-ttu-id="c3678-280">Spécifie la table Date.</span><span class="sxs-lookup"><span data-stu-id="c3678-280">Specifies the Date table.</span></span>|  
|`[Date]`|<span data-ttu-id="c3678-281">Spécifie la colonne Date dans la table Date.</span><span class="sxs-lookup"><span data-stu-id="c3678-281">Specifies the Date column in the Date table.</span></span>|  
  
#### <a name="using-formula-autocomplete"></a><span data-ttu-id="c3678-282">Utilisation de la saisie semi-automatique des formules</span><span class="sxs-lookup"><span data-stu-id="c3678-282">Using Formula AutoComplete</span></span>  
 <span data-ttu-id="c3678-283">La barre de formule dans le concepteur de modèles et la fenêtre des filtres de lignes de la formule dans la boîte de dialogue Gestionnaire de rôles possèdent une fonctionnalité de saisie semi-automatique.</span><span class="sxs-lookup"><span data-stu-id="c3678-283">Both the formula bar in the model designer and the formula Row Filters window in the Role Manager dialog box provide an AutoComplete feature.</span></span> <span data-ttu-id="c3678-284">La saisie semi-automatique vous aide à saisir une syntaxe de formule valide en vous proposant des options pour chaque élément de la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-284">AutoComplete helps you enter a valid formula syntax by providing you with options for each element in the formula.</span></span>  
  
-   <span data-ttu-id="c3678-285">Vous pouvez utiliser la saisie semi-automatique des formules au milieu d'une formule existante avec les fonctions imbriquées.</span><span class="sxs-lookup"><span data-stu-id="c3678-285">You can use Formula AutoComplete in the middle of an existing formula with nested functions.</span></span> <span data-ttu-id="c3678-286">Le texte immédiatement avant le point d'insertion est utilisé pour afficher des valeurs dans la liste déroulante, et tout le texte après le point d'insertion reste inchangé.</span><span class="sxs-lookup"><span data-stu-id="c3678-286">The text immediately before the insertion point is used to display values in the drop-down list, and all of the text after the insertion point remains unchanged.</span></span>  
  
-   <span data-ttu-id="c3678-287">La saisie semi-automatique n'ajoute pas la parenthèse fermante des fonctions, ni ne met automatiquement en correspondance les parenthèses.</span><span class="sxs-lookup"><span data-stu-id="c3678-287">AutoComplete does not add the closing parenthesis of functions or automatically match parentheses.</span></span> <span data-ttu-id="c3678-288">Vous devez vous assurer que chaque fonction est correcte syntaxiquement ou vous ne pouvez pas enregistrer ni utiliser la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-288">You must make sure that each function is syntactically correct or you cannot save or use the formula.</span></span>  
  
#### <a name="using-multiple-functions-in-a-formula"></a><span data-ttu-id="c3678-289">Utilisation de plusieurs fonctions dans une formule</span><span class="sxs-lookup"><span data-stu-id="c3678-289">Using Multiple Functions in a Formula</span></span>  
 <span data-ttu-id="c3678-290">Vous pouvez imbriquer des fonctions, ce qui signifie que vous utilisez les résultats d'une fonction comme un argument d'une autre fonction.</span><span class="sxs-lookup"><span data-stu-id="c3678-290">You can nest functions, meaning that you use the results from one function as an argument of another function.</span></span> <span data-ttu-id="c3678-291">Vous pouvez imbriquer jusqu'à 64 niveaux de fonctions dans les colonnes calculées.</span><span class="sxs-lookup"><span data-stu-id="c3678-291">You can nest up to 64 levels of functions in calculated columns.</span></span> <span data-ttu-id="c3678-292">Toutefois, l'imbrication peut rendre la création ou le dépannage de formules difficile.</span><span class="sxs-lookup"><span data-stu-id="c3678-292">However, nesting can make it difficult to create or troubleshoot formulas.</span></span>  
  
 <span data-ttu-id="c3678-293">De nombreuses fonctions sont conçues pour être utilisées uniquement comme fonctions imbriquées.</span><span class="sxs-lookup"><span data-stu-id="c3678-293">Many functions are designed to be used solely as nested functions.</span></span> <span data-ttu-id="c3678-294">Ces fonctions retournent une table, qui ne peut pas être enregistrée directement comme résultat ; elle doit être fournie comme entrée à une fonction de table.</span><span class="sxs-lookup"><span data-stu-id="c3678-294">These functions return a table, which cannot be directly saved as a result; it must be provided as input to a table function.</span></span> <span data-ttu-id="c3678-295">Par exemple, les fonctions SUMX, AVERAGEX et MINX requièrent toutes une table comme premier argument.</span><span class="sxs-lookup"><span data-stu-id="c3678-295">For example, the functions SUMX, AVERAGEX, and MINX all require a table as the first argument.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c3678-296">Certaines limites relatives à l'imbrication de fonctions sont appliquées au sein des mesures ; elles visent à garantir que les performances ne seront pas affectées par les nombreux calculs requis par les dépendances entre colonnes.</span><span class="sxs-lookup"><span data-stu-id="c3678-296">Some limits are applied within measures on nesting of functions to ensure that performance is not affected by the many calculations required by dependencies among columns.</span></span>  
  
##  <a name="dax-functions"></a><a name="bkmk_DAX_functions"></a><span data-ttu-id="c3678-297">Fonctions DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-297">DAX Functions</span></span>  
 <span data-ttu-id="c3678-298">Cette section fournit une vue d'ensemble des *types* de fonctions pris en charge dans le langage DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-298">This section provides an overview of the *types* of functions supported in DAX.</span></span> <span data-ttu-id="c3678-299">Pour plus d’informations, consultez [Référence des fonctions DAX](/dax/dax-function-reference).</span><span class="sxs-lookup"><span data-stu-id="c3678-299">For more detailed information, see [DAX Function Reference](/dax/dax-function-reference).</span></span>  
  
 <span data-ttu-id="c3678-300">DAX inclut plusieurs fonctions que vous pouvez utiliser pour effectuer des calculs à l'aide de dates et d'heures, créer des valeurs conditionnelles, utiliser des chaînes, effectuer des recherches en fonction des relations et itérer sur une table pour effectuer des calculs récursifs.</span><span class="sxs-lookup"><span data-stu-id="c3678-300">DAX provides a variety of functions you can use perform calculations using dates and times, create conditional values, work with strings, perform lookups based on relationships, and the ability to iterate over a table to perform recursive calculations.</span></span> <span data-ttu-id="c3678-301">Si vous connaissez les formules Excel, plusieurs de ces fonctions vous seront familières ; toutefois, les formules DAX diffèrent à de nombreux égards. Voici quelques différences de taille :</span><span class="sxs-lookup"><span data-stu-id="c3678-301">If you are familiar with Excel formulas, many of these functions will appear very similar; however, DAX formulas are different in the following important ways:</span></span>  
  
-   <span data-ttu-id="c3678-302">Une fonction DAX fait toujours référence à une table ou une colonne complète.</span><span class="sxs-lookup"><span data-stu-id="c3678-302">A DAX function always references a complete column or a table.</span></span> <span data-ttu-id="c3678-303">Si vous souhaitez utiliser certaines valeurs particulières d'une table ou colonne, vous pouvez ajouter des filtres à la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-303">If you want to use only particular values from a table or column, you can add filters to the formula.</span></span>  
  
-   <span data-ttu-id="c3678-304">Si vous devez personnaliser des calculs en fonction de chaque ligne, DAX fournit des fonctions qui vous permettent d'utiliser la valeur de ligne actuelle ou une valeur associée comme genre de paramètre pour effectuer des calculs qui varient selon le contexte.</span><span class="sxs-lookup"><span data-stu-id="c3678-304">If you need to customize calculations on a row-by-row basis, DAX provides functions that let you use the current row value or a related value as a kind of parameter, to perform calculations that vary by context.</span></span> <span data-ttu-id="c3678-305">Pour comprendre le fonctionnement de ces fonctions, consultez Contexte dans les formules DAX plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="c3678-305">To understand how these functions work, see Context in DAX Formulas later in this topic.</span></span>  
  
-   <span data-ttu-id="c3678-306">DAX inclut de nombreuses fonctions qui retournent une table, plutôt qu'une valeur.</span><span class="sxs-lookup"><span data-stu-id="c3678-306">DAX includes many functions that return a table, rather than a value.</span></span> <span data-ttu-id="c3678-307">La table n'est pas affichée dans un client de création de rapports, mais elle est utilisée pour fournir une entrée à d'autres fonctions.</span><span class="sxs-lookup"><span data-stu-id="c3678-307">The table is not displayed in a reporting client, but is used to provide input to other functions.</span></span> <span data-ttu-id="c3678-308">Par exemple, vous pouvez récupérer une table, puis compter les valeurs distinctes qu'elle contient, ou calculer les sommes dynamiques entre les colonnes ou les tables filtrées.</span><span class="sxs-lookup"><span data-stu-id="c3678-308">For example, you can retrieve a table and then count the distinct values in it, or calculate dynamic sums across filtered tables or columns.</span></span>  
  
-   <span data-ttu-id="c3678-309">Les fonctions DAX intègrent une grande diversité de fonctions *Time Intelligence* .</span><span class="sxs-lookup"><span data-stu-id="c3678-309">DAX functions include a variety of *time intelligence* functions.</span></span> <span data-ttu-id="c3678-310">Ces fonctions vous permettent de définir ou de sélectionner des plages de dates, et effectuer des calculs dynamiques basés sur ces dates ou plages.</span><span class="sxs-lookup"><span data-stu-id="c3678-310">These functions let you define or select date ranges, and perform dynamic calculations based on these dates or range.</span></span> <span data-ttu-id="c3678-311">Par exemple, vous pouvez comparer les sommes sur des périodes parallèles.</span><span class="sxs-lookup"><span data-stu-id="c3678-311">For example, you can compare sums across parallel periods.</span></span>  
  
### <a name="date-and-time-functions"></a><span data-ttu-id="c3678-312">Fonctions de date et heure</span><span class="sxs-lookup"><span data-stu-id="c3678-312">Date and Time Functions</span></span>  
 <span data-ttu-id="c3678-313">Les fonctions de date et d'heure de DAX sont semblables à celles de Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="c3678-313">The date and time functions in DAX are similar to date and time functions in Microsoft Excel.</span></span> <span data-ttu-id="c3678-314">Toutefois, les fonctions DAX sont basées sur les types de données `datetime` utilisés par Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c3678-314">However, DAX functions are based on the `datetime` data types used by Microsoft SQL Server.</span></span> <span data-ttu-id="c3678-315">Pour plus d’informations, consultez [fonctions de date et d’heure &#40;&#41;Dax ](/dax/date-and-time-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-315">For more information, see [Date and Time Functions &#40;DAX&#41;](/dax/date-and-time-functions-dax).</span></span>  
  
### <a name="filter-functions"></a><span data-ttu-id="c3678-316">Fonctions de filtrage</span><span class="sxs-lookup"><span data-stu-id="c3678-316">Filter Functions</span></span>  
 <span data-ttu-id="c3678-317">Les fonctions de filtrage de DAX permettent de retourner des types de données spécifiques, de rechercher des valeurs dans les tables associées et de procéder à un filtrage par valeurs associées.</span><span class="sxs-lookup"><span data-stu-id="c3678-317">The filter functions in DAX return specific data types, look up values in related tales, and filter by related values.</span></span> <span data-ttu-id="c3678-318">Les fonctions de recherche s'appuient sur des tables et des relations, comme une base de données.</span><span class="sxs-lookup"><span data-stu-id="c3678-318">The lookup functions work by using tables and relationships, like a database.</span></span> <span data-ttu-id="c3678-319">Les fonctions de filtrage vous permettent de manipuler le contexte de données pour créer des calculs dynamiques.</span><span class="sxs-lookup"><span data-stu-id="c3678-319">The filtering functions let you manipulate data context to create dynamic calculations.</span></span> <span data-ttu-id="c3678-320">Pour plus d’informations, consultez [fonctions de filtre &#40;&#41;Dax ](/dax/filter-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-320">For more information, see [Filter Functions &#40;DAX&#41;](/dax/filter-functions-dax).</span></span>  
  
### <a name="information-functions"></a><span data-ttu-id="c3678-321">Fonctions d'information</span><span class="sxs-lookup"><span data-stu-id="c3678-321">Information Functions</span></span>  
 <span data-ttu-id="c3678-322">Une fonction d'information examine la cellule ou la ligne qui est fournie comme argument et vous indique si la valeur correspond au type attendu.</span><span class="sxs-lookup"><span data-stu-id="c3678-322">An information function looks at the cell or row that is provided as an argument and tells you whether the value matches the expected type.</span></span> <span data-ttu-id="c3678-323">Par exemple, la fonction ISERROR retourne TRUE si la valeur que vous référencez contient une erreur.</span><span class="sxs-lookup"><span data-stu-id="c3678-323">For example, the ISERROR function returns TRUE if the value that you reference contains an error.</span></span> <span data-ttu-id="c3678-324">Pour plus d’informations, consultez [fonctions d’informations &#40;&#41;Dax ](/dax/information-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-324">For more information, see [Information Functions &#40;DAX&#41;](/dax/information-functions-dax).</span></span>  
  
### <a name="logical-functions"></a><span data-ttu-id="c3678-325">Fonctions logiques</span><span class="sxs-lookup"><span data-stu-id="c3678-325">Logical Functions</span></span>  
 <span data-ttu-id="c3678-326">Les fonctions logiques agissent sur une expression pour retourner des informations sur les valeurs au sein de l'expression.</span><span class="sxs-lookup"><span data-stu-id="c3678-326">Logical functions act upon an expression to return information about the values in the expression.</span></span> <span data-ttu-id="c3678-327">Par exemple, la fonction TRUE vous permet de savoir si une expression que vous évaluez retourne une valeur TRUE.</span><span class="sxs-lookup"><span data-stu-id="c3678-327">For example, the TRUE function lets you know whether an expression that you are evaluating returns a TRUE value.</span></span> <span data-ttu-id="c3678-328">Pour plus d’informations, consultez [fonctions logiques &#40;&#41;Dax ](/dax/logical-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-328">For more information, see [Logical Functions &#40;DAX&#41;](/dax/logical-functions-dax).</span></span>  
  
### <a name="mathematical-and-trigonometric-functions"></a><span data-ttu-id="c3678-329">Fonctions mathématiques et trigonométriques</span><span class="sxs-lookup"><span data-stu-id="c3678-329">Mathematical and Trigonometric Functions</span></span>  
 <span data-ttu-id="c3678-330">Les fonctions mathématiques dans DAX sont très semblables aux fonctions mathématiques et trigonométriques Excel.</span><span class="sxs-lookup"><span data-stu-id="c3678-330">The mathematical functions in DAX are very similar to the Excel mathematical and trigonometric functions.</span></span> <span data-ttu-id="c3678-331">Il existe quelques différences mineures dans les types de données numériques utilisés par les fonctions DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-331">Some minor differences exist in the numeric data types used by DAX functions.</span></span> <span data-ttu-id="c3678-332">Pour plus d’informations, consultez [fonctions mathématiques et trigonométriques &#40;&#41;Dax ](/dax/math-and-trig-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-332">For more information, see [Math and Trig Functions &#40;DAX&#41;](/dax/math-and-trig-functions-dax).</span></span>  
  
### <a name="statistical-functions"></a><span data-ttu-id="c3678-333">Fonctions statistiques</span><span class="sxs-lookup"><span data-stu-id="c3678-333">Statistical Functions</span></span>  
 <span data-ttu-id="c3678-334">DAX fournit des fonctions statistiques qui effectuent des agrégations.</span><span class="sxs-lookup"><span data-stu-id="c3678-334">DAX provides statistical functions that perform aggregations.</span></span> <span data-ttu-id="c3678-335">Outre la création de sommes et de moyennes, ou la recherche des valeurs maximale et minimale, il est également possible dans DAX de filtrer une colonne avant agrégation ou de créer des agrégations en fonction des tables associées.</span><span class="sxs-lookup"><span data-stu-id="c3678-335">In addition to creating sums and averages, or finding the minimum and maximum values, in DAX you can also filter a column before aggregating or create aggregations based on related tables.</span></span> <span data-ttu-id="c3678-336">Pour plus d’informations, consultez [fonctions statistiques &#40;&#41;Dax ](/dax/statistical-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-336">For more information, see [Statistical Functions &#40;DAX&#41;](/dax/statistical-functions-dax).</span></span>  
  
### <a name="text-functions"></a><span data-ttu-id="c3678-337">Fonctions de texte</span><span class="sxs-lookup"><span data-stu-id="c3678-337">Text Functions</span></span>  
 <span data-ttu-id="c3678-338">Les fonctions de texte dans DAX sont très semblables à leurs équivalents dans Excel.</span><span class="sxs-lookup"><span data-stu-id="c3678-338">The text functions in DAX are very similar to their counterparts in Excel.</span></span> <span data-ttu-id="c3678-339">Vous pouvez retourner une partie d'une chaîne, rechercher un texte dans une chaîne ou concaténer des valeurs de chaîne.</span><span class="sxs-lookup"><span data-stu-id="c3678-339">You can return part of a string, search for text within a string, or concatenate string values.</span></span> <span data-ttu-id="c3678-340">DAX fournit également des fonctions pour le contrôle des formats pour les dates, les heures et les nombres.</span><span class="sxs-lookup"><span data-stu-id="c3678-340">DAX also provides functions for controlling the formats for dates, times, and numbers.</span></span> <span data-ttu-id="c3678-341">Pour plus d’informations, consultez [fonctions de texte &#40;&#41;Dax ](/dax/text-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-341">For more information, see [Text Functions &#40;DAX&#41;](/dax/text-functions-dax).</span></span>  
  
### <a name="time-intelligence-functions"></a><span data-ttu-id="c3678-342">Fonctions Time Intelligence</span><span class="sxs-lookup"><span data-stu-id="c3678-342">Time Intelligence Functions</span></span>  
 <span data-ttu-id="c3678-343">Les fonctions Time Intelligence fournies dans DAX vous permettent de créer des calculs qui utilisent la connaissance intégrée relative aux calendriers et aux dates.</span><span class="sxs-lookup"><span data-stu-id="c3678-343">The time intelligence functions provided in DAX let you create calculations that use built-in knowledge about calendars and dates.</span></span> <span data-ttu-id="c3678-344">En utilisant des plages de dates et d’heures en association avec des agrégations ou des calculs, vous pouvez générer des comparaisons significatives sur des périodes de temps comparables pour les ventes, les stocks, etc.</span><span class="sxs-lookup"><span data-stu-id="c3678-344">By using time and date ranges in combination with aggregations or calculations, you can build meaningful comparisons across comparable time periods for sales, inventory, and so on.</span></span> <span data-ttu-id="c3678-345">Pour plus d’informations, consultez [fonctions Time Intelligence &#40;&#41;Dax ](/dax/time-intelligence-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-345">For more information, see [Time Intelligence Functions &#40;DAX&#41;](/dax/time-intelligence-functions-dax).</span></span>  
  
###  <a name="table-valued-functions"></a><a name="bkmk_TableFunc"></a><span data-ttu-id="c3678-346">Fonctions table</span><span class="sxs-lookup"><span data-stu-id="c3678-346">Table-Valued Functions</span></span>  
 <span data-ttu-id="c3678-347">Il existe des fonctions DAX qui génèrent des tables en sortie, qui utilisent des tables en entrée ou les deux à la fois.</span><span class="sxs-lookup"><span data-stu-id="c3678-347">There are DAX functions that output tables, take tables as input, or do both.</span></span> <span data-ttu-id="c3678-348">Étant donné qu'une table peut avoir une colonne unique, les fonctions table utilisent également des colonnes uniques comme entrées.</span><span class="sxs-lookup"><span data-stu-id="c3678-348">Because a table can have a single column, table-valued functions also take single columns as inputs.</span></span> <span data-ttu-id="c3678-349">Il importe de savoir utiliser ces fonctions table pour tirer le meilleur parti des formules DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-349">Understanding how to use these table-valued functions is important for fully utilizing DAX formulas.</span></span> <span data-ttu-id="c3678-350">DAX inclut les types suivants de fonctions table :</span><span class="sxs-lookup"><span data-stu-id="c3678-350">DAX includes the following types of table-valued functions:</span></span>  
  
 <span data-ttu-id="c3678-351">**Fonctions de filtre** Retournent une colonne, une table ou des valeurs associées à la ligne actuelle.</span><span class="sxs-lookup"><span data-stu-id="c3678-351">**Filter functions** Return a column, table, or values related to the current row.</span></span>  
  
 <span data-ttu-id="c3678-352">**Fonctions d'agrégation** Regroupent toutes les expressions sur les lignes d'une table.</span><span class="sxs-lookup"><span data-stu-id="c3678-352">**Aggregation functions** Aggregate any expression over the rows of a table.</span></span>  
  
 <span data-ttu-id="c3678-353">**Fonctions Time Intelligence** Retournent une table de dates ou utilisent une table de dates pour calculer une agrégation.</span><span class="sxs-lookup"><span data-stu-id="c3678-353">**Time intelligence functions** Return a table of dates, or use a table of dates to calculate an aggregation.</span></span>  
  
##  <a name="context-in-dax-formulas"></a><a name="bkmk_context"></a><span data-ttu-id="c3678-354">Contexte dans les formules DAX</span><span class="sxs-lookup"><span data-stu-id="c3678-354">Context in DAX Formulas</span></span>  
 <span data-ttu-id="c3678-355">Le*contexte* est un concept qu'il est important de comprendre lorsque vous créez des formules à l'aide de DAX.</span><span class="sxs-lookup"><span data-stu-id="c3678-355">*Context* is an important concept to understand when creating formulas using DAX.</span></span> <span data-ttu-id="c3678-356">Le contexte vous permet d'effectuer une analyse dynamique dans la mesure où les résultats d'une formule changent pour refléter la sélection de ligne ou de cellule actuelle, ainsi que toutes les données associées.</span><span class="sxs-lookup"><span data-stu-id="c3678-356">Context is what enables you to perform dynamic analysis, as the results of a formula change to reflect the current row or cell selection and also any related data.</span></span> <span data-ttu-id="c3678-357">Il est impératif de comprendre ce qu'est un contexte et de savoir utiliser un contexte à bon escient pour créer des analyses dynamiques performantes et pour résoudre les problèmes dans les formules.</span><span class="sxs-lookup"><span data-stu-id="c3678-357">Understanding context and using context effectively are critical for building high-performing, dynamic analyses, and for troubleshooting problems in formulas.</span></span>  
  
 <span data-ttu-id="c3678-358">Les formules dans les modèles tabulaires peuvent être évaluées dans un contexte différent, en fonction d'autres éléments de conception.</span><span class="sxs-lookup"><span data-stu-id="c3678-358">Formulas in tabular models can be evaluated in a different context, depending on other design elements:</span></span>  
  
-   <span data-ttu-id="c3678-359">Filtres appliqués dans un tableau croisé dynamique ou un rapport</span><span class="sxs-lookup"><span data-stu-id="c3678-359">Filters applied in a PivotTable or report</span></span>  
  
-   <span data-ttu-id="c3678-360">Filtres définis dans une formule</span><span class="sxs-lookup"><span data-stu-id="c3678-360">Filters defined within a formula</span></span>  
  
-   <span data-ttu-id="c3678-361">Relations spécifiées à l'aide de fonctions spéciales dans une formule</span><span class="sxs-lookup"><span data-stu-id="c3678-361">Relationships specified by using special functions within a formula</span></span>  
  
 <span data-ttu-id="c3678-362">Il existe différents types de contexte : *contexte de ligne*, *contexte de requête*et *contexte de filtre*.</span><span class="sxs-lookup"><span data-stu-id="c3678-362">There are different types of context: *row context*, *query context*, and *filter context*.</span></span>  
  
###  <a name="row-context"></a><a name="bkmk_row_context"></a><span data-ttu-id="c3678-363">Contexte de ligne</span><span class="sxs-lookup"><span data-stu-id="c3678-363">Row Context</span></span>  
 <span data-ttu-id="c3678-364">Le *contexte de ligne* peut être considéré comme « la ligne actuelle ».</span><span class="sxs-lookup"><span data-stu-id="c3678-364">*Row context* can be thought of as "the current row".</span></span> <span data-ttu-id="c3678-365">Si vous créez une formule dans une colonne calculée, le contexte de ligne correspondant à cette formule inclut les valeurs de toutes les colonnes dans la ligne actuelle.</span><span class="sxs-lookup"><span data-stu-id="c3678-365">If you create a formula in a calculated column, the row context for that formula includes the values from all columns in the current row.</span></span> <span data-ttu-id="c3678-366">Si la table est associée à une autre table, le contenu inclut également toutes les valeurs de cette autre table qui sont mises en relation avec la ligne actuelle.</span><span class="sxs-lookup"><span data-stu-id="c3678-366">If the table is related to another table, the content also includes all the values from the other table that are related to the current row.</span></span>  
  
 <span data-ttu-id="c3678-367">Par exemple, supposons que vous créez une colonne calculée, `=[Freight] + [Tax]`, qui additionne les valeurs de deux colonnes, Freight et Tax, de la même table.</span><span class="sxs-lookup"><span data-stu-id="c3678-367">For example, suppose you create a calculated column, `=[Freight] + [Tax]`, that adds together values from two columns, Freight and Tax, from the same table.</span></span> <span data-ttu-id="c3678-368">Cette formule obtient automatiquement les valeurs de la ligne actuelle uniquement dans les colonnes spécifiées.</span><span class="sxs-lookup"><span data-stu-id="c3678-368">This formula automatically gets only the values from the current row in the specified columns.</span></span>  
  
 <span data-ttu-id="c3678-369">Le contexte de ligne suit également toutes les relations définies entre les tables, notamment les relations définies dans une colonne calculée à l'aide de formules DAX, afin de déterminer les lignes des tables liées qui sont associées à la ligne actuelle.</span><span class="sxs-lookup"><span data-stu-id="c3678-369">Row context also follows any relationships that have been defined between tables, including relationships defined within a calculated column by using DAX formulas, to determine which rows in related tables are associated with the current row.</span></span>  
  
 <span data-ttu-id="c3678-370">Par exemple, la formule suivante utilise la fonction RELATED pour extraire une valeur de taxe d'une table associée, selon la région vers laquelle la commande a été expédiée.</span><span class="sxs-lookup"><span data-stu-id="c3678-370">For example, the following formula uses the RELATED function to fetch a tax value from a related table, based on the region that the order was shipped to.</span></span> <span data-ttu-id="c3678-371">La valeur de taxe est déterminée par l'utilisation de la valeur de la région dans la table actuelle, la recherche de la région dans la table associée, puis l'obtention du taux d'imposition de cette région à partir de la table associée.</span><span class="sxs-lookup"><span data-stu-id="c3678-371">The tax value is determined by using the value for region in the current table, looking up the region in the related table, and then getting the tax rate for that region from the related table.</span></span>  
  
```  
= [Freight] + RELATED('Region'[TaxRate])  
```  
  
 <span data-ttu-id="c3678-372">Cette formule obtient le taux d'imposition pour la région active de la table Region et l'ajoute à la valeur de la colonne de Freight.</span><span class="sxs-lookup"><span data-stu-id="c3678-372">This formula gets the tax rate for the current region from the Region table and adds it to the value of the Freight column.</span></span> <span data-ttu-id="c3678-373">Dans les formules DAX, vous n'avez pas besoin de connaître ou spécifier la relation spécifique qui connecte les tables.</span><span class="sxs-lookup"><span data-stu-id="c3678-373">In DAX formulas, you do not need to know or specify the specific relationship that connects the tables.</span></span>  
  
#### <a name="multiple-row-context"></a><span data-ttu-id="c3678-374">Contextes de ligne multiples</span><span class="sxs-lookup"><span data-stu-id="c3678-374">Multiple Row Context</span></span>  
 <span data-ttu-id="c3678-375">Le langage DAX (Data Analysis Expressions) inclut des fonctions qui itèrent des calculs sur une table.</span><span class="sxs-lookup"><span data-stu-id="c3678-375">DAX includes functions that iterate calculations over a table.</span></span> <span data-ttu-id="c3678-376">Ces fonctions peuvent avoir plusieurs lignes actives, chacune avec son propre contexte de ligne.</span><span class="sxs-lookup"><span data-stu-id="c3678-376">These functions can have multiple current rows, each with its own row context.</span></span>  <span data-ttu-id="c3678-377">Fondamentalement, ces fonctions vous permettent de créer des formules qui effectuent des opérations de manière récursive sur une boucle interne et externe.</span><span class="sxs-lookup"><span data-stu-id="c3678-377">In essence, these functions let you create formulas that perform operations recursively over an inner and outer loop.</span></span>  
  
 <span data-ttu-id="c3678-378">Par exemple, supposons que votre modèle contienne une table **Products** et une table **Sales** .</span><span class="sxs-lookup"><span data-stu-id="c3678-378">For example, suppose your model contains a **Products** table and a **Sales** table.</span></span> <span data-ttu-id="c3678-379">Les utilisateurs peuvent vouloir parcourir la totalité de la table Sales, remplie de transactions impliquant plusieurs produits, et rechercher la quantité maximale commandée pour chaque produit dans l'ensemble de ces transactions.</span><span class="sxs-lookup"><span data-stu-id="c3678-379">Users might want to go through the entire sales table, which is full of transactions involving multiple products, and find the largest quantity ordered for each product in any one transaction.</span></span>  
  
 <span data-ttu-id="c3678-380">Avec DAX, vous pouvez générer une formule unique qui retourne la valeur correcte, et les résultats sont automatiquement mis à jour chaque fois que l'utilisateur ajoute des données aux tables.</span><span class="sxs-lookup"><span data-stu-id="c3678-380">With DAX you can build a single formula that returns the correct value, and the results are automatically updated any time a user adds data to the tables.</span></span>  
  
```  
=MAXX(FILTER(Sales,[ProdKey]=EARLIER([ProdKey])),Sales[OrderQty])  
```  
  
 <span data-ttu-id="c3678-381">Pour obtenir une description détaillée de cette formule, consultez la [fonction précédente](/dax/earlier-function-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-381">For a detailed walkthrough of this formula, see the [EARLIER Function](/dax/earlier-function-dax).</span></span>  
  
 <span data-ttu-id="c3678-382">Pour résumer, la fonction EARLIER stocke le contexte de ligne de l'opération qui a précédé l'opération active.</span><span class="sxs-lookup"><span data-stu-id="c3678-382">To summarize, the EARLIER function stores the row context from the operation that preceded the current operation.</span></span> <span data-ttu-id="c3678-383">Cette fonction stocke systématiquement en mémoire deux ensembles de contexte : le premier ensemble représente la ligne actuelle pour la boucle interne de la formule, et le second ensemble représente la ligne actuelle pour la boucle externe de la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-383">At all times, the function stores in memory two sets of context: one set of context represents the current row for the inner loop of the formula, and another set of context represents the current row for the outer loop of the formula.</span></span> <span data-ttu-id="c3678-384">DAX fournit automatiquement les valeurs entre les deux boucles pour vous permettre de créer des agrégats complexes.</span><span class="sxs-lookup"><span data-stu-id="c3678-384">DAX automatically feeds values between the two loops so that you can create complex aggregates.</span></span>  
  
####  <a name="query-context"></a><a name="bkmk_query_context"></a><span data-ttu-id="c3678-385">Contexte de requête</span><span class="sxs-lookup"><span data-stu-id="c3678-385">Query Context</span></span>  
 <span data-ttu-id="c3678-386">Un*contexte de requête* fait référence au sous-ensemble de données qui est implicitement récupéré pour une formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-386">*Query context* refers to the subset of data that is implicitly retrieved for a formula.</span></span> <span data-ttu-id="c3678-387">Lorsqu'un utilisateur place une mesure ou un autre champ de valeur dans un tableau croisé dynamique ou dans un rapport basé sur un modèle tabulaire, le moteur examine les en-têtes de ligne et de colonne, les segments et les filtres de rapport afin de déterminer le contexte.</span><span class="sxs-lookup"><span data-stu-id="c3678-387">When a user places a measure or other value field into a PivotTable or into a report based on a tabular model, the engine examines the row and column headers, Slicers, and report filters to determine the context.</span></span> <span data-ttu-id="c3678-388">Ensuite, les requêtes nécessaires sont exécutées sur la source de données pour obtenir le sous-ensemble correct de données, pour effectuer des calculs définis par la formule, puis pour remplir chaque cellule du tableau croisé dynamique ou du rapport.</span><span class="sxs-lookup"><span data-stu-id="c3678-388">Then, the necessary queries are run against the data source to get the correct subset of data, make the calculations defined by the formula, and then populate each cell in the PivotTable or report.</span></span> <span data-ttu-id="c3678-389">L'ensemble de données récupéré constitue le contexte de requête de chaque cellule.</span><span class="sxs-lookup"><span data-stu-id="c3678-389">The set of data that is retrieved is the query context for each cell.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="c3678-390">Dans un modèle qui utilise le mode DirectQuery, le contexte est évalué, puis les opérations sur les ensembles visant à récupérer le sous-ensemble correct de données et calculer les résultats sont converties en instructions SQL.</span><span class="sxs-lookup"><span data-stu-id="c3678-390">For a model in DirectQuery mode, the context is evaluated, and then the set operations to retrieve the correct subset of data and calculate the results are translated to SQL statements.</span></span> <span data-ttu-id="c3678-391">Ces instructions sont ensuite directement exécutées sur la banque de données relationnelle.</span><span class="sxs-lookup"><span data-stu-id="c3678-391">Those statements are then directly run against the relational data store.</span></span> <span data-ttu-id="c3678-392">Par conséquent, bien que la méthode d'obtention des données et de calcul des résultats soit différente, le contexte lui-même ne change pas.</span><span class="sxs-lookup"><span data-stu-id="c3678-392">Therefore, although the method of getting the data and calculating the results is different, the context itself does not change.</span></span>  
  
 <span data-ttu-id="c3678-393">Étant donné que le contexte change en fonction de l'endroit où vous placez la formule, les résultats de la formule peuvent également changer.</span><span class="sxs-lookup"><span data-stu-id="c3678-393">Because context changes depending on where you place the formula, the results of the formula can also change.</span></span>  
  
 <span data-ttu-id="c3678-394">Par exemple, supposons que vous créiez une formule qui additionne les valeurs de la colonne **Profit** de la table **Sales** : `=SUM('Sales'[Profit])`.</span><span class="sxs-lookup"><span data-stu-id="c3678-394">For example, suppose you create a formula that sums the values in the **Profit** column of the **Sales** table: `=SUM('Sales'[Profit])`.</span></span>  <span data-ttu-id="c3678-395">Si vous utilisez cette formule dans une colonne calculée de la table **Sales** , les résultats de la formule seront identiques pour la totalité de la table, car le contexte de requête de la formule correspond toujours à l'ensemble de données complet de la table **Sales** .</span><span class="sxs-lookup"><span data-stu-id="c3678-395">If you use this formula in a calculated column within the **Sales** table, the results for the formula will be the same for the entire table, because the query context for the formula is always the entire data set of the **Sales** table.</span></span> <span data-ttu-id="c3678-396">Les résultats présenteront les bénéfices de la totalité des régions, des produits, des années, etc.</span><span class="sxs-lookup"><span data-stu-id="c3678-396">Results will have profit for all regions, all products, all years, and so on.</span></span>  
  
 <span data-ttu-id="c3678-397">Toutefois, plutôt que d'obtenir le même résultat des centaines de fois, les utilisateurs préfèrent généralement obtenir le bénéfice d'une année, d'un pays ou d'un produit spécifique, ou le bénéfice d'une combinaison quelconque de ces éléments, puis obtenir un total général.</span><span class="sxs-lookup"><span data-stu-id="c3678-397">However, users typically don't want to see the same result hundreds of times, but instead want to get the profit for a particular year, a particular country, a particular product, or some combination of these, and then get a grand total.</span></span>  
  
 <span data-ttu-id="c3678-398">Dans un tableau croisé dynamique, le contexte peut être modifié en ajoutant ou en supprimant des en-têtes de colonne et de ligne, et en ajoutant ou en supprimant des segments.</span><span class="sxs-lookup"><span data-stu-id="c3678-398">In a PivotTable, context can be changed by adding or removing column and row headers and by adding or removing Slicers.</span></span> <span data-ttu-id="c3678-399">Chaque fois que des utilisateurs ajoutent des en-têtes de colonne ou de ligne au tableau croisé dynamique, ils modifient le contexte de requête dans lequel la mesure est évaluée.</span><span class="sxs-lookup"><span data-stu-id="c3678-399">Whenever users add column or row headings to the PivotTable, they change the query context in which the measure is evaluated.</span></span> <span data-ttu-id="c3678-400">Les opérations de segmentation et de filtrage affectent également le contexte.</span><span class="sxs-lookup"><span data-stu-id="c3678-400">Slicing and filtering operations also affect context.</span></span> <span data-ttu-id="c3678-401">Par conséquent, la même formule, utilisée dans une mesure, est évaluée dans un *contexte de requête* différent pour chaque cellule.</span><span class="sxs-lookup"><span data-stu-id="c3678-401">Therefore, the same formula, used in a measure, is evaluated in a different *query context* for each cell.</span></span>  
  
####  <a name="filter-context"></a><a name="bkmk_filter_context"></a><span data-ttu-id="c3678-402">Contexte de filtre</span><span class="sxs-lookup"><span data-stu-id="c3678-402">Filter Context</span></span>  
 <span data-ttu-id="c3678-403">Le*contexte de filtre* est l'ensemble de valeurs autorisé dans chaque colonne, ou dans les valeurs récupérées d'une table associée.</span><span class="sxs-lookup"><span data-stu-id="c3678-403">*Filter context* is the set of values allowed in each column, or in the values retrieved from a related table.</span></span> <span data-ttu-id="c3678-404">Des filtres peuvent être appliqués à la colonne dans le concepteur, ou dans la couche de présentation (rapports et tableaux croisés dynamiques).</span><span class="sxs-lookup"><span data-stu-id="c3678-404">Filters can be applied to the column in the designer, or in the presentation layer (reports and PivotTables).</span></span> <span data-ttu-id="c3678-405">Des filtres peuvent également être définis explicitement par des expressions de filtre dans la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-405">Filters can also be defined explicitly by filter expressions within the formula.</span></span>  
  
 <span data-ttu-id="c3678-406">Un contexte de filtre est ajouté lorsque vous spécifiez des contraintes de filtre sur l'ensemble de valeurs autorisé dans une colonne ou une table, en utilisant les arguments d'une formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-406">Filter context is added when you specify filter constraints on the set of values allowed in a column or table, by using arguments to a formula.</span></span> <span data-ttu-id="c3678-407">Un contexte de filtre s'applique au-dessus des autres contextes, tels qu'un contexte de ligne ou un contexte de requête.</span><span class="sxs-lookup"><span data-stu-id="c3678-407">Filter context applies on top of other contexts, such as row context or query context.</span></span>  
  
 <span data-ttu-id="c3678-408">Dans des modèles tabulaires, plusieurs méthodes s'offrent à vous pour créer le contexte de filtre.</span><span class="sxs-lookup"><span data-stu-id="c3678-408">In tabular models, there are many ways to create filter context.</span></span> <span data-ttu-id="c3678-409">Dans le contexte de clients qui peuvent consommer le modèle, tels que les rapports [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] , les utilisateurs peuvent créer des filtres à la volée en ajoutant des segments ou des filtres de rapport sur les en-têtes de ligne et de colonne.</span><span class="sxs-lookup"><span data-stu-id="c3678-409">Within the context of clients that can consume the model, such as [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] reports, users can create filters on the fly by adding slicers or report filters on the row and column headings.</span></span> <span data-ttu-id="c3678-410">Vous pouvez également spécifier des expressions de filtre directement dans la formule, pour spécifier des valeurs associées, filtrer les tables utilisées comme entrées ou obtenir de façon dynamique le contexte des valeurs utilisées dans les calculs.</span><span class="sxs-lookup"><span data-stu-id="c3678-410">You can also specify filter expressions directly within the formula, to specify related values, to filter tables that are used as inputs, or to dynamically get context for the values that are used in calculations.</span></span> <span data-ttu-id="c3678-411">Vous pouvez également supprimer entièrement les filtres ou les effacer de manière sélective sur des colonnes spécifiques.</span><span class="sxs-lookup"><span data-stu-id="c3678-411">You can also completely clear or selectively clear the filters on particular columns.</span></span> <span data-ttu-id="c3678-412">C'est très utile lors de la création de formules qui calculent des totaux généraux.</span><span class="sxs-lookup"><span data-stu-id="c3678-412">This is very useful when creating formulas that calculate grand totals.</span></span>  
  
 <span data-ttu-id="c3678-413">Pour plus d’informations sur la création de filtres dans les formules, consultez la [fonction Filter](/dax/filter-function-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-413">For more information about how to create filters within formulas, see the [FILTER Function](/dax/filter-function-dax).</span></span>  
  
 <span data-ttu-id="c3678-414">Pour obtenir un exemple de la façon dont les filtres peuvent être effacés pour créer des totaux généraux, consultez la [fonction All](/dax/all-function-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-414">For an example of how filters can be cleared to create grand totals, see the [ALL Function](/dax/all-function-dax).</span></span>  
  
 <span data-ttu-id="c3678-415">Pour obtenir des exemples de suppression sélective et d’application de filtres dans des formules, consultez la [fonction ALLEXCEPT](/dax/allexcept-function-dax).</span><span class="sxs-lookup"><span data-stu-id="c3678-415">For examples of how to selectively clear and apply filters within formulas, see the [ALLEXCEPT Function](/dax/allexcept-function-dax).</span></span>  
  
####  <a name="determining-context-in-formulas"></a><a name="bkmk_determine_context"></a><span data-ttu-id="c3678-416">Détermination du contexte dans les formules</span><span class="sxs-lookup"><span data-stu-id="c3678-416">Determining Context in Formulas</span></span>  
 <span data-ttu-id="c3678-417">Lorsque vous créez une formule DAX, la formule est d'abord testée pour vérifier si la syntaxe est valide, puis pour vérifier que les noms des colonnes et des tables inclus dans la formule figurent dans le contexte actuel.</span><span class="sxs-lookup"><span data-stu-id="c3678-417">When you create a DAX formula, the formula is first tested for valid syntax, and then tested to make sure the names of the columns and tables included in the formula can be found in the current context.</span></span> <span data-ttu-id="c3678-418">Si aucune colonne ou table spécifiée par la formule ne peut être trouvée, une erreur est retournée.</span><span class="sxs-lookup"><span data-stu-id="c3678-418">If any column or table specified by the formula cannot be found, an error is returned.</span></span>  
  
 <span data-ttu-id="c3678-419">Le contexte au cours de la validation (et des opérations de recalcul) est déterminé comme décrit dans les sections précédentes, à l'aide des tables disponibles dans le modèle, des relations entre les tables et des éventuels filtres qui ont été appliqués.</span><span class="sxs-lookup"><span data-stu-id="c3678-419">Context during validation (and recalculation operations) is determined as described in the preceding sections, by using the available tables in the model, any relationships between the tables, and any filters that have been applied.</span></span>  
  
 <span data-ttu-id="c3678-420">Par exemple, si vous venez d’importer des données dans une nouvelle table et que celle-ci n’est pas associée à d’autres tables (et que vous n’avez pas appliqué de filtres), le *contexte actuel* correspond à l’ensemble entier de colonnes dans la table.</span><span class="sxs-lookup"><span data-stu-id="c3678-420">For example, if you have just imported some data into a new table and it is not related to any other tables (and you have not applied any filters), the *current context* is the entire set of columns in the table.</span></span> <span data-ttu-id="c3678-421">Si la table est liée par des relations à d'autres tables, le contexte actuel inclut les tables associées.</span><span class="sxs-lookup"><span data-stu-id="c3678-421">If the table is linked by relationships to other tables, the current context includes the related tables.</span></span> <span data-ttu-id="c3678-422">Si vous ajoutez une colonne de la table à un rapport qui contient des segments et éventuellement certains filtres de rapport, le contexte de la formule correspond au sous-ensemble de données dans chaque cellule du rapport.</span><span class="sxs-lookup"><span data-stu-id="c3678-422">If you add a column from the table to a report that has Slicers and maybe some report filters, the context for the formula is the subset of data in each cell of the report.</span></span>  
  
 <span data-ttu-id="c3678-423">Le contexte est un concept puissant qui peut également compliquer la résolution des problèmes liés aux formules.</span><span class="sxs-lookup"><span data-stu-id="c3678-423">Context is a powerful concept that can also make it difficult to troubleshoot formulas.</span></span> <span data-ttu-id="c3678-424">Nous vous recommandons de commencer par des formules et des relations simples pour voir comment le contexte s'exécute.</span><span class="sxs-lookup"><span data-stu-id="c3678-424">We recommend that you begin with simple formulas and relationships to see how context works.</span></span> <span data-ttu-id="c3678-425">La section suivante fournit quelques exemples d'utilisation de différents types de contextes par les formules pour un retour dynamique des résultats.</span><span class="sxs-lookup"><span data-stu-id="c3678-425">The following section provides some examples of how formulas use different types of context to dynamically return results.</span></span>  
  
##### <a name="examples-of-context-in-formulas"></a><span data-ttu-id="c3678-426">Exemples de contexte dans les formules</span><span class="sxs-lookup"><span data-stu-id="c3678-426">Examples of Context in Formulas</span></span>  
  
1.  <span data-ttu-id="c3678-427">La fonction [associée](/dax/related-function-dax) étend le contexte de la ligne actuelle pour inclure des valeurs dans une colonne associée.</span><span class="sxs-lookup"><span data-stu-id="c3678-427">The [RELATED Function](/dax/related-function-dax) function expands the context of the current row to include values in a related column.</span></span> <span data-ttu-id="c3678-428">Cela vous permet d'effectuer des recherches.</span><span class="sxs-lookup"><span data-stu-id="c3678-428">This lets you perform lookups.</span></span> <span data-ttu-id="c3678-429">L'exemple utilisé dans cette rubrique illustre l'interaction du filtrage et du contexte de ligne.</span><span class="sxs-lookup"><span data-stu-id="c3678-429">The example in this topic illustrates the interaction of filtering and row context.</span></span>  
  
2.  <span data-ttu-id="c3678-430">La fonction [Filter](/dax/filter-function-dax) vous permet de spécifier les lignes à inclure dans le contexte actuel.</span><span class="sxs-lookup"><span data-stu-id="c3678-430">The [FILTER Function](/dax/filter-function-dax) function lets you specify the rows to include in the current context.</span></span> <span data-ttu-id="c3678-431">Les exemples utilisés dans cette rubrique illustrent également la façon d'incorporer des filtres dans d'autres fonctions qui effectuent des agrégations.</span><span class="sxs-lookup"><span data-stu-id="c3678-431">The examples in this topic also illustrate how to embed filters within other functions that perform aggregates.</span></span>  
  
3.  <span data-ttu-id="c3678-432">La fonction [All](/dax/all-function-dax) définit le contexte dans une formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-432">The [ALL Function](/dax/all-function-dax) function sets context within a formula.</span></span> <span data-ttu-id="c3678-433">Vous pouvez l'utiliser pour remplacer les filtres qui sont appliqués comme résultat du contexte de requête.</span><span class="sxs-lookup"><span data-stu-id="c3678-433">You can use it to override filters that are applied as result of query context.</span></span>  
  
4.  <span data-ttu-id="c3678-434">La fonction [ALLEXCEPT fonction](/dax/allexcept-function-dax) vous permet de supprimer tous les filtres à l’exception de ceux que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="c3678-434">The [ALLEXCEPT Function](/dax/allexcept-function-dax) function lets you remove all filters except one that you specify.</span></span> <span data-ttu-id="c3678-435">Les deux rubriques incluent des exemples qui vous guident pas à pas dans la création de formules et l'analyse de contextes complexes.</span><span class="sxs-lookup"><span data-stu-id="c3678-435">Both topics include examples that walk you through building formulas and understanding complex contexts.</span></span>  
  
5.  <span data-ttu-id="c3678-436">La [fonction précédente](/dax/earlier-function-dax) et les fonctions de fonction les plus [anciennes](/dax/earliest-function-dax) vous permettent de parcourir les tables en effectuant des calculs, tout en référençant une valeur d’une boucle interne.</span><span class="sxs-lookup"><span data-stu-id="c3678-436">The [EARLIER Function](/dax/earlier-function-dax) and [EARLIEST Function](/dax/earliest-function-dax) functions let you loop through tables by performing calculations, while referencing a value from an inner loop.</span></span> <span data-ttu-id="c3678-437">Si vous êtes familier des concepts de récursivité et de boucles internes et externes, vous apprécierez la puissance des fonctions EARLIER et EARLIEST.</span><span class="sxs-lookup"><span data-stu-id="c3678-437">If you are familiar with the concept of recursion and with inner and outer loops, you will appreciate the power that the EARLIER and EARLIEST functions provide.</span></span> <span data-ttu-id="c3678-438">Si ces concepts vous sont étrangers, suivez scrupuleusement les différentes étapes de l'exemple pour comprendre la façon dont les contextes internes et externes sont utilisés dans les calculs.</span><span class="sxs-lookup"><span data-stu-id="c3678-438">If you are new to these concepts, you should follow the steps in the example carefully to see how the inner and outer contexts are used in calculations.</span></span>  
  
##  <a name="formulas-and-the-tabular-model"></a><a name="bkmk_RelModel"></a><span data-ttu-id="c3678-439">Formules et modèle tabulaire</span><span class="sxs-lookup"><span data-stu-id="c3678-439">Formulas and the Tabular Model</span></span>  
 <span data-ttu-id="c3678-440">Dans [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], le générateur de modèles est une zone où vous pouvez travailler avec plusieurs tables de données et connecter les tables au sein d'un modèle tabulaire.</span><span class="sxs-lookup"><span data-stu-id="c3678-440">The model designer, in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], is an area where you can work with multiple tables of data and connect the tables in a tabular model.</span></span> <span data-ttu-id="c3678-441">Dans ce modèle, les tables sont jointes par des relations sur les colonnes comportant des valeurs communes (clés).</span><span class="sxs-lookup"><span data-stu-id="c3678-441">Within this model, tables are joined by relationships on columns with common values (keys).</span></span> <span data-ttu-id="c3678-442">Le modèle tabulaire vous permet de lier des valeurs aux colonnes d'autres tables et créer ainsi des calculs plus intéressants.</span><span class="sxs-lookup"><span data-stu-id="c3678-442">The tabular model lets you link values to columns in other tables and create more interesting calculations.</span></span> <span data-ttu-id="c3678-443">Comme dans une base de données relationnelle, vous pouvez connecter plusieurs niveaux de tables associées et utiliser des colonnes de n'importe quelle table dans les résultats.</span><span class="sxs-lookup"><span data-stu-id="c3678-443">Just as in a relational database, you can connect many levels of related tables and use columns from any of the tables in the results.</span></span>  
  
 <span data-ttu-id="c3678-444">Par exemple, vous pouvez lier une table de vente, une table de produits et une table de catégories de produit, puis utiliser différentes combinaisons de colonnes dans les tableaux croisés dynamiques et les rapports.</span><span class="sxs-lookup"><span data-stu-id="c3678-444">For example, you can link a sales table, a products table, and a product categories table, and users can use various combinations of the columns in PivotTables and reports.</span></span> <span data-ttu-id="c3678-445">Les champs associés peuvent être utilisés pour filtrer les tables connectées, ou pour créer des calculs sur les sous-ensembles.</span><span class="sxs-lookup"><span data-stu-id="c3678-445">Related fields can be used to filter connected tables, or to create calculations over subsets.</span></span> <span data-ttu-id="c3678-446">(Si vous n’êtes pas familiarisé avec les bases de données relationnelles et l’utilisation des tables et jointures, consultez [Relations &#40;SSAS tabulaire&#41;](relationships-ssas-tabular.md).)</span><span class="sxs-lookup"><span data-stu-id="c3678-446">(If you are not familiar with relational database and working with tables and joins, see [Relationships &#40;SSAS Tabular&#41;](relationships-ssas-tabular.md).)</span></span>  
  
 <span data-ttu-id="c3678-447">Les modèles tabulaires prennent en charge plusieurs relations entre les tables.</span><span class="sxs-lookup"><span data-stu-id="c3678-447">Tabular models support multiple relationships among tables.</span></span> <span data-ttu-id="c3678-448">Pour éviter toute confusion ou des résultats incorrects, une seule relation à la fois est désignée comme la relation active, mais vous pouvez modifier la relation active, si nécessaire, pour parcourir différentes connexions dans les données des calculs.</span><span class="sxs-lookup"><span data-stu-id="c3678-448">To avoid confusion or wrong results, only one relationship at a time is designated as the active relationship, but you can change the active relationship as necessary to traverse different connections in the data in calculations.</span></span> <span data-ttu-id="c3678-449">La [fonction USERELATIONSHIP &#40;&#41;Dax](/dax/userelationship-function-dax) peut être utilisée pour spécifier une ou plusieurs relations à utiliser dans un calcul spécifique.</span><span class="sxs-lookup"><span data-stu-id="c3678-449">The [USERELATIONSHIP Function &#40;DAX&#41;](/dax/userelationship-function-dax) can be used to specify one or more relationships to be used in a specific calculation.</span></span>  
  
 <span data-ttu-id="c3678-450">Dans un modèle tabulaire, vous devez observer les règles de création de formule suivantes :</span><span class="sxs-lookup"><span data-stu-id="c3678-450">In a tabular model, you should observe these formula design rules:</span></span>  
  
-   <span data-ttu-id="c3678-451">Lorsque les tables sont connectées par une relation, vous devez vous assurer que les deux colonnes utilisées comme clés ont des valeurs qui correspondent.</span><span class="sxs-lookup"><span data-stu-id="c3678-451">When tables are connected by a relationship, you must ensure that the two columns used as keys have values that match.</span></span> <span data-ttu-id="c3678-452">L'intégrité référentielle n'est toutefois pas appliquée strictement ; par conséquent, il est possible d'avoir des valeurs sans correspondance dans une colonne clé et pour autant de créer une relation.</span><span class="sxs-lookup"><span data-stu-id="c3678-452">Referential integrity is not enforced, however; therefore it is possible to have non-matching values in a key column and still create a relationship.</span></span> <span data-ttu-id="c3678-453">Si cela se produit, vous devez savoir que des valeurs vides ou sans correspondance peuvent affecter les résultats des formules.</span><span class="sxs-lookup"><span data-stu-id="c3678-453">If this happens, you should be aware that blank values or non-matching values might affect the results of formulas.</span></span>  
  
-   <span data-ttu-id="c3678-454">Lorsque vous liez des tables dans votre modèle à l'aide de relations, vous agrandissez l'étendue, ou le *contexte*, dans laquelle vos formules sont évaluées.</span><span class="sxs-lookup"><span data-stu-id="c3678-454">When you link tables in your model by using relationships, you enlarge the scope, or *context*, in which your formulas are evaluated.</span></span> <span data-ttu-id="c3678-455">Des modifications dans le contexte résultant de l'ajout de nouvelles tables, de nouvelles relations ou de modifications de la relation active peuvent entraîner des modifications de vos résultats qu'il n'est pas possible d'anticiper.</span><span class="sxs-lookup"><span data-stu-id="c3678-455">Changes in context resulting from the addition of new tables, new relationships, or from changes in the active relationship can cause your results to change in ways that you might not anticipate.</span></span> <span data-ttu-id="c3678-456">Pour plus d'informations, consultez [Contexte dans les formules DAX](#bkmk_context) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="c3678-456">For more information, see [Context in DAX Formulas](#bkmk_context) earlier in this topic.</span></span>  
  
##  <a name="working-with-tables-and-columns"></a><a name="bkmk_tables"></a><span data-ttu-id="c3678-457">Utilisation de tables et de colonnes</span><span class="sxs-lookup"><span data-stu-id="c3678-457">Working with Tables and Columns</span></span>  
 <span data-ttu-id="c3678-458">Les tables des modèles tabulaires sont similaires aux tables Excel, mais différentes dans la manière dont elles fonctionnent avec les données et les formules :</span><span class="sxs-lookup"><span data-stu-id="c3678-458">Tables in tabular models look like Excel tables, but are different in the way they work with data and with formulas:</span></span>  
  
-   <span data-ttu-id="c3678-459">Les formules fonctionnent uniquement avec les tables et les colonnes, et non avec les cellules individuelles, les références de plage ou les tableaux.</span><span class="sxs-lookup"><span data-stu-id="c3678-459">Formulas work only with tables and columns, not with individual cells, range references, or arrays.</span></span>  
  
-   <span data-ttu-id="c3678-460">Les formules peuvent utiliser des relations pour obtenir des valeurs à partir de tables associées.</span><span class="sxs-lookup"><span data-stu-id="c3678-460">Formulas can use relationships to get values from related tables.</span></span> <span data-ttu-id="c3678-461">Les valeurs récupérées sont toujours associées à la valeur de ligne actuelle.</span><span class="sxs-lookup"><span data-stu-id="c3678-461">The values that are retrieved are always related to the current row value.</span></span>  
  
-   <span data-ttu-id="c3678-462">Vous ne pouvez pas avoir de données irrégulières ou « déséquilibrées », comme vous le pouvez dans une feuille de calcul Excel.</span><span class="sxs-lookup"><span data-stu-id="c3678-462">You cannot have irregular or "ragged" data like you can in an Excel worksheet.</span></span> <span data-ttu-id="c3678-463">Chaque ligne d'une table doit contenir le même nombre de colonnes.</span><span class="sxs-lookup"><span data-stu-id="c3678-463">Each row in a table must contain the same number of columns.</span></span> <span data-ttu-id="c3678-464">Toutefois, certaines colonnes peuvent comporter des valeurs vides.</span><span class="sxs-lookup"><span data-stu-id="c3678-464">However, you can have empty values in some columns.</span></span> <span data-ttu-id="c3678-465">Les tables de données Excel et les tables de données de modèle tabulaire ne sont pas interchangeables.</span><span class="sxs-lookup"><span data-stu-id="c3678-465">Excel data tables and tabular model data tables are not interchangeable.</span></span>  
  
-   <span data-ttu-id="c3678-466">Un type de données étant défini pour chaque colonne, toutes les valeurs de cette colonne doivent être du même type.</span><span class="sxs-lookup"><span data-stu-id="c3678-466">Because a data type is set for each column, each value in that column must be of the same type.</span></span>  
  
### <a name="referring-to-tables-and-columns-in-formulas"></a><span data-ttu-id="c3678-467">Référence aux tables et aux colonnes dans les formules</span><span class="sxs-lookup"><span data-stu-id="c3678-467">Referring to Tables and Columns in Formulas</span></span>  
 <span data-ttu-id="c3678-468">Vous pouvez faire référence à toute table et colonne à l'aide de son nom.</span><span class="sxs-lookup"><span data-stu-id="c3678-468">You can refer to any table and column by using its name.</span></span> <span data-ttu-id="c3678-469">Par exemple, la formule suivante indique comment faire référence aux colonnes de deux tables à l'aide du nom *complet* :</span><span class="sxs-lookup"><span data-stu-id="c3678-469">For example, the following formula illustrates how to refer to columns from two tables by using the *fully qualified* name:</span></span>  
  
```  
=SUM('New Sales'[Amount]) + SUM('Past Sales'[Amount])  
```  
  
 <span data-ttu-id="c3678-470">Lorsqu'une formule est évaluée, le générateur de modèles vérifie en premier la syntaxe générale, puis il contrôle les noms des colonnes et des tables que vous fournissez par rapport aux colonnes et tables possibles dans le contexte actuel.</span><span class="sxs-lookup"><span data-stu-id="c3678-470">When a formula is evaluated, the model designer first checks for general syntax, and then checks the names of columns and tables that you provide against possible columns and tables in the current context.</span></span> <span data-ttu-id="c3678-471">Si le nom est ambigu ou si la colonne/la table est introuvable, vous obtiendrez une erreur dans votre formule (une #chaîne ERROR au lieu d'une valeur de données dans les cellules où l'erreur se produit).</span><span class="sxs-lookup"><span data-stu-id="c3678-471">If the name is ambiguous or if the column or table cannot be found, you will get an error on your formula (an #ERROR string instead of a data value in cells where the error occurs).</span></span> <span data-ttu-id="c3678-472">Pour plus d’informations sur les exigences d’affectation de noms pour les tables, les colonnes et les autres objets, consultez « Configuration requise pour les noms » dans [spécification de syntaxe DAX pour PowerPivot](/dax/dax-syntax-reference).</span><span class="sxs-lookup"><span data-stu-id="c3678-472">For more information about naming requirements for tables, columns, and other objects, see "Naming Requirements" in [DAX Syntax Specification for PowerPivot](/dax/dax-syntax-reference).</span></span>  
  
### <a name="table-relationships"></a><span data-ttu-id="c3678-473">Relations entre les tables</span><span class="sxs-lookup"><span data-stu-id="c3678-473">Table Relationships</span></span>  
 <span data-ttu-id="c3678-474">En créant des relations entre les tables, vous avez la possibilité de rechercher des données dans une autre table et d'utiliser les valeurs associées pour effectuer des calculs complexes.</span><span class="sxs-lookup"><span data-stu-id="c3678-474">By creating relationships between tables, you gain the ability to look up data in another table and use related values to perform complex calculations.</span></span> <span data-ttu-id="c3678-475">Par exemple, vous pouvez utiliser une colonne calculée pour rechercher tous les enregistrements de navigation associés au revendeur actuel, puis additionner les coûts d'expédition pour chacun.</span><span class="sxs-lookup"><span data-stu-id="c3678-475">For example, you can use a calculated column to look up all the shipping records related to the current reseller, and then sum the shipping costs for each.</span></span> <span data-ttu-id="c3678-476">Dans de nombreux cas, toutefois, il est possible qu'une relation ne soit pas nécessaire.</span><span class="sxs-lookup"><span data-stu-id="c3678-476">In many cases, however, a relationship might not be necessary.</span></span> <span data-ttu-id="c3678-477">Vous pouvez utiliser la fonction LOOKUPVALUE dans une formule pour retourner la valeur dans *result_columnName* pour la ligne répondant aux critères spécifiés dans les paramètres *search_column* et *search_value* .</span><span class="sxs-lookup"><span data-stu-id="c3678-477">You can use the LOOKUPVALUE function in a formula to return the value in *result_columnName* for the row that meets criteria specified in the *search_column* and *search_value* parameters.</span></span>  
  
 <span data-ttu-id="c3678-478">De nombreuses fonctions DAX requièrent l'existence d'une relation entre les tables ou entre plusieurs tables, afin de localiser les colonnes que vous avez référencées et de retourner des résultats qui ont un sens.</span><span class="sxs-lookup"><span data-stu-id="c3678-478">Many DAX functions require that a relationship exist between the tables, or among multiple tables, in order to locate the columns that you have referenced and return results that make sense.</span></span> <span data-ttu-id="c3678-479">D'autres fonctions essaient d'identifier la relation ; toutefois, lorsque cela est possible, créez une relation pour optimiser les résultats.</span><span class="sxs-lookup"><span data-stu-id="c3678-479">Other functions will attempt to identify the relationship; however, for best results you should always create a relationship where possible.</span></span> <span data-ttu-id="c3678-480">Pour plus d’informations, consultez [Formules et modèle tabulaire](#bkmk_RelModel) plus haut dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="c3678-480">For more information, see [Formulas and the Tabular Model](#bkmk_RelModel) earlier in this topic.</span></span>  
  
##  <a name="updating-the-results-of-formulas-process"></a><a name="bkmk_RefreshRecalc"></a><span data-ttu-id="c3678-481">Mise à jour des résultats des formules (processus)</span><span class="sxs-lookup"><span data-stu-id="c3678-481">Updating the Results of Formulas (Process)</span></span>  
 <span data-ttu-id="c3678-482">Le*traitement des données* et le *recalcul* sont deux opérations distinctes mais liées.</span><span class="sxs-lookup"><span data-stu-id="c3678-482">*Data process* and *recalculation* are two separate but related operations.</span></span> <span data-ttu-id="c3678-483">Vous devez comprendre en détail ces concepts lorsque vous concevez un modèle qui contient des formules complexes, de grandes quantités de données ou des données obtenues de sources de données externes.</span><span class="sxs-lookup"><span data-stu-id="c3678-483">You should thoroughly understand these concepts when designing a model that contains complex formulas, large amounts of data, or data that is obtained from external data sources.</span></span>  
  
 <span data-ttu-id="c3678-484">Le*traitement des données* est le processus de mise à jour des données dans un modèle avec de nouvelles données issues d'une source de données externe.</span><span class="sxs-lookup"><span data-stu-id="c3678-484">*Processing data* is the process of updating the data in a model with new data from an external data source.</span></span>  
  
 <span data-ttu-id="c3678-485">Le*recalcul* est le processus de mise à jour des résultats des formules afin de refléter toutes les modifications qui leur ont été apportées, ainsi que toutes les modifications des données sous-jacentes.</span><span class="sxs-lookup"><span data-stu-id="c3678-485">*Recalculation* is the process of updating the results of formulas to reflect any changes to the formulas themselves and to reflect changes in the underlying data.</span></span> <span data-ttu-id="c3678-486">Le recalcul peut affecter les performances des façons suivantes :</span><span class="sxs-lookup"><span data-stu-id="c3678-486">Recalculation can affect performance in the following ways:</span></span>  
  
-   <span data-ttu-id="c3678-487">Les valeurs dans une colonne calculée sont calculées et stockées dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="c3678-487">The values in a calculated column are computed and stored in the model.</span></span> <span data-ttu-id="c3678-488">Pour mettre à jour les valeurs dans la colonne calculée, vous devez traiter le modèle à l’aide de l’une des trois commandes de traitement : traiter entièrement, traiter les données ou traiter le recalcul.</span><span class="sxs-lookup"><span data-stu-id="c3678-488">To update the values in the calculated column, you must process the model using one of three processing commands - Process Full, Process Data, or Process Recalc.</span></span> <span data-ttu-id="c3678-489">Le résultat de la formule doit toujours être recalculé, pour la colonne entière, chaque fois que vous modifiez la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-489">The result of the formula must always be recalculated for the entire column, whenever you change the formula.</span></span>  
  
-   <span data-ttu-id="c3678-490">Les valeurs calculées par des mesures sont dynamiquement évaluées chaque fois qu'un utilisateur ajoute la mesure à un tableau croisé dynamique ou ouvre un rapport. Lorsque l'utilisateur modifie le contexte, les valeurs retournées par la mesure changent.</span><span class="sxs-lookup"><span data-stu-id="c3678-490">The values calculated by measures are dynamically evaluated whenever a user adds the measure to a pivot table or open a report; as the user modifies the context, values returned by the measure change.</span></span> <span data-ttu-id="c3678-491">Les résultats de la mesure reflètent toujours les valeurs les plus récentes dans le cache en mémoire.</span><span class="sxs-lookup"><span data-stu-id="c3678-491">The results of the measure always reflect the latest in the in-memory cache.</span></span>  
  
 <span data-ttu-id="c3678-492">Le traitement et le recalcul n'ont aucun effet sur les formules de filtre de lignes à moins que le résultat d'un nouveau calcul retourne une valeur différente, ce qui rend la ligne interrogeable ou non interrogeable par les membres du rôle.</span><span class="sxs-lookup"><span data-stu-id="c3678-492">Processing and recalculation have no effect on row filter formulas unless the result of a recalculation returns a different value, thus making the row queryable or not queryable by role members.</span></span>  
  
 <span data-ttu-id="c3678-493">Pour plus d’informations, consultez [Traiter les données &#40;SSAS Tabulaire&#41;](../process-data-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="c3678-493">For more information, see [Process Data &#40;SSAS Tabular&#41;](../process-data-ssas-tabular.md).</span></span>  
  
##  <a name="troubleshooting-errors-in-formulas"></a><a name="bkmk_troubleshoot"></a><span data-ttu-id="c3678-494">Résolution des erreurs dans les formules</span><span class="sxs-lookup"><span data-stu-id="c3678-494">Troubleshooting Errors in Formulas</span></span>  
 <span data-ttu-id="c3678-495">Si vous obtenez une erreur lorsque vous définissez une formule, la formule peut contenir une *erreur syntaxique*, une *erreur sémantique*ou une *erreur de calcul*.</span><span class="sxs-lookup"><span data-stu-id="c3678-495">If you get an error when defining a formula, the formula might contain either a *syntactic error*, *semantic error*, or *calculation error*.</span></span>  
  
 <span data-ttu-id="c3678-496">Les erreurs syntactiques sont les plus faciles à résoudre.</span><span class="sxs-lookup"><span data-stu-id="c3678-496">Syntactic errors are the easiest to resolve.</span></span> <span data-ttu-id="c3678-497">Elles impliquent en général une virgule ou une parenthèse manquante.</span><span class="sxs-lookup"><span data-stu-id="c3678-497">They typically involve a missing parenthesis or comma.</span></span> <span data-ttu-id="c3678-498">Pour obtenir de l’aide sur la syntaxe d’une fonction, consultez [Référence des fonctions DAX](/dax/dax-function-reference).</span><span class="sxs-lookup"><span data-stu-id="c3678-498">For help with the syntax of individual functions, see [DAX Function Reference](/dax/dax-function-reference).</span></span>  
  
 <span data-ttu-id="c3678-499">L'autre type d'erreur se produit lorsque la syntaxe est correcte, mais que la valeur ou la colonne référencée n'a pas de sens dans le contexte de la formule.</span><span class="sxs-lookup"><span data-stu-id="c3678-499">The other type of error occurs when the syntax is correct, but the value or the column referenced does not make sense in the context of the formula.</span></span> <span data-ttu-id="c3678-500">De telles erreurs sémantiques et de calcul peuvent être provoquées par l'un des problèmes suivants :</span><span class="sxs-lookup"><span data-stu-id="c3678-500">Such semantic and calculation errors might be caused by any of the following problems:</span></span>  
  
-   <span data-ttu-id="c3678-501">La formule fait référence à une colonne, une table ou une fonction non existante.</span><span class="sxs-lookup"><span data-stu-id="c3678-501">The formula refers to a non-existing column, table, or function.</span></span>  
  
-   <span data-ttu-id="c3678-502">La formule semble être correcte, mais lorsque le moteur de données extrait les données, il trouve une incompatibilité de type et génère une erreur.</span><span class="sxs-lookup"><span data-stu-id="c3678-502">The formula appears to be correct, but when the data engine fetches the data it finds a type mismatch, and raises an error.</span></span>  
  
-   <span data-ttu-id="c3678-503">La formule passe un nombre ou un type de paramètres incorrect à une fonction.</span><span class="sxs-lookup"><span data-stu-id="c3678-503">The formula passes an incorrect number or type of parameters to a function.</span></span>  
  
-   <span data-ttu-id="c3678-504">La formule fait référence à une colonne différente qui comporte une erreur, et par conséquent, ses valeurs ne sont pas valides.</span><span class="sxs-lookup"><span data-stu-id="c3678-504">The formula refers to a different column that has an error, and therefore its values are invalid.</span></span>  
  
-   <span data-ttu-id="c3678-505">La formule fait référence à une colonne qui n'a pas été traitée, ce qui signifie qu'elle comporte des métadonnées, mais aucune donnée à proprement parler à utiliser pour les calculs.</span><span class="sxs-lookup"><span data-stu-id="c3678-505">The formula refers to a column that has not been processed, meaning it has metadata but no actual data to use for calculations.</span></span>  
  
 <span data-ttu-id="c3678-506">Dans les quatre premiers cas, DAX signale la colonne entière qui contient la formule non valide.</span><span class="sxs-lookup"><span data-stu-id="c3678-506">In the first four cases, DAX flags the entire column that contains the invalid formula.</span></span> <span data-ttu-id="c3678-507">Dans le dernier cas, DAX grise la colonne pour indiquer que la colonne se trouve dans un état non traité.</span><span class="sxs-lookup"><span data-stu-id="c3678-507">In the last case, DAX grays out the column to indicate that the column is in an unprocessed state.</span></span>  
  
##  <a name="additional-resources"></a><a name="bkmk_addional_resources"></a> <span data-ttu-id="c3678-508">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="c3678-508">Additional Resources</span></span>  
 <span data-ttu-id="c3678-509">La rubrique [Modélisation tabulaire &#40;didacticiel Adventure Works&#41;](../tabular-modeling-adventure-works-tutorial.md) fournit des instructions pas à pas pour créer un modèle tabulaire incluant de nombreux calculs dans des colonnes calculées, des mesures et des filtres de lignes.</span><span class="sxs-lookup"><span data-stu-id="c3678-509">The [Tabular Modeling &#40;Adventure Works Tutorial&#41;](../tabular-modeling-adventure-works-tutorial.md) provides step-by-step instructions on how to create a tabular model that includes many calculations in calculated columns, measures, and row filters.</span></span> <span data-ttu-id="c3678-510">Pour la plupart des formules, une description de la fonction est fournie.</span><span class="sxs-lookup"><span data-stu-id="c3678-510">For most formulas, a description about what the formula is meant to do is provided.</span></span>  
  
 <span data-ttu-id="c3678-511">Le [blog de l’équipe Analysis Services et PowerPivot](https://go.microsoft.com/fwlink/?LinkID=220949&clcid=0x409) fournit des informations, des conseils, des actualités et des annonces sur [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] et PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="c3678-511">The [Analysis Services and PowerPivot Team Blog](https://go.microsoft.com/fwlink/?LinkID=220949&clcid=0x409) provides information, tips, news and announcements about [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] and PowerPivot.</span></span>  
  
 <span data-ttu-id="c3678-512">Le [Centre de ressources DAX](https://go.microsoft.com/fwlink/?LinkID=220966&clcid=0x409) fournit des informations internes et externes sur DAX, notamment de nombreuses solutions DAX soumises par des professionnels Business Intelligence.</span><span class="sxs-lookup"><span data-stu-id="c3678-512">The [DAX Resource Center](https://go.microsoft.com/fwlink/?LinkID=220966&clcid=0x409) provides both internal and external information on DAX, including numerous DAX solutions submitted by leading Business Intelligence professionals.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c3678-513">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c3678-513">See Also</span></span>  
 <span data-ttu-id="c3678-514">[Expressions d’analyse de données &#40;référence de&#41; DAX](/dax/data-analysis-expressions-dax-reference) </span><span class="sxs-lookup"><span data-stu-id="c3678-514">[Data Analysis Expressions &#40;DAX&#41; Reference](/dax/data-analysis-expressions-dax-reference) </span></span>  
 <span data-ttu-id="c3678-515">[Mesures &#40;&#41;tabulaire SSAS](measures-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="c3678-515">[Measures &#40;SSAS Tabular&#41;](measures-ssas-tabular.md) </span></span>  
 <span data-ttu-id="c3678-516">[Colonnes calculées &#40;&#41;tabulaires SSAS](ssas-calculated-columns.md) </span><span class="sxs-lookup"><span data-stu-id="c3678-516">[Calculated Columns &#40;SSAS Tabular&#41;](ssas-calculated-columns.md) </span></span>  
 <span data-ttu-id="c3678-517">[Rôles &#40;&#41;tabulaire SSAS](roles-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="c3678-517">[Roles &#40;SSAS Tabular&#41;](roles-ssas-tabular.md) </span></span>  
 <span data-ttu-id="c3678-518">[KPI &#40;&#41;tabulaires SSAS](kpis-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="c3678-518">[KPIs &#40;SSAS Tabular&#41;](kpis-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="c3678-519">Sources de données prises en charge &#40;SSAS Tabulaire&#41;</span><span class="sxs-lookup"><span data-stu-id="c3678-519">Data Sources Supported &#40;SSAS Tabular&#41;</span></span>](data-sources-supported-ssas-tabular.md)  
  
  
