---
title: Mode DirectQuery (SSAS tabulaire) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.bidtoolset.realtime.f1
ms.assetid: 45ad2965-05ec-4fb1-a164-d8060b562ea5
author: minewiskan
ms.author: owend
ms.openlocfilehash: ceb58c211b52c1fbd184aafe316e5ea77d364529
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87696203"
---
# <a name="directquery-mode-ssas-tabular"></a><span data-ttu-id="727cd-102">Mode DirectQuery (SSAS Tabulaire)</span><span class="sxs-lookup"><span data-stu-id="727cd-102">DirectQuery Mode (SSAS Tabular)</span></span>
  <span data-ttu-id="727cd-103">Analysis Services vous permet de récupérer des données et de créer des rapports à partir d'un modèle tabulaire en récupérant des données et des agrégats directement à partir d'un système de base de données relationnelle, à l'aide du *mode DirectQuery*.</span><span class="sxs-lookup"><span data-stu-id="727cd-103">Analysis Services lets you retrieve data and create reports from a tabular model by retrieving data and aggregates directly from a relational database system, using *DirectQuery mode*.</span></span> <span data-ttu-id="727cd-104">Cette rubrique présente les différences entre les modèles tabulaires standard qui résident uniquement en mémoire et les modèles tabulaires qui peuvent interroger une source de données relationnelle, et explique comment créer et déployer un modèle utilisable en mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-104">This topic introduces the differences between standard tabular models that reside only in memory and tabular models that can query a relational data source, and explains how you can author and deploy a model for use in DirectQuery mode.</span></span>  
  
 <span data-ttu-id="727cd-105">Sections de cette rubrique :</span><span class="sxs-lookup"><span data-stu-id="727cd-105">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="727cd-106">Avantages du mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-106">Benefits of DirectQuery Mode</span></span>](#bkmk_Benefits)  
  
-   [<span data-ttu-id="727cd-107">Création de modèles utilisables avec le mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-107">Authoring Models for Use with DirectQuery Mode</span></span>](#bkmk_Design)  
  
    -   [<span data-ttu-id="727cd-108">Data Sources for DirectQuery Models</span><span class="sxs-lookup"><span data-stu-id="727cd-108">Data Sources for DirectQuery Models</span></span>](directquery-mode-ssas-tabular.md#bkmk_DataSources)  
  
    -   [<span data-ttu-id="727cd-109">Restrictions de validation et de création pour le mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-109">Validation and Design Restrictions for DirectQuery Mode</span></span>](#bkmk_Validation)  
  
    -   [<span data-ttu-id="727cd-110">Compatibilité des formules pour les modèles DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-110">Formula Compatibility for DirectQuery Models</span></span>](#bkmk_FormulaCompat)  
  
    -   [<span data-ttu-id="727cd-111">Sécurité en mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-111">Security in DirectQuery Mode</span></span>](#bkmk_Security)  
  
    -   [<span data-ttu-id="727cd-112">Sécurité en mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-112">Security in DirectQuery Mode</span></span>](#bkmk_Security)  
  
-   [<span data-ttu-id="727cd-113">Propriétés DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-113">DirectQuery Properties</span></span>](#bkmk_PropertyList)  
  
-   [<span data-ttu-id="727cd-114">Tâches et rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="727cd-114">Related Topics and Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits-of-directquery-mode"></a><a name="bkmk_Benefits"></a><span data-ttu-id="727cd-115">Avantages du mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-115">Benefits of DirectQuery Mode</span></span>  
 <span data-ttu-id="727cd-116">Par défaut, les modèles tabulaires utilisent un cache mémoire pour stocker et interroger les données.</span><span class="sxs-lookup"><span data-stu-id="727cd-116">By default, tabular models use an in-memory cache to store and query data.</span></span> <span data-ttu-id="727cd-117">Étant donné que les modèles tabulaires utilisent des données qui résident dans la mémoire, même les requêtes complexes peuvent être extrêmement rapides.</span><span class="sxs-lookup"><span data-stu-id="727cd-117">Because tabular models use data that resides in memory, even complex queries can be incredibly fast.</span></span> <span data-ttu-id="727cd-118">Toutefois, l'utilisation de données en mémoire cache présente des inconvénients :</span><span class="sxs-lookup"><span data-stu-id="727cd-118">However, there are some drawbacks to using cached data:</span></span>  
  
-   <span data-ttu-id="727cd-119">Les données ne sont pas actualisées lorsque des modifications sont apportées aux données sources.</span><span class="sxs-lookup"><span data-stu-id="727cd-119">Data is not refreshed when the source data changes.</span></span> <span data-ttu-id="727cd-120">Vous devez traiter le modèle pour obtenir les mises à jour des données.</span><span class="sxs-lookup"><span data-stu-id="727cd-120">You must process the model to get updates to the data.</span></span>  
  
-   <span data-ttu-id="727cd-121">Lorsque vous arrêtez l'ordinateur qui héberge le modèle, le cache est enregistré sur le disque et doit être rouvert lorsque vous chargez le modèle ou ouvrez le fichier PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="727cd-121">When you turn off the computer that hosts the model, the cache is saved to disk and must be reopened when you load the model or open the PowerPivot file.</span></span> <span data-ttu-id="727cd-122">Les opérations de sauvegarde et de chargement peuvent être longues.</span><span class="sxs-lookup"><span data-stu-id="727cd-122">The save and load operations can be time-consuming.</span></span>  
  
 <span data-ttu-id="727cd-123">Par opposition, le mode DirectQuery utilise des données stockées dans une base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="727cd-123">In contrast, DirectQuery mode uses data that is stored in a SQL Server database.</span></span>  <span data-ttu-id="727cd-124">En général, vous importez toutes les données ou un petit échantillon de données dans le cache lorsque vous créez le modèle, et lorsque vous déployez le modèle, vous spécifiez que la source de données des requêtes sur le modèle doit être SQL Server, et non pas les données en cache.</span><span class="sxs-lookup"><span data-stu-id="727cd-124">Generally, you import all or a small sample of the data into the cache while authoring the model, and when you deploy the model, you specify that the data source for queries against the model should be SQL Server, not the cached data.</span></span> <span data-ttu-id="727cd-125">Toutes les requêtes DAX sur les données sont converties par [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] en instructions SQL équivalentes sur la source de données relationnelle spécifiée.</span><span class="sxs-lookup"><span data-stu-id="727cd-125">Any DAX queries on the data are translated by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] into equivalent SQL statements against the specified relational data source.</span></span>  
  
 <span data-ttu-id="727cd-126">Le déploiement d'un modèle à l'aide du mode DirectQuery présente de nombreux avantages :</span><span class="sxs-lookup"><span data-stu-id="727cd-126">There are many advantages to deploying a model using DirectQuery mode:</span></span>  
  
-   <span data-ttu-id="727cd-127">Il permet d'utiliser un modèle pour les ensembles de données qui sont trop volumineux pour tenir dans la mémoire du serveur Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="727cd-127">It is possible to have a model over data sets that are too large to fit in memory on the Analysis Services server.</span></span>  
  
-   <span data-ttu-id="727cd-128">Les données sont à jour, et il n'y a aucune charge de gestion supplémentaire liée à la conservation d'une copie distincte des données.</span><span class="sxs-lookup"><span data-stu-id="727cd-128">The data is guaranteed to be up-to-date, and there is no extra management overhead of having to maintain a separate copy of the data.</span></span> <span data-ttu-id="727cd-129">Les modifications apportées aux données sources sous-jacentes peuvent être immédiatement reflétées dans des requêtes sur le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="727cd-129">Changes to the underlying source data can be immediately reflected in queries against the data model.</span></span>  
  
-   <span data-ttu-id="727cd-130">DirectQuery peut tirer parti de l'accélération des requêtes côté fournisseur, telle que celle fournie par les index de colonne optimisés en mémoire xVelocity.</span><span class="sxs-lookup"><span data-stu-id="727cd-130">DirectQuery can take advantage of provider-side query acceleration, such as that provided by xVelocity memory optimized column indexes.</span></span>  
  
-   <span data-ttu-id="727cd-131">Toute sécurité imposée par la base de données principale est appliquée, à l'aide de la sécurité au niveau des lignes.</span><span class="sxs-lookup"><span data-stu-id="727cd-131">Any security enforced by the back-end database is guaranteed to be enforced, using row-level security.</span></span> <span data-ttu-id="727cd-132">En revanche, si vous utilisez des données en mémoire cache, il peut être difficile de garantir que le cache est sécurisé exactement comme sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="727cd-132">In contrast, if you are using cached data, it can be difficult to ensure that the cache is secured exactly as on the server.</span></span>  
  
-   <span data-ttu-id="727cd-133">Si le modèle contient des formules complexes qui peuvent nécessiter plusieurs requêtes, Analysis Services peut procéder à une optimisation pour garantir que le plan de requête pour la requête exécutée sur la base de données principale est aussi efficace que possible.</span><span class="sxs-lookup"><span data-stu-id="727cd-133">If the model contains complex formulas that might require multiple queries, Analysis Services can perform optimization to ensure that the query plan for the query executed against the back-end database will be as efficient as possible.</span></span>  
  
##  <a name="authoring-models-for-use-with-directquery-mode"></a><a name="bkmk_Design"></a><span data-ttu-id="727cd-134">Création de modèles à utiliser avec le mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-134">Authoring Models for Use with DirectQuery Mode</span></span>  
 <span data-ttu-id="727cd-135">Les modèles tabulaires sont créés à l'aide du concepteur de modèles [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="727cd-135">Tabular models are authored by using the model designer [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="727cd-136">Le concepteur du modèle crée tous les modèles dans la mémoire, ce qui signifie que lorsque vous modélisez, si vos données sont trop volumineuses pour tenir dans la mémoire, vous devez importer uniquement un sous-ensemble de données dans le cache utilisé par la base de données de l'espace de travail.</span><span class="sxs-lookup"><span data-stu-id="727cd-136">The model designer creates all models in memory, which means that when you are modeling, if your data is too large to fit into memory, you should import only a subset of data into the cache used by the workspace database.</span></span>  
  
 <span data-ttu-id="727cd-137">Lorsque vous êtes prêt à passer en mode DirectQuery, vous pouvez modifier une propriété qui active le mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-137">When you are ready to switch to DirectQuery mode, you can change a property that enables DirectQuery mode.</span></span> <span data-ttu-id="727cd-138">Pour plus d’informations, consultez [Enable DirectQuery Design mode &#40;SSAS tabulaire&#41;](enable-directquery-mode-in-ssdt.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-138">For more information, see [Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;](enable-directquery-mode-in-ssdt.md).</span></span>  
  
 <span data-ttu-id="727cd-139">Lorsque vous effectuez cette opération, le concepteur de modèles configure automatiquement la base de données de l'espace de travail pour qu'elle s'exécute en mode hybride, ce qui vous permet de continuer à utiliser les données en mémoire cache.</span><span class="sxs-lookup"><span data-stu-id="727cd-139">When you do this, the model designer automatically configures the workspace database to run in a hybrid mode that lets you continue to work with the cached data.</span></span> <span data-ttu-id="727cd-140">Le concepteur de modèles vous informera également de toutes les fonctionnalités de votre modèle qui ne sont pas compatibles avec le mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-140">The model designer will also notify you of any features in your model that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="727cd-141">La liste suivante résume les principales conditions requises à garder à l'esprit :</span><span class="sxs-lookup"><span data-stu-id="727cd-141">The following list summarizes the main requirements to keep in mind:</span></span>  
  
-   <span data-ttu-id="727cd-142">**Sources de données :** les modèles DirectQuery peuvent uniquement utiliser les données d'une source de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="727cd-142">**Data sources:** DirectQuery models can only use data from a single SQL Server data source.</span></span> <span data-ttu-id="727cd-143">Lorsque le mode DirectQuery a été activé pour un modèle, vous ne pouvez utiliser aucun autre type de données dans le concepteur de modèles, y compris les tables ajoutées par les opérations de copier-coller.</span><span class="sxs-lookup"><span data-stu-id="727cd-143">When DirectQuery mode has been turned on for a model, you can use no other types of data in the model designer, including tables added by copy-paste operations.</span></span> <span data-ttu-id="727cd-144">Toutes les autres options d'importation sont désactivées.</span><span class="sxs-lookup"><span data-stu-id="727cd-144">All other import options are disabled.</span></span> <span data-ttu-id="727cd-145">Toute table incluse dans une requête doit faire partie de la source de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="727cd-145">Any tables included in a query must be part of the SQL Server data source.</span></span> <span data-ttu-id="727cd-146">Pour plus d'informations, consultez [Data Sources for DirectQuery Models](directquery-mode-ssas-tabular.md#bkmk_DataSources).</span><span class="sxs-lookup"><span data-stu-id="727cd-146">See [Data Sources for DirectQuery Models](directquery-mode-ssas-tabular.md#bkmk_DataSources)for more information.</span></span>  
  
-   <span data-ttu-id="727cd-147">**Prise en charge des colonnes calculées :** Les colonnes calculées ne sont pas prises en charge pour les modèles DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-147">**Support for calculated columns:** Calculated columns are not supported for DirectQuery models.</span></span> <span data-ttu-id="727cd-148">Toutefois, vous pouvez créer des mesures et des indicateurs de performance clés, qui s'exécutent sur des ensembles de données.</span><span class="sxs-lookup"><span data-stu-id="727cd-148">However, you can create measures and KPIs, which operate over sets of data.</span></span> <span data-ttu-id="727cd-149">Pour plus d'informations, consultez la section relative à la [validation](#bkmk_Validation) .</span><span class="sxs-lookup"><span data-stu-id="727cd-149">See the section on [validation](#bkmk_Validation) for more information.</span></span>  
  
-   <span data-ttu-id="727cd-150">**Utilisation limitée des fonctions DAX :** certaines fonctions DAX ne peuvent pas être utilisées en mode DirectQuery. Vous devez donc les remplacer par d'autres fonctions, ou créer des valeurs à l'aide de colonnes dérivées dans la source de données.</span><span class="sxs-lookup"><span data-stu-id="727cd-150">**Limited use of DAX functions:** Some DAX functions cannot be used in DirectQuery mode, so you must replace them with other functions, or create the values using derived columns in the data source.</span></span> <span data-ttu-id="727cd-151">Le concepteur de modèles assure la validation au moment de la conception pour toutes les erreurs qui surviennent lorsque vous créez des formules qui ne sont pas compatibles avec le mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-151">The model designer provides design-time validation for any errors that arise when you create formulas that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="727cd-152">Pour plus d'informations, consultez les sections suivantes : [Validation](#bkmk_Validation).</span><span class="sxs-lookup"><span data-stu-id="727cd-152">See the following sections for more information: [Validation](#bkmk_Validation).</span></span>  
  
-   <span data-ttu-id="727cd-153">**Compatibilité des formules :** dans certains cas connus, la même formule peut retourner différents résultats dans un modèle mis en cache ou hybride comparé à un modèle DirectQuery qui utilise uniquement la banque de données relationnelle.</span><span class="sxs-lookup"><span data-stu-id="727cd-153">**Formula compatibility:** In certain known cases, the same formula can return different results in a cached or hybrid model compared to a DirectQuery model that uses only the relational data store.</span></span> <span data-ttu-id="727cd-154">Ces différences sont une conséquence des différences sémantiques entre le moteur d'analyse en mémoire xVelocity (VertiPaq) et SQL Server.</span><span class="sxs-lookup"><span data-stu-id="727cd-154">These differences are a consequence of the semantic differences between the xVelocity in-memory analytics (VertiPaq) engine and SQL Server.</span></span> <span data-ttu-id="727cd-155">Pour plus d'informations sur ces différences, consultez cette section : [Compatibilité des formules](#bkmk_FormulaCompat).</span><span class="sxs-lookup"><span data-stu-id="727cd-155">For more information about these differences, see this section: [Formula Compatibility](#bkmk_FormulaCompat).</span></span>  
  
-   <span data-ttu-id="727cd-156">**Sécurité :** vous pouvez utiliser différentes méthodes pour sécuriser les modèles en fonction de la manière dont ils sont déployés.</span><span class="sxs-lookup"><span data-stu-id="727cd-156">**Security:** You can use different methods to secure models depending on how they are deployed.</span></span> <span data-ttu-id="727cd-157">Les données mises en cache pour les modèles tabulaires sont sécurisées à l'aide du modèle de sécurité de l'instance Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="727cd-157">Cached data for tabular models is secured by using the security model of the Analysis Services instance.</span></span> <span data-ttu-id="727cd-158">Les modèles DirectQuery peuvent être sécurisés à l'aide de rôles, mais vous pouvez également utiliser la sécurité définie dans la banque de données relationnelle.</span><span class="sxs-lookup"><span data-stu-id="727cd-158">DirectQuery models can be secured by using roles, but you can also use security defined in the relational data store.</span></span> <span data-ttu-id="727cd-159">Le modèle peut être configuré de sorte que les utilisateurs qui ouvrent un rapport basé sur un modèle DirectQuery puissent uniquement voir les données que leurs autorisations dans SQL Server leur permettent de voir.</span><span class="sxs-lookup"><span data-stu-id="727cd-159">The model can be configured so that users who open a report based on a DirectQuery-only model can see only the data that is allowed to them under their permissions in SQL Server.</span></span> <span data-ttu-id="727cd-160">Pour plus d'informations, consultez la section suivante : [Sécurité](#bkmk_Security).</span><span class="sxs-lookup"><span data-stu-id="727cd-160">See this section for more information: [Security](#bkmk_Security).</span></span>  
  
-   <span data-ttu-id="727cd-161">**Restrictions client :** lorsqu'un modèle est en mode DirectQuery, il ne peut être interrogé qu'à l'aide de DAX.</span><span class="sxs-lookup"><span data-stu-id="727cd-161">**Client restrictions:** When a model is in DirectQuery mode, it can only be queried by using DAX.</span></span> <span data-ttu-id="727cd-162">Vous ne pouvez pas utiliser MDX pour créer des requêtes.</span><span class="sxs-lookup"><span data-stu-id="727cd-162">You cannot use MDX to create queries.</span></span> <span data-ttu-id="727cd-163">Cela signifie que vous ne pouvez pas utiliser le client de tableau croisé dynamique Excel, car Excel utilise MDX.</span><span class="sxs-lookup"><span data-stu-id="727cd-163">This means that you cannot use the Excel Pivot Client, because Excel uses MDX.</span></span>  
  
     <span data-ttu-id="727cd-164">Toutefois, vous pouvez créer des requêtes sur un modèle DirectQuery dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] si vous utilisez une requête de table Dax dans le cadre d’une instruction XMLA Execute. pour plus d’informations, consultez [référence de syntaxe de requête Dax] (/DAX/Dax-Syntax-Reference</span><span class="sxs-lookup"><span data-stu-id="727cd-164">However, you can create queries against a DirectQuery model in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] if you use a DAX table query as part of an XMLA Execute statement, For more information, see [DAX Query Syntax Reference](/dax/dax-syntax-reference</span></span>
  
 <span data-ttu-id="727cd-165">Lorsque vous avez résolu tous les problèmes de conception et testé votre modèle, vous êtes prêt pour le déploiement.</span><span class="sxs-lookup"><span data-stu-id="727cd-165">When you have resolved all the design issues and tested your model, you are ready for deployment.</span></span> <span data-ttu-id="727cd-166">À ce stade, vous pouvez définir la méthode recommandée pour répondre aux requêtes sur le modèle.</span><span class="sxs-lookup"><span data-stu-id="727cd-166">At this point, you can set the preferred method for answering queries against the model.</span></span> <span data-ttu-id="727cd-167">Voulez-vous que les utilisateurs aient accès au cache, ou utilisent toujours uniquement la source de données relationnelle ?</span><span class="sxs-lookup"><span data-stu-id="727cd-167">Do you want users to have access to the cache, or always use only the relational data source?</span></span>  
  
 <span data-ttu-id="727cd-168">Si vous déployez le modèle en *mode hybride*, le cache reste disponible et peut être utilisé pour les requêtes.</span><span class="sxs-lookup"><span data-stu-id="727cd-168">If you deploy the model in a *hybrid mode*, the cache is still available and can be used for queries.</span></span> <span data-ttu-id="727cd-169">Un mode hybride vous fournit de nombreuses options :</span><span class="sxs-lookup"><span data-stu-id="727cd-169">A hybrid mode provides you with many options:</span></span>  
  
-   <span data-ttu-id="727cd-170">Lorsque le cache et la source de données relationnelle sont disponibles, vous pouvez définir la méthode de connexion recommandée par défaut, mais en fin de compte le client contrôle la source utilisée, à l'aide de la propriété de chaîne de connexion DirectQueryMode.</span><span class="sxs-lookup"><span data-stu-id="727cd-170">When both the cache and the relational data source are available, you can set the preferred connection method, but ultimately the client controls which source is used, using the DirectQueryMode connection string property.</span></span>  
  
-   <span data-ttu-id="727cd-171">Vous pouvez également configurer des partitions du cache de telle façon que la partition principale utilisée pour le mode DirectQuery ne soit jamais traitée et doive toujours faire référence à la source relationnelle.</span><span class="sxs-lookup"><span data-stu-id="727cd-171">You can also configure partitions on the cache in such a way that the primary partition used for DirectQuery mode is never processed and must always reference the relational source.</span></span> <span data-ttu-id="727cd-172">Il existe plusieurs façons d'utiliser des partitions pour optimiser l'expérience de conception de modèle et de rapports.</span><span class="sxs-lookup"><span data-stu-id="727cd-172">There are many ways to use partitions to optimize the model design and reporting experience.</span></span> <span data-ttu-id="727cd-173">Pour plus d’informations, consultez [partitions et mode DirectQuery &#40;&#41;tabulaire SSAS ](define-partitions-in-directquery-models-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-173">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](define-partitions-in-directquery-models-ssas-tabular.md).</span></span>  
  
-   <span data-ttu-id="727cd-174">Une fois le modèle déployé, vous pouvez modifier la méthode de connexion par défaut.</span><span class="sxs-lookup"><span data-stu-id="727cd-174">After the model has been deployed, you can change the preferred connection method.</span></span> <span data-ttu-id="727cd-175">Par exemple, vous pouvez utiliser un mode hybride pour le test, et basculer le modèle en mode **DirectQuery uniquement** seulement après avoir testé complètement tous les rapports ou requêtes qui utilisent le modèle.</span><span class="sxs-lookup"><span data-stu-id="727cd-175">For example, you might use a hybrid mode for testing, and switch the model over to **DirectQuery only** mode only after thoroughly testing any reports or queries that use the model.</span></span> <span data-ttu-id="727cd-176">Pour plus d’informations, consultez [Définir ou modifier la méthode de connexion par défaut pour DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-176">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>  
  
###  <a name="data-sources-for-directquery-models"></a><a name="bkmk_DataSources"></a><span data-ttu-id="727cd-177">Sources de données pour les modèles DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-177">Data Sources for DirectQuery Models</span></span>  
 <span data-ttu-id="727cd-178">Dès que vous modifiez l'environnement de conception pour activer le mode DirectQuery, les sources de données pour la base de données de l'espace de travail sont validées pour garantir qu'elles proviennent d'une seule source de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="727cd-178">As soon as you change the design environment to enable DirectQuery mode, the data sources for the workspace database are validated to ensure that they come from a single SQL Server data source.</span></span> <span data-ttu-id="727cd-179">Les données issues d'autres sources, notamment les données copiées-collées, ne sont pas autorisées dans les modèles DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-179">Data from other sources, including copy-pasted data, is not allowed in DirectQuery models.</span></span>  
  
 <span data-ttu-id="727cd-180">Si vous avez l'intention d'utiliser le modèle en mode DirectQuery, vous devez vous assurer que toutes les données dont vous avez besoin pour les rapports sont stockées dans la base de données SQL Server spécifiée.</span><span class="sxs-lookup"><span data-stu-id="727cd-180">If you intend to use the model in DirectQuery mode, you must ensure that all the data you need for reporting is stored in the specified SQL Server database.</span></span> <span data-ttu-id="727cd-181">Si les données dont vous avez besoin pour la modélisation ne sont pas disponibles dans cette source, envisagez d'utiliser Integration Services ou d'autres outils de stockage des données pour importer les données dans une base de données SQL Server qui sert de source de données DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-181">If the data you need for modeling is not available in that source, consider use of Integration Services or other data warehousing tools to import the data into a SQL Server database that serves as the DirectQuery data source.</span></span>  
  
###  <a name="validation-and-design-restrictions-for-directquery-mode"></a><a name="bkmk_Validation"></a><span data-ttu-id="727cd-182">Restrictions de validation et de conception pour le mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-182">Validation and Design Restrictions for DirectQuery Mode</span></span>  
 <span data-ttu-id="727cd-183">Lorsque vous créez un modèle utilisable en mode DirectQuery, vous devez initialement charger une partie des données dans le cache.</span><span class="sxs-lookup"><span data-stu-id="727cd-183">When you author a model for use in DirectQuery mode, you must initially load some portion of the data into the cache.</span></span> <span data-ttu-id="727cd-184">Si les données que vous allez utiliser sont trop volumineuses pour tenir en mémoire, vous pouvez utiliser l’option **Aperçu du & de filtre** dans l’Assistant importation de table pour sélectionner un sous-ensemble de données, ou écrire un script SQL pour obtenir les données souhaitées.</span><span class="sxs-lookup"><span data-stu-id="727cd-184">If the data you will eventually use is too large to fit into memory, you can use the **Preview & Filter** option in the Table Import wizard to select a subset of data, or write a SQL script to get the data that you want.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="727cd-185">Étant donné que le mode DirectQuery ne prend pas en charge l'utilisation de colonnes calculées, s'il existe des colonnes que vous souhaitez combiner ou sur lesquelles vous souhaitez exécuter d'autres opérations, vous devez planifier et créer la définition de colonne dans le cadre de votre requête ou script d'importation de données.</span><span class="sxs-lookup"><span data-stu-id="727cd-185">Because DirectQuery mode does not support the use of calculated columns, if there are columns that you wish to combine or perform other operations on, you should plan ahead and create the column definition as part of your data import query or script.</span></span>  
  
 <span data-ttu-id="727cd-186">Pour afficher et résoudre les erreurs de validation, ouvrez la **Liste d'erreurs** dans [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="727cd-186">To view and resolve validation errors, open the **Error List** in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="727cd-187">Les erreurs critiques qui empêchent l’utilisation du mode DirectQuery sont affichées sous l’onglet **Erreurs** . Vous devez corriger ces erreurs avant de passer en mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-187">Critical errors that prevent use of DirectQuery mode are displayed on the **Errors** tab. You must fix these errors before changing to DirectQuery mode.</span></span> <span data-ttu-id="727cd-188">Les erreurs de validation les plus difficiles à résoudre sont généralement liées aux formules qui ne sont pas prises en charge en mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-188">The validation errors that are more difficult to resolve typically are related to formulas that are not supported in DirectQuery mode.</span></span> <span data-ttu-id="727cd-189">Consultez la section [Compatibilité des formules](#bkmk_FormulaCompat), pour obtenir une vue d'ensemble des erreurs liées aux formules et aux colonnes calculées.</span><span class="sxs-lookup"><span data-stu-id="727cd-189">See the section, [Formula Compatibility](#bkmk_FormulaCompat), for an overview of errors related to formulas and calculated columns.</span></span>  
  
 <span data-ttu-id="727cd-190">La liste suivante décrit d'autres considérations à garder à l'esprit lorsque vous créez un modèle pour l'accès DirectQuery :</span><span class="sxs-lookup"><span data-stu-id="727cd-190">The following list describes other considerations to keep in mind when authoring a model for DirectQuery access:</span></span>  
  
-   <span data-ttu-id="727cd-191">Lorsque vous êtes en mode *DirectQuery uniquement* , les résultats d'un rapport peuvent varier selon le contexte de sécurité de l'utilisateur qui affiche les résultats.</span><span class="sxs-lookup"><span data-stu-id="727cd-191">When in *DirectQuery only* mode, the results in a report can vary depending on the security context of the user who is viewing the results.</span></span> <span data-ttu-id="727cd-192">Vous devez tester les modèles avec des informations d'identification différentes pour garantir que les utilisateurs reçoivent les résultats attendus.</span><span class="sxs-lookup"><span data-stu-id="727cd-192">You should test models with different credentials to ensure that users get the expected results.</span></span>  
  
-   <span data-ttu-id="727cd-193">Si vous configurez un modèle pour qu'il fonctionne en mode hybride, ce qui permet l'utilisation du cache ou des données SQL Server, tenez compte de la possibilité que les clients qui se connectent à chaque source voient des résultats différents en fonction du mode spécifié dans la chaîne de connexion.</span><span class="sxs-lookup"><span data-stu-id="727cd-193">If you configure a model to operate in hybrid mode, which allows the use of either the cache or data from SQL Server, you should be aware of the possibility that clients connecting to each source might see different results, depending on the mode specified in the connection string.</span></span> <span data-ttu-id="727cd-194">Si vous devez vous assurer que les utilisateurs de rapports voient uniquement les données de SQL Server, vous devez effacer le cache ou changer le modèle en DirectQueryOnly.</span><span class="sxs-lookup"><span data-stu-id="727cd-194">If you need to ensure that your report users see only data from SQL Server, you must clear the cache or change the model to DirectQueryOnly.</span></span>  
  
###  <a name="formula-compatibility-for-directquery-models"></a><a name="bkmk_FormulaCompat"></a><span data-ttu-id="727cd-195">Compatibilité des formules pour les modèles DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-195">Formula Compatibility for DirectQuery Models</span></span>  
 <span data-ttu-id="727cd-196">Certains modèles peuvent contenir des formules qui ne sont pas prises en charge en mode DirectQuery, et le modèle doit être refondu pour éviter des erreurs de validation.</span><span class="sxs-lookup"><span data-stu-id="727cd-196">Some models might contain formulas that are not supported in DirectQuery mode, and the model must be redesigned to prevent validation errors.</span></span> <span data-ttu-id="727cd-197">Les restrictions sur les formules qui sont prises en charge en mode DirectQuery sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="727cd-197">Restrictions on formulas that are supported in DirectQuery mode include the following:</span></span>  
  
-   <span data-ttu-id="727cd-198">Les colonnes calculées ne sont prises en charge dans aucun modèle tabulaire qui a le mode DirectQuery activé, même pas les modèles hybrides.</span><span class="sxs-lookup"><span data-stu-id="727cd-198">Calculated columns are not supported in any tabular model that has DirectQuery mode enabled, not even hybrid models.</span></span> <span data-ttu-id="727cd-199">Si vous avez besoin de colonnes calculées pour un modèle, envisagez de les convertir en colonnes dérivées à l'aide de Transact-SQL dans votre définition de l'importation.</span><span class="sxs-lookup"><span data-stu-id="727cd-199">If you need calculated columns for a model, consider converting them to derived columns by using Transact-SQL in your import definition.</span></span>  
  
-   <span data-ttu-id="727cd-200">Les modèles DirectQuery prennent en charge l'utilisation de formules DAX pour une utilisation dans des mesures, qui sont converties en opérations basées sur un ensemble par rapport à la banque de données relationnelle.</span><span class="sxs-lookup"><span data-stu-id="727cd-200">DirectQuery models do support the use of DAX formulas for use in measures, which are converted to set-based operations against the relational data store.</span></span> <span data-ttu-id="727cd-201">Toutes les mesures que vous créez à l'aide de mesures implicites sont prises en charge.</span><span class="sxs-lookup"><span data-stu-id="727cd-201">All measures that you create by using implicit measures are supported.</span></span>  
  
-   <span data-ttu-id="727cd-202">Toutes les fonctions ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="727cd-202">Not all functions are supported.</span></span> <span data-ttu-id="727cd-203">Étant donné qu' [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] convertit toutes les formules DAX et définitions de mesure en instructions SQL en interrogeant un modèle DirectQuery, toute formule qui contient des éléments qui ne peuvent pas être convertis en Transact-SQL déclenche des erreurs de validation sur le modèle.</span><span class="sxs-lookup"><span data-stu-id="727cd-203">Because [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] converts all DAX formulas and measure definitions into SQL statements when querying a DirectQuery model, any formula containing elements that cannot be converted into Transact-SQL will trigger validation errors on the model.</span></span> <span data-ttu-id="727cd-204">Par exemple, les fonctions Time Intelligence ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="727cd-204">For example, time intelligence functions are not supported.</span></span> <span data-ttu-id="727cd-205">Même les fonctions prises en charge peuvent se comporter différemment, comme les fonctions statistiques.</span><span class="sxs-lookup"><span data-stu-id="727cd-205">Even functions that are supported might behave differently, such as statistical functions.</span></span> <span data-ttu-id="727cd-206">Pour obtenir la liste complète des problèmes de compatibilité, consultez [compatibilité des formules en mode DirectQuery](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-206">For a complete list of compatibility issues, see [Formula Compatibility in DirectQuery Mode](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span></span>  
  
-   <span data-ttu-id="727cd-207">Certaines formules du modèle peuvent se valider lorsque vous basculez le modèle en mode DirectQuery, mais retournent des résultats différents une fois exécutées sur le cache et la banque de données relationnelle.</span><span class="sxs-lookup"><span data-stu-id="727cd-207">Some formulas in the model might validate when you switch the model to DirectQuery mode, but return different results when executed against the cache vs. the relational data store.</span></span> <span data-ttu-id="727cd-208">Cela est dû au fait que les calculs sur le cache utilisent la sémantique du moteur d'analyse en mémoire xVelocity (VertiPaq), qui contient de nombreuses fonctionnalités pour émuler le comportement d'Excel, alors que les requêtes sur des données stockées dans la banque de données relationnelle utilisent obligatoirement la sémantique de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="727cd-208">This is because calculations against the cache use the semantics of the xVelocity in-memory analytics (VertiPaq) engine, which contains many features meant to emulate the behavior of Excel, whereas queries against data stored in the relational data store necessarily use the semantics of SQL Server.</span></span> <span data-ttu-id="727cd-209">Pour obtenir la liste des fonctions DAX qui peuvent retourner des résultats différents lorsque le modèle est déployé en temps réel, consultez [compatibilité des formules en mode DirectQuery](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-209">For a list of DAX functions that might return different results when the model is deployed to real-time, see [Formula Compatibility in DirectQuery Mode](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span></span>  
  
###  <a name="connecting-to-directquery-models"></a><a name="bkmk_Connecting"></a><span data-ttu-id="727cd-210">Connexion aux modèles DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-210">Connecting to DirectQuery Models</span></span>  
 <span data-ttu-id="727cd-211">Les clients qui utilisent le langage de requête MDX ne peuvent pas se connecter aux modèles qui utilisent le mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-211">Clients that use MDX as the query language cannot connect to models that use DirectQuery mode.</span></span> <span data-ttu-id="727cd-212">Par exemple, si vous essayez de créer une requête MDX sur un modèle DirectQuery, vous obtiendrez une erreur indiquant que le cube est introuvable, ou n'a pas été traité.</span><span class="sxs-lookup"><span data-stu-id="727cd-212">For example, if you attempt to create an MDX query against a DirectQuery model, you will get an error indicating that the cube cannot be found, or has not been processed.</span></span> <span data-ttu-id="727cd-213">Vous pouvez créer diverses requêtes sur les modèles DirectQuery à l'aide de [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)], de formules DAX ou de requêtes XMLA.</span><span class="sxs-lookup"><span data-stu-id="727cd-213">You can create queries against DirectQuery models by using [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)], DAX formulas, or XMLA queries.</span></span> <span data-ttu-id="727cd-214">Pour plus d'informations sur l'exécution de requêtes ad hoc sur les modèles tabulaires, consultez [Tabular Model Data Access](tabular-model-data-access.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-214">For more information about how you can perform ad hoc queries against tabular models, see [Tabular Model Data Access](tabular-model-data-access.md).</span></span>  
  
 <span data-ttu-id="727cd-215">Si vous utilisez un modèle hybride, vous pouvez spécifier si les utilisateurs se connectent au cache ou utilisent les données de DirectQuery en spécifiant la propriété de chaîne de connexion DirectQueryMode.</span><span class="sxs-lookup"><span data-stu-id="727cd-215">If you are using a hybrid model, you can specify whether users connect to the cache or use DirectQuery data by specifying the connection string property, DirectQueryMode.</span></span>  
  
###  <a name="security-in-directquery-mode"></a><a name="bkmk_Security"></a><span data-ttu-id="727cd-216">Sécurité en mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-216">Security in DirectQuery Mode</span></span>  
 <span data-ttu-id="727cd-217">Pendant le processus de création de modèle, vous spécifiez les autorisations utilisées pour récupérer les données source.</span><span class="sxs-lookup"><span data-stu-id="727cd-217">During model authoring, you specify the permissions that are used to retrieve the source data.</span></span> <span data-ttu-id="727cd-218">Il s'agit souvent de vos propres informations d'identification, ou d'un compte utilisé pour le développement.</span><span class="sxs-lookup"><span data-stu-id="727cd-218">This will often be your own credentials, or an account used for development.</span></span> <span data-ttu-id="727cd-219">Toutefois, lorsque vous basculez le modèle pour qu'il utilise le mode DirectQuery, le contexte de sécurité est plus complexe :</span><span class="sxs-lookup"><span data-stu-id="727cd-219">However, when you switch the model to use DirectQuery mode, the security context is more complex:</span></span>  
  
-   <span data-ttu-id="727cd-220">Déterminez si les utilisateurs disposent du niveau d'accès nécessaire aux données de la banque de données relationnelle.</span><span class="sxs-lookup"><span data-stu-id="727cd-220">Consider whether users have the necessary level of access to the data in the relational data store.</span></span>  
  
-   <span data-ttu-id="727cd-221">Les utilisateurs qui affichent le même modèle ou rapport peuvent voir des données différentes, selon le contexte de sécurité de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="727cd-221">Users who view the same model or report might see different data, depending on the user's security context.</span></span>  
  
-   <span data-ttu-id="727cd-222">Si le cache des modèles a été conservé, il est sécurisé à l'aide du modèle de sécurité (de rôles) [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="727cd-222">If the model cache has been preserved, the cache is secured using the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] security model (roles).</span></span> <span data-ttu-id="727cd-223">Le cache peut contenir des données que le concepteur de modèles est autorisé à consulter contrairement à l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="727cd-223">The cache might contain data that the model designer is privileged to see but the user is not.</span></span> <span data-ttu-id="727cd-224">Les concepteurs de modèles et de rapports doivent effacer le cache, ou sécuriser ces données en contrôlant l'accès par le biais de rôles.</span><span class="sxs-lookup"><span data-stu-id="727cd-224">Model and report designers should either clear the cache, or secure this data by controlling access via roles.</span></span>  
  
-   <span data-ttu-id="727cd-225">Un modèle qui répond aux requêtes du cache ne peut pas emprunter l'identité de l'utilisateur actuel lors de la connexion à la source de données.</span><span class="sxs-lookup"><span data-stu-id="727cd-225">A model that answers queries from the cache cannot impersonate the current user when connecting to the data source.</span></span> <span data-ttu-id="727cd-226">Si vous souhaitez emprunter l'identité de l'utilisateur actuel lors de la connexion à la source de données, vous devez utiliser le mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-226">If you want to impersonate the current user when connecting to the data source, you must use DirectQuery mode.</span></span>  
  
-   <span data-ttu-id="727cd-227">Si votre modèle de rapport nécessite la mise en place d'une sécurité, vous avez deux options : utiliser des rôles [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , ou définir des autorisations au niveau des lignes sur la source de données.</span><span class="sxs-lookup"><span data-stu-id="727cd-227">If your report model requires security, you have two options: you can either use [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] roles, or you can set row-level permissions on the data source.</span></span> <span data-ttu-id="727cd-228">La sécurité dans la source de données relationnelle est utilisée pour contrôler l'accès aux tables, et la sécurité au niveau des colonnes n'est pas prise en charge.</span><span class="sxs-lookup"><span data-stu-id="727cd-228">Security in the relational data source is used to control access to tables, and column-level security is not supported.</span></span> <span data-ttu-id="727cd-229">Par conséquent, si les utilisateurs dans une région n'ont pas l'autorisation d'afficher les chiffres des ventes de différentes régions, un rapport qui comprend une mesure en fonction de la table Sales retourne des espaces ou une erreur.</span><span class="sxs-lookup"><span data-stu-id="727cd-229">Therefore, if users in one region do not have permission to view sales figures from different regions, a report that includes a measure based on the Sales table would return blanks or an error.</span></span>  
  
 <span data-ttu-id="727cd-230">La propriété de paramètres d'emprunt d'identité spécifie les informations d'identification utilisées lorsque vous vous connectez à un modèle à l'aide de DirectQuery, que ce soit pour un modèle DirectQuery uniquement ou pour un modèle hydride répondant aux requêtes à l'aide de DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-230">The impersonation settings property specifies the credentials used when you are connecting to a model using DirectQuery, either for a DirectQuery only model or for a hybrid model answering queries using DirectQuery.</span></span> <span data-ttu-id="727cd-231">La propriété possède les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="727cd-231">The property has the following values:</span></span>  
  
 <span data-ttu-id="727cd-232">**Par défaut**</span><span class="sxs-lookup"><span data-stu-id="727cd-232">**Default**</span></span>  
 <span data-ttu-id="727cd-233">Utilise les informations d'identification spécifiées dans l'Assistant Importation pour se connecter à la source de données.</span><span class="sxs-lookup"><span data-stu-id="727cd-233">Uses the credentials specified in the import wizard to connect to the data source.</span></span> <span data-ttu-id="727cd-234">Il peut s'agir d'un utilisateur Windows spécifique ou du compte de service.</span><span class="sxs-lookup"><span data-stu-id="727cd-234">This can be a specific Windows user or the service account.</span></span>  
  
 `ImpersonateCurrentUser`  
 <span data-ttu-id="727cd-235">Utilise les informations d'identification de l'utilisateur actuel pour se connecter à la source de données.</span><span class="sxs-lookup"><span data-stu-id="727cd-235">Uses the credentials of the current user to connect to the data source.</span></span>  
  
 <span data-ttu-id="727cd-236">Pour plus d’informations sur la définition de ces propriétés, consultez [DirectQuery Deployment scenarios &#40;SSAS tabulaire&#41;](../directquery-deployment-scenarios-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-236">For information on how to set these properties, see [DirectQuery Deployment Scenarios &#40;SSAS Tabular&#41;](../directquery-deployment-scenarios-ssas-tabular.md).</span></span>  
  
##  <a name="directquery-properties"></a><a name="bkmk_PropertyList"></a><span data-ttu-id="727cd-237">Propriétés DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-237">DirectQuery Properties</span></span>  
 <span data-ttu-id="727cd-238">Le tableau suivant répertorie les propriétés que vous pouvez définir dans [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]et dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]pour activer DirectQuery et contrôler la source de données utilisée pour les requêtes sur le modèle.</span><span class="sxs-lookup"><span data-stu-id="727cd-238">The following table lists the properties that you can set in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], and in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], to enable DirectQuery and to control the source of data used for queries against the model.</span></span>  
  
|<span data-ttu-id="727cd-239">Nom de la propriété</span><span class="sxs-lookup"><span data-stu-id="727cd-239">Property name</span></span>|<span data-ttu-id="727cd-240">Description</span><span class="sxs-lookup"><span data-stu-id="727cd-240">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="727cd-241">**Propriété DirectQueryMode**</span><span class="sxs-lookup"><span data-stu-id="727cd-241">**DirectQueryMode property**</span></span>|<span data-ttu-id="727cd-242">Cette propriété permet d'utiliser le mode DirectQuery dans le concepteur de modèles.</span><span class="sxs-lookup"><span data-stu-id="727cd-242">This property enables use of DirectQuery mode in the model designer.</span></span> <span data-ttu-id="727cd-243">Vous devez affecter à cette propriété la valeur `On` pour modifier l'une des autres propriétés DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-243">You must set this property to `On` to change any of the other DirectQuery properties.</span></span><br /><br /> <span data-ttu-id="727cd-244">Pour plus d’informations, consultez [Enable DirectQuery Design mode &#40;SSAS tabulaire&#41;](enable-directquery-mode-in-ssdt.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-244">For more information, see [Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;](enable-directquery-mode-in-ssdt.md).</span></span>|  
|<span data-ttu-id="727cd-245">**Propriété QueryMode**</span><span class="sxs-lookup"><span data-stu-id="727cd-245">**QueryMode property**</span></span>|<span data-ttu-id="727cd-246">Cette propriété indique la méthode de requête par défaut pour un modèle DirectQuery. Vous définissez cette propriété dans le concepteur de modèles lorsque vous déployez le modèle, mais vous pouvez la remplacer par la suite.</span><span class="sxs-lookup"><span data-stu-id="727cd-246">This property specifies the default query method for a DirectQuery model, You set this property in the model designer when you deploy the model, but you can override it later.</span></span> <span data-ttu-id="727cd-247">La propriété possède ces valeurs :</span><span class="sxs-lookup"><span data-stu-id="727cd-247">The property has these values:</span></span><br /><br /> <span data-ttu-id="727cd-248">**DirectQuery** : ce paramètre spécifie que toutes les requêtes au modèle doivent utiliser la source de données relationnelle uniquement.</span><span class="sxs-lookup"><span data-stu-id="727cd-248">**DirectQuery** - This setting specifies all queries to the model should use the relational data source only.</span></span><br /><br /> <span data-ttu-id="727cd-249">**DirectQuery avec In-Memory** : ce paramètre spécifie que, par défaut, il convient de répondre aux requêtes en utilisant la source relationnelle, sauf indication contraire dans la chaîne de connexion du client.</span><span class="sxs-lookup"><span data-stu-id="727cd-249">**DirectQuery with In-Memory** - This setting specifies, by default, queries should be answered by using the relational source, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="727cd-250">**In-Memory** : ce paramètre spécifie qu’il convient de répondre aux requêtes en utilisant seulement le cache.</span><span class="sxs-lookup"><span data-stu-id="727cd-250">**In-Memory** - This setting specifies  queries should be answered by using the cache only.</span></span><br /><br /> <span data-ttu-id="727cd-251">**In-Memory avec DirectQuery** : ce paramètre spécifie que par défaut,</span><span class="sxs-lookup"><span data-stu-id="727cd-251">**In-Memory with DirectQuery** - This setting specifies, by default.</span></span> <span data-ttu-id="727cd-252">il convient de répondre aux requêtes en utilisant le cache, sauf indication contraire dans la chaîne de connexion du client.</span><span class="sxs-lookup"><span data-stu-id="727cd-252">queries should be answered by using the cache, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <br /><br /> <span data-ttu-id="727cd-253">Pour plus d’informations, consultez [Définir ou modifier la méthode de connexion par défaut pour DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-253">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>|  
|<span data-ttu-id="727cd-254">**Propriété DirectQueryMode**</span><span class="sxs-lookup"><span data-stu-id="727cd-254">**DirectQueryMode property**</span></span>|<span data-ttu-id="727cd-255">Une fois le modèle déployé, vous pouvez modifier la source de données de requête par défaut pour un modèle DirectQuery, en modifiant cette propriété dans [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="727cd-255">After the model has been deployed, you can change the preferred query data source for a DirectQuery model, by changing this property in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]</span></span><br /><br /> <span data-ttu-id="727cd-256">Comme la propriété précédente, cette propriété indique la source de données par défaut pour le modèle, et possède les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="727cd-256">Like the previous property, this property specifies the default data source for the model, and has these values:</span></span><br /><br /> <span data-ttu-id="727cd-257">**InMemory**: les requêtes peuvent utiliser le cache uniquement.</span><span class="sxs-lookup"><span data-stu-id="727cd-257">**InMemory**: Queries can use the cache only.</span></span><br /><br /> <span data-ttu-id="727cd-258">**DirectQuerywithInMemory**: les requêtes utilisent la source de données relationnelle par défaut, sauf indication contraire dans la chaîne de connexion du client.</span><span class="sxs-lookup"><span data-stu-id="727cd-258">**DirectQuerywithInMemory**: Queries use the relational data source by default, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="727cd-259">**InMemorywithDirectQuery**: les requêtes utilisent le cache par défaut, sauf indication contraire dans la chaîne de connexion du client.</span><span class="sxs-lookup"><span data-stu-id="727cd-259">**InMemorywithDirectQuery**: Queries use the cache by default, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="727cd-260">(**DirectQuery**: les requêtes utilisent la source de données relationnelle uniquement.</span><span class="sxs-lookup"><span data-stu-id="727cd-260">(**DirectQuery**: Queries use the relational data source only.</span></span><br /><br /> <br /><br /> <span data-ttu-id="727cd-261">Pour plus d’informations, consultez [Définir ou modifier la méthode de connexion par défaut pour DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-261">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>|  
|<span data-ttu-id="727cd-262">**Propriété des paramètres d'emprunt d'identité**</span><span class="sxs-lookup"><span data-stu-id="727cd-262">**Impersonation Settings property**</span></span>|<span data-ttu-id="727cd-263">Cette propriété définit les informations d'identification utilisées pour la connexion à la source de données SQL Server au moment de la requête.</span><span class="sxs-lookup"><span data-stu-id="727cd-263">This property defines the credentials used to connect to the SQL Server data source at query time.</span></span> <span data-ttu-id="727cd-264">Vous pouvez définir cette propriété dans le concepteur de modèles, et vous pouvez modifier la valeur ultérieurement, une fois le modèle déployé.</span><span class="sxs-lookup"><span data-stu-id="727cd-264">You can set this property in the model designer, and you can change the value later, after the model has been deployed.</span></span><br /><br /> <span data-ttu-id="727cd-265">Notez que ces informations d'identification sont utilisées uniquement pour répondre aux requêtes sur la banque de données relationnelle ; elles sont différentes des informations d'identification utilisées pour traiter le cache d'un modèle hybride.</span><span class="sxs-lookup"><span data-stu-id="727cd-265">Note that these credentials are used only for answering queries against the relational data store; they are not the same as the credentials used for processing the cache of a hybrid model.</span></span><br /><br /> <span data-ttu-id="727cd-266">L'emprunt d'identité ne peut pas être utilisé lorsque le modèle est utilisé dans la mémoire uniquement.</span><span class="sxs-lookup"><span data-stu-id="727cd-266">Impersonation cannot be used when the model is used within memory only.</span></span> <span data-ttu-id="727cd-267">La paramètre `ImpersonateCurrentUser` n'est pas valide, sauf si le modèle utilise le mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-267">The setting `ImpersonateCurrentUser`, is invalid unless the model is using DirectQuery mode.</span></span>|  
  
 <span data-ttu-id="727cd-268">En outre, si votre modèle inclut des partitions, vous devez choisir une partition à utiliser comme source pour les requêtes en mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-268">Additionally, if your model includes partitions, you must choose one partition to use as the source for queries in DirectQuery mode.</span></span> <span data-ttu-id="727cd-269">Pour plus d’informations, consultez [partitions et mode DirectQuery &#40;&#41;tabulaire SSAS ](define-partitions-in-directquery-models-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="727cd-269">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](define-partitions-in-directquery-models-ssas-tabular.md).</span></span>  
  
##  <a name="related-topics-and-tasks"></a><a name="bkmk_related_tasks"></a><span data-ttu-id="727cd-270">Rubriques et tâches connexes</span><span class="sxs-lookup"><span data-stu-id="727cd-270">Related Topics and Tasks</span></span>  
  
|<span data-ttu-id="727cd-271">Rubrique</span><span class="sxs-lookup"><span data-stu-id="727cd-271">Topic</span></span>|<span data-ttu-id="727cd-272">Description</span><span class="sxs-lookup"><span data-stu-id="727cd-272">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="727cd-273">Partitions et mode DirectQuery &#40;la&#41;tabulaire SSAS</span><span class="sxs-lookup"><span data-stu-id="727cd-273">Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;</span></span>](define-partitions-in-directquery-models-ssas-tabular.md)|<span data-ttu-id="727cd-274">Décrit la manière dont les partitions sont utilisées dans les modèles configurés pour le mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-274">Describes how partitions are used in models configured for DirectQuery mode.</span></span>|  
|[<span data-ttu-id="727cd-275">Compatibilité des formules DAX en mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-275">DAX Formula Compatibility in DirectQuery Mode</span></span>](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md)|<span data-ttu-id="727cd-276">Décrit les restrictions et les spécifications de compatibilité applicables aux formules que vous pouvez utiliser dans les modèles configurés pour le mode DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-276">Describes restrictions and compatibility requirements on the formulas that you can use in models configured for DirectQuery mode.</span></span>|  
|[<span data-ttu-id="727cd-277">Activer le mode de conception DirectQuery &#40;&#41;SSAS tabulaire</span><span class="sxs-lookup"><span data-stu-id="727cd-277">Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;</span></span>](enable-directquery-mode-in-ssdt.md)|<span data-ttu-id="727cd-278">Explique comment vous pouvez modifier l'environnement au moment de la conception afin qu'il prenne en charge l'utilisation du mode DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-278">Describes how you can change the design-time environment so that it supports using DirectQuery mode</span></span>|  
|[<span data-ttu-id="727cd-279">Modifier la partition DirectQuery &#40;la&#41;tabulaire SSAS</span><span class="sxs-lookup"><span data-stu-id="727cd-279">Change the DirectQuery Partition &#40;SSAS Tabular&#41;</span></span>](../change-the-directquery-partition-ssas-tabular.md)|<span data-ttu-id="727cd-280">Explique comment modifier la partition DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-280">Describes how to change the DirectQuery partition.</span></span>|  
|[<span data-ttu-id="727cd-281">Définir ou modifier la méthode de connexion par défaut pour DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-281">Set or Change the Preferred Connection Method for DirectQuery</span></span>](../set-or-change-the-preferred-connection-method-for-directquery.md)|<span data-ttu-id="727cd-282">Explique comment définir ou modifier la méthode de connexion pour les modèles configurés pour DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-282">Describes how to set or change the connection method for models configured for DirectQuery.</span></span>|  
|[<span data-ttu-id="727cd-283">Scénarios de déploiement de DirectQuery &#40;&#41;SSAS tabulaire</span><span class="sxs-lookup"><span data-stu-id="727cd-283">DirectQuery Deployment Scenarios &#40;SSAS Tabular&#41;</span></span>](../directquery-deployment-scenarios-ssas-tabular.md)|<span data-ttu-id="727cd-284">Décrit les scénarios de déploiement de DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="727cd-284">Describes DirectQuery deployment scenarios.</span></span>|  
|[<span data-ttu-id="727cd-285">Configurer l'accès In-Memory ou DirectQuery pour une base de données model tabulaire</span><span class="sxs-lookup"><span data-stu-id="727cd-285">Configure In-Memory or DirectQuery Access for a Tabular Model Database</span></span>](enable-directquery-mode-in-ssms.md)|<span data-ttu-id="727cd-286">Comprendre les configurations DirectQuery</span><span class="sxs-lookup"><span data-stu-id="727cd-286">Understand DirectQuery configurations</span></span>|  
|[<span data-ttu-id="727cd-287">Effacer les caches Analysis Services</span><span class="sxs-lookup"><span data-stu-id="727cd-287">Clear the Analysis Services Caches</span></span>](../instances/clear-the-analysis-services-caches.md)|<span data-ttu-id="727cd-288">Effacer le cache du modèle tabulaire</span><span class="sxs-lookup"><span data-stu-id="727cd-288">Clear the cache of the tabular model</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="727cd-289">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="727cd-289">See Also</span></span>  
 <span data-ttu-id="727cd-290">[Partitions &#40;&#41;tabulaire SSAS](partitions-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="727cd-290">[Partitions &#40;SSAS Tabular&#41;](partitions-ssas-tabular.md) </span></span>  
 <span data-ttu-id="727cd-291">[Projets de modèles tabulaires &#40;&#41;SSAS tabulaire](tabular-model-projects-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="727cd-291">[Tabular Model Projects &#40;SSAS Tabular&#41;](tabular-model-projects-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="727cd-292">Analyser dans Excel &#40;SSAS Tabulaire&#41;</span><span class="sxs-lookup"><span data-stu-id="727cd-292">Analyze in Excel &#40;SSAS Tabular&#41;</span></span>](analyze-in-excel-ssas-tabular.md)  
