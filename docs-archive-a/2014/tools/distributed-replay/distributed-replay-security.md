---
title: Sécurité Distributed Replay | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
ms.assetid: 7e2e586d-947d-4fe2-86c5-f06200ebf139
author: stevestein
ms.author: sstein
ms.openlocfilehash: 7b05c6bbe3998faa46d56684b77b8d2a4dec4466
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87604772"
---
# <a name="distributed-replay-security"></a><span data-ttu-id="70f0a-102">Sécurité Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="70f0a-102">Distributed Replay Security</span></span>
  <span data-ttu-id="70f0a-103">Avant d’installer et d’utiliser la fonctionnalité [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay, vous devez passer en revue les informations de sécurité importantes de cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="70f0a-103">Before you install and use the [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay feature, you should review the important security information in this topic.</span></span> <span data-ttu-id="70f0a-104">Cette rubrique décrit les étapes de configuration de la sécurité consécutives à l'installation requises pour pouvoir utiliser Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="70f0a-104">This topic describes the post-installation security configuration steps that are required before you can use Distributed Replay.</span></span> <span data-ttu-id="70f0a-105">Elle inclut également des considérations importantes en ce qui concerne la protection des données et les étapes de suppression importantes.</span><span class="sxs-lookup"><span data-stu-id="70f0a-105">This topic also describes important considerations with regard to data protection and important removal steps.</span></span>  
  
## <a name="user-and-service-accounts"></a><span data-ttu-id="70f0a-106">Comptes d'utilisateur et de service</span><span class="sxs-lookup"><span data-stu-id="70f0a-106">User and Service Accounts</span></span>  
 <span data-ttu-id="70f0a-107">Le tableau suivant décrit les comptes utilisés pour Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="70f0a-107">The following table describes the accounts that are used for Distributed Replay.</span></span> <span data-ttu-id="70f0a-108">Après l'installation de Distributed Replay, vous devez affecter les principaux de sécurité qui seront exécutés sous les comptes de service du contrôleur et du client.</span><span class="sxs-lookup"><span data-stu-id="70f0a-108">After the Distributed Replay installation, you must assign the security principals that the controller and client service accounts will run as.</span></span> <span data-ttu-id="70f0a-109">Par conséquent, il est recommandé de configurer les comptes d'utilisateur de domaine correspondants avant d'installer les fonctionnalités de Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="70f0a-109">Therefore, we recommend that you configure the corresponding domain user accounts before you install the Distributed Replay features.</span></span>  
  
|<span data-ttu-id="70f0a-110">Compte d'utilisateur</span><span class="sxs-lookup"><span data-stu-id="70f0a-110">User Account</span></span>|<span data-ttu-id="70f0a-111">Spécifications</span><span class="sxs-lookup"><span data-stu-id="70f0a-111">Requirements</span></span>|  
|------------------|------------------|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="70f0a-112">Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="70f0a-112">Distributed Replay controller service account</span></span>|<span data-ttu-id="70f0a-113">Peut être un compte d'utilisateur de domaine ou un compte d'utilisateur local.</span><span class="sxs-lookup"><span data-stu-id="70f0a-113">Can be a domain user account or local user account.</span></span> <span data-ttu-id="70f0a-114">Si vous utilisez un compte d'utilisateur local, l'outil d'administration, le contrôleur et le client doivent tous s'exécuter sur le même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="70f0a-114">If you use a local user account, the administration tool, controller, and client must all be running on the same computer.</span></span><br /><br /> <span data-ttu-id="70f0a-115">**\*\* Remarque relative à la sécurité \*\*** Il est préférable que le compte ne soit pas membre du groupe Administrateurs local dans Windows.</span><span class="sxs-lookup"><span data-stu-id="70f0a-115">**\*\* Security Note \*\*** We recommend that the account is not a member of the local Administrators group in Windows.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="70f0a-116">Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="70f0a-116">Distributed Replay client service account</span></span>|<span data-ttu-id="70f0a-117">Peut être un compte d'utilisateur de domaine ou un compte d'utilisateur local.</span><span class="sxs-lookup"><span data-stu-id="70f0a-117">Can be a domain user account or local user account.</span></span> <span data-ttu-id="70f0a-118">Si vous utilisez un compte d'utilisateur local, le contrôleur, le clien, et la cible SQL Server doivent tous exécuter sur le même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="70f0a-118">If you use a local user account, the controller, client, and target SQL Server must all be running on the same computer.</span></span><br /><br /> <span data-ttu-id="70f0a-119">**\*\* Remarque relative à la sécurité \*\*** Il est préférable que le compte ne soit pas membre du groupe Administrateurs local dans Windows.</span><span class="sxs-lookup"><span data-stu-id="70f0a-119">**\*\* Security Note \*\*** We recommend that the account is not a member of the local Administrators group in Windows.</span></span>|  
|<span data-ttu-id="70f0a-120">Compte d'utilisateur interactif qui est utilisé pour exécuter l'outil d'administration de Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="70f0a-120">Interactive user account that is used to run the Distributed Replay administration tool</span></span>|<span data-ttu-id="70f0a-121">Peut être un utilisateur local ou un compte d'utilisateur de domaine.</span><span class="sxs-lookup"><span data-stu-id="70f0a-121">Can be either a local user or a domain user account.</span></span> <span data-ttu-id="70f0a-122">Pour utiliser un compte d'utilisateur local, l'outil d'administration et le contrôleur doivent s'exécuter sur le même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="70f0a-122">To use a local user account, the administration tool and controller must be running on the same computer.</span></span>|  
  
 <span data-ttu-id="70f0a-123">**Important !** lorsque vous configurez le contrôleur Distributed Replay, vous pouvez spécifier un ou plusieurs comptes d'utilisateurs qui seront utilisés pour exécuter les services client Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="70f0a-123">**Important**: When you configure Distributed Replay controller, you can specify one or more user accounts that will be used to run the Distributed Replay client services.</span></span> <span data-ttu-id="70f0a-124">Vous trouverez ci-dessous la liste des comptes pris en charge :</span><span class="sxs-lookup"><span data-stu-id="70f0a-124">The following is the list of supported accounts:</span></span>  
  
-   <span data-ttu-id="70f0a-125">Compte d’utilisateur de domaine</span><span class="sxs-lookup"><span data-stu-id="70f0a-125">Domain user account</span></span>  
  
-   <span data-ttu-id="70f0a-126">Compte d'utilisateur local créé par l'utilisateur</span><span class="sxs-lookup"><span data-stu-id="70f0a-126">User created local user account</span></span>  
  
-   <span data-ttu-id="70f0a-127">Administrateur</span><span class="sxs-lookup"><span data-stu-id="70f0a-127">Administrator</span></span>  
  
-   <span data-ttu-id="70f0a-128">Compte virtuel et Compte de service administré (MSA)</span><span class="sxs-lookup"><span data-stu-id="70f0a-128">Virtual account and MSA (Managed Service Account)</span></span>  
  
-   <span data-ttu-id="70f0a-129">Services réseau, Services locaux et Système</span><span class="sxs-lookup"><span data-stu-id="70f0a-129">Network Services, Local Services, and System</span></span>  
  
 <span data-ttu-id="70f0a-130">Les comptes de groupe (locaux ou de domaine) et autres comptes intégrés (comme Tout le monde) ne sont pas acceptés.</span><span class="sxs-lookup"><span data-stu-id="70f0a-130">Group accounts (local or domain) and other built-in accounts (like Everyone) are not accepted.</span></span>  
  
 <span data-ttu-id="70f0a-131">Pour définir les comptes de service ou les mots de passe après avoir installé Distributed Replay, vous pouvez utiliser l'outil Services Windows.</span><span class="sxs-lookup"><span data-stu-id="70f0a-131">To set the service accounts or their passwords after you install Distributed Replay, you can use the Windows Services tool.</span></span> <span data-ttu-id="70f0a-132">Pour modifier les comptes de service associés aux services Distributed Replay du contrôleur ou du client, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="70f0a-132">To change the service accounts associated with the Distributed Replay controller or client services, follow these steps:</span></span>  
  
1.  <span data-ttu-id="70f0a-133">Effectuez l'une des procédures suivantes, en fonction de votre système d'exploitation :</span><span class="sxs-lookup"><span data-stu-id="70f0a-133">Do either of the following, depending on the operating system:</span></span>  
  
    -   <span data-ttu-id="70f0a-134">Cliquez sur **Démarrer**, tapez `services.msc` dans la zone de **recherche** , puis appuyez sur entrée.</span><span class="sxs-lookup"><span data-stu-id="70f0a-134">Click **Start**, type `services.msc` in the **Search** box, and then press ENTER.</span></span>  
  
    -   <span data-ttu-id="70f0a-135">Cliquez sur **Démarrer**, sur **exécuter**, tapez `services.msc` , puis appuyez sur entrée.</span><span class="sxs-lookup"><span data-stu-id="70f0a-135">Click **Start**, click **Run**, type `services.msc`, and then press ENTER.</span></span>  
  
2.  <span data-ttu-id="70f0a-136">Dans la boîte de dialogue **Services** , cliquez avec le bouton droit sur le service à configurer, puis cliquez sur **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="70f0a-136">In the **Services** dialog box, right-click the service that you want to configure, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="70f0a-137">Sur l'onglet **Ouvrir une session** , cliquez sur **Ce compte**.</span><span class="sxs-lookup"><span data-stu-id="70f0a-137">On the **Log On** tab, click **This account**.</span></span>  
  
4.  <span data-ttu-id="70f0a-138">Configurer le compte d'utilisateur que vous souhaitez utiliser.</span><span class="sxs-lookup"><span data-stu-id="70f0a-138">Configure the user account that you want to use.</span></span>  
  
## <a name="file-and-folder-permissions"></a><span data-ttu-id="70f0a-139">Autorisations de fichier et de dossier</span><span class="sxs-lookup"><span data-stu-id="70f0a-139">File and Folder Permissions</span></span>  
 <span data-ttu-id="70f0a-140">Une fois que les comptes de service ont été spécifiés, vous devez leur accorder les autorisations de fichier et de dossier nécessaires.</span><span class="sxs-lookup"><span data-stu-id="70f0a-140">After the service accounts have been specified, you must grant the necessary file and folder permissions to those service accounts.</span></span> <span data-ttu-id="70f0a-141">Configurez les autorisations de fichiers et de dossiers conformément au tableau suivant :</span><span class="sxs-lookup"><span data-stu-id="70f0a-141">Configure file and folder permissions according to the following table:</span></span>  
  
|<span data-ttu-id="70f0a-142">Compte</span><span class="sxs-lookup"><span data-stu-id="70f0a-142">Account</span></span>|<span data-ttu-id="70f0a-143">Autorisations d'accès au dossier</span><span class="sxs-lookup"><span data-stu-id="70f0a-143">Folder Permissions</span></span>|  
|-------------|------------------------|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="70f0a-144">Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="70f0a-144">Distributed Replay controller service account</span></span>|<span data-ttu-id="70f0a-145">`<Controller_Installation_Path>\DReplayController` (lecture, écriture, suppression)</span><span class="sxs-lookup"><span data-stu-id="70f0a-145">`<Controller_Installation_Path>\DReplayController` (Read, Write, Delete)</span></span><br /><br /> <span data-ttu-id="70f0a-146">`DReplayServer.xml` fichier (lecture, écriture)</span><span class="sxs-lookup"><span data-stu-id="70f0a-146">`DReplayServer.xml` file (Read, Write)</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="70f0a-147">Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="70f0a-147">Distributed Replay client service account</span></span>|<span data-ttu-id="70f0a-148">`<Client_Installation_Path>\DReplayClient` (lecture, écriture, suppression)</span><span class="sxs-lookup"><span data-stu-id="70f0a-148">`<Client_Installation_Path>\DReplayClient` (Read, Write, Delete)</span></span><br /><br /> <span data-ttu-id="70f0a-149">`DReplayClient.xml` fichier (lecture, écriture)</span><span class="sxs-lookup"><span data-stu-id="70f0a-149">`DReplayClient.xml` file (Read, Write)</span></span><br /><br /> <span data-ttu-id="70f0a-150">Répertoires d'exécution et de résultat, comme spécifié dans le fichier de configuration du client par les éléments `WorkingDirectory` et `ResultDirectory` , respectivement.</span><span class="sxs-lookup"><span data-stu-id="70f0a-150">The working and result directories, as specified in the client configuration file by the `WorkingDirectory` and `ResultDirectory` elements, respectively.</span></span> <span data-ttu-id="70f0a-151">(Lecture, écriture)</span><span class="sxs-lookup"><span data-stu-id="70f0a-151">(Read, Write)</span></span>|  
  
## <a name="dcom-permissions"></a><span data-ttu-id="70f0a-152">Autorisations DCOM</span><span class="sxs-lookup"><span data-stu-id="70f0a-152">DCOM Permissions</span></span>  
 <span data-ttu-id="70f0a-153">DCOM est utilisé pour la communication d'appel de procédure distante (RPC) entre le contrôleur et l'outil d'administration, et entre le contrôleur et tous les clients.</span><span class="sxs-lookup"><span data-stu-id="70f0a-153">DCOM is used for remote procedure call (RPC) communication between the controller and the administration tool, and between the controller and all clients.</span></span> <span data-ttu-id="70f0a-154">Vous devez configurer les autorisations DCOM au niveau de l'ordinateur et spécifiques à l'application sur le contrôleur une fois que les fonctionnalités Distributed Replay ont été installées.</span><span class="sxs-lookup"><span data-stu-id="70f0a-154">You must configure computer-wide and application-specific DCOM permissions on the controller after the Distributed Replay features have been installed.</span></span>  
  
 <span data-ttu-id="70f0a-155">Procédez comme suit pour configurer les autorisations DCOM du contrôleur :</span><span class="sxs-lookup"><span data-stu-id="70f0a-155">To configure the controller DCOM permissions, follow these steps:</span></span>  
  
1.  <span data-ttu-id="70f0a-156">**Ouvrez dcomcnfg.exe, le composant logiciel enfichable des services de composants** : C’est l’outil utilisé pour configurer les autorisations DCOM.</span><span class="sxs-lookup"><span data-stu-id="70f0a-156">**Open dcomcnfg.exe, the Component Services snap-in**: This is the tool that is used to configure DCOM permissions.</span></span>  
  
    1.  <span data-ttu-id="70f0a-157">Sur l'ordinateur du contrôleur, cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="70f0a-157">On the controller computer, click **Start**.</span></span>  
  
    2.  <span data-ttu-id="70f0a-158">Tapez `dcomcnfg.exe` dans la zone de **recherche** .</span><span class="sxs-lookup"><span data-stu-id="70f0a-158">Type `dcomcnfg.exe` in the **Search** box.</span></span>  
  
    3.  <span data-ttu-id="70f0a-159">Appuyez sur Entrée.</span><span class="sxs-lookup"><span data-stu-id="70f0a-159">Press ENTER.</span></span>  
  
2.  <span data-ttu-id="70f0a-160">**Configurez les autorisations DCOM au niveau de l’ordinateur** : accordez les autorisations DCOM au niveau de l’ordinateur pour chaque compte répertorié dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="70f0a-160">**Configure computer-wide DCOM permissions**: Grant the corresponding computer-wide DCOM permissions for each account listed in the following table.</span></span> <span data-ttu-id="70f0a-161">Pour plus d’informations sur la définition des autorisations au niveau de l’ordinateur, consultez [Liste de vérification : gérer des applications DCOM](https://go.microsoft.com/fwlink/?LinkId=185842).</span><span class="sxs-lookup"><span data-stu-id="70f0a-161">For more information about how to set computer-wide permissions, see [Checklist: Manage DCOM Applications](https://go.microsoft.com/fwlink/?LinkId=185842).</span></span>  
  
3.  <span data-ttu-id="70f0a-162">**Configurer les autorisations DCOM spécifiques à l’application** : accordez les autorisations DCOM au spécifiques à l’application pour chaque compte répertorié dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="70f0a-162">**Configure application-specific DCOM permissions**: Grant the corresponding application-specific DCOM permissions for each account listed in the following table.</span></span> <span data-ttu-id="70f0a-163">Le nom d'application DCOM pour le service du contrôleur est **DReplayController**.</span><span class="sxs-lookup"><span data-stu-id="70f0a-163">The DCOM application name for the controller service is **DReplayController**.</span></span> <span data-ttu-id="70f0a-164">Pour plus d’informations sur la définition des autorisations spécifiques à l’application, consultez [Liste de vérification : gérer des applications DCOM](https://go.microsoft.com/fwlink/?LinkId=185842).</span><span class="sxs-lookup"><span data-stu-id="70f0a-164">For more information about how to set application-specific permissions, see [Checklist: Manage DCOM Applications](https://go.microsoft.com/fwlink/?LinkId=185842).</span></span>  
  
 <span data-ttu-id="70f0a-165">Le tableau suivant décrit les autorisations DCOM requises pour le compte d'utilisateur interactif de l'outil d'administration et les comptes de service du client :</span><span class="sxs-lookup"><span data-stu-id="70f0a-165">The following table describes which DCOM permissions are required for the administration tool interactive user account and the client service accounts:</span></span>  
  
|<span data-ttu-id="70f0a-166">Fonctionnalité</span><span class="sxs-lookup"><span data-stu-id="70f0a-166">Feature</span></span>|<span data-ttu-id="70f0a-167">Compte</span><span class="sxs-lookup"><span data-stu-id="70f0a-167">Account</span></span>|<span data-ttu-id="70f0a-168">Autorisations DCOM requises sur le contrôleur</span><span class="sxs-lookup"><span data-stu-id="70f0a-168">Required DCOM Permissions on Controller</span></span>|  
|-------------|-------------|---------------------------------------------|  
|<span data-ttu-id="70f0a-169">Outil d'administration Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="70f0a-169">Distributed Replay administration tool</span></span>|<span data-ttu-id="70f0a-170">Compte d'utilisateur interactif</span><span class="sxs-lookup"><span data-stu-id="70f0a-170">The interactive user account</span></span>|<span data-ttu-id="70f0a-171">Accès local</span><span class="sxs-lookup"><span data-stu-id="70f0a-171">Local Access</span></span><br /><br /> <span data-ttu-id="70f0a-172">Accès à distance</span><span class="sxs-lookup"><span data-stu-id="70f0a-172">Remote Access</span></span><br /><br /> <span data-ttu-id="70f0a-173">Lancement local</span><span class="sxs-lookup"><span data-stu-id="70f0a-173">Local Launch</span></span><br /><br /> <span data-ttu-id="70f0a-174">Lancement distant</span><span class="sxs-lookup"><span data-stu-id="70f0a-174">Remote Launch</span></span><br /><br /> <span data-ttu-id="70f0a-175">Activation locale</span><span class="sxs-lookup"><span data-stu-id="70f0a-175">Local Activation</span></span><br /><br /> <span data-ttu-id="70f0a-176">Activation distante</span><span class="sxs-lookup"><span data-stu-id="70f0a-176">Remote Activation</span></span>|  
|<span data-ttu-id="70f0a-177">Distributed Replay Client</span><span class="sxs-lookup"><span data-stu-id="70f0a-177">Distributed Replay client</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="70f0a-178">Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="70f0a-178">Distributed Replay client service account</span></span>|<span data-ttu-id="70f0a-179">Accès local</span><span class="sxs-lookup"><span data-stu-id="70f0a-179">Local Access</span></span><br /><br /> <span data-ttu-id="70f0a-180">Accès à distance</span><span class="sxs-lookup"><span data-stu-id="70f0a-180">Remote Access</span></span><br /><br /> <span data-ttu-id="70f0a-181">Lancement local</span><span class="sxs-lookup"><span data-stu-id="70f0a-181">Local Launch</span></span><br /><br /> <span data-ttu-id="70f0a-182">Lancement distant</span><span class="sxs-lookup"><span data-stu-id="70f0a-182">Remote Launch</span></span><br /><br /> <span data-ttu-id="70f0a-183">Activation locale</span><span class="sxs-lookup"><span data-stu-id="70f0a-183">Local Activation</span></span><br /><br /> <span data-ttu-id="70f0a-184">Activation distante</span><span class="sxs-lookup"><span data-stu-id="70f0a-184">Remote Activation</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="70f0a-185">Pour protéger le système contre les requêtes malveillantes ou les attaques par déni de service, veillez à d'utiliser uniquement un compte d'utilisateur approuvé pour le compte de service du client.</span><span class="sxs-lookup"><span data-stu-id="70f0a-185">To help protect against malicious queries or denial of service attacks, make sure that you only use a trusted user account for the client service account.</span></span> <span data-ttu-id="70f0a-186">Ce compte pourra se connecter et relire les charges de travail sur l'instance cible de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="70f0a-186">This account will be able to connect and replay workloads against the target instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="sql-server-permissions"></a><span data-ttu-id="70f0a-187">Autorisations SQL Server</span><span class="sxs-lookup"><span data-stu-id="70f0a-187">SQL Server Permissions</span></span>  
 <span data-ttu-id="70f0a-188">Les comptes de service du client [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay sont utilisés pour la connexion à l'instance cible de la charge de travail de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="70f0a-188">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay client service accounts are used to connect to the workload's target instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="70f0a-189">Seul le mode d'authentification Windows est pris en charge pour ces connexions.</span><span class="sxs-lookup"><span data-stu-id="70f0a-189">Only Windows Authentication mode is supported for these connections.</span></span>  
  
 <span data-ttu-id="70f0a-190">Après avoir installé le service client [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay sur un ensemble d’ordinateurs, le principal de sécurité utilisé pour ces comptes de service doit recevoir le rôle de serveur sysadmin sur l’instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sur laquelle vous avez l’intention de relire la charge de travail de la trace.</span><span class="sxs-lookup"><span data-stu-id="70f0a-190">After you install the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay client service on a set of computers, the security principal used for those service accounts must be granted the sysadmin server role on the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that you intend to replay the trace workload against.</span></span> <span data-ttu-id="70f0a-191">Cette étape n'est pas effectuée automatiquement pendant l'installation de Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="70f0a-191">This step is not performed automatically during Distributed Replay Setup.</span></span>  
  
## <a name="data-protection"></a><span data-ttu-id="70f0a-192">Protection des données</span><span class="sxs-lookup"><span data-stu-id="70f0a-192">Data Protection</span></span>  
 <span data-ttu-id="70f0a-193">Dans l'environnement Distributed Replay, les comptes d'utilisateur suivants ont entièrement accès à l'instance de serveur cible de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], aux données de trace d'entrée et aux fichiers de trace de résultats :</span><span class="sxs-lookup"><span data-stu-id="70f0a-193">In the Distributed Replay environment, the following user accounts are granted full access to the target server instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the input trace data and result trace files:</span></span>  
  
-   <span data-ttu-id="70f0a-194">Compte d'utilisateur interactif qui est utilisé pour exécuter l'outil d'administration.</span><span class="sxs-lookup"><span data-stu-id="70f0a-194">The interactive user account that is used to run the administration tool.</span></span>  
  
-   <span data-ttu-id="70f0a-195">Compte de service du contrôleur.</span><span class="sxs-lookup"><span data-stu-id="70f0a-195">The controller service account.</span></span>  
  
-   <span data-ttu-id="70f0a-196">Compte de service du client.</span><span class="sxs-lookup"><span data-stu-id="70f0a-196">The client service account.</span></span>  
  
-   <span data-ttu-id="70f0a-197">Membres du groupe Administrateurs local sur le contrôleur.</span><span class="sxs-lookup"><span data-stu-id="70f0a-197">Members of the local Administrators group on the controller.</span></span>  
  
-   <span data-ttu-id="70f0a-198">Membres du groupe Administrateurs local sur les clients.</span><span class="sxs-lookup"><span data-stu-id="70f0a-198">Members of the local Administrators group on the clients.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="70f0a-199">Ces comptes ont entièrement accès à toutes les informations d'identification personnelle (PII) ou informations sensibles contenues dans la trace, l'intermédiaire, la distribution ou les fichiers de données de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilisés par Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="70f0a-199">These accounts have full access to any personally identifiable information (PII) or sensitive information that is contained in the trace, intermediate, dispatch, or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data files that were used by Distributed Replay.</span></span>  
  
 <span data-ttu-id="70f0a-200">Nous vous recommandons d'appliquer les précautions de sécurité suivantes :</span><span class="sxs-lookup"><span data-stu-id="70f0a-200">We recommend that you take the following security precautions:</span></span>  
  
-   <span data-ttu-id="70f0a-201">Stockez les données de la trace d'entrée, les résultats de la trace de sortie et les fichiers de base de données dans un emplacement qui utilise le système de fichiers NTFS et appliquez les listes de contrôle d'accès (ACL) appropriées.</span><span class="sxs-lookup"><span data-stu-id="70f0a-201">Store the input trace data, output trace results, and database files in a location that uses the NTFS file system (NTFS), and apply the appropriate access control lists (ACLs).</span></span> <span data-ttu-id="70f0a-202">Si nécessaire, chiffrez les données stockées sur l'ordinateur [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="70f0a-202">If it is needed, encrypt the data that is stored on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] computer.</span></span> <span data-ttu-id="70f0a-203">Sachez que les listes de contrôle d'accès (ACL) ne sont pas appliquées aux fichiers de trace, et qu'il n'y a pas de masque de données ni de codage.</span><span class="sxs-lookup"><span data-stu-id="70f0a-203">Be aware that ACLs are not applied to the trace files and there is no data masking or obfuscation.</span></span> <span data-ttu-id="70f0a-204">Vous devez supprimer ces fichiers rapidement après utilisation.</span><span class="sxs-lookup"><span data-stu-id="70f0a-204">You should delete these files quickly after use.</span></span>  
  
-   <span data-ttu-id="70f0a-205">Appliquez les listes de contrôle d'accès et la stratégie de rétention appropriées à tous les fichiers intermédiaires et de distribution générés par Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="70f0a-205">Apply the appropriate ACLs and retention policy to all intermediate and dispatch files that are generated by Distributed Replay.</span></span>  
  
-   <span data-ttu-id="70f0a-206">Utilisez SSL (Secure Sockets Layer) pour sécuriser le transport réseau.</span><span class="sxs-lookup"><span data-stu-id="70f0a-206">Use Secure Sockets Layer (SSL) to help secure the network transport.</span></span>  
  
## <a name="important-removal-steps"></a><span data-ttu-id="70f0a-207">Étapes de suppression importantes</span><span class="sxs-lookup"><span data-stu-id="70f0a-207">Important Removal Steps</span></span>  
 <span data-ttu-id="70f0a-208">Nous vous recommandons d'utiliser Distributed Replay uniquement dans un environnement de test.</span><span class="sxs-lookup"><span data-stu-id="70f0a-208">We recommend that you only use Distributed Replay in a test environment.</span></span> <span data-ttu-id="70f0a-209">Après avoir terminé le test, et avant de mettre en service ces ordinateurs pour une tâche différente, assurez-vous de procéder comme suit :</span><span class="sxs-lookup"><span data-stu-id="70f0a-209">After you have completed testing, and before you provision those computers for a different task, make sure that you do the following:</span></span>  
  
-   <span data-ttu-id="70f0a-210">Désinstallez les fonctionnalités Distributed Replay et supprimez les fichiers de configuration associés du contrôleur et de tous les clients.</span><span class="sxs-lookup"><span data-stu-id="70f0a-210">Uninstall the Distributed Replay features and remove the related configuration files from the controller and all clients.</span></span>  
  
-   <span data-ttu-id="70f0a-211">Supprimez tous les fichiers de trace, intermédiaires, de distribution et de base de données [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilisés pour le test.</span><span class="sxs-lookup"><span data-stu-id="70f0a-211">Delete any trace, intermediate, dispatch, and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database files that were used for testing.</span></span> <span data-ttu-id="70f0a-212">Les fichiers intermédiaires et de distribution sont stockés dans le répertoire de travail sur le contrôleur et le client, respectivement.</span><span class="sxs-lookup"><span data-stu-id="70f0a-212">The intermediate and dispatch files are stored in the working directory on the controller and client, respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="70f0a-213">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="70f0a-213">See Also</span></span>  
 <span data-ttu-id="70f0a-214">[SQL Server Distributed Replay](sql-server-distributed-replay.md) </span><span class="sxs-lookup"><span data-stu-id="70f0a-214">[SQL Server Distributed Replay](sql-server-distributed-replay.md) </span></span>  
 [<span data-ttu-id="70f0a-215">Installer Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="70f0a-215">Install Distributed Replay</span></span>](install-distributed-replay-overview.md)  
  
  
