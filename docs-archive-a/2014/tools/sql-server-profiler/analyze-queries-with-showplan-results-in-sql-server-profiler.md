---
title: Analyser des requêtes avec des résultats SHOWPLAN dans SQL Server Profiler | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: profiler
ms.topic: conceptual
helpviewer_keywords:
- events [SQL Server], Showplan
- Profiler [SQL Server Profiler], Showplan results
- SQL Server Profiler, Showplan results
ms.assetid: 6a2f7727-141c-4f59-8613-2e452bc78467
author: stevestein
ms.author: sstein
ms.openlocfilehash: 2ada8b565a307bf636e06c7b5acb5fd4da5f30df
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87694968"
---
# <a name="analyze-queries-with-showplan-results-in-sql-server-profiler"></a><span data-ttu-id="649c8-102">Analyser des requêtes avec des résultats SHOWPLAN dans SQL Server Profiler</span><span class="sxs-lookup"><span data-stu-id="649c8-102">Analyze Queries with SHOWPLAN Results in SQL Server Profiler</span></span>
  <span data-ttu-id="649c8-103">Vous pouvez ajouter des classes d'événements Showplan à une définition de trace afin que [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] rassemble et affiche les informations de plan de requête dans la trace.</span><span class="sxs-lookup"><span data-stu-id="649c8-103">You can add Showplan event classes to a trace definition that cause [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] to gather and display query plan information in the trace.</span></span> <span data-ttu-id="649c8-104">Vous pouvez également extraire les événements Showplan des autres événements collectés dans la trace et les enregistrer dans un fichier XML distinct.</span><span class="sxs-lookup"><span data-stu-id="649c8-104">It is also possible to extract Showplan events from the other events collected in the trace and to save these Showplan events in a separate XML file.</span></span>  
  
 <span data-ttu-id="649c8-105">Chacune des procédures suivantes permet d'extraire les événements Showplan de la trace :</span><span class="sxs-lookup"><span data-stu-id="649c8-105">Extracting Showplan events from the trace can be done in any of the following ways:</span></span>  
  
-   <span data-ttu-id="649c8-106">Au moment de la configuration de la trace, à l’aide de l’onglet **Paramètres d’extraction des événements** . Notez que cet onglet n’apparaît pas tant que vous n’avez pas sélectionné l’un des événements Showplan sous l’onglet **Sélection des événements** .</span><span class="sxs-lookup"><span data-stu-id="649c8-106">At trace configuration time, using the **Events Extraction Settings** tab. Note that this tab does not appear until you select a one of the Showplan events on the **Events Selection** tab.</span></span>  
  
-   <span data-ttu-id="649c8-107">À l’aide de l’option **Extraire les événements SQL Server** du menu **Fichier** .</span><span class="sxs-lookup"><span data-stu-id="649c8-107">Using the **Extract SQL Server Events** option on the **File** menu.</span></span>  
  
-   <span data-ttu-id="649c8-108">En extrayant et en enregistrant un événement donné en cliquant avec le bouton droit dessus et en choisissant **Extraire les données d’événement**.</span><span class="sxs-lookup"><span data-stu-id="649c8-108">By extracting and saving individual events by right-clicking a specific event and choosing **Extract Event Data**.</span></span>  
  
## <a name="showplan-events"></a><span data-ttu-id="649c8-109">Événements Showplan</span><span class="sxs-lookup"><span data-stu-id="649c8-109">Showplan Events</span></span>  
 <span data-ttu-id="649c8-110">Le tableau suivant répertorie et décrit les événements de trace Showplan.</span><span class="sxs-lookup"><span data-stu-id="649c8-110">The Showplan trace events are listed and described in the following table.</span></span>  
  
|<span data-ttu-id="649c8-111">Nom d'événement</span><span class="sxs-lookup"><span data-stu-id="649c8-111">Event name</span></span>|<span data-ttu-id="649c8-112">Description</span><span class="sxs-lookup"><span data-stu-id="649c8-112">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="649c8-113">**Performance statistics**</span><span class="sxs-lookup"><span data-stu-id="649c8-113">**Performance statistics**</span></span>|<span data-ttu-id="649c8-114">Indique la première mise en cache d'un plan d'exécution compilé, à quel moment il est recompilé et à quel moment il est supprimé de la mémoire cache de plans.</span><span class="sxs-lookup"><span data-stu-id="649c8-114">Indicates the first time a compiled Showplan is cached, when it is recompiled, and when it is dropped from the plan cache.</span></span> <span data-ttu-id="649c8-115">La colonne **TextData** contient le plan d’exécution au format XML.</span><span class="sxs-lookup"><span data-stu-id="649c8-115">The **TextData** column contains the Showplan in XML format.</span></span> <span data-ttu-id="649c8-116">Pour plus d’informations, consultez [Classe d’événements Performance Statistics](../../relational-databases/event-classes/performance-statistics-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="649c8-116">For more information, see [Performance Statistics Event Class](../../relational-databases/event-classes/performance-statistics-event-class.md).</span></span>|  
|<span data-ttu-id="649c8-117">**Showplan All**</span><span class="sxs-lookup"><span data-stu-id="649c8-117">**Showplan All**</span></span>|<span data-ttu-id="649c8-118">Affiche le plan de requête avec le détail complet des informations de compilation de l'instruction [!INCLUDE[tsql](../../includes/tsql-md.md)] exécutée.</span><span class="sxs-lookup"><span data-stu-id="649c8-118">Displays the query plan with full compilation details of the executed [!INCLUDE[tsql](../../includes/tsql-md.md)] statement.</span></span> <span data-ttu-id="649c8-119">Par exemple, il peut afficher des estimations de coût et des listes de colonnes.</span><span class="sxs-lookup"><span data-stu-id="649c8-119">For example, it might display costing estimates and column lists.</span></span> <span data-ttu-id="649c8-120">Pour plus d’informations, consultez [Classe d’événements Showplan All](../../relational-databases/event-classes/showplan-all-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="649c8-120">For more information, see [Showplan All Event Class](../../relational-databases/event-classes/showplan-all-event-class.md).</span></span>|  
|<span data-ttu-id="649c8-121">**Showplan All For Query Compile**</span><span class="sxs-lookup"><span data-stu-id="649c8-121">**Showplan All For Query Compile**</span></span>|<span data-ttu-id="649c8-122">Générée lorsqu'une requête est compilée ou recompilée sur [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="649c8-122">Occurs when a query is compiled or recompiled on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="649c8-123">Il s’agit de l’équivalent de compilation de l’événement **Showplan All** .</span><span class="sxs-lookup"><span data-stu-id="649c8-123">This is the compile time counterpart of the **Showplan All** event.</span></span> <span data-ttu-id="649c8-124">**Showplan All** est générée lors de l’exécution d’une requête.</span><span class="sxs-lookup"><span data-stu-id="649c8-124">**Showplan All** occurs when a query is executed.</span></span> <span data-ttu-id="649c8-125">**Showplan All For Query Compile** est générée lors de la compilation d’une requête.</span><span class="sxs-lookup"><span data-stu-id="649c8-125">**Showplan All For Query Compile** occurs when a query is compiled.</span></span> <span data-ttu-id="649c8-126">Pour plus d’informations, consultez [Classe d’événements Showplan All for Query Compile](../../relational-databases/event-classes/showplan-all-for-query-compile-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="649c8-126">For more information, see [Showplan All for Query Compile Event Class](../../relational-databases/event-classes/showplan-all-for-query-compile-event-class.md).</span></span>|  
|<span data-ttu-id="649c8-127">**Showplan Statistics Profile**</span><span class="sxs-lookup"><span data-stu-id="649c8-127">**Showplan Statistics Profile**</span></span>|<span data-ttu-id="649c8-128">Affiche le plan de requête avec le détail complet des informations de l'instruction [!INCLUDE[tsql](../../includes/tsql-md.md)] en cours d'exécution, dont le nombre réel de lignes traitées dans chaque opération.</span><span class="sxs-lookup"><span data-stu-id="649c8-128">Displays the query plan with full run-time details of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement being executed, including the actual number of rows passing through each operation.</span></span> <span data-ttu-id="649c8-129">Pour plus d’informations, consultez [Classe d’événements Showplan Statistics Profile](../../relational-databases/event-classes/showplan-statistics-profile-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="649c8-129">For more information, see [Showplan Statistics Profile Event Class](../../relational-databases/event-classes/showplan-statistics-profile-event-class.md).</span></span>|  
|<span data-ttu-id="649c8-130">**Showplan Text**</span><span class="sxs-lookup"><span data-stu-id="649c8-130">**Showplan Text**</span></span>|<span data-ttu-id="649c8-131">Affiche, sous forme de données binaires, l'arborescence du plan de requête de l'instruction [!INCLUDE[tsql](../../includes/tsql-md.md)] en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="649c8-131">Displays as binary data the query plan tree of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement being executed.</span></span> <span data-ttu-id="649c8-132">Pour plus d’informations, consultez [Classe d’événements Showplan Text](../../relational-databases/event-classes/showplan-text-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="649c8-132">For more information, see [Showplan Text Event Class](../../relational-databases/event-classes/showplan-text-event-class.md).</span></span>|  
|<span data-ttu-id="649c8-133">**Showplan Text (non encodée)**</span><span class="sxs-lookup"><span data-stu-id="649c8-133">**Showplan Text (Unencoded)**</span></span>|<span data-ttu-id="649c8-134">Affiche, sous forme de texte, l'arborescence du plan de requête de l'instruction [!INCLUDE[tsql](../../includes/tsql-md.md)] en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="649c8-134">Displays as text the query plan tree of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement being executed.</span></span> <span data-ttu-id="649c8-135">Cette classe d'événements affiche les mêmes informations que la classe Showplan Text, à la différence que celle-ci affiche du texte au lieu de données binaires.</span><span class="sxs-lookup"><span data-stu-id="649c8-135">This event class displays the same information as Showplan Text, except that this event class displays text instead of binary data.</span></span> <span data-ttu-id="649c8-136">Pour plus d’informations, consultez [Classe d’événements Showplan Text &#40;non encodée&#41;](../../relational-databases/event-classes/showplan-text-unencoded-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="649c8-136">For more information, see [Showplan Text &#40;Unencoded&#41; Event Class](../../relational-databases/event-classes/showplan-text-unencoded-event-class.md).</span></span>|  
|<span data-ttu-id="649c8-137">**Showplan XML**</span><span class="sxs-lookup"><span data-stu-id="649c8-137">**Showplan XML**</span></span>|<span data-ttu-id="649c8-138">Affiche le plan de requête avec les données complètes collectées au cours de l'optimisation de la requête.</span><span class="sxs-lookup"><span data-stu-id="649c8-138">Displays the query plan with full data collected during query optimization.</span></span> <span data-ttu-id="649c8-139">Cet événement est généré seulement quand un plan de requête est optimisé.</span><span class="sxs-lookup"><span data-stu-id="649c8-139">This event is generated only when a query plan is optimized.</span></span> <span data-ttu-id="649c8-140">Pour plus d’informations, consultez [Classe d’événements Showplan XML](../../relational-databases/event-classes/showplan-xml-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="649c8-140">For more information, see [Showplan XML Event Class](../../relational-databases/event-classes/showplan-xml-event-class.md).</span></span>|  
|<span data-ttu-id="649c8-141">**Showplan XML For Query Compile**</span><span class="sxs-lookup"><span data-stu-id="649c8-141">**Showplan XML For Query Compile**</span></span>|<span data-ttu-id="649c8-142">Affiche le plan de requête lorsque la requête est compilée.</span><span class="sxs-lookup"><span data-stu-id="649c8-142">Displays the query plan when the query is compiled.</span></span> <span data-ttu-id="649c8-143">Pour plus d’informations, consultez [Classe d’événements Showplan XML for Query Compile](../../relational-databases/event-classes/showplan-xml-for-query-compile-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="649c8-143">For more information, see [Showplan XML for Query Compile Event Class](../../relational-databases/event-classes/showplan-xml-for-query-compile-event-class.md).</span></span>|  
|<span data-ttu-id="649c8-144">**Showplan XML Statistics Profile**</span><span class="sxs-lookup"><span data-stu-id="649c8-144">**Showplan XML Statistics Profile**</span></span>|<span data-ttu-id="649c8-145">Affiche le plan de requête avec le détail complet des informations d'exécution au format XML.</span><span class="sxs-lookup"><span data-stu-id="649c8-145">Displays the query plan with full run-time details in XML format.</span></span> <span data-ttu-id="649c8-146">Par exemple, cette classe d'événements capture le nombre de lignes traitées par chaque opérateur de l'instruction [!INCLUDE[tsql](../../includes/tsql-md.md)] exécutée.</span><span class="sxs-lookup"><span data-stu-id="649c8-146">For example, this event class captures the number of rows passing through each operator of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement that is executed.</span></span> <span data-ttu-id="649c8-147">Pour plus d’informations, consultez [Classe d’événements Showplan XML Statistics Profile](../../relational-databases/event-classes/showplan-xml-statistics-profile-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="649c8-147">For more information, see [Showplan XML Statistics Profile Event Class](../../relational-databases/event-classes/showplan-xml-statistics-profile-event-class.md).</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="649c8-148">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="649c8-148">See Also</span></span>  
 [<span data-ttu-id="649c8-149">Performance, catégorie d’événement</span><span class="sxs-lookup"><span data-stu-id="649c8-149">Performance Event Category</span></span>](../../relational-databases/event-classes/performance-event-category.md)  
  
  
