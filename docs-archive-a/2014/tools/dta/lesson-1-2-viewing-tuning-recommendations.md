---
title: Affichage des recommandations de paramétrage | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- Database Engine [SQL Server], tutorials
ms.assetid: e4e690c9-434f-4b01-b4de-0b905323ddd6
author: stevestein
ms.author: sstein
ms.openlocfilehash: 6d938767d874edd8f14bdaa91c0cf52023478f53
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87703623"
---
# <a name="viewing-tuning-recommendations"></a><span data-ttu-id="02d19-102">Affichage des recommandations pour le paramétrage</span><span class="sxs-lookup"><span data-stu-id="02d19-102">Viewing Tuning Recommendations</span></span>
  <span data-ttu-id="02d19-103"> Cette tâche est basée sur la session de paramétrage que vous avez créée dans [Paramétrage d’une charge de travail](lesson-1-1-tuning-a-workload.md).</span><span class="sxs-lookup"><span data-stu-id="02d19-103">This task uses the tuning session that you created in [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span> <span data-ttu-id="02d19-104">Une fois que vous avez réglé la [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] base de données à l’aide du script MyScript. SQL [!INCLUDE[tsql](../../includes/tsql-md.md)] , l' [!INCLUDE[ssDE](../../includes/ssde-md.md)] Assistant Paramétrage du affiche ses résultats sous l’onglet **recommandations** . La tâche suivante présente l’onglet **recommandations** de l' [!INCLUDE[ssDE](../../includes/ssde-md.md)] interface graphique utilisateur de l’Assistant Paramétrage du et vous guide pour explorer les informations qu’elle fournit sur les résultats de la session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="02d19-104">After you have tuned the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database by using the MyScript.sql [!INCLUDE[tsql](../../includes/tsql-md.md)] script, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor displays its results on the **Recommendations** tab. The following task introduces the **Recommendations** tab of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor graphical user interface (GUI) and guides you to explore the information it provides about the tuning session results.</span></span>  
  
### <a name="view-tuning-recommendations"></a><span data-ttu-id="02d19-105">Afficher les recommandations de paramétrage</span><span class="sxs-lookup"><span data-stu-id="02d19-105">View tuning recommendations</span></span>  
  
1.  <span data-ttu-id="02d19-106">Démarrez l’Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="02d19-106">Start [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor.</span></span> <span data-ttu-id="02d19-107">Consultez [Lancement de l’Assistant Paramétrage du moteur de base de données](../../relational-databases/performance/database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="02d19-107">See [Launching Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span> <span data-ttu-id="02d19-108">Assurez-vous de vous connecter à la même instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que celle utilisée au cours de l’exercice [Paramétrage d’une charge de travail](lesson-1-1-tuning-a-workload.md).</span><span class="sxs-lookup"><span data-stu-id="02d19-108">Make sure that you connect to the same [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance that you used in the practice [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span>  
  
2.  <span data-ttu-id="02d19-109">Double-cliquez sur **MySession** dans le volet **Moniteur de session** .</span><span class="sxs-lookup"><span data-stu-id="02d19-109">Double-click **MySession** in the **Session Monitor** pane.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)]<span data-ttu-id="02d19-110">L’Assistant Paramétrage du charge les informations de session de votre session de paramétrage précédente et affiche l’onglet **recommandations** . Notez que l' [!INCLUDE[ssDE](../../includes/ssde-md.md)] Assistant Paramétrage du n’a pas effectué de **recommandations de partition** , car vous avez accepté toutes les valeurs par défaut de l’option de paramétrage et **aucune partition** n’a été sélectionnée sous l’onglet **options de paramétrage** .</span><span class="sxs-lookup"><span data-stu-id="02d19-110">Tuning Advisor loads the session information from your previous tuning session and displays the **Recommendations** tab. Note that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor made no **Partition Recommendations** because you accepted all the tuning option defaults and **No partitioning** was selected on the **Tuning Options** tab.</span></span>  
  
3.  <span data-ttu-id="02d19-111">Sous l’onglet **Recommandations** , utilisez la barre de défilement en bas de la page à onglet pour afficher toutes les colonnes **Recommandations d’index** .</span><span class="sxs-lookup"><span data-stu-id="02d19-111">On the **Recommendations** tab, use the scroll bar at the bottom of the tabbed page to view all of the **Index Recommendations** columns.</span></span> <span data-ttu-id="02d19-112">Chaque ligne représente un objet de base de données (index ou vues indexées) que l’Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] recommande de supprimer ou de créer.</span><span class="sxs-lookup"><span data-stu-id="02d19-112">Each row represents a database object (indexes or indexed views) that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor recommends be dropped or created.</span></span> <span data-ttu-id="02d19-113">Faites défiler l’écran vers la colonne la plus à droite et sélectionnez une **Définition**.</span><span class="sxs-lookup"><span data-stu-id="02d19-113">Scroll to the right-most column and click a **Definition**.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="02d19-114">L’Assistant Paramétrage du moteur de base de données affiche la fenêtre **Aperçu de script SQL** , dans laquelle vous pouvez voir le script [!INCLUDE[tsql](../../includes/tsql-md.md)] qui permet de créer ou de supprimer l’objet de base de données sur cette ligne.</span><span class="sxs-lookup"><span data-stu-id="02d19-114">Tuning Advisor displays a **SQL Script Preview** window where you can view the [!INCLUDE[tsql](../../includes/tsql-md.md)] script that creates or drops the database object on that row.</span></span> <span data-ttu-id="02d19-115">Cliquez sur **Terminer** pour fermer la fenêtre de prévisualisation.</span><span class="sxs-lookup"><span data-stu-id="02d19-115">Click **Close** to close the preview window.</span></span>  
  
     <span data-ttu-id="02d19-116">Si vous avez du mal à trouver une **Définition** contenant un lien, décochez la case **Afficher les objets existants** en bas de la page à onglet pour diminuer le nombre de lignes affichées.</span><span class="sxs-lookup"><span data-stu-id="02d19-116">If you are having difficulty locating a **Definition** that contains a link, click to clear the **Show existing objects** check box at the bottom of the tabbed page, which will decrease the number of rows displayed.</span></span> <span data-ttu-id="02d19-117">Quand vous décochez cette case, l’Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] affiche uniquement les objets pour lesquels il a émis une recommandation.</span><span class="sxs-lookup"><span data-stu-id="02d19-117">When you clear this checkbox, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor shows you only the objects for which it has generated a recommendation.</span></span> <span data-ttu-id="02d19-118">Cochez la case **Afficher les objets existants** pour visualiser tous les objets de base de données existant dans la base de données [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="02d19-118">Select the **Show existing objects** check box to view all the database objects that currently exist in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="02d19-119">Utilisez la barre de défilement à droite de la page à onglet pour visualiser tous les objets.</span><span class="sxs-lookup"><span data-stu-id="02d19-119">Use the scroll bar at the right side of the tabbed page to view all of the objects.</span></span>  
  
4.  <span data-ttu-id="02d19-120">Cliquez avec le bouton droit dans la grille du volet **Recommandations d’index** .</span><span class="sxs-lookup"><span data-stu-id="02d19-120">Right-click the grid in the **Index Recommendations** pane.</span></span> <span data-ttu-id="02d19-121">Le menu contextuel qui s'affiche permet de sélectionner et de désélectionner des recommandations.</span><span class="sxs-lookup"><span data-stu-id="02d19-121">This right-click menu enables you to select and deselect recommendations.</span></span> <span data-ttu-id="02d19-122">Il permet également de modifier la police du texte de la grille.</span><span class="sxs-lookup"><span data-stu-id="02d19-122">It also enables you to change the font for the grid text.</span></span>  
  
5.  <span data-ttu-id="02d19-123">Dans le menu **Actions** , cliquez sur **Enregistrer les recommandations** pour enregistrer toutes les recommandations dans un seul script [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="02d19-123">On the **Actions** menu, click **Save Recommendations** to save all of the recommendations into one [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="02d19-124">Nommez le script `MySessionRecommendations.sql`.</span><span class="sxs-lookup"><span data-stu-id="02d19-124">Name the script `MySessionRecommendations.sql`.</span></span>  
  
     <span data-ttu-id="02d19-125">Ouvrez le script MySessionRecommendations.sql dans l'Éditeur de requête de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] pour en afficher le contenu.</span><span class="sxs-lookup"><span data-stu-id="02d19-125">Open the MySessionRecommendations.sql script in the Query Editor of [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to view it.</span></span> <span data-ttu-id="02d19-126">Vous pouvez appliquer ces recommandations à la base de données exemple [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] en exécutant le script dans l'Éditeur de requête, mais ne le faites pas.</span><span class="sxs-lookup"><span data-stu-id="02d19-126">You could apply the recommendations to the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database by executing the script in the Query Editor, but do not do this.</span></span> <span data-ttu-id="02d19-127">Fermez le script dans l'Éditeur de requête sans l'exécuter.</span><span class="sxs-lookup"><span data-stu-id="02d19-127">Close the script in Query Editor without running it.</span></span>  
  
     <span data-ttu-id="02d19-128">L’autre méthode pour appliquer les recommandations consiste à cliquer sur **Appliquer les recommandations** dans le menu **Actions** de l’Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] , mais n’appliquez pas ces recommandations maintenant.</span><span class="sxs-lookup"><span data-stu-id="02d19-128">As an alternative, you could also apply the recommendations by clicking **Apply Recommendations** on the **Actions** menu of [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor, but do not apply these recommendations now in this practice.</span></span>  
  
6.  <span data-ttu-id="02d19-129">Si plusieurs recommandations sont fournies sous l’onglet **Recommandations** , supprimez certaines lignes contenant des objets de base de données dans la grille **Recommandations d’index** .</span><span class="sxs-lookup"><span data-stu-id="02d19-129">If more than one recommendation exists on the **Recommendations** tab, clear some of the rows that list database objects in the **Index Recommendations** grid.</span></span>  
  
7.  <span data-ttu-id="02d19-130">Dans le menu **Actions** , cliquez sur **Évaluer les recommandations**.</span><span class="sxs-lookup"><span data-stu-id="02d19-130">On the **Actions** menu, click **Evaluate Recommendations**.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="02d19-131">L'Assistant Paramétrage du moteur de base de données crée une nouvelle session de paramétrage qui permet d'évaluer un sous-ensemble des recommandations d'origine de la session MySession.</span><span class="sxs-lookup"><span data-stu-id="02d19-131">Tuning Advisor creates a new tuning session where you can evaluate a subset of the original recommendations from MySession.</span></span>  
  
8.  <span data-ttu-id="02d19-132">Tapez `EvaluateMySession` le **nom**de votre nouvelle session, puis cliquez sur le bouton **Démarrer l’analyse** dans la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="02d19-132">Type `EvaluateMySession` for your new **Session name**, and click the **Start Analysis** button on the toolbar.</span></span> <span data-ttu-id="02d19-133">Vous pouvez répéter les étapes 2 et 3 pour cette nouvelle session de paramétrage afin d'en visualiser les recommandations.</span><span class="sxs-lookup"><span data-stu-id="02d19-133">You can repeat Steps 2 and 3 for this new tuning session to view its recommendations.</span></span>  
  
## <a name="summary"></a><span data-ttu-id="02d19-134">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="02d19-134">Summary</span></span>  
 <span data-ttu-id="02d19-135">Vous avez affiché le contenu de l’onglet **Recommandations** pour la session de paramétrage MySession et vous avez évalué un sous-ensemble de ces recommandations pour la nouvelle session de paramétrage EvaluateMySession.</span><span class="sxs-lookup"><span data-stu-id="02d19-135">You have viewed the contents of the **Recommendations** tab for the MySession tuning session and evaluated a subset of its recommendations in the new EvaluateMySession tuning session.</span></span>  
  
 <span data-ttu-id="02d19-136">L'évaluation d'un sous-ensemble de recommandations de paramétrage peut s'avérer nécessaire si vous pensez devoir modifier des options de paramétrage après l'exécution d'une session.</span><span class="sxs-lookup"><span data-stu-id="02d19-136">Evaluating a subset of tuning recommendations may be necessary if you find you must change tuning options after you run a session.</span></span> <span data-ttu-id="02d19-137">Cela peut être le cas, par exemple, si vous configurez l’Assistant Paramétrage du [!INCLUDE[ssDE](../../includes/ssde-md.md)] pour qu’il tienne compte des vues indexées quand vous spécifiez des options de paramétrage pour une session, mais décidez après la génération des recommandations de réutiliser les vues indexées.</span><span class="sxs-lookup"><span data-stu-id="02d19-137">For example, if you ask [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor to consider indexed views when you specify tuning options for a session, but after the recommendation is generated you decide against using indexed views.</span></span> <span data-ttu-id="02d19-138">Vous pouvez ensuite utiliser l’option **évaluer les recommandations** du menu **actions** pour que [!INCLUDE[ssDE](../../includes/ssde-md.md)] l’Assistant Paramétrage du réévalue la session sans tenir compte des vues indexées.</span><span class="sxs-lookup"><span data-stu-id="02d19-138">You can then use the **Evaluate Recommendations** option on the **Actions** menu to have [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor re-evaluate the session without considering indexed views.</span></span> <span data-ttu-id="02d19-139">Quand vous utilisez l’option **Évaluer les recommandations** , les recommandations générées sont appliquées hypothétiquement à la structure de création physique courante pour parvenir à la structure de création physique de la deuxième session de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="02d19-139">When you use the **Evaluate Recommendations** option the previously generated recommendations are hypothetically applied to the current physical design to arrive at the physical design for the second tuning session.</span></span>  
  
 <span data-ttu-id="02d19-140">Il est possible de visualiser davantage d’informations sur les résultats du paramétrage sous l’onglet **Rapports** , décrit dans la tâche suivante de la présente leçon.</span><span class="sxs-lookup"><span data-stu-id="02d19-140">More tuning result information can be viewed in the **Reports** tab, which is described in the next task of this lesson.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="02d19-141">Tâche suivante de la leçon</span><span class="sxs-lookup"><span data-stu-id="02d19-141">Next Task in Lesson</span></span>  
 [<span data-ttu-id="02d19-142">Affichage des rapports de paramétrage</span><span class="sxs-lookup"><span data-stu-id="02d19-142">Viewing Tuning Reports</span></span>](lesson-1-3-viewing-tuning-reports.md)  
  
  
