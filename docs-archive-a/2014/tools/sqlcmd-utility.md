---
title: Utilitaire sqlcmd | Microsoft Docs
ms.custom: ''
ms.date: 11/29/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
helpviewer_keywords:
- statements [SQL Server], command prompt
- QUIT command
- Transact-SQL statements, command prompt
- EXIT command
- sqlcmd commands
- ED command
- sqlcmd utility
- command prompt utilities [SQL Server], sqlcmd
- '!! command'
- stored procedures [SQL Server], command prompt
- system stored procedures [SQL Server], command prompt
- sqlcmd utility, about sqlcmd utility
- scripts [SQL Server], command prompt
- RESET command
- GO command
ms.assetid: e1728707-5215-4c04-8320-e36f161b834a
author: stevestein
ms.author: sstein
ms.openlocfilehash: 9fbe5a3dcefb2218543e015dad71acfe79aea8e3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87706920"
---
# <a name="sqlcmd-utility"></a><span data-ttu-id="33f11-102">Utilitaire sqlcmd</span><span class="sxs-lookup"><span data-stu-id="33f11-102">sqlcmd Utility</span></span>
  <span data-ttu-id="33f11-103">L' `sqlcmd` utilitaire vous permet d’entrer [!INCLUDE[tsql](../includes/tsql-md.md)] des instructions, des procédures système et des fichiers de script à l’invite de commandes, dans l' **éditeur de requête** en mode SQLCMD, dans un fichier de script Windows ou dans une étape de travail de système d’exploitation (Cmd.exe) d’un travail de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] l’agent.</span><span class="sxs-lookup"><span data-stu-id="33f11-103">The `sqlcmd` utility lets you enter [!INCLUDE[tsql](../includes/tsql-md.md)] statements, system procedures, and script files at the command prompt, in **Query Editor** in SQLCMD mode, in a Windows script file or in an operating system (Cmd.exe) job step of a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Agent job.</span></span> <span data-ttu-id="33f11-104">Cet utilitaire utilise ODBC pour exécuter des traitements [!INCLUDE[tsql](../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="33f11-104">This utility uses ODBC to execute [!INCLUDE[tsql](../includes/tsql-md.md)] batches.</span></span>  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]<span data-ttu-id="33f11-105">utilise [!INCLUDE[msCoName](../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../includes/dnprdnshort-md.md)] SqlClient pour l’exécution en mode normal et sqlcmd dans l' **éditeur de requête**.</span><span class="sxs-lookup"><span data-stu-id="33f11-105">uses the [!INCLUDE[msCoName](../includes/msconame-md.md)][!INCLUDE[dnprdnshort](../includes/dnprdnshort-md.md)]SqlClient for execution in regular and SQLCMD mode in **Query Editor**.</span></span> <span data-ttu-id="33f11-106">Lorsque `sqlcmd` est exécuté à partir de la ligne de commande, `sqlcmd` utilise le pilote ODBC.</span><span class="sxs-lookup"><span data-stu-id="33f11-106">When `sqlcmd` is run from the command line, `sqlcmd` uses the ODBC driver.</span></span> <span data-ttu-id="33f11-107">Dans la mesure où différentes options par défaut peuvent s'appliquer, vous pouvez constater un comportement différent lorsque vous exécutez la même requête dans [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] en mode SQLCMD et dans l'utilitaire `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-107">Because different default options may apply, you might see different behavior when you execute the same query in [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] in SQLCMD Mode and in the `sqlcmd` utility.</span></span>  
  
 <span data-ttu-id="33f11-108">Actuellement, `sqlcmd` ne requiert pas d'espace entre l'option de ligne de commande et la valeur.</span><span class="sxs-lookup"><span data-stu-id="33f11-108">Currently, `sqlcmd` does not require a space between the command line option and the value.</span></span> <span data-ttu-id="33f11-109">Toutefois, dans une version ultérieure, un espace peut être requis entre l'option de ligne de commande et la valeur.</span><span class="sxs-lookup"><span data-stu-id="33f11-109">However, in a future release, a space may be required between the command line option and the value.</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="33f11-110">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="33f11-110">Syntax</span></span>  
  
```  
  
   sqlcmd  
   -a  
   packet_size  
   -A (dedicated administrator connection)  
-b (terminate batch job if there is an error)  
-cbatch_terminator-C (trust the server certificate)  
-ddb_name-e (echo input)  
-E (use trusted connection)  
-fcodepage | i:codepage[,o:codepage] | o:codepage[,i:codepage]  
-hrows_per_header-Hworkstation_name-iinput_file-I (enable quoted identifiers)  
-k[1 | 2] (remove or replace control characters)  
-Kapplication_intent-llogin_timeout-L[c] (list servers, optional clean output)  
-merror_level-Mmultisubnet_failover-N (encrypt connection)  
-ooutput_file-p[1] (print statistics, optional colon format)  
-Ppassword-q "cmdline query"-Q "cmdline query" (and exit)  
-r[0 | 1] (msgs to stderr)  
-R (use client regional settings)  
-scol_separator-S [protocol:]server[\instance_name][,port]  
-tquery_timeout-u (unicode output file)  
-Ulogin_id-vvar = "value"-Verror_severity_level-wcolumn_width-W (remove trailing spaces)  
-x (disable variable substitution)  
-X[1] (disable commands, startup script, environment variables and optional exit)  
-yvariable_length_type_display_width-Yfixed_length_type_display_width-znew_password -Znew_password (and exit)  
  
-? (usage)  
```  
  
## <a name="command-line-options"></a><span data-ttu-id="33f11-111">Options de ligne de commande</span><span class="sxs-lookup"><span data-stu-id="33f11-111">Command-line Options</span></span>  
 <span data-ttu-id="33f11-112">**Options relatives à la connexion**</span><span class="sxs-lookup"><span data-stu-id="33f11-112">**Login-Related Options**</span></span>  
  <span data-ttu-id="33f11-113">**-A**</span><span class="sxs-lookup"><span data-stu-id="33f11-113">**-A**</span></span>  
 <span data-ttu-id="33f11-114">Se connecte à [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] avec une connexion administrateur dédiée (Dedicated Administrator Connection).</span><span class="sxs-lookup"><span data-stu-id="33f11-114">Logs in to [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] with a Dedicated Administrator Connection (DAC).</span></span> <span data-ttu-id="33f11-115">Ce type de connexion est utilisé pour dépanner un serveur.</span><span class="sxs-lookup"><span data-stu-id="33f11-115">This kind of connection is used to troubleshoot a server.</span></span> <span data-ttu-id="33f11-116">Elle ne fonctionne qu'avec les serveurs prenant en charge DAC.</span><span class="sxs-lookup"><span data-stu-id="33f11-116">This will only work with server computers that support DAC.</span></span> <span data-ttu-id="33f11-117">Si DAC n'est pas disponible, `sqlcmd` génère un message d'erreur et se termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-117">If DAC is not available, `sqlcmd` generates an error message and then exits.</span></span> <span data-ttu-id="33f11-118">Pour plus d’informations sur DAC, consultez [Connexion de diagnostic pour les administrateurs de base de données](../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span><span class="sxs-lookup"><span data-stu-id="33f11-118">For more information about DAC, see [Diagnostic Connection for Database Administrators](../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span></span>  
  
 <span data-ttu-id="33f11-119">**-C**</span><span class="sxs-lookup"><span data-stu-id="33f11-119">**-C**</span></span>  
 <span data-ttu-id="33f11-120">Ce commutateur est utilisé par le client pour le configurer afin d'approuver implicitement le certificat de serveur sans validation.</span><span class="sxs-lookup"><span data-stu-id="33f11-120">This switch is used by the client to configure it to implicitly trust the server certificate without validation.</span></span> <span data-ttu-id="33f11-121">Cette option est équivalente à l'option ADO.NET `TRUSTSERVERCERTIFICATE = true`.</span><span class="sxs-lookup"><span data-stu-id="33f11-121">This option is equivalent to the ADO.NET option `TRUSTSERVERCERTIFICATE = true`.</span></span>  
  
 <span data-ttu-id="33f11-122">**-d** _db_name_</span><span class="sxs-lookup"><span data-stu-id="33f11-122">**-d** _db_name_</span></span>  
 <span data-ttu-id="33f11-123">Émet une `USE` instruction *db_name* lorsque vous démarrez `sqlcmd` .</span><span class="sxs-lookup"><span data-stu-id="33f11-123">Issues a `USE` *db_name* statement when you start `sqlcmd`.</span></span> <span data-ttu-id="33f11-124">Cette option définit la variable de script `sqlcmd` SQLCMDDBNAME.</span><span class="sxs-lookup"><span data-stu-id="33f11-124">This option sets the `sqlcmd` scripting variable SQLCMDDBNAME.</span></span> <span data-ttu-id="33f11-125">Celle-ci spécifie la base de données initiale.</span><span class="sxs-lookup"><span data-stu-id="33f11-125">This specifies the initial database.</span></span> <span data-ttu-id="33f11-126">La valeur par défaut est la propriété de base de données par défaut de votre connexion.</span><span class="sxs-lookup"><span data-stu-id="33f11-126">The default is your login's default-database property.</span></span> <span data-ttu-id="33f11-127">Si la base de données n'existe pas, un message d'erreur est généré et `sqlcmd` se termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-127">If the database does not exist, an error message is generated and `sqlcmd` exits.</span></span>  
  
 <span data-ttu-id="33f11-128">**-l** _login_timeout_</span><span class="sxs-lookup"><span data-stu-id="33f11-128">**-l** _login_timeout_</span></span>  
 <span data-ttu-id="33f11-129">Spécifie le nombre de secondes au terme duquel une connexion `sqlcmd` au pilote ODBC expire lorsque vous tentez d'établir une connexion à un serveur.</span><span class="sxs-lookup"><span data-stu-id="33f11-129">Specifies the number of seconds before a `sqlcmd` login to the ODBC driver times out when you try to connect to a server.</span></span> <span data-ttu-id="33f11-130">Cette option définit la variable de script `sqlcmd` SQLCMDLOGINTIMEOUT.</span><span class="sxs-lookup"><span data-stu-id="33f11-130">This option sets the `sqlcmd` scripting variable SQLCMDLOGINTIMEOUT.</span></span> <span data-ttu-id="33f11-131">Le délai d'attente par défaut pour la connexion à `sqlcmd` est de huit secondes.</span><span class="sxs-lookup"><span data-stu-id="33f11-131">The default time-out for login to `sqlcmd` is eight seconds.</span></span> <span data-ttu-id="33f11-132">Le délai d'attente de la connexion doit être un nombre compris entre 0 et 65534.</span><span class="sxs-lookup"><span data-stu-id="33f11-132">The login time-out must be a number between 0 and 65534.</span></span> <span data-ttu-id="33f11-133">Si la valeur fournie n'est pas numérique ou n'est pas comprise dans cet intervalle, `sqlcmd` génère un message d'erreur.</span><span class="sxs-lookup"><span data-stu-id="33f11-133">If the value supplied is not numeric or does not fall into that range, `sqlcmd` generates an error message.</span></span> <span data-ttu-id="33f11-134">Une valeur de 0 spécifie un délai d'attente infini.</span><span class="sxs-lookup"><span data-stu-id="33f11-134">A value of 0 specifies time-out to be infinite.</span></span>  
  
 <span data-ttu-id="33f11-135">**-E**</span><span class="sxs-lookup"><span data-stu-id="33f11-135">**-E**</span></span>  
 <span data-ttu-id="33f11-136">Utilise une connexion approuvée au lieu d'un nom d'utilisateur et un mot de passe pour vous connecter à [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="33f11-136">Uses a trusted connection instead of using a user name and password to log on to [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="33f11-137">Par défaut, lorsque -E est spécifié, `sqlcmd` utilise l'option de connexion approuvée.</span><span class="sxs-lookup"><span data-stu-id="33f11-137">By default, without -E specified, `sqlcmd` uses the trusted connection option.</span></span>  
  
 <span data-ttu-id="33f11-138">L’option **-E** ignore les éventuels paramètres de variables d’environnement de nom d’utilisateur et de mot de passe, tels que SQLCMDPASSWORD.</span><span class="sxs-lookup"><span data-stu-id="33f11-138">The **-E** option ignores possible user name and password environment variable settings such as SQLCMDPASSWORD.</span></span> <span data-ttu-id="33f11-139">Si l’option **-E** est utilisée avec l’option **-U** ou **-P** , un message d’erreur est généré.</span><span class="sxs-lookup"><span data-stu-id="33f11-139">If the **-E** option is used together with the **-U** option or the **-P** option, an error message is generated.</span></span>  
  
 <span data-ttu-id="33f11-140">**-H** _workstation_name_</span><span class="sxs-lookup"><span data-stu-id="33f11-140">**-H** _workstation_name_</span></span>  
 <span data-ttu-id="33f11-141">Nom d'une station de travail.</span><span class="sxs-lookup"><span data-stu-id="33f11-141">A workstation name.</span></span> <span data-ttu-id="33f11-142">Cette option définit la variable de script `sqlcmd` SLCMDWORKSTATION.</span><span class="sxs-lookup"><span data-stu-id="33f11-142">This option sets the `sqlcmd` scripting variable SQLCMDWORKSTATION.</span></span> <span data-ttu-id="33f11-143">Le nom de la station de travail est indiqué dans la colonne **hostname**de l’affichage catalogue **sys.processes** et peut être retourné à l’aide de la procédure stockée **sp_who**.</span><span class="sxs-lookup"><span data-stu-id="33f11-143">The workstation name is listed in the **hostname** column of the **sys.processes** catalog view and can be returned using the stored procedure **sp_who**.</span></span> <span data-ttu-id="33f11-144">Si cette option n'est pas spécifiée, le nom de l'ordinateur actif est utilisé par défaut.</span><span class="sxs-lookup"><span data-stu-id="33f11-144">If this option is not specified, the default is the current computer name.</span></span> <span data-ttu-id="33f11-145">Ce nom peut être utilisé pour identifier différentes sessions `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-145">This name can be used to identify different `sqlcmd` sessions.</span></span>  
  
 <span data-ttu-id="33f11-146">**-K** _application_intent_</span><span class="sxs-lookup"><span data-stu-id="33f11-146">**-K** _application_intent_</span></span>  
 <span data-ttu-id="33f11-147">Déclare le type de la charge de travail de l'application lors de la connexion à un serveur.</span><span class="sxs-lookup"><span data-stu-id="33f11-147">Declares the application workload type when connecting to a server.</span></span> <span data-ttu-id="33f11-148">La seule valeur actuellement prise en charge est **ReadOnly**.</span><span class="sxs-lookup"><span data-stu-id="33f11-148">The only currently supported value is **ReadOnly**.</span></span> <span data-ttu-id="33f11-149">Si **-K** n’est pas spécifié, l’utilitaire sqlcmd ne prend pas en charge la connectivité à un réplica secondaire dans un groupe de disponibilité AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="33f11-149">If **-K** is not specified, the sqlcmd utility will not support connectivity to a secondary replica in an AlwaysOn availability group.</span></span> <span data-ttu-id="33f11-150">Pour plus d’informations, consultez [secondaires actifs : réplicas secondaires accessibles en lecture](../database-engine/availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md).</span><span class="sxs-lookup"><span data-stu-id="33f11-150">For more information, see [Active Secondaries: Readable Secondary Replicas](../database-engine/availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md).</span></span>  
  
 <span data-ttu-id="33f11-151">`-M`*multisubnet_failover*</span><span class="sxs-lookup"><span data-stu-id="33f11-151">`-M` *multisubnet_failover*</span></span>  
 <span data-ttu-id="33f11-152">Spécifiez toujours `-M` lors de la connexion à l'écouteur de groupe de disponibilité d'un groupe de disponibilité [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] ou d'une instance de cluster de basculement [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="33f11-152">Always specify `-M` when connecting to the availability group listener of a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] availability group or a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Failover Cluster Instance.</span></span> <span data-ttu-id="33f11-153">`-M` fournit une détection plus rapide du serveur actif et une connexion à celui-ci.</span><span class="sxs-lookup"><span data-stu-id="33f11-153">`-M` provides for faster detection of and connection to the (currently) active server.</span></span> <span data-ttu-id="33f11-154">Si `-M` n'est pas spécifié, `-M` est désactivé.</span><span class="sxs-lookup"><span data-stu-id="33f11-154">If `-M` is not specified, `-M` is off.</span></span> <span data-ttu-id="33f11-155">Pour plus d’informations [!INCLUDE[ssHADR](../includes/sshadr-md.md)] sur, [consultez écouteurs de groupe de disponibilité, connectivité client et basculement d’Application &#40;SQL Server&#41;](../database-engine/listeners-client-connectivity-application-failover.md), [création et configuration de groupes de disponibilité &#40;SQL Server&#41;](../database-engine/availability-groups/windows/creation-and-configuration-of-availability-groups-sql-server.md), [clustering de basculement et groupes de disponibilité AlwaysOn ](../database-engine/availability-groups/windows/failover-clustering-and-always-on-availability-groups-sql-server.md)&#40;SQL Server&#41;et les [réplicas secondaires actifs](../database-engine/availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md) .</span><span class="sxs-lookup"><span data-stu-id="33f11-155">For more information about [!INCLUDE[ssHADR](../includes/sshadr-md.md)], see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../database-engine/listeners-client-connectivity-application-failover.md), [Creation and Configuration of Availability Groups &#40;SQL Server&#41;](../database-engine/availability-groups/windows/creation-and-configuration-of-availability-groups-sql-server.md), [Failover Clustering and AlwaysOn Availability Groups &#40;SQL Server&#41;](../database-engine/availability-groups/windows/failover-clustering-and-always-on-availability-groups-sql-server.md), and [Active Secondaries: Readable Secondary Replicas](../database-engine/availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md) .</span></span>  
  
 <span data-ttu-id="33f11-156">**-N**</span><span class="sxs-lookup"><span data-stu-id="33f11-156">**-N**</span></span>  
 <span data-ttu-id="33f11-157">Ce commutateur est utilisé par le client pour demander une connexion chiffrée.</span><span class="sxs-lookup"><span data-stu-id="33f11-157">This switch is used by the client to request an encrypted connection.</span></span>  
  
 <span data-ttu-id="33f11-158">**-P** _password_</span><span class="sxs-lookup"><span data-stu-id="33f11-158">**-P** _password_</span></span>  
 <span data-ttu-id="33f11-159">Spécifie le mot de passe pour l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="33f11-159">Is a user-specified password.</span></span> <span data-ttu-id="33f11-160">Les mots de passe respectent la casse.</span><span class="sxs-lookup"><span data-stu-id="33f11-160">Passwords are case sensitive.</span></span> <span data-ttu-id="33f11-161">Si l’option-U est utilisée et que l’option **-P** n’est pas utilisée, et que la variable d’environnement SQLCMDPASSWORD n’a pas été définie, `sqlcmd` invite l’utilisateur à entrer un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="33f11-161">If the -U option is used and the **-P** option is not used, and the SQLCMDPASSWORD environment variable has not been set, `sqlcmd` prompts the user for a password.</span></span> <span data-ttu-id="33f11-162">Si l’option **-P** est utilisée à la fin de l’invite de commandes sans mot de passe `sqlcmd` , utilise le mot de passe par défaut (null).</span><span class="sxs-lookup"><span data-stu-id="33f11-162">If the **-P** option is used at the end of the command prompt without a password `sqlcmd` uses the default password (NULL).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="33f11-163">N'utilisez pas de mot de passe vide.</span><span class="sxs-lookup"><span data-stu-id="33f11-163">Do not use a blank password.</span></span> <span data-ttu-id="33f11-164">Utilisez un mot de passe fort.</span><span class="sxs-lookup"><span data-stu-id="33f11-164">Use a strong password.</span></span> <span data-ttu-id="33f11-165">Pour plus d’informations, consultez [Strong Passwords](../relational-databases/security/strong-passwords.md).</span><span class="sxs-lookup"><span data-stu-id="33f11-165">For more information, see [Strong Passwords](../relational-databases/security/strong-passwords.md).</span></span>  
  
 <span data-ttu-id="33f11-166">L’invite de mot de passe s’affiche en imprimant l’invite de commande sur la console, comme suit : `Password:`</span><span class="sxs-lookup"><span data-stu-id="33f11-166">The password prompt is displayed by printing the password prompt to the console, as follows: `Password:`</span></span>  
  
 <span data-ttu-id="33f11-167">L'entrée de l'utilisateur est masquée,</span><span class="sxs-lookup"><span data-stu-id="33f11-167">User input is hidden.</span></span> <span data-ttu-id="33f11-168">ce qui signifie que rien ne s'affiche et que le curseur reste immobile.</span><span class="sxs-lookup"><span data-stu-id="33f11-168">This means that nothing is displayed and the cursor stays in position.</span></span>  
  
 <span data-ttu-id="33f11-169">La variable d'environnement SQLCMDPASSWORD vous permet de définir un mot de passe par défaut pour la session en cours.</span><span class="sxs-lookup"><span data-stu-id="33f11-169">The SQLCMDPASSWORD environment variable lets you set a default password for the current session.</span></span> <span data-ttu-id="33f11-170">Par conséquent, les mots de passe n'ont pas besoin d'être codés en dur dans des fichiers de commandes.</span><span class="sxs-lookup"><span data-stu-id="33f11-170">Therefore, passwords do not have to be hard-coded into batch files.</span></span>  
  
 <span data-ttu-id="33f11-171">L'exemple suivant définit la variable SQLCMDPASSWORD au niveau de l'invite de commandes et accède ensuite à l'utilitaire `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-171">The following example first sets the SQLCMDPASSWORD variable at the command prompt and then accesses the `sqlcmd` utility.</span></span> <span data-ttu-id="33f11-172">À l’invite de commandes, tapez :</span><span class="sxs-lookup"><span data-stu-id="33f11-172">At the command prompt, type:</span></span>  
  
 `SET SQLCMDPASSWORD= p@a$$w0rd`  
  
> [!IMPORTANT]  
>  <span data-ttu-id="33f11-173">Le mot de passe sera visible par toute personne pouvant voir l'écran de l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="33f11-173">The password will be visible to anyone who can see your computer monitor.</span></span>  
  
 <span data-ttu-id="33f11-174">À l'invite de commandes suivante, tapez :</span><span class="sxs-lookup"><span data-stu-id="33f11-174">At the following command prompt, type:</span></span>  
  
 `sqlcmd`  
  
 <span data-ttu-id="33f11-175">Si la combinaison de nom d'utilisateur et de mot de passe est incorrecte, un message d'erreur est généré.</span><span class="sxs-lookup"><span data-stu-id="33f11-175">If the user name and password combination is incorrect, an error message is generated.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-176">La variable d'environnement OSQLPASSWORD a été conservée pour garantir une compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="33f11-176">The OSQLPASSWORD environment variable has been kept for backward compatibility.</span></span> <span data-ttu-id="33f11-177">La variable d’environnement SQLCMDPASSWORD est prioritaire sur la variable d’environnement OSQLPASSWORD ; Cela signifie que `sqlcmd` et **osql** peuvent être utilisés l’un à côté de l’autre sans interférence et que les anciens scripts continuent à fonctionner.</span><span class="sxs-lookup"><span data-stu-id="33f11-177">The SQLCMDPASSWORD environment variable takes precedence over the OSQLPASSWORD environment variable; this means that `sqlcmd` and **osql** can be used next to each other without interference and that old scripts will continue to work.</span></span>  
  
 <span data-ttu-id="33f11-178">Si l’option **-P** est utilisée avec l’option **-E** , un message d’erreur est généré.</span><span class="sxs-lookup"><span data-stu-id="33f11-178">If the **-P** option is used with the **-E** option, an error message is generated.</span></span>  
  
 <span data-ttu-id="33f11-179">Si l’option **-P** est suivie de plusieurs arguments, un message d’erreur est généré et le programme se termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-179">If the **-P** option is followed by more than one argument, an error message is generated and the program exits.</span></span>  
  
 <span data-ttu-id="33f11-180">**-S** [*protocole*:]*serveur*[ **\\** _instance_name_] [**,**_port_]</span><span class="sxs-lookup"><span data-stu-id="33f11-180">**-S** [*protocol*:]*server*[**\\**_instance_name_][**,**_port_]</span></span>  
 <span data-ttu-id="33f11-181">Spécifie l'instance de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] à laquelle établir une connexion.</span><span class="sxs-lookup"><span data-stu-id="33f11-181">Specifies the instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] to which to connect.</span></span> <span data-ttu-id="33f11-182">Cette option définit la variable de script `sqlcmd` SQLCMDSERVER.</span><span class="sxs-lookup"><span data-stu-id="33f11-182">It sets the `sqlcmd` scripting variable SQLCMDSERVER.</span></span>  
  
 <span data-ttu-id="33f11-183">Spécifiez *nom_serveur* pour vous connecter à l’instance par défaut du [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] sur cet ordinateur serveur.</span><span class="sxs-lookup"><span data-stu-id="33f11-183">Specify *server_name* to connect to the default instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] on that server computer.</span></span> <span data-ttu-id="33f11-184">Spécifiez *SERVER_NAME* [ **\\** _instance_name_ ] pour vous connecter à une instance nommée de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] sur cet ordinateur serveur.</span><span class="sxs-lookup"><span data-stu-id="33f11-184">Specify *server_name* [ **\\**_instance_name_ ] to connect to a named instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] on that server computer.</span></span> <span data-ttu-id="33f11-185">Si aucun ordinateur serveur n'est spécifié, l'utilitaire `sqlcmd` se connecte à l'instance par défaut de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] sur l'ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="33f11-185">If no server computer is specified, `sqlcmd` connects to the default instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] on the local computer.</span></span> <span data-ttu-id="33f11-186">Cette option est requise lorsque vous exécutez `sqlcmd` à partir d’un ordinateur distant sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="33f11-186">This option is required when you execute `sqlcmd` from a remote computer on the network.</span></span>  
  
 <span data-ttu-id="33f11-187">le *protocole* peut être `tcp` (TCP/IP), `lpc` (mémoire partagée) ou `np` (canaux nommés).</span><span class="sxs-lookup"><span data-stu-id="33f11-187">*protocol* can be `tcp` (TCP/IP), `lpc` (shared memory), or `np` (named pipes).</span></span>  
  
 <span data-ttu-id="33f11-188">Si vous ne spécifiez pas de *SERVER_NAME* [ **\\** _instance_name_ ] au démarrage `sqlcmd` , [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] recherche et utilise la variable d’environnement SQLCMDSERVER.</span><span class="sxs-lookup"><span data-stu-id="33f11-188">If you do not specify a *server_name* [ **\\**_instance_name_ ] when you start `sqlcmd`, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] checks for and uses the SQLCMDSERVER environment variable.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-189">La variable d'environnement OSQLSERVER a été conservée pour assurer une compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="33f11-189">The OSQLSERVER environment variable has been kept for backward compatibility.</span></span> <span data-ttu-id="33f11-190">La variable d’environnement SQLCMDSERVER est prioritaire sur la variable d’environnement OSQLSERVER ; Cela signifie que `sqlcmd` et **osql** peuvent être utilisés l’un à côté de l’autre sans interférence et que les anciens scripts continuent à fonctionner.</span><span class="sxs-lookup"><span data-stu-id="33f11-190">The SQLCMDSERVER environment variable takes precedence over the OSQLSERVER environment variable; this means that `sqlcmd` and **osql** can be used next to each other without interference and that old scripts will continue to work.</span></span>  
  
 <span data-ttu-id="33f11-191">**-U** _login_id_</span><span class="sxs-lookup"><span data-stu-id="33f11-191">**-U** _login_id_</span></span>  
 <span data-ttu-id="33f11-192">ID de connexion de l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="33f11-192">Is the user login ID.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-193">La variable d'environnement OSQLUSER est disponible à des fins de compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="33f11-193">The OSQLUSER environment variable is available for backward compatibility.</span></span> <span data-ttu-id="33f11-194">La variable d'environnement SQLCMDUSER est prioritaire par rapport à la variable d'environnement OSQLUSER.</span><span class="sxs-lookup"><span data-stu-id="33f11-194">The SQLCMDUSER environment variable takes precedence over the OSQLUSER environment variable.</span></span> <span data-ttu-id="33f11-195">Cela signifie que `sqlcmd` et **osql** peuvent être utilisés l’un à côté de l’autre sans interférence.</span><span class="sxs-lookup"><span data-stu-id="33f11-195">This means that `sqlcmd` and **osql** can be used next to each other without interference.</span></span> <span data-ttu-id="33f11-196">Cela signifie également que les scripts **osql** existants continueront de fonctionner.</span><span class="sxs-lookup"><span data-stu-id="33f11-196">It also means that existing **osql** scripts will continue to work.</span></span>  
  
 <span data-ttu-id="33f11-197">Si ni l’option **-U** , ni l’option **-P** ne sont spécifiées, `sqlcmd` tente de se connecter à l’aide du [!INCLUDE[msCoName](../includes/msconame-md.md)] mode d’authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="33f11-197">If neither the **-U** option nor the **-P** option is specified, `sqlcmd` tries to connect by using [!INCLUDE[msCoName](../includes/msconame-md.md)] Windows Authentication mode.</span></span> <span data-ttu-id="33f11-198">L'authentification est basée sur le compte Windows de l'utilisateur exécutant `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-198">Authentication is based on the Windows account of the user who is running `sqlcmd`.</span></span>  
  
 <span data-ttu-id="33f11-199">Si l’option **-U** est utilisée avec l’option **-E** (décrite plus loin dans cette rubrique), un message d’erreur est généré.</span><span class="sxs-lookup"><span data-stu-id="33f11-199">If the **-U** option is used with the **-E** option (described later in this topic), an error message is generated.</span></span> <span data-ttu-id="33f11-200">Si l’option **-U** est suivie de plusieurs arguments, un message d’erreur est généré et le programme se termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-200">If the **-U** option is followed by more than one argument, an error message is generated and the program exits.</span></span>  
  
 <span data-ttu-id="33f11-201">**-z** _new_password_</span><span class="sxs-lookup"><span data-stu-id="33f11-201">**-z** _new_password_</span></span>  
 <span data-ttu-id="33f11-202">Modifier le mot de passe :</span><span class="sxs-lookup"><span data-stu-id="33f11-202">Change password:</span></span>  
  
 `sqlcmd -U someuser -P s0mep@ssword -z a_new_p@a$$w0rd`  
  
 <span data-ttu-id="33f11-203">**-Z** _new_password_</span><span class="sxs-lookup"><span data-stu-id="33f11-203">**-Z** _new_password_</span></span>  
 <span data-ttu-id="33f11-204">Modifier le mot de passe et quitter :</span><span class="sxs-lookup"><span data-stu-id="33f11-204">Change password and exit:</span></span>  
  
 `sqlcmd -U someuser -P s0mep@ssword -Z a_new_p@a$$w0rd`  
  
 <span data-ttu-id="33f11-205">**Options d’entrée/sortie**</span><span class="sxs-lookup"><span data-stu-id="33f11-205">**Input/Output Options**</span></span>  
  <span data-ttu-id="33f11-206">**-f** _codepage_ | **i:** _codepage_[ **,o:** _codepage_] | **o:** _codepage_[ **,i:** _codepage_]</span><span class="sxs-lookup"><span data-stu-id="33f11-206">**-f** _codepage_ | **i:**_codepage_[**,o:**_codepage_] | **o:**_codepage_[**,i:**_codepage_]</span></span>  
 <span data-ttu-id="33f11-207">Spécifie les pages de codes d'entrée et de sortie.</span><span class="sxs-lookup"><span data-stu-id="33f11-207">Specifies the input and output code pages.</span></span> <span data-ttu-id="33f11-208">Le numéro de pages de codes est une valeur numérique spécifiant une page de codes Windows installée.</span><span class="sxs-lookup"><span data-stu-id="33f11-208">The codepage number is a numeric value that specifies an installed Windows code page.</span></span>  
  
 <span data-ttu-id="33f11-209">Règles de conversion des pages de code :</span><span class="sxs-lookup"><span data-stu-id="33f11-209">Code-page conversion rules:</span></span>  
  
-   <span data-ttu-id="33f11-210">Si aucune page de codes n'est spécifiée, `sqlcmd` utilise la page de codes en cours, à la fois pour le fichier d'entrée et le fichier de sortie, sauf si le fichier d'entrée est un fichier Unicode, auquel cas aucune conversion n'est requise.</span><span class="sxs-lookup"><span data-stu-id="33f11-210">If no code pages are specified, `sqlcmd` will use the current code page for both input and output files, unless the input file is a Unicode file, in which case no conversion is required.</span></span>  
  
-   <span data-ttu-id="33f11-211">`sqlcmd` reconnaît automatiquement les fichiers d'entrée Unicode Big-endian et Little-endian.</span><span class="sxs-lookup"><span data-stu-id="33f11-211">`sqlcmd` automatically recognizes both big-endian and little-endian Unicode input files.</span></span> <span data-ttu-id="33f11-212">Si l’option **-u** est spécifiée, les données de sortie sont toujours de type Unicode Little-endian.</span><span class="sxs-lookup"><span data-stu-id="33f11-212">If the **-u** option has been specified, the output will always be little-endian Unicode.</span></span>  
  
-   <span data-ttu-id="33f11-213">Si aucun fichier de sortie n'est spécifié, la page de codes de sortie correspond à la page de codes de la console.</span><span class="sxs-lookup"><span data-stu-id="33f11-213">If no output file is specified, the output code page will be the console code page.</span></span> <span data-ttu-id="33f11-214">Cela permet aux données de sortie d'être correctement affichées sur la console.</span><span class="sxs-lookup"><span data-stu-id="33f11-214">This enables the output to be displayed correctly on the console.</span></span>  
  
-   <span data-ttu-id="33f11-215">Plusieurs fichiers d'entrée sont supposés correspondre à une même page de codes.</span><span class="sxs-lookup"><span data-stu-id="33f11-215">Multiple input files are assumed to be of the same code page.</span></span> <span data-ttu-id="33f11-216">Les fichiers d'entrée Unicode et non Unicode peuvent être mélangés.</span><span class="sxs-lookup"><span data-stu-id="33f11-216">Unicode and non-Unicode input files can be mixed.</span></span>  
  
 <span data-ttu-id="33f11-217">Entrez `chcp` à l’invite de commandes pour vérifier la page de codes de Cmd.exe.</span><span class="sxs-lookup"><span data-stu-id="33f11-217">Enter `chcp` at the command prompt to verify the code page of Cmd.exe.</span></span>  
  
 <span data-ttu-id="33f11-218">**-i** _input_file_[**,**_input_file2_...]</span><span class="sxs-lookup"><span data-stu-id="33f11-218">**-i** _input_file_[**,**_input_file2_...]</span></span>  
 <span data-ttu-id="33f11-219">Identifie le fichier contenant un traitement d'instructions SQL ou des procédures stockées.</span><span class="sxs-lookup"><span data-stu-id="33f11-219">Identifies the file that contains a batch of SQL statements or stored procedures.</span></span> <span data-ttu-id="33f11-220">Plusieurs fichiers peuvent être spécifiés, ils sont lus et traités dans l'ordre.</span><span class="sxs-lookup"><span data-stu-id="33f11-220">Multiple files may be specified that will be read and processed in order.</span></span> <span data-ttu-id="33f11-221">N'utilisez pas d'espace entre les noms de fichiers.</span><span class="sxs-lookup"><span data-stu-id="33f11-221">Do not use any spaces between file names.</span></span> <span data-ttu-id="33f11-222">`sqlcmd` vérifie d'abord que tous les fichiers spécifiés existent.</span><span class="sxs-lookup"><span data-stu-id="33f11-222">`sqlcmd` will first check to see whether all the specified files exist.</span></span> <span data-ttu-id="33f11-223">Si un ou plusieurs fichiers n'existent pas, `sqlcmd` se termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-223">If one or more files do not exist, `sqlcmd` will exit.</span></span> <span data-ttu-id="33f11-224">Les options -i et -Q/-q s'excluent mutuellement.</span><span class="sxs-lookup"><span data-stu-id="33f11-224">The -i and the -Q/-q options are mutually exclusive.</span></span>  
  
 <span data-ttu-id="33f11-225">Exemples de chemins :</span><span class="sxs-lookup"><span data-stu-id="33f11-225">Path examples:</span></span>  
  
 <span data-ttu-id="33f11-226">**-i** C : \\<nom de fichier\></span><span class="sxs-lookup"><span data-stu-id="33f11-226">**-i** C:\\<filename\></span></span>  
  
 <span data-ttu-id="33f11-227">**-i** \\ \\<Server \> \\<partage $>\\<nom de fichier\></span><span class="sxs-lookup"><span data-stu-id="33f11-227">**-i** \\\\<Server\>\\<Share$>\\<filename\></span></span>  
  
 <span data-ttu-id="33f11-228">**-i** « Dossier C:\Some \\<nom de fichier \> »</span><span class="sxs-lookup"><span data-stu-id="33f11-228">**-i** "C:\Some Folder\\<file name\>"</span></span>  
  
 <span data-ttu-id="33f11-229">Les chemins d'accès aux fichiers comportant des espaces doivent être placés entre guillemets.</span><span class="sxs-lookup"><span data-stu-id="33f11-229">File paths that contain spaces must be enclosed in quotation marks.</span></span>  
  
 <span data-ttu-id="33f11-230">Cette option peut être utilisée plusieurs fois : **-i**_input_file_ **-i**_input_file._</span><span class="sxs-lookup"><span data-stu-id="33f11-230">This option may be used more than once: **-i**_input_file_ **-I**_I input_file._</span></span>  
  
 <span data-ttu-id="33f11-231">**-o** _output_file_</span><span class="sxs-lookup"><span data-stu-id="33f11-231">**-o** _output_file_</span></span>  
 <span data-ttu-id="33f11-232">Identifie le fichier recevant une sortie de `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-232">Identifies the file that receives output from `sqlcmd`.</span></span>  
  
 <span data-ttu-id="33f11-233">Si **-u** est spécifié, le *fichier_sortie* est stocké au format Unicode.</span><span class="sxs-lookup"><span data-stu-id="33f11-233">If **-u** is specified, the *output_file* is stored in Unicode format.</span></span> <span data-ttu-id="33f11-234">Si le nom de fichier n'est pas valide, un message d'erreur est généré et `sqlcmd` se termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-234">If the file name is not valid, an error message is generated, and `sqlcmd` exits.</span></span> <span data-ttu-id="33f11-235">`sqlcmd` ne prend pas en charge l'écriture simultanée de plusieurs processus `sqlcmd` dans le même fichier.</span><span class="sxs-lookup"><span data-stu-id="33f11-235">`sqlcmd` does not support concurrent writing of multiple `sqlcmd` processes to the same file.</span></span> <span data-ttu-id="33f11-236">La sortie fichier sera endommagée ou incorrecte.</span><span class="sxs-lookup"><span data-stu-id="33f11-236">The file output will be corrupted or incorrect.</span></span> <span data-ttu-id="33f11-237">Pour plus d’informations sur les formats de fichier, consultez le commutateur **-f** .</span><span class="sxs-lookup"><span data-stu-id="33f11-237">See the **-f** switch for more information about file formats.</span></span> <span data-ttu-id="33f11-238">Ce fichier est créé s’il n’existe pas.</span><span class="sxs-lookup"><span data-stu-id="33f11-238">This file will be created if it does not exist.</span></span> <span data-ttu-id="33f11-239">Un fichier portant le même nom qui provient d'une session `sqlcmd` antérieure sera remplacé.</span><span class="sxs-lookup"><span data-stu-id="33f11-239">A file of the same name from a prior `sqlcmd` session will be overwritten.</span></span> <span data-ttu-id="33f11-240">Le fichier spécifié ici n'est pas le fichier **stdout** .</span><span class="sxs-lookup"><span data-stu-id="33f11-240">The file specified here is not the **stdout** file.</span></span> <span data-ttu-id="33f11-241">Si un fichier **stdout** est spécifié, ce fichier ne sera pas utilisé.</span><span class="sxs-lookup"><span data-stu-id="33f11-241">If a **stdout** file is specified this file will not be used.</span></span>  
  
 <span data-ttu-id="33f11-242">Exemples de chemins :</span><span class="sxs-lookup"><span data-stu-id="33f11-242">Path examples:</span></span>  
  
 <span data-ttu-id="33f11-243">**-o** C : \\< nom de fichier></span><span class="sxs-lookup"><span data-stu-id="33f11-243">**-o** C:\\< filename></span></span>  
  
 <span data-ttu-id="33f11-244">**-o** \\ \\<Server \> \\<partage $>\\<nom de fichier\></span><span class="sxs-lookup"><span data-stu-id="33f11-244">**-o** \\\\<Server\>\\<Share$>\\<filename\></span></span>  
  
 <span data-ttu-id="33f11-245">**-o "** Dossier C:\Some \\ nom de fichier<\> »</span><span class="sxs-lookup"><span data-stu-id="33f11-245">**-o "** C:\Some Folder\\<file name\>"</span></span>  
  
 <span data-ttu-id="33f11-246">Les chemins d'accès aux fichiers comportant des espaces doivent être placés entre guillemets.</span><span class="sxs-lookup"><span data-stu-id="33f11-246">File paths that contain spaces must be enclosed in quotation marks.</span></span>  
  
 <span data-ttu-id="33f11-247">**-r**[**0** | **1**]</span><span class="sxs-lookup"><span data-stu-id="33f11-247">**-r**[**0** | **1**]</span></span>  
 <span data-ttu-id="33f11-248">Redirige la sortie des messages d’erreur à l’écran (**stderr**).</span><span class="sxs-lookup"><span data-stu-id="33f11-248">Redirects the error message output to the screen (**stderr**).</span></span> <span data-ttu-id="33f11-249">Si vous n'indiquez aucun paramètre ou si vous spécifiez la valeur **0**, seuls les messages d'erreur dotés d'un degré de gravité égal ou supérieur à 11 sont redirigés.</span><span class="sxs-lookup"><span data-stu-id="33f11-249">If you do not specify a parameter or if you specify **0**, only error messages that have a severity level of 11 or higher are redirected.</span></span> <span data-ttu-id="33f11-250">Si vous indiquez la valeur **1**, tous les messages émis, y compris PRINT, sont redirigés.</span><span class="sxs-lookup"><span data-stu-id="33f11-250">If you specify **1**, all error message output including PRINT is redirected.</span></span> <span data-ttu-id="33f11-251">Est sans effet si vous utilisez - o.</span><span class="sxs-lookup"><span data-stu-id="33f11-251">Has no effect if you use -o.</span></span> <span data-ttu-id="33f11-252">Par défaut, les messages sont envoyés à **stdout**.</span><span class="sxs-lookup"><span data-stu-id="33f11-252">By default, messages are sent to **stdout**.</span></span>  
  
 <span data-ttu-id="33f11-253">**-R**</span><span class="sxs-lookup"><span data-stu-id="33f11-253">**-R**</span></span>  
 <span data-ttu-id="33f11-254">Fait `sqlcmd` en sorte que localise les colonnes numériques, monétaires, de date et d’heure extraites de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] en fonction des paramètres régionaux du client.</span><span class="sxs-lookup"><span data-stu-id="33f11-254">Causes `sqlcmd` to localize numeric, currency, date, and time columns retrieved from [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] based on the client's locale.</span></span> <span data-ttu-id="33f11-255">Par défaut, ces colonnes sont affichées à l'aide des paramètres régionaux du serveur.</span><span class="sxs-lookup"><span data-stu-id="33f11-255">By default, these columns are displayed using the server's regional settings.</span></span>  
  
 <span data-ttu-id="33f11-256">**-u**</span><span class="sxs-lookup"><span data-stu-id="33f11-256">**-u**</span></span>  
 <span data-ttu-id="33f11-257">Spécifie le stockage de *fichier_sortie* au format Unicode, quel que soit le format de *fichier_entrée*.</span><span class="sxs-lookup"><span data-stu-id="33f11-257">Specifies that *output_file* is stored in Unicode format, regardless of the format of *input_file*.</span></span>  
  
 <span data-ttu-id="33f11-258">**Options relatives à l’exécution de requêtes**</span><span class="sxs-lookup"><span data-stu-id="33f11-258">**Query Execution Options**</span></span>  
  <span data-ttu-id="33f11-259">**-e**</span><span class="sxs-lookup"><span data-stu-id="33f11-259">**-e**</span></span>  
 <span data-ttu-id="33f11-260">Écrit des scripts d’entrée sur l’appareil de sortie standard (**stdout**).</span><span class="sxs-lookup"><span data-stu-id="33f11-260">Writes input scripts to the standard output device (**stdout**).</span></span>  
  
 <span data-ttu-id="33f11-261">**-I**</span><span class="sxs-lookup"><span data-stu-id="33f11-261">**-I**</span></span>  
 <span data-ttu-id="33f11-262">Attribue la valeur ON à l'option de connexion SET QUOTED_IDENTIFIER.</span><span class="sxs-lookup"><span data-stu-id="33f11-262">Sets the SET QUOTED_IDENTIFIER connection option to ON.</span></span> <span data-ttu-id="33f11-263">La valeur OFF est choisie par défaut.</span><span class="sxs-lookup"><span data-stu-id="33f11-263">By default, it is set to OFF.</span></span> <span data-ttu-id="33f11-264">Pour plus d’informations, consultez [SET QUOTED_IDENTIFIER &#40;Transact-SQL&#41;](/sql/t-sql/statements/set-quoted-identifier-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="33f11-264">For more information, see [SET QUOTED_IDENTIFIER &#40;Transact-SQL&#41;](/sql/t-sql/statements/set-quoted-identifier-transact-sql).</span></span>  
  
 <span data-ttu-id="33f11-265">**-q"** _requête cmdline_ **"**</span><span class="sxs-lookup"><span data-stu-id="33f11-265">**-q"** _cmdline query_ **"**</span></span>  
 <span data-ttu-id="33f11-266">Exécute une requête au démarrage de `sqlcmd`, mais ne quitte pas `sqlcmd` au terme de l'exécution de la requête.</span><span class="sxs-lookup"><span data-stu-id="33f11-266">Executes a query when `sqlcmd` starts, but does not exit `sqlcmd` when the query has finished running.</span></span> <span data-ttu-id="33f11-267">Il est possible d'exécuter des requêtes séparées par plusieurs points-virgules.</span><span class="sxs-lookup"><span data-stu-id="33f11-267">Multiple-semicolon-delimited queries can be executed.</span></span> <span data-ttu-id="33f11-268">Placez la requête entre guillemets, comme dans l'exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="33f11-268">Use quotation marks around the query, as shown in the following example.</span></span>  
  
 <span data-ttu-id="33f11-269">À l’invite de commandes, tapez :</span><span class="sxs-lookup"><span data-stu-id="33f11-269">At the command prompt, type:</span></span>  
  
 `sqlcmd -d AdventureWorks2012 -q "SELECT FirstName, LastName FROM Person.Person WHERE LastName LIKE 'Whi%';"`  
  
 `sqlcmd -d AdventureWorks2012 -q "SELECT TOP 5 FirstName FROM Person.Person;SELECT TOP 5 LastName FROM Person.Person;"`  
  
> [!IMPORTANT]  
>  <span data-ttu-id="33f11-270">N'utilisez pas le terminateur GO dans la requête.</span><span class="sxs-lookup"><span data-stu-id="33f11-270">Do not use the GO terminator in the query.</span></span>  
  
 <span data-ttu-id="33f11-271">Si l'option `-b` est spécifiée avec cette option, `sqlcmd` se termine avec une erreur.</span><span class="sxs-lookup"><span data-stu-id="33f11-271">If `-b` is specified together with this option, `sqlcmd` exits on error.</span></span> <span data-ttu-id="33f11-272">L'option `-b` est traitée ultérieurement dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="33f11-272">`-b` is described later in this topic.</span></span>  
  
 <span data-ttu-id="33f11-273">**-Q "** _requête cmdline_ **"**</span><span class="sxs-lookup"><span data-stu-id="33f11-273">**-Q"** _cmdline query_ **"**</span></span>  
 <span data-ttu-id="33f11-274">Exécute une requête lorsque `sqlcmd` démarre, puis quitte immédiatement `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-274">Executes a query when `sqlcmd` starts and then immediately exits `sqlcmd`.</span></span> <span data-ttu-id="33f11-275">Il est possible d'exécuter des requêtes séparées par plusieurs points-virgules.</span><span class="sxs-lookup"><span data-stu-id="33f11-275">Multiple-semicolon-delimited queries can be executed.</span></span>  
  
 <span data-ttu-id="33f11-276">Placez la requête entre guillemets, comme dans l'exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="33f11-276">Use quotation marks around the query, as shown in the following example.</span></span>  
  
 <span data-ttu-id="33f11-277">À l’invite de commandes, tapez :</span><span class="sxs-lookup"><span data-stu-id="33f11-277">At the command prompt, type:</span></span>  
  
 `sqlcmd -d AdventureWorks2012 -Q "SELECT FirstName, LastName FROM Person.Person WHERE LastName LIKE 'Whi%';"`  
  
 `sqlcmd -d AdventureWorks2012 -Q "SELECT TOP 5 FirstName FROM Person.Person;SELECT TOP 5 LastName FROM Person.Person;"`  
  
> [!IMPORTANT]  
>  <span data-ttu-id="33f11-278">N'utilisez pas le terminateur GO dans la requête.</span><span class="sxs-lookup"><span data-stu-id="33f11-278">Do not use the GO terminator in the query.</span></span>  
  
 <span data-ttu-id="33f11-279">Si l'option `-b` est spécifiée avec cette option, `sqlcmd` se termine avec une erreur.</span><span class="sxs-lookup"><span data-stu-id="33f11-279">If `-b` is specified together with this option, `sqlcmd` exits on error.</span></span> <span data-ttu-id="33f11-280">L'option `-b` est traitée ultérieurement dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="33f11-280">`-b` is described later in this topic.</span></span>  
  
 <span data-ttu-id="33f11-281">**-t** _query_timeout_</span><span class="sxs-lookup"><span data-stu-id="33f11-281">**-t** _query_timeout_</span></span>  
 <span data-ttu-id="33f11-282">Spécifie le nombre de secondes avant l’expiration d’une commande (ou d’une instruction SQL). Cette option définit la `sqlcmd` variable de script SQLCMDSTATTIMEOUT.</span><span class="sxs-lookup"><span data-stu-id="33f11-282">Specifies the number of seconds before a command (or SQL statement) times out. This option sets the `sqlcmd` scripting variable SQLCMDSTATTIMEOUT.</span></span> <span data-ttu-id="33f11-283">Si une valeur *délai_expiration_requête* n’est pas spécifiée, la commande n’a pas de délai d’expiration. La valeur de *expiration\*\*requête* doit être un nombre compris entre 1 et 65 534.</span><span class="sxs-lookup"><span data-stu-id="33f11-283">If a *time_out* value is not specified, the command does not time out. The *query\*\*time_out* must be a number between 1 and 65534.</span></span> <span data-ttu-id="33f11-284">Si la valeur fournie n'est pas numérique ou n'est pas comprise dans cet intervalle, `sqlcmd` génère un message d'erreur.</span><span class="sxs-lookup"><span data-stu-id="33f11-284">If the value supplied is not numeric or does not fall into that range, `sqlcmd` generates an error message.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-285">La valeur de délai d’expiration réelle peut différer de quelques secondes de la valeur *délai_expiration* .</span><span class="sxs-lookup"><span data-stu-id="33f11-285">The actual time out value may vary from the specified *time_out* value by several seconds.</span></span>  
  
 <span data-ttu-id="33f11-286">**-vvar =** _valeur_[ **var =** _valeur_...]</span><span class="sxs-lookup"><span data-stu-id="33f11-286">**-vvar =** _value_[ **var =** _value_...]</span></span>  
 <span data-ttu-id="33f11-287">Crée une `sqlcmd` variable de script qui peut être utilisée dans un `sqlcmd` script.</span><span class="sxs-lookup"><span data-stu-id="33f11-287">Creates a `sqlcmd`scripting variable that can be used in a `sqlcmd` script.</span></span> <span data-ttu-id="33f11-288">Placez la valeur entre guillemets si elle contient des espaces.</span><span class="sxs-lookup"><span data-stu-id="33f11-288">Enclose the value in quotation marks if the value contains spaces.</span></span> <span data-ttu-id="33f11-289">Vous pouvez spécifier plusieurs valeurs **_var_** = **« *`values`* »** .</span><span class="sxs-lookup"><span data-stu-id="33f11-289">You can specify multiple **_var_**=**"*`values`*"** values.</span></span> <span data-ttu-id="33f11-290">Si l'une des valeurs spécifiées comporte des erreurs, `sqlcmd` génère un message d'erreur et se termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-290">If there are errors in any of the values specified, `sqlcmd` generates an error message and then exits.</span></span>  
  
 `sqlcmd -v MyVar1=something MyVar2="some thing"`  
  
 `sqlcmd -v MyVar1=something -v MyVar2="some thing"`  
  
 <span data-ttu-id="33f11-291">**-x**</span><span class="sxs-lookup"><span data-stu-id="33f11-291">**-x**</span></span>  
 <span data-ttu-id="33f11-292">Permet à `sqlcmd` d'ignorer les variables de script.</span><span class="sxs-lookup"><span data-stu-id="33f11-292">Causes `sqlcmd` to ignore scripting variables.</span></span> <span data-ttu-id="33f11-293">Cela s’avère utile quand un script contient de nombreuses instructions INSERT pouvant contenir des chaînes dotées du même format que des variables régulières, par exemple $(*nom_variable*).</span><span class="sxs-lookup"><span data-stu-id="33f11-293">This is useful when a script contains many INSERT statements that may contain strings that have the same format as regular variables, such as $(*variable_name*).</span></span>  
  
 <span data-ttu-id="33f11-294">**Options relatives à la mise en forme**</span><span class="sxs-lookup"><span data-stu-id="33f11-294">**Formatting Options**</span></span>  
  <span data-ttu-id="33f11-295">**-h** _en-têtes_</span><span class="sxs-lookup"><span data-stu-id="33f11-295">**-h** _headers_</span></span>  
 <span data-ttu-id="33f11-296">Spécifie le nombre de lignes à imprimer entre les en-têtes de colonne.</span><span class="sxs-lookup"><span data-stu-id="33f11-296">Specifies the number of rows to print between the column headings.</span></span> <span data-ttu-id="33f11-297">Par défaut, les en-têtes ne sont imprimés qu'une fois pour chaque jeu de résultats d'une requête.</span><span class="sxs-lookup"><span data-stu-id="33f11-297">The default is to print headings one time for each set of query results.</span></span> <span data-ttu-id="33f11-298">Cette option définit la variable de script `sqlcmd` SQLCMDHEADERS.</span><span class="sxs-lookup"><span data-stu-id="33f11-298">This option sets the `sqlcmd` scripting variable SQLCMDHEADERS.</span></span> <span data-ttu-id="33f11-299">Utilisez **-1** pour indiquer qu’aucun en-tête ne doit être imprimé.</span><span class="sxs-lookup"><span data-stu-id="33f11-299">Use **-1** to specify that headers must not be printed.</span></span> <span data-ttu-id="33f11-300">En présence d'une valeur non valide, `sqlcmd` génère un message d'erreur et se termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-300">Any value that is not valid causes `sqlcmd` to generate an error message and then exit.</span></span>  
  
 <span data-ttu-id="33f11-301">**-k** [**1** | **2**]</span><span class="sxs-lookup"><span data-stu-id="33f11-301">**-k** [**1** | **2**]</span></span>  
 <span data-ttu-id="33f11-302">Supprime de la sortie tous les caractères de contrôle, par exemple les tabulations et les caractères de nouvelle ligne.</span><span class="sxs-lookup"><span data-stu-id="33f11-302">Removes all control characters, such as tabs and new line characters from the output.</span></span> <span data-ttu-id="33f11-303">Cela préserve la mise en forme des colonnes lorsque des données sont retournées.</span><span class="sxs-lookup"><span data-stu-id="33f11-303">This preserves column formatting when data is returned.</span></span> <span data-ttu-id="33f11-304">Si 1 est spécifié, les caractères de contrôle sont remplacés par un espace.</span><span class="sxs-lookup"><span data-stu-id="33f11-304">If 1 is specified, the control characters are replaced by a single space.</span></span> <span data-ttu-id="33f11-305">Si 2 est spécifié, les caractères de contrôle sont remplacés par un espace.</span><span class="sxs-lookup"><span data-stu-id="33f11-305">If 2 is specified, consecutive control characters are replaced by a single space.</span></span> <span data-ttu-id="33f11-306">**-k** est identique à **-k1**.</span><span class="sxs-lookup"><span data-stu-id="33f11-306">**-k** is the same as **-k1**.</span></span>  
  
 <span data-ttu-id="33f11-307">**-s** _col_separator_</span><span class="sxs-lookup"><span data-stu-id="33f11-307">**-s** _col_separator_</span></span>  
 <span data-ttu-id="33f11-308">Spécifie le caractère de séparation des colonnes.</span><span class="sxs-lookup"><span data-stu-id="33f11-308">Specifies the column-separator character.</span></span> <span data-ttu-id="33f11-309">Le caractère espace est utilisé par défaut.</span><span class="sxs-lookup"><span data-stu-id="33f11-309">The default is a blank space.</span></span> <span data-ttu-id="33f11-310">Cette option définit la variable de script `sqlcmd` SQLCMDCOLSEP.</span><span class="sxs-lookup"><span data-stu-id="33f11-310">This option sets the `sqlcmd` scripting variable SQLCMDCOLSEP.</span></span> <span data-ttu-id="33f11-311">Pour utiliser des caractères ayant une signification spéciale pour le système d'exploitation, tels que le « et » commercial (&) ou le point-virgule (;), placez ce caractère entre guillemets (").</span><span class="sxs-lookup"><span data-stu-id="33f11-311">To use characters that have special meaning to the operating system such as the ampersand (&), or semicolon (;), enclose the character in quotation marks (").</span></span> <span data-ttu-id="33f11-312">Le séparateur des colonnes peut être n'importe quel caractère 8 bits.</span><span class="sxs-lookup"><span data-stu-id="33f11-312">The column separator can be any 8-bit character.</span></span>  
  
 <span data-ttu-id="33f11-313">**-w** _column_width_</span><span class="sxs-lookup"><span data-stu-id="33f11-313">**-w** _column_width_</span></span>  
 <span data-ttu-id="33f11-314">Spécifie la largeur d'écran pour la sortie.</span><span class="sxs-lookup"><span data-stu-id="33f11-314">Specifies the screen width for output.</span></span> <span data-ttu-id="33f11-315">Cette option définit la variable de script `sqlcmd` SQLCMDCOLWIDTH.</span><span class="sxs-lookup"><span data-stu-id="33f11-315">This option sets the `sqlcmd` scripting variable SQLCMDCOLWIDTH.</span></span> <span data-ttu-id="33f11-316">La largeur de colonne doit être un nombre supérieur à 8 et inférieur à 65536.</span><span class="sxs-lookup"><span data-stu-id="33f11-316">The column width must be a number greater than 8 and less than 65536.</span></span> <span data-ttu-id="33f11-317">Si la largeur de colonne spécifiée ne tombe pas dans cette plage, `sqlcmd` génère un message d'erreur.</span><span class="sxs-lookup"><span data-stu-id="33f11-317">If the specified column width does not fall into that range, `sqlcmd` generates and error message.</span></span> <span data-ttu-id="33f11-318">La largeur par défaut est de 80 caractères.</span><span class="sxs-lookup"><span data-stu-id="33f11-318">The default width is 80 characters.</span></span> <span data-ttu-id="33f11-319">Lorsque la longueur d'une ligne de sortie est supérieure à la largeur de colonne spécifiée, elle revient à la ligne suivante.</span><span class="sxs-lookup"><span data-stu-id="33f11-319">When an output line exceeds the specified column width, it wraps on to the next line.</span></span>  
  
 <span data-ttu-id="33f11-320">**-W**</span><span class="sxs-lookup"><span data-stu-id="33f11-320">**-W**</span></span>  
 <span data-ttu-id="33f11-321">Cette option supprime les espaces à droite d'une colonne.</span><span class="sxs-lookup"><span data-stu-id="33f11-321">This option removes trailing spaces from a column.</span></span> <span data-ttu-id="33f11-322">Utilisez cette option avec l’option **-s** lors de la préparation de données à exporter dans une autre application.</span><span class="sxs-lookup"><span data-stu-id="33f11-322">Use this option together with the **-s** option when preparing data that is to be exported to another application.</span></span> <span data-ttu-id="33f11-323">Elle ne peut pas être utilisée avec les options **-y** ou **-Y** .</span><span class="sxs-lookup"><span data-stu-id="33f11-323">Cannot be used with the **-y** or **-Y** options.</span></span>  
  
 <span data-ttu-id="33f11-324">**-y** _variable_length_type_display_width_</span><span class="sxs-lookup"><span data-stu-id="33f11-324">**-y** _variable_length_type_display_width_</span></span>  
 <span data-ttu-id="33f11-325">Définit la variable de script `sqlcmd` SQLCMDMAXVARTYPEWIDTH.</span><span class="sxs-lookup"><span data-stu-id="33f11-325">Sets the `sqlcmd` scripting variable SQLCMDMAXVARTYPEWIDTH.</span></span> <span data-ttu-id="33f11-326">La valeur par défaut est 256.</span><span class="sxs-lookup"><span data-stu-id="33f11-326">The default is 256.</span></span> <span data-ttu-id="33f11-327">Elle limite le nombre de caractères retournés pour les types de données de longueur variable importante :</span><span class="sxs-lookup"><span data-stu-id="33f11-327">It limits the number of characters that are returned for the large variable length data types:</span></span>  
  
-   `varchar(max)`  
  
-   `nvarchar(max)`  
  
-   `varbinary(max)`  
  
-   `xml`  
  
-   `UDT (user-defined data types)`  
  
-   `text`  
  
-   `ntext`  
  
-   `image`  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-328">Les types UDT peuvent être de longueur fixe, selon la mise en œuvre.</span><span class="sxs-lookup"><span data-stu-id="33f11-328">UDTs can be of fixed length depending on the implementation.</span></span> <span data-ttu-id="33f11-329">Si cette longueur d’un type UDT à longueur fixe est inférieure à *largeur_affichage*, la valeur du type UDT retournée n’est pas affectée.</span><span class="sxs-lookup"><span data-stu-id="33f11-329">If this length of a fixed length UDT is shorter that *display_width*, the value of the UDT returned is not affected.</span></span> <span data-ttu-id="33f11-330">Cependant, si la longueur est supérieure à *largeur_affichage*, la sortie est tronquée.</span><span class="sxs-lookup"><span data-stu-id="33f11-330">However, if the length is longer than *display_width*, the output is truncated.</span></span>  
  
 
> [!IMPORTANT]  
>  <span data-ttu-id="33f11-331">Utilisez l’option **-y 0** avec une extrême prudence, car elle peut créer de graves problèmes de performances sur le serveur et le réseau, en fonction de la taille des données retournées.</span><span class="sxs-lookup"><span data-stu-id="33f11-331">Use the **-y 0** option with extreme caution because it may cause serious performance issues on both the server and the network, depending on the size of data returned.</span></span>  
  
 <span data-ttu-id="33f11-332">**-Y** _fixed_length_type_display_width_</span><span class="sxs-lookup"><span data-stu-id="33f11-332">**-Y** _fixed_length_type_display_width_</span></span>  
 <span data-ttu-id="33f11-333">Définit la variable de script `sqlcmd` SQLCMDMAXFIXEDTYPEWIDTH.</span><span class="sxs-lookup"><span data-stu-id="33f11-333">Sets the `sqlcmd` scripting variable SQLCMDMAXFIXEDTYPEWIDTH.</span></span> <span data-ttu-id="33f11-334">La valeur par défaut est 0 (illimitée).</span><span class="sxs-lookup"><span data-stu-id="33f11-334">The default is 0 (unlimited).</span></span> <span data-ttu-id="33f11-335">Limite le nombre de caractères retournés pour les types de données suivants :</span><span class="sxs-lookup"><span data-stu-id="33f11-335">Limits the number of characters that are returned for the following data types:</span></span>  
  
-   <span data-ttu-id="33f11-336">`char(`*n* `)` , où 1<= n<= 8000</span><span class="sxs-lookup"><span data-stu-id="33f11-336">`char(` *n* `)`, where 1<=n<=8000</span></span>  
  
-   <span data-ttu-id="33f11-337">`nchar(n`*n* `)` , où 1<= n<= 4000</span><span class="sxs-lookup"><span data-stu-id="33f11-337">`nchar(n` *n* `)`, where 1<=n<=4000</span></span>  
  
-   <span data-ttu-id="33f11-338">`varchar(n`*n* `)` , où 1<= n<= 8000</span><span class="sxs-lookup"><span data-stu-id="33f11-338">`varchar(n` *n* `)`, where 1<=n<=8000</span></span>  
  
-   <span data-ttu-id="33f11-339">`nvarchar(n`*n* `)` , où 1<= n<= 4000</span><span class="sxs-lookup"><span data-stu-id="33f11-339">`nvarchar(n` *n* `)`, where 1<=n<=4000</span></span>  
  
-   <span data-ttu-id="33f11-340">`varbinary(n`*n* `)` , où 1<= n<= 4000</span><span class="sxs-lookup"><span data-stu-id="33f11-340">`varbinary(n` *n* `)`, where 1<=n<=4000</span></span>  
  
-   `variant`  
  
 <span data-ttu-id="33f11-341">**Options relatives aux rapports d’erreurs**</span><span class="sxs-lookup"><span data-stu-id="33f11-341">**Error Reporting Options**</span></span>  
  `-b`  
 <span data-ttu-id="33f11-342">Spécifie que `sqlcmd` prend fin et retourne une valeur DOS ERRORLEVEL lorsqu'une erreur se produit.</span><span class="sxs-lookup"><span data-stu-id="33f11-342">Specifies that `sqlcmd` exits and returns a DOS ERRORLEVEL value when an error occurs.</span></span> <span data-ttu-id="33f11-343">La valeur qui est retournée à la variable DOS ERRORLEVEL est **1** lorsque le message d'erreur de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] possède un niveau de gravité supérieur à 10 ; sinon, la valeur retournée est **0**.</span><span class="sxs-lookup"><span data-stu-id="33f11-343">The value that is returned to the DOS ERRORLEVEL variable is **1** when the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] error message has a severity level greater than 10; otherwise, the value returned is **0**.</span></span> <span data-ttu-id="33f11-344">Si l'option `-V` a été définie en complément de `-b`, `sqlcmd` ne signale pas d'erreur si le niveau de gravité est inférieur aux valeurs définies à l'aide de `-V`.</span><span class="sxs-lookup"><span data-stu-id="33f11-344">If the `-V` option has been set in addition to `-b`, `sqlcmd` will not report an error if the severity level is lower than the values set using `-V`.</span></span> <span data-ttu-id="33f11-345">Les fichiers de commande peuvent tester la valeur de ERRORLEVEL et traiter l'erreur d'une manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="33f11-345">Command prompt batch files can test the value of ERRORLEVEL and handle the error appropriately.</span></span> <span data-ttu-id="33f11-346">`sqlcmd` ne signale pas d'erreurs pour un niveau de gravité 10 (messages d'information).</span><span class="sxs-lookup"><span data-stu-id="33f11-346">`sqlcmd` does not report errors for severity level 10 (informational messages).</span></span>  
  
 <span data-ttu-id="33f11-347">Si le script `sqlcmd` contient un commentaire incorrect, une erreur de syntaxe ou si une variable de script est manquante, la valeur ERRORLEVEL retournée est 1.</span><span class="sxs-lookup"><span data-stu-id="33f11-347">If the `sqlcmd` script contains an incorrect comment, syntax error, or is missing a scripting variable, ERRORLEVEL returned is 1.</span></span>  
  
 <span data-ttu-id="33f11-348">**-m** _error_level_</span><span class="sxs-lookup"><span data-stu-id="33f11-348">**-m** _error_level_</span></span>  
 <span data-ttu-id="33f11-349">Détermine les messages d’erreur envoyés à **stdout**.</span><span class="sxs-lookup"><span data-stu-id="33f11-349">Controls which error messages are sent to **stdout**.</span></span> <span data-ttu-id="33f11-350">Les messages assortis d'un niveau de gravité supérieur ou égal à ce niveau sont envoyés.</span><span class="sxs-lookup"><span data-stu-id="33f11-350">Messages that have a severity level greater than or equal to this level are sent.</span></span> <span data-ttu-id="33f11-351">Quand cette valeur est égale à **-1**, tous les messages, notamment les messages d’information, sont envoyés.</span><span class="sxs-lookup"><span data-stu-id="33f11-351">When this value is set to **-1**, all messages including informational messages, are sent.</span></span> <span data-ttu-id="33f11-352">Les espaces ne sont pas autorisés entre **-m** et **-1**.</span><span class="sxs-lookup"><span data-stu-id="33f11-352">Spaces are not allowed between the **-m** and **-1**.</span></span> <span data-ttu-id="33f11-353">Par exemple, **-m-1** est valide, mais **-m-1** ne l’est pas.</span><span class="sxs-lookup"><span data-stu-id="33f11-353">For example, **-m-1** is valid, and **-m-1** is not.</span></span>  
  
 <span data-ttu-id="33f11-354">Cette option définit également la variable de script `sqlcmd` SQLCMDERRORLEVEL.</span><span class="sxs-lookup"><span data-stu-id="33f11-354">This option also sets the `sqlcmd` scripting variable SQLCMDERRORLEVEL.</span></span> <span data-ttu-id="33f11-355">La valeur par défaut de cette variable est 0.</span><span class="sxs-lookup"><span data-stu-id="33f11-355">This variable has a default of 0.</span></span>  
  
 <span data-ttu-id="33f11-356">`-V`*error_severity_level*</span><span class="sxs-lookup"><span data-stu-id="33f11-356">`-V` *error_severity_level*</span></span>  
 <span data-ttu-id="33f11-357">Contrôle le niveau de gravité utilisé pour définir la variable ERRORLEVEL.</span><span class="sxs-lookup"><span data-stu-id="33f11-357">Controls the severity level that is used to set the ERRORLEVEL variable.</span></span> <span data-ttu-id="33f11-358">Les messages d'erreur assortis de niveaux de gravité supérieurs ou égaux à cette valeur définissent ERRORLEVEL.</span><span class="sxs-lookup"><span data-stu-id="33f11-358">Error messages that have severity levels greater than or equal to this value set ERRORLEVEL.</span></span> <span data-ttu-id="33f11-359">Les valeurs inférieures à 0 sont signalées comme étant 0.</span><span class="sxs-lookup"><span data-stu-id="33f11-359">Values that are less than 0 are reported as 0.</span></span> <span data-ttu-id="33f11-360">La valeur de la variable ERRORLEVEL peut être testée au moyen de fichiers de commandes et CMD.</span><span class="sxs-lookup"><span data-stu-id="33f11-360">Batch and CMD files can be used to test the value of the ERRORLEVEL variable.</span></span>  
  
 <span data-ttu-id="33f11-361">**Options diverses**</span><span class="sxs-lookup"><span data-stu-id="33f11-361">**Miscellaneous Options**</span></span>  
  <span data-ttu-id="33f11-362">**-a** _packet_size_</span><span class="sxs-lookup"><span data-stu-id="33f11-362">**-a** _packet_size_</span></span>  
 <span data-ttu-id="33f11-363">Demande un paquet d'une taille différente.</span><span class="sxs-lookup"><span data-stu-id="33f11-363">Requests a packet of a different size.</span></span> <span data-ttu-id="33f11-364">Cette option définit la variable de script `sqlcmd` SQLCMDPACKETSIZE.</span><span class="sxs-lookup"><span data-stu-id="33f11-364">This option sets the `sqlcmd` scripting variable SQLCMDPACKETSIZE.</span></span> <span data-ttu-id="33f11-365">*taille_paquet* doit être une valeur comprise entre 512 et 32767.</span><span class="sxs-lookup"><span data-stu-id="33f11-365">*packet_size* must be a value between 512 and 32767.</span></span> <span data-ttu-id="33f11-366">La valeur par défaut est de 4096.</span><span class="sxs-lookup"><span data-stu-id="33f11-366">The default = 4096.</span></span> <span data-ttu-id="33f11-367">Une plus grande taille de paquet peut améliorer les performances d'exécution des scripts comportant un grand nombre d'instructions SQL entre des commandes GO.</span><span class="sxs-lookup"><span data-stu-id="33f11-367">A larger packet size can enhance performance for execution of scripts that have lots of SQL statements between GO commands.</span></span> <span data-ttu-id="33f11-368">Vous pouvez demander une taille de paquet plus élevée.</span><span class="sxs-lookup"><span data-stu-id="33f11-368">You can request a larger packet size.</span></span> <span data-ttu-id="33f11-369">Cependant, si la requête est refusée, `sqlcmd` adopte la taille de paquet par défaut du serveur comme taille de paquet.</span><span class="sxs-lookup"><span data-stu-id="33f11-369">However, if the request is denied, `sqlcmd` uses the server default for packet size.</span></span>  
  
 <span data-ttu-id="33f11-370">**-c** _batch_terminator_</span><span class="sxs-lookup"><span data-stu-id="33f11-370">**-c** _batch_terminator_</span></span>  
 <span data-ttu-id="33f11-371">Spécifie le terminateur de traitement.</span><span class="sxs-lookup"><span data-stu-id="33f11-371">Specifies the batch terminator.</span></span> <span data-ttu-id="33f11-372">Par défaut, il faut entrer la commande « GO » sur une ligne isolée pour terminer une commande et la soumettre à [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="33f11-372">By default, commands are terminated and sent to [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] by typing the word "GO" on a line by itself.</span></span> <span data-ttu-id="33f11-373">Si vous modifiez de terminateur de traitement, n'utilisez ni les mots clé [!INCLUDE[tsql](../includes/tsql-md.md)] ni les caractères ayant une signification particulière pour le système d'exploitation, qu'ils soient ou non précédés d'une barre oblique inverse</span><span class="sxs-lookup"><span data-stu-id="33f11-373">When you reset the batch terminator, do not use [!INCLUDE[tsql](../includes/tsql-md.md)] reserved keywords or characters that have special meaning to the operating system, even if they are preceded by a backslash.</span></span>  
  
 <span data-ttu-id="33f11-374">**-L**[**c**]</span><span class="sxs-lookup"><span data-stu-id="33f11-374">**-L**[**c**]</span></span>  
 <span data-ttu-id="33f11-375">Répertorie tous les serveurs configurés localement et le nom des serveurs diffusant sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="33f11-375">Lists the locally configured server computers, and the names of the server computers that are broadcasting on the network.</span></span> <span data-ttu-id="33f11-376">Ce paramètre ne peut pas être utilisé en combinaison avec d'autres paramètres.</span><span class="sxs-lookup"><span data-stu-id="33f11-376">This parameter cannot be used in combination with other parameters.</span></span> <span data-ttu-id="33f11-377">Le nombre maximal de serveurs pouvant être répertoriés est de 3000.</span><span class="sxs-lookup"><span data-stu-id="33f11-377">The maximum number of server computers that can be listed is 3000.</span></span> <span data-ttu-id="33f11-378">Si la liste de serveurs est tronquée en raison de la taille de la mémoire tampon, un message d'avertissement s'affiche.</span><span class="sxs-lookup"><span data-stu-id="33f11-378">If the server list is truncated because of the size of the buffer a warning message is displayed.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-379">Compte tenu de la nature de la diffusion sur les réseaux, il est possible que `sqlcmd` ne reçoive pas de réponse de tous les serveurs dans les délais impartis.</span><span class="sxs-lookup"><span data-stu-id="33f11-379">Because of the nature of broadcasting on networks, `sqlcmd` may not receive a timely response from all servers.</span></span> <span data-ttu-id="33f11-380">Par conséquent, la liste des serveurs retournée peut varier à chaque invocation de cette option.</span><span class="sxs-lookup"><span data-stu-id="33f11-380">Therefore, the list of servers returned may vary for each invocation of this option.</span></span>  
  
 <span data-ttu-id="33f11-381">Si le paramètre optionnel **c** est spécifié, la sortie s’affiche sans les serveurs : la ligne d’en-tête et chaque ligne de serveur est indiquée sans espaces de début.</span><span class="sxs-lookup"><span data-stu-id="33f11-381">If the optional parameter **c** is specified, the output appears without the Servers: header line and each server line is listed without leading spaces.</span></span> <span data-ttu-id="33f11-382">La sortie est alors dite « propre ».</span><span class="sxs-lookup"><span data-stu-id="33f11-382">This is referred to as clean output.</span></span> <span data-ttu-id="33f11-383">Une sortie propre améliore les performances de traitement des langages de script.</span><span class="sxs-lookup"><span data-stu-id="33f11-383">Clean output improves the processing performance of scripting languages.</span></span>  
  
 <span data-ttu-id="33f11-384">**-p**[**1**]</span><span class="sxs-lookup"><span data-stu-id="33f11-384">**-p**[**1**]</span></span>  
 <span data-ttu-id="33f11-385">Imprime des statistiques de performances pour chaque jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="33f11-385">Prints performance statistics for every result set.</span></span> <span data-ttu-id="33f11-386">L'exemple suivant illustre le format des statistiques de performances :</span><span class="sxs-lookup"><span data-stu-id="33f11-386">The following is an example of the format for performance statistics:</span></span>  
  
 `Network packet size (bytes): n`  
  
 `x xact[s]:`  
  
 `Clock Time (ms.): total       t1  avg       t2 (t3 xacts per sec.)`  
  
 <span data-ttu-id="33f11-387">Où :</span><span class="sxs-lookup"><span data-stu-id="33f11-387">Where:</span></span>  
  
 <span data-ttu-id="33f11-388">`x` = Nombre de transactions traitées par [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="33f11-388">`x` = Number of transactions that are processed by [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="33f11-389">`t1` = Durée totale de toutes les transactions.</span><span class="sxs-lookup"><span data-stu-id="33f11-389">`t1` = Total time for all transactions.</span></span>  
  
 <span data-ttu-id="33f11-390">`t2` = Durée moyenne d’une transaction spécifique.</span><span class="sxs-lookup"><span data-stu-id="33f11-390">`t2` = Average time for a single transaction.</span></span>  
  
 <span data-ttu-id="33f11-391">`t3` = Nombre moyen de transactions par seconde.</span><span class="sxs-lookup"><span data-stu-id="33f11-391">`t3` = Average number of transactions per second.</span></span>  
  
 <span data-ttu-id="33f11-392">Toutes les durées sont exprimées en millisecondes.</span><span class="sxs-lookup"><span data-stu-id="33f11-392">All times are in milliseconds.</span></span>  
  
 <span data-ttu-id="33f11-393">Si le paramètre facultatif **1** est spécifié, les statistiques sont séparées par deux points et peuvent être aisément importées dans une feuille de calcul ou traitées par un script.</span><span class="sxs-lookup"><span data-stu-id="33f11-393">If the optional parameter **1** is specified, the output format of the statistics is in colon-separated format that can be imported easily into a spreadsheet or processed by a script.</span></span>  
  
 <span data-ttu-id="33f11-394">Si le paramètre facultatif est une valeur autre que **1**, une erreur est générée et se `sqlcmd` termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-394">If the optional parameter is any value other than **1**, an error is generated and `sqlcmd` exits.</span></span>  
  
 <span data-ttu-id="33f11-395">`-X`[**1**]</span><span class="sxs-lookup"><span data-stu-id="33f11-395">`-X`[**1**]</span></span>  
 <span data-ttu-id="33f11-396">Désactive les commandes pouvant compromettre la sécurité du système lorsque `sqlcmd` est exécuté à partir d'un fichier de commandes.</span><span class="sxs-lookup"><span data-stu-id="33f11-396">Disables commands that might compromise system security when `sqlcmd` is executed from a batch file.</span></span> <span data-ttu-id="33f11-397">Les commandes désactivées sont toujours reconnues ; `sqlcmd` émet un message d'avertissement et continue.</span><span class="sxs-lookup"><span data-stu-id="33f11-397">The disabled commands are still recognized; `sqlcmd` issues a warning message and continues.</span></span> <span data-ttu-id="33f11-398">Si le paramètre facultatif **1** est spécifié, `sqlcmd` génère un message d’erreur et se termine.</span><span class="sxs-lookup"><span data-stu-id="33f11-398">If the optional parameter **1** is specified, `sqlcmd` generates an error message and then exits.</span></span> <span data-ttu-id="33f11-399">Les commandes suivantes sont désactivées lorsque l'option `-X` est utilisée :</span><span class="sxs-lookup"><span data-stu-id="33f11-399">The following commands are disabled when the `-X` option is used:</span></span>  
  
-   <span data-ttu-id="33f11-400">**ED**</span><span class="sxs-lookup"><span data-stu-id="33f11-400">**ED**</span></span>  
  
-   <span data-ttu-id="33f11-401">**!!**</span><span class="sxs-lookup"><span data-stu-id="33f11-401">**!!**</span></span> <span data-ttu-id="33f11-402">_command_</span><span class="sxs-lookup"><span data-stu-id="33f11-402">_command_</span></span>  
  
 <span data-ttu-id="33f11-403">Si l'option `-X` est spécifiée, elle empêche le passage des variables d'environnement à `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-403">If the `-X` option is specified, it prevents environment variables from being passed on to `sqlcmd`.</span></span> <span data-ttu-id="33f11-404">Elle interdit également l'exécution du script de démarrage spécifié au moyen de la variable de script SQLCMDINI.</span><span class="sxs-lookup"><span data-stu-id="33f11-404">It also prevents the startup script specified by using the SQLCMDINI scripting variable from being executed.</span></span> <span data-ttu-id="33f11-405">Pour plus d’informations sur les `sqlcmd` variables de script, consultez [utiliser SQLCMD avec des variables de script](../relational-databases/scripting/sqlcmd-use-with-scripting-variables.md).</span><span class="sxs-lookup"><span data-stu-id="33f11-405">For more information about `sqlcmd` scripting variables, see [Use sqlcmd with Scripting Variables](../relational-databases/scripting/sqlcmd-use-with-scripting-variables.md).</span></span>  
  
 <span data-ttu-id="33f11-406">**-?**</span><span class="sxs-lookup"><span data-stu-id="33f11-406">**-?**</span></span>  
 <span data-ttu-id="33f11-407">Affiche le résumé de la syntaxe des options de `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-407">Displays the syntax summary of `sqlcmd` options.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="33f11-408">Notes</span><span class="sxs-lookup"><span data-stu-id="33f11-408">Remarks</span></span>  
 <span data-ttu-id="33f11-409">Les options ne doivent pas nécessairement être utilisées dans l'ordre indiqué dans la section de la syntaxe.</span><span class="sxs-lookup"><span data-stu-id="33f11-409">Options do not have to be used in the order shown in the syntax section.</span></span>  
  
 <span data-ttu-id="33f11-410">Lorsque plusieurs résultats sont retournés, `sqlcmd` imprime une ligne vide entre chaque ensemble de résultats dans un traitement.</span><span class="sxs-lookup"><span data-stu-id="33f11-410">When multiple results are returned, `sqlcmd` prints a blank line between each result set in a batch.</span></span> <span data-ttu-id="33f11-411">En outre, le \<x> message « lignes affectées » ne s’affiche pas lorsqu’il ne s’applique pas à l’instruction exécutée.</span><span class="sxs-lookup"><span data-stu-id="33f11-411">In addition, the "\<x> rows affected" message does not appear when it does not apply to the statement executed.</span></span>  
  
 <span data-ttu-id="33f11-412">Pour `sqlcmd` une utilisation interactive, tapez `sqlcmd` à l’invite de commandes avec une ou plusieurs des options décrites précédemment dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="33f11-412">To use `sqlcmd` interactively, type `sqlcmd` at the command prompt with any one or more of the options described earlier in this topic.</span></span> <span data-ttu-id="33f11-413">Pour plus d’informations, consultez [Utiliser l’utilitaire sqlcmd](../relational-databases/scripting/sqlcmd-use-the-utility.md).</span><span class="sxs-lookup"><span data-stu-id="33f11-413">For more information, see [Use the sqlcmd Utility](../relational-databases/scripting/sqlcmd-use-the-utility.md)</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-414">Les options **-L**, **-Q**, **-Z** ou **-i** provoquent la `sqlcmd` fermeture après l’exécution.</span><span class="sxs-lookup"><span data-stu-id="33f11-414">The options **-L**, **-Q**, **-Z** or **-i** cause `sqlcmd` to exit after execution.</span></span>  
  
 <span data-ttu-id="33f11-415">La longueur totale de la ligne de commande `sqlcmd` dans l'environnement de commande (Cmd.exe), comprenant tous les arguments et les variables développées, est la longueur déterminée par le système d'exploitation pour Cmd.exe.</span><span class="sxs-lookup"><span data-stu-id="33f11-415">The total length of the `sqlcmd` command line in the command environment (Cmd.exe), including all arguments and expanded variables, is that which is determined by the operating system for Cmd.exe.</span></span>  
  
## <a name="variable-precedence-low-to-high"></a><span data-ttu-id="33f11-416">Priorité des variables (faible à élevée)</span><span class="sxs-lookup"><span data-stu-id="33f11-416">Variable Precedence (Low to High)</span></span>  
  
1.  <span data-ttu-id="33f11-417">Variables d'environnement au niveau du système.</span><span class="sxs-lookup"><span data-stu-id="33f11-417">System-level environmental variables.</span></span>  
  
2.  <span data-ttu-id="33f11-418">Variables d'environnement au niveau de l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="33f11-418">User-level environmental variables</span></span>  
  
3.  <span data-ttu-id="33f11-419">Interface de commande (**Set** X = Y) définie à l’invite de commandes avant l’exécution `sqlcmd` .</span><span class="sxs-lookup"><span data-stu-id="33f11-419">Command shell (**SET** X=Y) set at command prompt before running `sqlcmd`.</span></span>  
  
4.  <span data-ttu-id="33f11-420">**sqlcmd-v** X=Y</span><span class="sxs-lookup"><span data-stu-id="33f11-420">**sqlcmd-v** X=Y</span></span>  
  
5.  <span data-ttu-id="33f11-421">**:Setvar** X Y</span><span class="sxs-lookup"><span data-stu-id="33f11-421">**:Setvar** X Y</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-422">Pour afficher les variables d’environnement, dans le **Panneau de configuration**, ouvrez **Système**, puis cliquez sur l’onglet **Avancé** .</span><span class="sxs-lookup"><span data-stu-id="33f11-422">To view the environmental variables, in **Control Panel**, open **System**, and then click the **Advanced** tab.</span></span>  
  
## <a name="sqlcmd-scripting-variables"></a><span data-ttu-id="33f11-423">Variables de script sqlcmd</span><span class="sxs-lookup"><span data-stu-id="33f11-423">sqlcmd Scripting Variables</span></span>  
  
|<span data-ttu-id="33f11-424">Variable</span><span class="sxs-lookup"><span data-stu-id="33f11-424">Variable</span></span>|<span data-ttu-id="33f11-425">Commutateur associé</span><span class="sxs-lookup"><span data-stu-id="33f11-425">Related switch</span></span>|<span data-ttu-id="33f11-426">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-426">R/W</span></span>|<span data-ttu-id="33f11-427">Default</span><span class="sxs-lookup"><span data-stu-id="33f11-427">Default</span></span>|  
|--------------|--------------------|----------|-------------|  
|<span data-ttu-id="33f11-428">SQLCMDUSER</span><span class="sxs-lookup"><span data-stu-id="33f11-428">SQLCMDUSER</span></span>|<span data-ttu-id="33f11-429">-U</span><span class="sxs-lookup"><span data-stu-id="33f11-429">-U</span></span>|<span data-ttu-id="33f11-430">R</span><span class="sxs-lookup"><span data-stu-id="33f11-430">R</span></span>|<span data-ttu-id="33f11-431">""</span><span class="sxs-lookup"><span data-stu-id="33f11-431">""</span></span>|  
|<span data-ttu-id="33f11-432">SQLCMDPASSWORD</span><span class="sxs-lookup"><span data-stu-id="33f11-432">SQLCMDPASSWORD</span></span>|<span data-ttu-id="33f11-433">-P</span><span class="sxs-lookup"><span data-stu-id="33f11-433">-P</span></span>|--|<span data-ttu-id="33f11-434">""</span><span class="sxs-lookup"><span data-stu-id="33f11-434">""</span></span>|  
|<span data-ttu-id="33f11-435">SQLCMDSERVER</span><span class="sxs-lookup"><span data-stu-id="33f11-435">SQLCMDSERVER</span></span>|<span data-ttu-id="33f11-436">-S</span><span class="sxs-lookup"><span data-stu-id="33f11-436">-S</span></span>|<span data-ttu-id="33f11-437">R</span><span class="sxs-lookup"><span data-stu-id="33f11-437">R</span></span>|<span data-ttu-id="33f11-438">"DefaultLocalInstance"</span><span class="sxs-lookup"><span data-stu-id="33f11-438">"DefaultLocalInstance"</span></span>|  
|<span data-ttu-id="33f11-439">SQLCMDWORKSTATION</span><span class="sxs-lookup"><span data-stu-id="33f11-439">SQLCMDWORKSTATION</span></span>|<span data-ttu-id="33f11-440">-H</span><span class="sxs-lookup"><span data-stu-id="33f11-440">-H</span></span>|<span data-ttu-id="33f11-441">R</span><span class="sxs-lookup"><span data-stu-id="33f11-441">R</span></span>|<span data-ttu-id="33f11-442">"ComputerName"</span><span class="sxs-lookup"><span data-stu-id="33f11-442">"ComputerName"</span></span>|  
|<span data-ttu-id="33f11-443">SQLCMDDBNAME</span><span class="sxs-lookup"><span data-stu-id="33f11-443">SQLCMDDBNAME</span></span>|<span data-ttu-id="33f11-444">-d</span><span class="sxs-lookup"><span data-stu-id="33f11-444">-d</span></span>|<span data-ttu-id="33f11-445">R</span><span class="sxs-lookup"><span data-stu-id="33f11-445">R</span></span>|<span data-ttu-id="33f11-446">""</span><span class="sxs-lookup"><span data-stu-id="33f11-446">""</span></span>|  
|<span data-ttu-id="33f11-447">SQLCMDLOGINTIMEOUT</span><span class="sxs-lookup"><span data-stu-id="33f11-447">SQLCMDLOGINTIMEOUT</span></span>|<span data-ttu-id="33f11-448">-l</span><span class="sxs-lookup"><span data-stu-id="33f11-448">-l</span></span>|<span data-ttu-id="33f11-449">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-449">R/W</span></span>|<span data-ttu-id="33f11-450">"8" (secondes)</span><span class="sxs-lookup"><span data-stu-id="33f11-450">"8" (seconds)</span></span>|  
|<span data-ttu-id="33f11-451">SQLCMDSTATTIMEOUT</span><span class="sxs-lookup"><span data-stu-id="33f11-451">SQLCMDSTATTIMEOUT</span></span>|<span data-ttu-id="33f11-452">-T</span><span class="sxs-lookup"><span data-stu-id="33f11-452">-t</span></span>|<span data-ttu-id="33f11-453">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-453">R/W</span></span>|<span data-ttu-id="33f11-454">"0" = Attendre indéfiniment</span><span class="sxs-lookup"><span data-stu-id="33f11-454">"0" = wait indefinitely</span></span>|  
|<span data-ttu-id="33f11-455">SQLCMDHEADERS</span><span class="sxs-lookup"><span data-stu-id="33f11-455">SQLCMDHEADERS</span></span>|<span data-ttu-id="33f11-456">-H</span><span class="sxs-lookup"><span data-stu-id="33f11-456">-h</span></span>|<span data-ttu-id="33f11-457">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-457">R/W</span></span>|<span data-ttu-id="33f11-458">"0"</span><span class="sxs-lookup"><span data-stu-id="33f11-458">"0"</span></span>|  
|<span data-ttu-id="33f11-459">SQLCMDCOLSEP</span><span class="sxs-lookup"><span data-stu-id="33f11-459">SQLCMDCOLSEP</span></span>|<span data-ttu-id="33f11-460">-S</span><span class="sxs-lookup"><span data-stu-id="33f11-460">-s</span></span>|<span data-ttu-id="33f11-461">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-461">R/W</span></span>|<span data-ttu-id="33f11-462">" "</span><span class="sxs-lookup"><span data-stu-id="33f11-462">" "</span></span>|  
|<span data-ttu-id="33f11-463">SQLCMDCOLWIDTH</span><span class="sxs-lookup"><span data-stu-id="33f11-463">SQLCMDCOLWIDTH</span></span>|<span data-ttu-id="33f11-464">-w</span><span class="sxs-lookup"><span data-stu-id="33f11-464">-w</span></span>|<span data-ttu-id="33f11-465">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-465">R/W</span></span>|<span data-ttu-id="33f11-466">"0"</span><span class="sxs-lookup"><span data-stu-id="33f11-466">"0"</span></span>|  
|<span data-ttu-id="33f11-467">SQLCMDPACKETSIZE</span><span class="sxs-lookup"><span data-stu-id="33f11-467">SQLCMDPACKETSIZE</span></span>|<span data-ttu-id="33f11-468">-a</span><span class="sxs-lookup"><span data-stu-id="33f11-468">-a</span></span>|<span data-ttu-id="33f11-469">R</span><span class="sxs-lookup"><span data-stu-id="33f11-469">R</span></span>|<span data-ttu-id="33f11-470">"4096"</span><span class="sxs-lookup"><span data-stu-id="33f11-470">"4096"</span></span>|  
|<span data-ttu-id="33f11-471">SQLCMDERRORLEVEL</span><span class="sxs-lookup"><span data-stu-id="33f11-471">SQLCMDERRORLEVEL</span></span>|<span data-ttu-id="33f11-472">-M</span><span class="sxs-lookup"><span data-stu-id="33f11-472">-m</span></span>|<span data-ttu-id="33f11-473">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-473">R/W</span></span>|<span data-ttu-id="33f11-474">0</span><span class="sxs-lookup"><span data-stu-id="33f11-474">0</span></span>|  
|<span data-ttu-id="33f11-475">SQLCMDMAXVARTYPEWIDTH</span><span class="sxs-lookup"><span data-stu-id="33f11-475">SQLCMDMAXVARTYPEWIDTH</span></span>|<span data-ttu-id="33f11-476">-y</span><span class="sxs-lookup"><span data-stu-id="33f11-476">-y</span></span>|<span data-ttu-id="33f11-477">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-477">R/W</span></span>|<span data-ttu-id="33f11-478">"256"</span><span class="sxs-lookup"><span data-stu-id="33f11-478">"256"</span></span>|  
|<span data-ttu-id="33f11-479">SQLCMDMAXFIXEDTYPEWIDTH</span><span class="sxs-lookup"><span data-stu-id="33f11-479">SQLCMDMAXFIXEDTYPEWIDTH</span></span>|<span data-ttu-id="33f11-480">-y</span><span class="sxs-lookup"><span data-stu-id="33f11-480">-Y</span></span>|<span data-ttu-id="33f11-481">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-481">R/W</span></span>|<span data-ttu-id="33f11-482">"0" = illimitée</span><span class="sxs-lookup"><span data-stu-id="33f11-482">"0" = unlimited</span></span>|  
|<span data-ttu-id="33f11-483">SQLCMDEDITOR</span><span class="sxs-lookup"><span data-stu-id="33f11-483">SQLCMDEDITOR</span></span>||<span data-ttu-id="33f11-484">R/W (Lecture/écriture)</span><span class="sxs-lookup"><span data-stu-id="33f11-484">R/W</span></span>|<span data-ttu-id="33f11-485">"edit.com"</span><span class="sxs-lookup"><span data-stu-id="33f11-485">"edit.com"</span></span>|  
|<span data-ttu-id="33f11-486">SQLCMDINI</span><span class="sxs-lookup"><span data-stu-id="33f11-486">SQLCMDINI</span></span>||<span data-ttu-id="33f11-487">R</span><span class="sxs-lookup"><span data-stu-id="33f11-487">R</span></span>|<span data-ttu-id="33f11-488">""</span><span class="sxs-lookup"><span data-stu-id="33f11-488">""</span></span>|  
  
 <span data-ttu-id="33f11-489">Les variables SQLCMDUSER, SQLCMDPASSWORD et SQLCMDSERVER sont définies lorsque la commande **:Connect**</span><span class="sxs-lookup"><span data-stu-id="33f11-489">SQLCMDUSER, SQLCMDPASSWORD and SQLCMDSERVER are set when **:Connect**</span></span>  
  
 <span data-ttu-id="33f11-490">est utilisée.</span><span class="sxs-lookup"><span data-stu-id="33f11-490">is used.</span></span>  
  
 <span data-ttu-id="33f11-491">R indique que la valeur ne peut être définie qu'une seule fois lors de l'initialisation du programme.</span><span class="sxs-lookup"><span data-stu-id="33f11-491">R indicates the value can only be set one time during program initialization.</span></span>  
  
 <span data-ttu-id="33f11-492">R/W (« Lecture/écriture ») indique que la valeur peut être modifiée à l’aide de la commande **setvar** et que les commandes ultérieures sont tributaires de la nouvelle valeur.</span><span class="sxs-lookup"><span data-stu-id="33f11-492">R/W indicates that the value can be modified by using the **setvar** command and subsequent commands will be influenced by the new value.</span></span>  
  
## <a name="sqlcmd-commands"></a><span data-ttu-id="33f11-493">Commandes sqlcmd</span><span class="sxs-lookup"><span data-stu-id="33f11-493">sqlcmd Commands</span></span>  
 <span data-ttu-id="33f11-494">En complément des instructions [!INCLUDE[tsql](../includes/tsql-md.md)] dans `sqlcmd`, vous pouvez également utiliser les commandes ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="33f11-494">In addition to [!INCLUDE[tsql](../includes/tsql-md.md)] statements within `sqlcmd`, the following commands are also available:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="33f11-495">**GO** [*count*]</span><span class="sxs-lookup"><span data-stu-id="33f11-495">**GO** [*count*]</span></span>|<span data-ttu-id="33f11-496">**:List**</span><span class="sxs-lookup"><span data-stu-id="33f11-496">**:List**</span></span>|  
|<span data-ttu-id="33f11-497">[ **:** ] **RESET**</span><span class="sxs-lookup"><span data-stu-id="33f11-497">[**:**] **RESET**</span></span>|<span data-ttu-id="33f11-498">**:Error**</span><span class="sxs-lookup"><span data-stu-id="33f11-498">**:Error**</span></span>|  
|<span data-ttu-id="33f11-499">[ **:** ] **ED**</span><span class="sxs-lookup"><span data-stu-id="33f11-499">[**:**] **ED**</span></span>|<span data-ttu-id="33f11-500">**:Out**</span><span class="sxs-lookup"><span data-stu-id="33f11-500">**:Out**</span></span>|  
|<span data-ttu-id="33f11-501">[**:**] **!!**</span><span class="sxs-lookup"><span data-stu-id="33f11-501">[**:**] **!!**</span></span>|<span data-ttu-id="33f11-502">**:Perftrace**</span><span class="sxs-lookup"><span data-stu-id="33f11-502">**:Perftrace**</span></span>|  
|<span data-ttu-id="33f11-503">[ **:** ] **QUIT**</span><span class="sxs-lookup"><span data-stu-id="33f11-503">[**:**] **QUIT**</span></span>|<span data-ttu-id="33f11-504">**:Connect**</span><span class="sxs-lookup"><span data-stu-id="33f11-504">**:Connect**</span></span>|  
|<span data-ttu-id="33f11-505">[ **:** ] **EXIT**</span><span class="sxs-lookup"><span data-stu-id="33f11-505">[**:**] **EXIT**</span></span>|<span data-ttu-id="33f11-506">**:On Error**</span><span class="sxs-lookup"><span data-stu-id="33f11-506">**:On Error**</span></span>|  
|<span data-ttu-id="33f11-507">**:r**</span><span class="sxs-lookup"><span data-stu-id="33f11-507">**:r**</span></span>|<span data-ttu-id="33f11-508">**:Help**</span><span class="sxs-lookup"><span data-stu-id="33f11-508">**:Help**</span></span>|  
|<span data-ttu-id="33f11-509">**:ServerList**</span><span class="sxs-lookup"><span data-stu-id="33f11-509">**:ServerList**</span></span>|<span data-ttu-id="33f11-510">**:XML** [**ON** &#124; **OFF**]</span><span class="sxs-lookup"><span data-stu-id="33f11-510">**:XML** [**ON** &#124; **OFF**]</span></span>|  
|<span data-ttu-id="33f11-511">**:Setvar**</span><span class="sxs-lookup"><span data-stu-id="33f11-511">**:Setvar**</span></span>|<span data-ttu-id="33f11-512">**:Listvar**</span><span class="sxs-lookup"><span data-stu-id="33f11-512">**:Listvar**</span></span>|  
  
 <span data-ttu-id="33f11-513">Tenez compte des éléments suivants lorsque vous utilisez des commandes `sqlcmd` :</span><span class="sxs-lookup"><span data-stu-id="33f11-513">Be aware of the following when you use `sqlcmd` commands:</span></span>  
  
-   <span data-ttu-id="33f11-514">Toutes les commandes `sqlcmd`, à l'exception de GO, doivent posséder deux points (:) comme préfixe.</span><span class="sxs-lookup"><span data-stu-id="33f11-514">All `sqlcmd` commands, except GO, must be prefixed by a colon (:).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="33f11-515">Pour assurer la compatibilité descendante avec les scripts **osql** existants, certaines commandes sont reconnues sans les deux-points.</span><span class="sxs-lookup"><span data-stu-id="33f11-515">To maintain backward compatibility with existing **osql** scripts, some of the commands will be recognized without the colon.</span></span> <span data-ttu-id="33f11-516">Ceci est indiqué par la notation [**:**].</span><span class="sxs-lookup"><span data-stu-id="33f11-516">This is indicated by the [**:**].</span></span>  
  
-   <span data-ttu-id="33f11-517">Les commandes `sqlcmd` ne sont reconnues que si elles apparaissent au début d'une ligne.</span><span class="sxs-lookup"><span data-stu-id="33f11-517">`sqlcmd` commands are recognized only if they appear at the start of a line.</span></span>  
  
-   <span data-ttu-id="33f11-518">Toutes les commandes `sqlcmd` ne respectent pas la casse.</span><span class="sxs-lookup"><span data-stu-id="33f11-518">All `sqlcmd` commands are case insensitive.</span></span>  
  
-   <span data-ttu-id="33f11-519">Chaque commande doit figurer sur une ligne séparée.</span><span class="sxs-lookup"><span data-stu-id="33f11-519">Each command must be on a separate line.</span></span> <span data-ttu-id="33f11-520">Une commande ne peut pas être suivie d'une instruction [!INCLUDE[tsql](../includes/tsql-md.md)] ou d'une autre commande.</span><span class="sxs-lookup"><span data-stu-id="33f11-520">A command cannot be followed by a [!INCLUDE[tsql](../includes/tsql-md.md)] statement or another command.</span></span>  
  
-   <span data-ttu-id="33f11-521">Les commandes sont exécutées immédiatement.</span><span class="sxs-lookup"><span data-stu-id="33f11-521">Commands are executed immediately.</span></span> <span data-ttu-id="33f11-522">Elles ne sont pas placées dans le tampon d'exécution contrairement aux instructions [!INCLUDE[tsql](../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="33f11-522">They are not put in the execution buffer as [!INCLUDE[tsql](../includes/tsql-md.md)] statements are.</span></span>  
  
 <span data-ttu-id="33f11-523">**Commandes d’édition**</span><span class="sxs-lookup"><span data-stu-id="33f11-523">**Editing Commands**</span></span>  
  <span data-ttu-id="33f11-524">[ **:** ] **ED**</span><span class="sxs-lookup"><span data-stu-id="33f11-524">[**:**] **ED**</span></span>  
 <span data-ttu-id="33f11-525">Démarre l'éditeur de texte.</span><span class="sxs-lookup"><span data-stu-id="33f11-525">Starts the text editor.</span></span> <span data-ttu-id="33f11-526">Cet éditeur peut être employé pour modifier le lot [!INCLUDE[tsql](../includes/tsql-md.md)] actuel ou le dernier traitement exécuté.</span><span class="sxs-lookup"><span data-stu-id="33f11-526">This editor can be used to edit the current [!INCLUDE[tsql](../includes/tsql-md.md)] batch, or the last executed batch.</span></span> <span data-ttu-id="33f11-527">Pour modifier le dernier traitement exécuté, la commande **ED** doit être tapée immédiatement après la fin de l'exécution du dernier traitement.</span><span class="sxs-lookup"><span data-stu-id="33f11-527">To edit the last executed batch, the **ED** command must be typed immediately after the last batch has completed execution.</span></span>  
  
 <span data-ttu-id="33f11-528">L'éditeur de texte est défini dans la variable d'environnement SQLCMDEDITOR.</span><span class="sxs-lookup"><span data-stu-id="33f11-528">The text editor is defined by the SQLCMDEDITOR environment variable.</span></span> <span data-ttu-id="33f11-529">L'éditeur par défaut est « edit ».</span><span class="sxs-lookup"><span data-stu-id="33f11-529">The default editor is 'Edit'.</span></span> <span data-ttu-id="33f11-530">Pour modifier l'éditeur, définissez la variable SQLCMDEDITOR.</span><span class="sxs-lookup"><span data-stu-id="33f11-530">To change the editor, set the SQLCMDEDITOR environment variable.</span></span> <span data-ttu-id="33f11-531">Par exemple, pour choisir l'éditeur Bloc-notes [!INCLUDE[msCoName](../includes/msconame-md.md)] , à l'invite de commandes, tapez :</span><span class="sxs-lookup"><span data-stu-id="33f11-531">For example, to set the editor to [!INCLUDE[msCoName](../includes/msconame-md.md)] Notepad, at the command prompt, type:</span></span>  
  
 `SET SQLCMDEDITOR=notepad`  
  
 <span data-ttu-id="33f11-532">[ **:** ] **RESET**</span><span class="sxs-lookup"><span data-stu-id="33f11-532">[**:**] **RESET**</span></span>  
 <span data-ttu-id="33f11-533">Vide le cache d'instruction.</span><span class="sxs-lookup"><span data-stu-id="33f11-533">Clears the statement cache.</span></span>  
  
 <span data-ttu-id="33f11-534">**:List**</span><span class="sxs-lookup"><span data-stu-id="33f11-534">**:List**</span></span>  
 <span data-ttu-id="33f11-535">Imprime le contenu du cache d'instruction.</span><span class="sxs-lookup"><span data-stu-id="33f11-535">Prints the content of the statement cache.</span></span>  
  
 <span data-ttu-id="33f11-536">**Variables**</span><span class="sxs-lookup"><span data-stu-id="33f11-536">**Variables**</span></span>  
  <span data-ttu-id="33f11-537">**: Setvar** \<**var**> [ **"*`value`*"** ]</span><span class="sxs-lookup"><span data-stu-id="33f11-537">**:Setvar** \<**var**> [ **"*`value`*"** ]</span></span>  
 <span data-ttu-id="33f11-538">Définit des variables de script `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-538">Defines `sqlcmd` scripting variables.</span></span> <span data-ttu-id="33f11-539">Les variables de script possèdent le format suivant : `$(VARNAME)`.</span><span class="sxs-lookup"><span data-stu-id="33f11-539">Scripting variables have the following format: `$(VARNAME)`.</span></span>  
  
 <span data-ttu-id="33f11-540">Les noms de variable ne respectent pas la casse.</span><span class="sxs-lookup"><span data-stu-id="33f11-540">Variable names are case insensitive.</span></span>  
  
 <span data-ttu-id="33f11-541">Les variables de script peuvent être définies comme suit :</span><span class="sxs-lookup"><span data-stu-id="33f11-541">Scripting variables can be set in the following ways:</span></span>  
  
-   <span data-ttu-id="33f11-542">Implicitement à l'aide d'une option de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="33f11-542">Implicitly using a command-line option.</span></span> <span data-ttu-id="33f11-543">Par exemple, l’option **-l** définit la `sqlcmd` variable SQLCMDLOGINTIMEOUT.</span><span class="sxs-lookup"><span data-stu-id="33f11-543">For example, the **-l** option sets the SQLCMDLOGINTIMEOUT `sqlcmd` variable.</span></span>  
  
-   <span data-ttu-id="33f11-544">Explicitement à l'aide de la commande **:Setvar** .</span><span class="sxs-lookup"><span data-stu-id="33f11-544">Explicitly by using the **:Setvar** command.</span></span>  
  
-   <span data-ttu-id="33f11-545">En définissant une variable d'environnement avant d'exécuter `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-545">By defining an environment variable before you run `sqlcmd`.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-546">L'option `-X` empêche le transfert des variables d'environnement vers `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-546">The `-X` option prevents environment variables from being passed on to `sqlcmd`.</span></span>  
  
 <span data-ttu-id="33f11-547">Si une variable définie à l'aide de **:Setvar** et une variable d'environnement possèdent le même nom, la variable définie à l'aide de **:Setvar** est prioritaire.</span><span class="sxs-lookup"><span data-stu-id="33f11-547">If a variable defined by using **:Setvar** and an environment variable have the same name, the variable defined by using **:Setvar** takes precedence.</span></span>  
  
 <span data-ttu-id="33f11-548">Les noms de variable ne doivent pas contenir de caractères espace.</span><span class="sxs-lookup"><span data-stu-id="33f11-548">Variable names must not contain blank space characters.</span></span>  
  
 <span data-ttu-id="33f11-549">Les noms de variables ne peuvent pas posséder la même forme qu'une expression variable, telle que $(var).</span><span class="sxs-lookup"><span data-stu-id="33f11-549">Variable names cannot have the same form as a variable expression, such as $(var).</span></span>  
  
 <span data-ttu-id="33f11-550">Si une valeur de chaîne de la variable de script contient des espaces, placez la valeur entre guillemets.</span><span class="sxs-lookup"><span data-stu-id="33f11-550">If the string value of the scripting variable contains blank spaces, enclose the value in quotation marks.</span></span> <span data-ttu-id="33f11-551">Si aucune valeur n'est spécifiée pour une variable de script, cette dernière est supprimée.</span><span class="sxs-lookup"><span data-stu-id="33f11-551">If a value for a scripting variable is not specified, the scripting variable is dropped.</span></span>  
  
 <span data-ttu-id="33f11-552">**:Listvar**</span><span class="sxs-lookup"><span data-stu-id="33f11-552">**:Listvar**</span></span>  
 <span data-ttu-id="33f11-553">Affiche la liste des variables de script actuellement définies.</span><span class="sxs-lookup"><span data-stu-id="33f11-553">Displays a list of the scripting variables that are currently set.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-554">Seules les variables de script qui sont définies par `sqlcmd` et celles qui sont définies à l’aide de la commande **: setvar** s’affichent.</span><span class="sxs-lookup"><span data-stu-id="33f11-554">Only scripting variables that are set by `sqlcmd`, and those that are set using the **:Setvar** command will be displayed.</span></span>  
  
 <span data-ttu-id="33f11-555">**Commandes de sortie**</span><span class="sxs-lookup"><span data-stu-id="33f11-555">**Output Commands**</span></span>  
  <span data-ttu-id="33f11-556">**:Error** </span><span class="sxs-lookup"><span data-stu-id="33f11-556">**:Error** </span></span>  
 <span data-ttu-id="33f11-557">**_\<_** _filename_  **_>|_ STDERR | STDOUT**</span><span class="sxs-lookup"><span data-stu-id="33f11-557">**_\<_** _filename_  **_>|_ STDERR|STDOUT**</span></span>  
 <span data-ttu-id="33f11-558">Redirige l’ensemble de la sortie d’erreur dans le fichier spécifié par *nom_fichier*vers **stderr** ou vers **stdout**.</span><span class="sxs-lookup"><span data-stu-id="33f11-558">Redirect all error output to the file specified by *file name*, to **stderr** or to **stdout**.</span></span> <span data-ttu-id="33f11-559">La commande **Error** peut apparaître plusieurs fois dans un script.</span><span class="sxs-lookup"><span data-stu-id="33f11-559">The **Error** command can appear multiple times in a script.</span></span> <span data-ttu-id="33f11-560">Par défaut, la sortie d'erreur est envoyée à **stderr**.</span><span class="sxs-lookup"><span data-stu-id="33f11-560">By default, error output is sent to **stderr**.</span></span>  
  
 <span data-ttu-id="33f11-561">*nom de fichier*</span><span class="sxs-lookup"><span data-stu-id="33f11-561">*file name*</span></span>  
 <span data-ttu-id="33f11-562">Crée et ouvre un fichier destiné à recevoir la sortie.</span><span class="sxs-lookup"><span data-stu-id="33f11-562">Creates and opens a file that will receive the output.</span></span> <span data-ttu-id="33f11-563">Si le fichier existe déjà, il est tronqué à zéro octet.</span><span class="sxs-lookup"><span data-stu-id="33f11-563">If the file already exists, it will be truncated to zero bytes.</span></span> <span data-ttu-id="33f11-564">Si le fichier n'est pas disponible car des autorisations sont requises, ou pour d'autres raisons, la sortie n'est pas modifiée, et elle est envoyée à la dernière destination spécifiée ou à la destination par défaut.</span><span class="sxs-lookup"><span data-stu-id="33f11-564">If the file is not available because of permissions or other reasons, the output will not be switched and will be sent to the last specified or default destination.</span></span>  
  
 <span data-ttu-id="33f11-565">**STDERR**</span><span class="sxs-lookup"><span data-stu-id="33f11-565">**STDERR**</span></span>  
 <span data-ttu-id="33f11-566">Dirige la sortie d’erreur vers le flux **stderr** .</span><span class="sxs-lookup"><span data-stu-id="33f11-566">Switches error output to the **stderr** stream.</span></span> <span data-ttu-id="33f11-567">Si cette destination a été redirigée, la cible de cette redirection reçoit la sortie d'erreur.</span><span class="sxs-lookup"><span data-stu-id="33f11-567">If this has been redirected, the target to which the stream has been redirected will receive the error output.</span></span>  
  
 <span data-ttu-id="33f11-568">**STDOUT**</span><span class="sxs-lookup"><span data-stu-id="33f11-568">**STDOUT**</span></span>  
 <span data-ttu-id="33f11-569">Fait basculer la sortie d’erreur vers le flux **stdout** .</span><span class="sxs-lookup"><span data-stu-id="33f11-569">Switches error output to the **stdout** stream.</span></span> <span data-ttu-id="33f11-570">Si cette destination a été redirigée, la cible de cette redirection reçoit la sortie d'erreur.</span><span class="sxs-lookup"><span data-stu-id="33f11-570">If this has been redirected, the target to which the stream has been redirected will receive the error output.</span></span>  
  
 <span data-ttu-id="33f11-571">\*\*: Out \<** _filename_ **> \*\* |  **Stderr** |  **Stdout**</span><span class="sxs-lookup"><span data-stu-id="33f11-571">**:Out \<** _filename_ **>**| **STDERR**| **STDOUT**</span></span>  
 <span data-ttu-id="33f11-572">Crée et redirige l’ensemble des résultats de requête dans le fichier spécifié par *nom_fichier*vers **stderr** ou vers **stdout**.</span><span class="sxs-lookup"><span data-stu-id="33f11-572">Creates and redirects all query results to the file specified by *file name*, to **stderr** or to **stdout**.</span></span> <span data-ttu-id="33f11-573">Par défaut, la sortie est envoyée à **stdout**.</span><span class="sxs-lookup"><span data-stu-id="33f11-573">By default, output is sent to **stdout**.</span></span> <span data-ttu-id="33f11-574">Si le fichier existe déjà, il est tronqué à zéro octet.</span><span class="sxs-lookup"><span data-stu-id="33f11-574">If the file already exists, it will be truncated to zero bytes.</span></span> <span data-ttu-id="33f11-575">La commande **Out** peut apparaître plusieurs fois dans un script.</span><span class="sxs-lookup"><span data-stu-id="33f11-575">The **Out** command can appear multiple times in a script.</span></span>  
  
 <span data-ttu-id="33f11-576">\*\*:P erftrace \<** _filename_ **> \*\* |  **Stderr** |  **Stdout**</span><span class="sxs-lookup"><span data-stu-id="33f11-576">**:Perftrace \<** _filename_ **>**| **STDERR**| **STDOUT**</span></span>  
 <span data-ttu-id="33f11-577">Crée et redirige l’ensemble des informations de traces de performances dans le fichier spécifié par *nom_fichier*vers **stderr** ou vers **stdout**.</span><span class="sxs-lookup"><span data-stu-id="33f11-577">Creates and redirects all performance trace information to the file specified by *file name*, to **stderr** or to **stdout**.</span></span> <span data-ttu-id="33f11-578">Par défaut, la sortie de traces de performances est envoyée à **stdout**.</span><span class="sxs-lookup"><span data-stu-id="33f11-578">By default performance trace output is sent to **stdout**.</span></span> <span data-ttu-id="33f11-579">Si le fichier existe déjà, il est tronqué à zéro octet.</span><span class="sxs-lookup"><span data-stu-id="33f11-579">If the file already exists, it will be truncated to zero bytes.</span></span> <span data-ttu-id="33f11-580">La commande **Perftrace** peut apparaître plusieurs fois dans un script.</span><span class="sxs-lookup"><span data-stu-id="33f11-580">The **Perftrace** command can appear multiple times in a script.</span></span>  
  
 <span data-ttu-id="33f11-581">**Commandes de contrôle d’exécution**</span><span class="sxs-lookup"><span data-stu-id="33f11-581">**Execution Control Commands**</span></span>  
  <span data-ttu-id="33f11-582">**: En cas d’erreur**[ `exit`  |  `ignore` ]</span><span class="sxs-lookup"><span data-stu-id="33f11-582">**:On Error**[ `exit` | `ignore`]</span></span>  
 <span data-ttu-id="33f11-583">Définit l'action à effectuer lorsqu'une erreur se produit en cours de script ou d'exécution d'un traitement.</span><span class="sxs-lookup"><span data-stu-id="33f11-583">Sets the action to be performed when an error occurs during script or batch execution.</span></span>  
  
 <span data-ttu-id="33f11-584">Lorsque l'option `exit` est employée, `sqlcmd` se termine avec la valeur d'erreur appropriée.</span><span class="sxs-lookup"><span data-stu-id="33f11-584">When the `exit` option is used, `sqlcmd` exits with the appropriate error value.</span></span>  
  
 <span data-ttu-id="33f11-585">Lorsque l'option `ignore` est employée, `sqlcmd` ignore l'erreur et poursuit l'exécution du traitement ou du script.</span><span class="sxs-lookup"><span data-stu-id="33f11-585">When the `ignore` option is used, `sqlcmd` ignores the error and continues executing the batch or script.</span></span> <span data-ttu-id="33f11-586">Par défaut, un message d'erreur est imprimé.</span><span class="sxs-lookup"><span data-stu-id="33f11-586">By default, an error message will be printed.</span></span>  
  
 <span data-ttu-id="33f11-587">[ **:** ] **QUIT**</span><span class="sxs-lookup"><span data-stu-id="33f11-587">[**:**] **QUIT**</span></span>  
 <span data-ttu-id="33f11-588">Provoque la fin de `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-588">Causes `sqlcmd` to exit.</span></span>  
  
 <span data-ttu-id="33f11-589">[**:**] **Quitter**[ **( *`statement`* )** ]</span><span class="sxs-lookup"><span data-stu-id="33f11-589">[**:**] **EXIT**[ **(*`statement`*)** ]</span></span>  
 <span data-ttu-id="33f11-590">Vous permet d'utiliser le résultat d'une instruction SELECT comme valeur de retour de `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-590">Lets you use the result of a SELECT statement as the return value from `sqlcmd`.</span></span> <span data-ttu-id="33f11-591">S'il est numérique, la première colonne de la dernière ligne de résultats est convertie en un entier de 4 octets (entier long).</span><span class="sxs-lookup"><span data-stu-id="33f11-591">If numeric, the first column of the last result row is converted to a 4-byte integer (long).</span></span> <span data-ttu-id="33f11-592">MS-DOS transmet l'octet de poids faible au processus parent ou au niveau erreur du système d'exploitation.</span><span class="sxs-lookup"><span data-stu-id="33f11-592">MS-DOS passes the low byte to the parent process or operating system error level.</span></span> <span data-ttu-id="33f11-593">Windows 200x transmet la totalité de l'entier de 4 octets.</span><span class="sxs-lookup"><span data-stu-id="33f11-593">Windows 200x passes the whole 4-byte integer.</span></span> <span data-ttu-id="33f11-594">La syntaxe est :</span><span class="sxs-lookup"><span data-stu-id="33f11-594">The syntax is:</span></span>  
  
 `:EXIT(query)`  
  
 <span data-ttu-id="33f11-595">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="33f11-595">For example:</span></span>  
  
 `:EXIT(SELECT @@ROWCOUNT)`  
  
 <span data-ttu-id="33f11-596">Vous pouvez également inclure le paramètre **EXIT** dans un fichier de commandes.</span><span class="sxs-lookup"><span data-stu-id="33f11-596">You can also include the **EXIT** parameter as part of a batch file.</span></span> <span data-ttu-id="33f11-597">Par exemple, à l'invite de commandes, tapez :</span><span class="sxs-lookup"><span data-stu-id="33f11-597">For example, at the command prompt, type:</span></span>  
  
 `sqlcmd -Q "EXIT(SELECT COUNT(*) FROM '%1')"`  
  
 <span data-ttu-id="33f11-598">L' `sqlcmd` utilitaire envoie tout le contenu entre parenthèses **()** au serveur.</span><span class="sxs-lookup"><span data-stu-id="33f11-598">The `sqlcmd` utility sends everything between the parentheses **()** to the server.</span></span> <span data-ttu-id="33f11-599">Si une procédure stockée système sélectionne un ensemble et retourne une valeur, seule la sélection est retournée.</span><span class="sxs-lookup"><span data-stu-id="33f11-599">If a system stored procedure selects a set and returns a value, only the selection is returned.</span></span> <span data-ttu-id="33f11-600">L’instruction EXIT **()** sans information entre parenthèses exécute toutes les commandes qui la précèdent dans le traitement, puis se termine sans valeur de retour.</span><span class="sxs-lookup"><span data-stu-id="33f11-600">The EXIT **()** statement with nothing between the parentheses executes everything before it in the batch and then exits without a return value.</span></span>  
  
 <span data-ttu-id="33f11-601">Lorsqu'une requête incorrecte est spécifiée, `sqlcmd` se termine sans valeur de retour.</span><span class="sxs-lookup"><span data-stu-id="33f11-601">When an incorrect query is specified, `sqlcmd` will exit without a return value.</span></span>  
  
 <span data-ttu-id="33f11-602">Liste des formats EXIT :</span><span class="sxs-lookup"><span data-stu-id="33f11-602">Here is a list of EXIT formats:</span></span>  
  
-   <span data-ttu-id="33f11-603">:EXIT</span><span class="sxs-lookup"><span data-stu-id="33f11-603">:EXIT</span></span>  
  
 <span data-ttu-id="33f11-604">N'exécute pas le traitement, puis se termine immédiatement sans retourner de valeur.</span><span class="sxs-lookup"><span data-stu-id="33f11-604">Does not execute the batch, and then quits immediately and returns no value.</span></span>  
  
-   <span data-ttu-id="33f11-605">:EXIT( )</span><span class="sxs-lookup"><span data-stu-id="33f11-605">:EXIT( )</span></span>  
  
 <span data-ttu-id="33f11-606">Exécute le traitement, puis quitte sans retourner de valeur.</span><span class="sxs-lookup"><span data-stu-id="33f11-606">Executes the batch, and then quits and returns no value.</span></span>  
  
-   <span data-ttu-id="33f11-607">:EXIT(requête)</span><span class="sxs-lookup"><span data-stu-id="33f11-607">:EXIT(query)</span></span>  
  
 <span data-ttu-id="33f11-608">Exécute le traitement qui inclut la requête, puis se termine après avoir retourné les résultats de la requête.</span><span class="sxs-lookup"><span data-stu-id="33f11-608">Executes the batch that includes the query, and then quits after it returns the results of the query.</span></span>  
  
 <span data-ttu-id="33f11-609">Si RAISERROR est utilisé dans un `sqlcmd` script et que l’état 127 est déclenché, `sqlcmd` s’arrête et retourne l’ID de message au client.</span><span class="sxs-lookup"><span data-stu-id="33f11-609">If RAISERROR is used within a `sqlcmd` script and a state of 127 is raised, `sqlcmd` will quit and return the message ID back to the client.</span></span> <span data-ttu-id="33f11-610">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="33f11-610">For example:</span></span>  
  
 `RAISERROR(50001, 10, 127)`  
  
 <span data-ttu-id="33f11-611">Cette erreur arrête l'exécution du script `sqlcmd` et envoie au client le message 50001.</span><span class="sxs-lookup"><span data-stu-id="33f11-611">This error will cause the `sqlcmd` script to end and return the message ID 50001 to the client.</span></span>  
  
 <span data-ttu-id="33f11-612">Les valeurs retournées de -1 à -99 sont réservées à [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] ; `sqlcmd` définit les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="33f11-612">The return values -1 to -99 are reserved by [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]; `sqlcmd` defines the following additional return values:</span></span>  
  
|<span data-ttu-id="33f11-613">Valeurs de retour</span><span class="sxs-lookup"><span data-stu-id="33f11-613">Return Values</span></span>|<span data-ttu-id="33f11-614">Description</span><span class="sxs-lookup"><span data-stu-id="33f11-614">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="33f11-615">-100</span><span class="sxs-lookup"><span data-stu-id="33f11-615">-100</span></span>|<span data-ttu-id="33f11-616">Erreur rencontrée avant la sélection d'une valeur retournée.</span><span class="sxs-lookup"><span data-stu-id="33f11-616">Error encountered prior to selecting return value.</span></span>|  
|<span data-ttu-id="33f11-617">-101</span><span class="sxs-lookup"><span data-stu-id="33f11-617">-101</span></span>|<span data-ttu-id="33f11-618">Aucune ligne trouvée lors de la sélection d'une valeur retournée.</span><span class="sxs-lookup"><span data-stu-id="33f11-618">No rows found when selecting return value.</span></span>|  
|<span data-ttu-id="33f11-619">-102</span><span class="sxs-lookup"><span data-stu-id="33f11-619">-102</span></span>|<span data-ttu-id="33f11-620">Erreur de conversion survenue lors de la sélection d'une valeur retournée.</span><span class="sxs-lookup"><span data-stu-id="33f11-620">Conversion error occurred when selecting return value.</span></span>|  
  
 <span data-ttu-id="33f11-621">**GO** [*count*]</span><span class="sxs-lookup"><span data-stu-id="33f11-621">**GO** [*count*]</span></span>  
 <span data-ttu-id="33f11-622">GO indique la fin d'un traitement et l'exécution des commandes [!INCLUDE[tsql](../includes/tsql-md.md)] placées dans le cache.</span><span class="sxs-lookup"><span data-stu-id="33f11-622">GO signals both the end of a batch and the execution of any cached [!INCLUDE[tsql](../includes/tsql-md.md)] statements.</span></span> <span data-ttu-id="33f11-623">Lors de la spécification d'une valeur pour *count*, les instructions mises en mémoire cache sont exécutées *count* fois, comme un traitement unique.</span><span class="sxs-lookup"><span data-stu-id="33f11-623">When specifying a value for *count*, the cached statements will be executed *count* times, as a single batch.</span></span>  
  
 <span data-ttu-id="33f11-624">**Commandes diverses**</span><span class="sxs-lookup"><span data-stu-id="33f11-624">**Miscellaneous Commands**</span></span>  
  <span data-ttu-id="33f11-625">**: r\<** _filename_ **>**</span><span class="sxs-lookup"><span data-stu-id="33f11-625">**:r \<** _filename_ **>**</span></span>  
 <span data-ttu-id="33f11-626">Analyse des [!INCLUDE[tsql](../includes/tsql-md.md)] instructions et des `sqlcmd` commandes supplémentaires à partir du fichier spécifié par **<*`filename`*>** dans le cache d’instructions.</span><span class="sxs-lookup"><span data-stu-id="33f11-626">Parses additional [!INCLUDE[tsql](../includes/tsql-md.md)] statements and `sqlcmd` commands from the file specified by **<*`filename`*>** into the statement cache.</span></span>  
  
 <span data-ttu-id="33f11-627">Si le fichier contient des instructions [!INCLUDE[tsql](../includes/tsql-md.md)] qui ne sont pas suivies par **GO**, vous devez entrer **GO** sur la ligne qui suit **:r**.</span><span class="sxs-lookup"><span data-stu-id="33f11-627">If the file contains [!INCLUDE[tsql](../includes/tsql-md.md)] statements that are not followed by **GO**, you must enter **GO** on the line that follows **:r**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-628">**\<** _filename_ **>** est lu par rapport au répertoire de démarrage dans lequel `sqlcmd` a été exécuté.</span><span class="sxs-lookup"><span data-stu-id="33f11-628">**\<** _filename_ **>** is read relative to the startup directory in which `sqlcmd` was run.</span></span>  
  
 <span data-ttu-id="33f11-629">Le fichier est lu et exécuté après la rencontre d'un terminateur de traitement.</span><span class="sxs-lookup"><span data-stu-id="33f11-629">The file will be read and executed after a batch terminator is encountered.</span></span> <span data-ttu-id="33f11-630">Vous pouvez émettre plusieurs commandes **:r** .</span><span class="sxs-lookup"><span data-stu-id="33f11-630">You can issue multiple **:r** commands.</span></span> <span data-ttu-id="33f11-631">Le fichier peut inclure une commande `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-631">The file may include any `sqlcmd` command.</span></span> <span data-ttu-id="33f11-632">Elle inclut le terminateur de traitement **GO**.</span><span class="sxs-lookup"><span data-stu-id="33f11-632">This includes the batch terminator **GO**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-633">Le nombre de lignes affichées en mode interactif augmente de 1 chaque fois qu'une commande **:r** est rencontrée.</span><span class="sxs-lookup"><span data-stu-id="33f11-633">The line count that is displayed in interactive mode will be increased by one for every **:r** command encountered.</span></span> <span data-ttu-id="33f11-634">La commande **:r** apparaît dans la sortie de la commande list.</span><span class="sxs-lookup"><span data-stu-id="33f11-634">The **:r** command will appear in the output of the list command.</span></span>  
  
 <span data-ttu-id="33f11-635">**:Serverlist**</span><span class="sxs-lookup"><span data-stu-id="33f11-635">**:Serverlist**</span></span>  
 <span data-ttu-id="33f11-636">Répertorie tous les serveurs configurés localement et les noms des serveurs émettant sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="33f11-636">Lists the locally configured servers and the names of the servers broadcasting on the network.</span></span>  
  
 <span data-ttu-id="33f11-637">**: Connect** _SERVER_NAME_[ **\\** _instance_name_] [-l *timeout*] [-U *user_name* [-P *mot_de_passe*]]</span><span class="sxs-lookup"><span data-stu-id="33f11-637">**:Connect** _server_name_[**\\**_instance_name_] [-l *timeout*] [-U *user_name* [-P *password*]]</span></span>  
 <span data-ttu-id="33f11-638">Établit une connexion à une instance de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="33f11-638">Connects to an instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="33f11-639">Ferme également la connexion actuelle.</span><span class="sxs-lookup"><span data-stu-id="33f11-639">Also closes the current connection.</span></span>  
  
 <span data-ttu-id="33f11-640">Options de délai :</span><span class="sxs-lookup"><span data-stu-id="33f11-640">Time-out options:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="33f11-641">0</span><span class="sxs-lookup"><span data-stu-id="33f11-641">0</span></span>|<span data-ttu-id="33f11-642">attendre indéfiniment</span><span class="sxs-lookup"><span data-stu-id="33f11-642">wait forever</span></span>|  
|<span data-ttu-id="33f11-643">n>0</span><span class="sxs-lookup"><span data-stu-id="33f11-643">n>0</span></span>|<span data-ttu-id="33f11-644">attendre n secondes</span><span class="sxs-lookup"><span data-stu-id="33f11-644">wait for n seconds</span></span>|  
  
 <span data-ttu-id="33f11-645">La variable de script SQLCMDSERVER reflète la connexion active actuelle.</span><span class="sxs-lookup"><span data-stu-id="33f11-645">The SQLCMDSERVER scripting variable will reflect the current active connection.</span></span>  
  
 <span data-ttu-id="33f11-646">Si l'argument *timeout* n'est pas spécifié, la valeur de la variable SQLCMDLOGINTIMEOUT est la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="33f11-646">If *timeout* is not specified, the value of the SQLCMDLOGINTIMEOUT variable is the default.</span></span>  
  
 <span data-ttu-id="33f11-647">Si seulement *nom_utilisateur* est spécifié (en tant qu’option ou en tant que variable d’environnement), un message invite l’utilisateur à entrer un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="33f11-647">If only *user_name* is specified (either as an option, or as an environment variable), the user will be prompted to enter a password.</span></span> <span data-ttu-id="33f11-648">Cela ne s'applique pas si les variables d'environnement SQLCMDUSER ou SQLCMDPASSWORD ont été définies.</span><span class="sxs-lookup"><span data-stu-id="33f11-648">This is not true if the SQLCMDUSER or SQLCMDPASSWORD environment variables have been set.</span></span> <span data-ttu-id="33f11-649">Si ni les options ni les variables d'environnement ne sont fournies, le mode d'authentification Windows est employé pour se connecter.</span><span class="sxs-lookup"><span data-stu-id="33f11-649">If neither options nor environment variables are provided, Windows Authentication mode is used to login.</span></span> <span data-ttu-id="33f11-650">Par exemple, pour établir une connexion à une instance, `instance1`, de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], `myserver`, en utilisant à la sécurité intégrée, vous devez utiliser ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="33f11-650">For example to connect to an instance, `instance1`, of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], `myserver`, by using integrated security you would use the following:</span></span>  
  
 `:connect myserver\instance1`  
  
 <span data-ttu-id="33f11-651">Pour établir une connexion à l'instance par défaut de `myserver` en utilisant des variables de script, utilisez ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="33f11-651">To connect to the default instance of `myserver` using scripting variables, you would use the following:</span></span>  
  
 `:setvar myusername test`  
  
 `:setvar myservername myserver`  
  
 `:connect $(myservername) $(myusername)`  
  
 <span data-ttu-id="33f11-652">[**:**] **!!**\< *command*></span><span class="sxs-lookup"><span data-stu-id="33f11-652">[**:**] **!!**\< *command*></span></span>  
 <span data-ttu-id="33f11-653">Exécute des commandes du système d'exploitation.</span><span class="sxs-lookup"><span data-stu-id="33f11-653">Executes operating system commands.</span></span> <span data-ttu-id="33f11-654">Pour exécuter une commande du système d’exploitation, commencez une ligne par deux points d’exclamation ( **!!** ) suivis de la commande du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="33f11-654">To execute an operating system command, start a line with two exclamation marks (**!!**) followed by the operating system command.</span></span> <span data-ttu-id="33f11-655">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="33f11-655">For example:</span></span>  
  
 `:!! Dir`  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-656">La commande est exécutée sur l'ordinateur sur lequel `sqlcmd` s'exécute.</span><span class="sxs-lookup"><span data-stu-id="33f11-656">The command is executed on the computer on which `sqlcmd` is running.</span></span>  
  
 <span data-ttu-id="33f11-657">**:XML** [**ON** | **OFF**]</span><span class="sxs-lookup"><span data-stu-id="33f11-657">**:XML** [**ON** | **OFF**]</span></span>  
 <span data-ttu-id="33f11-658">Pour plus d'informations, consultez « Format de sortie XML », plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="33f11-658">For more information, see "XML Output Format," later in this topic</span></span>  
  
 <span data-ttu-id="33f11-659">**:Help**</span><span class="sxs-lookup"><span data-stu-id="33f11-659">**:Help**</span></span>  
 <span data-ttu-id="33f11-660">Répertorie les commandes `sqlcmd` avec une brève description de chaque commande.</span><span class="sxs-lookup"><span data-stu-id="33f11-660">Lists `sqlcmd` commands together with a short description of each command.</span></span>  
  
### <a name="sqlcmd-file-names"></a><span data-ttu-id="33f11-661">Noms de fichiers sqlcmd</span><span class="sxs-lookup"><span data-stu-id="33f11-661">sqlcmd File Names</span></span>  
 <span data-ttu-id="33f11-662">`sqlcmd`les fichiers d’entrée peuvent être spécifiés avec l’option **-i** ou la commande **: r** .</span><span class="sxs-lookup"><span data-stu-id="33f11-662">`sqlcmd` input files can be specified with the **-i** option or the **:r** command.</span></span> <span data-ttu-id="33f11-663">Les fichiers de sortie peuvent être spécifiés avec l’option **-o** ou les commandes **:Error**, **:Out** et **:Perftrace** .</span><span class="sxs-lookup"><span data-stu-id="33f11-663">Output files can be specified with the **-o** option or the **:Error**, **:Out** and **:Perftrace** commands.</span></span> <span data-ttu-id="33f11-664">Voici quelques consignes relatives à l'utilisation de ces fichiers :</span><span class="sxs-lookup"><span data-stu-id="33f11-664">The following are some guidelines for working with these files:</span></span>  
  
-   <span data-ttu-id="33f11-665">**: Erreur**, **: out** et **:P erftrace** doivent utiliser un distinct **<*`filename`*>** .</span><span class="sxs-lookup"><span data-stu-id="33f11-665">**:Error**, **:Out** and **:Perftrace** should use separate **<*`filename`*>**.</span></span> <span data-ttu-id="33f11-666">Si le même **<*`filename`*>** est utilisé, les entrées des commandes peuvent être mélangées.</span><span class="sxs-lookup"><span data-stu-id="33f11-666">If the same **<*`filename`*>** is used, inputs from the commands may be intermixed.</span></span>  
  
-   <span data-ttu-id="33f11-667">Si un fichier d'entrée situé sur un serveur distant est appelé à partir de `sqlcmd` sur un ordinateur local et s'il contient un chemin d'accès de fichier sur un lecteur tel que :out c:\OutputFile.txt,</span><span class="sxs-lookup"><span data-stu-id="33f11-667">If an input file that is located on a remote server is called from `sqlcmd` on a local computer and the file contains a drive file path such as :out c:\OutputFile.txt.</span></span> <span data-ttu-id="33f11-668">ce fichier de sortie sera créé sur l'ordinateur local et non sur le serveur distant.</span><span class="sxs-lookup"><span data-stu-id="33f11-668">The output file will be created on the local computer and not on the remote server.</span></span>  
  
-   <span data-ttu-id="33f11-669">Les chemins d’accès de fichier valides sont les suivants : C : \\ **<*`filename`*>** , \\ \\<Server \> \\<share $>\\ **<*`filename`*>** et « C:\Some Folder \\ **<*`file name`*>** ».</span><span class="sxs-lookup"><span data-stu-id="33f11-669">Valid file paths include: C:\\**<*`filename`*>**, \\\\<Server\>\\<Share$>\\**<*`filename`*>** and "C:\Some Folder\\**<*`file name`*>**".</span></span> <span data-ttu-id="33f11-670">Si le chemin d'accès comporte un espace, utilisez des guillemets.</span><span class="sxs-lookup"><span data-stu-id="33f11-670">If there is a space in the path, use quotation marks.</span></span>  
  
-   <span data-ttu-id="33f11-671">Chaque nouvelle session `sqlcmd` remplace les fichiers existants qui ont des noms identiques.</span><span class="sxs-lookup"><span data-stu-id="33f11-671">Each new `sqlcmd` session will overwrite existing files that have the same names.</span></span>  
  
### <a name="informational-messages"></a><span data-ttu-id="33f11-672">Messages d'information</span><span class="sxs-lookup"><span data-stu-id="33f11-672">Informational Messages</span></span>  
 <span data-ttu-id="33f11-673">`sqlcmd` imprime les messages d'information envoyés par le serveur.</span><span class="sxs-lookup"><span data-stu-id="33f11-673">`sqlcmd` prints any informational message that are sent by the server.</span></span> <span data-ttu-id="33f11-674">Dans l'exemple suivant, après l'exécution des instructions [!INCLUDE[tsql](../includes/tsql-md.md)] , un message d'information est imprimé.</span><span class="sxs-lookup"><span data-stu-id="33f11-674">In the following example, after the [!INCLUDE[tsql](../includes/tsql-md.md)] statements are executed, an informational message is printed.</span></span>  
  
 <span data-ttu-id="33f11-675">À l'invite de commandes, tapez :</span><span class="sxs-lookup"><span data-stu-id="33f11-675">At the command prompt, type the following:</span></span>  
  
 `sqlcmd`  
  
 `At the sqlcmd prompt type:`  
  
 `USE AdventureWorks2012;`  
  
 `GO`  
  
 <span data-ttu-id="33f11-676">Lorsque vous appuyez sur ENTRÉE, le message d'information suivant s'affiche : « Le contexte de la base de données a changé ; il est maintenant 'AdventureWorks2012'. »</span><span class="sxs-lookup"><span data-stu-id="33f11-676">When you press ENTER, the following informational message is printed: "Changed database context to 'AdventureWorks2012'."</span></span>  
  
### <a name="output-format-from-transact-sql-queries"></a><span data-ttu-id="33f11-677">Format de sortie des requêtes Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="33f11-677">Output Format from Transact-SQL Queries</span></span>  
 <span data-ttu-id="33f11-678">`sqlcmd` imprime tout d'abord un en-tête de colonne qui contient les noms de colonne spécifiés dans la liste de sélection.</span><span class="sxs-lookup"><span data-stu-id="33f11-678">`sqlcmd` first prints a column header that contains the column names specified in the select list.</span></span> <span data-ttu-id="33f11-679">Les noms de colonne sont séparés avec le caractère SQLCMDCOLSEP.</span><span class="sxs-lookup"><span data-stu-id="33f11-679">The column names are separated by using the SQLCMDCOLSEP character.</span></span> <span data-ttu-id="33f11-680">Par défaut, il s'agit d'un espace.</span><span class="sxs-lookup"><span data-stu-id="33f11-680">By default, this is a space.</span></span> <span data-ttu-id="33f11-681">Si le nom de colonne est plus court que la largeur de colonne, la sortie est complétée avec des espaces jusqu'à la colonne suivante.</span><span class="sxs-lookup"><span data-stu-id="33f11-681">If the column name is shorter than the column width, the output is padded with spaces up to the next column.</span></span>  
  
 <span data-ttu-id="33f11-682">Cette ligne est suivie d'un séparateur de ligne qui correspond à une série de tirets.</span><span class="sxs-lookup"><span data-stu-id="33f11-682">This line will be followed by a separator line that is a series of dash characters.</span></span> <span data-ttu-id="33f11-683">La sortie suivante constitue un exemple.</span><span class="sxs-lookup"><span data-stu-id="33f11-683">The following output shows an example.</span></span>  
  
 <span data-ttu-id="33f11-684">Démarrez `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="33f11-684">Start `sqlcmd`.</span></span> <span data-ttu-id="33f11-685">À l'invite de commandes `sqlcmd`, tapez :</span><span class="sxs-lookup"><span data-stu-id="33f11-685">At the `sqlcmd` command prompt, type the following:</span></span>  
  
 `USE AdventureWorks2012;`  
  
 `SELECT TOP (2) BusinessEntityID, FirstName, LastName`  
  
 `FROM Person.Person;`  
  
 `GO`  
  
 <span data-ttu-id="33f11-686">Lorsque vous appuyez sur ENTRÉE, le jeu de résultats suivant est retourné.</span><span class="sxs-lookup"><span data-stu-id="33f11-686">When you press ENTER, the following result set is returned.</span></span>  
  
 `BusinessEntityID FirstName    LastName`  
  
 `---------------- ------------ ----------`  
  
 `285              Syed         Abbas`  
  
 `293              Catherine    Abel`  
  
 `(2 row(s) affected)`  
  
 <span data-ttu-id="33f11-687">Bien que la colonne `BusinessEntityID` ne possède que 4 caractères de large, elle a été étendue pour contenir le nom de colonne plus long.</span><span class="sxs-lookup"><span data-stu-id="33f11-687">Although the `BusinessEntityID` column is only 4 characters wide, it has been expanded to accommodate the longer column name.</span></span> <span data-ttu-id="33f11-688">Par défaut, la sortie se termine à 80 caractères.</span><span class="sxs-lookup"><span data-stu-id="33f11-688">By default, output is terminated at 80 characters.</span></span> <span data-ttu-id="33f11-689">Vous pouvez modifier ceci en utilisant l’option **-w** ou en définissant la variable de script SQLCMDCOLWIDTH.</span><span class="sxs-lookup"><span data-stu-id="33f11-689">This can be changed by using the **-w** option, or by setting the SQLCMDCOLWIDTH scripting variable.</span></span>  
  
### <a name="xml-output-format"></a><span data-ttu-id="33f11-690">Format de sortie XML</span><span class="sxs-lookup"><span data-stu-id="33f11-690">XML Output Format</span></span>  
 <span data-ttu-id="33f11-691">La sortie XML qui est le résultat d'une clause FOR XML est générée, sans mise en forme, dans un flux continu.</span><span class="sxs-lookup"><span data-stu-id="33f11-691">XML output that is the result of a FOR XML clause is output, unformatted, in a continuous stream.</span></span>  
  
 <span data-ttu-id="33f11-692">Lorsque vous attendez une sortie XML, utilisez la commande suivante : `:XML ON`.</span><span class="sxs-lookup"><span data-stu-id="33f11-692">When you expect XML output, use the following command: `:XML ON`.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-693">`sqlcmd` retourne des messages d'erreur au format habituel.</span><span class="sxs-lookup"><span data-stu-id="33f11-693">`sqlcmd` returns error messages in the usual format.</span></span> <span data-ttu-id="33f11-694">Notez que les messages d'erreur sont également une sortie dans le flux de texte XML au format XML.</span><span class="sxs-lookup"><span data-stu-id="33f11-694">Notice that the error messages are also output in the XML text stream in XML format.</span></span> <span data-ttu-id="33f11-695">Avec `:XML ON`, `sqlcmd` n'affiche aucun message d'information.</span><span class="sxs-lookup"><span data-stu-id="33f11-695">By using `:XML ON`, `sqlcmd` does not display informational messages.</span></span>  
  
 <span data-ttu-id="33f11-696">Pour désactiver le mode XML, utilisez la commande suivante : `:XML OFF`</span><span class="sxs-lookup"><span data-stu-id="33f11-696">To set the XML mode off, use the following command: `:XML OFF`.</span></span>  
  
 <span data-ttu-id="33f11-697">La commande GO ne doit pas apparaître avant la commande XML OFF, car cette dernière remet `sqlcmd` en sortie orientée ligne.</span><span class="sxs-lookup"><span data-stu-id="33f11-697">The GO command should not appear before the XML OFF command is issued because the XML OFF command switches `sqlcmd` back to row-oriented output.</span></span>  
  
 <span data-ttu-id="33f11-698">Les données XML (diffusées en continu) et les données d'ensemble de lignes ne peuvent être mélangées.</span><span class="sxs-lookup"><span data-stu-id="33f11-698">XML (streamed) data and rowset data cannot be mixed.</span></span> <span data-ttu-id="33f11-699">Si la commande XML ON n'a pas été émise avant l'exécution d'une instruction [!INCLUDE[tsql](../includes/tsql-md.md)] qui génère des flux XML, la sortie est incohérente.</span><span class="sxs-lookup"><span data-stu-id="33f11-699">If the XML ON command has not been issued before a [!INCLUDE[tsql](../includes/tsql-md.md)] statement that outputs XML streams is executed, the output will be garbled.</span></span> <span data-ttu-id="33f11-700">Si la commande XML ON a été émise, vous ne pouvez pas exécuter des instructions [!INCLUDE[tsql](../includes/tsql-md.md)] qui produisent des ensembles de lignes réguliers.</span><span class="sxs-lookup"><span data-stu-id="33f11-700">If the XML ON command has been issued, you cannot execute [!INCLUDE[tsql](../includes/tsql-md.md)] statements that output regular row sets.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33f11-701">La commande **:XML** ne prend pas en charge l’instruction SET STATISTICS XML.</span><span class="sxs-lookup"><span data-stu-id="33f11-701">The **:XML** command does not support the SET STATISTICS XML statement.</span></span>  
  
## <a name="sqlcmd-best-practices"></a><span data-ttu-id="33f11-702">Méthodes conseillées sqlcmd</span><span class="sxs-lookup"><span data-stu-id="33f11-702">sqlcmd Best Practices</span></span>  
 <span data-ttu-id="33f11-703">Utilisez les méthodes suivantes pour optimiser la sécurité et l'efficacité.</span><span class="sxs-lookup"><span data-stu-id="33f11-703">Use the following practices to help maximize security and efficiency.</span></span>  
  
-   <span data-ttu-id="33f11-704">Utilisez la sécurité intégrée.</span><span class="sxs-lookup"><span data-stu-id="33f11-704">Use integrated security.</span></span>  
  
-   <span data-ttu-id="33f11-705">Utilisez `-X` dans des environnements automatisés.</span><span class="sxs-lookup"><span data-stu-id="33f11-705">Use `-X` in automated environments.</span></span>  
  
-   <span data-ttu-id="33f11-706">Protégez les fichiers d'entrée et de sortie à l'aide des autorisations appropriées du système de fichiers NTFS.</span><span class="sxs-lookup"><span data-stu-id="33f11-706">Secure input and output files by using appropriate NTFS file system permissions.</span></span>  
  
-   <span data-ttu-id="33f11-707">Pour accroître les performances, effectuez autant d'opérations que possible au sein d'une session `sqlcmd` au lieu de recourir à une série de sessions.</span><span class="sxs-lookup"><span data-stu-id="33f11-707">To increase performance, do as much in one `sqlcmd` session as you can, instead of in a series of sessions.</span></span>  
  
-   <span data-ttu-id="33f11-708">Pour l'exécution de requête ou de traitement, définissez des valeurs de délai supérieures à la durée que vous prévoyez pour l'exécution du traitement ou de la requête.</span><span class="sxs-lookup"><span data-stu-id="33f11-708">Set time-out values for batch or query execution higher than you expect it will take to execute the batch or query.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="33f11-709">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="33f11-709">See Also</span></span>  
 <span data-ttu-id="33f11-710">[Démarrer l’utilitaire sqlcmd](../relational-databases/scripting/sqlcmd-start-the-utility.md) </span><span class="sxs-lookup"><span data-stu-id="33f11-710">[Start the sqlcmd Utility](../relational-databases/scripting/sqlcmd-start-the-utility.md) </span></span>  
 <span data-ttu-id="33f11-711">[Exécuter des fichiers de script Transact-SQL à l’aide de sqlcmd](../relational-databases/scripting/sqlcmd-run-transact-sql-script-files.md) </span><span class="sxs-lookup"><span data-stu-id="33f11-711">[Run Transact-SQL Script Files Using sqlcmd](../relational-databases/scripting/sqlcmd-run-transact-sql-script-files.md) </span></span>  
 <span data-ttu-id="33f11-712">[Utiliser l’utilitaire sqlcmd](../relational-databases/scripting/sqlcmd-use-the-utility.md) </span><span class="sxs-lookup"><span data-stu-id="33f11-712">[Use the sqlcmd Utility](../relational-databases/scripting/sqlcmd-use-the-utility.md) </span></span>  
 <span data-ttu-id="33f11-713">[Utiliser sqlcmd avec des variables de script](../relational-databases/scripting/sqlcmd-use-with-scripting-variables.md) </span><span class="sxs-lookup"><span data-stu-id="33f11-713">[Use sqlcmd with Scripting Variables](../relational-databases/scripting/sqlcmd-use-with-scripting-variables.md) </span></span>  
 <span data-ttu-id="33f11-714">[Se connecter au moteur de base de données avec sqlcmd](../relational-databases/scripting/sqlcmd-connect-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="33f11-714">[Connect to the Database Engine With sqlcmd](../relational-databases/scripting/sqlcmd-connect-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="33f11-715">[Modifier des scripts SQLCMD à l'aide de l'Éditeur de requête](../relational-databases/scripting/edit-sqlcmd-scripts-with-query-editor.md) </span><span class="sxs-lookup"><span data-stu-id="33f11-715">[Edit SQLCMD Scripts with Query Editor](../relational-databases/scripting/edit-sqlcmd-scripts-with-query-editor.md) </span></span>  
 <span data-ttu-id="33f11-716">[Gérer les étapes de travail](../ssms/agent/manage-job-steps.md) </span><span class="sxs-lookup"><span data-stu-id="33f11-716">[Manage Job Steps](../ssms/agent/manage-job-steps.md) </span></span>  
 [<span data-ttu-id="33f11-717">Créer une étape de travail CmdExec</span><span class="sxs-lookup"><span data-stu-id="33f11-717">Create a CmdExec Job Step</span></span>](../ssms/agent/create-a-cmdexec-job-step.md)  
  
  
